(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory(require("angular"), require("lodash"));
	else if(typeof define === 'function' && define.amd)
		define(["angular", "lodash"], factory);
	else if(typeof exports === 'object')
		exports["angular-point"] = factory(require("angular"), require("lodash"));
	else
		root["angular-point"] = factory(root["angular"], root["lodash"]);
})(this, function(__WEBPACK_EXTERNAL_MODULE_37__, __WEBPACK_EXTERNAL_MODULE_0__) {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;
/******/
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// identity function for calling harmory imports with the correct context
/******/ 	__webpack_require__.i = function(value) { return value; };
/******/
/******/ 	// define getter function for harmory exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		Object.defineProperty(exports, name, {
/******/ 			configurable: false,
/******/ 			enumerable: true,
/******/ 			get: getter
/******/ 		});
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "/";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 1);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ function(module, exports) {

module.exports = require("lodash");

/***/ },
/* 1 */
/***/ function(module, exports, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_angular__ = __webpack_require__(37);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_angular___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_angular__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__constants_apDefaultFields__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__constants_apDefaultListItemQueryOptions__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__constants_apPermissionObject__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__constants_apWebServiceOperationConstants__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__constants_apXMLFieldAttributeTypes__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__constants_apXMLListAttributeTypes__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__factories_apCamlFactory__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__factories_apFieldFactory__ = __webpack_require__(12);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__factories_apIndexedCacheFactory__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__factories_apListItemFactory__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__factories_apModelFactory__ = __webpack_require__(15);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__factories_apListItemVersionFactory__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__factories_apLookupFactory__ = __webpack_require__(14);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__factories_apQueryFactory__ = __webpack_require__(16);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__factories_apUserFactory__ = __webpack_require__(17);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__models_apUserModel__ = __webpack_require__(18);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__services_apCacheService__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18__services_apChangeService__ = __webpack_require__(20);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_19__services_apDataService__ = __webpack_require__(21);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_20__services_apDecodeService__ = __webpack_require__(22);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_21__services_apEncodeService__ = __webpack_require__(23);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_22__services_apExceptionHandlerService__ = __webpack_require__(24);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_23__services_apExportService__ = __webpack_require__(25);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_24__services_apFieldService__ = __webpack_require__(26);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_25__services_apFormattedFieldValueService__ = __webpack_require__(27);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_26__services_apSPServices__ = __webpack_require__(29);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_27__services_apLogger__ = __webpack_require__(28);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_28__services_apUtilityService__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_29__services_apWebServiceService__ = __webpack_require__(30);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_30__services_apXMLToJSONService__ = __webpack_require__(31);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_31__constants__ = __webpack_require__(33);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_32__factories__ = __webpack_require__(34);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_33__models__ = __webpack_require__(35);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_34__services__ = __webpack_require__(36);
/* harmony export (binding) */ __webpack_require__.d(exports, "$AP_INJECTOR", function() { return $AP_INJECTOR; });
/* harmony export (binding) */ __webpack_require__.d(exports, "AngularPointModule", function() { return AngularPointModule; });
/* harmony export (binding) */ __webpack_require__.d(exports, "ENV", function() { return ENV; });
/* harmony export (immutable) */ exports["registerEnvironment"] = registerEnvironment;
/* harmony namespace reexport (by provided) */ __webpack_require__.d(exports, "DefaultFields", function() { return __WEBPACK_IMPORTED_MODULE_31__constants__["a"]; });
/* harmony namespace reexport (by provided) */ __webpack_require__.d(exports, "DefaultListItemQueryOptions", function() { return __WEBPACK_IMPORTED_MODULE_31__constants__["b"]; });
/* harmony namespace reexport (by provided) */ __webpack_require__.d(exports, "BasePermissionObject", function() { return __WEBPACK_IMPORTED_MODULE_31__constants__["c"]; });
/* harmony namespace reexport (by provided) */ __webpack_require__.d(exports, "WebServiceOperationConstants", function() { return __WEBPACK_IMPORTED_MODULE_31__constants__["d"]; });
/* harmony namespace reexport (by provided) */ __webpack_require__.d(exports, "XMLFieldAttributeTypes", function() { return __WEBPACK_IMPORTED_MODULE_31__constants__["e"]; });
/* harmony namespace reexport (by provided) */ __webpack_require__.d(exports, "XMLListAttributeTypes", function() { return __WEBPACK_IMPORTED_MODULE_31__constants__["f"]; });
/* harmony namespace reexport (by provided) */ __webpack_require__.d(exports, "CamlFactory", function() { return __WEBPACK_IMPORTED_MODULE_32__factories__["a"]; });
/* harmony namespace reexport (by provided) */ __webpack_require__.d(exports, "FieldDefinition", function() { return __WEBPACK_IMPORTED_MODULE_32__factories__["b"]; });
/* harmony namespace reexport (by provided) */ __webpack_require__.d(exports, "FieldFactory", function() { return __WEBPACK_IMPORTED_MODULE_32__factories__["c"]; });
/* harmony namespace reexport (by provided) */ __webpack_require__.d(exports, "IndexedCache", function() { return __WEBPACK_IMPORTED_MODULE_32__factories__["d"]; });
/* harmony namespace reexport (by provided) */ __webpack_require__.d(exports, "IndexedCacheFactory", function() { return __WEBPACK_IMPORTED_MODULE_32__factories__["e"]; });
/* harmony namespace reexport (by provided) */ __webpack_require__.d(exports, "ListItem", function() { return __WEBPACK_IMPORTED_MODULE_32__factories__["f"]; });
/* harmony namespace reexport (by provided) */ __webpack_require__.d(exports, "StandardListItem", function() { return __WEBPACK_IMPORTED_MODULE_32__factories__["g"]; });
/* harmony namespace reexport (by provided) */ __webpack_require__.d(exports, "ListItemFactory", function() { return __WEBPACK_IMPORTED_MODULE_32__factories__["h"]; });
/* harmony namespace reexport (by provided) */ __webpack_require__.d(exports, "FieldVersionCollection", function() { return __WEBPACK_IMPORTED_MODULE_32__factories__["i"]; });
/* harmony namespace reexport (by provided) */ __webpack_require__.d(exports, "FieldChangeSummary", function() { return __WEBPACK_IMPORTED_MODULE_32__factories__["j"]; });
/* harmony namespace reexport (by provided) */ __webpack_require__.d(exports, "VersionSummary", function() { return __WEBPACK_IMPORTED_MODULE_32__factories__["k"]; });
/* harmony namespace reexport (by provided) */ __webpack_require__.d(exports, "ChangeSummary", function() { return __WEBPACK_IMPORTED_MODULE_32__factories__["l"]; });
/* harmony namespace reexport (by provided) */ __webpack_require__.d(exports, "VersionHistoryCollection", function() { return __WEBPACK_IMPORTED_MODULE_32__factories__["m"]; });
/* harmony namespace reexport (by provided) */ __webpack_require__.d(exports, "ListItemVersionFactory", function() { return __WEBPACK_IMPORTED_MODULE_32__factories__["n"]; });
/* harmony namespace reexport (by provided) */ __webpack_require__.d(exports, "Lookup", function() { return __WEBPACK_IMPORTED_MODULE_32__factories__["o"]; });
/* harmony namespace reexport (by provided) */ __webpack_require__.d(exports, "LookupFactory", function() { return __WEBPACK_IMPORTED_MODULE_32__factories__["p"]; });
/* harmony namespace reexport (by provided) */ __webpack_require__.d(exports, "Model", function() { return __WEBPACK_IMPORTED_MODULE_32__factories__["q"]; });
/* harmony namespace reexport (by provided) */ __webpack_require__.d(exports, "ModelFactory", function() { return __WEBPACK_IMPORTED_MODULE_32__factories__["r"]; });
/* harmony namespace reexport (by provided) */ __webpack_require__.d(exports, "LocalStorageQuery", function() { return __WEBPACK_IMPORTED_MODULE_32__factories__["s"]; });
/* harmony namespace reexport (by provided) */ __webpack_require__.d(exports, "Query", function() { return __WEBPACK_IMPORTED_MODULE_32__factories__["t"]; });
/* harmony namespace reexport (by provided) */ __webpack_require__.d(exports, "QueryFactory", function() { return __WEBPACK_IMPORTED_MODULE_32__factories__["u"]; });
/* harmony namespace reexport (by provided) */ __webpack_require__.d(exports, "UserFactory", function() { return __WEBPACK_IMPORTED_MODULE_32__factories__["v"]; });
/* harmony namespace reexport (by provided) */ __webpack_require__.d(exports, "List", function() { return __WEBPACK_IMPORTED_MODULE_32__factories__["w"]; });
/* harmony namespace reexport (by provided) */ __webpack_require__.d(exports, "ListFactory", function() { return __WEBPACK_IMPORTED_MODULE_32__factories__["x"]; });
/* harmony namespace reexport (by provided) */ __webpack_require__.d(exports, "UserModel", function() { return __WEBPACK_IMPORTED_MODULE_33__models__["a"]; });
/* harmony namespace reexport (by provided) */ __webpack_require__.d(exports, "EntityContainer", function() { return __WEBPACK_IMPORTED_MODULE_34__services__["a"]; });
/* harmony namespace reexport (by provided) */ __webpack_require__.d(exports, "ModelCache", function() { return __WEBPACK_IMPORTED_MODULE_34__services__["b"]; });
/* harmony namespace reexport (by provided) */ __webpack_require__.d(exports, "CacheService", function() { return __WEBPACK_IMPORTED_MODULE_34__services__["c"]; });
/* harmony namespace reexport (by provided) */ __webpack_require__.d(exports, "ChangeService", function() { return __WEBPACK_IMPORTED_MODULE_34__services__["d"]; });
/* harmony namespace reexport (by provided) */ __webpack_require__.d(exports, "DataService", function() { return __WEBPACK_IMPORTED_MODULE_34__services__["e"]; });
/* harmony namespace reexport (by provided) */ __webpack_require__.d(exports, "DecodeService", function() { return __WEBPACK_IMPORTED_MODULE_34__services__["f"]; });
/* harmony namespace reexport (by provided) */ __webpack_require__.d(exports, "EncodeService", function() { return __WEBPACK_IMPORTED_MODULE_34__services__["g"]; });
/* harmony namespace reexport (by provided) */ __webpack_require__.d(exports, "exceptionLoggingService", function() { return __WEBPACK_IMPORTED_MODULE_34__services__["h"]; });
/* harmony namespace reexport (by provided) */ __webpack_require__.d(exports, "ExportService", function() { return __WEBPACK_IMPORTED_MODULE_34__services__["i"]; });
/* harmony namespace reexport (by provided) */ __webpack_require__.d(exports, "FieldService", function() { return __WEBPACK_IMPORTED_MODULE_34__services__["j"]; });
/* harmony namespace reexport (by provided) */ __webpack_require__.d(exports, "FormattedFieldValueService", function() { return __WEBPACK_IMPORTED_MODULE_34__services__["k"]; });
/* harmony namespace reexport (by provided) */ __webpack_require__.d(exports, "Logger", function() { return __WEBPACK_IMPORTED_MODULE_34__services__["l"]; });
/* harmony namespace reexport (by provided) */ __webpack_require__.d(exports, "SOAPEnvelope", function() { return __WEBPACK_IMPORTED_MODULE_34__services__["m"]; });
/* harmony namespace reexport (by provided) */ __webpack_require__.d(exports, "SPServicesCore", function() { return __WEBPACK_IMPORTED_MODULE_34__services__["n"]; });
/* harmony namespace reexport (by provided) */ __webpack_require__.d(exports, "UtilityService", function() { return __WEBPACK_IMPORTED_MODULE_34__services__["o"]; });
/* harmony namespace reexport (by provided) */ __webpack_require__.d(exports, "isGuid", function() { return __WEBPACK_IMPORTED_MODULE_34__services__["p"]; });
/* harmony namespace reexport (by provided) */ __webpack_require__.d(exports, "isDefined", function() { return __WEBPACK_IMPORTED_MODULE_34__services__["q"]; });
/* harmony namespace reexport (by provided) */ __webpack_require__.d(exports, "WebServiceService", function() { return __WEBPACK_IMPORTED_MODULE_34__services__["r"]; });
/* harmony namespace reexport (by provided) */ __webpack_require__.d(exports, "XMLToJSONService", function() { return __WEBPACK_IMPORTED_MODULE_34__services__["s"]; });



































var $AP_INJECTOR;
/**
 * @ngdoc overview
 * @module
 * @name angularPoint
 * @description
 * This is the primary angularPoint module and needs to be listed in your app.js dependencies to gain use of AngularPoint
 * functionality in your project.
 * @installModule
 */
var AngularPointModule = __WEBPACK_IMPORTED_MODULE_0_angular__["module"]('angularPoint', [])
    .constant('apDefaultFields', __WEBPACK_IMPORTED_MODULE_1__constants_apDefaultFields__["a" /* DefaultFields */])
    .constant('apDefaultListItemQueryOptions', __WEBPACK_IMPORTED_MODULE_2__constants_apDefaultListItemQueryOptions__["a" /* DefaultListItemQueryOptions */])
    .constant('apBasePermissionObject', __WEBPACK_IMPORTED_MODULE_3__constants_apPermissionObject__["a" /* BasePermissionObject */])
    .constant('apWebServiceOperationConstants', __WEBPACK_IMPORTED_MODULE_4__constants_apWebServiceOperationConstants__["a" /* WebServiceOperationConstants */])
    .constant('apXMLFieldAttributeTypes', __WEBPACK_IMPORTED_MODULE_5__constants_apXMLFieldAttributeTypes__["a" /* XMLFieldAttributeTypes */])
    .constant('apXMLListAttributeTypes', __WEBPACK_IMPORTED_MODULE_6__constants_apXMLListAttributeTypes__["a" /* XMLListAttributeTypes */])
    .service('apCamlFactory', __WEBPACK_IMPORTED_MODULE_7__factories_apCamlFactory__["a" /* CamlFactory */])
    .service('apFieldFactory', __WEBPACK_IMPORTED_MODULE_8__factories_apFieldFactory__["b" /* FieldFactory */])
    .service('apIndexedCacheFactory', __WEBPACK_IMPORTED_MODULE_9__factories_apIndexedCacheFactory__["b" /* IndexedCacheFactory */])
    .service('apListFactory', __WEBPACK_IMPORTED_MODULE_10__factories_apListItemFactory__["c" /* ListItemFactory */])
    .service('apListItemFactory', __WEBPACK_IMPORTED_MODULE_10__factories_apListItemFactory__["c" /* ListItemFactory */])
    .service('apListItemVersionFactory', __WEBPACK_IMPORTED_MODULE_12__factories_apListItemVersionFactory__["f" /* ListItemVersionFactory */])
    .service('apLookupFactory', __WEBPACK_IMPORTED_MODULE_13__factories_apLookupFactory__["b" /* LookupFactory */])
    .service('apModelFactory', __WEBPACK_IMPORTED_MODULE_11__factories_apModelFactory__["b" /* ModelFactory */])
    .service('apQueryFactory', __WEBPACK_IMPORTED_MODULE_14__factories_apQueryFactory__["c" /* QueryFactory */])
    .service('apUserFactory', __WEBPACK_IMPORTED_MODULE_15__factories_apUserFactory__["a" /* UserFactory */])
    .service('apUserModel', __WEBPACK_IMPORTED_MODULE_16__models_apUserModel__["a" /* UserModel */])
    .service('apCacheService', __WEBPACK_IMPORTED_MODULE_17__services_apCacheService__["c" /* CacheService */])
    .service('apChangeService', __WEBPACK_IMPORTED_MODULE_18__services_apChangeService__["a" /* ChangeService */])
    .service('apDataService', __WEBPACK_IMPORTED_MODULE_19__services_apDataService__["a" /* DataService */])
    .service('apDecodeService', __WEBPACK_IMPORTED_MODULE_20__services_apDecodeService__["a" /* DecodeService */])
    .service('apEncodeService', __WEBPACK_IMPORTED_MODULE_21__services_apEncodeService__["a" /* EncodeService */])
    .factory('$exceptionHandler', __WEBPACK_IMPORTED_MODULE_22__services_apExceptionHandlerService__["a" /* exceptionLoggingService */])
    .service('apExportService', __WEBPACK_IMPORTED_MODULE_23__services_apExportService__["a" /* ExportService */])
    .service('apFieldService', __WEBPACK_IMPORTED_MODULE_24__services_apFieldService__["a" /* FieldService */])
    .service('apFormattedFieldValueService', __WEBPACK_IMPORTED_MODULE_25__services_apFormattedFieldValueService__["a" /* FormattedFieldValueService */])
    .service('apLogger', __WEBPACK_IMPORTED_MODULE_27__services_apLogger__["a" /* Logger */])
    .factory('SPServices', __WEBPACK_IMPORTED_MODULE_26__services_apSPServices__["b" /* SPServicesCore */])
    .service('apUtilityService', __WEBPACK_IMPORTED_MODULE_28__services_apUtilityService__["b" /* UtilityService */])
    .service('apWebServiceService', __WEBPACK_IMPORTED_MODULE_29__services_apWebServiceService__["a" /* WebServiceService */])
    .service('apXMLToJSONService', __WEBPACK_IMPORTED_MODULE_30__services_apXMLToJSONService__["a" /* XMLToJSONService */])
    .run(['$injector', 'apListItemFactory', 'apModelFactory', function ($injector, apListItemFactory, apModelFactory) {
        // Expose angular $injector for use by the entire application
        $AP_INJECTOR = $injector;
    }]);
var ENV;
function registerEnvironment(env) {
    ENV = env;
}


/***/ },
/* 2 */
/***/ function(module, exports, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(exports, "a", function() { return BasePermissionObject; });
var BasePermissionObject = (function () {
    function BasePermissionObject() {
        this.AddAndCustomizePages = false;
        this.AddDelPrivateWebParts = false;
        this.AddListItems = false;
        this.ApplyStyleSheets = false;
        this.ApplyThemeAndBorder = false;
        this.ApproveItems = false;
        this.BrowseDirectories = false;
        this.BrowseUserInfo = false;
        this.CancelCheckout = false;
        this.CreateAlerts = false;
        this.CreateGroups = false;
        this.CreateSSCSite = false;
        this.DeleteListItems = false;
        this.DeleteVersions = false;
        this.EditListItems = false;
        this.EditMyUserInfo = false;
        this.EnumeratePermissions = false;
        this.FullMask = false;
        this.ManageAlerts = false;
        this.ManageLists = false;
        this.ManagePermissions = false;
        this.ManageSubwebs = false;
        this.ManageWeb = false;
        this.Open = false;
        this.OpenItems = false;
        this.PersonalViews = false;
        this.UpdatePersonalWebParts = false;
        this.UseRemoteAPIs = false;
        this.ViewFormPages = false;
        this.ViewListItems = false;
        this.ViewPages = false;
        this.ViewUsageData = false;
        this.ViewVersions = false;
    }
    return BasePermissionObject;
}());



/***/ },
/* 3 */
/***/ function(module, exports, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(exports, "a", function() { return DefaultFields; });
/**
 * @ngdoc object
 * @name angularPoint.apDefaultFields
 * @description
 * Read only fields that should be included in all lists
 */
var DefaultFields = [
    { staticName: 'ID', objectType: 'Counter', mappedName: 'id', readOnly: true },
    { staticName: 'Modified', objectType: 'DateTime', mappedName: 'modified', readOnly: true },
    { staticName: 'Created', objectType: 'DateTime', mappedName: 'created', readOnly: true },
    { staticName: 'Author', objectType: 'User', mappedName: 'author', readOnly: true },
    { staticName: 'Editor', objectType: 'User', mappedName: 'editor', readOnly: true },
    { staticName: 'PermMask', objectType: 'Mask', mappedName: 'permMask', readOnly: true },
    { staticName: 'UniqueId', objectType: 'String', mappedName: 'uniqueId', readOnly: true },
    { staticName: 'FileRef', objectType: 'Lookup', mappedName: 'fileRef', readOnly: true }
];


/***/ },
/* 4 */
/***/ function(module, exports, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(exports, "a", function() { return DefaultListItemQueryOptions; });
var DefaultListItemQueryOptions = '' +
    '<QueryOptions>' +
    '   <IncludeMandatoryColumns>FALSE</IncludeMandatoryColumns>' +
    '   <IncludeAttachmentUrls>TRUE</IncludeAttachmentUrls>' +
    '   <IncludeAttachmentVersion>FALSE</IncludeAttachmentVersion>' +
    '   <ExpandUserField>FALSE</ExpandUserField>' +
    '</QueryOptions>';


/***/ },
/* 5 */
/***/ function(module, exports, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(exports, "a", function() { return WebServiceOperationConstants; });
var WebServiceOperationConstants = {
    GetAlerts: ['Alerts', false],
    DeleteAlerts: ['Alerts', true],
    Mode: ['Authentication', false],
    Login: ['Authentication', false],
    CopyIntoItems: ['Copy', true],
    CopyIntoItemsLocal: ['Copy', true],
    GetItem: ['Copy', false],
    GetForm: ['Forms', false],
    GetFormCollection: ['Forms', false],
    AddAttachment: ['Lists', true],
    AddDiscussionBoardItem: ['Lists', true],
    AddList: ['Lists', true],
    AddListFromFeature: ['Lists', true],
    ApplyContentTypeToList: ['Lists', true],
    CheckInFile: ['Lists', true],
    CheckOutFile: ['Lists', true],
    CreateContentType: ['Webs', true],
    DeleteAttachment: ['Lists', true],
    DeleteContentType: ['Lists', true],
    DeleteContentTypeXmlDocument: ['Lists', true],
    DeleteList: ['Lists', true],
    GetAttachmentCollection: ['Lists', false],
    GetList: ['Lists', false],
    GetListAndView: ['Lists', false],
    GetListCollection: ['Lists', false],
    GetListContentType: ['Lists', false],
    GetListContentTypes: ['Lists', false],
    GetListItemChanges: ['Lists', false],
    GetListItemChangesSinceToken: ['Lists', false],
    GetListItems: ['Lists', false],
    GetVersionCollection: ['Lists', false],
    UndoCheckOut: ['Lists', true],
    UpdateContentType: ['Webs', true],
    UpdateContentTypesXmlDocument: ['Lists', true],
    UpdateContentTypeXmlDocument: ['Lists', true],
    UpdateList: ['Lists', true],
    UpdateListItems: ['Lists', true],
    AddMeeting: ['Meetings', true],
    CreateWorkspace: ['Meetings', true],
    RemoveMeeting: ['Meetings', true],
    SetWorkSpaceTitle: ['Meetings', true],
    ResolvePrincipals: ['People', false],
    SearchPrincipals: ['People', false],
    AddPermission: ['Permissions', true],
    AddPermissionCollection: ['Permissions', true],
    GetPermissionCollection: ['Permissions', true],
    RemovePermission: ['Permissions', true],
    RemovePermissionCollection: ['Permissions', true],
    UpdatePermission: ['Permissions', true],
    GetLinks: ['PublishedLinksService', true],
    GetPortalSearchInfo: ['Search', false],
    GetQuerySuggestions: ['Search', false],
    GetSearchMetadata: ['Search', false],
    Query: ['Search', false],
    QueryEx: ['Search', false],
    Registration: ['Search', false],
    Status: ['Search', false],
    SendClientScriptErrorReport: ['SharePointDiagnostics', true],
    GetAttachments: ['SiteData', false],
    EnumerateFolder: ['SiteData', false],
    SiteDataGetList: ['SiteData', false],
    SiteDataGetListCollection: ['SiteData', false],
    SiteDataGetSite: ['SiteData', false],
    SiteDataGetSiteUrl: ['SiteData', false],
    SiteDataGetWeb: ['SiteData', false],
    CreateWeb: ['Sites', true],
    DeleteWeb: ['Sites', true],
    GetSite: ['Sites', false],
    GetSiteTemplates: ['Sites', false],
    AddComment: ['SocialDataService', true],
    AddTag: ['SocialDataService', true],
    AddTagByKeyword: ['SocialDataService', true],
    CountCommentsOfUser: ['SocialDataService', false],
    CountCommentsOfUserOnUrl: ['SocialDataService', false],
    CountCommentsOnUrl: ['SocialDataService', false],
    CountRatingsOnUrl: ['SocialDataService', false],
    CountTagsOfUser: ['SocialDataService', false],
    DeleteComment: ['SocialDataService', true],
    DeleteRating: ['SocialDataService', true],
    DeleteTag: ['SocialDataService', true],
    DeleteTagByKeyword: ['SocialDataService', true],
    DeleteTags: ['SocialDataService', true],
    GetAllTagTerms: ['SocialDataService', false],
    GetAllTagTermsForUrlFolder: ['SocialDataService', false],
    GetAllTagUrls: ['SocialDataService', false],
    GetAllTagUrlsByKeyword: ['SocialDataService', false],
    GetCommentsOfUser: ['SocialDataService', false],
    GetCommentsOfUserOnUrl: ['SocialDataService', false],
    GetCommentsOnUrl: ['SocialDataService', false],
    GetRatingAverageOnUrl: ['SocialDataService', false],
    GetRatingOfUserOnUrl: ['SocialDataService', false],
    GetRatingOnUrl: ['SocialDataService', false],
    GetRatingsOfUser: ['SocialDataService', false],
    GetRatingsOnUrl: ['SocialDataService', false],
    GetSocialDataForFullReplication: ['SocialDataService', false],
    GetTags: ['SocialDataService', true],
    GetTagsOfUser: ['SocialDataService', true],
    GetTagTerms: ['SocialDataService', true],
    GetTagTermsOfUser: ['SocialDataService', true],
    GetTagTermsOnUrl: ['SocialDataService', true],
    GetTagUrlsOfUser: ['SocialDataService', true],
    GetTagUrlsOfUserByKeyword: ['SocialDataService', true],
    GetTagUrls: ['SocialDataService', true],
    GetTagUrlsByKeyword: ['SocialDataService', true],
    SetRating: ['SocialDataService', true],
    UpdateComment: ['SocialDataService', true],
    SpellCheck: ['SpellCheck', false],
    AddTerms: ['TaxonomyClientService', true],
    GetChildTermsInTerm: ['TaxonomyClientService', false],
    GetChildTermsInTermSet: ['TaxonomyClientService', false],
    GetKeywordTermsByGuids: ['TaxonomyClientService', false],
    GetTermsByLabel: ['TaxonomyClientService', false],
    GetTermSets: ['TaxonomyClientService', false],
    AddGroup: ['usergroup', true],
    AddGroupToRole: ['usergroup', true],
    AddRole: ['usergroup', true],
    AddRoleDef: ['usergroup', true],
    AddUserCollectionToGroup: ['usergroup', true],
    AddUserCollectionToRole: ['usergroup', true],
    AddUserToGroup: ['usergroup', true],
    AddUserToRole: ['usergroup', true],
    GetAllUserCollectionFromWeb: ['usergroup', false],
    GetGroupCollection: ['usergroup', false],
    GetGroupCollectionFromRole: ['usergroup', false],
    GetGroupCollectionFromSite: ['usergroup', false],
    GetGroupCollectionFromUser: ['usergroup', false],
    GetGroupCollectionFromWeb: ['usergroup', false],
    GetGroupInfo: ['usergroup', false],
    GetRoleCollection: ['usergroup', false],
    GetRoleCollectionFromGroup: ['usergroup', false],
    GetRoleCollectionFromUser: ['usergroup', false],
    GetRoleCollectionFromWeb: ['usergroup', false],
    GetRoleInfo: ['usergroup', false],
    GetRolesAndPermissionsForCurrentUser: ['usergroup', false],
    GetRolesAndPermissionsForSite: ['usergroup', false],
    GetUserCollection: ['usergroup', false],
    GetUserCollectionFromGroup: ['usergroup', false],
    GetUserCollectionFromRole: ['usergroup', false],
    GetUserCollectionFromSite: ['usergroup', false],
    GetUserCollectionFromWeb: ['usergroup', false],
    GetUserInfo: ['usergroup', false],
    GetUserLoginFromEmail: ['usergroup', false],
    RemoveGroup: ['usergroup', true],
    RemoveGroupFromRole: ['usergroup', true],
    RemoveRole: ['usergroup', true],
    RemoveUserCollectionFromGroup: ['usergroup', true],
    RemoveUserCollectionFromRole: ['usergroup', true],
    RemoveUserCollectionFromSite: ['usergroup', true],
    RemoveUserFromGroup: ['usergroup', true],
    RemoveUserFromRole: ['usergroup', true],
    RemoveUserFromSite: ['usergroup', true],
    RemoveUserFromWeb: ['usergroup', true],
    UpdateGroupInfo: ['usergroup', true],
    UpdateRoleDefInfo: ['usergroup', true],
    UpdateRoleInfo: ['usergroup', true],
    UpdateUserInfo: ['usergroup', true],
    AddColleague: ['UserProfileService', true],
    AddLink: ['UserProfileService', true],
    AddMembership: ['UserProfileService', true],
    AddPinnedLink: ['UserProfileService', true],
    CreateMemberGroup: ['UserProfileService', true],
    CreateUserProfileByAccountName: ['UserProfileService', true],
    GetCommonColleagues: ['UserProfileService', false],
    GetCommonManager: ['UserProfileService', false],
    GetCommonMemberships: ['UserProfileService', false],
    GetInCommon: ['UserProfileService', false],
    GetPropertyChoiceList: ['UserProfileService', false],
    GetUserColleagues: ['UserProfileService', false],
    GetUserLinks: ['UserProfileService', false],
    GetUserMemberships: ['UserProfileService', false],
    GetUserPinnedLinks: ['UserProfileService', false],
    GetUserProfileByGuid: ['UserProfileService', false],
    GetUserProfileByIndex: ['UserProfileService', false],
    GetUserProfileByName: ['UserProfileService', false],
    GetUserProfileCount: ['UserProfileService', false],
    GetUserProfileSchema: ['UserProfileService', false],
    GetUserPropertyByAccountName: ['UserProfileService', false],
    ModifyUserPropertyByAccountName: ['UserProfileService', true],
    RemoveAllColleagues: ['UserProfileService', true],
    RemoveAllLinks: ['UserProfileService', true],
    RemoveAllMemberships: ['UserProfileService', true],
    RemoveAllPinnedLinks: ['UserProfileService', true],
    RemoveColleague: ['UserProfileService', true],
    RemoveLink: ['UserProfileService', true],
    RemoveMembership: ['UserProfileService', true],
    RemovePinnedLink: ['UserProfileService', true],
    UpdateColleaguePrivacy: ['UserProfileService', true],
    UpdateLink: ['UserProfileService', true],
    UpdateMembershipPrivacy: ['UserProfileService', true],
    UpdatePinnedLink: ['UserProfileService', true],
    DeleteAllVersions: ['Versions', true],
    DeleteVersion: ['Versions', true],
    GetVersions: ['Versions', false],
    RestoreVersion: ['Versions', true],
    AddView: ['Views', true],
    DeleteView: ['Views', true],
    GetView: ['Views', false],
    GetViewHtml: ['Views', false],
    GetViewCollection: ['Views', false],
    UpdateView: ['Views', true],
    UpdateViewHtml: ['Views', true],
    AddWebPart: ['WebPartPages', true],
    AddWebPartToZone: ['WebPartPages', true],
    GetWebPart2: ['WebPartPages', false],
    GetWebPartPage: ['WebPartPages', false],
    GetWebPartProperties: ['WebPartPages', false],
    GetWebPartProperties2: ['WebPartPages', false],
    GetColumns: ['Webs', false],
    GetContentType: ['Webs', false],
    GetContentTypes: ['Webs', false],
    GetCustomizedPageStatus: ['Webs', false],
    GetListTemplates: ['Webs', false],
    GetObjectIdFromUrl: ['Webs', false],
    GetWeb: ['Webs', false],
    GetWebCollection: ['Webs', false],
    GetAllSubWebCollection: ['Webs', false],
    UpdateColumns: ['Webs', true],
    WebUrlFromPageUrl: ['Webs', false],
    AlterToDo: ['Workflow', true],
    ClaimReleaseTask: ['Workflow', true],
    GetTemplatesForItem: ['Workflow', false],
    GetToDosForItem: ['Workflow', false],
    GetWorkflowDataForItem: ['Workflow', false],
    GetWorkflowTaskData: ['Workflow', false],
    StartWorkflow: ['Workflow', true]
};


/***/ },
/* 6 */
/***/ function(module, exports, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);
/* harmony export (binding) */ __webpack_require__.d(exports, "a", function() { return IndexedCache; });
/* harmony export (binding) */ __webpack_require__.d(exports, "b", function() { return IndexedCacheFactory; });

/**
 * @ngdoc object
 * @name IndexedCache
 * @description
 * Attempts to be very similar to the ES6 Map instance.  Cache constructor that is extended to make it easier to work with
 * via prototype methods.  Located in apIndexedCacheFactory.
 * @param {object} [object] Optionally extend new cache with provided object.
 * @requires angularPoint.apIndexedCacheFactory
 * @constructor
 */
var IndexedCache = (function () {
    function IndexedCache(object) {
        if (object) {
            __WEBPACK_IMPORTED_MODULE_0_lodash__["assign"](this, object);
        }
    }
    /**
     * @ngdoc function
     * @name IndexedCache.clear
     * @methodOf IndexedCache
     * @description
     * Clears all cached (enumerable) elements from the containing cache object.
     */
    IndexedCache.prototype.clear = function () {
        var _this = this;
        __WEBPACK_IMPORTED_MODULE_0_lodash__["each"](this.keys(), function (key) { return _this.delete(key); });
    };
    /**
     * @ngdoc function
     * @name IndexedCache.delete
     * @methodOf IndexedCache
     * @description
     * Removes any value associated to the key and returns the value that IndexedCache.has(value).
     * @param {number} id ID of listItem to be removed.
     */
    IndexedCache.prototype.delete = function (id) {
        var hasValue = this.has(id);
        if (id && hasValue) {
            delete this[id];
        }
        else if (!__WEBPACK_IMPORTED_MODULE_0_lodash__["isNumber"](id) && !__WEBPACK_IMPORTED_MODULE_0_lodash__["isString"](id)) {
            console.warn('A valid ID was not provided.');
        }
        return hasValue;
    };
    /**
     * @ngdoc function
     * @name IndexedCache.first
     * @methodOf IndexedCache
     * @description
     * Returns the first listItem in the index (smallest ID).
     * @returns {object} First listItem in cache or undefined if empty.
     */
    IndexedCache.prototype.first = function () {
        return this.nthEntity(0);
    };
    /**
     * @ngdoc function
     * @name IndexedCache.get
     * @methodOf IndexedCache
     * @returns {T} Returns the value associated to the key, or undefined if there is none.
     */
    IndexedCache.prototype.get = function (id) {
        return this[id];
    };
    /**
     * @ngdoc function
     * @name IndexedCache.has
     * @methodOf IndexedCache
     * @description
     * Determines if an entity exists in the cache.
     * @param {number} id The id of the requested list item.
     * @returns {boolean} Returns a Boolean asserting whether a value has been associated to the key cache.
     */
    IndexedCache.prototype.has = function (id) {
        return !!this[id];
    };
    /**
     * @ngdoc function
     * @name IndexedCache.keys
     * @methodOf IndexedCache
     * @description
     * Returns the array of enumerable keys (listItem ID's) for the cache.
     * @returns {string[]} Array of listItem id's as strings.
     */
    IndexedCache.prototype.keys = function () {
        return Object.keys(this);
    };
    /**
     * @ngdoc function
     * @name IndexedCache.last
     * @methodOf IndexedCache
     * @description
     * Returns the last listItem in the index (largest ID).
     * @returns {object} Last listItem in cache.
     */
    IndexedCache.prototype.last = function () {
        var keys = this.keys();
        return this[keys[keys.length - 1]];
    };
    /**
     * @ngdoc function
     * @name IndexedCache.nthEntity
     * @methodOf IndexedCache
     * @description
     * Based on the
     * @param {number} index The index of the item requested.
     * @returns {object} First listItem in cache.
     */
    IndexedCache.prototype.nthEntity = function (index) {
        var keys = this.keys();
        return this[keys[index]];
    };
    /**
     * @ngdoc function
     * @name IndexedCache.set
     * @methodOf IndexedCache
     * @description
     * Adds a new key to the cache if not already there with a value of the new listItem.
     * @param {number} key Entity to add to the cache.
     * @param {object} listItem Entity to add to the cache.
     */
    IndexedCache.prototype.set = function (key, listItem) {
        if (__WEBPACK_IMPORTED_MODULE_0_lodash__["isNumber"](key) && __WEBPACK_IMPORTED_MODULE_0_lodash__["isObject"](listItem)) {
            /** Only add the listItem to the cache if it's not already there */
            if (!this.has(listItem.id)) {
                this[key] = listItem;
            }
        }
        else {
            throw new Error('A valid listItem wasn\'t provided: ' + JSON.stringify(listItem, null, 2));
        }
        return this;
    };
    /**
     * @ngdoc function
     * @methodOf IndexedCache
     * @name IndexedCache.toArray
     * @description
     * Turns the cache object into an array of entities.  Uses IndexedCache.values() and is a temp fix to get
     * an array of objects until Map is fully supported.
     * @returns {object[]} Returns the array of entities currently in the cache.
     */
    IndexedCache.prototype.toArray = function () {
        return this.values();
    };
    /**
     * @ngdoc function
     * @name IndexedCache.values
     * @methodOf IndexedCache
     * @description
     * Turns the cache object into an array of entities similar to the method on Mvalues().  Unlike
     * the method on Map though this does not return the objects in insertion order.
     * @returns {IndexedCache<T>[]} Returns the array of entities currently in the cache.
     */
    IndexedCache.prototype.values = function () {
        return __WEBPACK_IMPORTED_MODULE_0_lodash__["toArray"](this);
    };
    /**
     * @ngdoc function
     * @methodOf IndexedCache
     * @deprecated
     * @description
     * DEPRECATED AND WILL BE REMOVED!  Use IndexedCache.set instead.
     * Adds a new key to the cache if not already there with a value of the new listItem.
     * @param {object} listItem Entity to add to the cache.
     */
    IndexedCache.prototype.addEntity = function (listItem) {
        console.warn('DEPRECATED METHOD!.  addEntity method deprecited.  Please use the set method in the future to comply with ES6 Map object.');
        this.set(listItem.id, listItem);
    };
    /**
     * @ngdoc function
     * @name IndexedCache.count
     * @methodOf IndexedCache
     * @description
     * Returns the number of entities in the cache.
     * @returns {number} Number of entities in the cache.
     */
    IndexedCache.prototype.count = function () {
        return this.keys().length;
    };
    /**
     * @ngdoc function
     * @methodOf IndexedCache
     * @deprecated
     * @description
     * DEPRECATED AND WILL BE REMOVED! Use IndexedCache.delete instead of removeEntityById.
     * Removes a listItem from the cache.
     * @param {number} id ID of listItem to be removed.
     */
    IndexedCache.prototype.removeEntityById = function (id) {
        console.warn('DEPRECATED METHOD! Use IndexedCache.delete() instead of removeEntityById().');
        this.delete(id);
    };
    return IndexedCache;
}());

/** Adds a getter to base prototype wich returns  the number of key/values stored in cache. */
Object.defineProperty(IndexedCache.prototype, "size", {
    get: function () {
        return this.count();
    },
    enumerable: false,
    configurable: false
});
/**
 * @ngdoc object
 * @name angularPoint.apIndexedCacheFactory
 * @description
 * Exposes the EntityFactory prototype and a constructor to instantiate a new Entity Factory in apCacheService.
 */
var IndexedCacheFactory = (function () {
    function IndexedCacheFactory() {
        this.IndexedCache = IndexedCache;
    }
    /**
     * @ngdoc function
     * @name angularPoint.apIndexedCacheFactory:create
     * @methodOf angularPoint.apIndexedCacheFactory
     * @description
     * Instantiates and returns a new Indexed Cache.grunt
     */
    IndexedCacheFactory.prototype.create = function (overrides) {
        return new IndexedCache(overrides);
    };
    return IndexedCacheFactory;
}());



/***/ },
/* 7 */
/***/ function(module, exports, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);
/* harmony export (binding) */ __webpack_require__.d(exports, "a", function() { return FieldVersionCollection; });
/* harmony export (binding) */ __webpack_require__.d(exports, "b", function() { return FieldChangeSummary; });
/* harmony export (binding) */ __webpack_require__.d(exports, "c", function() { return VersionSummary; });
/* harmony export (binding) */ __webpack_require__.d(exports, "d", function() { return ChangeSummary; });
/* harmony export (binding) */ __webpack_require__.d(exports, "e", function() { return VersionHistoryCollection; });
/* harmony export (binding) */ __webpack_require__.d(exports, "f", function() { return ListItemVersionFactory; });
var __extends = (this && this.__extends) || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
};

/**
 * @ngdoc object
 * @name apListItemVersionFactory.FieldVersionCollection
 * @param {FieldDefinition} fieldDefinition Field definition of each version of the field added.
 * @description
 * Object that contains the entire version history for a given list item field/property.
 */
var FieldVersionCollection = (function () {
    function FieldVersionCollection(fieldDefinition) {
        this.versions = {};
        this.fieldDefinition = fieldDefinition;
    }
    /**
     * @ngdoc object
     * @name apListItemVersionFactory.FieldVersionCollection.addVersion
     * @methodOf apListItemVersionFactory.FieldVersionCollection
     * @param {IUser} editor User who made the change.
     * @param {Date} modified Date modified.
     * @param {any} value Value of the field at this version.
     * @param {number} version The version number.
     * @description
     * Used to add a single version to the collection.
     */
    FieldVersionCollection.prototype.addVersion = function (editor, modified, value, version) {
        this.versions[version] = {
            editor: editor,
            modified: modified,
            value: value,
            version: version
        };
    };
    Object.defineProperty(FieldVersionCollection.prototype, "mappedName", {
        get: function () {
            return this.fieldDefinition.mappedName;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(FieldVersionCollection.prototype, "length", {
        get: function () {
            return __WEBPACK_IMPORTED_MODULE_0_lodash__["keys"](this.versions).length;
        },
        enumerable: true,
        configurable: true
    });
    return FieldVersionCollection;
}());

var FieldChange = (function () {
    function FieldChange(propertyName, fieldDefinition, newerVersion, previousVersion) {
        if (previousVersion === void 0) { previousVersion = {}; }
        this.fieldName = fieldDefinition.displayName;
        this.newerVersion = newerVersion;
        /** Need to set property name before calling this.getFormattedValue */
        this.propertyName = propertyName;
        this.newValue = this.getFormattedValue(newerVersion);
        this.oldValue = this.getFormattedValue(previousVersion);
        this.previousVersion = previousVersion;
    }
    FieldChange.prototype.getFormattedValue = function (version) {
        var propertyValue = '';
        if (version.getFormattedValue) {
            propertyValue = version.getFormattedValue(this.propertyName);
        }
        return propertyValue;
    };
    return FieldChange;
}());
/**
 * @ngdoc object
 * @name apListItemVersionFactory.FieldChangeSummary
 * @param {ListItem<T>} newerVersion Updated version of list item.
 * @param {ListItem<T>} [previousVersion={}] Previous version of list item.
 * @description
 * Generates a snapshot between 2 versions of a list item and locates diferences.
 */
var FieldChangeSummary = (function () {
    function FieldChangeSummary(newerVersion, previousVersion) {
        if (previousVersion === void 0) { previousVersion = {}; }
        var _this = this;
        this.fieldsChanged = {};
        /** Loop through each of the properties on the newer list item */
        __WEBPACK_IMPORTED_MODULE_0_lodash__["each"](newerVersion, function (val, propertyName) {
            var fieldDefinition = newerVersion.getFieldDefinition(propertyName);
            /** Only log non-readonly fields that aren't the same */
            if (fieldDefinition && !fieldDefinition.readOnly &&
                JSON.stringify(newerVersion[propertyName]) !== JSON.stringify(previousVersion[propertyName])) {
                var fieldChange = new FieldChange(propertyName, fieldDefinition, newerVersion, previousVersion);
                if (fieldChange.newValue !== fieldChange.oldValue) {
                    /** This field has changed */
                    _this.fieldsChanged[propertyName] = fieldChange;
                }
            }
        });
        this.changeCount = __WEBPACK_IMPORTED_MODULE_0_lodash__["keys"](this.fieldsChanged).length;
    }
    Object.defineProperty(FieldChangeSummary.prototype, "hasMajorChanges", {
        get: function () {
            return __WEBPACK_IMPORTED_MODULE_0_lodash__["isNumber"](this.changeCount) && this.changeCount > 0;
        },
        enumerable: true,
        configurable: true
    });
    return FieldChangeSummary;
}());

/**
 * @ngdoc object
 * @name apListItemVersionFactory.VersionSummary
 * @param {IListItemVersion<T>} newerVersion Updated version of list item.
 * @param {IListItemVersion<T>} [previousVersion={}] Previous version of list item.
 * @description
 * Used specifically to determine difference between 2 distinct versions of a list item using the
 * version history.  Extends FieldChangeSummary.
 */
var VersionSummary = (function (_super) {
    __extends(VersionSummary, _super);
    function VersionSummary(newerVersion, previousVersion) {
        if (previousVersion === void 0) { previousVersion = {}; }
        var _this = _super.call(this, newerVersion, previousVersion) || this;
        _this.listItemVersion = newerVersion;
        _this.version = newerVersion.version;
        return _this;
    }
    Object.defineProperty(VersionSummary.prototype, "editor", {
        get: function () {
            return this.listItemVersion.editor;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(VersionSummary.prototype, "modified", {
        get: function () {
            return this.listItemVersion.modified;
        },
        enumerable: true,
        configurable: true
    });
    return VersionSummary;
}(FieldChangeSummary));

/**
 * @ngdoc object
 * @name apListItemVersionFactory.ChangeSummary
 * @param {IListItemVersions} versions Multiple versions of a list item.
 * @description
 * Used to summarize all changes for a given list item.
 */
var ChangeSummary = (function () {
    function ChangeSummary(versions) {
        var _this = this;
        /** The number of versions where list item data actually changed */
        this.significantVersionCount = 0;
        this.versionSummaryCollection = {};
        /** First version won't have a previous version */
        var previousVersion;
        __WEBPACK_IMPORTED_MODULE_0_lodash__["each"](versions, function (version) {
            var versionSummary = new VersionSummary(version, previousVersion);
            if (versionSummary.hasMajorChanges) {
                _this.significantVersionCount++;
            }
            _this.versionSummaryCollection[versionSummary.version] = versionSummary;
            /** Store this version so we can compare to the next version */
            previousVersion = version;
        });
    }
    Object.defineProperty(ChangeSummary.prototype, "changes", {
        //Use getter in case we need to alter the way we store this in future
        get: function () {
            return this.versionSummaryCollection;
        },
        enumerable: true,
        configurable: true
    });
    ChangeSummary.prototype.count = function () {
        return __WEBPACK_IMPORTED_MODULE_0_lodash__["keys"](this.versionSummaryCollection).length;
    };
    ChangeSummary.prototype.toArray = function () {
        return __WEBPACK_IMPORTED_MODULE_0_lodash__["toArray"](this.versionSummaryCollection);
    };
    return ChangeSummary;
}());

var VersionHistoryCollection = (function () {
    // getFactory: () => IModelFactory;
    function VersionHistoryCollection(fieldVersionCollections, factory) {
        var _this = this;
        /** Iterate through each of the field version collections */
        __WEBPACK_IMPORTED_MODULE_0_lodash__["each"](fieldVersionCollections, function (fieldVersionCollection) {
            _this.addFieldCollection(fieldVersionCollection, factory);
        });
    }
    VersionHistoryCollection.prototype.addFieldCollection = function (fieldVersionCollection, factory) {
        var _this = this;
        /** Iterate through each version of this field */
        __WEBPACK_IMPORTED_MODULE_0_lodash__["each"](fieldVersionCollection.versions, function (fieldVersion, versionNumberAsString) {
            /** Create a new version object if it doesn't already exist */
            _this[versionNumberAsString] = _this[versionNumberAsString] || new factory({
                editor: fieldVersion.editor,
                modified: fieldVersion.modified,
                /** Iterating over object properties which converts everything to string so convert back */
                version: parseInt(versionNumberAsString)
            });
            /** Add field to the version history for this version with computed property name */
            _this[versionNumberAsString][fieldVersionCollection.mappedName] = fieldVersion.value;
        });
    };
    VersionHistoryCollection.prototype.count = function () {
        return __WEBPACK_IMPORTED_MODULE_0_lodash__["keys"](this).length;
    };
    VersionHistoryCollection.prototype.generateChangeSummary = function () {
        return new ChangeSummary(this);
    };
    VersionHistoryCollection.prototype.toArray = function () {
        return __WEBPACK_IMPORTED_MODULE_0_lodash__["toArray"](this);
    };
    return VersionHistoryCollection;
}());

/**
 * @ngdoc function
 * @name apListItemVersionFactory
 * @description
 * Factory which handles parsing list item versions and identifying changes.
 *
 */
var ListItemVersionFactory = (function () {
    function ListItemVersionFactory() {
        this.ChangeSummary = ChangeSummary;
        this.FieldChangeSummary = FieldChangeSummary;
        this.FieldVersionCollection = FieldVersionCollection;
        this.VersionHistoryCollection = VersionHistoryCollection;
        this.VersionSummary = VersionSummary;
    }
    return ListItemVersionFactory;
}());



/***/ },
/* 8 */
/***/ function(module, exports, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);
/* harmony export (binding) */ __webpack_require__.d(exports, "b", function() { return UtilityService; });
/* harmony export (immutable) */ exports["a"] = isGuid;
/* harmony export (immutable) */ exports["c"] = isDefined;

var SplitIndex = (function () {
    function SplitIndex(str) {
        var spl = str.split(';#');
        this.id = parseInt(spl[0], 10);
        this.value = spl[1];
    }
    return SplitIndex;
}());
// var service: UtilityService, $q, $timeout;
/**
 * @ngdoc service
 * @name angularPoint.apUtilityService
 * @description
 * Provides shared utility functionality across the application.
 *
 * @requires angularPoint.apConfig
 */
var UtilityService = (function () {
    function UtilityService($q, $timeout) {
        // service = this;
        // $q = _$q_;
        // $timeout = _$timeout_;
        this.$q = $q;
        this.$timeout = $timeout;
        this.SplitIndex = SplitIndex;
        /**
         * @ngdoc function
         * @name angularPoint.apUtilityService:isGuid
         * @methodOf angularPoint.apUtilityService
         * @param {any} value Checks if value is a GUID
         * @returns {boolean} Is the value a GUID.
         */
        this.isGuid = isGuid;
    }
    /**
     * @ngdoc function
     * @name angularPoint.apUtilityService:batchProcess
     * @methodOf angularPoint.apUtilityService
     * @description
     * We REALLY don't want to lock the user's browser (blocking the UI thread) while iterating over an array of
     * entities and performing some process on them.  This function cuts the process into as many 50ms chunks as are
     * necessary. Based on example found in the following article:
     * [Timed array processing in JavaScript](http://www.nczonline.net/blog/2009/08/11/timed-array-processing-in-javascript/);
     * @param {Object[]} entities The entities that need to be processed.
     * @param {Function} process Reference to the process to be executed for each of the entities.
     * @param {Object} context this
     * @param {Number} [delay=25] Number of milliseconds to delay between batches.
     * @param {Number} [maxItems=entities.length] Maximum number of entities to process before pausing.
     * @returns {Object} Promise
     * @example
     * <pre>
     * function buildProjectSummary = function() {
             *    var deferred = $q.defer();
             *
             *    // Taken from a fictitious projectsthis.js
             *    projectModel.getAllListItems().then(function(entities) {
             *      var summaryObject = {};
             *      var extendProjectSummary = function(project) {
             *          // Do some process intensive stuff here
             *
             *      };
             *
             *      // Now that we have all of our projects we want to iterate
             *      // over each to create our summary object. The problem is
             *      // this could easily cause the page to hang with a sufficient
             *      // number of entities.
             *      apUtilitythis.batchProcess(entities, extendProjectSummary, function() {
             *          // Long running process is complete so resolve promise
             *          deferred.resolve(summaryObject);
             *      }, 25, 1000);
             *    };
             *
             *    return deferred.promise;
             * }
     *
     * </pre>
     */
    UtilityService.prototype.batchProcess = function (entities, process, context, delay, maxItems) {
        if (delay === void 0) { delay = 25; }
        var itemCount = entities.length;
        var batchCount = 0;
        var chunkMax = maxItems || itemCount;
        var index = 0;
        var deferred = this.$q.defer();
        function chunkTimer() {
            batchCount++;
            var start = +new Date();
            var chunkIndex = index;
            while (index < itemCount && (index - chunkIndex) < chunkMax && (new Date() - start < 100)) {
                process.call(context, entities[index], index, batchCount);
                index += 1;
            }
            if (index < itemCount) {
                this.$timeout(chunkTimer, delay);
            }
            else {
                deferred.resolve(entities);
            }
        }
        chunkTimer();
        return deferred.promise;
    };
    /**
     * @ngdoc function
     * @name angularPoint.apUtilityService:convertEffectivePermMask
     * @methodOf angularPoint.apUtilityService
     * @description
     * GetListItemsSinceToken operation returns the list element with an EffectivePermMask attribute which is the
     * name of the PermissionMask.  We then need to convert the name into an actual mask so this function contains
     * the known permission names with their masks.  If a provided mask name is found, the cooresponding mask
     * is returned.  Otherwise returns null.  [MSDN Source](http://msdn.microsoft.com/en-us/library/jj575178(v=office.12).aspx)
     * @param {string} permMaskName Permission mask name.
     * @returns {string|null} Return the mask for the name.
     */
    UtilityService.prototype.convertEffectivePermMask = function (permMaskName) {
        var permissionMask = null;
        var permissions = {
            //General
            EmptyMask: '0x0000000000000000',
            FullMask: '0x7FFFFFFFFFFFFFFF',
            //List and document permissions
            ViewListItems: '0x0000000000000001',
            AddListItems: '0x0000000000000002',
            EditListItems: '0x0000000000000004',
            DeleteListItems: '0x0000000000000008',
            ApproveItems: '0x0000000000000010',
            OpenItems: '0x0000000000000020',
            ViewVersions: '0x0000000000000040',
            DeleteVersions: '0x0000000000000080',
            CancelCheckout: '0x0000000000000100',
            ManagePersonalViews: '0x0000000000000200',
            ManageLists: '0x0000000000000800',
            ViewFormPages: '0x0000000000001000',
            //Web level permissions
            Open: '0x0000000000010000',
            ViewPages: '0x0000000000020000',
            AddAndCustomizePages: '0x0000000000040000',
            ApplyThemeAndBorder: '0x0000000000080000',
            ApplyStyleSheets: '0x0000000000100000',
            ViewUsageData: '0x0000000000200000',
            CreateSSCSite: '0x0000000000400000',
            ManageSubwebs: '0x0000000000800000',
            CreateGroups: '0x0000000001000000',
            ManagePermissions: '0x0000000002000000',
            BrowseDirectories: '0x0000000004000000',
            BrowseUserInfo: '0x0000000008000000',
            AddDelPrivateWebParts: '0x0000000010000000',
            UpdatePersonalWebParts: '0x0000000020000000',
            ManageWeb: '0x0000000040000000',
            UseClientIntegration: '0x0000001000000000',
            UseRemoteAPIs: '0x0000002000000000',
            ManageAlerts: '0x0000004000000000',
            CreateAlerts: '0x0000008000000000',
            EditMyUserInfo: '0x0000010000000000',
            //Special Permissions
            EnumeratePermissions: '0x4000000000000000'
        };
        if (permissions[permMaskName]) {
            permissionMask = permissions[permMaskName];
        }
        return permissionMask;
    };
    /**
     * @ngdoc function
     * @name angularPoint.apUtilityService:dateWithinRange
     * @methodOf angularPoint.apUtilityService
     * @description
     * Converts dates into yyyymmdd formatted ints and evaluates to determine if the dateToCheck
     * falls within the date range provided
     * @param {Date} startDate Starting date.
     * @param {Date} endDate Ending date.
     * @param {Date} [dateToCheck=new Date()] Defaults to the current date.
     * @returns {boolean} Does the date fall within the range?
     */
    UtilityService.prototype.dateWithinRange = function (startDate, endDate, dateToCheck) {
        if (dateToCheck === void 0) { dateToCheck = new Date(); }
        /** Ensure both a start and end date are provided **/
        if (!startDate || !endDate) {
            return false;
        }
        /** Create an int representation of each of the dates */
        var startInt = this.yyyymmdd(startDate);
        var endInt = this.yyyymmdd(endDate);
        var dateToCheckInt = this.yyyymmdd(dateToCheck);
        return startInt <= dateToCheckInt && dateToCheckInt <= endInt;
    };
    /**
     * @ngdoc function
     * @name angularPoint.apUtilityService:doubleDigit
     * @methodOf angularPoint.apUtilityService
     * @description Add a leading zero if a number/string only contains a single character.  So in the case
     * where the number 9 is passed in the string '09' is returned.
     * @param {(number|string)} val A number or string to evaluate.
     * @returns {string} Two digit string.
     */
    UtilityService.prototype.doubleDigit = function (val) {
        if (typeof val === 'number') {
            return val > 9 ? val.toString() : '0' + val;
        }
        else if (typeof val === 'string') {
            return this.doubleDigit(parseInt(val, 10));
        }
    };
    /**
     * @ngdoc function
     * @name angularPoint.apUtilityService:fromCamelCase
     * @methodOf angularPoint.apUtilityService
     * @param {string} str String to convert.
     * @description
     * Converts a camel case string into a space delimited string with each word having a capitalized first letter.
     * @returns {string} Humanized string.
     */
    UtilityService.prototype.fromCamelCase = function (str) {
        // insert a space before all caps
        return str.replace(/([A-Z])/g, ' $1')
            .replace(/^./, function (str) {
            return str.toUpperCase();
        });
    };
    /**
     * @ngdoc function
     * @name angularPoint.apUtilityService:registerChange
     * @methodOf angularPoint.apUtilityService
     * @description
     * If online and sync is being used, notify all online users that a change has been made.
     * //Todo Break this functionality into FireBase module that can be used if desired.
     * @param {object} model event
     */
    UtilityService.prototype.registerChange = function (model, changeType, listItemId) {
        /** Disabled this functionality until I can spend the necessary time to test */
        if (model.sync && __WEBPACK_IMPORTED_MODULE_0_lodash__["isFunction"](model.sync.registerChange)) {
            /** Register change after successful update */
            model.sync.registerChange(changeType, listItemId);
        }
    };
    /**
     * @ngdoc function
     * @name angularPoint.apUtilityService:resolvePermissions
     * @methodOf angularPoint.apUtilityService
     * @param {string} permissionsMask The WSS Rights Mask is an 8-byte, unsigned integer that specifies
     * the rights that can be assigned to a user or site group. This bit mask can have zero or more flags set.
     * @description
     * Converts permMask into something usable to determine permission level for current user.  Typically used
     * directly from a list item.  See ListItem.resolvePermissions.
     *
     * <h3>Additional Info</h3>
     *
     * -   [PermMask in SharePoint DVWPs](http://sympmarc.com/2009/02/03/permmask-in-sharepoint-dvwps/)
     * -   [$().SPServices.SPLookupAddNew and security trimming](http://spservices.codeplex.com/discussions/208708)
     *
     * @returns {object} Object with properties for each permission level identifying if current user has rights (true || false)
     * @example
     * <pre>
     * var perm = apUtilitythis.resolvePermissions('0x0000000000000010');
     * </pre>
     * Example of what the returned object would look like
     * for a site admin.
     * <pre>
     * perm = {
             *    "ViewListItems":true,
             *    "AddListItems":true,
             *    "EditListItems":true,
             *    "DeleteListItems":true,
             *    "ApproveItems":true,
             *    "OpenItems":true,
             *    "ViewVersions":true,
             *    "DeleteVersions":true,
             *    "CancelCheckout":true,
             *    "PersonalViews":true,
             *    "ManageLists":true,
             *    "ViewFormPages":true,
             *    "Open":true,
             *    "ViewPages":true,
             *    "AddAndCustomizePages":true,
             *    "ApplyThemeAndBorder":true,
             *    "ApplyStyleSheets":true,
             *    "ViewUsageData":true,
             *    "CreateSSCSite":true,
             *    "ManageSubwebs":true,
             *    "CreateGroups":true,
             *    "ManagePermissions":true,
             *    "BrowseDirectories":true,
             *    "BrowseUserInfo":true,
             *    "AddDelPrivateWebParts":true,
             *    "UpdatePersonalWebParts":true,
             *    "ManageWeb":true,
             *    "UseRemoteAPIs":true,
             *    "ManageAlerts":true,
             *    "CreateAlerts":true,
             *    "EditMyUserInfo":true,
             *    "EnumeratePermissions":true,
             *    "FullMask":true
             * }
     * </pre>
     */
    UtilityService.prototype.resolvePermissions = function (permissionsMask) {
        var permissionSet = {
            ViewListItems: (1 & permissionsMask) > 0,
            AddListItems: (2 & permissionsMask) > 0,
            EditListItems: (4 & permissionsMask) > 0,
            DeleteListItems: (8 & permissionsMask) > 0,
            ApproveItems: (16 & permissionsMask) > 0,
            OpenItems: (32 & permissionsMask) > 0,
            ViewVersions: (64 & permissionsMask) > 0,
            DeleteVersions: (128 & permissionsMask) > 0,
            CancelCheckout: (256 & permissionsMask) > 0,
            PersonalViews: (512 & permissionsMask) > 0,
            ManageLists: (2048 & permissionsMask) > 0,
            ViewFormPages: (4096 & permissionsMask) > 0,
            Open: (65536 & permissionsMask) > 0,
            ViewPages: (131072 & permissionsMask) > 0,
            AddAndCustomizePages: (262144 & permissionsMask) > 0,
            ApplyThemeAndBorder: (524288 & permissionsMask) > 0,
            ApplyStyleSheets: (1048576 & permissionsMask) > 0,
            ViewUsageData: (2097152 & permissionsMask) > 0,
            CreateSSCSite: (4194314 & permissionsMask) > 0,
            ManageSubwebs: (8388608 & permissionsMask) > 0,
            CreateGroups: (16777216 & permissionsMask) > 0,
            ManagePermissions: (33554432 * permissionsMask) > 0,
            BrowseDirectories: (67108864 & permissionsMask) > 0,
            BrowseUserInfo: (134217728 & permissionsMask) > 0,
            AddDelPrivateWebParts: (268435456 & permissionsMask) > 0,
            UpdatePersonalWebParts: (536870912 & permissionsMask) > 0,
            ManageWeb: (1073741824 & permissionsMask) > 0,
            UseRemoteAPIs: (137438953472 & permissionsMask) > 0,
            ManageAlerts: (274877906944 & permissionsMask) > 0,
            CreateAlerts: (549755813888 & permissionsMask) > 0,
            EditMyUserInfo: (1099511627776 & permissionsMask) > 0,
            EnumeratePermissions: (4611686018427387904 & permissionsMask) > 0,
            FullMask: (9223372036854775807 == permissionsMask)
        };
        /**
         * Full Mask only resolves correctly for the Full Mask level
         * so in that case, set everything to true
         */
        if (permissionSet.FullMask) {
            __WEBPACK_IMPORTED_MODULE_0_lodash__["each"](permissionSet, function (perm, key) {
                permissionSet[key] = true;
            });
        }
        return permissionSet;
    };
    /**
     * @ngdoc function
     * @name angularPoint.apUtilityService:stringifyXML
     * @methodOf angularPoint.apUtilityService
     * @description Simple utility to convert an XML object into a string and remove unnecessary whitespace.
     * @param {object} xml XML object.
     * @returns {string} Stringified version of the XML object.
     */
    UtilityService.prototype.stringifyXML = function (xml) {
        var str;
        if (__WEBPACK_IMPORTED_MODULE_0_lodash__["isObject"](xml)) {
            str = this.xmlToString(xml).replace(/\s+/g, ' ');
        }
        else if (__WEBPACK_IMPORTED_MODULE_0_lodash__["isString"](xml)) {
            str = xml;
        }
        return str;
    };
    UtilityService.prototype.toCamelCase = function (str) {
        return str.replace(/(?:^\w|[A-Z]|\b\w)/g, function (letter, index) {
            return index == 0 ? letter.toLowerCase() : letter.toUpperCase();
        }).replace(/\s+/g, '');
    };
    /**
     * @ngdoc function
     * @name angularPoint.apUtilityService:yyyymmdd
     * @methodOf angularPoint.apUtilityService
     * @description
     * Convert date into a int formatted as yyyymmdd
     * We don't need the time portion of comparison so an int makes this easier to evaluate
     */
    UtilityService.prototype.yyyymmdd = function (date) {
        var yyyy = date.getFullYear();
        var mm = date.getMonth() + 1;
        var dd = date.getDate();
        /** Add leading 0's to month and day if necessary */
        return parseInt(yyyy + this.doubleDigit(mm) + this.doubleDigit(dd));
    };
    UtilityService.prototype.xmlToString = function (xmlData) {
        var xmlString;
        if (typeof XMLSerializer !== 'undefined') {
            /** Modern Browsers */
            xmlString = (new XMLSerializer()).serializeToString(xmlData);
        }
        else {
            /** Old versions of IE */
            xmlString = xmlData.xml;
        }
        return xmlString;
    };
    return UtilityService;
}());

UtilityService.$inject = ['$q', '$timeout'];
/** Extend lodash with a simple helper function */
__WEBPACK_IMPORTED_MODULE_0_lodash__["mixin"]({
    isDefined: function (value) {
        return !__WEBPACK_IMPORTED_MODULE_0_lodash__["isUndefined"](value);
    },
    /** Based on functionality in Breeze.js */
    isGuid: function (value) {
        return (typeof value === 'string') && /[a-fA-F\d]{8}-(?:[a-fA-F\d]{4}-){3}[a-fA-F\d]{12}/
            .test(value);
    }
});
/**
 * @ngdoc function
 * @name angularPoint.apUtilityService:isGuid
 * @methodOf angularPoint.apUtilityService
 * @param {any} value Checks if value is a GUID
 * @returns {boolean} Is the value a GUID.
 */
function isGuid(value) {
    return (typeof value === 'string') && /[a-fA-F\d]{8}-(?:[a-fA-F\d]{4}-){3}[a-fA-F\d]{12}/
        .test(value);
}
function isDefined(value) {
    return !__WEBPACK_IMPORTED_MODULE_0_lodash__["isUndefined"](value);
}


/***/ },
/* 9 */
/***/ function(module, exports, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(exports, "a", function() { return XMLFieldAttributeTypes; });
/**
 * @ngdoc object
 * @name angularPoint.apXMLListAttributeTypes
 * @description Constant object map which contains many common XML attributes found on a field definition with their
 * corresponding type.
 */
var XMLFieldAttributeTypes = {
    Decimals: 'Number',
    EnforceUniqueValues: 'Boolean',
    Filterable: 'Boolean',
    FromBaseType: 'Boolean',
    Hidden: 'Boolean',
    Indexed: 'Boolean',
    NumLines: 'Number',
    ReadOnly: 'Boolean',
    Required: 'Boolean',
    Sortable: 'Boolean'
};


/***/ },
/* 10 */
/***/ function(module, exports, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(exports, "a", function() { return XMLListAttributeTypes; });
/**
 * @ngdoc object
 * @name angularPoint.apXMLListAttributeTypes
 * @description Constant object map which contains many common XML attributes found on a list definition with their
 * corresponding type.
 */
var XMLListAttributeTypes = {
    BaseType: 'Number',
    ServerTemplate: 'Number',
    Created: 'DateTime',
    Modified: 'DateTime',
    LastDeleted: 'DateTime',
    Version: 'Number',
    ThumbnailSize: 'Number',
    WebImageWidth: 'Number',
    WebImageHeight: 'Number',
    Flags: 'Number',
    ItemCount: 'Number',
    ReadSecurity: 'Number',
    WriteSecurity: 'Number',
    Author: 'Number',
    MajorWithMinorVersionsLimit: 'Number',
    HasUniqueScopes: 'Boolean',
    NoThrottleListOperations: 'Boolean',
    HasRelatedLists: 'Boolean',
    AllowDeletion: 'Boolean',
    AllowMultiResponses: 'Boolean',
    EnableAttachments: 'Boolean',
    EnableModeration: 'Boolean',
    EnableVersioning: 'Boolean',
    HasExternalDataSource: 'Boolean',
    Hidden: 'Boolean',
    MultipleDataList: 'Boolean',
    Ordered: 'Boolean',
    ShowUser: 'Boolean',
    EnablePeopleSelector: 'Boolean',
    EnableResourceSelector: 'Boolean',
    EnableMinorVersion: 'Boolean',
    RequireCheckout: 'Boolean',
    ThrottleListOperations: 'Boolean',
    ExcludeFromOfflineClient: 'Boolean',
    EnableFolderCreation: 'Boolean',
    IrmEnabled: 'Boolean',
    IsApplicationList: 'Boolean',
    PreserveEmptyValues: 'Boolean',
    StrictTypeCoercion: 'Boolean',
    EnforceDataValidation: 'Boolean',
    MaxItemsPerThrottledOperation: 'Number'
};


/***/ },
/* 11 */
/***/ function(module, exports, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);
/* harmony export (binding) */ __webpack_require__.d(exports, "a", function() { return CamlFactory; });

/**
 * @ngdoc function
 * @name angularPoint.apCamlFactory
 * @description
 * Tools to assist with the creation of CAML queries.
 *
 */
var CamlFactory = (function () {
    function CamlFactory() {
    }
    /**
     * @ngdoc function
     * @name angularPoint.apCamlFactory:camlContainsQuery
     * @methodOf angularPoint.apCamlFactory
     * @parameter {object[]} fieldDefinitionsArray Array of fields to search for a given search string.
     * @parameter {string} searchString String of text to search records for.
     * @description
     * Returns a combination of selectors using CAML '<Or></Or>' elements
     * @returns {string} Caml select string.
     * @example
     * <pre>
     *
     * var testHTML = {objectType: 'HTML', staticName: 'HTML'};
     * var testJSON = {objectType: 'JSON', staticName: 'JSON'};
     * var testText = {objectType: 'Text', staticName: 'Text'};
     * var testText2 = {objectType: 'Text', staticName: 'Text'};
     *
     * var testCaml = camlContainsQuery([testHTML, testText, testJSON, testText2], 'Test Query');
     * console.log(testCaml);
     *
     * //Returns
     * <Or><Contains><FieldRef Name=\"HTML\" /><Value Type=\"Text\"><![CDATA[Test Query]]>
     * </Value></Contains><Or><Contains><FieldRef Name=\"Text\" /><Value Type=\"Text\">Test Query</Value>
     * </Contains><Or><Contains><FieldRef Name=\"JSON\" /><Value Type=\"Text\"><![CDATA[Test Query]]>
     * </Value></Contains><Contains><FieldRef Name=\"Text\" /><Value Type=\"Text\">Test Query</Value>
     * </Contains></Or></Or></Or>
     * </pre>
     */
    CamlFactory.prototype.camlContainsQuery = function (fieldDefinitionsArray, searchString) {
        var _this = this;
        var selectStatements = [];
        /** Create a select statement for each field */
        __WEBPACK_IMPORTED_MODULE_0_lodash__["each"](fieldDefinitionsArray, function (fieldDefinition, definitionIndex) {
            selectStatements.push(_this.createCamlContainsSelector(fieldDefinition, searchString));
        });
        return this.chainCamlSelects(selectStatements, 'And');
    };
    /**
     * @ngdoc function
     * @name angularPoint.apCamlFactory:chainCamlSelects
     * @methodOf angularPoint.apCamlFactory
     * @description
     * Used to combine multiple caml selectors into a single CAML query string wrapped properly.
     * @param {object[]} selectStatements An array of select statements to wrap in "<Or>".
     * @param {string} joinType Valid caml join type ('Or', 'And', ...).
     * @returns {string} CAML query string.
     */
    CamlFactory.prototype.chainCamlSelects = function (selectStatements, joinType) {
        var camlQuery = '';
        var camlQueryClosure = '';
        __WEBPACK_IMPORTED_MODULE_0_lodash__["each"](selectStatements, function (statement, statementIndex) {
            /** Add an or clause if we still have additional fields to process */
            if (statementIndex < selectStatements.length - 1) {
                camlQuery += '<' + joinType + '>';
                camlQueryClosure = '</' + joinType + '>' + camlQueryClosure;
            }
            camlQuery += statement;
        });
        return camlQuery + camlQueryClosure;
    };
    /**
     * @ngdoc function
     * @name angularPoint.apCamlFactory:createCamlContainsSelector
     * @methodOf angularPoint.apCamlFactory
     * @description
     * Escapes characters that SharePoint gets upset about based on field type.
     * @example
     * <pre>
     * var testHTML = {objectType: 'HTML', staticName: 'HTML'};
     *
     * var testCaml = createCamlContainsSelector(testHTML, 'Test Query');
     * console.log(testCaml);
     *
     * //Returns
     * <Contains>
     *   <FieldRef Name=\"HTML\" />
     *   <Value Type=\"Text\"><![CDATA[Test Query]]></Value>
     * </Contains>
     * </pre>
     */
    CamlFactory.prototype.createCamlContainsSelector = function (fieldDefinition, searchString) {
        var camlSelector;
        switch (fieldDefinition.objectType) {
            case 'HTML':
            case 'JSON':
                camlSelector = '' +
                    '<Contains>' +
                    '<FieldRef Name="' + fieldDefinition.staticName + '" />' +
                    /** Use CDATA wrapper to escape [&, <, > ] */
                    '<Value Type="Text"><![CDATA[' + searchString + ']]></Value>' +
                    '</Contains>';
                break;
            default:
                camlSelector = '' +
                    '<Contains>' +
                    '<FieldRef Name="' + fieldDefinition.staticName + '" />' +
                    '<Value Type="Text">' + searchString + '</Value>' +
                    '</Contains>';
        }
        return camlSelector;
    };
    return CamlFactory;
}());



/***/ },
/* 12 */
/***/ function(module, exports, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);
/* harmony export (binding) */ __webpack_require__.d(exports, "a", function() { return FieldDefinition; });
/* harmony export (binding) */ __webpack_require__.d(exports, "b", function() { return FieldFactory; });

var apFieldService, apUtilityService, apFormattedFieldValueService;
/**
 * @ngdoc object
 * @name Field
 * @description
 * Defined in the MODEL.list.fieldDefinitions array.  Each field definition object maps an internal field
 * in a SharePoint list/library to a JavaScript object using the internal SharePoint field name, the field
 * type, and the desired JavaScript property name to add onto the parsed list item object. Ignore shown usage,
 * each field definition is just an object within the fieldDefinitions array.
 * @param {object} obj Field definition.
 * @param {string} obj.staticName The actual SharePoint field name.
 * @param {string} [obj.objectType='Text']
 * <dl>
 *     <dt>Boolean</dt>
 *     <dd>Used to store a TRUE/FALSE value (stored in SharePoint as 0 or 1).</dd>
 *     <dt>Calc</dt>
 *     <dd>";#" Delimited String: The first value will be the calculated column value
 *     type, the second will be the value</dd>
 *     <dt>Choice</dt>
 *     <dd>Simple text string but when processing the initial list definition, we
 *     look for a Choices XML element within the field definition and store each
 *     value.  We can then retrieve the valid Choices with one of the following:
 *     ```var fieldDefinition = LISTITEM.getFieldDefinition('CHOICE_FIELD_NAME');```
 *                                      or
 *     ```var fieldDefinition = MODELNAME.getFieldDefinition('CHOICE_FIELD_NAME');```
 *     ```var choices = fieldDefinition.Choices;```
 *     </dd>
 *     <dt>Counter</dt>
 *     <dd>Same as Integer. Generally used only for the internal ID field. Its integer
 *     value is set automatically to be unique with respect to every other item in the
 *     current list. The Counter type is always read-only and cannot be set through a
 *     form post.</dd>
 *     <dt>Currency</dt>
 *     <dd>Floating point number.</dd>
 *     <dt>DateTime</dt>
 *     <dd>Replace dashes with slashes and the "T" deliminator with a space if found.  Then
 *     converts into a valid JS date object.</dd>
 *     <dt>Float</dt>
 *     <dd>Floating point number.</dd>
 *     <dt>HTML</dt>
 *     <dd>```_.unescape(STRING)```</dd>
 *     <dt>Integer</dt>
 *     <dd>Parses the string to a base 10 int.</dd>
 *     <dt>JSON</dt>
 *     <dd>Parses JSON if valid and converts into a a JS object.  If not valid, an error is
 *     thrown with additional info on specifically what is invalid.</dd>
 *     <dt>Lookup</dt>
 *     <dd>Passes string to Lookup constructor where it is broken into an object containing
 *     a "lookupValue" and "lookupId" attribute.  Inherits additional prototype methods from
 *     Lookup.  See [Lookup](#/api/Lookup) for more information.
 *     </dd>
 *     <dt>LookupMulti</dt>
 *     <dd>Converts multiple delimited ";#" strings into an array of Lookup objects.</dd>
 *     <dt>MultiChoice</dt>
 *     <dd>Converts delimited ";#" string into an array of strings representing each of the
 *     selected choices.  Similar to the single "Choice", the XML Choices are stored in the
 *     field definition after the initial call is returned from SharePoint so we can reference
 *     later.
 *     </dd>
 *     <dt>Number</dt>
 *     <dd>Treats as a float.</dd>
 *     <dt>Text</dt>
 *     <dd>**Default** No processing of the text string from XML.</dd>
 *     <dt>User</dt>
 *     <dd>Similar to Lookup but uses the "User" prototype as a constructor to convert into a
 *     User object with "lookupId" and "lookupValue" attributes.  The lookupId is the site collection
 *     ID for the user and the lookupValue is typically the display name.
 *     See [User](#/api/User) for more information.
 *     </dd>
 *     <dt>UserMulti</dt>
 *     <dd>Parses delimited string to returns an array of User objects.</dd>
 * </dl>
 * @param {string} obj.mappedName The attribute name we'd like to use
 * for this field on the newly created JS object.
 * @param {boolean} [obj.readOnly=false] When saving, we only push fields
 * that are mapped and not read only.
 * @param {boolean} [obj.required=false] Allows us to validate the field to ensure it is valid based
 * on field type.
 * @returns {object} Field
 *
 * @requires angularPoint.apFieldFactory
 * @constructor
 */
var FieldDefinition = (function () {
    function FieldDefinition(obj) {
        this.objectType = 'Text';
        this.readOnly = false;
        __WEBPACK_IMPORTED_MODULE_0_lodash__["assign"](this, obj);
        this.displayName = this.displayName ? this.displayName : apUtilityService.fromCamelCase(this.mappedName);
        /** Deprecated internal name and replace with staticName but maintain compatibility */
        this.staticName = this.staticName || this.internalName;
    }
    /**
     * @ngdoc function
     * @name Field:getDefaultValueForType
     * @methodOf Field
     * @description
     * Can return mock data appropriate for the field type, by default it dynamically generates data but
     * the staticValue param will instead return a hard coded type specific value.
     */
    FieldDefinition.prototype.getDefaultValueForType = function () {
        return apFieldService.getDefaultValueForType(this.objectType);
    };
    /**
     * @ngdoc function
     * @name Field:getFormattedValue
     * @methodOf Field
     * @description
     * By default uses the formatted field service to convert a field value into a formatted string
     * readable by user.  Optionally can override in field definition with formatter property to return
     * custom formatted value. A good example of this would be to stringify a discussion thread.
     * @param {ListItem<any>} listItem List used to generate field value.
     * @param {object} [options] Pass through to apFormattedFieldValueService.getFormattedFieldValue.
     * @returns {string} Formatted field value suitable for outputting to user.
     * @example
     * <pre>
     *  //In model.list.customFields defining a field
     * {
         * 	  mappedName: 'lookup',
         * 	  objectType: 'Lookup',
         *    staticName: 'MyAwesomeLookup',
         * 	  formatter: (listItem: ListItem<any>, fieldDefinition: IFieldDefinition, options?: Object) => {
         * 	  	 return listItem[fieldDefinition.mappedName].lookupValue.toUpperCase();
         * 	  }
         * }
     * </pre>
     */
    FieldDefinition.prototype.getFormattedValue = function (listItem, options) {
        //Optionally provide a custom method to convert a field value into a formatted string
        return __WEBPACK_IMPORTED_MODULE_0_lodash__["isFunction"](this.formatter) ? this.formatter(listItem, this, options) :
            apFormattedFieldValueService
                .getFormattedFieldValue(listItem[this.mappedName], this.objectType, options);
    };
    /**
     * @ngdoc function
     * @name Field:getMockData
     * @methodOf Field
     * @param {object} [options] Optional params passed to apFieldService.getMockData.
     * @param {boolean} [options.staticValue=false] Default to dynamically build mock data.
     * @returns {*} mockData
     */
    FieldDefinition.prototype.getMockData = function (options) {
        return apFieldService.getMockData(this.objectType, options);
    };
    return FieldDefinition;
}());

/**
 * @ngdoc service
 * @name angularPoint.apFieldFactory
 * @description
 * Contains the Field constructor and prototype definitions.
 * @property {constructor} Field The Field constructor.
 *
 * @requires angularPoint.apFieldService
 * @requires angularPoint.apUtilityService
 *
 */
var FieldFactory = (function () {
    function FieldFactory(_apFieldService_, _apUtilityService_, _apFormattedFieldValueService_) {
        this.FieldDefinition = FieldDefinition;
        apFieldService = _apFieldService_;
        apUtilityService = _apUtilityService_;
        apFormattedFieldValueService = _apFormattedFieldValueService_;
    }
    return FieldFactory;
}());

FieldFactory.$inject = ['apFieldService', 'apUtilityService', 'apFormattedFieldValueService'];


/***/ },
/* 13 */
/***/ function(module, exports, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__apIndexedCacheFactory__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__app_module__ = __webpack_require__(1);
/* harmony export (binding) */ __webpack_require__.d(exports, "a", function() { return ListItem; });
/* harmony export (binding) */ __webpack_require__.d(exports, "b", function() { return StandardListItem; });
/* harmony export (binding) */ __webpack_require__.d(exports, "c", function() { return ListItemFactory; });



var $q, apCacheService, apDataService, apDecodeService, apEncodeService, apUtilityService, apListItemVersionFactory, apChangeService;
/**
 * @ngdoc object
 * @name ListItem
 * @description
 * Base prototype which all list items inherit from.  All methods can be accessed through this prototype so all CRUD
 * functionality can be called directly from a given list item.
 * @constructor
 */
var ListItem = (function () {
    function ListItem() {
    }
    /**
     * @ngdoc function
     * @name ListItem.changes
     * @description
     * Checks a given list item compared to its pristine state and retuns a field change summary
     * with information on any significant changes to non-readonly fields.
     * @returns {FieldChangeSummary<T>} Change summary of all fields that have been modified
     * since last save.
     */
    ListItem.prototype.changes = function () {
        //Instantiate a copy of the original list item for comparrison
        var pristineListItem = __WEBPACK_IMPORTED_MODULE_0_lodash__["cloneDeep"](this.getPristine());
        if (!pristineListItem) {
            throw new Error('Could not retrieve a pristine version of this list item.');
        }
        //Remove id so when we instantiate we don't register in cache
        pristineListItem.id = undefined;
        //Need to instantiate using the same factory as the current list item
        var factory = this.constructor;
        var instantiatedPristineListItem = new factory(pristineListItem);
        return new apListItemVersionFactory.FieldChangeSummary(this, instantiatedPristineListItem);
    };
    /**
     * @ngdoc function
     * @name ListItem.deleteAttachment
     * @description
     * Delete an attachment from a list item.
     * @param {string} url Requires the URL for the attachment we want to delete.
     * @returns {object} Promise which resolves with the updated attachment collection.
     * @example
     * <pre>
     * $scope.deleteAttachment = function (attachment) {
         *     let confirmation = window.confirm("Are you sure you want to delete this file?");
         *     if (confirmation) {
         *         scope.listItem.deleteAttachment(attachment).then(function () {
         *             alert("Attachment successfully deleted");
         *         });
         *     }
         * };
     * </pre>
     */
    ListItem.prototype.deleteAttachment = function (url) {
        return apDataService.serviceWrapper({
            operation: 'DeleteAttachment',
            filterNode: 'Field',
            listItemID: this.id,
            url: url,
            listName: this.getListId()
        });
    };
    /**
     * @ngdoc function
     * @name ListItem.deleteItem
     * @description
     * Deletes record directly from the object and removes record from user cache.
     * @returns {object} Promise which really only lets us know the request is complete.
     * @example
     * ```
     * <ul>
     *    <li ng-repeat="task in tasks">
     *        {{task.title}} <a href ng-click="task.deleteItem()>delete</a>
     *    </li>
     * </ul>
     * ```
     * List of tasks.  When the delete link is clicked, the list item item is removed from the local cache and
     * the view is updated to no longer show the task.
     */
    ListItem.prototype.deleteItem = function () {
        var listItem = this;
        var model = listItem.getModel();
        var deferred = $q.defer();
        var config = {
            operation: 'UpdateListItems',
            listName: model.getListId(),
            batchCmd: 'Delete',
            ID: listItem.id,
            valuePairs: undefined,
            webURL: model.list.identifyWebURL()
        };
        if (__WEBPACK_IMPORTED_MODULE_0_lodash__["isFunction"](listItem.preDeleteAction) && !listItem.preDeleteAction()) {
            //preDeleteAction exists but returned false so we don't delete
            deferred.reject('Pre-Delete Action Returned False');
        }
        else {
            /** Check to see if list item or document because documents need the FileRef as well as id to delete */
            if (listItem.fileRef && listItem.fileRef.lookupValue) {
                var fileExtension = listItem.fileRef.lookupValue.split('.').pop();
                if (__WEBPACK_IMPORTED_MODULE_0_lodash__["isNaN"](fileExtension)) {
                    /** File extension instead of numeric extension so it's a document
                     * @Example
                     * Document: "Site/library/file.csv"
                     * List Item: "Site/List/5_.000"
                     * */
                    config.valuePairs = [['FileRef', listItem.fileRef.lookupValue]];
                }
            }
            apDataService.serviceWrapper(config)
                .then(function (response) {
                /** Optionally broadcast change event */
                apUtilityService.registerChange(model, 'delete', listItem.id);
                /** Success */
                apCacheService.deleteEntity(config.listName, listItem.id);
                deferred.resolve(response);
            })
                .catch(function (err) {
                //In the event of an error, display toast
                var msg = 'There was an error deleting list item ' + listItem.id + ' from ' + model.list.title +
                    ' due to the following Error: ' + err;
                deferred.reject(msg);
            });
        }
        return deferred.promise;
    };
    /**
     * @ngdoc function
     * @name ListItem.getAttachmentCollection
     * @description
     * Requests all attachments for a given list item.
     * @returns {object} Promise which resolves with all attachments for a list item.
     * @example
     * <pre>
     * //Pull down all attachments for the current list item
     * let fetchAttachments = function (listItem) {
         *     listItem.getAttachmentCollection()
         *         .then(function (attachments) {
         *             scope.attachments = attachments;
         *         });
         * };
     * </pre>
     */
    ListItem.prototype.getAttachmentCollection = function () {
        var listItem = this;
        return apDataService.getCollection({
            operation: 'GetAttachmentCollection',
            listName: listItem.getListId(),
            webURL: listItem.getList().webURL,
            ID: listItem.id,
            filterNode: 'Attachment'
        });
    };
    /**
     * @ngdoc function
     * @name ListItem.getAvailableWorkflows
     * @description
     * Wrapper for apDataService.getAvailableWorkflows.  Simply passes the current item in.
     * @returns {promise} Array of objects defining each of the available workflows.
     */
    ListItem.prototype.getAvailableWorkflows = function () {
        var listItem = this;
        return apDataService.getAvailableWorkflows(listItem.fileRef.lookupValue);
    };
    /**
     * @ngdoc function
     * @name ListItem.getChanges
     * @description
     * Wrapper for model.getListItemById.  Queries server for any changes and extends the existing
     * list item with those changes.
     * @returns {promise} Promise which resolves with the updated list item.
     */
    ListItem.prototype.getChanges = function () {
        var model = this.getModel();
        return model.getListItemById(this.id);
    };
    /**
     * @ngdoc function
     * @name ListItem.getChangeSummary
     * @description
     * Uses ListItem.getVersionHistory and determines what information changed between each list item
     * version.
     * @param {string[]} [fieldNames] An array/single string of field names on the list item to fetch a version
     * history for.
     * @returns {ng.IPromise<ChangeSummary<T>>} Promise which resolves with an array of list item versions.
     * @example
     * Assuming we have a modal form where we want to display each version of the title and project fields
     * of a given list item.
     * <pre>
     * myGenericListItem.getChangeSummary(['title', 'project'])
     *     .then(function(changeSummary: ChangeSummary) {
         *            // We now have an array of every version of these fields
         *            $ctrl.changeSummary = changeSummary;
         *      };
     * </pre>
     */
    ListItem.prototype.getChangeSummary = function (fieldNames) {
        return this.getVersionHistory(fieldNames)
            .then(function (versionHistoryCollection) { return versionHistoryCollection.generateChangeSummary(); });
    };
    /**
     * @ngdoc function
     * @name ListItem.getFieldChoices
     * @param {string} fieldName Internal field name.
     * @description
     * Uses the field definition defined in the model to attempt to find the choices array for a given Lookup or
     * MultiLookup type field.  The default value is fieldDefinition.choices which can optionally be added to a
     * given field definition.  If this isn't found, we check fieldDefinition.Choices which is populated after a
     * GetListItemsSinceToken operation or a Model.extendListMetadata operation.  Finally if that isn't available
     * we return an empty array.
     * @returns {string[]} An array of choices for a Choice or MultiChoice type field.
     */
    ListItem.prototype.getFieldChoices = function (fieldName) {
        var listItem = this;
        var fieldDefinition = listItem.getFieldDefinition(fieldName);
        return fieldDefinition.choices || fieldDefinition.Choices || [];
    };
    /**
     * @ngdoc function
     * @name ListItem.getFieldDefinition
     * @description
     * Returns the field definition from the definitions defined in the custom fields array within a model.
     * @example
     * <pre>
     * let project = {
         *    title: 'Project 1',
         *    location: {
         *        lookupId: 5,
         *        lookupValue: 'Some Building'
         *    }
         * };
     *
     * //To get field metadata
     * let locationDefinition = project.getFieldDefinition('location');
     * </pre>
     * @param {string} fieldName Internal field name.
     * @returns {object} Field definition.
     */
    ListItem.prototype.getFieldDefinition = function (fieldName) {
        var listItem = this;
        return listItem.getModel().getFieldDefinition(fieldName);
    };
    /**
     * @ngdoc function
     * @name ListItem.getFieldDescription
     * @param {string} fieldName Internal field name.
     * @description
     * Uses the field definition defined in the model to attempt to find the description for a given field.  The default
     * value is fieldDefinition.Description which is populated after a GetListItemsSinceToken operation or a
     * Model.extendListMetadata operation.  If this isn't available we look for an optional attribute of a field
     * fieldDefinition.description.  Finally if that have anything it returns an empty string.
     * @returns {string} The description for a given field object.
     */
    ListItem.prototype.getFieldDescription = function (fieldName) {
        var listItem = this;
        var fieldDefinition = listItem.getFieldDefinition(fieldName);
        return fieldDefinition.description || fieldDefinition.Description || '';
    };
    /**
     * @ngdoc function
     * @name ListItem.getFieldLabel
     * @param {string} fieldName Internal field name.
     * @description
     * Uses the field definition defined in the model to attempt to find the label for a given field.  The default
     * value is fieldDefinition.label.  If not available it will then use fieldDefinition.DisplayName which is
     * populated after a GetListItemsSinceToken operation or a Model.extendListMetadata operation.  If this isn't
     * available it will fallback to the the fieldDefinition.DisplayName which is a best guess at converting the
     * caml case version of the mapped name using apUtilityService.fromCamelCase.
     * @returns {string} The label for a given field object.
     */
    ListItem.prototype.getFieldLabel = function (fieldName) {
        var listItem = this;
        var fieldDefinition = listItem.getFieldDefinition(fieldName);
        return fieldDefinition.label || fieldDefinition.DisplayName || fieldDefinition.displayName;
    };
    /**
     * @ngdoc function
     * @name ListItem.getFormattedValue
     * @description
     * Given the attribute name on a listItem, we can lookup the field type and from there return a formatted
     * string representation of that value.
     * @param {string} fieldName Attribute name on the object that contains the value to stringify.
     * @param {object} [options] Pass through to apFormattedFieldValueService.getFormattedFieldValue or any
     * custom method specified on the field definition.
     * @returns {string} Formatted string representing the field value.
     */
    ListItem.prototype.getFormattedValue = function (fieldName, options) {
        var listItem = this;
        var fieldDefinition = listItem.getFieldDefinition(fieldName);
        if (!fieldDefinition) {
            throw new Error("A field definition for a field named " + fieldName + " wasn't found.");
        }
        return fieldDefinition.getFormattedValue(this, options);
    };
    /**
     * @ngdoc function
     * @name ListItem.getList
     * @description
     * Abstraction to allow logic in model to be used instead of defining the list location in more than one place.
     * @returns {object} List for the list item.
     */
    ListItem.prototype.getList = function () {
        var model = this.getModel();
        return model.getList();
    };
    /**
     * @ngdoc function
     * @name ListItem.getListId
     * @description
     * Allows us to reference the list ID directly from the list item.  This is added to the
     * model.factory prototype in apModelFactory.
     * @returns {string} List ID.
     */
    ListItem.prototype.getListId = function () {
        var model = this.getModel();
        return model.getListId();
    };
    /**
     * @ngdoc function
     * @name ListItem.getLookupReference
     * @description
     * Allows us to retrieve the listItem being referenced in a given lookup field.
     * @param {string} fieldName Name of the lookup property on the list item that references a listItem.
     * @param {number} [lookupId=listItem.fieldName.lookupId] The listItem.lookupId of the lookup object.  This allows us to also use this logic
     * on a multi-select by iterating over each of the lookups.
     * @example
     * <pre>
     * let project = {
         *    title: 'Project 1',
         *    location: {
         *        lookupId: 5,
         *        lookupValue: 'Some Building'
         *    }
         * };
     *
     * //To get the location listItem
     * let listItem = project.getLookupReference('location');
     * </pre>
     * @returns {object} The listItem the lookup is referencing or undefined if not in the cache.
     */
    ListItem.prototype.getLookupReference = function (fieldName, lookupId) {
        var listItem = this;
        var lookupReference;
        if (__WEBPACK_IMPORTED_MODULE_0_lodash__["isUndefined"](fieldName)) {
            throw new Error('A field name is required.');
        }
        else if (__WEBPACK_IMPORTED_MODULE_0_lodash__["isEmpty"](listItem[fieldName])) {
            lookupReference = '';
        }
        else {
            var model = listItem.getModel();
            var fieldDefinition = model.getFieldDefinition(fieldName);
            /** Ensure the field definition has the List attribute which contains the GUID of the list
             *  that a lookup is referencing. */
            if (fieldDefinition && fieldDefinition.List) {
                var targetId = lookupId || listItem[fieldName].lookupId;
                lookupReference = apCacheService.getCachedEntity(fieldDefinition.List, targetId);
            }
            else {
                throw new Error("This isn't a valid Lookup field or the field definitions need to be extended\n                        before we can complete this request.");
            }
        }
        return lookupReference;
    };
    /**
     * @ngdoc function
     * @name ListItem.getVersionHistory
     * @description
     * Takes an array of field names, finds the version history for field, and returns a snapshot of the object at each
     * version.  If no fields are provided, we look at the field definitions in the model and pull all non-readonly
     * fields.  The only way to do this that I've been able to get working is to get the version history for each
     * field independently and then build the history by combining the server responses for each requests into a
     * snapshot of the object.  Each version has the standard modified date but also includes a version property with
     * the version number.
     * @param {string[]} [properties] An array of property names on the list item
     * that we're interested in.
     * @returns {ng.IPromise<VersionHistoryCollection<T>>} Promise which resolves with an object with keys=version
     * and values = ListItemVersion.
     * @example
     * Assuming we have a modal form where we want to display each version of the title and project fields
     * of a given list item.
     * <pre>
     * myGenericListItem.getVersionHistory(['title', 'project'])
     *     .then(function(versionHistory) {
         *            // We now have an array of every version of these fields
         *            $ctrl.versionHistory = versionHistory;
         *      })
     *      .catch(function(err) {
         *          // Do something with the error
         *      });
     * </pre>
     */
    ListItem.prototype.getVersionHistory = function (properties) {
        var listItem = this;
        var model = listItem.getModel();
        var promiseArray = [];
        if (properties && !__WEBPACK_IMPORTED_MODULE_0_lodash__["isArray"](properties))
            throw new Error('Properties are required to be formatted as an array of strings.');
        if (!properties) {
            /** If fields aren't provided, pull the version history for all NON-readonly fields */
            var targetFields = model.list.fields.filter(function (field) { return field.readOnly === false; });
            properties = __WEBPACK_IMPORTED_MODULE_0_lodash__["map"](targetFields, 'mappedName');
        }
        /** Generate promises for each field */
        __WEBPACK_IMPORTED_MODULE_0_lodash__["each"](properties, function (prop) {
            var promise = createPromise(prop);
            promiseArray.push(promise);
        });
        /** Pause until all requests are resolved */
        return $q.all(promiseArray)
            .then(function (fieldVersionCollections) {
            var versionHistoryCollection = new apListItemVersionFactory.VersionHistoryCollection(fieldVersionCollections, model.factory);
            return versionHistoryCollection;
        });
        /** Constructor that creates a promise for each field */
        function createPromise(prop) {
            var fieldDefinition = listItem.getFieldDefinition(prop);
            var payload = {
                operation: 'GetVersionCollection',
                strlistID: model.getListId(),
                strlistItemID: listItem.id,
                strFieldName: fieldDefinition.staticName,
                webURL: undefined
            };
            /** Manually set site url if defined, prevents SPServices from making a blocking call to fetch it. */
            // if (apConfig.defaultUrl) {
            payload.webURL = __WEBPACK_IMPORTED_MODULE_2__app_module__["ENV"].site;
            // }
            return apDataService.getFieldVersionHistory(payload, fieldDefinition);
        }
    };
    /**
     * @ngdoc function
     * @name ListItem.isPristine
     * @description
     * Determines if a list item has changed since it was instantiated.
     * @returns {boolean} The list item is unchanged.
     */
    ListItem.prototype.isPristine = function () {
        return !this.changes().hasMajorChanges;
    };
    /**
     * @ngdoc function
     * @name ListItem.prototype.registerPreDeleteAction
     * @param {Function} action Function that accepts no arguments and returns a boolean determining if delete can continue.
     * @returns {Function} Function that can be called to unregister.
     * @description
     * Register a function on the list item prototype that is executed prior to deleting.  Good use case
     * is to perform cleanup prior to deleting or determining if user can delete.  Method returns boolean and if
     * true delete will continue, otherwise delete is prevented. There is no ListItem.registerPostDeleteAction because
     * the list item no longer exists.
     *
     * @example
     * <pre>
     * //In example projectsService.ts
     *  export class Project extends ListItem<Project>{
         *      title: string;
         *      users: User[];
         *      ...some other expected attributes
         *      constructor(obj) {
         *          super(obj);
         *          _.assign(this, obj);
         *      }
         *  }
     *
     *  let unregister = Project.prototype.registerPreDeleteAction(function() {
         *      //Do some validation here and return true if user can delete
         *      //otherwise return false to prevent delete action
         *  });
     *
     *  //At some point in the future if no longer necessary
     *  unregister();
     *
     * </pre>
     */
    ListItem.prototype.registerPreDeleteAction = function (action) {
        var _this = this;
        this.preDeleteAction = action;
        //Return function to unregister
        return function () { return _this.preDeleteAction = undefined; };
    };
    /**
     * @ngdoc function
     * @name ListItem.prototype.registerPreSaveAction
     * @param {Function} action Function that accepts no arguments and returns a boolean determining is save can continue.
     * @returns {Function} Function that can be called to unregister.
     * @description
     * Register a function on the list item prototype that is executed prior to saving.  Good use case
     * is to validate list item or perform cleanup prior to saving.  Method returns boolean and if
     * true save will continue, otherwise save is prevented.
     *
     * @example
     * <pre>
     * //In example projectsService.ts
     *  export class Project extends ListItem<Project>{
         *      title: string;
         *      users: User[];
         *      ...some other expected attributes
         *      constructor(obj) {
         *          super(obj);
         *          _.assign(this, obj);
         *      }
         *  }
     *
     *  let unregister = Project.prototype.registerPreSaveAction(function() {
         *      //Do some validation here and return true if user can save
         *      //otherwise return false to prevent save action
         *  });
     *
     *  //At some point in the future if no longer necessary
     *  unregister();
     *
     * </pre>
     */
    ListItem.prototype.registerPreSaveAction = function (action) {
        var _this = this;
        this.preSaveAction = action;
        //Return function to unregister
        return function () { return _this.preSaveAction = undefined; };
    };
    /**
     * @ngdoc function
     * @name ListItem.prototype.registerPostSaveAction
     * @param {Function} action Callback function that accepts no arguments, returns nothing, and is called
     * after a list item has completed saving.
     * @returns {Function} Function that can be called to unregister.
     * @description
     * Register a function on the model prototype that is executed after saving.  Good use case
     * is to perform cleanup after save.
     *
     * @example
     * <pre>
     * //In example projectsService.ts
     *  export class Project extends ListItem<Project>{
         *      title: string;
         *      users: User[];
         *      ...some other expected attributes
         *      constructor(obj) {
         *          super(obj);
         *          _.assign(this, obj);
         *      }
         *  }
     *
     *  let unregister = Project.prototype.registerPostSaveAction(function() {
         *      //Use this method to perform any cleanup after save event
         *      //for any list item of this type
         *  });
     *
     *  //At some point in the future if no longer necessary
     *  unregister();
     *
     * </pre>
     */
    ListItem.prototype.registerPostSaveAction = function (action) {
        var _this = this;
        this.postSaveAction = action;
        //Return function to unregister
        return function () { return delete _this.postSaveAction; };
    };
    /**
     * @ngdoc function
     * @name ListItem.resolvePermissions
     * @description
     * See apModelService.resolvePermissions for details on what we expect to have returned.
     * @returns {Object} Contains properties for each permission level evaluated for current user.
     * @example
     * Lets assume we're checking to see if a user has edit rights for a given task list item.
     * <pre>
     * let canUserEdit = function(task) {
         *      let userPermissions = task.resolvePermissions();
         *      return userPermissions.EditListItems;
         * };
     * </pre>
     * Example of what the returned object would look like
     * for a site admin.
     * <pre>
     * userPermissions = {
         *    "ViewListItems": true,
         *    "AddListItems": true,
         *    "EditListItems": true,
         *    "DeleteListItems": true,
         *    "ApproveItems": true,
         *    "OpenItems": true,
         *    "ViewVersions": true,
         *    "DeleteVersions": true,
         *    "CancelCheckout": true,
         *    "PersonalViews": true,
         *    "ManageLists": true,
         *    "ViewFormPages": true,
         *    "Open": true,
         *    "ViewPages": true,
         *    "AddAndCustomizePages": true,
         *    "ApplyThemeAndBorder": true,
         *    "ApplyStyleSheets": true,
         *    "ViewUsageData": true,
         *    "CreateSSCSite": true,
         *    "ManageSubwebs": true,
         *    "CreateGroups": true,
         *    "ManagePermissions": true,
         *    "BrowseDirectories": true,
         *    "BrowseUserInfo": true,
         *    "AddDelPrivateWebParts": true,
         *    "UpdatePersonalWebParts": true,
         *    "ManageWeb": true,
         *    "UseRemoteAPIs": true,
         *    "ManageAlerts": true,
         *    "CreateAlerts": true,
         *    "EditMyUserInfo": true,
         *    "EnumeratePermissions": true,
         *    "FullMask": true
         * }
     * </pre>
     */
    ListItem.prototype.resolvePermissions = function () {
        return apUtilityService.resolvePermissions(this.permMask);
    };
    /**
     * @ngdoc function
     * @name ListItem.saveChanges
     * @description
     * Updates record directly from the object
     * @param {object} [options] Optionally pass params to the data service.
     * @param {boolean} [options.updateAllCaches=false] Search through the cache for each query to ensure listItem is
     * updated everywhere.  This is more process intensive so by default we only update the cached listItem in the
     * cache where this listItem is currently stored.
     * @returns {object} Promise which resolved with the updated list item from the server.
     * @example
     * <pre>
     * // Example of save function on a fictitious
     * // app/modules/tasks/TaskDetailsCtrl.js modal form.
     * $scope.saveChanges = function(task) {
         *      task.saveChanges().then(function() {
         *          // Successfully saved so we can do something
         *          // like close form
         *
         *          }, function() {
         *          // Failure
         *
         *          });
         * }
     * </pre>
     */
    ListItem.prototype.saveChanges = function (_a) {
        var _b = _a === void 0 ? {} : _a, _c = _b.target, target = _c === void 0 ? this.getCache ? this.getCache() : new __WEBPACK_IMPORTED_MODULE_1__apIndexedCacheFactory__["a" /* IndexedCache */]() : _c, _d = _b.valuePairs, valuePairs = _d === void 0 ? undefined : _d, _e = _b.buildValuePairs, buildValuePairs = _e === void 0 ? true : _e;
        var listItem = this;
        var model = listItem.getModel();
        var deferred = $q.defer();
        var config = {
            batchCmd: 'Update',
            buildValuePairs: buildValuePairs,
            ID: listItem.id,
            listName: model.getListId(),
            operation: 'UpdateListItems',
            target: target,
            valuePairs: valuePairs,
            webURL: model.list.identifyWebURL()
        };
        if (__WEBPACK_IMPORTED_MODULE_0_lodash__["isFunction"](listItem.preSaveAction) && !listItem.preSaveAction()) {
            //preSaveAction exists but returned false so we don't save
            deferred.reject('Pre-Save Action Returned False');
        }
        else {
            //Either no preSaveAction registered or it passed validation
            /** Redirect if the request is actually creating a new list item.  This can occur if we create
             * an empty item that is instantiated from the model and then attempt to save instead of using
             * model.addNewItem */
            if (!listItem.id) {
                return model.addNewItem(listItem, { valuePairs: valuePairs, buildValuePairs: buildValuePairs });
            }
            if (buildValuePairs === true) {
                var editableFields = __WEBPACK_IMPORTED_MODULE_0_lodash__["filter"](model.list.fields, { readOnly: false });
                config.valuePairs = apEncodeService.generateValuePairs(editableFields, listItem);
            }
            var request = apDataService.serviceWrapper(config)
                .then(function (response) {
                var indexedCache = apDecodeService.processListItems(model, listItem.getQuery(), response, config);
                //Identify updated list item
                var updatedListItem = indexedCache.get(listItem.id);
                /** Optionally broadcast change event */
                apUtilityService.registerChange(model, 'update', updatedListItem.id);
                //Optionally perform any post save cleanup if registered
                if (__WEBPACK_IMPORTED_MODULE_0_lodash__["isFunction"](listItem.postSaveAction)) {
                    listItem.postSaveAction();
                }
                ;
                //Resolve with the updated list item
                deferred.resolve(updatedListItem);
            });
            /** Notify change service to expect a request, only useful at this point when working offline */
            apChangeService.registerListItemUpdate(listItem, config, deferred.promise);
        }
        return deferred.promise;
    };
    /**
     * @ngdoc function
     * @name ListItem.saveFields
     * @description
     * Saves a named subset of fields back to SharePoint.  This is an alternative to saving all fields.
     * @param {string[]} fieldArray Array of internal field names that should be saved to SharePoint.
     * @param {object} [options] Optionally pass params to the data service.
     * @returns {object} Promise which resolves with the updated list item from the server.
     * @example
     * <pre>
     * // Example of saveFields function on a fictitious
     * // app/modules/tasks/TaskDetailsCtrl.js modal form.
     * // Similar to saveChanges but instead we only save
     * // specified fields instead of pushing everything.
     * $scope.updateStatus = function(task) {
         *      task.saveFields(['status', 'notes'])
         *          .then(function(updatedListItem) {
         *              // Successfully updated the status and
         *              // notes fields for the given task
         *
         *          })
         *          .catch(function(err) {
         *              // Failure to update the field
         *
         *          });
         * }
     * </pre>
     */
    ListItem.prototype.saveFields = function (fieldArray, _a) {
        var _b = (_a === void 0 ? {} : _a).target, target = _b === void 0 ? this.getCache ? this.getCache() : new __WEBPACK_IMPORTED_MODULE_1__apIndexedCacheFactory__["a" /* IndexedCache */]() : _b;
        var listItem = this;
        var model = listItem.getModel();
        var definitions = [];
        var fieldName;
        if (__WEBPACK_IMPORTED_MODULE_0_lodash__["isString"](fieldArray)) {
            console.warn('Field names should be an array of strings instead of a single string.  This will be deperecated.');
        }
        /** Allow a string to be passed in to save a single field */
        var fieldNames = __WEBPACK_IMPORTED_MODULE_0_lodash__["isString"](fieldArray) ? [fieldArray] : fieldArray;
        /** Find the field definition for each of the requested fields */
        for (var _i = 0, fieldNames_1 = fieldNames; _i < fieldNames_1.length; _i++) {
            var fieldName_1 = fieldNames_1[_i];
            var match = __WEBPACK_IMPORTED_MODULE_0_lodash__["find"](model.list.customFields, { mappedName: fieldName_1 });
            if (match) {
                definitions.push(match);
            }
        }
        /** Generate value pairs for specified fields */
        var valuePairs = apEncodeService.generateValuePairs(definitions, listItem);
        return this.saveChanges({
            buildValuePairs: false,
            target: target,
            valuePairs: valuePairs
        });
    };
    /**
     * @ngdoc function
     * @name ListItem.setPristine
     * @param {ListItem} [listItem] Optionally pass list item object back to the list item constructor to
     * run any initialization logic.  Otherwise we just overwrite existing values on the object with a copy from the
     * original object.
     * @description
     * Resets all list item properties back to a pristine state but doesn't update any properties added
     * manually to the list item.
     */
    ListItem.prototype.setPristine = function (listItem) {
        if (!this.id || !__WEBPACK_IMPORTED_MODULE_0_lodash__["isFunction"](this.getPristine)) {
            throw new Error('Unable to find the pristine state for this list item.');
        }
        var pristineState = this.getPristine();
        if (listItem) {
            listItem.constructor(pristineState);
        }
        else {
            __WEBPACK_IMPORTED_MODULE_0_lodash__["assign"](this, pristineState);
        }
    };
    /**
     * @ngdoc function
     * @name ListItem.startWorkflow
     * @description
     * Given a workflow name or templateId we initiate a given workflow using apDataService.startWorkflow.
     * @param {object} options Params for method and pass through options to apDataService.startWorkflow.
     * @param {string} [options.templateId] Used to directly start the workflow without looking up the templateId.
     * @param {string} [options.workflowName] Use this value to lookup the templateId and then start the workflow.
     * @returns {promise} Resolves with server response.
     */
    ListItem.prototype.startWorkflow = function (options) {
        var listItem = this, deferred = $q.defer();
        /** Set the relative file reference */
        options.fileRef = listItem.fileRef.lookupValue;
        if (!options.templateId && !options.workflowName) {
            throw new Error('Either a templateId or workflowName is required to initiate a workflow.');
        }
        else if (options.templateId) {
            /** The templateId is already provided so we don't need to look for it */
            initiateRequest();
        }
        else {
            /** We first need to get the template GUID for the workflow */
            listItem.getAvailableWorkflows()
                .then(function (workflows) {
                var targetWorklow = __WEBPACK_IMPORTED_MODULE_0_lodash__["find"](workflows, { name: options.workflowName });
                if (!targetWorklow) {
                    throw new Error("A workflow with the name " + options.workflowName + " wasn't found.  The workflows available are [" + __WEBPACK_IMPORTED_MODULE_0_lodash__["map"](workflows, 'name').toString() + "].");
                }
                /** Create an extended set of options to pass any overrides to apDataService */
                options.templateId = targetWorklow.templateId;
                initiateRequest();
            });
        }
        return deferred.promise;
        function initiateRequest() {
            apDataService.startWorkflow(options)
                .then(function (xmlResponse) {
                deferred.resolve(xmlResponse);
            });
        }
    };
    /**
     * @ngdoc function
     * @name ListItem.validateEntity
     * @description
     * Helper function that passes the current item to Model.validateEntity
     * @returns {boolean} Evaluation of validity.
     */
    ListItem.prototype.validateEntity = function () {
        var listItem = this, model = listItem.getModel();
        return model.validateEntity(listItem);
    };
    return ListItem;
}());

/** In the event that a factory isn't specified, just use a
 * standard constructor to allow it to inherit from ListItem */
var StandardListItem = (function () {
    function StandardListItem(obj) {
        __WEBPACK_IMPORTED_MODULE_0_lodash__["assign"](this, obj);
    }
    return StandardListItem;
}());

/**
 * @ngdoc object
 * @name apListItemFactory
 * @description
 * Exposes the ListItem prototype and a constructor to instantiate a new ListItem.
 * See [ListItem](#/api/ListItem) for details of the methods available on the prototype.
 *
 * @requires ListItem
 * @requires apCacheService
 * @requires apDataService
 * @requires apUtilityService
 */
var ListItemFactory = (function () {
    function ListItemFactory(_$q_, _apCacheService_, _apChangeService_, _apDataService_, _apDecodeService_, _apEncodeService_, _apUtilityService_, _apListItemVersionFactory_) {
        this.ListItem = ListItem;
        $q = _$q_;
        apCacheService = _apCacheService_;
        apChangeService = _apChangeService_;
        // apConfig = _apConfig_;
        apDataService = _apDataService_;
        apDecodeService = _apDecodeService_;
        apEncodeService = _apEncodeService_;
        apUtilityService = _apUtilityService_;
        apListItemVersionFactory = _apListItemVersionFactory_;
    }
    /**
     * @ngdoc function
     * @name apListItemFactory: create
     * @methodOf apListItemFactory
     * @description
     * Instantiates and returns a new ListItem.
     */
    ListItemFactory.prototype.create = function () {
        return new ListItem();
    };
    /**
     * @ngdoc function
     * @name apListItemFactory: createGenericFactory
     * @methodOf apListItemFactory
     * @description
     * In the event that a factory isn't specified, just use a
     * standard constructor to allow it to inherit from ListItem
     */
    ListItemFactory.prototype.createGenericFactory = function () {
        return new StandardListItem();
    };
    return ListItemFactory;
}());

ListItemFactory.$inject = ['$q', 'apCacheService', 'apChangeService', 'apDataService', 'apDecodeService', 'apEncodeService', 'apUtilityService', 'apListItemVersionFactory'];


/***/ },
/* 14 */
/***/ function(module, exports, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(exports, "a", function() { return Lookup; });
/* harmony export (binding) */ __webpack_require__.d(exports, "b", function() { return LookupFactory; });
var $q;
var apUtilityService;
/**
 * @ngdoc function
 * @name Lookup
 * @description
 * Allows for easier distinction when debugging if object type is shown as either Lookup or User.  Also allows us
 * to create an async request for the entity being referenced by the lookup
 * @param {string} s String to split into lookupValue and lookupId
 * @param {object} options Contains a reference to the parent list item and the property name.
 * @param {object} options.entity Reference to parent list item.
 * @param {object} options.propertyName Key on list item object.
 * @constructor
 */
var Lookup = (function () {
    function Lookup(str, options) {
        var thisLookup = new apUtilityService.SplitIndex(str);
        this.lookupId = thisLookup.id;
        this.lookupValue = thisLookup.value || '';
    }
    return Lookup;
}());

/**
 * @ngdoc function
 * @name angularPoint.apLookupFactory
 * @description
 * Tools to assist with the creation of CAML queries.
 */
var LookupFactory = (function () {
    function LookupFactory(_$q_, _apUtilityService_) {
        this.Lookup = Lookup;
        $q = _$q_;
        apUtilityService = _apUtilityService_;
    }
    /**
     * @ngdoc function
     * @name angularPoint.apLookupFactory:create
     * @methodOf angularPoint.apLookupFactory
     * @description
     * Instantiates and returns a new Lookup field.
     */
    LookupFactory.prototype.create = function (str, options) {
        return new Lookup(str, options);
    };
    return LookupFactory;
}());

LookupFactory.$inject = ['$q', 'apUtilityService'];


/***/ },
/* 15 */
/***/ function(module, exports, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__apListFactory__ = __webpack_require__(32);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__constants_apPermissionObject__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__app_module__ = __webpack_require__(1);
/* harmony export (binding) */ __webpack_require__.d(exports, "a", function() { return Model; });
/* harmony export (binding) */ __webpack_require__.d(exports, "b", function() { return ModelFactory; });




var apCacheService, apDataService, apListFactory, apQueryFactory, apUtilityService, apFieldService, apIndexedCacheFactory, apDecodeService, apEncodeService, $q;
/**
 * @ngdoc function
 * @name Model
 * @description
 * Model Constructor
 * Provides the Following
 * - adds an empty "data" array
 * - adds an empty "queries" object
 * - adds a deferred obj "ready"
 * - builds "model.list" with constructor
 * - adds "getAllListItems" function
 * - adds "addNewItem" function
 * @param {object} config Object containing optional params.
 * @param {object} [config.factory = apListItemFactory.createGenericFactory()] - Constructor function for
 * individual list items.
 * @param {boolean} [config.fieldDefinitionsExtended=false] Queries using the GetListItemChangesSinceToken
 * operation return the full list definition along with the requested entities.  The first time one of these
 * queries is executed we will try to extend our field definitions defined in the model with the additional
 * information provided from the server.  Examples are options for a Choice field, display name of the field,
 * field description, and any other field information provided for the fields specified in the model.  This
 * flag is set once the first query is complete so we don't process again.
 * @param {object} config.list - Definition of the list in SharePoint.
 * be passed to the list constructor to extend further
 * @param {string} config.list.title - List name, no spaces.  Offline XML file will need to be
 * named the same (ex: CustomList so xml file would be apConfig.offlineXML + '/CustomList.xml')
 * @param {string} config.list.getListId() - Unique SharePoint ID (ex: '{3DBEB25A-BEF0-4213-A634-00DAF46E3897}')
 * @param {object[]} config.list.customFields - Maps SharePoint fields with names we'll use within the
 * application.  Identifies field types and formats accordingly.  Also denotes if a field is read only.
 * @constructor
 *
 * @example
 * <pre>
 * //Taken from a fictitious projectsService.ts
 *
 * export class ProjectsModel extends Model {
     *      constructor() {
     *          super({
     *              factory: Project,
     *              list: {
     *                  guid: '{PROJECT LIST GUID}',
     *                  title: 'Projects',
     *                  customFields: [
     *                      {
     *                         staticName: 'Title',
     *                         objectType: 'Text',
     *                         mappedName: 'title',
     *                         readOnly: false
     *                      },
     *                      {
     *                         staticName: 'Customer',
     *                         objectType: 'Lookup',
     *                         mappedName: 'customer',
     *                         readOnly: false
     *                      },
     *                      {
     *                         staticName: 'ProjectDescription',
     *                         objectType: 'Text',
     *                         mappedName: 'projectDescription',
     *                         readOnly: false
     *                      },
     *                      {
     *                         staticName: 'Status',
     *                         objectType: 'Text',
     *                         mappedName: 'status',
     *                         readOnly: false
     *                      },
     *                      {
     *                         staticName: 'TaskManager',
     *                         objectType: 'User',
     *                         mappedName: 'taskManager',
     *                         readOnly: false
     *                      },
     *                      {
     *                         staticName: 'ProjectGroup',
     *                         objectType: 'Lookup',
     *                         mappedName: 'group',
     *                         readOnly: false
     *                      },
     *                      {
     *                         staticName: 'CostEstimate',
     *                         objectType: 'Currency',
     *                         mappedName: 'costEstimate',
     *                         readOnly: false
     *                      },
     *                      {
     *                         staticName: 'Active',
     *                         objectType: 'Boolean',
     *                         mappedName: 'active',
     *                         readOnly: false
     *                      },
     *                      {
     *                         staticName: 'Attachments',
     *                         objectType: 'Attachments',
     *                         mappedName: 'attachments',
     *                         readOnly: true
     *                      }
     *                  ]
     *              }
     *          });
     *
     *          var model = this;
     *
     *          //Any other model setup
     *      }
     *      someExposedModelMethod() {
     *          this.dosomething...
     *      }
     *
     *   }
 * </pre>
 */
var Model = (function () {
    function Model(config) {
        var _this = this;
        this.data = [];
        this.fieldDefinitionsExtended = false;
        this.queries = {};
        /** Assign all properties of config to the model */
        __WEBPACK_IMPORTED_MODULE_0_lodash__["assign"](this, config);
        /** Allow us to reference the model directly from the list item's factory prototype */
        this.factory.prototype.getModel = function () { return _this; };
        /** Use list constructor to instantiate valid list */
        this.list = new __WEBPACK_IMPORTED_MODULE_1__apListFactory__["a" /* List */](this.list);
        /** Register cache name with cache service so we can map factory name with list GUID */
        apCacheService.registerModel(this);
        /** Convenience querys that simply returns all list items within a list. */
        this.registerQuery({
            name: '__getAllListItems',
            operation: 'GetListItems'
        });
        /** Get a single list item from a list, primarily used to quickly identify user
         *  permissions on list using the ows_PermMask property.  List items can have unique permissions
         *  so can't rely on this 100% to correctly resolve list permissions.  In the case where that is
         *  necessary you will need to use a similar query using GetListItemChangesSinceToken method which
         *  will take longer but will correctly resolve the list permissions. */
        this.registerQuery({
            name: '__sample',
            operation: 'GetListItems',
            rowLimit: 1
        });
    }
    /**
     * @ngdoc function
     * @name Model.addNewItem
     * @module Model
     * @description
     * Using the definition of a list stored in a model, create a new list item in SharePoint.
     * @param {object} entity An object that will be converted into key/value pairs based on the field definitions
     * defined in the model.
     * @param {object} [options] - Pass additional options to the data service.
     * @param {boolean} [options.buildValuePairs=true] Automatically generate pairs based on fields defined in model.
     * @param {object} [options.indexedCache=apIndexedCacheFactory.create({})] Optionally place new item in a specified cache.
     * @param {Array[]} [options.valuePairs] Precomputed value pairs to use instead of generating them for each
     * field identified in the model.
     * @returns {ng.IPromise<T>} A promise which when resolved will returned the newly created list item from there server.
     * This allows us to update the view with a valid new object that contains a unique list item id.
     *
     * @example
     * <pre>
     * <file name="app/modules/project/projectsService.js">
     * projectModel.addNewItem({
         *        title: 'A Project',
         *        customer: {lookupValue: 'My Customer', lookupId: 123},
         *        description: 'This is the project description'
         *     }).then(function(newEntityFromServer) {
         *         //The local query cache is automatically updated but
         *         //any other dependent logic can go here
         * };
     * </file>
     * </pre>
     */
    Model.prototype.addNewItem = function (entity, _a) {
        var _this = this;
        var _b = _a === void 0 ? {} : _a, _c = _b.buildValuePairs, buildValuePairs = _c === void 0 ? true : _c, _d = _b.indexedCache, indexedCache = _d === void 0 ? apIndexedCacheFactory.create({}) : _d, _e = _b.valuePairs, valuePairs = _e === void 0 ? [] : _e;
        var config = {
            batchCmd: 'New',
            buildValuePairs: buildValuePairs,
            listName: this.getListId(),
            //Method gets added onto new list item and allows access to parent cache
            getCache: function () { return indexedCache; },
            indexedCache: indexedCache,
            operation: 'UpdateListItems',
            target: indexedCache,
            valuePairs: valuePairs,
            webURL: this.list.identifyWebURL()
        };
        if (entity.id) {
            throw new Error('Cannot add a new list item that already has an ID. ' + JSON.stringify(entity, null, 2));
        }
        if (config.buildValuePairs === true) {
            var editableFields = __WEBPACK_IMPORTED_MODULE_0_lodash__["filter"](this.list.fields, { readOnly: false });
            config.valuePairs = apEncodeService.generateValuePairs(editableFields, entity);
        }
        /** Overload the function then pass anything past the first parameter to the supporting methods */
        return apDataService.serviceWrapper(config)
            .then(function (response) {
            /** Online this should return an XML object */
            var indexedCache = apDecodeService.processListItems(_this, config, response, config);
            /** Last listItem in cache is new because it has the highest id */
            var newListItem = indexedCache.last();
            /** Optionally broadcast change event */
            apUtilityService.registerChange(_this, 'create', newListItem.id);
            /** Return reference to last listItem in cache because it will have the new highest id */
            return newListItem;
        })
            .catch(function (err) {
            throw new Error('Unable to create new list item.  Err:' + err);
            // return err;
        });
    };
    /**
     * @ngdoc function
     * @name Model.createEmptyItem
     * @module Model
     * @description
     * Creates an object using the editable fields from the model, all attributes are empty based on the field
     * type unless an overrides object is passed in.  The overrides object extends the defaults.  A benefit to this
     * approach is the returned object inherits from the ListItem prototype so we have the ability to call
     * entity.saveChanges instead of calling the model.addNewItem(entity).
     *
     * @param {object} [overrides] - Optionally extend the new empty item with specific values.
     * @returns {object} Newly created list item.
     */
    Model.prototype.createEmptyItem = function (overrides) {
        var model = this;
        var newItem = {};
        __WEBPACK_IMPORTED_MODULE_0_lodash__["each"](model.list.customFields, function (fieldDefinition) {
            /** Create attributes for each non-readonly field definition */
            if (!fieldDefinition.readOnly) {
                /** Create an attribute with the expected empty value based on field definition type */
                newItem[fieldDefinition.mappedName] = apFieldService.getDefaultValueForType(fieldDefinition.objectType);
            }
        });
        /** Extend any values that should override the default empty values */
        var rawObject = __WEBPACK_IMPORTED_MODULE_0_lodash__["assign"]({}, newItem, overrides);
        return new model.factory(rawObject);
    };
    /**
     * @ngdoc function
     * @name Model.executeQuery
     * @module Model
     * @description
     * The primary method for retrieving data from a query registered on a model.  It returns a promise
     * which resolves to the local cache after post processing entities with constructors.
     *
     * @param {string} [queryName=apConfig.defaultQueryName] A unique key to identify this query
     * @param {object} [options] Pass options to the data service.
     * @returns {object} Promise that when resolves returns an array of list items which inherit from ListItem and
     * optionally go through a defined constructor on the model.
     *
     * @example To call the query or check for changes since the last call.
     * <pre>
     * projectModel.executeQuery('MyCustomQuery').then(function(entities) {
         *      //We now have a reference to array of entities stored in the local cache
         *      //These inherit from the ListItem prototype as well as the Project prototype on the model
         *      $scope.subsetOfProjects = entities;
         *  });
     * </pre>
     */
    Model.prototype.executeQuery = function (queryName, options) {
        var model = this;
        var query = model.getQuery(queryName);
        if (query) {
            return query.execute(options);
        }
    };
    /**
     * @ngdoc function
     * @name Model.extendListMetadata
     * @module Model
     * @description
     * Extends the List and Fields with list information returned from the server.  Only runs once and after that
     * returns the existing promise.
     * @returns {ng.IPromise<Model>} Promise that is resolved with the extended model.
     */
    Model.prototype.extendListMetadata = function () {
        var model = this, deferred = $q.defer();
        /** Only request information if the list hasn't already been extended and is not currently being requested */
        if (!model.deferredListDefinition) {
            /** All Future Requests get this */
            model.deferredListDefinition = deferred.promise;
            var getListAction = apDataService.getList({
                listName: model.getListId(),
                webURL: model.getList().webURL
            });
            /** We can potentially have 2 seperate requests for data so store them in array so we can wait until
             * all are resolved. */
            var promiseArray = [getListAction];
            /** Add a request for a sample list item to the server requests if we haven't
             * already resolved user permissions for the list. */
            if (!model.getList().permissions) {
                /** Permissions not set yet, when the query is resolved with a sample list item
                 * the query class will use the permMask from the list item to set the temp permissions
                 * for the list until a time where we can run a GetListItemChangesSinceToken request and
                 * set the actual permissions. */
                promiseArray.push(model.executeQuery('__sample'));
            }
            $q.all(promiseArray)
                .then(function (resolvedPromises) {
                apDecodeService.extendListMetadata(model, resolvedPromises[0]);
                deferred.resolve(model);
            });
        }
        return model.deferredListDefinition;
    };
    /**
     * @ngdoc function
     * @name Model.generateMockData
     * @module Model
     * @description
     * Generates 'n' mock records for testing using the field types defined in the model to provide something to visualize.
     *
     * @param {object} [options] Object containing optional parameters.
     * @param {number} [options.quantity=10] The requested number of mock records to return.
     * @param {string} [options.permissionLevel=FullMask] Sets the mask on the mock records to simulate desired
     * permission level.
     * @param {boolean} [options.staticValue=false] By default all mock data is dynamically created but if set,
     * this will cause static data to be used instead.
     */
    Model.prototype.generateMockData = function (options) {
        var mockData = [], model = this;
        var defaults = {
            quantity: 10,
            staticValue: false,
            permissionLevel: 'FullMask'
        };
        /** Extend defaults with any provided options */
        var opts = __WEBPACK_IMPORTED_MODULE_0_lodash__["assign"]({}, defaults, options);
        __WEBPACK_IMPORTED_MODULE_0_lodash__["times"](opts.quantity, function (count) {
            var mock = {
                id: count + 1
            };
            /** Create an attribute with mock data for each field */
            __WEBPACK_IMPORTED_MODULE_0_lodash__["each"](model.list.fields, function (field) {
                mock[field.mappedName] = field.getMockData(opts);
            });
            /** Use the factory on the model to extend the object */
            mockData.push(new model.factory(mock));
        });
        return mockData;
    };
    /**
     * @ngdoc function
     * @name Model.getAllListItems
     * @module Model
     * @description
     * Inherited from Model constructor
     * Gets all list items in the current list, processes the xml, and caches the data in model.
     * @returns {object} Promise returning all list items when resolved.
     * @example
     * <pre>
     * //Taken from a fictitious projectsService.js
     * projectModel.getAllListItems().then(function(entities) {
         *     //Do something with all of the returned entities
         *     $scope.projects = entities;
         * };
     * </pre>
     */
    Model.prototype.getAllListItems = function () {
        var model = this;
        return model.executeQuery('__getAllListItems');
    };
    /**
     * @ngdoc function
     * @name Model.getCache
     * @module Model
     * @description
     * Helper function that return the local cache for a named query if provided, otherwise
     * it returns the cache for the primary query for the model.  Useful if you know the query
     * has already been resolved and there's no need to check SharePoint for changes.
     *
     * @param {string} [queryName=apConfig.defaultQueryName] A unique key to identify this query.
     * @returns {IndexedCache<T>} Returns the contents of the current cache for a named query.
     *
     * @example
     * <pre>
     * var primaryQueryCache = projectModel.getCache();
     * </pre>
     *
     * <pre>
     * var primaryQueryCache = projectModel.getCache('primary');
     * </pre>
     *
     * <pre>
     * var namedQueryCache = projectModel.getCache('customQuery');
     * </pre>
     */
    Model.prototype.getCache = function (queryName) {
        var model = this, query, cache;
        query = model.getQuery(queryName);
        if (query && query.indexedCache) {
            cache = query.indexedCache;
        }
        return cache;
    };
    /**
     * @ngdoc function
     * @name Model.getCachedEntities
     * @module Model
     * @description
     * Returns all entities registered for this model regardless of query.
     * @returns {IndexedCache<T>} All registered entities for this model.
     */
    Model.prototype.getCachedEntities = function () {
        var model = this;
        return apCacheService.getCachedEntities(model.getListId());
    };
    /**
     * @ngdoc function
     * @name Model.getCachedEntity
     * @module Model
     * @description
     * Attempts to locate a model listItem by id.
     * @param {number} listItemId The ID of the requested listItem.
     * @returns {object} Returns either the requested listItem or undefined if it's not found.
     */
    Model.prototype.getCachedEntity = function (listItemId) {
        var model = this;
        return apCacheService.getCachedEntity(model.getListId(), listItemId);
    };
    /**
     * @ngdoc function
     * @name Model.getFieldDefinition
     * @module Model
     * @description
     * Returns the field definition from the definitions defined in the custom fields array within a model.
     * <pre>
     * var project = {
         *    title: 'Project 1',
         *    location: {
         *        lookupId: 5,
         *        lookupValue: 'Some Building'
         *    }
         * };
     *
     * //To get field metadata
     * var locationDefinition = projectsService.getFieldDefinition('location');
     * </pre>
     * @param {string} fieldName Internal field name.
     * @returns {object} Field definition.
     */
    Model.prototype.getFieldDefinition = function (fieldName) {
        var model = this;
        return __WEBPACK_IMPORTED_MODULE_0_lodash__["find"](model.list.fields, { mappedName: fieldName });
    };
    /**
     * @ngdoc function
     * @name ListItem.getList
     * @description
     * Allows us to reference the list definition directly from the list item.  This is added to the
     * model.factory prototype in apModelFactory.  See the [List](#/api/List) documentation for more info.
     * @returns {object} List for the list item.
     */
    Model.prototype.getList = function () {
        return this.list;
    };
    /**
     * @ngdoc function
     * @name ListItem.getListId
     * @description
     * Allows us to reference the list ID directly from the model.
     * @returns {string} List ID.
     */
    Model.prototype.getListId = function () {
        return this.getList().getListId();
    };
    /**
     * @ngdoc function
     * @name Model.getListItemById
     * @param {number} listItemId Id of the item being requested.
     * @param {object} options Used to override apDataService defaults.
     * @description
     * Inherited from Model constructor
     * Attempts to retrieve the requested list item from the server.
     * @returns {object} Promise that resolves with the requested list item if found.  Otherwise it returns undefined.
     * @example
     * <pre>
     * //Taken from a fictitious projectsService.js
     * projectModel.getListItemById(12).then(function(listItem) {
         *     //Do something with the located listItem
         *     $scope.project = listItem;
         * };
     * </pre>
     */
    Model.prototype.getListItemById = function (listItemId, options) {
        var model = this, 
        /** Unique Query Name */
        queryKey = 'GetListItemById-' + listItemId;
        /** Register a new Query if it doesn't already exist */
        if (!model.getQuery(queryKey)) {
            var defaults = {
                name: queryKey,
                operation: 'GetListItems',
                rowLimit: 1,
                CAMLQuery: '' +
                    '<Query>' +
                    ' <Where>' +
                    '   <Eq>' +
                    '     <FieldRef Name="ID"/>' +
                    '     <Value Type="Number">' + listItemId + '</Value>' +
                    '   </Eq>' +
                    ' </Where>' +
                    '</Query>'
            };
            /** Allows us to override defaults */
            var opts = __WEBPACK_IMPORTED_MODULE_0_lodash__["assign"]({}, defaults, options);
            model.registerQuery(opts);
        }
        return model.executeQuery(queryKey)
            .then(function (indexedCache) {
            /** Should return an indexed cache object with a single listItem so just return the requested listItem */
            return indexedCache.first();
        });
    };
    /**
     * @ngdoc function
     * @name ListItem.getModel
     * @description
     * Allows us to reference the parent model directly from the list item.  This is added to the
     * model.factory prototype in apModelFactory.  See the [List](#/api/List) documentation for more info.
     * @returns {object} Model for the list item.
     */
    Model.prototype.getModel = function () {
        return this;
    };
    /**
     * @ngdoc function
     * @name Model.getQuery
     * @module Model
     * @description
     * Helper function that attempts to locate and return a reference to the requested or catchall query.
     * @param {string} [queryName=apConfig.defaultQueryName] A unique key to identify this query.
     * @returns {object} See Query prototype for additional details on what a Query looks like.
     *
     * @example
     * <pre>
     * var primaryQuery = projectModel.getQuery();
     * </pre>
     *
     * <pre>
     * var primaryQuery = projectModel.getQuery('primary');
     * </pre>
     *
     * <pre>
     * var namedQuery = projectModel.getQuery('customQuery');
     * </pre>
     */
    Model.prototype.getQuery = function (queryName) {
        var model = this, query;
        if (__WEBPACK_IMPORTED_MODULE_0_lodash__["isObject"](model.queries[queryName])) {
            /** The named query exists */
            query = model.queries[queryName];
        }
        else if (__WEBPACK_IMPORTED_MODULE_0_lodash__["isObject"](model.queries[__WEBPACK_IMPORTED_MODULE_3__app_module__["ENV"].defaultQueryName]) && !queryName) {
            /** A named query wasn't specified and the catchall query exists */
            query = model.queries[__WEBPACK_IMPORTED_MODULE_3__app_module__["ENV"].defaultQueryName];
        }
        else {
            /** Requested query not found */
            query = undefined;
        }
        return query;
    };
    /**
     * @ngdoc function
     * @name Model.isInitialised
     * @module Model
     * @description
     * Methods which allows us to easily determine if we've successfully made any queries this session.
     * @returns {boolean} Returns evaluation.
     */
    Model.prototype.isInitialised = function () {
        var model = this;
        return __WEBPACK_IMPORTED_MODULE_0_lodash__["isDate"](model.lastServerUpdate);
    };
    /**
     * @ngdoc function
     * @name Model.registerQuery
     * @module Model
     * @description
     * Constructor that allows us create a static query with the option to build dynamic queries as seen in the
     * third example.  This construct is a passthrough to [SPServices](http: //spservices.codeplex.com/)
     * @param {object} queryOptions Initialization parameters.
     * @param {boolean} [queryOptions.force=false] Ignore cached data and force server query.
     * @param {number} [queryOptions.listItemID] Optionally request for a single list item by id.
     * @param {boolean} [queryOptions.localStorage=false] Should we store data from this query in local storage to speed up requests in the future.
     * @param {number} [queryOptions.localStorageExpiration=86400000] Set expiration in milliseconds - Defaults to a day
     * and if set to 0 doesn't expire.  Can be updated globally using apConfig.localStorageExpiration.
     * @param {string} [queryOptions.name=primary] The name that we use to identify this query.
     * @param {string} [queryOptions.operation=GetListItemChangesSinceToken] Optionally use 'GetListItems' to
     * receive a more efficient response, just don't have the ability to check for changes since the last time
     * the query was called. Defaults to [GetListItemChangesSinceToken](http://msdn.microsoft.com/en-us/library/lists.lists.getlistitemchangessincetoken%28v=office.12%29.aspx)
     * but for a smaller payload and faster response you can use [GetListItems](http: //spservices.codeplex.com/wikipage?title=GetListItems&referringTitle=Lists).
     * @param {string} [queryOptions.query=Ordered ascending by ID] CAML query passed to SharePoint to control
     * the data SharePoint returns. Josh McCarty has a good quick reference [here](http: //joshmccarty.com/2012/06/a-caml-query-quick-reference).
     * @param {string} [queryOptions.queryOptions] SharePoint options xml as string.
     * <pre>
     * <QueryOptions>
     *    <IncludeMandatoryColumns>FALSE</IncludeMandatoryColumns>
     *    <IncludeAttachmentUrls>TRUE</IncludeAttachmentUrls>
     *    <IncludeAttachmentVersion>FALSE</IncludeAttachmentVersion>
     *    <ExpandUserField>FALSE</ExpandUserField>
     * </QueryOptions>
     * </pre>
     * @param {string} [queryOptions.rowLimit] The number of list items to return, 0 returns all list items.
     * @param {boolean} [queryOptions.runOnce] Pertains to GetListItems only, optionally run a single time and return initial value for all future
     * calls.  Works well with data that isn't expected to change throughout the session but unlike localStorage or sessionStorage
     * the data doesn't persist between sessions.
     * @param {boolean} [queryOptions.sessionStorage=false] Use the browsers sessionStorage to cache the list items and uses the
     * queryOptions.localStorageExpiration param to validate how long the cache is good for.
     * @param {string} [queryOptions.viewFields] XML as string that specifies fields to return.
     * @param {string} [queryOptions.webURL] Used to override the default URL if list is located somewhere else.
     * @returns {object} Query Returns a new query object.
     *
     * @example
     * <h4>Example #1</h4>
     * <pre>
     * // Query to retrieve the most recent 25 modifications
     * model.registerQuery({
        *    name: 'recentChanges',
        *    rowLimit: 25,
        *    query: '' +
        *        '<Query>' +
        *        '   <OrderBy>' +
        *        '       <FieldRef Name="Modified" Ascending="FALSE"/>' +
        *        '   </OrderBy>' +
        *            //Prevents any records from being returned if user doesn't
        *            // have permissions on project
        *        '   <Where>' +
        *        '       <IsNotNull>' +
        *        '           <FieldRef Name="Project"/>' +
        *        '       </IsNotNull>' +
        *        '   </Where>' +
        *        '</Query>'
        * });
     * </pre>
     *
     * <h4>Example #2</h4>
     * <pre>
     * // Could be placed on the projectModel and creates the query but doesn't
     * // call it.  Uses the session cache to make the initial call faster.
     * projectModel.registerQuery({
        *     name: 'primary',
        *     sessionCache: true,
        *     //Set an expiration value of 8 hours rather than use the default of 24
        *     localStorageExpiration: 28800000,
        *     query: '' +
        *         '<Query>' +
        *         '   <OrderBy>' +
        *         '       <FieldRef Name="Title" Ascending="TRUE"/>' +
        *         '   </OrderBy>' +
        *         '</Query>'
        * });
     *
     * //To call the query or check for changes since the last call
     * projectModel.executeQuery('primary')
     *   .then((entities) => {
        *     // We now have a reference to array of entities stored in the local
        *     // cache.  These inherit from the ListItem prototype as well as the
        *     // Project prototype on the model
        *     $ctrl.projects = entities;
        *   })
     *   .catch((err) => {
        *       //Handle error
        *   })
     * </pre>
     *
     * <h4>Example #3</h4>
     * <pre>
     * // Advanced functionality that would allow us to dynamically create
     * // queries for list items with a lookup field associated with a specific
     * // project id.  Let's assume this is on the projectTasksModel.
     * model.queryByProjectId(projectId) {
        *     // Unique query name
        *     var queryKey = 'pid' + projectId;
        *
        *     // Register project query if it doesn't exist
        *     if (!_.isObject(model.queries[queryKey])) {
        *         model.registerQuery({
        *             name: queryKey,
        *             query: '' +
        *                 '<Query>' +
        *                 '   <OrderBy>' +
        *                 '       <FieldRef Name="ID" Ascending="TRUE"/>' +
        *                 '   </OrderBy>' +
        *                 '   <Where>' +
        *                 '       <And>' +
        *                              // Prevents any records from being returned
        *                              //if user doesn't have permissions on project
        *                 '           <IsNotNull>' +
        *                 '               <FieldRef Name="Project"/>' +
        *                 '           </IsNotNull>' +
        *                              // Return all records for the project matching
        *                              // param projectId
        *                 '           <Eq>' +
        *                 '               <FieldRef Name="Project" LookupId="TRUE"/>' +
        *                 '               <Value Type="Lookup">' + projectId + '</Value>' +
        *                 '           </Eq>' +
        *                 '       </And>' +
        *                 '   </Where>' +
        *                 '</Query>'
        *         });
        *     }
        *     //Still using execute query but now we have a custom query
        *     return model.executeQuery(queryKey);
        * };
     * </pre>
     */
    Model.prototype.registerQuery = function (queryOptions) {
        var model = this;
        var defaults = {
            /** If name isn't set, assume this is the only model and designate as primary */
            name: __WEBPACK_IMPORTED_MODULE_3__app_module__["ENV"].defaultQueryName
        };
        queryOptions = __WEBPACK_IMPORTED_MODULE_0_lodash__["assign"]({}, defaults, queryOptions);
        model.queries[queryOptions.name] = apQueryFactory.create(queryOptions, model);
        /** Return the newly created query */
        return model.queries[queryOptions.name];
    };
    /**
     * @ngdoc function
     * @name Model.resolvePermissions
     * @module Model
     * @description
     * See apModelFactory.resolvePermissions for details on what we expect to have returned.
     * @returns {Object} Contains properties for each permission level evaluated for current user.
     * @example
     * Lets assume we're checking to see if a user has edit rights for a given list.
     * <pre>
     * var userPermissions = tasksModel.resolvePermissions();
     * var userCanEdit = userPermissions.EditListItems;
     * </pre>
     * Example of what the returned object would look like
     * for a site admin.
     * <pre>
     * perm = {
            *    "ViewListItems": true,
            *    "AddListItems": true,
            *    "EditListItems": true,
            *    "DeleteListItems": true,
            *    "ApproveItems": true,
            *    "OpenItems": true,
            *    "ViewVersions": true,
            *    "DeleteVersions": true,
            *    "CancelCheckout": true,
            *    "PersonalViews": true,
            *    "ManageLists": true,
            *    "ViewFormPages": true,
            *    "Open": true,
            *    "ViewPages": true,
            *    "AddAndCustomizePages": true,
            *    "ApplyThemeAndBorder": true,
            *    "ApplyStyleSheets": true,
            *    "ViewUsageData": true,
            *    "CreateSSCSite": true,
            *    "ManageSubwebs": true,
            *    "CreateGroups": true,
            *    "ManagePermissions": true,
            *    "BrowseDirectories": true,
            *    "BrowseUserInfo": true,
            *    "AddDelPrivateWebParts": true,
            *    "UpdatePersonalWebParts": true,
            *    "ManageWeb": true,
            *    "UseRemoteAPIs": true,
            *    "ManageAlerts": true,
            *    "CreateAlerts": true,
            *    "EditMyUserInfo": true,
            *    "EnumeratePermissions": true,
            *    "FullMask": true
            * }
     * </pre>
     */
    Model.prototype.resolvePermissions = function () {
        var model = this, list = model.getList();
        if (list && list.permissions) {
            /** If request has been made to GetListItemChangesSinceToken we have already stored the
             * permission for this list. */
            return list.permissions;
        }
        else if (model.getCachedEntities().first()) {
            /** Next option is to use the same permission as one of the
             * already cached list items for this model. */
            return list.extendPermissionsFromListItem(model.getCachedEntities().first());
        }
        else {
            window.console.error('Attempted to resolve permissions of a model that hasn\'t been initialized.', model);
            return new __WEBPACK_IMPORTED_MODULE_2__constants_apPermissionObject__["a" /* BasePermissionObject */]();
        }
    };
    /**
     * @ngdoc function
     * @name Model.validateEntity
     * @module Model
     * @description
     * Uses the custom fields defined in an model to ensure each field (required = true) is evaluated
     * based on field type
     * @param {object} listItem SharePoint list item.
     * @returns {boolean} Evaluation of validity.
     */
    Model.prototype.validateEntity = function (listItem) {
        var valid = true, model = this;
        var checkObject = function (fieldValue) {
            return __WEBPACK_IMPORTED_MODULE_0_lodash__["isObject"](fieldValue) && __WEBPACK_IMPORTED_MODULE_0_lodash__["isNumber"](fieldValue.lookupId);
        };
        __WEBPACK_IMPORTED_MODULE_0_lodash__["each"](model.list.customFields, function (fieldDefinition) {
            var fieldValue = listItem[fieldDefinition.mappedName];
            var fieldDescriptor = '"' + fieldDefinition.objectType + '" value.';
            /** Only evaluate required fields */
            if ((fieldDefinition.required || fieldDefinition.Required) && valid) {
                switch (fieldDefinition.objectType) {
                    case 'Boolean':
                        valid = __WEBPACK_IMPORTED_MODULE_0_lodash__["isBoolean"](fieldValue);
                        break;
                    case 'DateTime':
                        valid = __WEBPACK_IMPORTED_MODULE_0_lodash__["isDate"](fieldValue);
                        break;
                    case 'Lookup':
                    case 'User':
                        valid = checkObject(fieldValue);
                        break;
                    case 'LookupMulti':
                    case 'UserMulti':
                        /** Ensure it's a valid array containing objects */
                        valid = __WEBPACK_IMPORTED_MODULE_0_lodash__["isArray"](fieldValue) && fieldValue.length > 0;
                        if (valid) {
                            /** Additionally check that each lookup/person contains a lookupId */
                            __WEBPACK_IMPORTED_MODULE_0_lodash__["each"](fieldValue, function (fieldObject) {
                                if (valid) {
                                    valid = checkObject(fieldObject);
                                }
                                else {
                                    /** Short circuit */
                                    return false;
                                }
                            });
                        }
                        break;
                    default:
                        /** Evaluate everything else as a string */
                        valid = !__WEBPACK_IMPORTED_MODULE_0_lodash__["isEmpty"](fieldValue);
                }
            }
            if (!valid) {
                return false;
            }
        });
        return valid;
    };
    return Model;
}());

var ModelFactory = (function () {
    function ModelFactory(_$q_, _apCacheService_, _apDataService_, _apDecodeService_, _apEncodeService_, _apFieldService_, _apIndexedCacheFactory_, _apListFactory_, _apQueryFactory_, _apUtilityService_) {
        this.Model = Model;
        $q = _$q_;
        apCacheService = _apCacheService_;
        apDataService = _apDataService_;
        apDecodeService = _apDecodeService_;
        apEncodeService = _apEncodeService_;
        apFieldService = _apFieldService_;
        apIndexedCacheFactory = _apIndexedCacheFactory_;
        apListFactory = _apListFactory_;
        apQueryFactory = _apQueryFactory_;
        apUtilityService = _apUtilityService_;
    }
    ModelFactory.prototype.create = function (config) {
        return new Model(config);
    };
    return ModelFactory;
}());

ModelFactory.$inject = ['$q', 'apCacheService', 'apDataService', 'apDecodeService', 'apEncodeService', 'apFieldService', 'apIndexedCacheFactory', 'apListFactory', 'apQueryFactory', 'apUtilityService'];


/***/ },
/* 16 */
/***/ function(module, exports, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__constants_apDefaultListItemQueryOptions__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__app_module__ = __webpack_require__(1);
/* harmony export (binding) */ __webpack_require__.d(exports, "a", function() { return LocalStorageQuery; });
/* harmony export (binding) */ __webpack_require__.d(exports, "b", function() { return Query; });
/* harmony export (binding) */ __webpack_require__.d(exports, "c", function() { return QueryFactory; });



var $q, apIndexedCacheFactory, apDefaultListItemQueryOptions, apDataService, apDecodeService, apLogger;
var LocalStorageQuery = (function () {
    function LocalStorageQuery(key, stringifiedQuery) {
        this.key = key;
        var parsedQuery = JSON.parse(stringifiedQuery);
        __WEBPACK_IMPORTED_MODULE_0_lodash__["assign"](this, parsedQuery);
        this.lastRun = new Date(parsedQuery.lastRun);
    }
    LocalStorageQuery.prototype.hasExpired = function (localStorageExpiration) {
        if (localStorageExpiration === void 0) { localStorageExpiration = __WEBPACK_IMPORTED_MODULE_2__app_module__["ENV"].localStorageExpiration; }
        var hasExpired = true;
        if (__WEBPACK_IMPORTED_MODULE_0_lodash__["isNaN"](localStorage)) {
            throw new Error('Local storage expiration is required to be a numeric value and instead is ' + localStorageExpiration);
        }
        else if (localStorageExpiration === 0) {
            //No expiration
            hasExpired = false;
        }
        else {
            //Evaluate if cache has exceeded expiration
            hasExpired = this.lastRun.getMilliseconds() + localStorageExpiration <= new Date().getMilliseconds();
        }
        return hasExpired;
    };
    LocalStorageQuery.prototype.removeItem = function () {
        localStorage.removeItem(this.key);
    };
    return LocalStorageQuery;
}());

/**
 * @ngdoc function
 * @name Query
 * @description
 * Primary constructor that all queries inherit from. This object is a passthrough to [SPServices](http: //spservices.codeplex.com/).  All
 * options to passed through to [dataService.executeQuery](#/api/dataService.executeQuery).
 * @param {object} queryOptions Initialization parameters.
 * @param {boolean} [queryOptions.force=false] Ignore cached data and force server query.
 * @param {number} [queryOptions.listItemID] Optionally request for a single list item by id.
 * @param {boolean} [queryOptions.localStorage=false] Should we store data from this query in local storage to speed up requests in the future.
 * @param {number} [queryOptions.localStorageExpiration=86400000] Set expiration in milliseconds - Defaults to a day
 * and if set to 0 doesn't expire.  Can be updated globally using apConfig.localStorageExpiration.
 * @param {string} [queryOptions.name=primary] The name that we use to identify this query.
 * @param {string} [queryOptions.operation=GetListItemChangesSinceToken] Optionally use 'GetListItems' to
 * receive a more efficient response, just don't have the ability to check for changes since the last time
 * the query was called. Defaults to [GetListItemChangesSinceToken](http://msdn.microsoft.com/en-us/library/lists.lists.getlistitemchangessincetoken%28v=office.12%29.aspx)
 * but for a smaller payload and faster response you can use [GetListItems](http: //spservices.codeplex.com/wikipage?title=GetListItems&referringTitle=Lists).
 * @param {string} [queryOptions.query=Ordered ascending by ID] CAML query passed to SharePoint to control
 * the data SharePoint returns. Josh McCarty has a good quick reference [here](http: //joshmccarty.com/2012/06/a-caml-query-quick-reference).
 * @param {string} [queryOptions.queryOptions] SharePoint options xml as string.
 * <pre>
 * <QueryOptions>
 *    <IncludeMandatoryColumns>FALSE</IncludeMandatoryColumns>
 *    <IncludeAttachmentUrls>TRUE</IncludeAttachmentUrls>
 *    <IncludeAttachmentVersion>FALSE</IncludeAttachmentVersion>
 *    <ExpandUserField>FALSE</ExpandUserField>
 * </QueryOptions>
 * </pre>
 * @param {string} [queryOptions.rowLimit] The number of list items to return, 0 returns all list items.
 * @param {boolean} [queryOptions.runOnce] Pertains to GetListItems only, optionally run a single time and return initial value for all future
 * calls.  Works well with data that isn't expected to change throughout the session but unlike localStorage or sessionStorage
 * the data doesn't persist between sessions.
 * @param {boolean} [queryOptions.sessionStorage=false] Use the browsers sessionStorage to cache the list items and uses the
 * queryOptions.localStorageExpiration param to validate how long the cache is good for.
 * @param {string} [queryOptions.viewFields] XML as string that specifies fields to return.
 * @param {string} [queryOptions.webURL] Used to override the default URL if list is located somewhere else.
 * @param {object} model Reference to the parent model for the query.  Allows us to reference when out of
 * scope.
 * @example
 * <pre>
 * // Query to retrieve the most recent 25 modifications
 * model.registerQuery({
     *    name: 'recentChanges',
     *    rowLimit: 25,
     *    query: '' +
     *        '<Query>' +
     *        '   <OrderBy>' +
     *        '       <FieldRef Name="Modified" Ascending="FALSE"/>' +
     *        '   </OrderBy>' +
     *            // Prevents any records from being returned if user
     *            // doesn't have permissions on project
     *        '   <Where>' +
     *        '       <IsNotNull>' +
     *        '           <FieldRef Name="Project"/>' +
     *        '       </IsNotNull>' +
     *        '   </Where>' +
     *        '</Query>'
     * });
 * </pre>
 */
var Query = (function () {
    function Query(queryOptions, model) {
        /** Very memory intensive to enable cacheXML which is disabled by default*/
        this.cacheXML = false;
        this.force = false;
        /** Key value hash map with key being the id of the entity */
        this.indexedCache = apIndexedCacheFactory.create();
        /** Promise resolved after first time query is executed */
        this.initialized = $q.defer();
        /** Should we store data from this query in local storage to speed up requests in the future */
        this.localStorage = false;
        /** Set expiration in milliseconds - Defaults to a day and if set to 0 doesn't expire */
        this.localStorageExpiration = __WEBPACK_IMPORTED_MODULE_2__app_module__["ENV"].localStorageExpiration;
        /** Flag to prevent us from makeing concurrent requests */
        this.negotiatingWithServer = false;
        /** Every time we run we want to check to update our cached data with
         * any changes made on the server */
        this.operation = 'GetListItemChangesSinceToken';
        /** Default query returns list items in ascending ID order */
        this.query = "\n        <Query>\n           <OrderBy>\n               <FieldRef Name=\"ID\" Ascending=\"TRUE\"/>\n           </OrderBy>\n        </Query>";
        this.queryOptions = __WEBPACK_IMPORTED_MODULE_1__constants_apDefaultListItemQueryOptions__["a" /* DefaultListItemQueryOptions */];
        this.runOnce = false;
        this.sessionStorage = false;
        this.webURL = __WEBPACK_IMPORTED_MODULE_2__app_module__["ENV"].site;
        var list = model.getList();
        //Use the default viewFields from the model
        this.viewFields = list.viewFields;
        this.listName = model.getListId();
        //Allow all values on query to be overwritten by queryOptions object
        __WEBPACK_IMPORTED_MODULE_0_lodash__["assign"](this, queryOptions);
        /** Allow the model to be referenced at a later time */
        this.getModel = function () { return model; };
    }
    Object.defineProperty(Query.prototype, "hasExecuted", {
        /** Has this query been executed at least once. */
        get: function () {
            return __WEBPACK_IMPORTED_MODULE_0_lodash__["isDate"](this.lastRun);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Query.prototype, "usesBrowserStorage", {
        /** Is this query setup to use browser storage. */
        get: function () {
            return this.localStorage || this.sessionStorage;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @ngdoc function
     * @name Query.execute
     * @methodOf Query
     * @description
     * Query SharePoint, pull down all initial records on first call along with list definition if using
     * "GetListItemChangesSinceToken".  Note: this is  substantially larger than "GetListItems" on first call.
     * Subsequent calls pulls down changes (Assuming operation: "GetListItemChangesSinceToken").
     * @returns {ng.IPromise<IndexedCache<T>>} Promise that resolves with the cache for this query.
     */
    Query.prototype.execute = function () {
        var _this = this;
        var query = this;
        var model = query.getModel();
        var deferred = $q.defer();
        /** Return existing promise if request is already underway or has been previously executed in the past
         * 1/10th of a second */
        if (query.negotiatingWithServer || (__WEBPACK_IMPORTED_MODULE_0_lodash__["isDate"](query.lastRun) && query.lastRun.getTime() + __WEBPACK_IMPORTED_MODULE_2__app_module__["ENV"].queryDebounceTime > new Date().getTime())) {
            return query.promise;
        }
        else {
            /** Set flag to prevent another call while this query is active */
            query.negotiatingWithServer = true;
            var localStorageData = void 0;
            if (this.usesBrowserStorage) {
                localStorageData = this.getLocalStorage();
            }
            /** Clear out existing cached list items if GetListItems is the selected operation because otherwise
             * we could potentially have stale data if a list item no longer meets the query parameters but already
             * exists in the cache from a previous request. Don't clear the cache in the case where runOnce is set.*/
            if (this.operation === 'GetListItems' && !this.runOnce) {
                query.getCache().clear();
            }
            /** Flag used to determine if we need to make a request to the server */
            var makeRequest = true;
            /** See if we already have data in local storage and hydrate if it hasn't expired, which
             * then allows us to only request the changes. */
            if (!query.force && localStorageData) {
                switch (this.operation) {
                    case 'GetListItemChangesSinceToken':
                        //Only run the first time, after that the token/data are already in sync
                        if (!query.hasExecuted) {
                            query.hydrateFromLocalStorage(localStorageData);
                        }
                        break;
                    case 'GetListItems':
                        query.hydrateFromLocalStorage(localStorageData);
                        //Use cached data if we have data already available
                        makeRequest = this.getCache().size === 0;
                }
            }
            /** Optionally handle query.runOnce for GetListItems when initial call has already been made */
            if (this.hasExecuted && this.runOnce) {
                makeRequest = false;
            }
            /** Only make server request if necessary. */
            if (makeRequest) {
                this.makeRequest()
                    .then(function (results) {
                    _this.postExecutionCleanup(results);
                    deferred.resolve(results);
                });
            }
            else {
                this.postExecutionCleanup(this.getCache());
                deferred.resolve(this.getCache());
            }
            /** Save reference on the query **/
            query.promise = deferred.promise;
            return deferred.promise;
        }
    };
    /**
     * @ngdoc function
     * @name Query.getCache
     * @methodOf Query
     * @description
     * Use this to return the cache instead of using the actual property to allow for future refactoring.
     * @returns {IndexedCache<T>} Indexed Cache containing all elements in query.
     */
    Query.prototype.getCache = function () {
        return this.indexedCache;
    };
    /**
     * @ngdoc function
     * @name Query.getList
     * @methodOf Query
     * @description
     * Shortcut to retrieve the list definition from the model this query belongs to.
     * @returns {List} List definition for model.
     */
    Query.prototype.getList = function () {
        var model = this.getModel();
        return model.getList();
    };
    /**
     * @ngdoc function
     * @name Query.getLocalStorage
     * @methodOf Query
     * @description
     * Use this to return query data currenty saved in user's local or session storage.
     * @returns {LocalStorageQuery} Local storage data for this query.
     */
    Query.prototype.getLocalStorage = function () {
        var parsedQuery, localStorageKey = this.getLocalStorageKey();
        var stringifiedQuery = localStorage.getItem(localStorageKey) || sessionStorage.getItem(localStorageKey);
        if (stringifiedQuery) {
            parsedQuery = new LocalStorageQuery(localStorageKey, stringifiedQuery);
        }
        return parsedQuery;
    };
    /**
     * @ngdoc function
     * @name Query.hydrateFromLocalStorage
     * @methodOf Query
     * @description
     * If data already exists in browser local storage, we rehydrate JSON using list item constructor and
     * then have the ability to just check the server to see what has changed from the current state.
     */
    Query.prototype.hydrateFromLocalStorage = function (localStorageQuery) {
        var _this = this;
        if (localStorageQuery.hasExpired(this.localStorageExpiration)) {
            //Don't continue and purge if data has exceeded expiration
            localStorageQuery.removeItem();
        }
        else {
            var listItemProvider_1 = apDecodeService.createListItemProvider(this.getModel(), this, this.getCache());
            var fieldDefinitions = this.getList().fields;
            //Identify all DateTime JSON fields so we can cast as Date objects
            var dateTimeProperties_1 = fieldDefinitions
                .filter(function (fieldDefinition) { return fieldDefinition.objectType === 'DateTime'; })
                .map(function (fieldDefinition) { return fieldDefinition.mappedName; });
            //Hydrate each raw list item and add to cache
            __WEBPACK_IMPORTED_MODULE_0_lodash__["each"](localStorageQuery.indexedCache, function (jsonObject) {
                var hydratedObject = _this.hydrateJSONDates(jsonObject, dateTimeProperties_1);
                listItemProvider_1(hydratedObject);
            });
            //Set the last run date
            this.lastRun = localStorageQuery.lastRun;
            //Store the change token
            this.changeToken = localStorageQuery.changeToken;
            //Resolve initial query promise in case any other concurrent requests are waiting for the data
            this.initialized.resolve(this.getCache());
        }
    };
    /**
     * @ngdoc function
     * @name Query.hydrateJSONDates
     * @methodOf Query
     * @description
     * Objects pulled from local storage have JSON date strings so we need to convert to real dates.
     * @returns {Object} JSON object with date strings converted to Date objects.
     */
    Query.prototype.hydrateJSONDates = function (jsonObject, dateTimeProperties) {
        __WEBPACK_IMPORTED_MODULE_0_lodash__["each"](dateTimeProperties, function (prop) {
            if (__WEBPACK_IMPORTED_MODULE_0_lodash__["isString"](jsonObject[prop])) {
                jsonObject[prop] = new Date(jsonObject[prop]);
            }
        });
        return jsonObject;
    };
    /**
     * @ngdoc function
     * @name Query.postExecutionCleanup
     * @methodOf Query
     * @description
     * Internal method exposed to allow for testing.  Handle cleanup after query execution is complete.
     */
    Query.prototype.postExecutionCleanup = function (results) {
        var query = this;
        var model = query.getModel();
        var cache = this.getCache();
        /** Set flag if this if the first time this query has been run */
        var firstRunQuery = __WEBPACK_IMPORTED_MODULE_0_lodash__["isNull"](query.lastRun);
        if (firstRunQuery) {
            /** Promise resolved the first time query is completed */
            query.initialized.resolve(results);
        }
        /** Set list permissions if not already set */
        var list = model.getList();
        if (!list.permissions && results.first()) {
            /** Query needs to have returned at least 1 item so we can use permMask */
            list.extendPermissionsFromListItem(results.first());
        }
        /** Remove lock to allow for future requests */
        query.negotiatingWithServer = false;
        /** Store query completion date/time on model to allow us to identify age of data */
        model.lastServerUpdate = new Date();
        /** Overwrite local storage value with updated state so we can potentially restore in
         * future sessions. */
        if (query.usesBrowserStorage) {
            query.saveToLocalStorage();
        }
    };
    /**
     * @ngdoc function
     * @name Query.saveToLocalStorage
     * @methodOf Query
     * @description
     * Save a snapshot of the current state to local/session storage so we can speed up calls
     * for data already residing on the users machine.
     */
    Query.prototype.saveToLocalStorage = function () {
        //Don't use storage when running offline
        if (!__WEBPACK_IMPORTED_MODULE_2__app_module__["ENV"].production)
            return;
        var model = this.getModel();
        var store = {
            changeToken: this.changeToken,
            indexedCache: this.getCache(),
            lastRun: this.lastRun
        };
        var stringifiedQuery = JSON.stringify(store);
        var storageType = this.localStorage ? 'local' : 'session';
        var localStorageKey = this.getLocalStorageKey();
        //Use try/catch in case we've exceeded browser storage limit (typically 5MB)
        try {
            if (this.localStorage) {
                localStorage.setItem(localStorageKey, stringifiedQuery);
            }
            else {
                sessionStorage.setItem(localStorageKey, stringifiedQuery);
            }
        }
        catch (e) {
            if (e.code == 22) {
            }
            apLogger.debug('Looks like we\'re out of space in ' + storageType + ' storage.', {
                json: {
                    query: this.name,
                    model: this.getModel().list.title
                }
            });
            if (this.localStorage) {
                localStorage.clear();
            }
            else {
                sessionStorage.clear();
            }
            //Disable storage for remainder of session to prevent throwing additional errors
            this.localStorage = false;
            this.sessionStorage = false;
        }
    };
    /** They key we use for local storage */
    Query.prototype.getLocalStorageKey = function () {
        var model = this.getModel();
        return model.getListId() + '.query.' + this.name;
    };
    Query.prototype.makeRequest = function () {
        var query = this;
        var model = this.getModel();
        var cache = this.getCache();
        return apDataService.serviceWrapper(query)
            .then(function (responseXML) {
            if (query.operation === 'GetListItemChangesSinceToken') {
                apDataService.processChangeTokenXML(model, query, responseXML, cache);
            }
            /** Convert the XML into JS objects */
            var entities = apDecodeService.processListItems(model, query, responseXML, { target: cache });
            /** Set date time to allow for time based updates */
            query.lastRun = new Date();
            return entities;
        });
    };
    return Query;
}());

/**
 * @ngdoc object
 * @name angularPoint.apQueryFactory
 * @description
 * Exposes the Query prototype and a constructor to instantiate a new Query.
 *
 * @requires angularPoint.apDataService
 * @requires angularPoint.apConfig
 */
var QueryFactory = (function () {
    function QueryFactory(_$q_, _apDataService_, _apDefaultListItemQueryOptions_, _apIndexedCacheFactory_, _apDecodeService_, _apLogger_) {
        this.Query = Query;
        $q = _$q_;
        apDataService = _apDataService_;
        apDefaultListItemQueryOptions = _apDefaultListItemQueryOptions_;
        apIndexedCacheFactory = _apIndexedCacheFactory_;
        apDecodeService = _apDecodeService_;
        apLogger = _apLogger_;
    }
    /**
     * @ngdoc function
     * @name angularPoint.apQueryFactory:create
     * @methodOf angularPoint.apQueryFactory
     * @param {object} config Options object.
     * @param {object} model Reference to the model.
     * @description
     * Instantiates and returns a new Query.
     */
    QueryFactory.prototype.create = function (config, model) {
        return new Query(config, model);
    };
    return QueryFactory;
}());

QueryFactory.$inject = ['$q', 'apDataService', 'apDefaultListItemQueryOptions', 'apIndexedCacheFactory', 'apDecodeService', 'apLogger'];


/***/ },
/* 17 */
/***/ function(module, exports, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(exports, "a", function() { return UserFactory; });
var apUtilityService;
/**
 * @ngdoc function
 * @name User
 * @description
 * Allows for easier distinction when debugging if object type is shown as a User.  Turns a delimited ";#"
 * string into an object shown below depeinding on field settings:
 * <pre>
 * {
         *      lookupId: 1,
         *      lookupValue: 'Joe User'
         * }
 * </pre>
 * or
 * <pre>
 * {
         *      lookupId: 1,
         *      lookupValue: 'Joe User',
         *      loginName: 'joe.user',
         *      email: 'joe@company.com',
         *      sipAddress: 'whatever',
         *      title: 'Sr. Widget Maker'
         * }
 * </pre>
 * @param {string} s Delimited string used to create a User object.
 * @constructor
 */
var User = (function () {
    function User(str) {
        var thisUser = new apUtilityService.SplitIndex(str);
        var thisUserExpanded = thisUser.value.split(',#');
        if (thisUserExpanded.length === 1) {
            //Standard user columns only return a id,#value pair
            this.lookupId = thisUser.id;
            this.lookupValue = thisUser.value;
        }
        else {
            //Allow for case where user adds additional properties when setting up field
            this.lookupId = thisUser.id;
            this.lookupValue = thisUserExpanded[0].replace(/(,,)/g, ',');
            this.loginName = thisUserExpanded[1].replace(/(,,)/g, ',');
            this.email = thisUserExpanded[2].replace(/(,,)/g, ',');
            this.sipAddress = thisUserExpanded[3].replace(/(,,)/g, ',');
            this.title = thisUserExpanded[4].replace(/(,,)/g, ',');
        }
    }
    return User;
}());
/**
 * @ngdoc function
 * @name angularPoint.apUserFactory
 * @description
 * Tools to assist with the creation of CAML queries.
 *
 */
var UserFactory = (function () {
    function UserFactory(_apUtilityService_) {
        this.User = User;
        apUtilityService = _apUtilityService_;
    }
    /**
     * @ngdoc function
     * @name angularPoint.apUserFactory:create
     * @methodOf angularPoint.apUserFactory
     * @description
     * Instantiates and returns a new User field.
     */
    UserFactory.prototype.create = function (s) {
        return new User(s);
    };
    return UserFactory;
}());

UserFactory.$inject = ['apUtilityService'];


/***/ },
/* 18 */
/***/ function(module, exports, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);
/* harmony export (binding) */ __webpack_require__.d(exports, "a", function() { return UserModel; });

/** Local references to cached promises */
var _getGroupCollection, _getUserProfile;
/**
 * @ngdoc service
 * @name angularPoint.apUserModel
 * @description
 * Simple service that allows us to request and cache both the current user and their group memberships.
 *
 * @requires apDataService
 *
 */
var UserModel = (function () {
    function UserModel($q, apDataService) {
        this.$q = $q;
        this.apDataService = apDataService;
    }
    /**
     * @ngdoc function
     * @name angularPoint.apUserModel:checkIfMember
     * @methodOf angularPoint.apUserModel
     * @description
     * Checks to see if current user is a member of the specified group.
     * @param {string} groupName Name of the group.
     * @param {boolean} [force=false] Ignore any cached value.
     * @returns {object} Returns the group definition if the user is a member. {ID:string, Name:string, Description:string, OwnerId:string, OwnerIsUser:string}
     * @example
     * <pre>{ID: "190", Name: "Blog Contributors", Description: "We are bloggers...", OwnerID: "126", OwnerIsUser: "False"}</pre>
     */
    UserModel.prototype.checkIfMember = function (groupName, force) {
        if (force === void 0) { force = false; }
        //Allow function to be called before group collection is ready
        var deferred = this.$q.defer();
        //Initially ensure groups are ready, any future calls will receive the return
        this.getGroupCollection(force).then(function (groupCollection) {
            var groupDefinition = __WEBPACK_IMPORTED_MODULE_0_lodash__["find"](groupCollection, { Name: groupName });
            deferred.resolve(groupDefinition);
        });
        return deferred.promise;
    };
    /**
     * @ngdoc function
     * @name angularPoint.apUserModel:getGroupCollection
     * @methodOf angularPoint.apUserModel
     * @description
     * Returns the group definitions for the current user and caches results.
     * @param {boolean} [force=false] Ignore any cached value.
     * @returns {IGroupDefinition[]} Promise which resolves with the array of groups the user belongs to.
     */
    UserModel.prototype.getGroupCollection = function (force) {
        var _this = this;
        if (force === void 0) { force = false; }
        if (!_getGroupCollection || force) {
            /** Create a new deferred object if not already defined */
            var deferred = this.$q.defer();
            this.getUserProfile(force).then(function (userProfile) {
                _this.apDataService.getGroupCollectionFromUser(userProfile.userLoginName)
                    .then(function (groupCollection) {
                    deferred.resolve(groupCollection);
                });
            });
            _getGroupCollection = deferred.promise;
        }
        return _getGroupCollection;
    };
    /**
     * @ngdoc function
     * @name angularPoint.apUserModel:getUserProfile
     * @methodOf angularPoint.apUserModel
     * @description
     * Returns the user profile for the current user and caches results.
     * Pull user profile info and parse into a profile object
     * http://spservices.codeplex.com/wikipage?title=GetUserProfileByName
     * @param {boolean} [force=false] Ignore any cached value.
     * @returns {object} Promise which resolves with the requested user profile.
     */
    UserModel.prototype.getUserProfile = function (force) {
        if (force === void 0) { force = false; }
        if (!_getUserProfile || force) {
            /** Create a new deferred object if not already defined */
            _getUserProfile = this.apDataService.getUserProfileByName();
        }
        return _getUserProfile;
    };
    return UserModel;
}());

UserModel.$inject = ['$q', 'apDataService'];


/***/ },
/* 19 */
/***/ function(module, exports, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__apUtilityService__ = __webpack_require__(8);
/* harmony export (binding) */ __webpack_require__.d(exports, "a", function() { return EntityContainer; });
/* harmony export (binding) */ __webpack_require__.d(exports, "b", function() { return ModelCache; });
/* harmony export (binding) */ __webpack_require__.d(exports, "c", function() { return CacheService; });


var service, $q, $log, apIndexedCacheFactory;
/**
 * @description Stores list names when a new model is registered along with the GUID to allow us to
 *     retrieve the GUID in future
 * @example
 * <pre>
 *     listNameToIdMap = {
         *          list1Name: {
         *              model: list1Model,
         *              listId: list1GUID
         *          },
         *          list2Name: {
         *              model: list2Model,
         *              listId: list2GUID
         *          }
         *          ...
         *     }
 * </pre>
 */
var listNameToIdMap = {}, 
/**
 * @description Stores list GUID when a new model is registered with a reference to the model for
 *     future reference.
 * @example
 * <pre>
 *     listsMappedByListId = {
     *          list1GUID: {
     *              model: list1Model
     *          },
     *          list2GUID: {
     *              model: list2Model
     *          }
     *          ...
     *     }
 * </pre>
 */
listsMappedByListId = {}, 
/**
 * @description The Main cache object which stores ModelCache objects.  Keys being the model GUID and
 *     value being an a ModelCache object
 * @example
 * <pre>
 *     entityCache = {
     *          list1GUID: {
     *              item1ID: { //EnityCache for entity 1
     *                  associationQueue: [],
     *                  updateCount: 3,
     *                  listId: list1GUID,
     *                  entityId: item1ID,
     *                  entityLocations: [],
     *                  entity: {} //This is where the actual entity is referenced
     *              }
     *              item2ID: { //EnityCache for entity 2
     *                  ...
     *              }
     *          },
     *          list2GUID: {
     *              item1ID: ...
     *          }
     *          ...
     *     }
 * </pre>
 */
entityCache = {};
/**
 * @name EntityCache
 * @description
 * Cache constructor that maintains a queue of all requests for a list item, counter for the number of times
 * the cache has been updated, timestamp of last update, and add/update/remove functionality.
 * @constructor apCacheService
 * @param {string} listId GUID for list the list item belongs to.
 * @param {number} entityId The entity.id.
 */
var EntityContainer = (function () {
    function EntityContainer(listId, entityId) {
        this.entityId = entityId;
        this.associationQueue = [];
        this.entityLocations = [];
        this.updateCount = 0;
        this.listId = service.getListId(listId);
    }
    /**
     * @name EntityContainer.getEntity
     * @description
     * Promise which returns the requested entity once it has been registered in the cache.
     */
    EntityContainer.prototype.getEntity = function () {
        var deferred = $q.defer();
        if (this.entity) {
            /** Entity already exists so resolve immediately */
            deferred.resolve(this.entity);
        }
        else {
            this.associationQueue.push(deferred);
        }
        return deferred.promise;
    };
    EntityContainer.prototype.removeEntity = function () {
        service.removeEntityById(this.listId, this.entityId);
    };
    return EntityContainer;
}());

/**
 * @name ModelCache
 * @description
 * Cache of Entity Containers for each registered entity retrieved by the model.
 * @constructor
 */
var ModelCache = (function () {
    function ModelCache() {
    }
    return ModelCache;
}());

/**
 * @ngdoc service
 * @name angularPoint.apCacheService
 * @description
 * Stores a reference for all list items based on list GUID and list item id.  Allows us to then register promises
 *     that resolve once a requested list item is registered in the future.
 */
var CacheService = (function () {
    function CacheService(_$q_, _$log_, _apIndexedCacheFactory_) {
        this.entityCache = entityCache;
        $q = _$q_;
        $log = _$log_;
        apIndexedCacheFactory = _apIndexedCacheFactory_;
        service = this;
    }
    /**
     * @ngdoc function
     * @name angularPoint.apCacheService:deleteEntity
     * @methodOf angularPoint.apCacheService
     * @description
     * Deletes all references to an entity.
     * @param {string} listId GUID for list the list item belongs to.
     * @param {number} entityId The entity.id.
     */
    CacheService.prototype.deleteEntity = function (listId, entityId) {
        var entityTypeKey = this.getListId(listId);
        this.removeEntityById(entityTypeKey, entityId);
        var model = this.getModel(entityTypeKey);
        __WEBPACK_IMPORTED_MODULE_0_lodash__["each"](model.queries, function (query) {
            var cache = query.getCache();
            if (cache.has(entityId)) {
                cache.delete(entityId);
            }
        });
    };
    /**
     * @ngdoc function
     * @name angularPoint.apCacheService:getCachedEntities
     * @methodOf angularPoint.apCacheService
     * @description
     * Returns all entities for a given model as an indexed cache with keys being the entity id's.
     * @param {string} listId GUID for list the list item belongs to.
     * @returns {object} Indexed cache containing all entities for a model.
     */
    CacheService.prototype.getCachedEntities = function (listId) {
        var modelCache = this.getModelCache(listId), allEntities = apIndexedCacheFactory.create();
        __WEBPACK_IMPORTED_MODULE_0_lodash__["each"](modelCache, function (entityContainer) {
            if (entityContainer.entity && entityContainer.entity.id) {
                allEntities.set(entityContainer.entity.id, entityContainer.entity);
            }
        });
        return allEntities;
    };
    /**
     * @ngdoc function
     * @name angularPoint.apCacheService:getCachedEntity
     * @methodOf angularPoint.apCacheService
     * @description
     * Synchronise call to return a cached entity;
     * @param {string} listId GUID for list the list item belongs to.
     * @param {number} entityId The entity.id.
     * @returns {object} entity || undefined
     */
    CacheService.prototype.getCachedEntity = function (listId, entityId) {
        return this.getEntityContainer(listId, entityId).entity;
    };
    /**
     * @ngdoc function
     * @name angularPoint.apCacheService:getEntity
     * @methodOf angularPoint.apCacheService
     * @description
     * Returns a deferred object that resolves with the requested entity immediately if already present or at
     *     some point in the future assuming the entity is eventually registered.
     * @param {string} listId GUID for list the list item belongs to.
     * @param {number} entityId The entity.id.
     * @returns {promise} entity
     */
    CacheService.prototype.getEntity = function (listId, entityId) {
        var entityContainer = this.getEntityContainer(listId, entityId);
        return entityContainer.getEntity();
    };
    CacheService.prototype.getEntityContainer = function (listId, entityId) {
        var entityTypeKey = this.getListId(listId);
        var modelCache = this.getModelCache(entityTypeKey);
        /** Create the object structure if it doesn't already exist */
        modelCache[entityId] = modelCache[entityId] || new EntityContainer(entityTypeKey, entityId);
        return modelCache[entityId];
    };
    /**
     * @ngdoc function
     * @name angularPoint.apCacheService:getListId
     * @methodOf angularPoint.apCacheService
     * @description
     * Allows us to use either the List Name or the list GUID and returns the lowercase GUID
     * @param {string} keyString List GUID or name.
     * @returns {string} Lowercase list GUID.
     */
    CacheService.prototype.getListId = function (keyString) {
        if (__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__apUtilityService__["a" /* isGuid */])(keyString)) {
            /** GUID */
            return keyString.toLowerCase();
        }
        else {
            /** List Title */
            return this.getListIdFromListName(keyString);
        }
    };
    /**
     * @ngdoc function
     * @name angularPoint.apCacheService:getListIdFromListName
     * @methodOf angularPoint.apCacheService
     * @description
     * Allows us to lookup an entity cache using the name of the list instead of the GUID.
     * @param {string} name The name of the list.
     * @returns {string} GUID for the list.
     */
    CacheService.prototype.getListIdFromListName = function (name) {
        var guid;
        if (listNameToIdMap[name] && listNameToIdMap[name].listId) {
            guid = listNameToIdMap[name].listId;
        }
        return guid;
    };
    /**
     * @ngdoc function
     * @name angularPoint.apCacheService:getModel
     * @methodOf angularPoint.apCacheService
     * @description
     * Allows us to retrieve a reference to a given model by either the list title or list GUID.
     * @param {string} listId List title or list GUID.
     * @returns {object} A reference to the requested model.
     */
    CacheService.prototype.getModel = function (listId) {
        var model, entityTypeKey = this.getListId(listId);
        if (listsMappedByListId[entityTypeKey]) {
            model = listsMappedByListId[entityTypeKey].model;
        }
        return model;
    };
    /** Locates the stored cache for a model */
    CacheService.prototype.getModelCache = function (listId) {
        var entityTypeKey = this.getListId(listId);
        entityCache[entityTypeKey] = entityCache[entityTypeKey] || new ModelCache();
        return entityCache[entityTypeKey];
    };
    /**
     * @ngdoc function
     * @name angularPoint.apCacheService:registerEntity
     * @methodOf angularPoint.apCacheService
     * @description
     * Registers an entity in the cache and fulfills any pending deferred requests for the entity. If the
     * entity already exists in the cache, we extend the existing object with the updated entity and return a
     * reference to this updated object so the there is only a single instance of this entity withing the cache.
     * @param {object} entity Pass in a newly created entity to add to the cache.
     * @param {object} [targetCache] Optionally pass in a secondary cache to add a reference to this entity.
     */
    CacheService.prototype.registerEntity = function (entity, targetCache) {
        var model = entity.getModel();
        var entityContainer = this.getEntityContainer(model.getListId(), entity.id);
        /** Maintain a single object in cache for this entity */
        if (!__WEBPACK_IMPORTED_MODULE_0_lodash__["isObject"](entityContainer.entity)) {
            /** Entity isn't currently in the cache */
            entityContainer.entity = entity;
        }
        else {
            /** Already exists so update to maintain any other references being used for this entity. */
            //TODO Look at performance hit from extending and see if it would be acceptable just to replace
            __WEBPACK_IMPORTED_MODULE_0_lodash__["assign"](entityContainer.entity, entity);
        }
        /** Counter to keep track of the number of updates for this entity */
        entityContainer.updateCount++;
        if (__WEBPACK_IMPORTED_MODULE_0_lodash__["isObject"](targetCache) && !__WEBPACK_IMPORTED_MODULE_0_lodash__["isArray"](targetCache) && !targetCache[entity.id]) {
            /** Entity hasn't been added to the target cache yet */
            targetCache[entity.id] = entityContainer.entity;
        }
        /** Resolve any requests for this entity */
        __WEBPACK_IMPORTED_MODULE_0_lodash__["each"](entityContainer.associationQueue, function (deferredRequest) {
            deferredRequest.resolve(entityContainer.entity);
            /** Remove request from queue */
            entityContainer.associationQueue.shift();
        });
        return entityContainer.entity;
    };
    /**
     * @ngdoc function
     * @name angularPoint.apCacheService:registerModel
     * @methodOf angularPoint.apCacheService
     * @description
     * Creates a new ModelCache for the provide model where all list items will be stored with the key equaling
     * the entity id's and value being a EntityContainer.  The entity is stored at EntityContainer.entity.
     * @param {object} model Model to create the cache for.
     */
    CacheService.prototype.registerModel = function (model) {
        if (model.list && model.getListId() && model.list.title) {
            var listId = model.getListId().toLowerCase();
            /** Store a reference to the model by list title */
            listNameToIdMap[model.list.title] = {
                model: model,
                listId: listId
            };
            /** Store a reference to the model by list guid */
            listsMappedByListId[listId] = {
                model: model
            };
        }
    };
    /**
     * @ngdoc function
     * @name angularPoint.apCacheService:removeEntityById
     * @methodOf angularPoint.apCacheService
     * @description
     * Removes the entity from the local entity cache.
     * @param {string} listId GUID for list the list item belongs to.
     * @param {number} entityId The entity.id.
     */
    CacheService.prototype.removeEntityById = function (listId, entityId) {
        var modelCache = this.getModelCache(listId);
        if (modelCache[entityId]) {
            delete modelCache[entityId];
        }
    };
    return CacheService;
}());

CacheService.$inject = ['$q', '$log', 'apIndexedCacheFactory'];


/***/ },
/* 20 */
/***/ function(module, exports, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);
/* harmony export (binding) */ __webpack_require__.d(exports, "a", function() { return ChangeService; });

/**
 * @ngdoc service
 * @name apChangeService
 * @description
 * Primarily used for apMockBackend so we can know what to expect before an attempt to update a list
 * item is intercepted.
 */
var ChangeService = (function () {
    function ChangeService() {
        this.callbackQueue = [];
    }
    ChangeService.prototype.registerListItemUpdate = function (entity, options, promise) {
        __WEBPACK_IMPORTED_MODULE_0_lodash__["each"](this.callbackQueue, function (callback) {
            callback(entity, options, promise);
        });
    };
    ChangeService.prototype.subscribeToUpdates = function (callback) {
        this.callbackQueue.push(callback);
    };
    return ChangeService;
}());



/***/ },
/* 21 */
/***/ function(module, exports, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__constants_apWebServiceOperationConstants__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__constants_apPermissionObject__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__app_module__ = __webpack_require__(1);
/* harmony export (binding) */ __webpack_require__.d(exports, "a", function() { return DataService; });




var service, $q, $timeout, $http, apUtilityService, apCacheService, apDecodeService, apEncodeService, apFieldService, apIndexedCacheFactory, SPServices, apBasePermissionObject, apXMLToJSONService, apChangeService, apLogger;
var DataService = (function () {
    function DataService(_$http_, _$q_, _$timeout_, _apCacheService_, _apChangeService_, _apDecodeService_, _apDefaultListItemQueryOptions_, _apEncodeService_, _apFieldService_, _apIndexedCacheFactory_, _apUtilityService_, _apWebServiceOperationConstants_, _apXMLToJSONService_, _SPServices_, _apBasePermissionObject_, _apLogger_) {
        service = this;
        $http = _$http_;
        $q = _$q_;
        $timeout = _$timeout_;
        apCacheService = _apCacheService_;
        apChangeService = _apChangeService_;
        apDecodeService = _apDecodeService_;
        // apDefaultListItemQueryOptions = _apDefaultListItemQueryOptions_;
        apEncodeService = _apEncodeService_;
        apFieldService = _apFieldService_;
        apIndexedCacheFactory = _apIndexedCacheFactory_;
        apUtilityService = _apUtilityService_;
        // apWebServiceOperationConstants = _apWebServiceOperationConstants_;
        apXMLToJSONService = _apXMLToJSONService_;
        SPServices = _SPServices_;
        apBasePermissionObject = _apBasePermissionObject_;
        apLogger = _apLogger_;
    }
    DataService.prototype.createItemUrlFromFileRef = function (fileRefString) {
        return window.location.protocol + '//' + window.location.hostname + '/' + fileRefString;
    };
    /**
     * @ngdoc function
     * @name DataService.generateWebServiceUrl
     * @description
     * Builds the appropriate SharePoint resource URL.  If a URL isn't provided and it hasn't already been cached
     * we make a call to the server to find the root URL.  All future requests will then use this cached value.
     * @param {string} service The name of the service the SOAP operation is using.
     * @param {string} [webURL] Optionally provide the URL so we don't need to make a call to the server.
     * @returns {promise} Resolves with the url for the service.
     */
    DataService.prototype.generateWebServiceUrl = function (service, webURL) {
        var ajaxURL = "_vti_bin/" + service + ".asmx", deferred = $q.defer();
        if (webURL) {
            ajaxURL = webURL.charAt(webURL.length - 1) === '/' ?
                webURL + ajaxURL : webURL + '/' + ajaxURL;
            deferred.resolve(ajaxURL);
        }
        else {
            this.getCurrentSite().then(function (thisSite) {
                ajaxURL = thisSite + ((thisSite.charAt(thisSite.length - 1) === '/') ? ajaxURL : ('/' + ajaxURL));
                deferred.resolve(ajaxURL);
            });
        }
        return deferred.promise;
    };
    /**
     * @ngdoc function
     * @name DataService.getAvailableWorkflows
     * @description
     * Given a list item or document, return an array of all available workflows.  This is used in combination with
     * DataService.startWorkflow because it requires the template GUID for the target workflow.
     * @example
     * <pre>
     * DataService.getAvailableWorkflows(listItem.fileRef.lookupValue)
     *     .then(function(templateArray) {
         *          ....templateArray = [{
         *              "name": "WidgetApproval",
         *              "instantiationUrl": "https: //sharepoint.mycompany.com/_layouts/IniWrkflIP.aspx?List=fc17890e-8c0…311-cea9-40d1-a183-6edde9333815}&Web={ec744d8e-ae0a-45dd-bcd1-8a63b9b399bd}",
         *              "templateId": "59062311-cea9-40d1-a183-6edde9333815"
         *          }]
     *     });
     * </pre>
     * @param {string} fileRefString Relative or static url referencing the item.
     * @returns {object} Resolves with an array of objects defining each of the available workflows for the item.
     */
    DataService.prototype.getAvailableWorkflows = function (fileRefString) {
        /** Build the full url for the fileRef if not already provided.  FileRef for an item defaults to a relative url */
        var itemUrl = fileRefString.indexOf(': //') > -1 ? fileRefString : this.createItemUrlFromFileRef(fileRefString);
        return this.serviceWrapper({
            operation: 'GetTemplatesForItem',
            item: itemUrl
        })
            .then(function (responseXML) {
            var workflowTemplates = [];
            var xmlTemplates = apXMLToJSONService.filterNodes(responseXML, 'WorkflowTemplate');
            __WEBPACK_IMPORTED_MODULE_0_lodash__["each"](xmlTemplates, function (xmlTemplate) {
                var template = {
                    name: $(xmlTemplate).attr('Name'),
                    instantiationUrl: $(xmlTemplate).attr('InstantiationUrl'),
                    templateId: '{' + $(xmlTemplate).find('WorkflowTemplateIdSet').attr('TemplateId') + '}'
                };
                workflowTemplates.push(template);
            });
            return workflowTemplates;
        });
    };
    /**
     * @ngdoc function
     * @name DataService.getCollection
     * @description
     * Used to handle any of the Get[filterNode]Collection calls to SharePoint
     *
     * @param {Object} options - object used to extend payload and needs to include all SPServices required attributes
     * @param {string} options.operation Can be any of the below or any other requests for collections:
     *  - GetAttachmentCollection @requires options.listName & options.ID
     *  - GetGroupCollectionFromSite
     *  - GetGroupCollectionFromUser @requires options.userLoginName
     *  - GetListCollection
     *  - GetUserCollectionFromGroup @requires options.groupName
     *  - GetUserCollectionFromSite
     *  - GetViewCollection @requires options.listName
     * @param {string} options.filterNode Value to iterate over in returned XML
     *         if not provided it's extracted from the name of the operation
     *         ex: Get[User]CollectionFromSite, "User" is used as the filterNode
     * @param {string} [options.groupName] Valid for 'GetUserCollectionFromGroup'
     * @param {string} [options.listName] Valid for 'GetViewCollection' or 'GetAttachmentCollection'
     * @param {string} [options.userLoginName] Valid for 'GetGroupCollectionFromUser'
     * @returns {Promise<object[]>} Promise which when resolved will contain an array of objects representing the
     * requested collection.
     *
     * @example
     * <pre>
     * DataService.getCollection({
         *        operation: "GetGroupCollectionFromUser",
         *        userLoginName: $scope.state.selectedUser.LoginName
         *        }).then(function (response) {
         *            postProcessFunction(response);
         *       });
     * </pre>
     */
    DataService.prototype.getCollection = function (options) {
        var defaults = {
            postProcess: processXML
        };
        var opts = __WEBPACK_IMPORTED_MODULE_0_lodash__["assign"]({}, defaults, options);
        /** Determine the XML node to iterate over if filterNode isn't provided */
        var filterNode = opts.filterNode || opts.operation.split('Get')[1].split('Collection')[0];
        var deferred = $q.defer();
        /** Convert the xml returned from the server into an array of js objects */
        function processXML(responseXML) {
            var convertedItems = [];
            var filteredNodes = apXMLToJSONService.filterNodes(responseXML, filterNode);
            /** Get attachments only returns the links associated with a list item */
            if (opts.operation === 'GetAttachmentCollection') {
                /** Unlike other call, get attachments only returns strings instead of an object with attributes */
                __WEBPACK_IMPORTED_MODULE_0_lodash__["each"](filteredNodes, function (node) { return convertedItems.push($(node).text()); });
            }
            else {
                convertedItems = apXMLToJSONService.parse(filteredNodes, { includeAllAttrs: true, removeOws: false });
            }
            return convertedItems;
        }
        var validPayload = this.validateCollectionPayload(opts);
        if (validPayload) {
            this.serviceWrapper(opts)
                .then(function (response) {
                deferred.resolve(response);
            })
                .catch(function (err) { return deferred.reject(err); });
        }
        else {
            deferred.reject("Invalid payload for " + opts.operation + " request.");
        }
        return deferred.promise;
    };
    /**
     * @ngdoc function
     * @name DataService.getCurrentSite
     * @description
     * Requests and caches the root url for the current site.  It caches the response so any future calls receive
     * the cached promise.
     * @returns {promise} Resolves with the current site root url.
     */
    DataService.prototype.getCurrentSite = function () {
        var _this = this;
        var deferred = $q.defer();
        //let self = this.getCurrentSite;
        if (!this.queryForCurrentSite) {
            /** We only want to run this once so cache the promise the first time and just reference it in the future */
            this.queryForCurrentSite = deferred.promise;
            var soapData_1 = SPServices.SOAPEnvelope.header +
                "<WebUrlFromPageUrl xmlns='" + SPServices.SCHEMASharePoint + "/soap/' ><pageUrl>" +
                ((location.href.indexOf("?") > 0) ? location.href.substr(0, location.href.indexOf("?")) : location.href) +
                "</pageUrl></WebUrlFromPageUrl>" +
                SPServices.SOAPEnvelope.footer;
            $http({
                method: 'POST',
                url: '/_vti_bin/Webs.asmx',
                data: soapData_1,
                responseType: "document",
                headers: {
                    "Content-Type": "text/xml;charset='utf-8'"
                }
            })
                .then(function (response) {
                /** Success */
                var errorMsg = apDecodeService.checkResponseForErrors(response.data);
                if (errorMsg) {
                    _this.errorHandler('Failed to get current site.  ' + errorMsg, deferred, soapData_1);
                }
                // environment.site = $(response.data).find("WebUrlFromPageUrlResult").text();
                deferred.resolve(__WEBPACK_IMPORTED_MODULE_3__app_module__["ENV"].site);
            })
                .catch(function (err) {
                /** Error */
                _this.errorHandler('Failed to get current site.  ' + err, deferred, soapData_1);
            });
        }
        return this.queryForCurrentSite;
    };
    /**
     * @ngdoc function
     * @name DataService.getFieldVersionHistory
     * @description
     * Returns the version history for a field in a list item.
     * @param {object} options Configuration object passed to SPServices.
     * <pre>
     * let options = {
         *        operation: 'GetVersionCollection',
         *        webURL: apConfig.defaultUrl,
         *        strlistID: model.getListId(),
         *        strlistItemID: listItem.id,
         *        strFieldName: fieldDefinition.staticName
         *    };
     * </pre>
     * @param {object} fieldDefinition Field definition object from the model.
     * @returns {object[]} Promise which resolves with an array of list item changes for the specified field.
     */
    DataService.prototype.getFieldVersionHistory = function (options, fieldDefinition) {
        var defaults = {
            operation: 'GetVersionCollection'
        };
        var opts = __WEBPACK_IMPORTED_MODULE_0_lodash__["assign"]({}, defaults, options);
        return this.serviceWrapper(opts)
            .then(function (response) {
            /** Parse XML response */
            var fieldVersionCollection = apDecodeService.parseFieldVersions(response, fieldDefinition);
            /** Resolve with an array of all field versions */
            return fieldVersionCollection;
        })
            .catch(function (err) {
            /** Failure */
            throw new Error("Failed to fetch version history. Error: " + err);
        });
    };
    /**
     * @ngdoc function
     * @name DataService.getGroupCollectionFromUser
     * @description
     * Fetches an array of group names the user is a member of.  If no user is provided we use the current user.
     * @param {string} [login=CurrentUser] Optional param of another user's login to return the profile for.
     * @returns {string[]} Promise which resolves with the array of groups the user belongs to.
     */
    DataService.prototype.getGroupCollectionFromUser = function (login) {
        var _this = this;
        /** Create a new deferred object if not already defined */
        var deferred = $q.defer();
        var getGroupCollection = function (userLoginName) {
            _this.serviceWrapper({
                operation: 'GetGroupCollectionFromUser',
                userLoginName: userLoginName,
                filterNode: 'Group'
            }).then(function (groupCollection) { return deferred.resolve(groupCollection); });
        };
        if (!login) {
            /** No login name provided so lookup profile for current user */
            this.getUserProfileByName()
                .then(function (userProfile) { return getGroupCollection(userProfile.userLoginName); });
        }
        else {
            getGroupCollection(login);
        }
        return deferred.promise;
    };
    /**
     * @ngdoc function
     * @name DataService.getList
     * @description
     * Returns all list details including field and list config.
     * @param {object} options Configuration parameters.
     * @param {string} options.listName GUID of the list.
     * @param {string} [options.webURL] URL to the site containing the list if differnt from primary data site in apConfig.
     * @returns {object} Promise which resolves with an object defining field and list config.
     */
    DataService.prototype.getList = function (options) {
        var defaults = {
            operation: 'GetList'
        };
        var opts = __WEBPACK_IMPORTED_MODULE_0_lodash__["assign"]({}, defaults, options);
        return this.serviceWrapper(opts);
    };
    /**
     * @ngdoc function
     * @name DataService.getListFields
     * @description
     * Returns field definitions for a specified list.
     * @param {object} options Configuration parameters.
     * @param {string} options.listName GUID of the list.
     * @param {string} [options.webURL] URL to the site containing the list if differnt from primary data site in apConfig.
     * @returns {Promise} Promise which resolves with an array of field definitions for the list.
     */
    DataService.prototype.getListFields = function (options) {
        return this.getList(options)
            .then(function (responseXML) {
            var filteredNodes = apXMLToJSONService.filterNodes(responseXML, 'Field');
            var fields = apXMLToJSONService.parse(filteredNodes, { includeAllAttrs: true, removeOws: false });
            return fields;
        });
    };
    /**
     * @ngdoc function
     * @name DataService.getUserProfile
     * @description
     * Returns the profile for an optional user, but defaults the the current user if one isn't provided.
     * Pull user profile info and parse into a profile object
     * http: //spservices.codeplex.com/wikipage?title=GetUserProfileByName
     * @param {string} [login=CurrentUser] Optional param of another user's login to return the profile for.
     * @returns {object} Promise which resolves with the requested user profile.
     */
    DataService.prototype.getUserProfileByName = function (login) {
        var payload = {
            accountName: undefined,
            operation: 'GetUserProfileByName'
        };
        if (login) {
            payload.accountName = login;
        }
        return this.serviceWrapper(payload)
            .then(function (responseXML) {
            var userProfile = {
                AccountName: undefined,
                userLoginName: undefined
            };
            // Not formatted like a normal SP response so need to manually parse
            var filteredNodes = apXMLToJSONService.filterNodes(responseXML, 'PropertyData');
            __WEBPACK_IMPORTED_MODULE_0_lodash__["each"](filteredNodes, function (node) {
                var nodeName = node.getElementsByTagName('Name')[0];
                var nodeValue = node.getElementsByTagName('Value')[0];
                if (nodeName && nodeValue) {
                    userProfile[nodeName.textContent.trim()] = nodeValue.textContent.trim();
                }
            });
            /** Optionally specify a necessary prefix that should appear before the user login */
            userProfile.userLoginName = __WEBPACK_IMPORTED_MODULE_3__app_module__["ENV"].userLoginNamePrefix ?
                (__WEBPACK_IMPORTED_MODULE_3__app_module__["ENV"].userLoginNamePrefix + userProfile.AccountName) : userProfile.AccountName;
            return userProfile;
        });
    };
    /**
     * @ngdoc function
     * @name DataService.processChangeTokenXML
     * @description
     * The initial call to GetListItemChangesSinceToken also includes the field definitions for the
     * list so extend the existing field definitions and list defined in the model.  After that, store
     * the change token and make any changes to the user's permissions for the list.
     * @param {Model} model List model.
     * @param {IQuery} query Valid query object.
     * @param {Element} responseXML XML response from the server.
     * @param {IndexedCache<T>} cache Cache to process in order to handle deletions.
     */
    DataService.prototype.processChangeTokenXML = function (model, query, responseXML, cache) {
        if (!model.deferredListDefinition) {
            //Extend our local list definition and field definitions with XML
            apDecodeService.extendListMetadata(model, responseXML);
            /**If loaded from local or session cache the list/field definitions won't be extended so ensure we check before
             * resolving promise verifying list has been extended.  One of the attributes we'd expect to see on all List/Libraries
             * is "BaseType" */
            if (model.getList().BaseType) {
                //List successfully extended
                /** Replace the null placeholder with this resolved promise so we don't have to process in the future and also
                 * don't have to query again if we run Model.extendListMetadata. */
                model.deferredListDefinition = $q.when(model);
            }
        }
        /** Store token for future web service calls to return changes */
        var changeToken = this.retrieveChangeToken(responseXML);
        if (changeToken) {
            /** Don't update change token if request fails to return a valid response */
            query.changeToken = changeToken;
        }
        /** Update the user permissions for this list */
        var permissions = this.retrieveListPermissions(responseXML);
        if (permissions) {
            model.list.permissions = permissions;
        }
        /** Change token query includes deleted items as well so we need to process them separately */
        this.processDeletionsSinceToken(responseXML, cache);
    };
    /**
     * @ngdoc function
     * @name DataService.processDeletionsSinceToken
     * @description
     * GetListItemChangesSinceToken returns items that have been added as well as deleted so we need
     * to remove the deleted items from the local cache.
     * @param {Element} responseXML XML response from the server.
     * @param {Object} cache Cached object of key value pairs.
     */
    DataService.prototype.processDeletionsSinceToken = function (responseXML, cache) {
        /** Remove any locally cached entities that were deleted from the server */
        var filteredNodes = apXMLToJSONService.filterNodes(responseXML, 'Id');
        __WEBPACK_IMPORTED_MODULE_0_lodash__["each"](filteredNodes, function (node) {
            /** Check for the type of change */
            var changeType = $(node).attr('ChangeType');
            if (changeType === 'Delete') {
                var listItemId = parseInt($(node).text(), 10);
                /** Remove from local data array */
                cache.delete(listItemId);
            }
        });
    };
    /**
     * @ngdoc function
     * @name DataService.requestData
     * @description
     * The primary function that handles all communication with the server.  This is very low level and isn't
     * intended to be called directly.
     * @param {object} opts Payload object containing the details of the request.
     * @returns {promise} Promise that resolves with the server response.
     */
    DataService.prototype.requestData = function (opts) {
        var _this = this;
        var deferred = $q.defer();
        var soapData = SPServices.generateXMLComponents(opts);
        var service = __WEBPACK_IMPORTED_MODULE_1__constants_apWebServiceOperationConstants__["a" /* WebServiceOperationConstants */][opts.operation][0];
        this.generateWebServiceUrl(service, opts.webURL)
            .then(function (url) {
            $http.post(url, soapData.msg, {
                responseType: "text",
                // responseType: "document",
                headers: {
                    "Content-Type": "text/xml;charset='utf-8'",
                    SOAPAction: function () { return soapData.SOAPAction ? soapData.SOAPAction : null; }
                },
            })
                .then(function (response) {
                var parser = new DOMParser();
                var responseXML = parser.parseFromString(response.data, 'text/xml');
                // Success Code
                // Errors can still be resolved without throwing an error so check the XML
                var errorMsg = apDecodeService.checkResponseForErrors(responseXML);
                // let errorMsg = apDecodeService.checkResponseForErrors(<any>response.data);
                if (errorMsg) {
                    // Actuall error but returned with success resonse....thank you SharePoint
                    _this.errorHandler(errorMsg, deferred, soapData, response);
                }
                else {
                    /** Real success */
                    deferred.resolve(responseXML);
                }
            })
                .catch(function (err) {
                // Failure
                _this.errorHandler(err, deferred, soapData);
            });
        });
        return deferred.promise;
    };
    /**
     * @ngdoc function
     * @name DataService.retrieveChangeToken
     * @description
     * Returns the change token from the xml response of a GetListItemChangesSinceToken query
     * Note: this attribute is only found when using 'GetListItemChangesSinceToken'
     * @param {Element} responseXML XML response from the server.
     */
    DataService.prototype.retrieveChangeToken = function (responseXML) {
        return $(responseXML).find('Changes').attr('LastChangeToken');
    };
    /**
     * @ngdoc function
     * @name DataService.retrieveListPermissions
     * @description
     * Returns the text representation of the users permission mask
     * Note: this attribute is only found when using 'GetListItemChangesSinceToken'
     * @param {Element} responseXML XML response from the server.
     */
    DataService.prototype.retrieveListPermissions = function (responseXML) {
        //Permissions will be a string of Permission names delimited by commas
        //Example: "ViewListItems, AddListItems, EditListItems, DeleteListItems, ...."
        var listPermissions = $(responseXML).find('listitems').attr('EffectivePermMask');
        var permissionObject;
        if (__WEBPACK_IMPORTED_MODULE_0_lodash__["isString"](listPermissions)) {
            var permissionNameArray = listPermissions.split(',');
            permissionObject = new __WEBPACK_IMPORTED_MODULE_2__constants_apPermissionObject__["a" /* BasePermissionObject */]();
            //Set each of the identified permission levels to true
            __WEBPACK_IMPORTED_MODULE_0_lodash__["each"](permissionNameArray, function (permission) {
                //Remove extra spaces
                var permissionName = permission.trim();
                //Find the permission level on the permission object that is currently set to false
                //and set to true
                permissionObject[permissionName] = true;
                if (permissionName === 'FullMask') {
                    //User has full rights so set all to true
                    __WEBPACK_IMPORTED_MODULE_0_lodash__["each"](permissionObject, function (propertyValue, propertyName) {
                        permissionObject[propertyName] = true;
                    });
                }
            });
        }
        return permissionObject;
    };
    /**
     * @ngdoc function
     * @name DataService.serviceWrapper
     * @description
     * Generic wrapper for any SPServices web service call.  The big benefit to this function is it allows us
     * to continue to use the $q promise model throughout the application instead of using the promise
     * implementation used in SPServices so we have a more consistent experience.
     * Check http: //spservices.codeplex.com/documentation for details on expected parameters for each operation.
     *
     * @param {object} options Payload params that is directly passed to SPServices.
     * @param {string} [options.filterNode] XML filter string used to find the elements to iterate over.
     * This is typically 'z: row' for list items.
     * @param {Function} [options.postProcess] Method to process responseXML prior to returning.
     * @param {string} [options.webURL] XML filter string used to find the elements to iterate over.
     * @returns {object} Returns a promise which when resolved either returns clean objects parsed by the value
     * in options.filterNode or the raw XML response if a options.filterNode
     *
     *      If options.filterNode is provided, returns XML parsed by node name
     *      Otherwise returns the server response
     */
    DataService.prototype.serviceWrapper = function (options) {
        var defaults = {
            postProcess: processXML,
            webURL: __WEBPACK_IMPORTED_MODULE_3__app_module__["ENV"].site
        };
        var opts = __WEBPACK_IMPORTED_MODULE_0_lodash__["assign"]({}, defaults, options);
        /** Convert the xml returned from the server into an array of js objects */
        function processXML(responseXML) {
            if (opts.filterNode) {
                var filteredNodes = apXMLToJSONService.filterNodes(responseXML, opts.filterNode);
                return apXMLToJSONService.parse(filteredNodes, { includeAllAttrs: true, removeOws: false });
            }
            else {
                return responseXML;
            }
        }
        return this.requestData(opts)
            .then(function (responseXML) {
            /** Success */
            return opts.postProcess(responseXML);
        })
            .catch(function (err) {
            /** Failure */
            return err + '  Failed to complete the requested ' + opts.operation + ' operation.';
        });
    };
    /**
     * @ngdoc function
     * @name DataService.startWorkflow
     * @description
     * Initiate a workflow for a given list item or document.  You can view additional info at
     * [StartWorkflow](http: //spservices.codeplex.com/wikipage?title=StartWorkflow&referringTitle=Workflow).
     * @param {object} options Configuration options.
     * @param {string} options.item Full fileRef for the given list item/document.
     * @param {string} options.templateId The workflow template GUID.  You can use dataService.getAvailableWorkflows
     * to locate to appropriate one.
     * @param {string} [options.workflowParameters='<root />'] Optionally provide paramaters to the workflow.
     * @param {string} [options.fileRef] Optionally pass in the relative fileRef of an listItem and then we can
     * convert it to options.item.
     * @returns {object} Deferred object that resolves once complete.
     * @example
     * <pre>
     * DataService.startWorkflow({
         *     item: "https: //server/site/Lists/item" + idData + "_.000",
         *     templateId: "{c29c1291-a25c-47d7-9345-8fb1de2a1fa3}",
         *     workflowParameters: "<Data><monthName>" + txtBox.value + "</monthName></Data>",
         *   ...}).then(function() {
         *       //Success
         *   }, function(err) {
         *       //Error
         *   })
     * </pre>
     */
    DataService.prototype.startWorkflow = function (options) {
        var defaults = {
            operation: 'StartWorkflow',
            item: '',
            fileRef: '',
            templateId: '',
            workflowParameters: '<root />'
        };
        var opts = __WEBPACK_IMPORTED_MODULE_0_lodash__["assign"]({}, defaults, options);
        /** We have the relative file reference but we need to create the fully qualified reference */
        if (!opts.item && opts.fileRef) {
            opts.item = this.createItemUrlFromFileRef(opts.fileRef);
        }
        return this.serviceWrapper(opts);
    };
    /**
     * @description
     * Simply verifies that all components of the payload are present.
     * @param {object} opts Payload config.
     * @returns {boolean} Collection is valid.
     */
    DataService.prototype.validateCollectionPayload = function (opts) {
        var validPayload = true;
        var verifyParams = function (params) {
            __WEBPACK_IMPORTED_MODULE_0_lodash__["each"](params, function (param) {
                if (!opts[param]) {
                    console.warn('options' + param + ' is required to complete this operation');
                    validPayload = false;
                }
            });
        };
        //Verify all required params are included
        switch (opts.operation) {
            case 'GetGroupCollectionFromUser':
                verifyParams(['userLoginName']);
                break;
            case 'GetUserCollectionFromGroup':
                verifyParams(['groupName']);
                break;
            case 'GetViewCollection':
                verifyParams(['listName']);
                break;
            case 'GetAttachmentCollection':
                verifyParams(['listName', 'ID']);
                break;
        }
        return validPayload;
    };
    DataService.prototype.errorHandler = function (errorMsg, deferred, soapData, response) {
        //Log error to any server side logging list
        apLogger.error(errorMsg, {
            json: {
                request: JSON.stringify(soapData, null, 2),
                response: JSON.stringify(response, null, 2)
            }
        });
        deferred.reject(errorMsg);
    };
    return DataService;
}());

DataService.$inject = ['$http', '$q', '$timeout', 'apCacheService', 'apChangeService', 'apDecodeService',
    'apDefaultListItemQueryOptions', 'apEncodeService', 'apFieldService', 'apIndexedCacheFactory',
    'apUtilityService', 'apWebServiceOperationConstants', 'apXMLToJSONService', 'SPServices',
    'apBasePermissionObject', 'apLogger'];


/***/ },
/* 22 */
/***/ function(module, exports, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__factories_apListItemVersionFactory__ = __webpack_require__(7);
/* harmony export (binding) */ __webpack_require__.d(exports, "a", function() { return DecodeService; });


/**
 * @ngdoc service
 * @name angularPoint.apDecodeService
 * @description
 * Processes the XML received from SharePoint and converts it into JavaScript objects based on predefined field types.
 *
 * @requires angularPoint.apUtilityService
 * @requires angularPoint.apConfig
 * @requires angularPoint.apCacheService
 */
var DecodeService = (function () {
    function DecodeService(apCacheService, apLookupFactory, apUserFactory, apFieldService, apXMLListAttributeTypes, apXMLFieldAttributeTypes, apXMLToJSONService) {
        this.apCacheService = apCacheService;
        this.apLookupFactory = apLookupFactory;
        this.apUserFactory = apUserFactory;
        this.apFieldService = apFieldService;
        this.apXMLListAttributeTypes = apXMLListAttributeTypes;
        this.apXMLFieldAttributeTypes = apXMLFieldAttributeTypes;
        this.apXMLToJSONService = apXMLToJSONService;
    }
    /**
     * @ngdoc function
     * @name angularPoint.apDecodeService:checkResponseForErrors
     * @methodOf angularPoint.apDecodeService
     * @description
     * Errors don't always throw correctly from SPServices so this function checks to see if part
     * of the XHR response contains an "errorstring" element.
     * @param {object} responseXML XHR response from the server.
     * @returns {string} Returns an error string if present.
     */
    DecodeService.prototype.checkResponseForErrors = function (responseXML) {
        var error;
        /** Look for <errorstring></errorstring> or <ErrorText></ErrorText> for details on any errors */
        var errorElements = ['ErrorText', 'errorstring'];
        __WEBPACK_IMPORTED_MODULE_0_lodash__["each"](errorElements, function (element) {
            $(responseXML).find(element).each(function () {
                error = $(this).text();
                /** Break early if found */
                return false;
            });
        });
        return error;
    };
    /** Converts UTC date to a localized date
     * Taken from: http://stackoverflow.com/questions/6525538/convert-utc-date-time-to-local-date-time-using-javascript
     * */
    DecodeService.prototype.convertUTCDateToLocalDate = function (date) {
        var newDate = new Date(date.getTime() + date.getTimezoneOffset() * 60 * 1000);
        var offset = date.getTimezoneOffset() / 60;
        var hours = date.getHours();
        newDate.setHours(hours - offset);
        return newDate;
    };
    /**
     * @ngdoc function
     * @name angularPoint.apDecodeService:createListItemProvider
     * @methodOf angularPoint.apDecodeService
     * @description
     * The initial constructor for a list item that references the array where the entity exists and the
     * query used to fetch the entity.  From there it extends the entity using the factory defined in the
     * model for the list item.
     * @param {object} model Reference to the model for the list item.
     * @param {object} query Reference to the query object used to retrieve the entity.
     * @param {object} indexedCache Location where we'll be pushing the new entity.
     * @returns {Function} Returns a function that takes the new list item while keeping model, query,
     * and container in scope for future reference.
     */
    DecodeService.prototype.createListItemProvider = function (model, query, indexedCache) {
        var _this = this;
        return function (rawObject) {
            var listItem;
            if (indexedCache.has(rawObject.id)) {
                //Object already exists in cache so we just need to update properties
                listItem = indexedCache.get(rawObject.id);
                //Call constructor on original list item to perform any initialization logic again
                listItem.constructor(rawObject);
            }
            else {
                //Creating a new List Item
                /** Create Reference to the indexed cache */
                rawObject.getCache = function () { return indexedCache; };
                /** Allow us to reference the originating query that generated this object */
                rawObject.getQuery = function () { return query; };
                listItem = new model.factory(rawObject);
                /** Register in global application listItem cache */
                _this.apCacheService.registerEntity(listItem, indexedCache);
            }
            //Store the value instead of just a reference to the original object
            var pristineValue = __WEBPACK_IMPORTED_MODULE_0_lodash__["cloneDeep"](rawObject);
            /**
             * @ngdoc function
             * @name ListItem.getPristine
             * @description
             * Allow us to reference the uninstantiated version of this list item.  Reference set
             * via angularPoint.apDecodeService:createListItemProvider.
             */
            listItem.getPristine = function () { return pristineValue; };
            return indexedCache.get(rawObject.id);
        };
    };
    /**
     * @ngdoc function
     * @name angularPoint.apDecodeService:extendFieldDefinitionsFromXML
     * @methodOf angularPoint.apDecodeService
     * @description
     * Takes the XML response from a web service call and extends any field definitions in the model
     * with additional field metadata.  Important to note that all properties will coming from the XML start
     * with a capital letter.
     * @param {object[]} fieldDefinitions Field definitions from the model.
     * @param {object} responseXML XML response from the server.
     */
    DecodeService.prototype.extendFieldDefinitionsFromXML = function (fieldDefinitions, responseXML) {
        var _this = this;
        var fieldMap = {};
        /** Map all custom fields with keys of the staticName and values = field definition */
        __WEBPACK_IMPORTED_MODULE_0_lodash__["each"](fieldDefinitions, function (field) {
            if (field.staticName) {
                fieldMap[field.staticName] = field;
            }
        });
        /** Iterate over each of the field nodes */
        var filteredNodes = this.apXMLToJSONService.filterNodes(responseXML, 'Field');
        __WEBPACK_IMPORTED_MODULE_0_lodash__["each"](filteredNodes, function (xmlField) {
            var staticName = $(xmlField).attr('StaticName');
            var fieldDefinition = fieldMap[staticName];
            /** If we've defined this field then we should extend it */
            if (fieldDefinition) {
                _this.extendObjectWithXMLAttributes(xmlField, fieldDefinition, _this.apXMLFieldAttributeTypes);
                /** Additional processing for Choice fields to include the default value and choices */
                if (fieldDefinition.objectType === 'Choice' || fieldDefinition.objectType === 'MultiChoice') {
                    fieldDefinition.Choices = [];
                    /** Convert XML Choices object to an array of choices */
                    var xmlChoices = $(xmlField).find('CHOICE');
                    __WEBPACK_IMPORTED_MODULE_0_lodash__["each"](xmlChoices, function (xmlChoice) {
                        fieldDefinition.Choices.push($(xmlChoice).text());
                    });
                    fieldDefinition.Default = $(xmlField).find('Default').text();
                }
            }
        });
        return fieldDefinitions;
    };
    /**
     * @ngdoc function
     * @name angularPoint.apDecodeService:extendListDefinitionFromXML
     * @methodOf angularPoint.apDecodeService
     * @description
     * Takes the XML response from a web service call and extends the list definition in the model
     * with additional field metadata.  Important to note that all properties will coming from the XML start
     * with a capital letter.
     * @param {object} list model.list
     * @param {object} responseXML XML response from the server.
     * @returns {object} Extended list object.
     */
    DecodeService.prototype.extendListDefinitionFromXML = function (list, responseXML) {
        var service = this;
        $(responseXML).find("List").each(function () {
            service.extendObjectWithXMLAttributes(this, list, service.apXMLListAttributeTypes);
        });
        return list;
    };
    /**
     * @ngdoc function
     * @name angularPoint.apDecodeService:extendListMetadata
     * @methodOf angularPoint.apDecodeService
     * @description
     * Convenience method that extends the list definition and the field definitions from an xml list response
     * from the server.  Can be used specifically with GetListItemsSinceToken and GetList operations.
     * @param {object} model Model for a given list.
     * @param {object} responseXML XML response from the server.
     */
    DecodeService.prototype.extendListMetadata = function (model, responseXML) {
        this.extendListDefinitionFromXML(model.list, responseXML);
        this.extendFieldDefinitionsFromXML(model.list.fields, responseXML);
    };
    /**
     * @ngdoc function
     * @name angularPoint.apDecodeService:extendObjectWithXMLAttributes
     * @methodOf angularPoint.apDecodeService
     * @description
     * Takes an XML element and copies all attributes over to a given JS object with corresponding values.  If
     * no JS Object is provided, it extends an empty object and returns it.  If an attributeTypes object is provided
     * we parse each of the defined field so they are typed correctly instead of being a simple string.
     * Note: Properties are not necessarily CAMLCase.
     * @param {object} xmlObject An XML element.
     * @param {object} [jsObject={}] An optional JS Object to extend XML attributes to.
     * @param {object} [attributeTypes={}] Key/Val object with keys being the name of the field and val being the
     * type of field.
     * @returns {object} JS Object
     */
    DecodeService.prototype.extendObjectWithXMLAttributes = function (xmlObject, jsObject, attributeTypes) {
        var _this = this;
        var objectToExtend = jsObject || {};
        var attributeMap = attributeTypes || {};
        var xmlAttributes = xmlObject.attributes;
        __WEBPACK_IMPORTED_MODULE_0_lodash__["each"](xmlAttributes, function (attr, attrNum) {
            var attrName = xmlAttributes[attrNum].name;
            objectToExtend[attrName] = $(xmlObject).attr(attrName);
            if (attributeMap[attrName]) {
                objectToExtend[attrName] = _this.parseStringValue(objectToExtend[attrName], attributeMap[attrName]);
            }
        });
        return objectToExtend;
    };
    DecodeService.prototype.jsAttachments = function (str) {
        /* Depending on CAMLQueryOptions Config an attachment can be formatted in 1 of the below 3 ways:
         1. {number} The number of attachments for a given list item.
         CAMLQueryOptions
         <IncludeAttachmentUrls>FALSE</IncludeAttachmentUrls>
         <IncludeAttachmentVersion>FALSE</IncludeAttachmentVersion>

         Example
         ows_Attachments="2"

         2. {string}
         CAMLQueryOptions
         <IncludeAttachmentUrls>TRUE</IncludeAttachmentUrls>
         <IncludeAttachmentVersion>FALSE</IncludeAttachmentVersion>

         Format
         ;#[ListUrl]/Attachments/[ListItemId]/[FileName];#

         Example:
         ows_Attachments=";#https://SharePointSite.com/Lists/Widgets/Attachments/4/DocumentName.xlsx;#"

         //Todo Check to see if there is any value in this option
         3. {string} NOTE: We don't currently handle this format.
         CAMLQueryOptions
         <IncludeAttachmentUrls>TRUE</IncludeAttachmentUrls>
         <IncludeAttachmentVersion>TRUE</IncludeAttachmentVersion>

         Format
         ;#[ListUrl]/Attachments/[ListItemId]/[FileName];#[AttachmentGUID],[Version Number];#

         Example:
         ows_Attachments=";#https://SharePointSite.com/Lists/Widgets/Attachments/4/DocumentName.xlsx;#{4378D394-8601-480D-ABD0-0A0505E726FB},1;#"
         */
        if (!isNaN(str)) {
            /** Value is a number current stored as a string */
            var int = parseInt(str);
            if (int > 0) {
                return int;
            }
            else {
                return '';
            }
        }
        else {
            /** Split into an array of attachment URLs */
            return this.jsChoiceMulti(str);
        }
    };
    DecodeService.prototype.jsBoolean = function (str) {
        /** SharePoint uses different string representations for booleans in different places so account for each */
        return str === '1' || str === 'True' || str === 'TRUE';
    };
    DecodeService.prototype.jsCalc = function (str) {
        if (str.length === 0) {
            return null;
        }
        else {
            var thisCalc = str.split(';#');
            // The first value will be the calculated column value type, the second will be the value
            return this.parseStringValue(thisCalc[1], thisCalc[0]);
        }
    };
    DecodeService.prototype.jsChoiceMulti = function (str) {
        if (str.length === 0) {
            return [];
        }
        else {
            var thisChoiceMultiObject = [];
            var thisChoiceMulti = str.split(';#');
            for (var i = 0; i < thisChoiceMulti.length; i++) {
                if (thisChoiceMulti[i].length !== 0) {
                    thisChoiceMultiObject.push(thisChoiceMulti[i]);
                }
            }
            return thisChoiceMultiObject;
        }
    };
    DecodeService.prototype.jsDate = function (str) {
        if (!str) {
            return null;
        }
        else {
            /** Replace dashes with slashes and the "T" deliminator with a space if found */
            var dt = str.split("T")[0] !== str ? str.split("T") : str.split(" ");
            var d = dt[0].split("-");
            var t = dt[1].split(":");
            var t3 = t[2].split("Z");
            return new Date(d[0], (d[1] - 1), d[2], t[0], t[1], t3[0]);
        }
    };
    DecodeService.prototype.jsFloat = function (str) {
        if (!str) {
            return str;
        }
        else {
            return parseFloat(str);
        }
    };
    DecodeService.prototype.jsInt = function (str) {
        if (!str) {
            return str;
        }
        else {
            return parseInt(str, 10);
        }
    };
    DecodeService.prototype.jsLookup = function (str, options) {
        if (str.length === 0) {
            return null;
        }
        else {
            //Send to constructor
            return this.apLookupFactory.create(str, options);
        }
    };
    DecodeService.prototype.jsLookupMulti = function (str, options) {
        if (str.length === 0) {
            return [];
        }
        else {
            var thisLookupMultiObject = [];
            var thisLookupMulti = str.split(';#');
            for (var i = 0; i < thisLookupMulti.length; i = i + 2) {
                /** Ensure a lookup id is present before attempting to push a new lookup */
                if (thisLookupMulti[i]) {
                    var thisLookup = this.jsLookup(thisLookupMulti[i] + ';#' + thisLookupMulti[i + 1], options);
                    thisLookupMultiObject.push(thisLookup);
                }
            }
            return thisLookupMultiObject;
        }
    };
    DecodeService.prototype.jsObject = function (str) {
        if (!str) {
            return str;
        }
        else {
            /** Ensure JSON is valid and if not throw error with additional detail */
            var json = null;
            try {
                json = JSON.parse(str);
            }
            catch (err) {
                console.error('Invalid JSON: ', str);
            }
            return json;
        }
    };
    DecodeService.prototype.jsString = function (str) {
        return str;
    };
    DecodeService.prototype.jsUser = function (str) {
        if (str.length === 0) {
            return null;
        }
        //Send to constructor
        return this.apUserFactory.create(str);
    };
    DecodeService.prototype.jsUserMulti = function (str) {
        if (str.length === 0) {
            return [];
        }
        else {
            var thisUserMultiObject = [];
            var thisUserMulti = str.split(';#');
            for (var i = 0; i < thisUserMulti.length; i = i + 2) {
                var thisUser = this.jsUser(thisUserMulti[i] + ';#' + thisUserMulti[i + 1]);
                thisUserMultiObject.push(thisUser);
            }
            return thisUserMultiObject;
        }
    };
    /**
     * @ngdoc function
     * @name angularPoint.apDecodeService:parseFieldVersions
     * @methodOf angularPoint.apDecodeService
     * @description
     * Takes an XML response from SharePoint webservice and returns an array of field versions.
     *
     * @param {xml} responseXML Returned XML from web service call.
     * @param {object} fieldDefinition Field definition from the model.
     *
     * @returns {FieldVersionCollection} FieldVersionCollection object with all versions included.
     */
    DecodeService.prototype.parseFieldVersions = function (responseXML, fieldDefinition) {
        var _this = this;
        // let versions = {};
        var xmlVersions = $(responseXML).find('Version');
        var versionCount = xmlVersions.length;
        var fieldVersionCollection = new __WEBPACK_IMPORTED_MODULE_1__factories_apListItemVersionFactory__["a" /* FieldVersionCollection */](fieldDefinition);
        __WEBPACK_IMPORTED_MODULE_0_lodash__["each"](xmlVersions, function (xmlVersion, index) {
            /** Bug in SOAP Web SPServicesCore returns time in UTC time for version history
             *  Details: https://spservices.codeplex.com/discussions/391879
             */
            var utcDate = _this.parseStringValue($(xmlVersion).attr('Modified'), 'DateTime');
            /** Parse the xml and create a representation of the version as a js object */
            var editor = _this.parseStringValue($(xmlVersion).attr('Editor'), 'User');
            /** Turn the SharePoint formatted date into a valid date object */
            var modified = _this.convertUTCDateToLocalDate(utcDate);
            /** Properly format field based on definition from model */
            var value = _this.parseStringValue($(xmlVersion).attr(fieldDefinition.staticName), fieldDefinition.objectType);
            var version = versionCount - index;
            /** Add each distict version to the version collection */
            fieldVersionCollection.addVersion(editor, modified, value, version);
        });
        return fieldVersionCollection;
    };
    /**
     * @ngdoc function
     * @name angularPoint.apDecodeService:parseStringValue
     * @methodOf angularPoint.apDecodeService
     * @description
     * Converts a SharePoint string representation of a field into the correctly formatted JavaScript version
     * based on object type.  A majority of this code is directly taken from Marc Anderson's incredible
     * [SPServices](http://spservices.codeplex.com/) project but it needed some minor tweaking to work here.
     * @param {string} str SharePoint string representing the value.
     * @param {string} [objectType='Text'] The type based on field definition.  See
     * See [List.customFields](#/api/List.FieldDefinition) for additional info on how to define a field type.
     * @param {object} [options] Options to pass to the object constructor.
     * @param {object} [options.entity] Reference to the parent list item which can be used by child constructors.
     * @param {object} [options.propertyName] Name of property on the list item.
     * @returns {*} The newly instantiated JavaScript value based on field type.
     */
    DecodeService.prototype.parseStringValue = function (str, objectType, options) {
        var unescapedValue = __WEBPACK_IMPORTED_MODULE_0_lodash__["unescape"](str);
        var colValue;
        switch (objectType) {
            case 'Attachments':
                colValue = this.jsAttachments(unescapedValue);
                break;
            case 'Boolean':
                colValue = this.jsBoolean(unescapedValue);
                break;
            case 'Calculated':
                colValue = this.jsCalc(unescapedValue);
                break;
            case 'datetime': // For calculated columns, stored as datetime;#value
            case 'DateTime':
                // Dates have dashes instead of slashes: ows_Created='2009-08-25 14:24:48'
                colValue = this.jsDate(unescapedValue);
                break;
            case 'Lookup':
                colValue = this.jsLookup(unescapedValue, options);
                break;
            case 'User':
                colValue = this.jsUser(unescapedValue);
                break;
            case 'LookupMulti':
                colValue = this.jsLookupMulti(unescapedValue, options);
                break;
            case 'UserMulti':
                colValue = this.jsUserMulti(unescapedValue);
                break;
            case 'Integer':
            case 'Counter':
                colValue = this.jsInt(unescapedValue);
                break;
            case 'Number':
            case 'Currency':
            case 'float': // For calculated columns, stored as float;#value
            case 'Float':
                colValue = this.jsFloat(unescapedValue);
                break;
            case 'MultiChoice':
                colValue = this.jsChoiceMulti(unescapedValue);
                break;
            case 'JSON':
                colValue = this.jsObject(unescapedValue);
                break;
            case 'Choice':
            case 'HTML':
            case 'Note':
            default:
                // All other objectTypes will be simple strings
                colValue = this.jsString(unescapedValue);
                break;
        }
        return colValue;
    };
    /**
     * @ngdoc function
     * @name angularPoint.apDecodeService:parseXMLEntity
     * @methodOf angularPoint.apDecodeService
     * @description
     * Convert an XML list item into a JS object using the fields defined in the model for the given list item.
     * @param {object} xmlEntity XML Object.
     * @param {object} options Configuration options.
     * @param {string} options.mapping Mapping of fields we'd like to extend on our JS object.
     * @param {boolean} [options.includeAllAttrs=false] If true, return all attributes, regardless whether
     * @param {boolean} [options.removeOws=true] Specifically for GetListItems, if true, the leading ows_ will be removed.
     * @returns {object} New entity using the factory on the model.
     */
    DecodeService.prototype.parseXmlEntity = function (xmlEntity, _a) {
        var _this = this;
        var mapping = _a.mapping, _b = _a.includeAllAttrs, includeAllAttrs = _b === void 0 ? false : _b, _c = _a.removeOws, removeOws = _c === void 0 ? true : _c;
        var entity = {};
        var rowAttrs = xmlEntity.attributes;
        /** Bring back all mapped columns, even those with no value */
        __WEBPACK_IMPORTED_MODULE_0_lodash__["each"](mapping, function (fieldDefinition) {
            entity[fieldDefinition.mappedName] = _this.apFieldService.getDefaultValueForType(fieldDefinition.objectType);
        });
        /** Parse through the element's attributes */
        __WEBPACK_IMPORTED_MODULE_0_lodash__["each"](rowAttrs, function (attr) {
            var thisAttrName = attr.name;
            var thisMapping = mapping[thisAttrName];
            var thisObjectName = typeof thisMapping !== 'undefined' ? thisMapping.mappedName : removeOws ? thisAttrName.split('ows_')[1] : thisAttrName;
            var thisObjectType = typeof thisMapping !== 'undefined' ? thisMapping.objectType : undefined;
            if (includeAllAttrs || thisMapping !== undefined) {
                entity[thisObjectName] = _this.parseStringValue(attr.value, thisObjectType, {
                    entity: entity,
                    propertyName: thisObjectName
                });
            }
        });
        return entity;
    };
    /**
     * @ngdoc function
     * @name angularPoint.apDecodeService:processListItems
     * @methodOf angularPoint.apDecodeService
     * @description
     * Post processing of data after returning list items from server.  Returns a promise that resolves with
     * the processed entities.  Promise allows us to batch conversions of large lists to prevent ui slowdowns.
     * @param {object} model Reference to allow updating of model.
     * @param {object} query Reference to the query responsible for requesting entities.
     * @param {xml} responseXML Resolved promise from SPServices web service call.
     * @param {object} [options] Optional configuration object.
     * @param {boolean} [options.includeAllAttrs=false] If true, return all attributes, regardless whether
     * they are mapped.
     * @param {string} [options.filter='z:row'] XML filter string used to find the elements to iterate over.
     * @param {Array} [options.mapping=model.list.mapping] Field definitions, typically stored on the model.
     * @param {Array} [options.target=model.getCache()] Optionally pass in an Indexed Cache instead of using the defaul cache.
     * @returns {Object} Inedexed Cache.
     */
    DecodeService.prototype.processListItems = function (model, query, responseXML, _a) {
        var _b = _a === void 0 ? {} : _a, _c = _b.includeAllAttrs, includeAllAttrs = _c === void 0 ? false : _c, _d = _b.filter, filter = _d === void 0 ? 'z:row' : _d, _e = _b.mapping, mapping = _e === void 0 ? model.list.mapping : _e, _f = _b.target, target = _f === void 0 ? model.getCache() : _f;
        /** Map returned XML to JS objects based on mapping from model */
        var filteredNodes = this.apXMLToJSONService.filterNodes(responseXML, filter);
        /** Prepare constructor for XML entities with references to the query and cached container */
        var listItemProvider = this.createListItemProvider(model, query, target);
        /** Convert XML entities into JS objects */
        var parsedEntities = this.xmlToJson(filteredNodes, { mapping: mapping, includeAllAttrs: includeAllAttrs });
        /** Instantiate each list list item with factory on model and add to cache */
        __WEBPACK_IMPORTED_MODULE_0_lodash__["each"](parsedEntities, function (rawListItemObject) {
            listItemProvider(rawListItemObject);
        });
        return target;
    };
    /**
     * @ngdoc function
     * @name angularPoint.apDecodeService:xmlToJson
     * @methodOf angularPoint.apDecodeService
     * @description
     * Converts an XML node set to Javascript object array. This is a modified version of the SPServices
     * "SPXmlToJson" function.
     * @param {array} xmlEntities ["z:rows"] XML rows that need to be parsed.
     * @param {object} options Options object.
     * @param {IListFieldMapping} options.mapping [columnName: "mappedName", objectType: "objectType"]
     * @param {boolean} [options.includeAllAttrs=false] If true, return all attributes, regardless whether
     * they are mapped.
     * @param {boolean} [options.removeOws=true] Specifically for GetListItems, if true, the leading ows_ will
     * be stripped off the field name.
     * @returns {object[]} An array of JavaScript objects.
     */
    DecodeService.prototype.xmlToJson = function (xmlEntities, _a) {
        var _this = this;
        var mapping = _a.mapping, _b = _a.includeAllAttrs, includeAllAttrs = _b === void 0 ? false : _b, _c = _a.removeOws, removeOws = _c === void 0 ? true : _c;
        var parseOptions = { mapping: mapping, includeAllAttrs: includeAllAttrs, removeOws: removeOws };
        return __WEBPACK_IMPORTED_MODULE_0_lodash__["map"](xmlEntities, function (xmlEntity) {
            return _this.parseXmlEntity(xmlEntity, parseOptions);
        });
    };
    return DecodeService;
}());

DecodeService.$inject = ['apCacheService', 'apLookupFactory', 'apUserFactory', 'apFieldService',
    'apXMLListAttributeTypes', 'apXMLFieldAttributeTypes', 'apXMLToJSONService'];


/***/ },
/* 23 */
/***/ function(module, exports, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);
/* harmony export (binding) */ __webpack_require__.d(exports, "a", function() { return EncodeService; });

/**
 * @ngdoc service
 * @name angularPoint.apEncodeService
 * @description
 * Processes JavaScript objects and converts them to a format SharePoint expects.
 *
 * @requires angularPoint.apUtilityService
 */
var EncodeService = (function () {
    function EncodeService(apUtilityService, SPServices) {
        this.apUtilityService = apUtilityService;
        this.SPServices = SPServices;
    }
    /**
     * Converts an array of selected values into a SharePoint MultiChoice string
     * @param {string[]} arr
     * @returns {string}
     */
    EncodeService.prototype.choiceMultiToString = function (choices) {
        var str = '';
        var delim = ';#';
        if (choices.length > 0) {
            /** String is required to begin with deliminator */
            str += delim;
            /** Append each item in the supplied array followed by deliminator */
            for (var _i = 0, choices_1 = choices; _i < choices_1.length; _i++) {
                var choice = choices_1[_i];
                str += choice + delim;
            }
        }
        return str;
    };
    /**
     * @ngdoc function
     * @name angularPoint.apEncodeService:createValuePair
     * @methodOf angularPoint.apEncodeService
     * @description
     * Uses a field definition from a model to properly format a value for submission to SharePoint.  Typically
     * used prior to saving a list item, we iterate over each of the non-readonly properties defined in the model
     * for a list item and convert those value into value pairs that we can then hand off to SPServices.
     * @param {object} fieldDefinition The field definition, typically defined in the model.
     * <pre>
     * {
             *  staticName: "Title",
             *  objectType: "Text",
             *  mappedName: "lastName",
             *  readOnly:false
             * }
     * </pre>
     * @param {*} value Current field value.
     * @returns {Array} [fieldName, fieldValue]
     */
    EncodeService.prototype.createValuePair = function (fieldDefinition, value) {
        var encodedValue = this.encodeValue(fieldDefinition.objectType, value);
        return [fieldDefinition.staticName, encodedValue];
    };
    /**
     * @ngdoc function
     * @name angularPoint.apEncodeService:encodeValue
     * @methodOf angularPoint.apEncodeService
     * @param {string} fieldType One of the valid field types.
     * @param {*} value Value to be encoded.
     * @returns {string} Encoded value ready to be sent to the server.
     */
    EncodeService.prototype.encodeValue = function (fieldType, value) {
        var str = '';
        /** Only process if note empty, undefined, or null.  Allow false. */
        if (value !== '' && !__WEBPACK_IMPORTED_MODULE_0_lodash__["isUndefined"](value) && !__WEBPACK_IMPORTED_MODULE_0_lodash__["isNull"](value)) {
            switch (fieldType) {
                case 'Lookup':
                case 'User':
                    if (value.lookupId) {
                        /** Only include lookupValue if defined */
                        str = value.lookupId + ';#' + (value.lookupValue || '');
                    }
                    break;
                case 'LookupMulti':
                case 'UserMulti':
                    str = this.stringifySharePointMultiSelect(value, 'lookupId');
                    break;
                case 'MultiChoice':
                    str = this.choiceMultiToString(value);
                    break;
                case 'Boolean':
                    str = value ? "1" : "0";
                    break;
                case 'DateTime':
                    //A string date in ISO8601 format, e.g., '2013-05-08T01:20:29Z-05:00'
                    str = this.stringifySharePointDate(value);
                    break;
                case 'JSON':
                    str = JSON.stringify(value);
                    break;
                case 'HTML':
                case 'Note':
                default:
                    str = value;
            }
        }
        if (__WEBPACK_IMPORTED_MODULE_0_lodash__["isString"](str)) {
            /** Ensure we encode before sending to server (replace ", <, >)*/
            str = this.SPServices.encodeXml(str);
        }
        return str;
    };
    /**
     * @ngdoc function
     * @name angularPoint.apEncodeService:generateValuePairs
     * @methodOf angularPoint.apEncodeService
     * @description
     * Typically used to iterate over the non-readonly field definitions stored in a model and convert a
     * given list item entity into value pairs that we can pass to SPServices for saving.
     * @param {Array} fieldDefinitions Definitions from the model.
     * @param {object} listItem list item that we'll attempt to iterate over to find the properties that we need to
     * save it to SharePoint.
     * @returns {[string, string][]} Value pairs of all non-readonly fields.
     * @example
     * [[fieldName1, fieldValue1], [fieldName2, fieldValue2], ...]
     */
    EncodeService.prototype.generateValuePairs = function (fieldDefinitions, listItem) {
        var _this = this;
        var pairs = [];
        __WEBPACK_IMPORTED_MODULE_0_lodash__["each"](fieldDefinitions, function (field) {
            /** Check to see if item contains data for this field */
            if (__WEBPACK_IMPORTED_MODULE_0_lodash__["has"](listItem, field.mappedName)) {
                pairs.push(_this.createValuePair(field, listItem[field.mappedName]));
            }
        });
        return pairs;
    };
    /**
     * @ngdoc function
     * @name angularPoint.apEncodeService:stringifySharePointDate
     * @methodOf angularPoint.apEncodeService
     * @description
     * Converts a JavaScript date into a modified ISO8601 date string using the TimeZone
     * offset for the current user.
     * @example
     * <pre>'2014-05-08T08:12:18Z-07:00'</pre>
     * @param {Date} date Valid JS date.
     * @returns {string} ISO8601 date string.
     */
    EncodeService.prototype.stringifySharePointDate = function (date) {
        var jsDate;
        if (!__WEBPACK_IMPORTED_MODULE_0_lodash__["isDate"](date) && __WEBPACK_IMPORTED_MODULE_0_lodash__["isString"](date) && date.split('-').length === 3) {
            /** Date string formatted YYYY-MM-DD */
            var dateComponents = date.split('-');
            jsDate = new Date(parseInt(dateComponents[0]), parseInt(dateComponents[1]) - 1, parseInt(dateComponents[2]), 0, 0, 0);
        }
        else if (!__WEBPACK_IMPORTED_MODULE_0_lodash__["isDate"](date)) {
            throw new Error('Invalid Date Provided: ' + date.toString());
        }
        else {
            jsDate = date;
        }
        var dateString = '';
        dateString += jsDate.getFullYear();
        dateString += '-';
        dateString += this.apUtilityService.doubleDigit(jsDate.getMonth() + 1);
        dateString += '-';
        dateString += this.apUtilityService.doubleDigit(jsDate.getDate());
        dateString += 'T';
        dateString += this.apUtilityService.doubleDigit(jsDate.getHours());
        dateString += ':';
        dateString += this.apUtilityService.doubleDigit(jsDate.getMinutes());
        dateString += ':';
        dateString += this.apUtilityService.doubleDigit(jsDate.getSeconds());
        dateString += 'Z-';
        if (!this.savedTimeZone) {
            //Get difference between UTC time and local time in minutes and convert to hours
            //Store so we only need to do this once
            this.savedTimeZone = new Date().getTimezoneOffset() / 60;
        }
        dateString += this.apUtilityService.doubleDigit(this.savedTimeZone);
        dateString += ':00';
        return dateString;
    };
    /**
     * @ngdoc function
     * @name angularPoint.apEncodeService:stringifySharePointMultiSelect
     * @methodOf angularPoint.apEncodeService
     * @description
     * Turns an array of, typically {lookupId: someId, lookupValue: someValue}, objects into a string
     * of delimited id's that can be passed to SharePoint for a multi select lookup or multi user selection
     * field.  SharePoint doesn't need the lookup values so we only need to pass the ID's back.
     *
     * @param {object[]} multiSelectValue Array of {lookupId: #, lookupValue: 'Some Value'} objects.
     * @param {string} [idProperty='lookupId'] Property name where we'll find the ID value on each of the objects.
     * @param {string} [valueProperty='lookupValue'] Property name where we'll find the value for this object.
     * @returns {string} Need to format string of id's in following format [ID0];#;#[ID1];#;#[ID1]
     */
    EncodeService.prototype.stringifySharePointMultiSelect = function (multiSelectValue, idProperty, valueProperty) {
        if (idProperty === void 0) { idProperty = 'lookupId'; }
        if (valueProperty === void 0) { valueProperty = 'lookupValue'; }
        var stringifiedValues = '';
        var idProp = idProperty || 'lookupId';
        var valProp = valueProperty || 'lookupValue';
        __WEBPACK_IMPORTED_MODULE_0_lodash__["each"](multiSelectValue, function (lookupObject, iteration) {
            /** Need to format string of id's in following format [ID0];#[VAL0];#[ID1];#[VAL1] */
            stringifiedValues += lookupObject[idProp] + ';#' + (lookupObject[valProp] || '');
            /** Append delim after all but last because we don't want trailing ';#' at end of string */
            if (iteration < (multiSelectValue.length - 1)) {
                stringifiedValues += ';#';
            }
        });
        return stringifiedValues;
    };
    return EncodeService;
}());

EncodeService.$inject = ['apUtilityService', 'SPServices'];


/***/ },
/* 24 */
/***/ function(module, exports, __webpack_require__) {

"use strict";
/* harmony export (immutable) */ exports["a"] = exceptionLoggingService;
/**
 * @ngdoc service
 * @name angularPoint.$exceptionHandler
 * @description
 * Replaces the default angular implementation and handles logging errors to the apLogger service.
 * @requires angularPoint.apLogger
 */
exceptionLoggingService.$inject = ['$log', '$injector'];
function exceptionLoggingService($log, $injector) {
    function error(exception, cause) {
        /** Need to inject otherwise get circular dependency when using dependency injection */
        var apLogger = $injector.get('apLogger');
        // now try to log the error to the server side.
        apLogger.exception(exception, cause);
        // preserve the default behaviour which will log the error
        // to the console, and allow the application to continue running.
        $log.error.apply($log, arguments);
    }
    return error;
}


/***/ },
/* 25 */
/***/ function(module, exports, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);
/* harmony export (binding) */ __webpack_require__.d(exports, "a", function() { return ExportService; });

/**
 * @ngdoc service
 * @name angularPoint.apExportService
 * @description
 * Tools to assist with development.
 * @requires angularPoint.apUtilityService
 */
var ExportService = (function () {
    function ExportService(apUtilityService, apFormattedFieldValueService) {
        this.apUtilityService = apUtilityService;
        this.apFormattedFieldValueService = apFormattedFieldValueService;
    }
    /**
     * @ngdoc function
     * @name angularPoint.apExportService:generateCSV
     * @methodOf angularPoint.apExportService
     * @description
     * Converts an array of objects into a parsed array of arrays based on a field config object.
     * @param {object[]} entities Array of objects to convert.
     * @param {object|string[]} fields Array of objects defining the fields to parse.  Can also pass in strings representing the name of the field which will then be parsed based on field type.
     * FieldDefinition:
     * {string} object.field Property name on the object that we want to parse.
     * {string} [object.label=object.field capitalized] Column Label
     * {function} [object.getVal] Custom function that overrides the default method of parsing based on field type.
     * @param {object} [options] Optional config settings.
     * @param {string} [options.delim='; '] Delimiter used to separate fields that potentially contain multiple values that will be concatenated into a string.
     * @returns {array[]} Return array of arrays, with the first array being the column names and every subsequent array representing a row in the csv dataset.
     * @example
     * <pre>
     * var customDelimiter = ' | ';
     * var saveCSV = function() {
             *    var parsedCSV = apExportService.generateCSV(entities, [
             *     //Field definition
             *     { label: 'ID', field: 'id' },
             *     //Field as simple string
             *     'title',
             *     'project',
             *     { label: 'Project:ID', field: 'project.lookupId' },
             *     { label: 'Type', field: 'eventType' },
             *     { label: 'Start Date', field: 'startDate' },
             *     { label: 'End Date', field: 'endDate' },
             *     'location',
             *     'description',
             *     //Field definition with custom parse logic
             *     { label: 'Comments', field: 'comments', stringify: function (comments) {
             *       var str = '';
             *       _.each(comments, function (comment, i) {
             *         if (i > 0) {
             *           str += '\n';
             *         }
             *         str += comment.text + '\n';
             *       });
             *       return str;
             *     }}
             *   ]);
             *
             *   //Save to user's machine
             *   apExportService.saveCSV(parsedCSV, 'MyFile', {delim: customDelimiter});
             * }
     * </pre>
     *
     */
    ExportService.prototype.generateCSV = function (entities, fields, options) {
        var _this = this;
        var defaults = {
            dateFormat: 'json',
            delim: '; ',
            includeTitleRow: true
        }, opts = __WEBPACK_IMPORTED_MODULE_0_lodash__["assign"]({}, defaults, options), entitiesArray = [
            []
        ];
        /** Process each of the entities in the data source */
        __WEBPACK_IMPORTED_MODULE_0_lodash__["each"](entities, function (entity, entityIndex) {
            var entityArray = [];
            /** Process each of the specified fields */
            __WEBPACK_IMPORTED_MODULE_0_lodash__["each"](fields, function (f) {
                /** Handle both string and object definition */
                var fieldDefinition = __WEBPACK_IMPORTED_MODULE_0_lodash__["isString"](f) ? { field: f } : f;
                /** Split the field name from the property if provided */
                var fieldComponents = fieldDefinition.field.split('.');
                var propertyName = fieldComponents[0];
                /** First array has the field names */
                if (entityIndex === 0 && opts.includeTitleRow) {
                    /** Take a best guess if a column label isn't specified by capitalizing and inserting spaces between camel humps*/
                    var label = fieldDefinition.label ?
                        fieldDefinition.label : _this.apUtilityService.fromCamelCase(propertyName);
                    entitiesArray[0].push(label);
                }
                var val = '';
                if (__WEBPACK_IMPORTED_MODULE_0_lodash__["isFunction"](fieldDefinition.stringify)) {
                    /** Allows us to override standard field logic for special cases */
                    val = fieldDefinition.stringify(entity[fieldDefinition.field]);
                }
                else if (fieldComponents.length > 1) {
                    /** Allow user to specify dot separated property path */
                    if (__WEBPACK_IMPORTED_MODULE_0_lodash__["has"](entity, fieldDefinition.field)) {
                        val = __WEBPACK_IMPORTED_MODULE_0_lodash__["get"](entity, fieldDefinition.field).toString();
                    }
                }
                else {
                    /** Get the value based on field type defined in the model for the entity*/
                    var modelDefinition = entity.getFieldDefinition(propertyName);
                    val = _this.apFormattedFieldValueService.getFormattedFieldValue(entity[fieldDefinition.field], modelDefinition.objectType, opts);
                }
                /** Add string to column */
                entityArray.push(val);
            });
            /** Add row */
            entitiesArray.push(entityArray);
        });
        return entitiesArray;
    };
    /**
     * @description Replaces commonly-used Windows 1252 encoded chars that do not exist in ASCII or
     *  ISO-8859-1 with ISO-8859-1 cognates.
     * @param {string} text Text to be validated and cleaned.
     * @returns {string}
     */
    ExportService.prototype.replaceWordChars = function (text) {
        var s = text;
        // smart single quotes and apostrophe
        s = s.replace(/[\u2018|\u2019|\u201A]/g, "\'");
        // smart double quotes
        s = s.replace(/[\u201C|\u201D|\u201E]/g, "\"");
        // ellipsis
        s = s.replace(/\u2026/g, "...");
        // dashes
        s = s.replace(/[\u2013|\u2014]/g, "-");
        // circumflex
        s = s.replace(/\u02C6/g, "^");
        // open angle bracket
        s = s.replace(/\u2039/g, "<");
        // close angle bracket
        s = s.replace(/\u203A/g, ">");
        // spaces
        s = s.replace(/[\u02DC|\u00A0]/g, " ");
        return s;
    };
    /**
     * @ngdoc function
     * @name angularPoint.apExportService:saveCSV
     * @methodOf angularPoint.apExportService
     * @description
     * Converts an array of arrays into a valid CSV file that is then downloaded to the users machine
     * @requires angularPoint.apExportService:saveFile
     * @param {array[]} data Array of arrays that we'd like to dump to a CSV file and save to the local machine.
     * @param {string} [filename=debug.csv] Optionally name the file.
     * @example
     * <pre>
     * //Lets assume we want to looks at an object that is too big to be easily viewed in the console.
     * apExportService.saveCSV(objectToSave, 'MyFile');
     * //This would download a file named MyFile.csv
     * </pre>
     *
     */
    ExportService.prototype.saveCSV = function (data, filename) {
        if (filename === void 0) { filename = 'debug.csv'; }
        var csvString = '';
        __WEBPACK_IMPORTED_MODULE_0_lodash__["each"](data, function (row) {
            __WEBPACK_IMPORTED_MODULE_0_lodash__["each"](row, function (column, columnIndex) {
                var result = column === null ? '' : this.replaceWordChars(column);
                if (columnIndex > 0) {
                    csvString += ',';
                }
                /** Escape single quotes with doubles in within the string */
                result = result.replace(/"/g, '""');
                /** Surround string with quotes so we can have line breaks */
                csvString += '"' + result + '"';
            });
            csvString += '\n';
        });
        this.saveFile(csvString, 'csv;charset=utf-8;', filename);
    };
    /**
     * @ngdoc function
     * @name angularPoint.apExportService:saveFile
     * @methodOf angularPoint.apExportService
     * @description
     * Used to convert a JS object or XML document into a file that is then downloaded on the users
     * local machine.  Original work located:
     * [here](http://bgrins.github.io/devtools-snippets/#console-save).
     * @param {object} data JS object that we'd like to dump to a JSON file and save to the local machine.
     * @param {string} fileType Can be either 'xml' or 'json'.
     * @param {string} [filename=debug.json] Optionally name the file.
     * @example
     * <pre>
     * //Lets assume we want to looks at an object that is too big to be easily viewed in the console.
     * apExportService.saveJSON(objectToSave, 'myobject.json');
     * </pre>
     *
     */
    ExportService.prototype.saveFile = function (data, fileType, filename) {
        if (filename === void 0) { filename = 'debug.json'; }
        if (!data) {
            console.error('apExportService.save' + fileType.toUpperCase() + ': No data');
            return;
        }
        /** If passed in fileType="csv;charset=utf-8;" we just want to use "csv" */
        var fileExtension = fileType.split(';')[0];
        if (!filename) {
            filename = 'debug.' + fileExtension;
        }
        if (fileType === 'json' && typeof data === 'object') {
            data = JSON.stringify(data, undefined, 4);
        }
        var blob = new Blob([data], { type: 'text/' + fileType }), e = document.createEvent('MouseEvents'), a = document.createElement('a');
        a.download = filename;
        a.href = window.URL.createObjectURL(blob);
        a.dataset['downloadurl'] = ['text/' + fileType, a.download, a.href].join(':');
        e.initMouseEvent('click', true, false, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);
        a.dispatchEvent(e);
    };
    /**
     * @ngdoc function
     * @name angularPoint.apExportService:saveJSON
     * @methodOf angularPoint.apExportService
     * @description
     * Simple convenience function that uses angularPoint.apExportService:saveFile to download json to the local machine.
     * @requires angularPoint.apExportService:saveFile
     * @param {object} data JS object that we'd like to dump to a JSON file and save to the local machine.
     * @param {string} [filename=debug.json] Optionally name the file.
     * @example
     * <pre>
     * //Lets assume we want to looks at an object that is too big to be easily viewed in the console.
     * apExportService.saveJSON(objectToSave, 'myobject.json');
     * </pre>
     *
     */
    ExportService.prototype.saveJSON = function (data, filename) {
        if (filename === void 0) { filename = 'debug.json'; }
        this.saveFile(data, 'json', filename);
    };
    /**
     * @ngdoc function
     * @name angularPoint.apExportService:saveXML
     * @methodOf angularPoint.apExportService
     * @description
     * Simple convenience function that uses angularPoint.apExportService:saveFile to download xml to the local machine.
     * @requires angularPoint.apExportService:saveFile
     * @param {object} data XML object that we'd like to dump to a XML file and save to the local machine.
     * @param {string} [filename=debug.xml] Optionally name the file.
     * @example
     * <pre>
     * //Lets assume we want to looks at an object that is too big to be easily viewed in the console.
     * apExportService.saveXML(objectToSave, 'myobject.xml');
     * </pre>
     *
     */
    ExportService.prototype.saveXML = function (data, filename) {
        if (filename === void 0) { filename = 'debug.xml'; }
        this.saveFile(data, 'xml', filename);
    };
    return ExportService;
}());

ExportService.$inject = ['apUtilityService', 'apFormattedFieldValueService'];


/***/ },
/* 26 */
/***/ function(module, exports, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(exports, "a", function() { return FieldService; });
var service;
var uniqueCount = 0;
// interface IFieldType {
//     defaultValue: string;
//     dynamicMock: Function;
//     staticMock: any;
// }
/**
 * @ngdoc service
 * @name angularPoint.apFieldService
 * @description
 * Handles the mapping of the various types of fields used within a SharePoint list
 */
var FieldService = (function () {
    function FieldService() {
        service = this;
        this.fieldTypes = getFieldTypes();
    }
    /**
     * @ngdoc function
     * @name angularPoint.apFieldService:getDefaultValueForType
     * @methodOf angularPoint.apFieldService
     * @description
     * Returns the empty value expected for a field type
     * @param {string} fieldType Type of field.
     * @returns {*} Default value based on field type.
     */
    FieldService.prototype.getDefaultValueForType = function (fieldType) {
        var fieldDefinition = service.getDefinition(fieldType);
        var defaultValue;
        if (fieldDefinition) {
            defaultValue = fieldDefinition.defaultValue;
        }
        return defaultValue;
    };
    /**
     * Returns an object defining a specific field type
     * @param {string} fieldType
     * @returns {object} fieldTypeDefinition
     */
    FieldService.prototype.getDefinition = function (fieldType) {
        return service.fieldTypes[fieldType] ? service.fieldTypes[fieldType] : service.fieldTypes['Text'];
    };
    /**
     * @ngdoc function
     * @name angularPoint.apFieldService:getMockData
     * @methodOf angularPoint.apFieldService
     * @description
     * Can return mock data appropriate for the field type, by default it dynamically generates data but
     * the staticValue param will instead return a hard coded type specific value
     *
     * @requires ChanceJS to produce dynamic data.
     * https://github.com/victorquinn/chancejs
     * @param {string} fieldType Field type from the field definition.
     * @param {object} [options] Optional params.
     * @param {boolean} [options.staticValue=false] Default to dynamically build mock data.
     * @returns {*} mockData
     */
    FieldService.prototype.getMockData = function (fieldType, options) {
        var mock;
        var fieldDefinition = service.getDefinition(fieldType);
        if (fieldDefinition) {
            // if (_.isFunction(window.Chance) && options && !options.staticValue) {
            //     /** Return dynamic data if ChanceJS is available and flag isn't set requiring static data */
            //     mock = fieldDefinition.dynamicMock(options);
            // } else {
            /** Return static data if the flag is set or ChanceJS isn't available */
            mock = fieldDefinition.staticMock;
        }
        return mock;
    };
    /**
     * @ngdoc function
     * @name angularPoint.apFieldService:mockPermMask
     * @methodOf angularPoint.apFieldService
     * @description
     * Defaults to a full mask but allows simulation of each of main permission levels
     * @param {object} [options] Options container.
     * @param {string} [options.permissionLevel=FullMask] Optional mask.
     * @returns {string} Values for mask.
     */
    FieldService.prototype.mockPermMask = function (options) {
        var mask = 'FullMask';
        if (options && options.permissionLevel) {
            mask = options.permissionLevel;
        }
        return service.resolveValueForEffectivePermMask(mask);
    };
    /**
     * @ngdoc function
     * @name angularPoint.apFieldService:resolveValueForEffectivePermMask
     * @methodOf angularPoint.apFieldService
     * @description
     * Takes the name of a permission mask and returns a permission value which can then be used
     * to generate a permission object using modelService.resolvePermissions(outputfromthis)
     * @param {string} perMask Options:
     *  - AddListItems
     *  - EditListItems
     *  - DeleteListItems
     *  - ApproveItems
     *  - FullMask
     *  - ViewListItems
     * @returns {string} value
     */
    FieldService.prototype.resolveValueForEffectivePermMask = function (perMask) {
        var permissionValue;
        switch (perMask) {
            case 'AddListItems':
                permissionValue = 0x0000000000000002;
                break;
            case 'EditListItems':
                permissionValue = 0x0000000000000004;
                break;
            case 'DeleteListItems':
                permissionValue = 0x0000000000000008;
                break;
            case 'ApproveItems':
                permissionValue = 0x0000000000000010;
                break;
            case 'FullMask':
                permissionValue = 0x7FFFFFFFFFFFFFFF;
                break;
            case 'ViewListItems':
            default:
                permissionValue = 0x0000000000000001;
                break;
        }
        return permissionValue;
    };
    return FieldService;
}());

function getFieldTypes() {
    return {
        Text: {
            defaultValue: '',
            staticMock: 'Test String',
        },
        Note: {
            defaultValue: '',
            staticMock: 'This is a sentence.',
        },
        Boolean: {
            defaultValue: null,
            staticMock: true,
        },
        Calculated: {
            defaultValue: null,
            staticMock: 'float;#123.45',
        },
        Choice: {
            defaultValue: '',
            staticMock: 'My Choice',
        },
        Counter: {
            defaultValue: null,
            staticMock: getUniqueCounter(),
        },
        Currency: {
            defaultValue: null,
            staticMock: 120.50,
        },
        DateTime: {
            defaultValue: null,
            staticMock: new Date(2014, 5, 4, 11, 33, 25),
        },
        Integer: {
            defaultValue: null,
            staticMock: 14,
        },
        JSON: {
            defaultValue: '',
            staticMock: [
                { id: 1, title: 'test' },
                { id: 2 }
            ],
        },
        Lookup: {
            defaultValue: '',
            staticMock: { lookupId: 49, lookupValue: 'Static Lookup' },
        },
        LookupMulti: {
            defaultValue: [],
            staticMock: [
                { lookupId: 50, lookupValue: 'Static Multi 1' },
                { lookupId: 51, lookupValue: 'Static Multi 2' }
            ],
        },
        Mask: {
            defaultValue: service.mockPermMask(),
            staticMock: service.mockPermMask(),
        },
        MultiChoice: {
            defaultValue: [],
            staticMock: ['A Good Choice', 'A Bad Choice'],
        },
        User: {
            defaultValue: '',
            staticMock: { lookupId: 52, lookupValue: 'Static User' },
        },
        UserMulti: {
            defaultValue: [],
            staticMock: [
                { lookupId: 53, lookupValue: 'Static User 1' },
                { lookupId: 54, lookupValue: 'Static User 2' }
            ],
        }
    };
}
function getUniqueCounter() {
    uniqueCount++;
    return uniqueCount;
}
// function randomBoolean() {
//     return chance.bool();
// }
//
// function randomCalc() {
//     return 'float;#' + chance.floating({min: 0, max: 10000});
// }
//
// function randomString() {
//     return chance.word() + ' ' + chance.word();
// }
//
// function randomStringArray() {
//     var randomArr = [];
//     /** Create a random (1-4) number of strings and add to array */
//     _.times(_.random(1, 4), function () {
//         randomArr.push(randomString());
//     });
//     return randomArr;
// }
//
// function randomParagraph() {
//     return chance.paragraph();
// }
//
// function randomCurrency() {
//     return parseInt(_.random(10000000, true) * 100) / 100;
// }
//
// function randomDate() {
//     return chance.date();
// }
//
// function randomInteger() {
//     return chance.integer();
// }
//
//
// function randomLookup() {
//     return {
//         lookupId: getUniqueCounter(),
//         lookupValue: chance.word()
//     };
// }
//
// function randomUser() {
//     return {
//         lookupId: getUniqueCounter(),
//         lookupValue: chance.name()
//     };
// }
//
// function randomLookupMulti() {
//     var mockData = [];
//     _.each(_.random(10), function () {
//         mockData.push(randomLookup());
//     });
//     return mockData;
// }
//
// function randomUserMulti() {
//     var mockData = [];
//     _.each(_.random(10), function () {
//         mockData.push(randomUser());
//     });
//     return mockData;
// }


/***/ },
/* 27 */
/***/ function(module, exports, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);
/* harmony export (binding) */ __webpack_require__.d(exports, "a", function() { return FormattedFieldValueService; });

var service;
var $filter;
/**
 * @ngdoc service
 * @name angularPoint.apFormattedFieldValueService
 * @description
 * Returns the formatted string value for a field based on field type.
 */
var FormattedFieldValueService = (function () {
    function FormattedFieldValueService(_$filter_) {
        service = this;
        $filter = _$filter_;
    }
    /**
     * @ngdoc function
     * @name angularPoint.apFormattedFieldValueService:getFormattedFieldValue
     * @methodOf angularPoint.apFormattedFieldValueService
     * @param {object|array|string|integer|boolean} prop Target that we'd like to stringify.
     * @param {string} [propertyType='String'] Assumes by default that it's already a string.  Most of the normal field
     * types identified in the model field definitions are supported.
     *
     * - Lookup
     * - User
     * - Boolean
     * - DateTime
     * - Integer
     * - Number
     * - Counter
     * - MultiChoice
     * - UserMulti
     * - LookupMulti
     * @param {object} options Optional config.
     * @param {string} [options.delim=', '] Optional delimiter to split concatenated strings.
     * @param {string} [options.dateFormat='short'] Either 'json' which converts a date into ISO8601 date string
     * or a mask for the angular date filter.
     * @example
     * <pre>
     *  var project = {
         *    title: 'Super Project',
         *   members: [
         *     { lookupId: 12, lookupValue: 'Joe' },
         *     { lookupId: 19, lookupValue: 'Beth' }
         *   ]
         * };
     *
     * var membersAsString = apFormattedFieldValueService:getFormattedFieldValue({
         *    project.members,
         *    'UserMulti',
         *    { delim: ' | '} //Custom Delimiter
         * });
     *
     * // membersAsString = 'Joe | Beth';
     *
     * </pre>
     * @returns {string} Stringified property on the object based on the field type.
     */
    FormattedFieldValueService.prototype.getFormattedFieldValue = function (prop, propertyType, options) {
        if (propertyType === void 0) { propertyType = 'String'; }
        if (options === void 0) { options = {}; }
        var str = '';
        /** Only process if prop is defined */
        if (prop) {
            switch (propertyType) {
                case 'Boolean':
                    str = service.stringifyBoolean(prop);
                    break;
                case 'Calculated':
                    str = service.stringifyCalc(prop);
                    break;
                case 'Lookup':
                case 'User':
                    str = service.stringifyLookup(prop);
                    break;
                case 'DateTime':
                    str = service.stringifyDate(prop, options.dateFormat);
                    break;
                case 'Integer':
                case 'Number':
                case 'Float':
                case 'Counter':
                    str = service.stringifyNumber(prop);
                    break;
                case 'Currency':
                    str = service.stringifyCurrency(prop);
                    break;
                case 'MultiChoice':
                    str = service.stringifyMultiChoice(prop, options.delim);
                    break;
                case 'UserMulti':
                case 'LookupMulti':
                    str = service.stringifyMultiLookup(prop, options.delim);
                    break;
                default:
                    str = prop;
            }
        }
        return str;
    };
    /**
     * @ngdoc function
     * @name angularPoint.apFormattedFieldValueService:stringifyBoolean
     * @methodOf angularPoint.apFormattedFieldValueService
     * @param {boolean} prop Boolean to stringify.
     * @description
     * Returns the stringified boolean if it is set.
     * @returns {string} Stringified boolean.
     */
    FormattedFieldValueService.prototype.stringifyBoolean = function (prop) {
        var str = '';
        if (__WEBPACK_IMPORTED_MODULE_0_lodash__["isBoolean"](prop)) {
            str = prop.toString();
        }
        return str;
    };
    FormattedFieldValueService.prototype.stringifyCalc = function (prop) {
        if (prop.length === 0) {
            return '';
        }
        else if (__WEBPACK_IMPORTED_MODULE_0_lodash__["isNumber"](prop)) {
            return service.getFormattedFieldValue(prop, 'Number');
        }
        else if (__WEBPACK_IMPORTED_MODULE_0_lodash__["isDate"](prop)) {
            return service.getFormattedFieldValue(prop, 'DateTime');
        }
        else {
            return service.getFormattedFieldValue(prop, 'Text');
        }
    };
    /**
     * @ngdoc function
     * @name angularPoint.apFormattedFieldValueService:stringifyCurrency
     * @methodOf angularPoint.apFormattedFieldValueService
     * @description
     * Converts a numeric value into a formatted currency string.
     * @param {number} prop Property on object to parse.
     * @returns {string} Stringified currency.
     */
    FormattedFieldValueService.prototype.stringifyCurrency = function (prop) {
        return $filter('currency')(prop, '$');
    };
    /**
     * @ngdoc function
     * @name angularPoint.apFormattedFieldValueService:stringifyDate
     * @methodOf angularPoint.apFormattedFieldValueService
     * @param {date} prop Date object.
     * @param {string} dateFormat Either 'json' which converts a date into ISO8601 date string or a mask for
     * the angular date filter.
     * @description
     * Returns JSON date.
     * @returns {string} JSON date.
     */
    FormattedFieldValueService.prototype.stringifyDate = function (prop, dateFormat) {
        if (dateFormat === void 0) { dateFormat = 'short'; }
        var str = '';
        if (__WEBPACK_IMPORTED_MODULE_0_lodash__["isDate"](prop)) {
            str = dateFormat === 'json' ? prop.toJSON() : $filter('date')(prop, dateFormat);
        }
        return str;
    };
    /**
     * @ngdoc function
     * @name angularPoint.apFormattedFieldValueService:stringifyLookup
     * @methodOf angularPoint.apFormattedFieldValueService
     * @param {obj} prop Property on object to parse.
     * @description
     * Returns the property.lookupValue if present.
     * @returns {string} Property.lookupValue.
     */
    FormattedFieldValueService.prototype.stringifyLookup = function (prop) {
        var str = '';
        if (prop && prop.lookupValue) {
            str = prop.lookupValue;
        }
        return str;
    };
    /**
     * @ngdoc function
     * @name angularPoint.apFormattedFieldValueService:stringifyMultiChoice
     * @methodOf angularPoint.apFormattedFieldValueService
     * @param {string[]} prop Array of selected choices.
     * @param {string} [delim='; '] Custom delimiter used between the concatenated values.
     * @description
     * Converts an array of strings into a single concatenated string.
     * @returns {string} Concatenated string representation.
     */
    FormattedFieldValueService.prototype.stringifyMultiChoice = function (prop, delim) {
        if (delim === void 0) { delim = '; '; }
        var str = '';
        __WEBPACK_IMPORTED_MODULE_0_lodash__["each"](prop, function (choice, i) {
            if (i > 0) {
                str += delim;
            }
            str += choice;
        });
        return str;
    };
    /**
     * @ngdoc function
     * @name angularPoint.apFormattedFieldValueService:stringifyMultiLookup
     * @methodOf angularPoint.apFormattedFieldValueService
     * @param {object[]} prop Array of lookup objects.
     * @param {string} [delim='; '] Custom delimiter used between the concatenated values.
     * @description
     * Converts an array of selected lookup values into a single concatenated string.
     * @returns {string} Concatenated string representation.
     */
    FormattedFieldValueService.prototype.stringifyMultiLookup = function (prop, delim) {
        if (delim === void 0) { delim = '; '; }
        var str = '';
        __WEBPACK_IMPORTED_MODULE_0_lodash__["each"](prop, function (val, valIndex) {
            /** Add artificial delim */
            if (valIndex > 0) {
                str += delim;
            }
            str += service.stringifyLookup(val);
        });
        return str;
    };
    /**
     * @ngdoc function
     * @name angularPoint.apFormattedFieldValueService:stringifyNumber
     * @methodOf angularPoint.apFormattedFieldValueService
     * @param {number} prop Property on object to parse.
     * @description
     * Converts a number to a string representation.
     * @returns {string} Stringified number.
     */
    FormattedFieldValueService.prototype.stringifyNumber = function (prop) {
        var str = '';
        if (__WEBPACK_IMPORTED_MODULE_0_lodash__["isNumber"](prop)) {
            str = prop.toString();
        }
        return str;
    };
    return FormattedFieldValueService;
}());

FormattedFieldValueService.$inject = ['$filter'];


/***/ },
/* 28 */
/***/ function(module, exports, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);
/* harmony export (binding) */ __webpack_require__.d(exports, "a", function() { return Logger; });

var deferred;
var registerCallback;
/**
 * @ngdoc service
 * @name angularPoint.apLogger
 * @description
 * Common definitions used in the application.
 *
 * HOW TO USE
 * 1. Create a logging model for logs to be stored
 * 2. Ensure everyone has write access to the list
 * 3. Add the model as one of the dependencies in your .run so it'll be instantiated immediately
 * 4. Subscribe to change events from on the model
 *
 *
 * @example
 * <pre>
 * export class Log extends ListItem{
     *     cause: string;
     *     event: string;
     *     formattedStackTrace: string;
     *     json: Object;
     *     message: string;
     *     stackTrace: string[];
     *     type: string;
     *     url: string;
     *     constructor(obj){
     *         _.assign(this, obj);
     *     }
     *     //override the default save and cleanup before actually saving
     *     saveChanges() {
     *          // stringify stacktrace prior to saving so we can display in email notifications
     *          if(this.stackTrace && !this.formattedStackTrace) {
     *          this.formattedStackTrace = this.stackTrace.map(function(sf) {
     *               return sf.toString();
     *           }).join('\n');
     *         }
     *         return super.saveChanges();
     *     }
     * }
 * var logCounter = 0;
 * var maxLogsPerSesssion = 5;
 * export class LogsModel extends Model{
     *     constructor(apLogger: Logger) {
     *         model = this;
     *         super({
     *             factory: Log,
     *             list: {
     *                 title: 'Logs',
     *                 guid: '{LOG LIST GUID...CHANGE ME}',
     *                 customFields: [
     *                     {staticName: 'Message', objectType: 'Note', mappedName: 'message', readOnly: false},
     *                     {staticName: 'Title', objectType: 'Text', mappedName: 'url', readOnly: false},
     *                     {staticName: 'LogType', objectType: 'Text', mappedName: 'type', readOnly: false},
     *                     {staticName: 'StackTrace', objectType: 'JSON', mappedName: 'stackTrace', readOnly: false},
     *                     {staticName: 'Cause', objectType: 'Text', mappedName: 'cause', readOnly: false},
     *                     {staticName: 'JSON', objectType: 'JSON', mappedName: 'json', readOnly: false},
     *                     {staticName: 'Event', objectType: 'Text', mappedName: 'event', readOnly: false},
     *                     {
     *                         staticName: 'FormattedStackTrace',
     *                         objectType: 'Note',
     *                         mappedName: 'formattedStackTrace',
     *                         readOnly: false,
     *                         description: 'Trace formatted to be readable in email notification.'
     *                     }
     *                 ]
     *             }
     *         });
     *         // Register this model as the list where all logs will be stored
     *         apLogger.subscribe(function (event: ILogEvent) {
     *             // Ensure we keep logging under control, prevents spamming server if loop occurs
     *             if(logCounter < maxLogsPerSesssion) {
     *                 var newLog = model.createEmptyItem(event);
     *                 console.log(newLog);
     *                 newLog.saveChanges();
     *                 logCounter++;
     *             }
     *         });
     *     }
     * }
 *
 * </pre>
 *
 */
var Logger = (function () {
    function Logger($q, $window, $log, $timeout) {
        this.$window = $window;
        this.$log = $log;
        this.$timeout = $timeout;
        /** Create a deferred object we can use to delay functionality until log model is registered */
        deferred = $q.defer();
        registerCallback = deferred.promise;
    }
    /**
     * @ngdoc function
     * @name angularPoint.apLogger.debug
     * @methodOf angularPoint.apLogger
     * @param {string} message Message to log.
     * @param {ILogger} [optionsOverride] Override any log options.
     */
    Logger.prototype.debug = function (message, optionsOverride) {
        var opts = __WEBPACK_IMPORTED_MODULE_0_lodash__["assign"]({
            message: message,
            type: 'debug'
        }, optionsOverride);
        return this.notify(opts);
    };
    ;
    /**
     * @ngdoc function
     * @name angularPoint.apLogger.error
     * @methodOf angularPoint.apLogger
     * @param {string} message Message to log.
     * @param {ILogger} [optionsOverride] Override any log options.
     */
    Logger.prototype.error = function (message, optionsOverride) {
        var opts = __WEBPACK_IMPORTED_MODULE_0_lodash__["assign"]({
            message: message,
            type: 'error'
        }, optionsOverride);
        return this.notify(opts);
    };
    ;
    /**
     * @ngdoc function
     * @name angularPoint.apLogger.exception
     * @methodOf angularPoint.apLogger
     * @param {Error} exception Error which caused event.
     * @param {string} [cause] Angular sometimes provides cause.
     * @param {ILogger} optionsOverride Override any log options.
     */
    Logger.prototype.exception = function (exception, cause, optionsOverride) {
        try {
            // generate a stack trace
            /* global ErrorStackParser:true */
            var stackTrace = ErrorStackParser.parse(exception);
            this.error(exception.message, __WEBPACK_IMPORTED_MODULE_0_lodash__["assign"]({}, {
                event: 'exception',
                stackTrace: stackTrace,
                cause: (cause || '')
            }, optionsOverride));
        }
        catch (loggingError) {
            this.$log.warn('Error server-side logging failed');
            this.$log.log(loggingError);
        }
    };
    /**
     * @ngdoc function
     * @name angularPoint.apLogger.info
     * @methodOf angularPoint.apLogger
     * @param {string} message Message to log.
     * @param {ILogger} [optionsOverride] Override any log options.
     */
    Logger.prototype.info = function (message, optionsOverride) {
        var opts = __WEBPACK_IMPORTED_MODULE_0_lodash__["assign"]({
            message: message,
            type: 'info'
        }, optionsOverride);
        return this.notify(opts);
    };
    ;
    /**
     * @ngdoc function
     * @name angularPoint.apLogger.log
     * @methodOf angularPoint.apLogger
     * @param {string} message Message to log.
     * @param {ILogger} [optionsOverride] Override any log options.
     */
    Logger.prototype.log = function (message, optionsOverride) {
        var opts = __WEBPACK_IMPORTED_MODULE_0_lodash__["assign"]({
            message: message,
            type: 'log'
        }, optionsOverride);
        return this.notify(opts);
    };
    ;
    Logger.prototype.registerEvent = function (logEvent) {
        return registerCallback.then(function (callback) {
            if (__WEBPACK_IMPORTED_MODULE_0_lodash__["isFunction"](callback)) {
                return callback(logEvent);
            }
        });
    };
    /**
     * @ngdoc function
     * @name angularPoint.apLogger.subscribe
     * @methodOf angularPoint.apLogger
     * @param {Function} callback Callend when event occurs.
     * @description Callback fired when log event occurs
     */
    Logger.prototype.subscribe = function (callback) {
        deferred.resolve(callback);
    };
    /**
     * @ngdoc function
     * @name angularPoint.apLogger.warn
     * @methodOf angularPoint.apLogger
     * @param {string} message Message to log.
     * @param {ILogger} [optionsOverride] Override any log options.
     */
    Logger.prototype.warn = function (message, optionsOverride) {
        var opts = __WEBPACK_IMPORTED_MODULE_0_lodash__["assign"]({
            message: message,
            type: 'warn'
        }, optionsOverride);
        return this.notify(opts);
    };
    ;
    Logger.prototype.notify = function (options) {
        var _this = this;
        // url before navigation
        var url = '1: ' + this.$window.location.href + '\n';
        return this.$timeout(function () {
            /** Allow navigation to settle before capturing 2nd url */
            url += '2: ' + _this.$window.location.href;
            return _this.registerEvent(__WEBPACK_IMPORTED_MODULE_0_lodash__["assign"]({}, { url: url }, options));
        }, 100);
    };
    return Logger;
}());

Logger.$inject = ['$q', '$window', '$log', '$timeout'];


/***/ },
/* 29 */
/***/ function(module, exports, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);
/* harmony export (binding) */ __webpack_require__.d(exports, "a", function() { return SOAPEnvelope; });
/* harmony export (immutable) */ exports["b"] = SPServicesCore;

var SOAPEnvelope = (function () {
    function SOAPEnvelope() {
        this.header = "<soap:Envelope  xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\"><soap:Body>";
        this.footer = '</soap:Body></soap:Envelope>';
        this.payload = '';
    }
    return SOAPEnvelope;
}());

//TODO Cleanup and convert to TS
/**
 * @ngdoc service
 * @name angularPoint.SPServices
 * @description
 * This is just a trimmed down version of Marc Anderson's awesome [SPServices](http://spservices.codeplex.com/) library.
 * We're primarily looking for the ability to create the SOAP envelope and let AngularJS's $http service handle all
 * communication with the server.
 *
 * */
SPServicesCore.$inject = ['apWebServiceOperationConstants', 'apWebServiceService'];
function SPServicesCore(apWebServiceOperationConstants, apWebServiceService) {
    /*
     * SPServices - Work with SharePoint's Web Services using jQuery
     * Version 2014.02a
     * @requires jQuery v1.8 or greater - jQuery 1.10.x recommended
     *
     * Copyright (c) 2009-2013 Sympraxis Consulting LLC
     * Examples and docs at:
     * http://spservices.codeplex.com
     * Licensed under the MIT license:
     * http://www.opensource.org/licenses/mit-license.php
     */
    /*
     * @description Work with SharePoint's Web Services using jQuery
     * @type jQuery
     * @name SPServices
     * @category Plugins/SPServices
     * @author Sympraxis Consulting LLC/marc.anderson@sympraxisconsulting.com
     */
    /* jshint undef: true */
    /* global L_Menu_BaseUrl, _spUserId, _spPageContextInfo, GipAddSelectedItems, GipRemoveSelectedItems, GipGetGroupData */
    // Global variables
    var SCHEMASharePoint = 'http://schemas.microsoft.com/sharepoint';
    var i = 0; // Generic loop counter
    var encodeOptionList = ['listName', 'description']; // Used to encode options which may contain special characters
    // Defaults added as a function in our library means that the caller can override the defaults
    // for their session by calling this function.  Each operation requires a different set of options;
    // we allow for all in a standardized way.
    var defaults = {
        operation: '',
        webURL: '',
        makeViewDefault: false,
        // For operations requiring CAML, these options will override any abstractions
        CAMLViewName: '',
        CAMLQuery: '',
        CAMLViewFields: '',
        CAMLRowLimit: 0,
        CAMLQueryOptions: '<QueryOptions></QueryOptions>',
        // Abstractions for CAML syntax
        batchCmd: 'Update',
        valuePairs: [],
        // As of v0.7.1, removed all options which were assigned an empty string ('')
        DestinationUrls: [],
        behavior: 'Version3',
        storage: 'Shared',
        objectType: 'List',
        cancelMeeting: true,
        nonGregorian: false,
        fClaim: false,
        recurrenceId: 0,
        sequence: 0,
        maximumItemsToReturn: 0,
        startIndex: 0,
        isHighPriority: false,
        isPrivate: false,
        rating: 1,
        maxResults: 10,
        principalType: 'User',
        async: true,
        completefunc: null // Function to call on completion
    }; // End SPServices.defaults
    // Main function, which calls SharePoint's Web Services directly.
    var SPServices = {
        defaults: defaults,
        encodeXml: encodeXml,
        generateXMLComponents: generateXMLComponents,
        SCHEMASharePoint: SCHEMASharePoint,
        SOAPEnvelope: new SOAPEnvelope()
    };
    function generateXMLComponents(options) {
        /** Key/Value mapping of SharePoint properties to SPServices properties */
        var mapping = [
            ['query', 'CAMLQuery'],
            ['viewFields', 'CAMLViewFields'],
            ['rowLimit', 'CAMLRowLimit'],
            ['queryOptions', 'CAMLQueryOptions'],
            ['listItemID', 'ID']
        ];
        /** Ensure the SharePoint properties are available prior to extending with defaults */
        __WEBPACK_IMPORTED_MODULE_0_lodash__["each"](mapping, function (map) {
            if (options[map[0]] && !options[map[1]]) {
                /** Ensure SPServices properties are added in the event the true property name is used */
                options[map[1]] = options[map[0]];
            }
        });
        var soapEnvelope = new SOAPEnvelope();
        var SOAPAction;
        // If there are no options passed in, use the defaults.  Extend replaces each default with the passed option.
        var opt = __WEBPACK_IMPORTED_MODULE_0_lodash__["assign"]({}, defaults, options);
        // Encode options which may contain special character, esp. ampersand
        __WEBPACK_IMPORTED_MODULE_0_lodash__["each"](encodeOptionList, function (optionName) {
            if (__WEBPACK_IMPORTED_MODULE_0_lodash__["isString"](opt[optionName])) {
                opt[optionName] = encodeXml(opt[optionName]);
            }
        });
        var service = apWebServiceOperationConstants[opt.operation][0];
        // Put together operation header and SOAPAction for the SOAP call based on which Web SPServicesCore we're calling
        soapEnvelope.opheader = "<" + opt.operation + " xmlns=\"" + apWebServiceService.xmlns(service) + "\" >";
        SOAPAction = apWebServiceService.action(service);
        // Add the operation to the SOAPAction and opfooter
        SOAPAction += opt.operation;
        soapEnvelope.opfooter = "</" + opt.operation + ">";
        // Each operation requires a different set of values.  This switch statement sets them up in the soapEnvelope.payload.
        switch (opt.operation) {
            // ALERT OPERATIONS
            case 'GetAlerts':
                break;
            case 'DeleteAlerts':
                soapEnvelope.payload += '<IDs>';
                for (i = 0; i < opt.IDs.length; i++) {
                    soapEnvelope.payload += wrapNode('string', opt.IDs[i]);
                }
                soapEnvelope.payload += '</IDs>';
                break;
            // AUTHENTICATION OPERATIONS
            case 'Mode':
                break;
            case 'Login':
                addToPayload(opt, ['username', 'password']);
                break;
            // COPY OPERATIONS
            case 'CopyIntoItems':
                addToPayload(opt, ['SourceUrl']);
                soapEnvelope.payload += '<DestinationUrls>';
                for (i = 0; i < opt.DestinationUrls.length; i++) {
                    soapEnvelope.payload += wrapNode('string', opt.DestinationUrls[i]);
                }
                soapEnvelope.payload += '</DestinationUrls>';
                addToPayload(opt, ['Fields', 'Stream', 'Results']);
                break;
            case 'CopyIntoItemsLocal':
                addToPayload(opt, ['SourceUrl']);
                soapEnvelope.payload += '<DestinationUrls>';
                for (i = 0; i < opt.DestinationUrls.length; i++) {
                    soapEnvelope.payload += wrapNode('string', opt.DestinationUrls[i]);
                }
                soapEnvelope.payload += '</DestinationUrls>';
                break;
            case 'GetItem':
                addToPayload(opt, ['Url', 'Fields', 'Stream']);
                break;
            // FORM OPERATIONS
            case 'GetForm':
                addToPayload(opt, ['listName', 'formUrl']);
                break;
            case 'GetFormCollection':
                addToPayload(opt, ['listName']);
                break;
            // LIST OPERATIONS
            case 'AddAttachment':
                addToPayload(opt, ['listName', 'listItemID', 'fileName', 'attachment']);
                break;
            case 'AddDiscussionBoardItem':
                addToPayload(opt, ['listName', 'message']);
                break;
            case 'AddList':
                addToPayload(opt, ['listName', 'description', 'templateID']);
                break;
            case 'AddListFromFeature':
                addToPayload(opt, ['listName', 'description', 'featureID', 'templateID']);
                break;
            case 'ApplyContentTypeToList':
                addToPayload(opt, ['webUrl', 'contentTypeId', 'listName']);
                break;
            case 'CheckInFile':
                addToPayload(opt, ['pageUrl', 'comment', 'CheckinType']);
                break;
            case 'CheckOutFile':
                addToPayload(opt, ['pageUrl', 'checkoutToLocal', 'lastmodified']);
                break;
            case 'CreateContentType':
                addToPayload(opt, ['listName', 'displayName', 'parentType', 'fields', 'contentTypeProperties', 'addToView']);
                break;
            case 'DeleteAttachment':
                addToPayload(opt, ['listName', 'listItemID', 'url']);
                break;
            case 'DeleteContentType':
                addToPayload(opt, ['listName', 'contentTypeId']);
                break;
            case 'DeleteContentTypeXmlDocument':
                addToPayload(opt, ['listName', 'contentTypeId', 'documentUri']);
                break;
            case 'DeleteList':
                addToPayload(opt, ['listName']);
                break;
            case 'GetAttachmentCollection':
                addToPayload(opt, ['listName', ['listItemID', 'ID']]);
                break;
            case 'GetList':
                addToPayload(opt, ['listName']);
                break;
            case 'GetListAndView':
                addToPayload(opt, ['listName', 'viewName']);
                break;
            case 'GetListCollection':
                break;
            case 'GetListContentType':
                addToPayload(opt, ['listName', 'contentTypeId']);
                break;
            case 'GetListContentTypes':
                addToPayload(opt, ['listName']);
                break;
            case 'GetListItems':
                addToPayload(opt, ['listName', 'viewName',
                    ['query', 'CAMLQuery'],
                    ['viewFields', 'CAMLViewFields'],
                    ['rowLimit', 'CAMLRowLimit'],
                    ['queryOptions', 'CAMLQueryOptions']
                ]);
                break;
            case 'GetListItemChanges':
                addToPayload(opt, ['listName', 'viewFields', 'since', 'contains']);
                break;
            case 'GetListItemChangesSinceToken':
                addToPayload(opt, ['listName', 'viewName',
                    ['query', 'CAMLQuery'],
                    ['viewFields', 'CAMLViewFields'],
                    ['rowLimit', 'CAMLRowLimit'],
                    ['queryOptions', 'CAMLQueryOptions'],
                    {
                        name: 'changeToken',
                        sendNull: false
                    },
                    {
                        name: 'contains',
                        sendNull: false
                    }
                ]);
                break;
            case 'GetVersionCollection':
                addToPayload(opt, ['strlistID', 'strlistItemID', 'strFieldName']); // correct case
                break;
            case 'UndoCheckOut':
                addToPayload(opt, ['pageUrl']);
                break;
            case 'UpdateContentType':
                addToPayload(opt, ['listName', 'contentTypeId', 'contentTypeProperties', 'newFields', 'updateFields', 'deleteFields', 'addToView']);
                break;
            case 'UpdateContentTypesXmlDocument':
                addToPayload(opt, ['listName', 'newDocument']);
                break;
            case 'UpdateContentTypeXmlDocument':
                addToPayload(opt, ['listName', 'contentTypeId', 'newDocument']);
                break;
            case 'UpdateList':
                addToPayload(opt, ['listName', 'listProperties', 'newFields', 'updateFields', 'deleteFields', 'listVersion']);
                break;
            case 'UpdateListItems':
                addToPayload(opt, ['listName']);
                if (typeof opt.updates !== 'undefined' && opt.updates.length > 0) {
                    addToPayload(opt, ['updates']);
                }
                else {
                    soapEnvelope.payload += "<updates><Batch OnError=\"Continue\"><Method ID=\"1\" Cmd=\"" + opt.batchCmd + "\">";
                    __WEBPACK_IMPORTED_MODULE_0_lodash__["each"](opt.valuePairs, function (valuePair) {
                        soapEnvelope.payload += "<Field Name=\"" + valuePair[0] + "\">" + escapeColumnValue(valuePair[1]) + "</Field>";
                    });
                    if (opt.batchCmd !== 'New') {
                        soapEnvelope.payload += "<Field Name=\"ID\">" + opt.ID + "</Field>";
                    }
                    soapEnvelope.payload += '</Method></Batch></updates>';
                }
                break;
            // MEETINGS OPERATIONS
            case 'AddMeeting':
                addToPayload(opt, ['organizerEmail', 'uid', 'sequence', 'utcDateStamp', 'title', 'location', 'utcDateStart', 'utcDateEnd', 'nonGregorian']);
                break;
            case 'CreateWorkspace':
                addToPayload(opt, ['title', 'templateName', 'lcid', 'timeZoneInformation']);
                break;
            case 'RemoveMeeting':
                addToPayload(opt, ['recurrenceId', 'uid', 'sequence', 'utcDateStamp', 'cancelMeeting']);
                break;
            case 'SetWorkspaceTitle':
                addToPayload(opt, ['title']);
                break;
            // PEOPLE OPERATIONS
            case 'ResolvePrincipals':
                addToPayload(opt, ['principalKeys', 'principalType', 'addToUserInfoList']);
                break;
            case 'SearchPrincipals':
                addToPayload(opt, ['searchText', 'maxResults', 'principalType']);
                break;
            // PERMISSION OPERATIONS
            case 'AddPermission':
                addToPayload(opt, ['objectName', 'objectType', 'permissionIdentifier', 'permissionType', 'permissionMask']);
                break;
            case 'AddPermissionCollection':
                addToPayload(opt, ['objectName', 'objectType', 'permissionsInfoXml']);
                break;
            case 'GetPermissionCollection':
                addToPayload(opt, ['objectName', 'objectType']);
                break;
            case 'RemovePermission':
                addToPayload(opt, ['objectName', 'objectType', 'permissionIdentifier', 'permissionType']);
                break;
            case 'RemovePermissionCollection':
                addToPayload(opt, ['objectName', 'objectType', 'memberIdsXml']);
                break;
            case 'UpdatePermission':
                addToPayload(opt, ['objectName', 'objectType', 'permissionIdentifier', 'permissionType', 'permissionMask']);
                break;
            // PUBLISHEDLINKSSERVICE OPERATIONS
            case 'GetLinks':
                break;
            // SEARCH OPERATIONS
            case 'GetPortalSearchInfo':
                soapEnvelope.opheader = "<" + opt.operation + " xmlns=\"http://microsoft.com/webservices/OfficeServer/QueryService\">";
                SOAPAction = "http://microsoft.com/webservices/OfficeServer/QueryService/" + opt.operation;
                break;
            case 'GetQuerySuggestions':
                soapEnvelope.opheader = "<" + opt.operation + " xmlns='http://microsoft.com/webservices/OfficeServer/QueryService'>";
                SOAPAction = "http://microsoft.com/webservices/OfficeServer/QueryService/" + opt.operation;
                soapEnvelope.payload += wrapNode('queryXml', encodeXml(opt.queryXml));
                break;
            case 'GetSearchMetadata':
                soapEnvelope.opheader = "<" + opt.operation + " xmlns='http://microsoft.com/webservices/OfficeServer/QueryService'>";
                SOAPAction = "http://microsoft.com/webservices/OfficeServer/QueryService/" + opt.operation;
                break;
            case 'Query':
                soapEnvelope.payload += wrapNode('queryXml', encodeXml(opt.queryXml));
                break;
            case 'QueryEx':
                soapEnvelope.opheader = "<" + opt.operation + " xmlns='http://microsoft.com/webservices/OfficeServer/QueryService'>";
                SOAPAction = "http://microsoft.com/webservices/OfficeServer/QueryService/" + opt.operation;
                soapEnvelope.payload += wrapNode('queryXml', encodeXml(opt.queryXml));
                break;
            case 'Registration':
                soapEnvelope.payload += wrapNode('registrationXml', encodeXml(opt.registrationXml));
                break;
            case 'Status':
                break;
            // SHAREPOINTDIAGNOSTICS OPERATIONS
            case 'SendClientScriptErrorReport':
                addToPayload(opt, ['message', 'file', 'line', 'client', 'stack', 'team', 'originalFile']);
                break;
            // SITEDATA OPERATIONS
            case 'EnumerateFolder':
                addToPayload(opt, ['strFolderUrl']);
                break;
            case 'GetAttachments':
                addToPayload(opt, ['strListName', 'strItemId']);
                break;
            case 'SiteDataGetList':
                addToPayload(opt, ['strListName']);
                // Because this operation has a name which duplicates the Lists WS, need to handle
                soapEnvelope = siteDataFixSOAPEnvelope(soapEnvelope, opt.operation);
                break;
            case 'SiteDataGetListCollection':
                // Because this operation has a name which duplicates the Lists WS, need to handle
                soapEnvelope = siteDataFixSOAPEnvelope(soapEnvelope, opt.operation);
                break;
            case 'SiteDataGetSite':
                // Because this operation has a name which duplicates the Lists WS, need to handle
                soapEnvelope = siteDataFixSOAPEnvelope(soapEnvelope, opt.operation);
                break;
            case 'SiteDataGetSiteUrl':
                addToPayload(opt, ['Url']);
                // Because this operation has a name which duplicates the Lists WS, need to handle
                soapEnvelope = siteDataFixSOAPEnvelope(soapEnvelope, opt.operation);
                break;
            case 'SiteDataGetWeb':
                // Because this operation has a name which duplicates the Lists WS, need to handle
                soapEnvelope = siteDataFixSOAPEnvelope(soapEnvelope, opt.operation);
                break;
            // SITES OPERATIONS
            case 'CreateWeb':
                addToPayload(opt, ['url', 'title', 'description', 'templateName', 'language', 'languageSpecified',
                    'locale', 'localeSpecified', 'collationLocale', 'collationLocaleSpecified', 'uniquePermissions',
                    'uniquePermissionsSpecified', 'anonymous', 'anonymousSpecified', 'presence', 'presenceSpecified'
                ]);
                break;
            case 'DeleteWeb':
                addToPayload(opt, ['url']);
                break;
            case 'GetSite':
                addToPayload(opt, ['SiteUrl']);
                break;
            case 'GetSiteTemplates':
                addToPayload(opt, ['LCID', 'TemplateList']);
                break;
            // SOCIALDATASERVICE OPERATIONS
            case 'AddComment':
                addToPayload(opt, ['url', 'comment', 'isHighPriority', 'title']);
                break;
            case 'AddTag':
                addToPayload(opt, ['url', 'termID', 'title', 'isPrivate']);
                break;
            case 'AddTagByKeyword':
                addToPayload(opt, ['url', 'keyword', 'title', 'isPrivate']);
                break;
            case 'CountCommentsOfUser':
                addToPayload(opt, ['userAccountName']);
                break;
            case 'CountCommentsOfUserOnUrl':
                addToPayload(opt, ['userAccountName', 'url']);
                break;
            case 'CountCommentsOnUrl':
                addToPayload(opt, ['url']);
                break;
            case 'CountRatingsOnUrl':
                addToPayload(opt, ['url']);
                break;
            case 'CountTagsOfUser':
                addToPayload(opt, ['userAccountName']);
                break;
            case 'DeleteComment':
                addToPayload(opt, ['url', 'lastModifiedTime']);
                break;
            case 'DeleteRating':
                addToPayload(opt, ['url']);
                break;
            case 'DeleteTag':
                addToPayload(opt, ['url', 'termID']);
                break;
            case 'DeleteTagByKeyword':
                addToPayload(opt, ['url', 'keyword']);
                break;
            case 'DeleteTags':
                addToPayload(opt, ['url']);
                break;
            case 'GetAllTagTerms':
                addToPayload(opt, ['maximumItemsToReturn']);
                break;
            case 'GetAllTagTermsForUrlFolder':
                addToPayload(opt, ['urlFolder', 'maximumItemsToReturn']);
                break;
            case 'GetAllTagUrls':
                addToPayload(opt, ['termID']);
                break;
            case 'GetAllTagUrlsByKeyword':
                addToPayload(opt, ['keyword']);
                break;
            case 'GetCommentsOfUser':
                addToPayload(opt, ['userAccountName', 'maximumItemsToReturn', 'startIndex']);
                break;
            case 'GetCommentsOfUserOnUrl':
                addToPayload(opt, ['userAccountName', 'url']);
                break;
            case 'GetCommentsOnUrl':
                addToPayload(opt, ['url', 'maximumItemsToReturn', 'startIndex']);
                if (typeof opt.excludeItemsTime !== 'undefined' && opt.excludeItemsTime.length > 0) {
                    soapEnvelope.payload += wrapNode('excludeItemsTime', opt.excludeItemsTime);
                }
                break;
            case 'GetRatingAverageOnUrl':
                addToPayload(opt, ['url']);
                break;
            case 'GetRatingOfUserOnUrl':
                addToPayload(opt, ['userAccountName', 'url']);
                break;
            case 'GetRatingOnUrl':
                addToPayload(opt, ['url']);
                break;
            case 'GetRatingsOfUser':
                addToPayload(opt, ['userAccountName']);
                break;
            case 'GetRatingsOnUrl':
                addToPayload(opt, ['url']);
                break;
            case 'GetSocialDataForFullReplication':
                addToPayload(opt, ['userAccountName']);
                break;
            case 'GetTags':
                addToPayload(opt, ['url']);
                break;
            case 'GetTagsOfUser':
                addToPayload(opt, ['userAccountName', 'maximumItemsToReturn', 'startIndex']);
                break;
            case 'GetTagTerms':
                addToPayload(opt, ['maximumItemsToReturn']);
                break;
            case 'GetTagTermsOfUser':
                addToPayload(opt, ['userAccountName', 'maximumItemsToReturn']);
                break;
            case 'GetTagTermsOnUrl':
                addToPayload(opt, ['url', 'maximumItemsToReturn']);
                break;
            case 'GetTagUrls':
                addToPayload(opt, ['termID']);
                break;
            case 'GetTagUrlsByKeyword':
                addToPayload(opt, ['keyword']);
                break;
            case 'GetTagUrlsOfUser':
                addToPayload(opt, ['termID', 'userAccountName']);
                break;
            case 'GetTagUrlsOfUserByKeyword':
                addToPayload(opt, ['keyword', 'userAccountName']);
                break;
            case 'SetRating':
                addToPayload(opt, ['url', 'rating', 'title', 'analysisDataEntry']);
                break;
            case 'UpdateComment':
                addToPayload(opt, ['url', 'lastModifiedTime', 'comment', 'isHighPriority']);
                break;
            // SPELLCHECK OPERATIONS
            case 'SpellCheck':
                addToPayload(opt, ['chunksToSpell', 'declaredLanguage', 'useLad']);
                break;
            // TAXONOMY OPERATIONS
            case 'AddTerms':
                addToPayload(opt, ['sharedServiceId', 'termSetId', 'lcid', 'newTerms']);
                break;
            case 'GetChildTermsInTerm':
                addToPayload(opt, ['sspId', 'lcid', 'termId', 'termSetId']);
                break;
            case 'GetChildTermsInTermSet':
                addToPayload(opt, ['sspId', 'lcid', 'termSetId']);
                break;
            case 'GetKeywordTermsByGuids':
                addToPayload(opt, ['termIds', 'lcid']);
                break;
            case 'GetTermsByLabel':
                addToPayload(opt, ['label', 'lcid', 'matchOption', 'resultCollectionSize', 'termIds', 'addIfNotFound']);
                break;
            case 'GetTermSets':
                addToPayload(opt, ['sharedServiceId', 'termSetId', 'lcid', 'clientTimeStamps', 'clientVersions']);
                break;
            // USERS AND GROUPS OPERATIONS
            case 'AddGroup':
                addToPayload(opt, ['groupName', 'ownerIdentifier', 'ownerType', 'defaultUserLoginName', 'description']);
                break;
            case 'AddGroupToRole':
                addToPayload(opt, ['groupName', 'roleName']);
                break;
            case 'AddRole':
                addToPayload(opt, ['roleName', 'description', 'permissionMask']);
                break;
            case 'AddRoleDef':
                addToPayload(opt, ['roleName', 'description', 'permissionMask']);
                break;
            case 'AddUserCollectionToGroup':
                addToPayload(opt, ['groupName', 'usersInfoXml']);
                break;
            case 'AddUserCollectionToRole':
                addToPayload(opt, ['roleName', 'usersInfoXml']);
                break;
            case 'AddUserToGroup':
                addToPayload(opt, ['groupName', 'userName', 'userLoginName', 'userEmail', 'userNotes']);
                break;
            case 'AddUserToRole':
                addToPayload(opt, ['roleName', 'userName', 'userLoginName', 'userEmail', 'userNotes']);
                break;
            case 'GetAllUserCollectionFromWeb':
                break;
            case 'GetGroupCollection':
                addToPayload(opt, ['groupNamesXml']);
                break;
            case 'GetGroupCollectionFromRole':
                addToPayload(opt, ['roleName']);
                break;
            case 'GetGroupCollectionFromSite':
                break;
            case 'GetGroupCollectionFromUser':
                addToPayload(opt, ['userLoginName']);
                break;
            case 'GetGroupCollectionFromWeb':
                break;
            case 'GetGroupInfo':
                addToPayload(opt, ['groupName']);
                break;
            case 'GetRoleCollection':
                addToPayload(opt, ['roleNamesXml']);
                break;
            case 'GetRoleCollectionFromGroup':
                addToPayload(opt, ['groupName']);
                break;
            case 'GetRoleCollectionFromUser':
                addToPayload(opt, ['userLoginName']);
                break;
            case 'GetRoleCollectionFromWeb':
                break;
            case 'GetRoleInfo':
                addToPayload(opt, ['roleName']);
                break;
            case 'GetRolesAndPermissionsForCurrentUser':
                break;
            case 'GetRolesAndPermissionsForSite':
                break;
            case 'GetUserCollection':
                addToPayload(opt, ['userLoginNamesXml']);
                break;
            case 'GetUserCollectionFromGroup':
                addToPayload(opt, ['groupName']);
                break;
            case 'GetUserCollectionFromRole':
                addToPayload(opt, ['roleName']);
                break;
            case 'GetUserCollectionFromSite':
                break;
            case 'GetUserCollectionFromWeb':
                break;
            case 'GetUserInfo':
                addToPayload(opt, ['userLoginName']);
                break;
            case 'GetUserLoginFromEmail':
                addToPayload(opt, ['emailXml']);
                break;
            case 'RemoveGroup':
                addToPayload(opt, ['groupName']);
                break;
            case 'RemoveGroupFromRole':
                addToPayload(opt, ['roleName', 'groupName']);
                break;
            case 'RemoveRole':
                addToPayload(opt, ['roleName']);
                break;
            case 'RemoveUserCollectionFromGroup':
                addToPayload(opt, ['groupName', 'userLoginNamesXml']);
                break;
            case 'RemoveUserCollectionFromRole':
                addToPayload(opt, ['roleName', 'userLoginNamesXml']);
                break;
            case 'RemoveUserCollectionFromSite':
                addToPayload(opt, ['userLoginNamesXml']);
                break;
            case 'RemoveUserFromGroup':
                addToPayload(opt, ['groupName', 'userLoginName']);
                break;
            case 'RemoveUserFromRole':
                addToPayload(opt, ['roleName', 'userLoginName']);
                break;
            case 'RemoveUserFromSite':
                addToPayload(opt, ['userLoginName']);
                break;
            case 'RemoveUserFromWeb':
                addToPayload(opt, ['userLoginName']);
                break;
            case 'UpdateGroupInfo':
                addToPayload(opt, ['oldGroupName', 'groupName', 'ownerIdentifier', 'ownerType', 'description']);
                break;
            case 'UpdateRoleDefInfo':
                addToPayload(opt, ['oldRoleName', 'roleName', 'description', 'permissionMask']);
                break;
            case 'UpdateRoleInfo':
                addToPayload(opt, ['oldRoleName', 'roleName', 'description', 'permissionMask']);
                break;
            case 'UpdateUserInfo':
                addToPayload(opt, ['userLoginName', 'userName', 'userEmail', 'userNotes']);
                break;
            // USERPROFILESERVICE OPERATIONS
            case 'AddColleague':
                addToPayload(opt, ['accountName', 'colleagueAccountName', 'group', 'privacy', 'isInWorkGroup']);
                break;
            case 'AddLink':
                addToPayload(opt, ['accountName', 'name', 'url', 'group', 'privacy']);
                break;
            case 'AddMembership':
                addToPayload(opt, ['accountName', 'membershipInfo', 'group', 'privacy']);
                break;
            case 'AddPinnedLink':
                addToPayload(opt, ['accountName', 'name', 'url']);
                break;
            case 'CreateMemberGroup':
                addToPayload(opt, ['membershipInfo']);
                break;
            case 'CreateUserProfileByAccountName':
                addToPayload(opt, ['accountName']);
                break;
            case 'GetCommonColleagues':
                addToPayload(opt, ['accountName']);
                break;
            case 'GetCommonManager':
                addToPayload(opt, ['accountName']);
                break;
            case 'GetCommonMemberships':
                addToPayload(opt, ['accountName']);
                break;
            case 'GetInCommon':
                addToPayload(opt, ['accountName']);
                break;
            case 'GetPropertyChoiceList':
                addToPayload(opt, ['propertyName']);
                break;
            case 'GetUserColleagues':
                addToPayload(opt, ['accountName']);
                break;
            case 'GetUserLinks':
                addToPayload(opt, ['accountName']);
                break;
            case 'GetUserMemberships':
                addToPayload(opt, ['accountName']);
                break;
            case 'GetUserPinnedLinks':
                addToPayload(opt, ['accountName']);
                break;
            case 'GetUserProfileByGuid':
                addToPayload(opt, ['guid']);
                break;
            case 'GetUserProfileByIndex':
                addToPayload(opt, ['index']);
                break;
            case 'GetUserProfileByName':
                // Note that this operation is inconsistent with the others, using AccountName rather than accountName
                if (typeof opt.accountName !== 'undefined' && opt.accountName.length > 0) {
                    addToPayload(opt, [
                        ['AccountName', 'accountName']
                    ]);
                }
                else {
                    addToPayload(opt, ['AccountName']);
                }
                break;
            case 'GetUserProfileCount':
                break;
            case 'GetUserProfileSchema':
                break;
            case 'GetUserPropertyByAccountName':
                addToPayload(opt, ['accountName', 'propertyName']);
                break;
            case 'ModifyUserPropertyByAccountName':
                addToPayload(opt, ['accountName', 'newData']);
                break;
            case 'RemoveAllColleagues':
                addToPayload(opt, ['accountName']);
                break;
            case 'RemoveAllLinks':
                addToPayload(opt, ['accountName']);
                break;
            case 'RemoveAllMemberships':
                addToPayload(opt, ['accountName']);
                break;
            case 'RemoveAllPinnedLinks':
                addToPayload(opt, ['accountName']);
                break;
            case 'RemoveColleague':
                addToPayload(opt, ['accountName', 'colleagueAccountName']);
                break;
            case 'RemoveLink':
                addToPayload(opt, ['accountName', 'id']);
                break;
            case 'RemoveMembership':
                addToPayload(opt, ['accountName', 'sourceInternal', 'sourceReference']);
                break;
            case 'RemovePinnedLink':
                addToPayload(opt, ['accountName', 'id']);
                break;
            case 'UpdateColleaguePrivacy':
                addToPayload(opt, ['accountName', 'colleagueAccountName', 'newPrivacy']);
                break;
            case 'UpdateLink':
                addToPayload(opt, ['accountName', 'data']);
                break;
            case 'UpdateMembershipPrivacy':
                addToPayload(opt, ['accountName', 'sourceInternal', 'sourceReference', 'newPrivacy']);
                break;
            case 'UpdatePinnedLink ':
                addToPayload(opt, ['accountName', 'data']);
                break;
            // VERSIONS OPERATIONS
            case 'DeleteAllVersions':
                addToPayload(opt, ['fileName']);
                break;
            case 'DeleteVersion':
                addToPayload(opt, ['fileName', 'fileVersion']);
                break;
            case 'GetVersions':
                addToPayload(opt, ['fileName']);
                break;
            case 'RestoreVersion':
                addToPayload(opt, ['fileName', 'fileVersion']);
                break;
            // VIEW OPERATIONS
            case 'AddView':
                addToPayload(opt, ['listName', 'viewName', 'viewFields', 'query', 'rowLimit', 'rowLimit', 'type', 'makeViewDefault']);
                break;
            case 'DeleteView':
                addToPayload(opt, ['listName', 'viewName']);
                break;
            case 'GetView':
                addToPayload(opt, ['listName', 'viewName']);
                break;
            case 'GetViewCollection':
                addToPayload(opt, ['listName']);
                break;
            case 'GetViewHtml':
                addToPayload(opt, ['listName', 'viewName']);
                break;
            case 'UpdateView':
                addToPayload(opt, ['listName', 'viewName', 'viewProperties', 'query', 'viewFields', 'aggregations', 'formats', 'rowLimit']);
                break;
            case 'UpdateViewHtml':
                addToPayload(opt, ['listName', 'viewName', 'viewProperties', 'toolbar', 'viewHeader', 'viewBody', 'viewFooter', 'viewEmpty', 'rowLimitExceeded',
                    'query', 'viewFields', 'aggregations', 'formats', 'rowLimit'
                ]);
                break;
            // WEBPARTPAGES OPERATIONS
            case 'AddWebPart':
                addToPayload(opt, ['pageUrl', 'webPartXml', 'storage']);
                break;
            case 'AddWebPartToZone':
                addToPayload(opt, ['pageUrl', 'webPartXml', 'storage', 'zoneId', 'zoneIndex']);
                break;
            case 'GetWebPart2':
                addToPayload(opt, ['pageUrl', 'storageKey', 'storage', 'behavior']);
                break;
            case 'GetWebPartPage':
                addToPayload(opt, ['documentName', 'behavior']);
                break;
            case 'GetWebPartProperties':
                addToPayload(opt, ['pageUrl', 'storage']);
                break;
            case 'GetWebPartProperties2':
                addToPayload(opt, ['pageUrl', 'storage', 'behavior']);
                break;
            // WEBS OPERATIONS
            case 'Webs.CreateContentType':
                addToPayload(opt, ['displayName', 'parentType', 'newFields', 'contentTypeProperties']);
                break;
            case 'GetColumns':
                addToPayload(opt, ['webUrl']);
                break;
            case 'GetContentType':
                addToPayload(opt, ['contentTypeId']);
                break;
            case 'GetContentTypes':
                break;
            case 'GetCustomizedPageStatus':
                addToPayload(opt, ['fileUrl']);
                break;
            case 'GetListTemplates':
                break;
            case 'GetObjectIdFromUrl':
                addToPayload(opt, ['objectUrl']);
                break;
            case 'GetWeb':
                addToPayload(opt, [
                    ['webUrl', 'webURL']
                ]);
                break;
            case 'GetWebCollection':
                break;
            case 'GetAllSubWebCollection':
                break;
            case 'UpdateColumns':
                addToPayload(opt, ['newFields', 'updateFields', 'deleteFields']);
                break;
            case 'Webs.UpdateContentType':
                addToPayload(opt, ['contentTypeId', 'contentTypeProperties', 'newFields', 'updateFields', 'deleteFields']);
                break;
            case 'WebUrlFromPageUrl':
                addToPayload(opt, [
                    ['pageUrl', 'pageURL']
                ]);
                break;
            // WORKFLOW OPERATIONS
            case 'AlterToDo':
                addToPayload(opt, ['item', 'todoId', 'todoListId', 'taskData']);
                break;
            case 'ClaimReleaseTask':
                addToPayload(opt, ['item', 'taskId', 'listId', 'fClaim']);
                break;
            case 'GetTemplatesForItem':
                addToPayload(opt, ['item']);
                break;
            case 'GetToDosForItem':
                addToPayload(opt, ['item']);
                break;
            case 'GetWorkflowDataForItem':
                addToPayload(opt, ['item']);
                break;
            case 'GetWorkflowTaskData':
                addToPayload(opt, ['item', 'listId', 'taskId']);
                break;
            case 'StartWorkflow':
                addToPayload(opt, ['item', 'templateId', 'workflowParameters']);
                break;
            default:
                break;
        }
        // Glue together the pieces of the SOAP message
        var msg = soapEnvelope.header + soapEnvelope.opheader + soapEnvelope.payload + soapEnvelope.opfooter + soapEnvelope.footer;
        var soapAction = apWebServiceOperationConstants[opt.operation][1] ? SOAPAction : false;
        return {
            msg: msg,
            SOAPEnvelope: soapEnvelope,
            SOAPAction: soapAction
        };
        // Add the option values to the soapEnvelope.payload for the operation
        //  opt = options for the call
        //  paramArray = an array of option names to add to the payload
        //      'paramName' if the parameter name and the option name match
        //      ['paramName', 'optionName'] if the parameter name and the option name are different (this handles early 'wrappings' with inconsistent naming)
        //      {name: 'paramName', sendNull: false} indicates the element is marked as 'add to payload only if non-null'
        function addToPayload(opt, paramArray) {
            var i;
            for (i = 0; i < paramArray.length; i++) {
                // the parameter name and the option name match
                if (typeof paramArray[i] === 'string') {
                    soapEnvelope.payload += wrapNode(paramArray[i], opt[paramArray[i]]);
                }
                else if (__WEBPACK_IMPORTED_MODULE_0_lodash__["isArray"](paramArray[i]) && paramArray[i].length === 2) {
                    soapEnvelope.payload += wrapNode(paramArray[i][0], opt[paramArray[i][1]]);
                }
                else if ((typeof paramArray[i] === 'object') && (paramArray[i].sendNull !== undefined)) {
                    soapEnvelope.payload += ((opt[paramArray[i].name] === undefined) || (opt[paramArray[i].name].length === 0)) ? '' : wrapNode(paramArray[i].name, opt[paramArray[i].name]);
                }
                else {
                    console.error(opt.operation, 'paramArray[' + i + ']: ' + paramArray[i], 'Invalid paramArray element passed to addToPayload()');
                }
            }
        } // End of function addToPayload
        // The SiteData operations have the same names as other Web SPServicesCore operations. To make them easy to call and unique, I'm using
        // the SiteData prefix on their names. This function replaces that name with the right name in the soapEnvelope.
        function siteDataFixSOAPEnvelope(SOAPEnvelope, siteDataOperation) {
            var siteDataOp = siteDataOperation.substring(8);
            SOAPEnvelope.opheader = SOAPEnvelope.opheader.replace(siteDataOperation, siteDataOp);
            SOAPEnvelope.opfooter = SOAPEnvelope.opfooter.replace(siteDataOperation, siteDataOp);
            return SOAPEnvelope;
        } // End of function siteDataFixSOAPEnvelope
    } // End SPServices.generateXMLComponents
    ////// PRIVATE FUNCTIONS ////////
    // Wrap an XML node (n) around a value (v)
    function wrapNode(n, v) {
        var thisValue = typeof v !== 'undefined' ? v : '';
        return '<' + n + '>' + thisValue + '</' + n + '>';
    }
    // Get the filename from the full URL
    function fileName(s) {
        return s.substring(s.lastIndexOf('/') + 1, s.length);
    }
    /* Taken from http://dracoblue.net/dev/encodedecode-special-xml-characters-in-javascript/155/ */
    var xml_special_to_escaped_one_map = {
        '&': '&amp;',
        '"': '&quot;',
        '<': '&lt;',
        '>': '&gt;'
    };
    function encodeXml(string) {
        return string.replace(/([\&"<>])/g, function (str, item) {
            return xml_special_to_escaped_one_map[item];
        });
    }
    /* Taken from http://dracoblue.net/dev/encodedecode-special-xml-characters-in-javascript/155/ */
    // Escape column values
    function escapeColumnValue(s) {
        if (typeof s === 'string') {
            return s.replace(/&(?![a-zA-Z]{1,8};)/g, '&amp;');
        }
        else {
            return s;
        }
    }
    // James Padolsey's Regex Selector for jQuery http://james.padolsey.com/javascript/regex-selector-for-jquery/
    // jQuery.expr[':'].regex = function (elem, index, match) {
    //     var matchParams = match[3].split(','),
    //         validLabels = /^(data|css):/,
    //         attr = {
    //             method: matchParams[0].match(validLabels) ?
    //                 matchParams[0].split(':')[0] : 'attr',
    //             property: matchParams.shift().replace(validLabels, '')
    //         },
    //         regexFlags = 'ig',
    //         regex = new RegExp(matchParams.join('').replace(/^\s+|\s+$/g, ''), regexFlags);
    //     const method = <any> jQuery(elem)[attr.method];
    //     return regex.test(method(attr.property));
    // };
    return SPServices;
}


/***/ },
/* 30 */
/***/ function(module, exports, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(exports, "a", function() { return WebServiceService; });
var SCHEMASharePoint = "http://schemas.microsoft.com/sharepoint";
var serviceDefinitions = {
    Alerts: {
        action: SCHEMASharePoint + '/soap/2002/1/alerts/',
        xmlns: SCHEMASharePoint + '/soap/2002/1/alerts/'
    },
    Meetings: {
        action: SCHEMASharePoint + '/soap/meetings/',
        xmlns: SCHEMASharePoint + '/soap/meetings/'
    },
    Permissions: {
        action: SCHEMASharePoint + '/soap/directory/',
        xmlns: SCHEMASharePoint + '/soap/directory/'
    },
    PublishedLinksService: {
        action: 'http://microsoft.com/webservices/SharePointPortalServer/PublishedLinksService/',
        xmlns: 'http://microsoft.com/webservices/SharePointPortalServer/PublishedLinksService/'
    },
    Search: {
        action: 'urn:Microsoft.Search/',
        xmlns: 'urn:Microsoft.Search'
    },
    SharePointDiagnostics: {
        action: 'http://schemas.microsoft.com/sharepoint/diagnostics/',
        xmlns: SCHEMASharePoint + '/diagnostics/'
    },
    SocialDataService: {
        action: 'http://microsoft.com/webservices/SharePointPortalServer/SocialDataService/',
        xmlns: 'http://microsoft.com/webservices/SharePointPortalServer/SocialDataService'
    },
    SpellCheck: {
        action: 'http://schemas.microsoft.com/sharepoint/publishing/spelling/SpellCheck',
        xmlns: 'http://schemas.microsoft.com/sharepoint/publishing/spelling/'
    },
    TaxonomyClientService: {
        action: SCHEMASharePoint + '/taxonomy/soap/',
        xmlns: SCHEMASharePoint + '/taxonomy/soap/'
    },
    usergroup: {
        action: SCHEMASharePoint + '/soap/directory/',
        xmlns: SCHEMASharePoint + '/soap/directory/'
    },
    UserProfileService: {
        action: 'http://microsoft.com/webservices/SharePointPortalServer/UserProfileService/',
        xmlns: 'http://microsoft.com/webservices/SharePointPortalServer/UserProfileService'
    },
    WebPartPages: {
        action: 'http://microsoft.com/sharepoint/webpartpages/',
        xmlns: 'http://microsoft.com/sharepoint/webpartpages'
    },
    Workflow: {
        action: SCHEMASharePoint + '/soap/workflow/',
        xmlns: SCHEMASharePoint + '/soap/workflow/'
    }
};
var WebServiceService = (function () {
    function WebServiceService() {
        this.webServices = [
            'Alerts',
            'Authentication',
            'Copy',
            'Forms',
            'Lists',
            'Meetings',
            'People',
            'Permissions',
            'PublishedLinksService',
            'Search',
            'SharePointDiagnostics',
            'SiteData',
            'Sites',
            'SocialDataService',
            'SpellCheck',
            'TaxonomyClientService',
            'usergroup',
            'UserProfileService',
            'Versions',
            'Views',
            'WebPartPages',
            'Webs',
            'Workflow'
        ];
    }
    WebServiceService.prototype.action = function (service) {
        return serviceDefinitions[service] ? serviceDefinitions[service].action : SCHEMASharePoint + '/soap/';
    };
    WebServiceService.prototype.xmlns = function (service) {
        return serviceDefinitions[service] ? serviceDefinitions[service].xmlns : SCHEMASharePoint + '/soap/';
    };
    return WebServiceService;
}());



/***/ },
/* 31 */
/***/ function(module, exports, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);
/* harmony export (binding) */ __webpack_require__.d(exports, "a", function() { return XMLToJSONService; });

/**
 * @ngdoc service
 * @name apXMLToJSONService
 * @description
 * This function converts an XML node set into an array of JS objects.
 * This is essentially Marc Anderson's [SPServices](http://spservices.codeplex.com/) SPXmlTOJson function wrapped in
 * an Angular service to make it more modular and allow for testing.
 *
 */
var XMLToJSONService = (function () {
    function XMLToJSONService($injector) {
        this.$injector = $injector;
    }
    /**
     * @ngdoc function
     * @name apXMLToJSONService.filterXMLNodeService
     * @methodOf apXMLToJSONService
     * @param {Element} xmlObject Object to parse, can either be a jQuery object or an xml response.
     * @param {string} name Name of node we're looking for.
     * @description
     * This method for finding specific nodes in the returned XML was developed by Steve Workman. See his blog post
     * http://www.steveworkman.com/html5-2/javascript/2011/improving-javascript-xml-node-finding-performance-by-2000/
     * for performance details.
     * @returns {NodeList} List of filtered nodes.
     */
    XMLToJSONService.prototype.filterNodes = function (xmlObject, name) {
        if (name.indexOf(':') > -1) {
            // Something like z:row so need to filter for namespace
            var tagName = name.split(':')[1]; // "row"
            return xmlObject.getElementsByTagNameNS('*', tagName);
        }
        else {
            // Normal tag
            return xmlObject.getElementsByTagName(name);
        }
        // Convert to jQuery object if not already
        // var jQueryObject: JQuery = xmlObject instanceof jQuery ? xmlObject : jQuery(xmlObject);
        // return jQueryObject.find('*').filter(function () {
        // return xmlObject.getElementsByTagName(name);
        // return xmlObject.find('*').filter(function () {
        //     // If jQuery parsed as HTML the nodeName will be in all caps and we need lower case
        //     return this.nodeName.toLowerCase() === name;
        // });
    };
    /**
     * @ngdoc function
     * @name apXMLToJSONService.parse
     * @methodOf apXMLToJSONService
     * @param {Element} xmlNodeSet Object to parse, can either be a jQuery object or an xml response.
     * @param {IParseOptions} [options] Override defaults.
     * @description
     * This method for finding specific nodes in the returned XML was developed by Steve Workman. See his blog post
     * http://www.steveworkman.com/html5-2/javascript/2011/improving-javascript-xml-node-finding-performance-by-2000/
     * for performance details.
     * @returns {Object[]} Object with jQuery values.
     */
    XMLToJSONService.prototype.parse = function (xmlNodeSet, options) {
        //Need to use injector because apDecode service also relies on this service so we'd otherwise have a circular dependency.
        var apDecodeService = this.$injector.get('apDecodeService');
        var defaults = {
            includeAllAttrs: false,
            mapping: {},
            removeOws: true,
            sparse: false // If true, empty ("") values will not be returned
        };
        var opts = __WEBPACK_IMPORTED_MODULE_0_lodash__["assign"]({}, defaults, options);
        var jsonObjectArray = [];
        __WEBPACK_IMPORTED_MODULE_0_lodash__["each"](xmlNodeSet, function (node) {
            var row = {};
            var rowAttrs = node.attributes;
            if (!opts.sparse) {
                // Bring back all mapped columns, even those with no value
                __WEBPACK_IMPORTED_MODULE_0_lodash__["each"](opts.mapping, function (column) { return row[column.mappedName] = ''; });
            }
            __WEBPACK_IMPORTED_MODULE_0_lodash__["each"](rowAttrs, function (rowAttribute) {
                var attributeName = rowAttribute.name;
                var columnMapping = opts.mapping[attributeName];
                var objectName = typeof columnMapping !== "undefined" ? columnMapping.mappedName : opts.removeOws ? attributeName.split("ows_")[1] : attributeName;
                var objectType = typeof columnMapping !== "undefined" ? columnMapping.objectType : undefined;
                if (opts.includeAllAttrs || columnMapping !== undefined) {
                    row[objectName] = apDecodeService.parseStringValue(rowAttribute.value, objectType);
                }
            });
            // Push this item into the JSON Object
            jsonObjectArray.push(row);
        });
        // Return the JSON object
        return jsonObjectArray;
    };
    return XMLToJSONService;
}());

XMLToJSONService.$inject = ['$injector'];


/***/ },
/* 32 */
/***/ function(module, exports, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__constants_apDefaultFields__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__app_module__ = __webpack_require__(1);
/* harmony export (binding) */ __webpack_require__.d(exports, "a", function() { return List; });
/* harmony export (binding) */ __webpack_require__.d(exports, "b", function() { return ListFactory; });



/**
 * @ngdoc object
 * @name List
 * @description
 * List Object Constructor.  This is handled automatically when creating a new model so there shouldn't be
 * any reason to manually call.
 * @param {object} config Initialization parameters.
 * @param {string} config.guid Unique SharePoint GUID for the list we'll be basing the model on
 * ex:'{4D74831A-42B2-4558-A67F-B0B5ADBC0EAC}'
 * @param {string} config.title Maps to the offline XML file in dev folder (no spaces)
 * ex: 'ProjectsList' so the offline XML file would be located at apConfig.offlineXML + 'ProjectsList.xml'
 * @param {object[]} [config.customFields] Mapping of SharePoint field names to the internal names we'll be using
 * in our application.  Also contains field type, readonly attribute, and any other non-standard settings.
 * <pre>
 * [
 *   {
         *       staticName: "Title",
         *       objectType: "Text",
         *       mappedName: "lastName",
         *       readOnly:false
         *   },
 *   {
         *       staticName: "FirstName",
         *       objectType: "Text",
         *       mappedName: "firstName",
         *       readOnly:false
         *   },
 *   {
         *       staticName: "Organization",
         *       objectType: "Lookup",
         *       mappedName: "organization",
         *       readOnly:false
         *   },
 *   {
         *       staticName: "Account",
         *       objectType: "User",
         *       mappedName: "account",
         *       readOnly:false
         *   },
 *   {
         *       staticName: "Details",
         *       objectType: "Text",
         *       mappedName: "details",
         *       readOnly:false
         *   }
 * ]
 * </pre>
 * @property {string} viewFields XML string defining each of the fields to include in all CRUD requests,
 * generated when the Model.List is instantiated.
 * <pre>
 *     <ViewFields>...</ViewFields>
 * </pre>
 * @property {Field[]} fields Generated when the Model.List is instantiated.  Combines the standard
 * default fields for all lists with the fields identified in the config.customFields and instantiates each
 * with the Field constructor.
 * @requires angularPoint.apListFactory
 * @constructor
 */
var List = (function () {
    function List(config) {
        this.customFields = [];
        this.fields = [];
        this.isReady = false;
        this.mapping = {};
        this.webURL = __WEBPACK_IMPORTED_MODULE_2__app_module__["ENV"].site;
        __WEBPACK_IMPORTED_MODULE_0_lodash__["assign"](this, config);
        this.environments = this.environments || { production: this.guid };
        this.extendFieldDefinitions();
    }
    /**
     * @description
     * 1. Populates the fields array which uses the Field constructor to combine the default
     * SharePoint fields with those defined in the list definition on the model
     * 2. Creates the list.viewFields XML string that defines the fields to be requested on a query
     *
     * @param {object} list Reference to the list within a model.
     */
    List.prototype.extendFieldDefinitions = function () {
        var _this = this;
        //Clear out
        this.viewFields = '';
        var apFieldFactory = __WEBPACK_IMPORTED_MODULE_2__app_module__["$AP_INJECTOR"].get('apFieldFactory');
        /**
         * Constructs the field
         * - adds to viewField
         * - create ows_ mapping
         * @param fieldDefinition
         */
        var buildField = function (fieldDefinition) {
            var field = new apFieldFactory.FieldDefinition(fieldDefinition);
            _this.fields.push(field);
            _this.viewFields += '<FieldRef Name="' + field.staticName + '"/>';
            _this.mapping['ows_' + field.staticName] = {
                mappedName: field.mappedName,
                objectType: field.objectType
            };
        };
        /** Open viewFields */
        this.viewFields += '<ViewFields>';
        /** Add the default fields */
        __WEBPACK_IMPORTED_MODULE_0_lodash__["each"](__WEBPACK_IMPORTED_MODULE_1__constants_apDefaultFields__["a" /* DefaultFields */], function (field) { return buildField(field); });
        /** Add each of the fields defined in the model */
        __WEBPACK_IMPORTED_MODULE_0_lodash__["each"](this.customFields, function (field) { return buildField(field); });
        /** Close viewFields */
        this.viewFields += '</ViewFields>';
    };
    /**
     * @ngdoc function
     * @name List:extendPermissionsFromListItem
     * @methodOf List
     * @param {ListItem} listItem List item to use as sample of user's permisssions for list.
     * @description
     * If the user permissions haven't been resolved for the list, use the permissions from a
     * sample list item and assume they're the same for the entire list
     * @returns {IUserPermissionsObject} Resolved permissions for the list item.
     */
    List.prototype.extendPermissionsFromListItem = function (listItem) {
        if (!listItem) {
            throw new Error('A valid list item is required in order to extend list permissions.');
        }
        this.permissions = listItem.resolvePermissions();
        return this.permissions;
    };
    /**
     * @ngdoc function
     * @name List:getListId
     * @methodOf List
     * @description
     * Defaults to list.guid.  For a multi-environment setup, we accept a list.environments object with a property for each named
     * environment with a corresponding value of the list guid.  The active environment can be selected
     * by setting apConfig.environment to the string name of the desired environment.
     * @returns {string} List ID.
     */
    List.prototype.getListId = function () {
        return __WEBPACK_IMPORTED_MODULE_2__app_module__["ENV"].LIST_IDS[this.title];
        // if (_.isString(this.environments[apConfig.environment])) {
        //     /**
        //      * For a multi-environment setup, we accept a list.environments object with a property for each named
        //      * environment with a corresponding value of the list guid.  The active environment can be selected
        //      * by setting apConfig.environment to the string name of the desired environment.
        //      */
        //     return this.environments[apConfig.environment];
        // } else {
        //     throw new Error('There isn\'t a valid environment definition for apConfig.environment=' + apConfig.environment + '  ' +
        //         'Please confirm that the list "' + this.title + '" has the necessary environmental configuration.');
        // }
    };
    /**
     * @ngdoc function
     * @name List:identifyWebURL
     * @methodOf List
     * @description
     * If a list is extended, use the provided webURL, otherwise use list.webURL.  If never set it will default
     * to apConfig.defaultUrl.
     * @returns {string} webURL param.
     */
    List.prototype.identifyWebURL = function () {
        return this.webURL;
        // return this.WebFullUrl ? this.WebFullUrl : this.webURL;
    };
    return List;
}());

/**
 * @ngdoc service
 * @name angularPoint.apListFactory
 * @description
 * Exposes the List prototype and a constructor to instantiate a new List.
 *
 * @property {constructor} List The List constructor.
 *
 * @requires angularPoint.apConfig
 * @requires angularPoint.apDefaultFields
 * @requires angularPoint.apFieldFactory
 */
var ListFactory = (function () {
    function ListFactory() {
        this.List = List;
    }
    // static $inject = ['apDefaultFields', 'apFieldFactory'];
    //
    // constructor(_apDefaultFields_, _apFieldFactory_) {
    //
    //     // apConfig = _apConfig_;
    //     apDefaultFields = _apDefaultFields_;
    //     apFieldFactory = _apFieldFactory_;
    //
    // }
    /**
     * @ngdoc function
     * @name angularPoint.apListFactory:create
     * @methodOf angularPoint.apListFactory
     * @param {object} config Options object.
     * @description
     * Instantiates and returns a new List.
     */
    ListFactory.prototype.create = function (config) {
        return new List(config);
    };
    return ListFactory;
}());



/***/ },
/* 33 */
/***/ function(module, exports, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__apDefaultFields__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__apDefaultListItemQueryOptions__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__apPermissionObject__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__apWebServiceOperationConstants__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__apXMLFieldAttributeTypes__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__apXMLListAttributeTypes__ = __webpack_require__(10);
/* harmony namespace reexport (by used) */ __webpack_require__.d(exports, "a", function() { return __WEBPACK_IMPORTED_MODULE_0__apDefaultFields__["a"]; });
/* harmony namespace reexport (by used) */ __webpack_require__.d(exports, "b", function() { return __WEBPACK_IMPORTED_MODULE_1__apDefaultListItemQueryOptions__["a"]; });
/* harmony namespace reexport (by used) */ __webpack_require__.d(exports, "c", function() { return __WEBPACK_IMPORTED_MODULE_2__apPermissionObject__["a"]; });
/* harmony namespace reexport (by used) */ __webpack_require__.d(exports, "d", function() { return __WEBPACK_IMPORTED_MODULE_3__apWebServiceOperationConstants__["a"]; });
/* harmony namespace reexport (by used) */ __webpack_require__.d(exports, "e", function() { return __WEBPACK_IMPORTED_MODULE_4__apXMLFieldAttributeTypes__["a"]; });
/* harmony namespace reexport (by used) */ __webpack_require__.d(exports, "f", function() { return __WEBPACK_IMPORTED_MODULE_5__apXMLListAttributeTypes__["a"]; });








/***/ },
/* 34 */
/***/ function(module, exports, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__apCamlFactory__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__apFieldFactory__ = __webpack_require__(12);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__apIndexedCacheFactory__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__apListFactory__ = __webpack_require__(32);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__apListItemFactory__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__apListItemVersionFactory__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__apLookupFactory__ = __webpack_require__(14);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__apModelFactory__ = __webpack_require__(15);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__apQueryFactory__ = __webpack_require__(16);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__apUserFactory__ = __webpack_require__(17);
/* harmony namespace reexport (by used) */ __webpack_require__.d(exports, "a", function() { return __WEBPACK_IMPORTED_MODULE_0__apCamlFactory__["a"]; });
/* harmony namespace reexport (by used) */ __webpack_require__.d(exports, "b", function() { return __WEBPACK_IMPORTED_MODULE_1__apFieldFactory__["a"]; });
/* harmony namespace reexport (by used) */ __webpack_require__.d(exports, "c", function() { return __WEBPACK_IMPORTED_MODULE_1__apFieldFactory__["b"]; });
/* harmony namespace reexport (by used) */ __webpack_require__.d(exports, "d", function() { return __WEBPACK_IMPORTED_MODULE_2__apIndexedCacheFactory__["a"]; });
/* harmony namespace reexport (by used) */ __webpack_require__.d(exports, "e", function() { return __WEBPACK_IMPORTED_MODULE_2__apIndexedCacheFactory__["b"]; });
/* harmony namespace reexport (by used) */ __webpack_require__.d(exports, "w", function() { return __WEBPACK_IMPORTED_MODULE_3__apListFactory__["a"]; });
/* harmony namespace reexport (by used) */ __webpack_require__.d(exports, "x", function() { return __WEBPACK_IMPORTED_MODULE_3__apListFactory__["b"]; });
/* harmony namespace reexport (by used) */ __webpack_require__.d(exports, "f", function() { return __WEBPACK_IMPORTED_MODULE_4__apListItemFactory__["a"]; });
/* harmony namespace reexport (by used) */ __webpack_require__.d(exports, "g", function() { return __WEBPACK_IMPORTED_MODULE_4__apListItemFactory__["b"]; });
/* harmony namespace reexport (by used) */ __webpack_require__.d(exports, "h", function() { return __WEBPACK_IMPORTED_MODULE_4__apListItemFactory__["c"]; });
/* harmony namespace reexport (by used) */ __webpack_require__.d(exports, "i", function() { return __WEBPACK_IMPORTED_MODULE_5__apListItemVersionFactory__["a"]; });
/* harmony namespace reexport (by used) */ __webpack_require__.d(exports, "j", function() { return __WEBPACK_IMPORTED_MODULE_5__apListItemVersionFactory__["b"]; });
/* harmony namespace reexport (by used) */ __webpack_require__.d(exports, "k", function() { return __WEBPACK_IMPORTED_MODULE_5__apListItemVersionFactory__["c"]; });
/* harmony namespace reexport (by used) */ __webpack_require__.d(exports, "l", function() { return __WEBPACK_IMPORTED_MODULE_5__apListItemVersionFactory__["d"]; });
/* harmony namespace reexport (by used) */ __webpack_require__.d(exports, "m", function() { return __WEBPACK_IMPORTED_MODULE_5__apListItemVersionFactory__["e"]; });
/* harmony namespace reexport (by used) */ __webpack_require__.d(exports, "n", function() { return __WEBPACK_IMPORTED_MODULE_5__apListItemVersionFactory__["f"]; });
/* harmony namespace reexport (by used) */ __webpack_require__.d(exports, "o", function() { return __WEBPACK_IMPORTED_MODULE_6__apLookupFactory__["a"]; });
/* harmony namespace reexport (by used) */ __webpack_require__.d(exports, "p", function() { return __WEBPACK_IMPORTED_MODULE_6__apLookupFactory__["b"]; });
/* harmony namespace reexport (by used) */ __webpack_require__.d(exports, "q", function() { return __WEBPACK_IMPORTED_MODULE_7__apModelFactory__["a"]; });
/* harmony namespace reexport (by used) */ __webpack_require__.d(exports, "r", function() { return __WEBPACK_IMPORTED_MODULE_7__apModelFactory__["b"]; });
/* harmony namespace reexport (by used) */ __webpack_require__.d(exports, "s", function() { return __WEBPACK_IMPORTED_MODULE_8__apQueryFactory__["a"]; });
/* harmony namespace reexport (by used) */ __webpack_require__.d(exports, "t", function() { return __WEBPACK_IMPORTED_MODULE_8__apQueryFactory__["b"]; });
/* harmony namespace reexport (by used) */ __webpack_require__.d(exports, "u", function() { return __WEBPACK_IMPORTED_MODULE_8__apQueryFactory__["c"]; });
/* harmony namespace reexport (by used) */ __webpack_require__.d(exports, "v", function() { return __WEBPACK_IMPORTED_MODULE_9__apUserFactory__["a"]; });












/***/ },
/* 35 */
/***/ function(module, exports, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__apUserModel__ = __webpack_require__(18);
/* harmony namespace reexport (by used) */ __webpack_require__.d(exports, "a", function() { return __WEBPACK_IMPORTED_MODULE_0__apUserModel__["a"]; });



/***/ },
/* 36 */
/***/ function(module, exports, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__apCacheService__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__apChangeService__ = __webpack_require__(20);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__apDataService__ = __webpack_require__(21);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__apDecodeService__ = __webpack_require__(22);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__apEncodeService__ = __webpack_require__(23);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__apExceptionHandlerService__ = __webpack_require__(24);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__apExportService__ = __webpack_require__(25);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__apFieldService__ = __webpack_require__(26);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__apFormattedFieldValueService__ = __webpack_require__(27);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__apLogger__ = __webpack_require__(28);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__apSPServices__ = __webpack_require__(29);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__apUtilityService__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__apWebServiceService__ = __webpack_require__(30);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__apXMLToJSONService__ = __webpack_require__(31);
/* harmony namespace reexport (by used) */ __webpack_require__.d(exports, "a", function() { return __WEBPACK_IMPORTED_MODULE_0__apCacheService__["a"]; });
/* harmony namespace reexport (by used) */ __webpack_require__.d(exports, "b", function() { return __WEBPACK_IMPORTED_MODULE_0__apCacheService__["b"]; });
/* harmony namespace reexport (by used) */ __webpack_require__.d(exports, "c", function() { return __WEBPACK_IMPORTED_MODULE_0__apCacheService__["c"]; });
/* harmony namespace reexport (by used) */ __webpack_require__.d(exports, "d", function() { return __WEBPACK_IMPORTED_MODULE_1__apChangeService__["a"]; });
/* harmony namespace reexport (by used) */ __webpack_require__.d(exports, "e", function() { return __WEBPACK_IMPORTED_MODULE_2__apDataService__["a"]; });
/* harmony namespace reexport (by used) */ __webpack_require__.d(exports, "f", function() { return __WEBPACK_IMPORTED_MODULE_3__apDecodeService__["a"]; });
/* harmony namespace reexport (by used) */ __webpack_require__.d(exports, "g", function() { return __WEBPACK_IMPORTED_MODULE_4__apEncodeService__["a"]; });
/* harmony namespace reexport (by used) */ __webpack_require__.d(exports, "h", function() { return __WEBPACK_IMPORTED_MODULE_5__apExceptionHandlerService__["a"]; });
/* harmony namespace reexport (by used) */ __webpack_require__.d(exports, "i", function() { return __WEBPACK_IMPORTED_MODULE_6__apExportService__["a"]; });
/* harmony namespace reexport (by used) */ __webpack_require__.d(exports, "j", function() { return __WEBPACK_IMPORTED_MODULE_7__apFieldService__["a"]; });
/* harmony namespace reexport (by used) */ __webpack_require__.d(exports, "k", function() { return __WEBPACK_IMPORTED_MODULE_8__apFormattedFieldValueService__["a"]; });
/* harmony namespace reexport (by used) */ __webpack_require__.d(exports, "l", function() { return __WEBPACK_IMPORTED_MODULE_9__apLogger__["a"]; });
/* harmony namespace reexport (by used) */ __webpack_require__.d(exports, "m", function() { return __WEBPACK_IMPORTED_MODULE_10__apSPServices__["a"]; });
/* harmony namespace reexport (by used) */ __webpack_require__.d(exports, "n", function() { return __WEBPACK_IMPORTED_MODULE_10__apSPServices__["b"]; });
/* harmony namespace reexport (by used) */ __webpack_require__.d(exports, "o", function() { return __WEBPACK_IMPORTED_MODULE_11__apUtilityService__["b"]; });
/* harmony namespace reexport (by used) */ __webpack_require__.d(exports, "p", function() { return __WEBPACK_IMPORTED_MODULE_11__apUtilityService__["a"]; });
/* harmony namespace reexport (by used) */ __webpack_require__.d(exports, "q", function() { return __WEBPACK_IMPORTED_MODULE_11__apUtilityService__["c"]; });
/* harmony namespace reexport (by used) */ __webpack_require__.d(exports, "r", function() { return __WEBPACK_IMPORTED_MODULE_12__apWebServiceService__["a"]; });
/* harmony namespace reexport (by used) */ __webpack_require__.d(exports, "s", function() { return __WEBPACK_IMPORTED_MODULE_13__apXMLToJSONService__["a"]; });
















/***/ },
/* 37 */
/***/ function(module, exports) {

module.exports = require("angular");

/***/ }
/******/ ]);
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCA0MTU2NDEyMjhlZjc0YWZiZTA1NyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJsb2Rhc2hcIiIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwLm1vZHVsZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29uc3RhbnRzL2FwUGVybWlzc2lvbk9iamVjdC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29uc3RhbnRzL2FwRGVmYXVsdEZpZWxkcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29uc3RhbnRzL2FwRGVmYXVsdExpc3RJdGVtUXVlcnlPcHRpb25zLnRzIiwid2VicGFjazovLy8uL3NyYy9jb25zdGFudHMvYXBXZWJTZXJ2aWNlT3BlcmF0aW9uQ29uc3RhbnRzLnRzIiwid2VicGFjazovLy8uL3NyYy9mYWN0b3JpZXMvYXBJbmRleGVkQ2FjaGVGYWN0b3J5LnRzIiwid2VicGFjazovLy8uL3NyYy9mYWN0b3JpZXMvYXBMaXN0SXRlbVZlcnNpb25GYWN0b3J5LnRzIiwid2VicGFjazovLy8uL3NyYy9zZXJ2aWNlcy9hcFV0aWxpdHlTZXJ2aWNlLnRzIiwid2VicGFjazovLy8uL3NyYy9jb25zdGFudHMvYXBYTUxGaWVsZEF0dHJpYnV0ZVR5cGVzLnRzIiwid2VicGFjazovLy8uL3NyYy9jb25zdGFudHMvYXBYTUxMaXN0QXR0cmlidXRlVHlwZXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZhY3Rvcmllcy9hcENhbWxGYWN0b3J5LnRzIiwid2VicGFjazovLy8uL3NyYy9mYWN0b3JpZXMvYXBGaWVsZEZhY3RvcnkudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZhY3Rvcmllcy9hcExpc3RJdGVtRmFjdG9yeS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZmFjdG9yaWVzL2FwTG9va3VwRmFjdG9yeS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZmFjdG9yaWVzL2FwTW9kZWxGYWN0b3J5LnRzIiwid2VicGFjazovLy8uL3NyYy9mYWN0b3JpZXMvYXBRdWVyeUZhY3RvcnkudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZhY3Rvcmllcy9hcFVzZXJGYWN0b3J5LnRzIiwid2VicGFjazovLy8uL3NyYy9tb2RlbHMvYXBVc2VyTW9kZWwudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NlcnZpY2VzL2FwQ2FjaGVTZXJ2aWNlLnRzIiwid2VicGFjazovLy8uL3NyYy9zZXJ2aWNlcy9hcENoYW5nZVNlcnZpY2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NlcnZpY2VzL2FwRGF0YVNlcnZpY2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NlcnZpY2VzL2FwRGVjb2RlU2VydmljZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2VydmljZXMvYXBFbmNvZGVTZXJ2aWNlLnRzIiwid2VicGFjazovLy8uL3NyYy9zZXJ2aWNlcy9hcEV4Y2VwdGlvbkhhbmRsZXJTZXJ2aWNlLnRzIiwid2VicGFjazovLy8uL3NyYy9zZXJ2aWNlcy9hcEV4cG9ydFNlcnZpY2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NlcnZpY2VzL2FwRmllbGRTZXJ2aWNlLnRzIiwid2VicGFjazovLy8uL3NyYy9zZXJ2aWNlcy9hcEZvcm1hdHRlZEZpZWxkVmFsdWVTZXJ2aWNlLnRzIiwid2VicGFjazovLy8uL3NyYy9zZXJ2aWNlcy9hcExvZ2dlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2VydmljZXMvYXBTUFNlcnZpY2VzLnRzIiwid2VicGFjazovLy8uL3NyYy9zZXJ2aWNlcy9hcFdlYlNlcnZpY2VTZXJ2aWNlLnRzIiwid2VicGFjazovLy8uL3NyYy9zZXJ2aWNlcy9hcFhNTFRvSlNPTlNlcnZpY2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZhY3Rvcmllcy9hcExpc3RGYWN0b3J5LnRzIiwid2VicGFjazovLy8uL3NyYy9jb25zdGFudHMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZhY3Rvcmllcy9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWxzL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy9zZXJ2aWNlcy9pbmRleC50cyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJhbmd1bGFyXCIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELE87QUNWQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxtREFBMkMsY0FBYzs7QUFFekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBSTtBQUNKOztBQUVBO0FBQ0E7QUFDQTtBQUNBLG1DQUEyQiwwQkFBMEIsRUFBRTtBQUN2RCx5Q0FBaUMsZUFBZTtBQUNoRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw4REFBc0QsK0RBQStEOztBQUVySDtBQUNBOztBQUVBO0FBQ0E7Ozs7Ozs7QUM5REEsbUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNBbUM7QUFFdUI7QUFDNEI7QUFDbEI7QUFDb0I7QUFDWjtBQUNGO0FBQ3BCO0FBQ0U7QUFDYztBQUNSO0FBQ047QUFDb0I7QUFDbEI7QUFDRjtBQUNGO0FBQ1A7QUFDUTtBQUNFO0FBQ0o7QUFDSTtBQUNBO0FBQ29CO0FBQ3BCO0FBQ0Y7QUFDNEI7QUFDNUI7QUFDWjtBQUNnQjtBQUNNO0FBQ0Y7QUFFbkM7QUFDQTtBQUNIO0FBRUU7QUFFcEIsSUFBSSxZQUFzQyxDQUFDO0FBRWxEOzs7Ozs7OztHQVFHO0FBQ0ksSUFBTSxrQkFBa0IsR0FBRywrQ0FBYyxDQUFDLGNBQWMsRUFB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QztJQUNMLGtCQUFDO0FBQUQsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDeFVpQztBQUNjO0FBQ1g7QUFDWTtBQUNOO0FBQ0Q7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0xWO0FBQ0M7QUFDTztBQUNSO0FBQ0k7QUFDTztBQUNUO0FBQ0Q7QUFDQTtBQUNEOzs7Ozs7Ozs7O0FDVEY7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDQUc7QUFDQztBQUNGO0FBQ0U7QUFDQTtBQUNVO0FBQ1Y7QUFDRDtBQUNjO0FBQ3BCO0FBQ0k7QUFDSTtBQUNHO0FBQ0Q7Ozs7Ozs7QUNickMsb0MiLCJmaWxlIjoiYW5ndWxhci1wb2ludC5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZShcImFuZ3VsYXJcIiksIHJlcXVpcmUoXCJsb2Rhc2hcIikpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW1wiYW5ndWxhclwiLCBcImxvZGFzaFwiXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJhbmd1bGFyLXBvaW50XCJdID0gZmFjdG9yeShyZXF1aXJlKFwiYW5ndWxhclwiKSwgcmVxdWlyZShcImxvZGFzaFwiKSk7XG5cdGVsc2Vcblx0XHRyb290W1wiYW5ndWxhci1wb2ludFwiXSA9IGZhY3Rvcnkocm9vdFtcImFuZ3VsYXJcIl0sIHJvb3RbXCJsb2Rhc2hcIl0pO1xufSkodGhpcywgZnVuY3Rpb24oX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8zN19fLCBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzBfXykge1xucmV0dXJuIFxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcblxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gaWRlbnRpdHkgZnVuY3Rpb24gZm9yIGNhbGxpbmcgaGFybW9yeSBpbXBvcnRzIHdpdGggdGhlIGNvcnJlY3QgY29udGV4dFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5pID0gZnVuY3Rpb24odmFsdWUpIHsgcmV0dXJuIHZhbHVlOyB9O1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb3J5IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuIFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbiBcdFx0XHRnZXQ6IGdldHRlclxuIFx0XHR9KTtcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiL1wiO1xuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDEpO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2svYm9vdHN0cmFwIDQxNTY0MTIyOGVmNzRhZmJlMDU3IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwibG9kYXNoXCIpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIFwibG9kYXNoXCJcbi8vIG1vZHVsZSBpZCA9IDBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiaW1wb3J0ICogYXMgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcblxuaW1wb3J0IHtEZWZhdWx0RmllbGRzfSBmcm9tICcuL2NvbnN0YW50cy9hcERlZmF1bHRGaWVsZHMnO1xuaW1wb3J0IHtEZWZhdWx0TGlzdEl0ZW1RdWVyeU9wdGlvbnN9IGZyb20gJy4vY29uc3RhbnRzL2FwRGVmYXVsdExpc3RJdGVtUXVlcnlPcHRpb25zJztcbmltcG9ydCB7QmFzZVBlcm1pc3Npb25PYmplY3R9IGZyb20gJy4vY29uc3RhbnRzL2FwUGVybWlzc2lvbk9iamVjdCc7XG5pbXBvcnQge1dlYlNlcnZpY2VPcGVyYXRpb25Db25zdGFudHN9IGZyb20gJy4vY29uc3RhbnRzL2FwV2ViU2VydmljZU9wZXJhdGlvbkNvbnN0YW50cyc7XG5pbXBvcnQge1hNTEZpZWxkQXR0cmlidXRlVHlwZXN9IGZyb20gJy4vY29uc3RhbnRzL2FwWE1MRmllbGRBdHRyaWJ1dGVUeXBlcyc7XG5pbXBvcnQge1hNTExpc3RBdHRyaWJ1dGVUeXBlc30gZnJvbSAnLi9jb25zdGFudHMvYXBYTUxMaXN0QXR0cmlidXRlVHlwZXMnO1xuaW1wb3J0IHtDYW1sRmFjdG9yeX0gZnJvbSAnLi9mYWN0b3JpZXMvYXBDYW1sRmFjdG9yeSc7XG5pbXBvcnQge0ZpZWxkRmFjdG9yeX0gZnJvbSAnLi9mYWN0b3JpZXMvYXBGaWVsZEZhY3RvcnknO1xuaW1wb3J0IHtJbmRleGVkQ2FjaGVGYWN0b3J5fSBmcm9tICcuL2ZhY3Rvcmllcy9hcEluZGV4ZWRDYWNoZUZhY3RvcnknO1xuaW1wb3J0IHtMaXN0SXRlbUZhY3Rvcnl9IGZyb20gJy4vZmFjdG9yaWVzL2FwTGlzdEl0ZW1GYWN0b3J5JztcbmltcG9ydCB7TW9kZWxGYWN0b3J5fSBmcm9tICcuL2ZhY3Rvcmllcy9hcE1vZGVsRmFjdG9yeSc7XG5pbXBvcnQge0xpc3RJdGVtVmVyc2lvbkZhY3Rvcnl9IGZyb20gJy4vZmFjdG9yaWVzL2FwTGlzdEl0ZW1WZXJzaW9uRmFjdG9yeSc7XG5pbXBvcnQge0xvb2t1cEZhY3Rvcnl9IGZyb20gJy4vZmFjdG9yaWVzL2FwTG9va3VwRmFjdG9yeSc7XG5pbXBvcnQge1F1ZXJ5RmFjdG9yeX0gZnJvbSAnLi9mYWN0b3JpZXMvYXBRdWVyeUZhY3RvcnknO1xuaW1wb3J0IHtVc2VyRmFjdG9yeX0gZnJvbSAnLi9mYWN0b3JpZXMvYXBVc2VyRmFjdG9yeSc7XG5pbXBvcnQge1VzZXJNb2RlbH0gZnJvbSAnLi9tb2RlbHMvYXBVc2VyTW9kZWwnO1xuaW1wb3J0IHtDYWNoZVNlcnZpY2V9IGZyb20gJy4vc2VydmljZXMvYXBDYWNoZVNlcnZpY2UnO1xuaW1wb3J0IHtDaGFuZ2VTZXJ2aWNlfSBmcm9tICcuL3NlcnZpY2VzL2FwQ2hhbmdlU2VydmljZSc7XG5pbXBvcnQge0RhdGFTZXJ2aWNlfSBmcm9tICcuL3NlcnZpY2VzL2FwRGF0YVNlcnZpY2UnO1xuaW1wb3J0IHtEZWNvZGVTZXJ2aWNlfSBmcm9tICcuL3NlcnZpY2VzL2FwRGVjb2RlU2VydmljZSc7XG5pbXBvcnQge0VuY29kZVNlcnZpY2V9IGZyb20gJy4vc2VydmljZXMvYXBFbmNvZGVTZXJ2aWNlJztcbmltcG9ydCB7ZXhjZXB0aW9uTG9nZ2luZ1NlcnZpY2V9IGZyb20gJy4vc2VydmljZXMvYXBFeGNlcHRpb25IYW5kbGVyU2VydmljZSc7XG5pbXBvcnQge0V4cG9ydFNlcnZpY2V9IGZyb20gJy4vc2VydmljZXMvYXBFeHBvcnRTZXJ2aWNlJztcbmltcG9ydCB7RmllbGRTZXJ2aWNlfSBmcm9tICcuL3NlcnZpY2VzL2FwRmllbGRTZXJ2aWNlJztcbmltcG9ydCB7Rm9ybWF0dGVkRmllbGRWYWx1ZVNlcnZpY2V9IGZyb20gJy4vc2VydmljZXMvYXBGb3JtYXR0ZWRGaWVsZFZhbHVlU2VydmljZSc7XG5pbXBvcnQge1NQU2VydmljZXNDb3JlfSBmcm9tICcuL3NlcnZpY2VzL2FwU1BTZXJ2aWNlcyc7XG5pbXBvcnQge0xvZ2dlcn0gZnJvbSAnLi9zZXJ2aWNlcy9hcExvZ2dlcic7XG5pbXBvcnQge1V0aWxpdHlTZXJ2aWNlfSBmcm9tICcuL3NlcnZpY2VzL2FwVXRpbGl0eVNlcnZpY2UnO1xuaW1wb3J0IHtXZWJTZXJ2aWNlU2VydmljZX0gZnJvbSAnLi9zZXJ2aWNlcy9hcFdlYlNlcnZpY2VTZXJ2aWNlJztcbmltcG9ydCB7WE1MVG9KU09OU2VydmljZX0gZnJvbSAnLi9zZXJ2aWNlcy9hcFhNTFRvSlNPTlNlcnZpY2UnO1xuXG5leHBvcnQgKiBmcm9tICcuL2NvbnN0YW50cyc7XG5leHBvcnQgKiBmcm9tICcuL2ZhY3Rvcmllcyc7XG5leHBvcnQgKiBmcm9tICcuL21vZGVscyc7XG5leHBvcnQgKiBmcm9tICcuL2ludGVyZmFjZXMnO1xuZXhwb3J0ICogZnJvbSAnLi9zZXJ2aWNlcyc7XG5cbmV4cG9ydCBsZXQgJEFQX0lOSkVDVE9SOiBuZy5hdXRvLklJbmplY3RvclNlcnZpY2U7XG5cbi8qKlxuICogQG5nZG9jIG92ZXJ2aWV3XG4gKiBAbW9kdWxlXG4gKiBAbmFtZSBhbmd1bGFyUG9pbnRcbiAqIEBkZXNjcmlwdGlvblxuICogVGhpcyBpcyB0aGUgcHJpbWFyeSBhbmd1bGFyUG9pbnQgbW9kdWxlIGFuZCBuZWVkcyB0byBiZSBsaXN0ZWQgaW4geW91ciBhcHAuanMgZGVwZW5kZW5jaWVzIHRvIGdhaW4gdXNlIG9mIEFuZ3VsYXJQb2ludFxuICogZnVuY3Rpb25hbGl0eSBpbiB5b3VyIHByb2plY3QuXG4gKiBAaW5zdGFsbE1vZHVsZVxuICovXG5leHBvcnQgY29uc3QgQW5ndWxhclBvaW50TW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2FuZ3VsYXJQb2ludCcsIFtdKVxuXG4vLyBDb25zdGFudHNcbiAgICAuY29uc3RhbnQoJ2FwRGVmYXVsdEZpZWxkcycsIERlZmF1bHRGaWVsZHMpXG4gICAgLy8gLmNvbnN0YW50KCdhcENvbmZpZycsIEFQQ29uZmlnKVxuICAgIC5jb25zdGFudCgnYXBEZWZhdWx0TGlzdEl0ZW1RdWVyeU9wdGlvbnMnLCBEZWZhdWx0TGlzdEl0ZW1RdWVyeU9wdGlvbnMpXG4gICAgLmNvbnN0YW50KCdhcEJhc2VQZXJtaXNzaW9uT2JqZWN0JywgQmFzZVBlcm1pc3Npb25PYmplY3QpXG4gICAgLmNvbnN0YW50KCdhcFdlYlNlcnZpY2VPcGVyYXRpb25Db25zdGFudHMnLCBXZWJTZXJ2aWNlT3BlcmF0aW9uQ29uc3RhbnRzKVxuICAgIC5jb25zdGFudCgnYXBYTUxGaWVsZEF0dHJpYnV0ZVR5cGVzJywgWE1MRmllbGRBdHRyaWJ1dGVUeXBlcylcbiAgICAuY29uc3RhbnQoJ2FwWE1MTGlzdEF0dHJpYnV0ZVR5cGVzJywgWE1MTGlzdEF0dHJpYnV0ZVR5cGVzKVxuXG4gICAgLy8gRmFjdG9yaWVzXG4gICAgLnNlcnZpY2UoJ2FwQ2FtbEZhY3RvcnknLCBDYW1sRmFjdG9yeSlcbiAgICAuc2VydmljZSgnYXBGaWVsZEZhY3RvcnknLCBGaWVsZEZhY3RvcnkpXG4gICAgLnNlcnZpY2UoJ2FwSW5kZXhlZENhY2hlRmFjdG9yeScsIEluZGV4ZWRDYWNoZUZhY3RvcnkpXG4gICAgLnNlcnZpY2UoJ2FwTGlzdEZhY3RvcnknLCBMaXN0SXRlbUZhY3RvcnkpXG4gICAgLnNlcnZpY2UoJ2FwTGlzdEl0ZW1GYWN0b3J5JywgTGlzdEl0ZW1GYWN0b3J5KVxuICAgIC5zZXJ2aWNlKCdhcExpc3RJdGVtVmVyc2lvbkZhY3RvcnknLCBMaXN0SXRlbVZlcnNpb25GYWN0b3J5KVxuICAgIC5zZXJ2aWNlKCdhcExvb2t1cEZhY3RvcnknLCBMb29rdXBGYWN0b3J5KVxuICAgIC5zZXJ2aWNlKCdhcE1vZGVsRmFjdG9yeScsIE1vZGVsRmFjdG9yeSlcbiAgICAuc2VydmljZSgnYXBRdWVyeUZhY3RvcnknLCBRdWVyeUZhY3RvcnkpXG4gICAgLnNlcnZpY2UoJ2FwVXNlckZhY3RvcnknLCBVc2VyRmFjdG9yeSlcblxuICAgIC8vIE1vZGVsc1xuICAgIC5zZXJ2aWNlKCdhcFVzZXJNb2RlbCcsIFVzZXJNb2RlbClcblxuICAgIC8vIFNlcnZpY2VzXG4gICAgLnNlcnZpY2UoJ2FwQ2FjaGVTZXJ2aWNlJywgQ2FjaGVTZXJ2aWNlKVxuICAgIC5zZXJ2aWNlKCdhcENoYW5nZVNlcnZpY2UnLCBDaGFuZ2VTZXJ2aWNlKVxuICAgIC5zZXJ2aWNlKCdhcERhdGFTZXJ2aWNlJywgRGF0YVNlcnZpY2UpXG4gICAgLnNlcnZpY2UoJ2FwRGVjb2RlU2VydmljZScsIERlY29kZVNlcnZpY2UpXG4gICAgLnNlcnZpY2UoJ2FwRW5jb2RlU2VydmljZScsIEVuY29kZVNlcnZpY2UpXG4gICAgLmZhY3RvcnkoJyRleGNlcHRpb25IYW5kbGVyJywgZXhjZXB0aW9uTG9nZ2luZ1NlcnZpY2UpXG4gICAgLnNlcnZpY2UoJ2FwRXhwb3J0U2VydmljZScsIEV4cG9ydFNlcnZpY2UpXG4gICAgLnNlcnZpY2UoJ2FwRmllbGRTZXJ2aWNlJywgRmllbGRTZXJ2aWNlKVxuICAgIC5zZXJ2aWNlKCdhcEZvcm1hdHRlZEZpZWxkVmFsdWVTZXJ2aWNlJywgRm9ybWF0dGVkRmllbGRWYWx1ZVNlcnZpY2UpXG4gICAgLnNlcnZpY2UoJ2FwTG9nZ2VyJywgTG9nZ2VyKVxuICAgIC5mYWN0b3J5KCdTUFNlcnZpY2VzJywgU1BTZXJ2aWNlc0NvcmUpXG4gICAgLnNlcnZpY2UoJ2FwVXRpbGl0eVNlcnZpY2UnLCBVdGlsaXR5U2VydmljZSlcbiAgICAuc2VydmljZSgnYXBXZWJTZXJ2aWNlU2VydmljZScsIFdlYlNlcnZpY2VTZXJ2aWNlKVxuICAgIC5zZXJ2aWNlKCdhcFhNTFRvSlNPTlNlcnZpY2UnLCBYTUxUb0pTT05TZXJ2aWNlKVxuXG4gICAgLyoqIEJvb3RzdHJhcCBldmVyeXRoaW5nIHRoYXQgbmVlZHMgdG8gYmUgaW1tZWRpYXRlbHkgaW5zdGFudGlhdGVkICovXG4gICAgLnJ1bihbJyRpbmplY3RvcicsICdhcExpc3RJdGVtRmFjdG9yeScsICdhcE1vZGVsRmFjdG9yeScsICgkaW5qZWN0b3I6IG5nLmF1dG8uSUluamVjdG9yU2VydmljZSwgYXBMaXN0SXRlbUZhY3Rvcnk6IExpc3RJdGVtRmFjdG9yeSwgYXBNb2RlbEZhY3Rvcnk6IE1vZGVsRmFjdG9yeSkgPT4ge1xuICAgICAgICAvLyBFeHBvc2UgYW5ndWxhciAkaW5qZWN0b3IgZm9yIHVzZSBieSB0aGUgZW50aXJlIGFwcGxpY2F0aW9uXG4gICAgICAgICRBUF9JTkpFQ1RPUiA9ICRpbmplY3RvcjtcbiAgICB9XSk7XG5cbmV4cG9ydCBsZXQgRU5WO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJFbnZpcm9ubWVudChlbnYpIHtcbiAgICBFTlYgPSBlbnY7XG59XG5cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlciEuL3NyYy9hcHAubW9kdWxlLnRzIiwiZXhwb3J0IGludGVyZmFjZSBJVXNlclBlcm1pc3Npb25zT2JqZWN0IHtcbiAgICBBZGRBbmRDdXN0b21pemVQYWdlczogYm9vbGVhbjtcbiAgICBBZGREZWxQcml2YXRlV2ViUGFydHM6IGJvb2xlYW47XG4gICAgQWRkTGlzdEl0ZW1zOiBib29sZWFuO1xuICAgIEFwcGx5U3R5bGVTaGVldHM6IGJvb2xlYW47XG4gICAgQXBwbHlUaGVtZUFuZEJvcmRlcjogYm9vbGVhbjtcbiAgICBBcHByb3ZlSXRlbXM6IGJvb2xlYW47XG4gICAgQnJvd3NlRGlyZWN0b3JpZXM6IGJvb2xlYW47XG4gICAgQnJvd3NlVXNlckluZm86IGJvb2xlYW47XG4gICAgQ2FuY2VsQ2hlY2tvdXQ6IGJvb2xlYW47XG4gICAgQ3JlYXRlQWxlcnRzOiBib29sZWFuO1xuICAgIENyZWF0ZUdyb3VwczogYm9vbGVhbjtcbiAgICBDcmVhdGVTU0NTaXRlOiBib29sZWFuO1xuICAgIERlbGV0ZUxpc3RJdGVtczogYm9vbGVhbjtcbiAgICBEZWxldGVWZXJzaW9uczogYm9vbGVhbjtcbiAgICBFZGl0TGlzdEl0ZW1zOiBib29sZWFuO1xuICAgIEVkaXRNeVVzZXJJbmZvOiBib29sZWFuO1xuICAgIEVudW1lcmF0ZVBlcm1pc3Npb25zOiBib29sZWFuO1xuICAgIEZ1bGxNYXNrOiBib29sZWFuO1xuICAgIE1hbmFnZUFsZXJ0czogYm9vbGVhbjtcbiAgICBNYW5hZ2VMaXN0czogYm9vbGVhbjtcbiAgICBNYW5hZ2VQZXJtaXNzaW9uczogYm9vbGVhbjtcbiAgICBNYW5hZ2VTdWJ3ZWJzOiBib29sZWFuO1xuICAgIE1hbmFnZVdlYjogYm9vbGVhbjtcbiAgICBPcGVuOiBib29sZWFuO1xuICAgIE9wZW5JdGVtczogYm9vbGVhbjtcbiAgICBQZXJzb25hbFZpZXdzOiBib29sZWFuO1xuICAgIFVwZGF0ZVBlcnNvbmFsV2ViUGFydHM6IGJvb2xlYW47XG4gICAgVXNlUmVtb3RlQVBJczogYm9vbGVhbjtcbiAgICBWaWV3Rm9ybVBhZ2VzOiBib29sZWFuO1xuICAgIFZpZXdMaXN0SXRlbXM6IGJvb2xlYW47XG4gICAgVmlld1BhZ2VzOiBib29sZWFuO1xuICAgIFZpZXdVc2FnZURhdGE6IGJvb2xlYW47XG4gICAgVmlld1ZlcnNpb25zOiBib29sZWFuO1xufVxuXG5leHBvcnQgY2xhc3MgQmFzZVBlcm1pc3Npb25PYmplY3QgaW1wbGVtZW50cyBJVXNlclBlcm1pc3Npb25zT2JqZWN0IHtcbiAgICBBZGRBbmRDdXN0b21pemVQYWdlcyA9IGZhbHNlO1xuICAgIEFkZERlbFByaXZhdGVXZWJQYXJ0cyA9IGZhbHNlO1xuICAgIEFkZExpc3RJdGVtcyA9IGZhbHNlO1xuICAgIEFwcGx5U3R5bGVTaGVldHMgPSBmYWxzZTtcbiAgICBBcHBseVRoZW1lQW5kQm9yZGVyID0gZmFsc2U7XG4gICAgQXBwcm92ZUl0ZW1zID0gZmFsc2U7XG4gICAgQnJvd3NlRGlyZWN0b3JpZXMgPSBmYWxzZTtcbiAgICBCcm93c2VVc2VySW5mbyA9IGZhbHNlO1xuICAgIENhbmNlbENoZWNrb3V0ID0gZmFsc2U7XG4gICAgQ3JlYXRlQWxlcnRzID0gZmFsc2U7XG4gICAgQ3JlYXRlR3JvdXBzID0gZmFsc2U7XG4gICAgQ3JlYXRlU1NDU2l0ZSA9IGZhbHNlO1xuICAgIERlbGV0ZUxpc3RJdGVtcyA9IGZhbHNlO1xuICAgIERlbGV0ZVZlcnNpb25zID0gZmFsc2U7XG4gICAgRWRpdExpc3RJdGVtcyA9IGZhbHNlO1xuICAgIEVkaXRNeVVzZXJJbmZvID0gZmFsc2U7XG4gICAgRW51bWVyYXRlUGVybWlzc2lvbnMgPSBmYWxzZTtcbiAgICBGdWxsTWFzayA9IGZhbHNlO1xuICAgIE1hbmFnZUFsZXJ0cyA9IGZhbHNlO1xuICAgIE1hbmFnZUxpc3RzID0gZmFsc2U7XG4gICAgTWFuYWdlUGVybWlzc2lvbnMgPSBmYWxzZTtcbiAgICBNYW5hZ2VTdWJ3ZWJzID0gZmFsc2U7XG4gICAgTWFuYWdlV2ViID0gZmFsc2U7XG4gICAgT3BlbiA9IGZhbHNlO1xuICAgIE9wZW5JdGVtcyA9IGZhbHNlO1xuICAgIFBlcnNvbmFsVmlld3MgPSBmYWxzZTtcbiAgICBVcGRhdGVQZXJzb25hbFdlYlBhcnRzID0gZmFsc2U7XG4gICAgVXNlUmVtb3RlQVBJcyA9IGZhbHNlO1xuICAgIFZpZXdGb3JtUGFnZXMgPSBmYWxzZTtcbiAgICBWaWV3TGlzdEl0ZW1zID0gZmFsc2U7XG4gICAgVmlld1BhZ2VzID0gZmFsc2U7XG4gICAgVmlld1VzYWdlRGF0YSA9IGZhbHNlO1xuICAgIFZpZXdWZXJzaW9ucyA9IGZhbHNlO1xufVxuXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXIhLi9zcmMvY29uc3RhbnRzL2FwUGVybWlzc2lvbk9iamVjdC50cyIsImltcG9ydCB7SUZpZWxkQ29uZmlndXJhdGlvbk9iamVjdH0gZnJvbSAnLi4vZmFjdG9yaWVzL2FwRmllbGRGYWN0b3J5JztcblxuLyoqXG4gKiBAbmdkb2Mgb2JqZWN0XG4gKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBEZWZhdWx0RmllbGRzXG4gKiBAZGVzY3JpcHRpb25cbiAqIFJlYWQgb25seSBmaWVsZHMgdGhhdCBzaG91bGQgYmUgaW5jbHVkZWQgaW4gYWxsIGxpc3RzXG4gKi9cblxuZXhwb3J0IGNvbnN0IERlZmF1bHRGaWVsZHM6IElGaWVsZENvbmZpZ3VyYXRpb25PYmplY3RbXSA9IFtcbiAgICB7c3RhdGljTmFtZTogJ0lEJywgb2JqZWN0VHlwZTogJ0NvdW50ZXInLCBtYXBwZWROYW1lOiAnaWQnLCByZWFkT25seTogdHJ1ZX0sXG4gICAge3N0YXRpY05hbWU6ICdNb2RpZmllZCcsIG9iamVjdFR5cGU6ICdEYXRlVGltZScsIG1hcHBlZE5hbWU6ICdtb2RpZmllZCcsIHJlYWRPbmx5OiB0cnVlfSxcbiAgICB7c3RhdGljTmFtZTogJ0NyZWF0ZWQnLCBvYmplY3RUeXBlOiAnRGF0ZVRpbWUnLCBtYXBwZWROYW1lOiAnY3JlYXRlZCcsIHJlYWRPbmx5OiB0cnVlfSxcbiAgICB7c3RhdGljTmFtZTogJ0F1dGhvcicsIG9iamVjdFR5cGU6ICdVc2VyJywgbWFwcGVkTmFtZTogJ2F1dGhvcicsIHJlYWRPbmx5OiB0cnVlfSxcbiAgICB7c3RhdGljTmFtZTogJ0VkaXRvcicsIG9iamVjdFR5cGU6ICdVc2VyJywgbWFwcGVkTmFtZTogJ2VkaXRvcicsIHJlYWRPbmx5OiB0cnVlfSxcbiAgICB7c3RhdGljTmFtZTogJ1Blcm1NYXNrJywgb2JqZWN0VHlwZTogJ01hc2snLCBtYXBwZWROYW1lOiAncGVybU1hc2snLCByZWFkT25seTogdHJ1ZX0sXG4gICAge3N0YXRpY05hbWU6ICdVbmlxdWVJZCcsIG9iamVjdFR5cGU6ICdTdHJpbmcnLCBtYXBwZWROYW1lOiAndW5pcXVlSWQnLCByZWFkT25seTogdHJ1ZX0sXG4gICAge3N0YXRpY05hbWU6ICdGaWxlUmVmJywgb2JqZWN0VHlwZTogJ0xvb2t1cCcsIG1hcHBlZE5hbWU6ICdmaWxlUmVmJywgcmVhZE9ubHk6IHRydWV9XG5dO1xuXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXIhLi9zcmMvY29uc3RhbnRzL2FwRGVmYXVsdEZpZWxkcy50cyIsImV4cG9ydCBjb25zdCBEZWZhdWx0TGlzdEl0ZW1RdWVyeU9wdGlvbnM6IHN0cmluZyA9ICcnICtcbiAgICAnPFF1ZXJ5T3B0aW9ucz4nICtcbiAgICAnICAgPEluY2x1ZGVNYW5kYXRvcnlDb2x1bW5zPkZBTFNFPC9JbmNsdWRlTWFuZGF0b3J5Q29sdW1ucz4nICtcbiAgICAnICAgPEluY2x1ZGVBdHRhY2htZW50VXJscz5UUlVFPC9JbmNsdWRlQXR0YWNobWVudFVybHM+JyArXG4gICAgJyAgIDxJbmNsdWRlQXR0YWNobWVudFZlcnNpb24+RkFMU0U8L0luY2x1ZGVBdHRhY2htZW50VmVyc2lvbj4nICtcbiAgICAnICAgPEV4cGFuZFVzZXJGaWVsZD5GQUxTRTwvRXhwYW5kVXNlckZpZWxkPicgK1xuICAgICc8L1F1ZXJ5T3B0aW9ucz4nO1xuXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXIhLi9zcmMvY29uc3RhbnRzL2FwRGVmYXVsdExpc3RJdGVtUXVlcnlPcHRpb25zLnRzIiwiZXhwb3J0IGludGVyZmFjZSBJV2ViU2VydmljZU9wZXJhdGlvbkNvbnN0YW50cyB7XG4gICAgW2tleTogc3RyaW5nXTogW3N0cmluZywgYm9vbGVhbl1cbn1cblxuZXhwb3J0IGNvbnN0IFdlYlNlcnZpY2VPcGVyYXRpb25Db25zdGFudHM6IElXZWJTZXJ2aWNlT3BlcmF0aW9uQ29uc3RhbnRzID0ge1xuICAgIEdldEFsZXJ0czogWydBbGVydHMnLCBmYWxzZV0sXG4gICAgRGVsZXRlQWxlcnRzOiBbJ0FsZXJ0cycsIHRydWVdLFxuICAgIE1vZGU6IFsnQXV0aGVudGljYXRpb24nLCBmYWxzZV0sXG4gICAgTG9naW46IFsnQXV0aGVudGljYXRpb24nLCBmYWxzZV0sXG4gICAgQ29weUludG9JdGVtczogWydDb3B5JywgdHJ1ZV0sXG4gICAgQ29weUludG9JdGVtc0xvY2FsOiBbJ0NvcHknLCB0cnVlXSxcbiAgICBHZXRJdGVtOiBbJ0NvcHknLCBmYWxzZV0sXG4gICAgR2V0Rm9ybTogWydGb3JtcycsIGZhbHNlXSxcbiAgICBHZXRGb3JtQ29sbGVjdGlvbjogWydGb3JtcycsIGZhbHNlXSxcbiAgICBBZGRBdHRhY2htZW50OiBbJ0xpc3RzJywgdHJ1ZV0sXG4gICAgQWRkRGlzY3Vzc2lvbkJvYXJkSXRlbTogWydMaXN0cycsIHRydWVdLFxuICAgIEFkZExpc3Q6IFsnTGlzdHMnLCB0cnVlXSxcbiAgICBBZGRMaXN0RnJvbUZlYXR1cmU6IFsnTGlzdHMnLCB0cnVlXSxcbiAgICBBcHBseUNvbnRlbnRUeXBlVG9MaXN0OiBbJ0xpc3RzJywgdHJ1ZV0sXG4gICAgQ2hlY2tJbkZpbGU6IFsnTGlzdHMnLCB0cnVlXSxcbiAgICBDaGVja091dEZpbGU6IFsnTGlzdHMnLCB0cnVlXSxcbiAgICBDcmVhdGVDb250ZW50VHlwZTogWydXZWJzJywgdHJ1ZV0sXG4gICAgRGVsZXRlQXR0YWNobWVudDogWydMaXN0cycsIHRydWVdLFxuICAgIERlbGV0ZUNvbnRlbnRUeXBlOiBbJ0xpc3RzJywgdHJ1ZV0sXG4gICAgRGVsZXRlQ29udGVudFR5cGVYbWxEb2N1bWVudDogWydMaXN0cycsIHRydWVdLFxuICAgIERlbGV0ZUxpc3Q6IFsnTGlzdHMnLCB0cnVlXSxcbiAgICBHZXRBdHRhY2htZW50Q29sbGVjdGlvbjogWydMaXN0cycsIGZhbHNlXSxcbiAgICBHZXRMaXN0OiBbJ0xpc3RzJywgZmFsc2VdLFxuICAgIEdldExpc3RBbmRWaWV3OiBbJ0xpc3RzJywgZmFsc2VdLFxuICAgIEdldExpc3RDb2xsZWN0aW9uOiBbJ0xpc3RzJywgZmFsc2VdLFxuICAgIEdldExpc3RDb250ZW50VHlwZTogWydMaXN0cycsIGZhbHNlXSxcbiAgICBHZXRMaXN0Q29udGVudFR5cGVzOiBbJ0xpc3RzJywgZmFsc2VdLFxuICAgIEdldExpc3RJdGVtQ2hhbmdlczogWydMaXN0cycsIGZhbHNlXSxcbiAgICBHZXRMaXN0SXRlbUNoYW5nZXNTaW5jZVRva2VuOiBbJ0xpc3RzJywgZmFsc2VdLFxuICAgIEdldExpc3RJdGVtczogWydMaXN0cycsIGZhbHNlXSxcbiAgICBHZXRWZXJzaW9uQ29sbGVjdGlvbjogWydMaXN0cycsIGZhbHNlXSxcbiAgICBVbmRvQ2hlY2tPdXQ6IFsnTGlzdHMnLCB0cnVlXSxcbiAgICBVcGRhdGVDb250ZW50VHlwZTogWydXZWJzJywgdHJ1ZV0sXG4gICAgVXBkYXRlQ29udGVudFR5cGVzWG1sRG9jdW1lbnQ6IFsnTGlzdHMnLCB0cnVlXSxcbiAgICBVcGRhdGVDb250ZW50VHlwZVhtbERvY3VtZW50OiBbJ0xpc3RzJywgdHJ1ZV0sXG4gICAgVXBkYXRlTGlzdDogWydMaXN0cycsIHRydWVdLFxuICAgIFVwZGF0ZUxpc3RJdGVtczogWydMaXN0cycsIHRydWVdLFxuICAgIEFkZE1lZXRpbmc6IFsnTWVldGluZ3MnLCB0cnVlXSxcbiAgICBDcmVhdGVXb3Jrc3BhY2U6IFsnTWVldGluZ3MnLCB0cnVlXSxcbiAgICBSZW1vdmVNZWV0aW5nOiBbJ01lZXRpbmdzJywgdHJ1ZV0sXG4gICAgU2V0V29ya1NwYWNlVGl0bGU6IFsnTWVldGluZ3MnLCB0cnVlXSxcbiAgICBSZXNvbHZlUHJpbmNpcGFsczogWydQZW9wbGUnLCBmYWxzZV0sXG4gICAgU2VhcmNoUHJpbmNpcGFsczogWydQZW9wbGUnLCBmYWxzZV0sXG4gICAgQWRkUGVybWlzc2lvbjogWydQZXJtaXNzaW9ucycsIHRydWVdLFxuICAgIEFkZFBlcm1pc3Npb25Db2xsZWN0aW9uOiBbJ1Blcm1pc3Npb25zJywgdHJ1ZV0sXG4gICAgR2V0UGVybWlzc2lvbkNvbGxlY3Rpb246IFsnUGVybWlzc2lvbnMnLCB0cnVlXSxcbiAgICBSZW1vdmVQZXJtaXNzaW9uOiBbJ1Blcm1pc3Npb25zJywgdHJ1ZV0sXG4gICAgUmVtb3ZlUGVybWlzc2lvbkNvbGxlY3Rpb246IFsnUGVybWlzc2lvbnMnLCB0cnVlXSxcbiAgICBVcGRhdGVQZXJtaXNzaW9uOiBbJ1Blcm1pc3Npb25zJywgdHJ1ZV0sXG4gICAgR2V0TGlua3M6IFsnUHVibGlzaGVkTGlua3NTZXJ2aWNlJywgdHJ1ZV0sXG4gICAgR2V0UG9ydGFsU2VhcmNoSW5mbzogWydTZWFyY2gnLCBmYWxzZV0sXG4gICAgR2V0UXVlcnlTdWdnZXN0aW9uczogWydTZWFyY2gnLCBmYWxzZV0sXG4gICAgR2V0U2VhcmNoTWV0YWRhdGE6IFsnU2VhcmNoJywgZmFsc2VdLFxuICAgIFF1ZXJ5OiBbJ1NlYXJjaCcsIGZhbHNlXSxcbiAgICBRdWVyeUV4OiBbJ1NlYXJjaCcsIGZhbHNlXSxcbiAgICBSZWdpc3RyYXRpb246IFsnU2VhcmNoJywgZmFsc2VdLFxuICAgIFN0YXR1czogWydTZWFyY2gnLCBmYWxzZV0sXG4gICAgU2VuZENsaWVudFNjcmlwdEVycm9yUmVwb3J0OiBbJ1NoYXJlUG9pbnREaWFnbm9zdGljcycsIHRydWVdLFxuICAgIEdldEF0dGFjaG1lbnRzOiBbJ1NpdGVEYXRhJywgZmFsc2VdLFxuICAgIEVudW1lcmF0ZUZvbGRlcjogWydTaXRlRGF0YScsIGZhbHNlXSxcbiAgICBTaXRlRGF0YUdldExpc3Q6IFsnU2l0ZURhdGEnLCBmYWxzZV0sXG4gICAgU2l0ZURhdGFHZXRMaXN0Q29sbGVjdGlvbjogWydTaXRlRGF0YScsIGZhbHNlXSxcbiAgICBTaXRlRGF0YUdldFNpdGU6IFsnU2l0ZURhdGEnLCBmYWxzZV0sXG4gICAgU2l0ZURhdGFHZXRTaXRlVXJsOiBbJ1NpdGVEYXRhJywgZmFsc2VdLFxuICAgIFNpdGVEYXRhR2V0V2ViOiBbJ1NpdGVEYXRhJywgZmFsc2VdLFxuICAgIENyZWF0ZVdlYjogWydTaXRlcycsIHRydWVdLFxuICAgIERlbGV0ZVdlYjogWydTaXRlcycsIHRydWVdLFxuICAgIEdldFNpdGU6IFsnU2l0ZXMnLCBmYWxzZV0sXG4gICAgR2V0U2l0ZVRlbXBsYXRlczogWydTaXRlcycsIGZhbHNlXSxcbiAgICBBZGRDb21tZW50OiBbJ1NvY2lhbERhdGFTZXJ2aWNlJywgdHJ1ZV0sXG4gICAgQWRkVGFnOiBbJ1NvY2lhbERhdGFTZXJ2aWNlJywgdHJ1ZV0sXG4gICAgQWRkVGFnQnlLZXl3b3JkOiBbJ1NvY2lhbERhdGFTZXJ2aWNlJywgdHJ1ZV0sXG4gICAgQ291bnRDb21tZW50c09mVXNlcjogWydTb2NpYWxEYXRhU2VydmljZScsIGZhbHNlXSxcbiAgICBDb3VudENvbW1lbnRzT2ZVc2VyT25Vcmw6IFsnU29jaWFsRGF0YVNlcnZpY2UnLCBmYWxzZV0sXG4gICAgQ291bnRDb21tZW50c09uVXJsOiBbJ1NvY2lhbERhdGFTZXJ2aWNlJywgZmFsc2VdLFxuICAgIENvdW50UmF0aW5nc09uVXJsOiBbJ1NvY2lhbERhdGFTZXJ2aWNlJywgZmFsc2VdLFxuICAgIENvdW50VGFnc09mVXNlcjogWydTb2NpYWxEYXRhU2VydmljZScsIGZhbHNlXSxcbiAgICBEZWxldGVDb21tZW50OiBbJ1NvY2lhbERhdGFTZXJ2aWNlJywgdHJ1ZV0sXG4gICAgRGVsZXRlUmF0aW5nOiBbJ1NvY2lhbERhdGFTZXJ2aWNlJywgdHJ1ZV0sXG4gICAgRGVsZXRlVGFnOiBbJ1NvY2lhbERhdGFTZXJ2aWNlJywgdHJ1ZV0sXG4gICAgRGVsZXRlVGFnQnlLZXl3b3JkOiBbJ1NvY2lhbERhdGFTZXJ2aWNlJywgdHJ1ZV0sXG4gICAgRGVsZXRlVGFnczogWydTb2NpYWxEYXRhU2VydmljZScsIHRydWVdLFxuICAgIEdldEFsbFRhZ1Rlcm1zOiBbJ1NvY2lhbERhdGFTZXJ2aWNlJywgZmFsc2VdLFxuICAgIEdldEFsbFRhZ1Rlcm1zRm9yVXJsRm9sZGVyOiBbJ1NvY2lhbERhdGFTZXJ2aWNlJywgZmFsc2VdLFxuICAgIEdldEFsbFRhZ1VybHM6IFsnU29jaWFsRGF0YVNlcnZpY2UnLCBmYWxzZV0sXG4gICAgR2V0QWxsVGFnVXJsc0J5S2V5d29yZDogWydTb2NpYWxEYXRhU2VydmljZScsIGZhbHNlXSxcbiAgICBHZXRDb21tZW50c09mVXNlcjogWydTb2NpYWxEYXRhU2VydmljZScsIGZhbHNlXSxcbiAgICBHZXRDb21tZW50c09mVXNlck9uVXJsOiBbJ1NvY2lhbERhdGFTZXJ2aWNlJywgZmFsc2VdLFxuICAgIEdldENvbW1lbnRzT25Vcmw6IFsnU29jaWFsRGF0YVNlcnZpY2UnLCBmYWxzZV0sXG4gICAgR2V0UmF0aW5nQXZlcmFnZU9uVXJsOiBbJ1NvY2lhbERhdGFTZXJ2aWNlJywgZmFsc2VdLFxuICAgIEdldFJhdGluZ09mVXNlck9uVXJsOiBbJ1NvY2lhbERhdGFTZXJ2aWNlJywgZmFsc2VdLFxuICAgIEdldFJhdGluZ09uVXJsOiBbJ1NvY2lhbERhdGFTZXJ2aWNlJywgZmFsc2VdLFxuICAgIEdldFJhdGluZ3NPZlVzZXI6IFsnU29jaWFsRGF0YVNlcnZpY2UnLCBmYWxzZV0sXG4gICAgR2V0UmF0aW5nc09uVXJsOiBbJ1NvY2lhbERhdGFTZXJ2aWNlJywgZmFsc2VdLFxuICAgIEdldFNvY2lhbERhdGFGb3JGdWxsUmVwbGljYXRpb246IFsnU29jaWFsRGF0YVNlcnZpY2UnLCBmYWxzZV0sXG4gICAgR2V0VGFnczogWydTb2NpYWxEYXRhU2VydmljZScsIHRydWVdLFxuICAgIEdldFRhZ3NPZlVzZXI6IFsnU29jaWFsRGF0YVNlcnZpY2UnLCB0cnVlXSxcbiAgICBHZXRUYWdUZXJtczogWydTb2NpYWxEYXRhU2VydmljZScsIHRydWVdLFxuICAgIEdldFRhZ1Rlcm1zT2ZVc2VyOiBbJ1NvY2lhbERhdGFTZXJ2aWNlJywgdHJ1ZV0sXG4gICAgR2V0VGFnVGVybXNPblVybDogWydTb2NpYWxEYXRhU2VydmljZScsIHRydWVdLFxuICAgIEdldFRhZ1VybHNPZlVzZXI6IFsnU29jaWFsRGF0YVNlcnZpY2UnLCB0cnVlXSxcbiAgICBHZXRUYWdVcmxzT2ZVc2VyQnlLZXl3b3JkOiBbJ1NvY2lhbERhdGFTZXJ2aWNlJywgdHJ1ZV0sXG4gICAgR2V0VGFnVXJsczogWydTb2NpYWxEYXRhU2VydmljZScsIHRydWVdLFxuICAgIEdldFRhZ1VybHNCeUtleXdvcmQ6IFsnU29jaWFsRGF0YVNlcnZpY2UnLCB0cnVlXSxcbiAgICBTZXRSYXRpbmc6IFsnU29jaWFsRGF0YVNlcnZpY2UnLCB0cnVlXSxcbiAgICBVcGRhdGVDb21tZW50OiBbJ1NvY2lhbERhdGFTZXJ2aWNlJywgdHJ1ZV0sXG4gICAgU3BlbGxDaGVjazogWydTcGVsbENoZWNrJywgZmFsc2VdLFxuICAgIEFkZFRlcm1zOiBbJ1RheG9ub215Q2xpZW50U2VydmljZScsIHRydWVdLFxuICAgIEdldENoaWxkVGVybXNJblRlcm06IFsnVGF4b25vbXlDbGllbnRTZXJ2aWNlJywgZmFsc2VdLFxuICAgIEdldENoaWxkVGVybXNJblRlcm1TZXQ6IFsnVGF4b25vbXlDbGllbnRTZXJ2aWNlJywgZmFsc2VdLFxuICAgIEdldEtleXdvcmRUZXJtc0J5R3VpZHM6IFsnVGF4b25vbXlDbGllbnRTZXJ2aWNlJywgZmFsc2VdLFxuICAgIEdldFRlcm1zQnlMYWJlbDogWydUYXhvbm9teUNsaWVudFNlcnZpY2UnLCBmYWxzZV0sXG4gICAgR2V0VGVybVNldHM6IFsnVGF4b25vbXlDbGllbnRTZXJ2aWNlJywgZmFsc2VdLFxuICAgIEFkZEdyb3VwOiBbJ3VzZXJncm91cCcsIHRydWVdLFxuICAgIEFkZEdyb3VwVG9Sb2xlOiBbJ3VzZXJncm91cCcsIHRydWVdLFxuICAgIEFkZFJvbGU6IFsndXNlcmdyb3VwJywgdHJ1ZV0sXG4gICAgQWRkUm9sZURlZjogWyd1c2VyZ3JvdXAnLCB0cnVlXSxcbiAgICBBZGRVc2VyQ29sbGVjdGlvblRvR3JvdXA6IFsndXNlcmdyb3VwJywgdHJ1ZV0sXG4gICAgQWRkVXNlckNvbGxlY3Rpb25Ub1JvbGU6IFsndXNlcmdyb3VwJywgdHJ1ZV0sXG4gICAgQWRkVXNlclRvR3JvdXA6IFsndXNlcmdyb3VwJywgdHJ1ZV0sXG4gICAgQWRkVXNlclRvUm9sZTogWyd1c2VyZ3JvdXAnLCB0cnVlXSxcbiAgICBHZXRBbGxVc2VyQ29sbGVjdGlvbkZyb21XZWI6IFsndXNlcmdyb3VwJywgZmFsc2VdLFxuICAgIEdldEdyb3VwQ29sbGVjdGlvbjogWyd1c2VyZ3JvdXAnLCBmYWxzZV0sXG4gICAgR2V0R3JvdXBDb2xsZWN0aW9uRnJvbVJvbGU6IFsndXNlcmdyb3VwJywgZmFsc2VdLFxuICAgIEdldEdyb3VwQ29sbGVjdGlvbkZyb21TaXRlOiBbJ3VzZXJncm91cCcsIGZhbHNlXSxcbiAgICBHZXRHcm91cENvbGxlY3Rpb25Gcm9tVXNlcjogWyd1c2VyZ3JvdXAnLCBmYWxzZV0sXG4gICAgR2V0R3JvdXBDb2xsZWN0aW9uRnJvbVdlYjogWyd1c2VyZ3JvdXAnLCBmYWxzZV0sXG4gICAgR2V0R3JvdXBJbmZvOiBbJ3VzZXJncm91cCcsIGZhbHNlXSxcbiAgICBHZXRSb2xlQ29sbGVjdGlvbjogWyd1c2VyZ3JvdXAnLCBmYWxzZV0sXG4gICAgR2V0Um9sZUNvbGxlY3Rpb25Gcm9tR3JvdXA6IFsndXNlcmdyb3VwJywgZmFsc2VdLFxuICAgIEdldFJvbGVDb2xsZWN0aW9uRnJvbVVzZXI6IFsndXNlcmdyb3VwJywgZmFsc2VdLFxuICAgIEdldFJvbGVDb2xsZWN0aW9uRnJvbVdlYjogWyd1c2VyZ3JvdXAnLCBmYWxzZV0sXG4gICAgR2V0Um9sZUluZm86IFsndXNlcmdyb3VwJywgZmFsc2VdLFxuICAgIEdldFJvbGVzQW5kUGVybWlzc2lvbnNGb3JDdXJyZW50VXNlcjogWyd1c2VyZ3JvdXAnLCBmYWxzZV0sXG4gICAgR2V0Um9sZXNBbmRQZXJtaXNzaW9uc0ZvclNpdGU6IFsndXNlcmdyb3VwJywgZmFsc2VdLFxuICAgIEdldFVzZXJDb2xsZWN0aW9uOiBbJ3VzZXJncm91cCcsIGZhbHNlXSxcbiAgICBHZXRVc2VyQ29sbGVjdGlvbkZyb21Hcm91cDogWyd1c2VyZ3JvdXAnLCBmYWxzZV0sXG4gICAgR2V0VXNlckNvbGxlY3Rpb25Gcm9tUm9sZTogWyd1c2VyZ3JvdXAnLCBmYWxzZV0sXG4gICAgR2V0VXNlckNvbGxlY3Rpb25Gcm9tU2l0ZTogWyd1c2VyZ3JvdXAnLCBmYWxzZV0sXG4gICAgR2V0VXNlckNvbGxlY3Rpb25Gcm9tV2ViOiBbJ3VzZXJncm91cCcsIGZhbHNlXSxcbiAgICBHZXRVc2VySW5mbzogWyd1c2VyZ3JvdXAnLCBmYWxzZV0sXG4gICAgR2V0VXNlckxvZ2luRnJvbUVtYWlsOiBbJ3VzZXJncm91cCcsIGZhbHNlXSxcbiAgICBSZW1vdmVHcm91cDogWyd1c2VyZ3JvdXAnLCB0cnVlXSxcbiAgICBSZW1vdmVHcm91cEZyb21Sb2xlOiBbJ3VzZXJncm91cCcsIHRydWVdLFxuICAgIFJlbW92ZVJvbGU6IFsndXNlcmdyb3VwJywgdHJ1ZV0sXG4gICAgUmVtb3ZlVXNlckNvbGxlY3Rpb25Gcm9tR3JvdXA6IFsndXNlcmdyb3VwJywgdHJ1ZV0sXG4gICAgUmVtb3ZlVXNlckNvbGxlY3Rpb25Gcm9tUm9sZTogWyd1c2VyZ3JvdXAnLCB0cnVlXSxcbiAgICBSZW1vdmVVc2VyQ29sbGVjdGlvbkZyb21TaXRlOiBbJ3VzZXJncm91cCcsIHRydWVdLFxuICAgIFJlbW92ZVVzZXJGcm9tR3JvdXA6IFsndXNlcmdyb3VwJywgdHJ1ZV0sXG4gICAgUmVtb3ZlVXNlckZyb21Sb2xlOiBbJ3VzZXJncm91cCcsIHRydWVdLFxuICAgIFJlbW92ZVVzZXJGcm9tU2l0ZTogWyd1c2VyZ3JvdXAnLCB0cnVlXSxcbiAgICBSZW1vdmVVc2VyRnJvbVdlYjogWyd1c2VyZ3JvdXAnLCB0cnVlXSxcbiAgICBVcGRhdGVHcm91cEluZm86IFsndXNlcmdyb3VwJywgdHJ1ZV0sXG4gICAgVXBkYXRlUm9sZURlZkluZm86IFsndXNlcmdyb3VwJywgdHJ1ZV0sXG4gICAgVXBkYXRlUm9sZUluZm86IFsndXNlcmdyb3VwJywgdHJ1ZV0sXG4gICAgVXBkYXRlVXNlckluZm86IFsndXNlcmdyb3VwJywgdHJ1ZV0sXG4gICAgQWRkQ29sbGVhZ3VlOiBbJ1VzZXJQcm9maWxlU2VydmljZScsIHRydWVdLFxuICAgIEFkZExpbms6IFsnVXNlclByb2ZpbGVTZXJ2aWNlJywgdHJ1ZV0sXG4gICAgQWRkTWVtYmVyc2hpcDogWydVc2VyUHJvZmlsZVNlcnZpY2UnLCB0cnVlXSxcbiAgICBBZGRQaW5uZWRMaW5rOiBbJ1VzZXJQcm9maWxlU2VydmljZScsIHRydWVdLFxuICAgIENyZWF0ZU1lbWJlckdyb3VwOiBbJ1VzZXJQcm9maWxlU2VydmljZScsIHRydWVdLFxuICAgIENyZWF0ZVVzZXJQcm9maWxlQnlBY2NvdW50TmFtZTogWydVc2VyUHJvZmlsZVNlcnZpY2UnLCB0cnVlXSxcbiAgICBHZXRDb21tb25Db2xsZWFndWVzOiBbJ1VzZXJQcm9maWxlU2VydmljZScsIGZhbHNlXSxcbiAgICBHZXRDb21tb25NYW5hZ2VyOiBbJ1VzZXJQcm9maWxlU2VydmljZScsIGZhbHNlXSxcbiAgICBHZXRDb21tb25NZW1iZXJzaGlwczogWydVc2VyUHJvZmlsZVNlcnZpY2UnLCBmYWxzZV0sXG4gICAgR2V0SW5Db21tb246IFsnVXNlclByb2ZpbGVTZXJ2aWNlJywgZmFsc2VdLFxuICAgIEdldFByb3BlcnR5Q2hvaWNlTGlzdDogWydVc2VyUHJvZmlsZVNlcnZpY2UnLCBmYWxzZV0sXG4gICAgR2V0VXNlckNvbGxlYWd1ZXM6IFsnVXNlclByb2ZpbGVTZXJ2aWNlJywgZmFsc2VdLFxuICAgIEdldFVzZXJMaW5rczogWydVc2VyUHJvZmlsZVNlcnZpY2UnLCBmYWxzZV0sXG4gICAgR2V0VXNlck1lbWJlcnNoaXBzOiBbJ1VzZXJQcm9maWxlU2VydmljZScsIGZhbHNlXSxcbiAgICBHZXRVc2VyUGlubmVkTGlua3M6IFsnVXNlclByb2ZpbGVTZXJ2aWNlJywgZmFsc2VdLFxuICAgIEdldFVzZXJQcm9maWxlQnlHdWlkOiBbJ1VzZXJQcm9maWxlU2VydmljZScsIGZhbHNlXSxcbiAgICBHZXRVc2VyUHJvZmlsZUJ5SW5kZXg6IFsnVXNlclByb2ZpbGVTZXJ2aWNlJywgZmFsc2VdLFxuICAgIEdldFVzZXJQcm9maWxlQnlOYW1lOiBbJ1VzZXJQcm9maWxlU2VydmljZScsIGZhbHNlXSxcbiAgICBHZXRVc2VyUHJvZmlsZUNvdW50OiBbJ1VzZXJQcm9maWxlU2VydmljZScsIGZhbHNlXSxcbiAgICBHZXRVc2VyUHJvZmlsZVNjaGVtYTogWydVc2VyUHJvZmlsZVNlcnZpY2UnLCBmYWxzZV0sXG4gICAgR2V0VXNlclByb3BlcnR5QnlBY2NvdW50TmFtZTogWydVc2VyUHJvZmlsZVNlcnZpY2UnLCBmYWxzZV0sXG4gICAgTW9kaWZ5VXNlclByb3BlcnR5QnlBY2NvdW50TmFtZTogWydVc2VyUHJvZmlsZVNlcnZpY2UnLCB0cnVlXSxcbiAgICBSZW1vdmVBbGxDb2xsZWFndWVzOiBbJ1VzZXJQcm9maWxlU2VydmljZScsIHRydWVdLFxuICAgIFJlbW92ZUFsbExpbmtzOiBbJ1VzZXJQcm9maWxlU2VydmljZScsIHRydWVdLFxuICAgIFJlbW92ZUFsbE1lbWJlcnNoaXBzOiBbJ1VzZXJQcm9maWxlU2VydmljZScsIHRydWVdLFxuICAgIFJlbW92ZUFsbFBpbm5lZExpbmtzOiBbJ1VzZXJQcm9maWxlU2VydmljZScsIHRydWVdLFxuICAgIFJlbW92ZUNvbGxlYWd1ZTogWydVc2VyUHJvZmlsZVNlcnZpY2UnLCB0cnVlXSxcbiAgICBSZW1vdmVMaW5rOiBbJ1VzZXJQcm9maWxlU2VydmljZScsIHRydWVdLFxuICAgIFJlbW92ZU1lbWJlcnNoaXA6IFsnVXNlclByb2ZpbGVTZXJ2aWNlJywgdHJ1ZV0sXG4gICAgUmVtb3ZlUGlubmVkTGluazogWydVc2VyUHJvZmlsZVNlcnZpY2UnLCB0cnVlXSxcbiAgICBVcGRhdGVDb2xsZWFndWVQcml2YWN5OiBbJ1VzZXJQcm9maWxlU2VydmljZScsIHRydWVdLFxuICAgIFVwZGF0ZUxpbms6IFsnVXNlclByb2ZpbGVTZXJ2aWNlJywgdHJ1ZV0sXG4gICAgVXBkYXRlTWVtYmVyc2hpcFByaXZhY3k6IFsnVXNlclByb2ZpbGVTZXJ2aWNlJywgdHJ1ZV0sXG4gICAgVXBkYXRlUGlubmVkTGluazogWydVc2VyUHJvZmlsZVNlcnZpY2UnLCB0cnVlXSxcbiAgICBEZWxldGVBbGxWZXJzaW9uczogWydWZXJzaW9ucycsIHRydWVdLFxuICAgIERlbGV0ZVZlcnNpb246IFsnVmVyc2lvbnMnLCB0cnVlXSxcbiAgICBHZXRWZXJzaW9uczogWydWZXJzaW9ucycsIGZhbHNlXSxcbiAgICBSZXN0b3JlVmVyc2lvbjogWydWZXJzaW9ucycsIHRydWVdLFxuICAgIEFkZFZpZXc6IFsnVmlld3MnLCB0cnVlXSxcbiAgICBEZWxldGVWaWV3OiBbJ1ZpZXdzJywgdHJ1ZV0sXG4gICAgR2V0VmlldzogWydWaWV3cycsIGZhbHNlXSxcbiAgICBHZXRWaWV3SHRtbDogWydWaWV3cycsIGZhbHNlXSxcbiAgICBHZXRWaWV3Q29sbGVjdGlvbjogWydWaWV3cycsIGZhbHNlXSxcbiAgICBVcGRhdGVWaWV3OiBbJ1ZpZXdzJywgdHJ1ZV0sXG4gICAgVXBkYXRlVmlld0h0bWw6IFsnVmlld3MnLCB0cnVlXSxcbiAgICBBZGRXZWJQYXJ0OiBbJ1dlYlBhcnRQYWdlcycsIHRydWVdLFxuICAgIEFkZFdlYlBhcnRUb1pvbmU6IFsnV2ViUGFydFBhZ2VzJywgdHJ1ZV0sXG4gICAgR2V0V2ViUGFydDI6IFsnV2ViUGFydFBhZ2VzJywgZmFsc2VdLFxuICAgIEdldFdlYlBhcnRQYWdlOiBbJ1dlYlBhcnRQYWdlcycsIGZhbHNlXSxcbiAgICBHZXRXZWJQYXJ0UHJvcGVydGllczogWydXZWJQYXJ0UGFnZXMnLCBmYWxzZV0sXG4gICAgR2V0V2ViUGFydFByb3BlcnRpZXMyOiBbJ1dlYlBhcnRQYWdlcycsIGZhbHNlXSxcbiAgICBHZXRDb2x1bW5zOiBbJ1dlYnMnLCBmYWxzZV0sXG4gICAgR2V0Q29udGVudFR5cGU6IFsnV2VicycsIGZhbHNlXSxcbiAgICBHZXRDb250ZW50VHlwZXM6IFsnV2VicycsIGZhbHNlXSxcbiAgICBHZXRDdXN0b21pemVkUGFnZVN0YXR1czogWydXZWJzJywgZmFsc2VdLFxuICAgIEdldExpc3RUZW1wbGF0ZXM6IFsnV2VicycsIGZhbHNlXSxcbiAgICBHZXRPYmplY3RJZEZyb21Vcmw6IFsnV2VicycsIGZhbHNlXSxcbiAgICBHZXRXZWI6IFsnV2VicycsIGZhbHNlXSxcbiAgICBHZXRXZWJDb2xsZWN0aW9uOiBbJ1dlYnMnLCBmYWxzZV0sXG4gICAgR2V0QWxsU3ViV2ViQ29sbGVjdGlvbjogWydXZWJzJywgZmFsc2VdLFxuICAgIFVwZGF0ZUNvbHVtbnM6IFsnV2VicycsIHRydWVdLFxuICAgIFdlYlVybEZyb21QYWdlVXJsOiBbJ1dlYnMnLCBmYWxzZV0sXG4gICAgQWx0ZXJUb0RvOiBbJ1dvcmtmbG93JywgdHJ1ZV0sXG4gICAgQ2xhaW1SZWxlYXNlVGFzazogWydXb3JrZmxvdycsIHRydWVdLFxuICAgIEdldFRlbXBsYXRlc0Zvckl0ZW06IFsnV29ya2Zsb3cnLCBmYWxzZV0sXG4gICAgR2V0VG9Eb3NGb3JJdGVtOiBbJ1dvcmtmbG93JywgZmFsc2VdLFxuICAgIEdldFdvcmtmbG93RGF0YUZvckl0ZW06IFsnV29ya2Zsb3cnLCBmYWxzZV0sXG4gICAgR2V0V29ya2Zsb3dUYXNrRGF0YTogWydXb3JrZmxvdycsIGZhbHNlXSxcbiAgICBTdGFydFdvcmtmbG93OiBbJ1dvcmtmbG93JywgdHJ1ZV1cbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXIhLi9zcmMvY29uc3RhbnRzL2FwV2ViU2VydmljZU9wZXJhdGlvbkNvbnN0YW50cy50cyIsImltcG9ydCAqIGFzIF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCB7TGlzdEl0ZW19IGZyb20gJy4vYXBMaXN0SXRlbUZhY3RvcnknO1xuXG5leHBvcnQgaW50ZXJmYWNlIElVbmluc3RhbnRpYXRlZEluZGV4Q2FjaGU8VD4ge1xuICAgIFtrZXk6IHN0cmluZ106IFQ7XG59XG5cbi8qKlxuICogQG5nZG9jIG9iamVjdFxuICogQG5hbWUgSW5kZXhlZENhY2hlXG4gKiBAZGVzY3JpcHRpb25cbiAqIEF0dGVtcHRzIHRvIGJlIHZlcnkgc2ltaWxhciB0byB0aGUgRVM2IE1hcCBpbnN0YW5jZS4gIENhY2hlIGNvbnN0cnVjdG9yIHRoYXQgaXMgZXh0ZW5kZWQgdG8gbWFrZSBpdCBlYXNpZXIgdG8gd29yayB3aXRoXG4gKiB2aWEgcHJvdG90eXBlIG1ldGhvZHMuICBMb2NhdGVkIGluIGFwSW5kZXhlZENhY2hlRmFjdG9yeS5cbiAqIEBwYXJhbSB7b2JqZWN0fSBbb2JqZWN0XSBPcHRpb25hbGx5IGV4dGVuZCBuZXcgY2FjaGUgd2l0aCBwcm92aWRlZCBvYmplY3QuXG4gKiBAcmVxdWlyZXMgYW5ndWxhclBvaW50LmFwSW5kZXhlZENhY2hlRmFjdG9yeVxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmV4cG9ydCBjbGFzcyBJbmRleGVkQ2FjaGU8VCBleHRlbmRzIExpc3RJdGVtPGFueT4+IHtcbiAgICAvL09iamVjdCB3aXRoIGtleXMgZXF1YWxpbmcgSUQgYW5kIHZhbHVlcyBiZWluZyB0aGUgaW5kaXZpZHVhbCBsaXN0IGl0ZW1cbiAgICBba2V5OiBzdHJpbmddOiBhbnk7XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgcHJvcGVydHlcbiAgICAgKiBAbmFtZSBJbmRleGVkQ2FjaGUuc2l6ZVxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFJldHVybnMgdGhlIG51bWJlciBvZiBrZXkvdmFsdWUgcGFpcnMgaW4gdGhlIE1hcCBvYmplY3QuICBTaW1pbGFyIHRvIGZ1bmN0aW9uYWxpdHkgaW4gRVM2IE1hcCBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBzaXplOiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihvYmplY3Q/OiBJVW5pbnN0YW50aWF0ZWRJbmRleENhY2hlPFQ+KSB7XG4gICAgICAgIGlmIChvYmplY3QpIHtcbiAgICAgICAgICAgIF8uYXNzaWduKHRoaXMsIG9iamVjdCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBJbmRleGVkQ2FjaGUuY2xlYXJcbiAgICAgKiBAbWV0aG9kT2YgSW5kZXhlZENhY2hlXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogQ2xlYXJzIGFsbCBjYWNoZWQgKGVudW1lcmFibGUpIGVsZW1lbnRzIGZyb20gdGhlIGNvbnRhaW5pbmcgY2FjaGUgb2JqZWN0LlxuICAgICAqL1xuICAgIGNsZWFyKCk6IHZvaWQge1xuICAgICAgICBfLmVhY2godGhpcy5rZXlzKCksIChrZXk6IHN0cmluZykgPT4gdGhpcy5kZWxldGUoa2V5KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgSW5kZXhlZENhY2hlLmRlbGV0ZVxuICAgICAqIEBtZXRob2RPZiBJbmRleGVkQ2FjaGVcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBSZW1vdmVzIGFueSB2YWx1ZSBhc3NvY2lhdGVkIHRvIHRoZSBrZXkgYW5kIHJldHVybnMgdGhlIHZhbHVlIHRoYXQgSW5kZXhlZENhY2hlLmhhcyh2YWx1ZSkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGlkIElEIG9mIGxpc3RJdGVtIHRvIGJlIHJlbW92ZWQuXG4gICAgICovXG4gICAgZGVsZXRlKGlkOiBudW1iZXIgfCBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgbGV0IGhhc1ZhbHVlID0gdGhpcy5oYXMoaWQpO1xuICAgICAgICBpZiAoaWQgJiYgaGFzVmFsdWUpIHtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzW2lkXTtcbiAgICAgICAgfSBlbHNlIGlmICghXy5pc051bWJlcihpZCkgJiYgIV8uaXNTdHJpbmcoaWQpKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ0EgdmFsaWQgSUQgd2FzIG5vdCBwcm92aWRlZC4nKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGFzVmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgSW5kZXhlZENhY2hlLmZpcnN0XG4gICAgICogQG1ldGhvZE9mIEluZGV4ZWRDYWNoZVxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFJldHVybnMgdGhlIGZpcnN0IGxpc3RJdGVtIGluIHRoZSBpbmRleCAoc21hbGxlc3QgSUQpLlxuICAgICAqIEByZXR1cm5zIHtvYmplY3R9IEZpcnN0IGxpc3RJdGVtIGluIGNhY2hlIG9yIHVuZGVmaW5lZCBpZiBlbXB0eS5cbiAgICAgKi9cbiAgICBmaXJzdCgpOiBUIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubnRoRW50aXR5KDApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIEluZGV4ZWRDYWNoZS5nZXRcbiAgICAgKiBAbWV0aG9kT2YgSW5kZXhlZENhY2hlXG4gICAgICogQHJldHVybnMge1R9IFJldHVybnMgdGhlIHZhbHVlIGFzc29jaWF0ZWQgdG8gdGhlIGtleSwgb3IgdW5kZWZpbmVkIGlmIHRoZXJlIGlzIG5vbmUuXG4gICAgICovXG4gICAgZ2V0KGlkOiBudW1iZXIpOiBUIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbaWRdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIEluZGV4ZWRDYWNoZS5oYXNcbiAgICAgKiBAbWV0aG9kT2YgSW5kZXhlZENhY2hlXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogRGV0ZXJtaW5lcyBpZiBhbiBlbnRpdHkgZXhpc3RzIGluIHRoZSBjYWNoZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaWQgVGhlIGlkIG9mIHRoZSByZXF1ZXN0ZWQgbGlzdCBpdGVtLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGEgQm9vbGVhbiBhc3NlcnRpbmcgd2hldGhlciBhIHZhbHVlIGhhcyBiZWVuIGFzc29jaWF0ZWQgdG8gdGhlIGtleSBjYWNoZS5cbiAgICAgKi9cbiAgICBoYXMoaWQ6IG51bWJlciB8IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gISF0aGlzW2lkXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBJbmRleGVkQ2FjaGUua2V5c1xuICAgICAqIEBtZXRob2RPZiBJbmRleGVkQ2FjaGVcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBSZXR1cm5zIHRoZSBhcnJheSBvZiBlbnVtZXJhYmxlIGtleXMgKGxpc3RJdGVtIElEJ3MpIGZvciB0aGUgY2FjaGUuXG4gICAgICogQHJldHVybnMge3N0cmluZ1tdfSBBcnJheSBvZiBsaXN0SXRlbSBpZCdzIGFzIHN0cmluZ3MuXG4gICAgICovXG4gICAga2V5cygpOiBzdHJpbmdbXSB7XG4gICAgICAgIHJldHVybiBPYmplY3Qua2V5cyh0aGlzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBJbmRleGVkQ2FjaGUubGFzdFxuICAgICAqIEBtZXRob2RPZiBJbmRleGVkQ2FjaGVcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBSZXR1cm5zIHRoZSBsYXN0IGxpc3RJdGVtIGluIHRoZSBpbmRleCAobGFyZ2VzdCBJRCkuXG4gICAgICogQHJldHVybnMge29iamVjdH0gTGFzdCBsaXN0SXRlbSBpbiBjYWNoZS5cbiAgICAgKi9cbiAgICBsYXN0KCk6IFQge1xuICAgICAgICB2YXIga2V5cyA9IHRoaXMua2V5cygpO1xuICAgICAgICByZXR1cm4gdGhpc1trZXlzW2tleXMubGVuZ3RoIC0gMV1dO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIEluZGV4ZWRDYWNoZS5udGhFbnRpdHlcbiAgICAgKiBAbWV0aG9kT2YgSW5kZXhlZENhY2hlXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogQmFzZWQgb24gdGhlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IFRoZSBpbmRleCBvZiB0aGUgaXRlbSByZXF1ZXN0ZWQuXG4gICAgICogQHJldHVybnMge29iamVjdH0gRmlyc3QgbGlzdEl0ZW0gaW4gY2FjaGUuXG4gICAgICovXG4gICAgbnRoRW50aXR5KGluZGV4OiBudW1iZXIpOiBUIHtcbiAgICAgICAgdmFyIGtleXMgPSB0aGlzLmtleXMoKTtcbiAgICAgICAgcmV0dXJuIHRoaXNba2V5c1tpbmRleF1dO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIEluZGV4ZWRDYWNoZS5zZXRcbiAgICAgKiBAbWV0aG9kT2YgSW5kZXhlZENhY2hlXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogQWRkcyBhIG5ldyBrZXkgdG8gdGhlIGNhY2hlIGlmIG5vdCBhbHJlYWR5IHRoZXJlIHdpdGggYSB2YWx1ZSBvZiB0aGUgbmV3IGxpc3RJdGVtLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBrZXkgRW50aXR5IHRvIGFkZCB0byB0aGUgY2FjaGUuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGxpc3RJdGVtIEVudGl0eSB0byBhZGQgdG8gdGhlIGNhY2hlLlxuICAgICAqL1xuICAgIHNldChrZXk6IG51bWJlciwgbGlzdEl0ZW06IFQpOiBJbmRleGVkQ2FjaGU8VD4ge1xuICAgICAgICBpZiAoXy5pc051bWJlcihrZXkpICYmIF8uaXNPYmplY3QobGlzdEl0ZW0pKSB7XG4gICAgICAgICAgICAvKiogT25seSBhZGQgdGhlIGxpc3RJdGVtIHRvIHRoZSBjYWNoZSBpZiBpdCdzIG5vdCBhbHJlYWR5IHRoZXJlICovXG4gICAgICAgICAgICBpZiAoIXRoaXMuaGFzKGxpc3RJdGVtLmlkKSkge1xuICAgICAgICAgICAgICAgIHRoaXNba2V5XSA9IGxpc3RJdGVtO1xuICAgICAgICAgICAgLy8gfSBlbHNlIHtcbiAgICAgICAgICAgIC8vICAgICBsZXQgY2FjaGVkT2JqZWN0RGlmZmVyc0Zyb21MaXN0SXRlbSA9IHRoaXMuZ2V0KGtleSkgIT09IGxpc3RJdGVtO1xuICAgICAgICAgICAgLy8gICAgIGlmIChjYWNoZWRPYmplY3REaWZmZXJzRnJvbUxpc3RJdGVtKSB7XG4gICAgICAgICAgICAvLyAgICAgICAgIGNvbnNvbGUud2FybignTGlzdCBpdGVtIGFscmVhZHkgZXhpc3RzIGluIGNhY2hlIGFuZCBkaWZmZXJzIGZyb20gdGhpcyBsaXN0IGl0ZW0uJywgbGlzdEl0ZW0sIHRoaXMuZ2V0KGtleSksIHRoaXMpO1xuICAgICAgICAgICAgLy8gICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQSB2YWxpZCBsaXN0SXRlbSB3YXNuXFwndCBwcm92aWRlZDogJyArIEpTT04uc3RyaW5naWZ5KGxpc3RJdGVtLCBudWxsLCAyKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG1ldGhvZE9mIEluZGV4ZWRDYWNoZVxuICAgICAqIEBuYW1lIEluZGV4ZWRDYWNoZS50b0FycmF5XG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogVHVybnMgdGhlIGNhY2hlIG9iamVjdCBpbnRvIGFuIGFycmF5IG9mIGVudGl0aWVzLiAgVXNlcyBJbmRleGVkQ2FjaGUudmFsdWVzKCkgYW5kIGlzIGEgdGVtcCBmaXggdG8gZ2V0XG4gICAgICogYW4gYXJyYXkgb2Ygb2JqZWN0cyB1bnRpbCBNYXAgaXMgZnVsbHkgc3VwcG9ydGVkLlxuICAgICAqIEByZXR1cm5zIHtvYmplY3RbXX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgZW50aXRpZXMgY3VycmVudGx5IGluIHRoZSBjYWNoZS5cbiAgICAgKi9cbiAgICB0b0FycmF5KCk6IFRbXSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZhbHVlcygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIEluZGV4ZWRDYWNoZS52YWx1ZXNcbiAgICAgKiBAbWV0aG9kT2YgSW5kZXhlZENhY2hlXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogVHVybnMgdGhlIGNhY2hlIG9iamVjdCBpbnRvIGFuIGFycmF5IG9mIGVudGl0aWVzIHNpbWlsYXIgdG8gdGhlIG1ldGhvZCBvbiBNdmFsdWVzKCkuICBVbmxpa2VcbiAgICAgKiB0aGUgbWV0aG9kIG9uIE1hcCB0aG91Z2ggdGhpcyBkb2VzIG5vdCByZXR1cm4gdGhlIG9iamVjdHMgaW4gaW5zZXJ0aW9uIG9yZGVyLlxuICAgICAqIEByZXR1cm5zIHtJbmRleGVkQ2FjaGU8VD5bXX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgZW50aXRpZXMgY3VycmVudGx5IGluIHRoZSBjYWNoZS5cbiAgICAgKi9cbiAgICB2YWx1ZXMoKTogVFtdIHtcbiAgICAgICAgcmV0dXJuIF8udG9BcnJheTxJbmRleGVkQ2FjaGU8VD4sIFQ+KHRoaXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBtZXRob2RPZiBJbmRleGVkQ2FjaGVcbiAgICAgKiBAZGVwcmVjYXRlZFxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIERFUFJFQ0FURUQgQU5EIFdJTEwgQkUgUkVNT1ZFRCEgIFVzZSBJbmRleGVkQ2FjaGUuc2V0IGluc3RlYWQuXG4gICAgICogQWRkcyBhIG5ldyBrZXkgdG8gdGhlIGNhY2hlIGlmIG5vdCBhbHJlYWR5IHRoZXJlIHdpdGggYSB2YWx1ZSBvZiB0aGUgbmV3IGxpc3RJdGVtLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBsaXN0SXRlbSBFbnRpdHkgdG8gYWRkIHRvIHRoZSBjYWNoZS5cbiAgICAgKi9cbiAgICBwcml2YXRlIGFkZEVudGl0eShsaXN0SXRlbTogVCk6IHZvaWQge1xuICAgICAgICBjb25zb2xlLndhcm4oJ0RFUFJFQ0FURUQgTUVUSE9EIS4gIGFkZEVudGl0eSBtZXRob2QgZGVwcmVjaXRlZC4gIFBsZWFzZSB1c2UgdGhlIHNldCBtZXRob2QgaW4gdGhlIGZ1dHVyZSB0byBjb21wbHkgd2l0aCBFUzYgTWFwIG9iamVjdC4nKTtcbiAgICAgICAgdGhpcy5zZXQobGlzdEl0ZW0uaWQsIGxpc3RJdGVtKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBJbmRleGVkQ2FjaGUuY291bnRcbiAgICAgKiBAbWV0aG9kT2YgSW5kZXhlZENhY2hlXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogUmV0dXJucyB0aGUgbnVtYmVyIG9mIGVudGl0aWVzIGluIHRoZSBjYWNoZS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBOdW1iZXIgb2YgZW50aXRpZXMgaW4gdGhlIGNhY2hlLlxuICAgICAqL1xuICAgIHByaXZhdGUgY291bnQoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMua2V5cygpLmxlbmd0aDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbWV0aG9kT2YgSW5kZXhlZENhY2hlXG4gICAgICogQGRlcHJlY2F0ZWRcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBERVBSRUNBVEVEIEFORCBXSUxMIEJFIFJFTU9WRUQhIFVzZSBJbmRleGVkQ2FjaGUuZGVsZXRlIGluc3RlYWQgb2YgcmVtb3ZlRW50aXR5QnlJZC5cbiAgICAgKiBSZW1vdmVzIGEgbGlzdEl0ZW0gZnJvbSB0aGUgY2FjaGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGlkIElEIG9mIGxpc3RJdGVtIHRvIGJlIHJlbW92ZWQuXG4gICAgICovXG4gICAgcHJpdmF0ZSByZW1vdmVFbnRpdHlCeUlkKGlkOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdERVBSRUNBVEVEIE1FVEhPRCEgVXNlIEluZGV4ZWRDYWNoZS5kZWxldGUoKSBpbnN0ZWFkIG9mIHJlbW92ZUVudGl0eUJ5SWQoKS4nKTtcbiAgICAgICAgdGhpcy5kZWxldGUoaWQpO1xuICAgIH1cblxufVxuXG4vKiogQWRkcyBhIGdldHRlciB0byBiYXNlIHByb3RvdHlwZSB3aWNoIHJldHVybnMgIHRoZSBudW1iZXIgb2Yga2V5L3ZhbHVlcyBzdG9yZWQgaW4gY2FjaGUuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoSW5kZXhlZENhY2hlLnByb3RvdHlwZSwgXCJzaXplXCIsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY291bnQoKTtcbiAgICB9LFxuICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgIGNvbmZpZ3VyYWJsZTogZmFsc2Vcbn0pO1xuXG5cbi8qKlxuICogQG5nZG9jIG9iamVjdFxuICogQG5hbWUgYW5ndWxhclBvaW50LmFwSW5kZXhlZENhY2hlRmFjdG9yeVxuICogQGRlc2NyaXB0aW9uXG4gKiBFeHBvc2VzIHRoZSBFbnRpdHlGYWN0b3J5IHByb3RvdHlwZSBhbmQgYSBjb25zdHJ1Y3RvciB0byBpbnN0YW50aWF0ZSBhIG5ldyBFbnRpdHkgRmFjdG9yeSBpbiBhcENhY2hlU2VydmljZS5cbiAqL1xuZXhwb3J0IGNsYXNzIEluZGV4ZWRDYWNoZUZhY3Rvcnkge1xuICAgIEluZGV4ZWRDYWNoZSA9IEluZGV4ZWRDYWNoZTtcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcEluZGV4ZWRDYWNoZUZhY3Rvcnk6Y3JlYXRlXG4gICAgICogQG1ldGhvZE9mIGFuZ3VsYXJQb2ludC5hcEluZGV4ZWRDYWNoZUZhY3RvcnlcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBJbnN0YW50aWF0ZXMgYW5kIHJldHVybnMgYSBuZXcgSW5kZXhlZCBDYWNoZS5ncnVudFxuICAgICAqL1xuICAgIGNyZWF0ZTxUIGV4dGVuZHMgTGlzdEl0ZW08YW55Pj4ob3ZlcnJpZGVzPzogSVVuaW5zdGFudGlhdGVkSW5kZXhDYWNoZTxUPik6IEluZGV4ZWRDYWNoZTxUPiB7XG4gICAgICAgIHJldHVybiBuZXcgSW5kZXhlZENhY2hlPFQ+KG92ZXJyaWRlcyk7XG4gICAgfVxuXG5cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlciEuL3NyYy9mYWN0b3JpZXMvYXBJbmRleGVkQ2FjaGVGYWN0b3J5LnRzIiwiaW1wb3J0ICogYXMgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IHtMaXN0SXRlbX0gZnJvbSAnLi9hcExpc3RJdGVtRmFjdG9yeSc7XG5pbXBvcnQge0lVc2VyfSBmcm9tICcuL2FwVXNlckZhY3RvcnknO1xuaW1wb3J0IHtJRmllbGREZWZpbml0aW9uLCBJRmllbGRDb25maWd1cmF0aW9uT2JqZWN0fSBmcm9tICcuL2FwRmllbGRGYWN0b3J5JztcbmltcG9ydCB7SU1vZGVsRmFjdG9yeX0gZnJvbSAnLi9hcE1vZGVsRmFjdG9yeSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUxpc3RJdGVtVmVyc2lvbnM8VCBleHRlbmRzIExpc3RJdGVtPGFueT4+IGV4dGVuZHMgTGlzdEl0ZW08VD4ge1xuICAgIFtrZXk6IG51bWJlcl06IElMaXN0SXRlbVZlcnNpb248VD47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUxpc3RJdGVtVmVyc2lvbjxUIGV4dGVuZHMgTGlzdEl0ZW08YW55Pj4gZXh0ZW5kcyBMaXN0SXRlbTxUPiB7XG4gICAgbW9kaWZpZWQ6IERhdGU7XG4gICAgdmVyc2lvbjogbnVtYmVyO1xuICAgIFtrZXk6IHN0cmluZ106IGFueTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJRmllbGRWZXJzaW9uIHtcbiAgICBlZGl0b3I6IElVc2VyO1xuICAgIG1vZGlmaWVkOiBEYXRlO1xuICAgIHZhbHVlOiBhbnk7XG4gICAgdmVyc2lvbjogbnVtYmVyO1xufVxuXG4vKipcbiAqIEBuZ2RvYyBvYmplY3RcbiAqIEBuYW1lIGFwTGlzdEl0ZW1WZXJzaW9uRmFjdG9yeS5GaWVsZFZlcnNpb25Db2xsZWN0aW9uXG4gKiBAcGFyYW0ge0ZpZWxkRGVmaW5pdGlvbn0gZmllbGREZWZpbml0aW9uIEZpZWxkIGRlZmluaXRpb24gb2YgZWFjaCB2ZXJzaW9uIG9mIHRoZSBmaWVsZCBhZGRlZC5cbiAqIEBkZXNjcmlwdGlvblxuICogT2JqZWN0IHRoYXQgY29udGFpbnMgdGhlIGVudGlyZSB2ZXJzaW9uIGhpc3RvcnkgZm9yIGEgZ2l2ZW4gbGlzdCBpdGVtIGZpZWxkL3Byb3BlcnR5LlxuICovXG5leHBvcnQgY2xhc3MgRmllbGRWZXJzaW9uQ29sbGVjdGlvbiB7XG4gICAgZmllbGREZWZpbml0aW9uOiBJRmllbGREZWZpbml0aW9uO1xuICAgIHZlcnNpb25zOiB7W2tleTogbnVtYmVyXTogSUZpZWxkVmVyc2lvbn0gPSB7fTtcblxuICAgIGNvbnN0cnVjdG9yKGZpZWxkRGVmaW5pdGlvbjogSUZpZWxkRGVmaW5pdGlvbikge1xuICAgICAgICB0aGlzLmZpZWxkRGVmaW5pdGlvbiA9IGZpZWxkRGVmaW5pdGlvbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2Mgb2JqZWN0XG4gICAgICogQG5hbWUgYXBMaXN0SXRlbVZlcnNpb25GYWN0b3J5LkZpZWxkVmVyc2lvbkNvbGxlY3Rpb24uYWRkVmVyc2lvblxuICAgICAqIEBtZXRob2RPZiBhcExpc3RJdGVtVmVyc2lvbkZhY3RvcnkuRmllbGRWZXJzaW9uQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7SVVzZXJ9IGVkaXRvciBVc2VyIHdobyBtYWRlIHRoZSBjaGFuZ2UuXG4gICAgICogQHBhcmFtIHtEYXRlfSBtb2RpZmllZCBEYXRlIG1vZGlmaWVkLlxuICAgICAqIEBwYXJhbSB7YW55fSB2YWx1ZSBWYWx1ZSBvZiB0aGUgZmllbGQgYXQgdGhpcyB2ZXJzaW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB2ZXJzaW9uIFRoZSB2ZXJzaW9uIG51bWJlci5cbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBVc2VkIHRvIGFkZCBhIHNpbmdsZSB2ZXJzaW9uIHRvIHRoZSBjb2xsZWN0aW9uLlxuICAgICAqL1xuICAgIGFkZFZlcnNpb24oZWRpdG9yOiBJVXNlciwgbW9kaWZpZWQ6IERhdGUsIHZhbHVlOiBhbnksIHZlcnNpb246IG51bWJlcik6IHZvaWQge1xuICAgICAgICB0aGlzLnZlcnNpb25zW3ZlcnNpb25dID0ge1xuICAgICAgICAgICAgZWRpdG9yLFxuICAgICAgICAgICAgbW9kaWZpZWQsXG4gICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgIHZlcnNpb25cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBnZXQgbWFwcGVkTmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmllbGREZWZpbml0aW9uLm1hcHBlZE5hbWU7XG4gICAgfVxuXG4gICAgZ2V0IGxlbmd0aCgpIHtcbiAgICAgICAgcmV0dXJuIF8ua2V5cyh0aGlzLnZlcnNpb25zKS5sZW5ndGg7XG4gICAgfVxufVxuXG5jbGFzcyBGaWVsZENoYW5nZSB7XG4gICAgZmllbGROYW1lOiBzdHJpbmc7XG4gICAgbmV3ZXJWZXJzaW9uOiBJTGlzdEl0ZW1WZXJzaW9uPGFueT47XG4gICAgbmV3VmFsdWU6IHN0cmluZztcbiAgICBvbGRWYWx1ZTogc3RyaW5nO1xuICAgIHByZXZpb3VzVmVyc2lvbjogSUxpc3RJdGVtVmVyc2lvbjxhbnk+O1xuICAgIHByb3BlcnR5TmFtZTogc3RyaW5nO1xuXG4gICAgY29uc3RydWN0b3IocHJvcGVydHlOYW1lOiBzdHJpbmcsIGZpZWxkRGVmaW5pdGlvbjogSUZpZWxkQ29uZmlndXJhdGlvbk9iamVjdCwgbmV3ZXJWZXJzaW9uOiBJTGlzdEl0ZW1WZXJzaW9uPGFueT4sIHByZXZpb3VzVmVyc2lvbjogSUxpc3RJdGVtVmVyc2lvbjxhbnk+ID0gPElMaXN0SXRlbVZlcnNpb248YW55Pj57fSkge1xuXG4gICAgICAgIHRoaXMuZmllbGROYW1lID0gZmllbGREZWZpbml0aW9uLmRpc3BsYXlOYW1lO1xuICAgICAgICB0aGlzLm5ld2VyVmVyc2lvbiA9IG5ld2VyVmVyc2lvbjtcbiAgICAgICAgLyoqIE5lZWQgdG8gc2V0IHByb3BlcnR5IG5hbWUgYmVmb3JlIGNhbGxpbmcgdGhpcy5nZXRGb3JtYXR0ZWRWYWx1ZSAqL1xuICAgICAgICB0aGlzLnByb3BlcnR5TmFtZSA9IHByb3BlcnR5TmFtZTtcblxuICAgICAgICB0aGlzLm5ld1ZhbHVlID0gdGhpcy5nZXRGb3JtYXR0ZWRWYWx1ZShuZXdlclZlcnNpb24pO1xuICAgICAgICB0aGlzLm9sZFZhbHVlID0gdGhpcy5nZXRGb3JtYXR0ZWRWYWx1ZShwcmV2aW91c1ZlcnNpb24pO1xuICAgICAgICB0aGlzLnByZXZpb3VzVmVyc2lvbiA9IHByZXZpb3VzVmVyc2lvbjtcbiAgICB9XG5cbiAgICBnZXRGb3JtYXR0ZWRWYWx1ZSh2ZXJzaW9uOiBJTGlzdEl0ZW1WZXJzaW9uPGFueT4pOiBzdHJpbmcge1xuICAgICAgICB2YXIgcHJvcGVydHlWYWx1ZSA9ICcnO1xuICAgICAgICBpZiAodmVyc2lvbi5nZXRGb3JtYXR0ZWRWYWx1ZSkge1xuICAgICAgICAgICAgcHJvcGVydHlWYWx1ZSA9IHZlcnNpb24uZ2V0Rm9ybWF0dGVkVmFsdWUodGhpcy5wcm9wZXJ0eU5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwcm9wZXJ0eVZhbHVlO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbmdkb2Mgb2JqZWN0XG4gKiBAbmFtZSBhcExpc3RJdGVtVmVyc2lvbkZhY3RvcnkuRmllbGRDaGFuZ2VTdW1tYXJ5XG4gKiBAcGFyYW0ge0xpc3RJdGVtPFQ+fSBuZXdlclZlcnNpb24gVXBkYXRlZCB2ZXJzaW9uIG9mIGxpc3QgaXRlbS5cbiAqIEBwYXJhbSB7TGlzdEl0ZW08VD59IFtwcmV2aW91c1ZlcnNpb249e31dIFByZXZpb3VzIHZlcnNpb24gb2YgbGlzdCBpdGVtLlxuICogQGRlc2NyaXB0aW9uXG4gKiBHZW5lcmF0ZXMgYSBzbmFwc2hvdCBiZXR3ZWVuIDIgdmVyc2lvbnMgb2YgYSBsaXN0IGl0ZW0gYW5kIGxvY2F0ZXMgZGlmZXJlbmNlcy5cbiAqL1xuZXhwb3J0IGNsYXNzIEZpZWxkQ2hhbmdlU3VtbWFyeTxUIGV4dGVuZHMgTGlzdEl0ZW08YW55Pj4ge1xuICAgIGNoYW5nZUNvdW50OiBudW1iZXI7XG4gICAgZmllbGRzQ2hhbmdlZDoge1trZXk6IHN0cmluZ106IEZpZWxkQ2hhbmdlO30gPSB7fTtcblxuICAgIGNvbnN0cnVjdG9yKG5ld2VyVmVyc2lvbjogTGlzdEl0ZW08VD4gfCBhbnksIHByZXZpb3VzVmVyc2lvbjogTGlzdEl0ZW08VD4gfCBPYmplY3QgfCBhbnkgPSA8TGlzdEl0ZW08VD4+e30pIHtcbiAgICAgICAgLyoqIExvb3AgdGhyb3VnaCBlYWNoIG9mIHRoZSBwcm9wZXJ0aWVzIG9uIHRoZSBuZXdlciBsaXN0IGl0ZW0gKi9cbiAgICAgICAgXy5lYWNoKG5ld2VyVmVyc2lvbiwgKHZhbCwgcHJvcGVydHlOYW1lKSA9PiB7XG4gICAgICAgICAgICB2YXIgZmllbGREZWZpbml0aW9uID0gbmV3ZXJWZXJzaW9uLmdldEZpZWxkRGVmaW5pdGlvbihwcm9wZXJ0eU5hbWUpO1xuICAgICAgICAgICAgLyoqIE9ubHkgbG9nIG5vbi1yZWFkb25seSBmaWVsZHMgdGhhdCBhcmVuJ3QgdGhlIHNhbWUgKi9cbiAgICAgICAgICAgIGlmIChmaWVsZERlZmluaXRpb24gJiYgIWZpZWxkRGVmaW5pdGlvbi5yZWFkT25seSAmJlxuICAgICAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KG5ld2VyVmVyc2lvbltwcm9wZXJ0eU5hbWVdKSAhPT0gSlNPTi5zdHJpbmdpZnkocHJldmlvdXNWZXJzaW9uW3Byb3BlcnR5TmFtZV0pKSB7XG5cbiAgICAgICAgICAgICAgICBsZXQgZmllbGRDaGFuZ2UgPSBuZXcgRmllbGRDaGFuZ2UocHJvcGVydHlOYW1lLCBmaWVsZERlZmluaXRpb24sIG5ld2VyVmVyc2lvbiwgcHJldmlvdXNWZXJzaW9uKTtcbiAgICAgICAgICAgICAgICBpZiAoZmllbGRDaGFuZ2UubmV3VmFsdWUgIT09IGZpZWxkQ2hhbmdlLm9sZFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8qKiBUaGlzIGZpZWxkIGhhcyBjaGFuZ2VkICovXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmllbGRzQ2hhbmdlZFtwcm9wZXJ0eU5hbWVdID0gZmllbGRDaGFuZ2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5jaGFuZ2VDb3VudCA9IF8ua2V5cyh0aGlzLmZpZWxkc0NoYW5nZWQpLmxlbmd0aDtcbiAgICB9XG5cbiAgICBnZXQgaGFzTWFqb3JDaGFuZ2VzKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gXy5pc051bWJlcih0aGlzLmNoYW5nZUNvdW50KSAmJiB0aGlzLmNoYW5nZUNvdW50ID4gMDtcbiAgICB9XG59XG5cbi8qKlxuICogQG5nZG9jIG9iamVjdFxuICogQG5hbWUgYXBMaXN0SXRlbVZlcnNpb25GYWN0b3J5LlZlcnNpb25TdW1tYXJ5XG4gKiBAcGFyYW0ge0lMaXN0SXRlbVZlcnNpb248VD59IG5ld2VyVmVyc2lvbiBVcGRhdGVkIHZlcnNpb24gb2YgbGlzdCBpdGVtLlxuICogQHBhcmFtIHtJTGlzdEl0ZW1WZXJzaW9uPFQ+fSBbcHJldmlvdXNWZXJzaW9uPXt9XSBQcmV2aW91cyB2ZXJzaW9uIG9mIGxpc3QgaXRlbS5cbiAqIEBkZXNjcmlwdGlvblxuICogVXNlZCBzcGVjaWZpY2FsbHkgdG8gZGV0ZXJtaW5lIGRpZmZlcmVuY2UgYmV0d2VlbiAyIGRpc3RpbmN0IHZlcnNpb25zIG9mIGEgbGlzdCBpdGVtIHVzaW5nIHRoZVxuICogdmVyc2lvbiBoaXN0b3J5LiAgRXh0ZW5kcyBGaWVsZENoYW5nZVN1bW1hcnkuXG4gKi9cbmV4cG9ydCBjbGFzcyBWZXJzaW9uU3VtbWFyeTxUIGV4dGVuZHMgTGlzdEl0ZW08YW55Pj4gZXh0ZW5kcyBGaWVsZENoYW5nZVN1bW1hcnk8VD4ge1xuICAgIGxpc3RJdGVtVmVyc2lvbjogSUxpc3RJdGVtVmVyc2lvbjxhbnk+O1xuICAgIHZlcnNpb246IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKG5ld2VyVmVyc2lvbjogSUxpc3RJdGVtVmVyc2lvbjxUPiwgcHJldmlvdXNWZXJzaW9uOiBJTGlzdEl0ZW1WZXJzaW9uPFQ+IHwgT2JqZWN0ID0ge30pIHtcbiAgICAgICAgc3VwZXIobmV3ZXJWZXJzaW9uLCBwcmV2aW91c1ZlcnNpb24pO1xuICAgICAgICB0aGlzLmxpc3RJdGVtVmVyc2lvbiA9IG5ld2VyVmVyc2lvbjtcbiAgICAgICAgdGhpcy52ZXJzaW9uID0gbmV3ZXJWZXJzaW9uLnZlcnNpb247XG4gICAgfVxuXG4gICAgZ2V0IGVkaXRvcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGlzdEl0ZW1WZXJzaW9uLmVkaXRvcjtcbiAgICB9XG5cbiAgICBnZXQgbW9kaWZpZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxpc3RJdGVtVmVyc2lvbi5tb2RpZmllZDtcbiAgICB9XG59XG5cblxuLyoqXG4gKiBAbmdkb2Mgb2JqZWN0XG4gKiBAbmFtZSBhcExpc3RJdGVtVmVyc2lvbkZhY3RvcnkuQ2hhbmdlU3VtbWFyeVxuICogQHBhcmFtIHtJTGlzdEl0ZW1WZXJzaW9uc30gdmVyc2lvbnMgTXVsdGlwbGUgdmVyc2lvbnMgb2YgYSBsaXN0IGl0ZW0uXG4gKiBAZGVzY3JpcHRpb25cbiAqIFVzZWQgdG8gc3VtbWFyaXplIGFsbCBjaGFuZ2VzIGZvciBhIGdpdmVuIGxpc3QgaXRlbS5cbiAqL1xuZXhwb3J0IGNsYXNzIENoYW5nZVN1bW1hcnk8VCBleHRlbmRzIExpc3RJdGVtPGFueT4+IHtcbiAgICAvKiogVGhlIG51bWJlciBvZiB2ZXJzaW9ucyB3aGVyZSBsaXN0IGl0ZW0gZGF0YSBhY3R1YWxseSBjaGFuZ2VkICovXG4gICAgc2lnbmlmaWNhbnRWZXJzaW9uQ291bnQgPSAwO1xuICAgIHByaXZhdGUgdmVyc2lvblN1bW1hcnlDb2xsZWN0aW9uOiB7W2tleTogbnVtYmVyXTogVmVyc2lvblN1bW1hcnk8VD59ID0ge307XG5cbiAgICBjb25zdHJ1Y3Rvcih2ZXJzaW9uczogSUxpc3RJdGVtVmVyc2lvbnM8VD4pIHtcbiAgICAgICAgLyoqIEZpcnN0IHZlcnNpb24gd29uJ3QgaGF2ZSBhIHByZXZpb3VzIHZlcnNpb24gKi9cbiAgICAgICAgdmFyIHByZXZpb3VzVmVyc2lvbjtcbiAgICAgICAgXy5lYWNoKHZlcnNpb25zLCAodmVyc2lvbjogSUxpc3RJdGVtVmVyc2lvbjxUPikgPT4ge1xuICAgICAgICAgICAgdmFyIHZlcnNpb25TdW1tYXJ5ID0gbmV3IFZlcnNpb25TdW1tYXJ5PFQ+KHZlcnNpb24sIHByZXZpb3VzVmVyc2lvbik7XG4gICAgICAgICAgICBpZiAodmVyc2lvblN1bW1hcnkuaGFzTWFqb3JDaGFuZ2VzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zaWduaWZpY2FudFZlcnNpb25Db3VudCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy52ZXJzaW9uU3VtbWFyeUNvbGxlY3Rpb25bdmVyc2lvblN1bW1hcnkudmVyc2lvbl0gPSB2ZXJzaW9uU3VtbWFyeTtcbiAgICAgICAgICAgIC8qKiBTdG9yZSB0aGlzIHZlcnNpb24gc28gd2UgY2FuIGNvbXBhcmUgdG8gdGhlIG5leHQgdmVyc2lvbiAqL1xuICAgICAgICAgICAgcHJldmlvdXNWZXJzaW9uID0gdmVyc2lvbjtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy9Vc2UgZ2V0dGVyIGluIGNhc2Ugd2UgbmVlZCB0byBhbHRlciB0aGUgd2F5IHdlIHN0b3JlIHRoaXMgaW4gZnV0dXJlXG4gICAgZ2V0IGNoYW5nZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZlcnNpb25TdW1tYXJ5Q29sbGVjdGlvbjtcbiAgICB9XG5cbiAgICBjb3VudCgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gXy5rZXlzKHRoaXMudmVyc2lvblN1bW1hcnlDb2xsZWN0aW9uKS5sZW5ndGg7XG4gICAgfVxuXG4gICAgdG9BcnJheSgpOiBWZXJzaW9uU3VtbWFyeTxUPltdIHtcbiAgICAgICAgcmV0dXJuIF8udG9BcnJheTxhbnk+KHRoaXMudmVyc2lvblN1bW1hcnlDb2xsZWN0aW9uKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBWZXJzaW9uSGlzdG9yeUNvbGxlY3Rpb248VCBleHRlbmRzIExpc3RJdGVtPGFueT4+IHtcbiAgICBba2V5OiBudW1iZXJdOiBJTGlzdEl0ZW1WZXJzaW9uPFQ+O1xuICAgIC8vIGdldEZhY3Rvcnk6ICgpID0+IElNb2RlbEZhY3Rvcnk7XG4gICAgY29uc3RydWN0b3IoZmllbGRWZXJzaW9uQ29sbGVjdGlvbnM6IEZpZWxkVmVyc2lvbkNvbGxlY3Rpb25bXSwgZmFjdG9yeTogSU1vZGVsRmFjdG9yeSkge1xuICAgICAgICAvKiogSXRlcmF0ZSB0aHJvdWdoIGVhY2ggb2YgdGhlIGZpZWxkIHZlcnNpb24gY29sbGVjdGlvbnMgKi9cbiAgICAgICAgXy5lYWNoKGZpZWxkVmVyc2lvbkNvbGxlY3Rpb25zLCAoZmllbGRWZXJzaW9uQ29sbGVjdGlvbikgPT4ge1xuICAgICAgICAgICAgdGhpcy5hZGRGaWVsZENvbGxlY3Rpb24oZmllbGRWZXJzaW9uQ29sbGVjdGlvbiwgZmFjdG9yeSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGFkZEZpZWxkQ29sbGVjdGlvbihmaWVsZFZlcnNpb25Db2xsZWN0aW9uOiBGaWVsZFZlcnNpb25Db2xsZWN0aW9uLCBmYWN0b3J5OiBJTW9kZWxGYWN0b3J5KTogdm9pZCB7XG4gICAgICAgIC8qKiBJdGVyYXRlIHRocm91Z2ggZWFjaCB2ZXJzaW9uIG9mIHRoaXMgZmllbGQgKi9cbiAgICAgICAgXy5lYWNoKGZpZWxkVmVyc2lvbkNvbGxlY3Rpb24udmVyc2lvbnMsIChmaWVsZFZlcnNpb246IElGaWVsZFZlcnNpb24sIHZlcnNpb25OdW1iZXJBc1N0cmluZzogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAvKiogQ3JlYXRlIGEgbmV3IHZlcnNpb24gb2JqZWN0IGlmIGl0IGRvZXNuJ3QgYWxyZWFkeSBleGlzdCAqL1xuICAgICAgICAgICAgdGhpc1t2ZXJzaW9uTnVtYmVyQXNTdHJpbmddID0gdGhpc1t2ZXJzaW9uTnVtYmVyQXNTdHJpbmddIHx8IG5ldyBmYWN0b3J5PFQ+KHtcbiAgICAgICAgICAgICAgICAgICAgZWRpdG9yOiBmaWVsZFZlcnNpb24uZWRpdG9yLFxuICAgICAgICAgICAgICAgICAgICBtb2RpZmllZDogZmllbGRWZXJzaW9uLm1vZGlmaWVkLFxuICAgICAgICAgICAgICAgICAgICAvKiogSXRlcmF0aW5nIG92ZXIgb2JqZWN0IHByb3BlcnRpZXMgd2hpY2ggY29udmVydHMgZXZlcnl0aGluZyB0byBzdHJpbmcgc28gY29udmVydCBiYWNrICovXG4gICAgICAgICAgICAgICAgICAgIHZlcnNpb246IHBhcnNlSW50KHZlcnNpb25OdW1iZXJBc1N0cmluZylcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8qKiBBZGQgZmllbGQgdG8gdGhlIHZlcnNpb24gaGlzdG9yeSBmb3IgdGhpcyB2ZXJzaW9uIHdpdGggY29tcHV0ZWQgcHJvcGVydHkgbmFtZSAqL1xuICAgICAgICAgICAgdGhpc1t2ZXJzaW9uTnVtYmVyQXNTdHJpbmddW2ZpZWxkVmVyc2lvbkNvbGxlY3Rpb24ubWFwcGVkTmFtZV0gPSBmaWVsZFZlcnNpb24udmFsdWVcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgY291bnQoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIF8ua2V5cyh0aGlzKS5sZW5ndGg7XG4gICAgfVxuXG4gICAgZ2VuZXJhdGVDaGFuZ2VTdW1tYXJ5KCk6IENoYW5nZVN1bW1hcnk8VD4ge1xuICAgICAgICByZXR1cm4gbmV3IENoYW5nZVN1bW1hcnk8VD4oPGFueT50aGlzKTtcbiAgICB9XG5cbiAgICB0b0FycmF5KCk6IElMaXN0SXRlbVZlcnNpb248VD5bXSB7XG4gICAgICAgIHJldHVybiBfLnRvQXJyYXk8SUxpc3RJdGVtVmVyc2lvbjxUPj4odGhpcyk7XG4gICAgfVxufVxuXG4vKipcbiAqIEBuZ2RvYyBmdW5jdGlvblxuICogQG5hbWUgYXBMaXN0SXRlbVZlcnNpb25GYWN0b3J5XG4gKiBAZGVzY3JpcHRpb25cbiAqIEZhY3Rvcnkgd2hpY2ggaGFuZGxlcyBwYXJzaW5nIGxpc3QgaXRlbSB2ZXJzaW9ucyBhbmQgaWRlbnRpZnlpbmcgY2hhbmdlcy5cbiAqXG4gKi9cbmV4cG9ydCBjbGFzcyBMaXN0SXRlbVZlcnNpb25GYWN0b3J5IHtcbiAgICBDaGFuZ2VTdW1tYXJ5ID0gQ2hhbmdlU3VtbWFyeTtcbiAgICBGaWVsZENoYW5nZVN1bW1hcnkgPSBGaWVsZENoYW5nZVN1bW1hcnk7XG4gICAgRmllbGRWZXJzaW9uQ29sbGVjdGlvbiA9IEZpZWxkVmVyc2lvbkNvbGxlY3Rpb247XG4gICAgVmVyc2lvbkhpc3RvcnlDb2xsZWN0aW9uID0gVmVyc2lvbkhpc3RvcnlDb2xsZWN0aW9uO1xuICAgIFZlcnNpb25TdW1tYXJ5ID0gVmVyc2lvblN1bW1hcnk7XG59XG5cblxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyIS4vc3JjL2ZhY3Rvcmllcy9hcExpc3RJdGVtVmVyc2lvbkZhY3RvcnkudHMiLCJpbXBvcnQgKiBhcyBfIGZyb20gJ2xvZGFzaCc7XG4vLyBTcGxpdCB2YWx1ZXMgbGlrZSAxOyN2YWx1ZSBpbnRvIGlkIGFuZCB2YWx1ZVxuaW1wb3J0IHtJVXNlclBlcm1pc3Npb25zT2JqZWN0fSBmcm9tICcuLi9jb25zdGFudHMvYXBQZXJtaXNzaW9uT2JqZWN0JztcblxuY2xhc3MgU3BsaXRJbmRleCB7XG4gICAgaWQ6IG51bWJlcjtcbiAgICB2YWx1ZTogc3RyaW5nO1xuXG4gICAgY29uc3RydWN0b3Ioc3RyKSB7XG4gICAgICAgIHZhciBzcGwgPSBzdHIuc3BsaXQoJzsjJyk7XG4gICAgICAgIHRoaXMuaWQgPSBwYXJzZUludChzcGxbMF0sIDEwKTtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHNwbFsxXTtcbiAgICB9XG59XG5cbi8vIHZhciBzZXJ2aWNlOiBVdGlsaXR5U2VydmljZSwgJHEsICR0aW1lb3V0O1xuXG4vKipcbiAqIEBuZ2RvYyBzZXJ2aWNlXG4gKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBVdGlsaXR5U2VydmljZVxuICogQGRlc2NyaXB0aW9uXG4gKiBQcm92aWRlcyBzaGFyZWQgdXRpbGl0eSBmdW5jdGlvbmFsaXR5IGFjcm9zcyB0aGUgYXBwbGljYXRpb24uXG4gKlxuICogQHJlcXVpcmVzIGFuZ3VsYXJQb2ludC5hcENvbmZpZ1xuICovXG5leHBvcnQgY2xhc3MgVXRpbGl0eVNlcnZpY2Uge1xuICAgIFNwbGl0SW5kZXggPSBTcGxpdEluZGV4O1xuICAgIHN0YXRpYyAkaW5qZWN0ID0gWyckcScsICckdGltZW91dCddO1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSAkcSwgcHJpdmF0ZSAkdGltZW91dCkge1xuICAgICAgICAvLyBzZXJ2aWNlID0gdGhpcztcbiAgICAgICAgLy8gJHEgPSBfJHFfO1xuICAgICAgICAvLyAkdGltZW91dCA9IF8kdGltZW91dF87XG5cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBVdGlsaXR5U2VydmljZTpiYXRjaFByb2Nlc3NcbiAgICAgKiBAbWV0aG9kT2YgYW5ndWxhclBvaW50LmFwVXRpbGl0eVNlcnZpY2VcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBXZSBSRUFMTFkgZG9uJ3Qgd2FudCB0byBsb2NrIHRoZSB1c2VyJ3MgYnJvd3NlciAoYmxvY2tpbmcgdGhlIFVJIHRocmVhZCkgd2hpbGUgaXRlcmF0aW5nIG92ZXIgYW4gYXJyYXkgb2ZcbiAgICAgKiBlbnRpdGllcyBhbmQgcGVyZm9ybWluZyBzb21lIHByb2Nlc3Mgb24gdGhlbS4gIFRoaXMgZnVuY3Rpb24gY3V0cyB0aGUgcHJvY2VzcyBpbnRvIGFzIG1hbnkgNTBtcyBjaHVua3MgYXMgYXJlXG4gICAgICogbmVjZXNzYXJ5LiBCYXNlZCBvbiBleGFtcGxlIGZvdW5kIGluIHRoZSBmb2xsb3dpbmcgYXJ0aWNsZTpcbiAgICAgKiBbVGltZWQgYXJyYXkgcHJvY2Vzc2luZyBpbiBKYXZhU2NyaXB0XShodHRwOi8vd3d3Lm5jem9ubGluZS5uZXQvYmxvZy8yMDA5LzA4LzExL3RpbWVkLWFycmF5LXByb2Nlc3NpbmctaW4tamF2YXNjcmlwdC8pO1xuICAgICAqIEBwYXJhbSB7T2JqZWN0W119IGVudGl0aWVzIFRoZSBlbnRpdGllcyB0aGF0IG5lZWQgdG8gYmUgcHJvY2Vzc2VkLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByb2Nlc3MgUmVmZXJlbmNlIHRvIHRoZSBwcm9jZXNzIHRvIGJlIGV4ZWN1dGVkIGZvciBlYWNoIG9mIHRoZSBlbnRpdGllcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gY29udGV4dCB0aGlzXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtkZWxheT0yNV0gTnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byBkZWxheSBiZXR3ZWVuIGJhdGNoZXMuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFttYXhJdGVtcz1lbnRpdGllcy5sZW5ndGhdIE1heGltdW0gbnVtYmVyIG9mIGVudGl0aWVzIHRvIHByb2Nlc3MgYmVmb3JlIHBhdXNpbmcuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUHJvbWlzZVxuICAgICAqIEBleGFtcGxlXG4gICAgICogPHByZT5cbiAgICAgKiBmdW5jdGlvbiBidWlsZFByb2plY3RTdW1tYXJ5ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgKiAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqICAgIC8vIFRha2VuIGZyb20gYSBmaWN0aXRpb3VzIHByb2plY3RzdGhpcy5qc1xuICAgICAgICAgICAgICogICAgcHJvamVjdE1vZGVsLmdldEFsbExpc3RJdGVtcygpLnRoZW4oZnVuY3Rpb24oZW50aXRpZXMpIHtcbiAgICAgICAgICAgICAqICAgICAgdmFyIHN1bW1hcnlPYmplY3QgPSB7fTtcbiAgICAgICAgICAgICAqICAgICAgdmFyIGV4dGVuZFByb2plY3RTdW1tYXJ5ID0gZnVuY3Rpb24ocHJvamVjdCkge1xuICAgICAgICAgICAgICogICAgICAgICAgLy8gRG8gc29tZSBwcm9jZXNzIGludGVuc2l2ZSBzdHVmZiBoZXJlXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogICAgICB9O1xuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqICAgICAgLy8gTm93IHRoYXQgd2UgaGF2ZSBhbGwgb2Ygb3VyIHByb2plY3RzIHdlIHdhbnQgdG8gaXRlcmF0ZVxuICAgICAgICAgICAgICogICAgICAvLyBvdmVyIGVhY2ggdG8gY3JlYXRlIG91ciBzdW1tYXJ5IG9iamVjdC4gVGhlIHByb2JsZW0gaXNcbiAgICAgICAgICAgICAqICAgICAgLy8gdGhpcyBjb3VsZCBlYXNpbHkgY2F1c2UgdGhlIHBhZ2UgdG8gaGFuZyB3aXRoIGEgc3VmZmljaWVudFxuICAgICAgICAgICAgICogICAgICAvLyBudW1iZXIgb2YgZW50aXRpZXMuXG4gICAgICAgICAgICAgKiAgICAgIGFwVXRpbGl0eXRoaXMuYmF0Y2hQcm9jZXNzKGVudGl0aWVzLCBleHRlbmRQcm9qZWN0U3VtbWFyeSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgKiAgICAgICAgICAvLyBMb25nIHJ1bm5pbmcgcHJvY2VzcyBpcyBjb21wbGV0ZSBzbyByZXNvbHZlIHByb21pc2VcbiAgICAgICAgICAgICAqICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoc3VtbWFyeU9iamVjdCk7XG4gICAgICAgICAgICAgKiAgICAgIH0sIDI1LCAxMDAwKTtcbiAgICAgICAgICAgICAqICAgIH07XG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgICAgICAgICAgKiB9XG4gICAgICpcbiAgICAgKiA8L3ByZT5cbiAgICAgKi9cblxuICAgIGJhdGNoUHJvY2VzcyhlbnRpdGllcywgcHJvY2VzcywgY29udGV4dCwgZGVsYXkgPSAyNSwgbWF4SXRlbXMpIHtcbiAgICAgICAgbGV0IGl0ZW1Db3VudCA9IGVudGl0aWVzLmxlbmd0aDtcbiAgICAgICAgbGV0IGJhdGNoQ291bnQgPSAwO1xuICAgICAgICBjb25zdCBjaHVua01heCA9IG1heEl0ZW1zIHx8IGl0ZW1Db3VudDtcbiAgICAgICAgbGV0IGluZGV4ID0gMDtcbiAgICAgICAgY29uc3QgZGVmZXJyZWQgPSB0aGlzLiRxLmRlZmVyKCk7XG5cbiAgICAgICAgZnVuY3Rpb24gY2h1bmtUaW1lcigpIHtcbiAgICAgICAgICAgIGJhdGNoQ291bnQrKztcbiAgICAgICAgICAgIGxldCBzdGFydCA9ICtuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgY29uc3QgY2h1bmtJbmRleCA9IGluZGV4O1xuXG4gICAgICAgICAgICB3aGlsZSAoaW5kZXggPCBpdGVtQ291bnQgJiYgKGluZGV4IC0gY2h1bmtJbmRleCkgPCBjaHVua01heCAmJiAoPGFueT4gbmV3IERhdGUoKSAtIHN0YXJ0IDwgMTAwKSkge1xuICAgICAgICAgICAgICAgIHByb2Nlc3MuY2FsbChjb250ZXh0LCBlbnRpdGllc1tpbmRleF0sIGluZGV4LCBiYXRjaENvdW50KTtcbiAgICAgICAgICAgICAgICBpbmRleCArPSAxO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaW5kZXggPCBpdGVtQ291bnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiR0aW1lb3V0KGNodW5rVGltZXIsIGRlbGF5KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShlbnRpdGllcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjaHVua1RpbWVyKCk7XG5cbiAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBVdGlsaXR5U2VydmljZTpjb252ZXJ0RWZmZWN0aXZlUGVybU1hc2tcbiAgICAgKiBAbWV0aG9kT2YgYW5ndWxhclBvaW50LmFwVXRpbGl0eVNlcnZpY2VcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBHZXRMaXN0SXRlbXNTaW5jZVRva2VuIG9wZXJhdGlvbiByZXR1cm5zIHRoZSBsaXN0IGVsZW1lbnQgd2l0aCBhbiBFZmZlY3RpdmVQZXJtTWFzayBhdHRyaWJ1dGUgd2hpY2ggaXMgdGhlXG4gICAgICogbmFtZSBvZiB0aGUgUGVybWlzc2lvbk1hc2suICBXZSB0aGVuIG5lZWQgdG8gY29udmVydCB0aGUgbmFtZSBpbnRvIGFuIGFjdHVhbCBtYXNrIHNvIHRoaXMgZnVuY3Rpb24gY29udGFpbnNcbiAgICAgKiB0aGUga25vd24gcGVybWlzc2lvbiBuYW1lcyB3aXRoIHRoZWlyIG1hc2tzLiAgSWYgYSBwcm92aWRlZCBtYXNrIG5hbWUgaXMgZm91bmQsIHRoZSBjb29yZXNwb25kaW5nIG1hc2tcbiAgICAgKiBpcyByZXR1cm5lZC4gIE90aGVyd2lzZSByZXR1cm5zIG51bGwuICBbTVNETiBTb3VyY2VdKGh0dHA6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9qajU3NTE3OCh2PW9mZmljZS4xMikuYXNweClcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGVybU1hc2tOYW1lIFBlcm1pc3Npb24gbWFzayBuYW1lLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd8bnVsbH0gUmV0dXJuIHRoZSBtYXNrIGZvciB0aGUgbmFtZS5cbiAgICAgKi9cbiAgICBjb252ZXJ0RWZmZWN0aXZlUGVybU1hc2socGVybU1hc2tOYW1lOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICBsZXQgcGVybWlzc2lvbk1hc2sgPSBudWxsO1xuXG4gICAgICAgIGNvbnN0IHBlcm1pc3Npb25zID0ge1xuICAgICAgICAgICAgLy9HZW5lcmFsXG4gICAgICAgICAgICBFbXB0eU1hc2s6ICcweDAwMDAwMDAwMDAwMDAwMDAnLFxuICAgICAgICAgICAgRnVsbE1hc2s6ICcweDdGRkZGRkZGRkZGRkZGRkYnLFxuXG4gICAgICAgICAgICAvL0xpc3QgYW5kIGRvY3VtZW50IHBlcm1pc3Npb25zXG4gICAgICAgICAgICBWaWV3TGlzdEl0ZW1zOiAnMHgwMDAwMDAwMDAwMDAwMDAxJyxcbiAgICAgICAgICAgIEFkZExpc3RJdGVtczogJzB4MDAwMDAwMDAwMDAwMDAwMicsXG4gICAgICAgICAgICBFZGl0TGlzdEl0ZW1zOiAnMHgwMDAwMDAwMDAwMDAwMDA0JyxcbiAgICAgICAgICAgIERlbGV0ZUxpc3RJdGVtczogJzB4MDAwMDAwMDAwMDAwMDAwOCcsXG4gICAgICAgICAgICBBcHByb3ZlSXRlbXM6ICcweDAwMDAwMDAwMDAwMDAwMTAnLFxuICAgICAgICAgICAgT3Blbkl0ZW1zOiAnMHgwMDAwMDAwMDAwMDAwMDIwJyxcbiAgICAgICAgICAgIFZpZXdWZXJzaW9uczogJzB4MDAwMDAwMDAwMDAwMDA0MCcsXG4gICAgICAgICAgICBEZWxldGVWZXJzaW9uczogJzB4MDAwMDAwMDAwMDAwMDA4MCcsXG4gICAgICAgICAgICBDYW5jZWxDaGVja291dDogJzB4MDAwMDAwMDAwMDAwMDEwMCcsXG4gICAgICAgICAgICBNYW5hZ2VQZXJzb25hbFZpZXdzOiAnMHgwMDAwMDAwMDAwMDAwMjAwJyxcbiAgICAgICAgICAgIE1hbmFnZUxpc3RzOiAnMHgwMDAwMDAwMDAwMDAwODAwJyxcbiAgICAgICAgICAgIFZpZXdGb3JtUGFnZXM6ICcweDAwMDAwMDAwMDAwMDEwMDAnLFxuXG4gICAgICAgICAgICAvL1dlYiBsZXZlbCBwZXJtaXNzaW9uc1xuICAgICAgICAgICAgT3BlbjogJzB4MDAwMDAwMDAwMDAxMDAwMCcsXG4gICAgICAgICAgICBWaWV3UGFnZXM6ICcweDAwMDAwMDAwMDAwMjAwMDAnLFxuICAgICAgICAgICAgQWRkQW5kQ3VzdG9taXplUGFnZXM6ICcweDAwMDAwMDAwMDAwNDAwMDAnLFxuICAgICAgICAgICAgQXBwbHlUaGVtZUFuZEJvcmRlcjogJzB4MDAwMDAwMDAwMDA4MDAwMCcsXG4gICAgICAgICAgICBBcHBseVN0eWxlU2hlZXRzOiAnMHgwMDAwMDAwMDAwMTAwMDAwJyxcbiAgICAgICAgICAgIFZpZXdVc2FnZURhdGE6ICcweDAwMDAwMDAwMDAyMDAwMDAnLFxuICAgICAgICAgICAgQ3JlYXRlU1NDU2l0ZTogJzB4MDAwMDAwMDAwMDQwMDAwMCcsXG4gICAgICAgICAgICBNYW5hZ2VTdWJ3ZWJzOiAnMHgwMDAwMDAwMDAwODAwMDAwJyxcbiAgICAgICAgICAgIENyZWF0ZUdyb3VwczogJzB4MDAwMDAwMDAwMTAwMDAwMCcsXG4gICAgICAgICAgICBNYW5hZ2VQZXJtaXNzaW9uczogJzB4MDAwMDAwMDAwMjAwMDAwMCcsXG4gICAgICAgICAgICBCcm93c2VEaXJlY3RvcmllczogJzB4MDAwMDAwMDAwNDAwMDAwMCcsXG4gICAgICAgICAgICBCcm93c2VVc2VySW5mbzogJzB4MDAwMDAwMDAwODAwMDAwMCcsXG4gICAgICAgICAgICBBZGREZWxQcml2YXRlV2ViUGFydHM6ICcweDAwMDAwMDAwMTAwMDAwMDAnLFxuICAgICAgICAgICAgVXBkYXRlUGVyc29uYWxXZWJQYXJ0czogJzB4MDAwMDAwMDAyMDAwMDAwMCcsXG4gICAgICAgICAgICBNYW5hZ2VXZWI6ICcweDAwMDAwMDAwNDAwMDAwMDAnLFxuICAgICAgICAgICAgVXNlQ2xpZW50SW50ZWdyYXRpb246ICcweDAwMDAwMDEwMDAwMDAwMDAnLFxuICAgICAgICAgICAgVXNlUmVtb3RlQVBJczogJzB4MDAwMDAwMjAwMDAwMDAwMCcsXG4gICAgICAgICAgICBNYW5hZ2VBbGVydHM6ICcweDAwMDAwMDQwMDAwMDAwMDAnLFxuICAgICAgICAgICAgQ3JlYXRlQWxlcnRzOiAnMHgwMDAwMDA4MDAwMDAwMDAwJyxcbiAgICAgICAgICAgIEVkaXRNeVVzZXJJbmZvOiAnMHgwMDAwMDEwMDAwMDAwMDAwJyxcblxuICAgICAgICAgICAgLy9TcGVjaWFsIFBlcm1pc3Npb25zXG4gICAgICAgICAgICBFbnVtZXJhdGVQZXJtaXNzaW9uczogJzB4NDAwMDAwMDAwMDAwMDAwMCdcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAocGVybWlzc2lvbnNbcGVybU1hc2tOYW1lXSkge1xuICAgICAgICAgICAgcGVybWlzc2lvbk1hc2sgPSBwZXJtaXNzaW9uc1twZXJtTWFza05hbWVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwZXJtaXNzaW9uTWFzaztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBVdGlsaXR5U2VydmljZTpkYXRlV2l0aGluUmFuZ2VcbiAgICAgKiBAbWV0aG9kT2YgYW5ndWxhclBvaW50LmFwVXRpbGl0eVNlcnZpY2VcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBDb252ZXJ0cyBkYXRlcyBpbnRvIHl5eXltbWRkIGZvcm1hdHRlZCBpbnRzIGFuZCBldmFsdWF0ZXMgdG8gZGV0ZXJtaW5lIGlmIHRoZSBkYXRlVG9DaGVja1xuICAgICAqIGZhbGxzIHdpdGhpbiB0aGUgZGF0ZSByYW5nZSBwcm92aWRlZFxuICAgICAqIEBwYXJhbSB7RGF0ZX0gc3RhcnREYXRlIFN0YXJ0aW5nIGRhdGUuXG4gICAgICogQHBhcmFtIHtEYXRlfSBlbmREYXRlIEVuZGluZyBkYXRlLlxuICAgICAqIEBwYXJhbSB7RGF0ZX0gW2RhdGVUb0NoZWNrPW5ldyBEYXRlKCldIERlZmF1bHRzIHRvIHRoZSBjdXJyZW50IGRhdGUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IERvZXMgdGhlIGRhdGUgZmFsbCB3aXRoaW4gdGhlIHJhbmdlP1xuICAgICAqL1xuICAgIGRhdGVXaXRoaW5SYW5nZShzdGFydERhdGU6IERhdGUsIGVuZERhdGU6IERhdGUsIGRhdGVUb0NoZWNrID0gbmV3IERhdGUoKSk6IGJvb2xlYW4ge1xuICAgICAgICAvKiogRW5zdXJlIGJvdGggYSBzdGFydCBhbmQgZW5kIGRhdGUgYXJlIHByb3ZpZGVkICoqL1xuICAgICAgICBpZiAoIXN0YXJ0RGF0ZSB8fCAhZW5kRGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqIENyZWF0ZSBhbiBpbnQgcmVwcmVzZW50YXRpb24gb2YgZWFjaCBvZiB0aGUgZGF0ZXMgKi9cbiAgICAgICAgY29uc3Qgc3RhcnRJbnQgPSB0aGlzLnl5eXltbWRkKHN0YXJ0RGF0ZSk7XG4gICAgICAgIGNvbnN0IGVuZEludCA9IHRoaXMueXl5eW1tZGQoZW5kRGF0ZSk7XG4gICAgICAgIGNvbnN0IGRhdGVUb0NoZWNrSW50ID0gdGhpcy55eXl5bW1kZChkYXRlVG9DaGVjayk7XG5cbiAgICAgICAgcmV0dXJuIHN0YXJ0SW50IDw9IGRhdGVUb0NoZWNrSW50ICYmIGRhdGVUb0NoZWNrSW50IDw9IGVuZEludDtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcFV0aWxpdHlTZXJ2aWNlOmRvdWJsZURpZ2l0XG4gICAgICogQG1ldGhvZE9mIGFuZ3VsYXJQb2ludC5hcFV0aWxpdHlTZXJ2aWNlXG4gICAgICogQGRlc2NyaXB0aW9uIEFkZCBhIGxlYWRpbmcgemVybyBpZiBhIG51bWJlci9zdHJpbmcgb25seSBjb250YWlucyBhIHNpbmdsZSBjaGFyYWN0ZXIuICBTbyBpbiB0aGUgY2FzZVxuICAgICAqIHdoZXJlIHRoZSBudW1iZXIgOSBpcyBwYXNzZWQgaW4gdGhlIHN0cmluZyAnMDknIGlzIHJldHVybmVkLlxuICAgICAqIEBwYXJhbSB7KG51bWJlcnxzdHJpbmcpfSB2YWwgQSBudW1iZXIgb3Igc3RyaW5nIHRvIGV2YWx1YXRlLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFR3byBkaWdpdCBzdHJpbmcuXG4gICAgICovXG4gICAgZG91YmxlRGlnaXQodmFsOiBudW1iZXIgfCBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICBpZiAodHlwZW9mIHZhbCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWwgPiA5ID8gdmFsLnRvU3RyaW5nKCkgOiAnMCcgKyB2YWw7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHZhbCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRvdWJsZURpZ2l0KHBhcnNlSW50KHZhbCwgMTApKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgYW5ndWxhclBvaW50LmFwVXRpbGl0eVNlcnZpY2U6ZnJvbUNhbWVsQ2FzZVxuICAgICAqIEBtZXRob2RPZiBhbmd1bGFyUG9pbnQuYXBVdGlsaXR5U2VydmljZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdHIgU3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogQ29udmVydHMgYSBjYW1lbCBjYXNlIHN0cmluZyBpbnRvIGEgc3BhY2UgZGVsaW1pdGVkIHN0cmluZyB3aXRoIGVhY2ggd29yZCBoYXZpbmcgYSBjYXBpdGFsaXplZCBmaXJzdCBsZXR0ZXIuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gSHVtYW5pemVkIHN0cmluZy5cbiAgICAgKi9cbiAgICBmcm9tQ2FtZWxDYXNlKHN0cik6IHN0cmluZyB7XG4gICAgICAgIC8vIGluc2VydCBhIHNwYWNlIGJlZm9yZSBhbGwgY2Fwc1xuICAgICAgICByZXR1cm4gc3RyLnJlcGxhY2UoLyhbQS1aXSkvZywgJyAkMScpXG4gICAgICAgIC8vIHVwcGVyY2FzZSB0aGUgZmlyc3QgY2hhcmFjdGVyXG4gICAgICAgICAgICAucmVwbGFjZSgvXi4vLCBmdW5jdGlvbiAoc3RyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0ci50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgYW5ndWxhclBvaW50LmFwVXRpbGl0eVNlcnZpY2U6aXNHdWlkXG4gICAgICogQG1ldGhvZE9mIGFuZ3VsYXJQb2ludC5hcFV0aWxpdHlTZXJ2aWNlXG4gICAgICogQHBhcmFtIHthbnl9IHZhbHVlIENoZWNrcyBpZiB2YWx1ZSBpcyBhIEdVSURcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gSXMgdGhlIHZhbHVlIGEgR1VJRC5cbiAgICAgKi9cbiAgICBpc0d1aWQgPSBpc0d1aWQ7XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBVdGlsaXR5U2VydmljZTpyZWdpc3RlckNoYW5nZVxuICAgICAqIEBtZXRob2RPZiBhbmd1bGFyUG9pbnQuYXBVdGlsaXR5U2VydmljZVxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIElmIG9ubGluZSBhbmQgc3luYyBpcyBiZWluZyB1c2VkLCBub3RpZnkgYWxsIG9ubGluZSB1c2VycyB0aGF0IGEgY2hhbmdlIGhhcyBiZWVuIG1hZGUuXG4gICAgICogLy9Ub2RvIEJyZWFrIHRoaXMgZnVuY3Rpb25hbGl0eSBpbnRvIEZpcmVCYXNlIG1vZHVsZSB0aGF0IGNhbiBiZSB1c2VkIGlmIGRlc2lyZWQuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG1vZGVsIGV2ZW50XG4gICAgICovXG4gICAgcmVnaXN0ZXJDaGFuZ2UobW9kZWwsIGNoYW5nZVR5cGU6IHN0cmluZywgbGlzdEl0ZW1JZDogbnVtYmVyKSB7XG4gICAgICAgIC8qKiBEaXNhYmxlZCB0aGlzIGZ1bmN0aW9uYWxpdHkgdW50aWwgSSBjYW4gc3BlbmQgdGhlIG5lY2Vzc2FyeSB0aW1lIHRvIHRlc3QgKi9cbiAgICAgICAgaWYgKG1vZGVsLnN5bmMgJiYgXy5pc0Z1bmN0aW9uKG1vZGVsLnN5bmMucmVnaXN0ZXJDaGFuZ2UpKSB7XG4gICAgICAgICAgICAvKiogUmVnaXN0ZXIgY2hhbmdlIGFmdGVyIHN1Y2Nlc3NmdWwgdXBkYXRlICovXG4gICAgICAgICAgICBtb2RlbC5zeW5jLnJlZ2lzdGVyQ2hhbmdlKGNoYW5nZVR5cGUsIGxpc3RJdGVtSWQpO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBVdGlsaXR5U2VydmljZTpyZXNvbHZlUGVybWlzc2lvbnNcbiAgICAgKiBAbWV0aG9kT2YgYW5ndWxhclBvaW50LmFwVXRpbGl0eVNlcnZpY2VcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGVybWlzc2lvbnNNYXNrIFRoZSBXU1MgUmlnaHRzIE1hc2sgaXMgYW4gOC1ieXRlLCB1bnNpZ25lZCBpbnRlZ2VyIHRoYXQgc3BlY2lmaWVzXG4gICAgICogdGhlIHJpZ2h0cyB0aGF0IGNhbiBiZSBhc3NpZ25lZCB0byBhIHVzZXIgb3Igc2l0ZSBncm91cC4gVGhpcyBiaXQgbWFzayBjYW4gaGF2ZSB6ZXJvIG9yIG1vcmUgZmxhZ3Mgc2V0LlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIENvbnZlcnRzIHBlcm1NYXNrIGludG8gc29tZXRoaW5nIHVzYWJsZSB0byBkZXRlcm1pbmUgcGVybWlzc2lvbiBsZXZlbCBmb3IgY3VycmVudCB1c2VyLiAgVHlwaWNhbGx5IHVzZWRcbiAgICAgKiBkaXJlY3RseSBmcm9tIGEgbGlzdCBpdGVtLiAgU2VlIExpc3RJdGVtLnJlc29sdmVQZXJtaXNzaW9ucy5cbiAgICAgKlxuICAgICAqIDxoMz5BZGRpdGlvbmFsIEluZm88L2gzPlxuICAgICAqXG4gICAgICogLSAgIFtQZXJtTWFzayBpbiBTaGFyZVBvaW50IERWV1BzXShodHRwOi8vc3ltcG1hcmMuY29tLzIwMDkvMDIvMDMvcGVybW1hc2staW4tc2hhcmVwb2ludC1kdndwcy8pXG4gICAgICogLSAgIFskKCkuU1BTZXJ2aWNlcy5TUExvb2t1cEFkZE5ldyBhbmQgc2VjdXJpdHkgdHJpbW1pbmddKGh0dHA6Ly9zcHNlcnZpY2VzLmNvZGVwbGV4LmNvbS9kaXNjdXNzaW9ucy8yMDg3MDgpXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSBPYmplY3Qgd2l0aCBwcm9wZXJ0aWVzIGZvciBlYWNoIHBlcm1pc3Npb24gbGV2ZWwgaWRlbnRpZnlpbmcgaWYgY3VycmVudCB1c2VyIGhhcyByaWdodHMgKHRydWUgfHwgZmFsc2UpXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiA8cHJlPlxuICAgICAqIHZhciBwZXJtID0gYXBVdGlsaXR5dGhpcy5yZXNvbHZlUGVybWlzc2lvbnMoJzB4MDAwMDAwMDAwMDAwMDAxMCcpO1xuICAgICAqIDwvcHJlPlxuICAgICAqIEV4YW1wbGUgb2Ygd2hhdCB0aGUgcmV0dXJuZWQgb2JqZWN0IHdvdWxkIGxvb2sgbGlrZVxuICAgICAqIGZvciBhIHNpdGUgYWRtaW4uXG4gICAgICogPHByZT5cbiAgICAgKiBwZXJtID0ge1xuICAgICAgICAgICAgICogICAgXCJWaWV3TGlzdEl0ZW1zXCI6dHJ1ZSxcbiAgICAgICAgICAgICAqICAgIFwiQWRkTGlzdEl0ZW1zXCI6dHJ1ZSxcbiAgICAgICAgICAgICAqICAgIFwiRWRpdExpc3RJdGVtc1wiOnRydWUsXG4gICAgICAgICAgICAgKiAgICBcIkRlbGV0ZUxpc3RJdGVtc1wiOnRydWUsXG4gICAgICAgICAgICAgKiAgICBcIkFwcHJvdmVJdGVtc1wiOnRydWUsXG4gICAgICAgICAgICAgKiAgICBcIk9wZW5JdGVtc1wiOnRydWUsXG4gICAgICAgICAgICAgKiAgICBcIlZpZXdWZXJzaW9uc1wiOnRydWUsXG4gICAgICAgICAgICAgKiAgICBcIkRlbGV0ZVZlcnNpb25zXCI6dHJ1ZSxcbiAgICAgICAgICAgICAqICAgIFwiQ2FuY2VsQ2hlY2tvdXRcIjp0cnVlLFxuICAgICAgICAgICAgICogICAgXCJQZXJzb25hbFZpZXdzXCI6dHJ1ZSxcbiAgICAgICAgICAgICAqICAgIFwiTWFuYWdlTGlzdHNcIjp0cnVlLFxuICAgICAgICAgICAgICogICAgXCJWaWV3Rm9ybVBhZ2VzXCI6dHJ1ZSxcbiAgICAgICAgICAgICAqICAgIFwiT3BlblwiOnRydWUsXG4gICAgICAgICAgICAgKiAgICBcIlZpZXdQYWdlc1wiOnRydWUsXG4gICAgICAgICAgICAgKiAgICBcIkFkZEFuZEN1c3RvbWl6ZVBhZ2VzXCI6dHJ1ZSxcbiAgICAgICAgICAgICAqICAgIFwiQXBwbHlUaGVtZUFuZEJvcmRlclwiOnRydWUsXG4gICAgICAgICAgICAgKiAgICBcIkFwcGx5U3R5bGVTaGVldHNcIjp0cnVlLFxuICAgICAgICAgICAgICogICAgXCJWaWV3VXNhZ2VEYXRhXCI6dHJ1ZSxcbiAgICAgICAgICAgICAqICAgIFwiQ3JlYXRlU1NDU2l0ZVwiOnRydWUsXG4gICAgICAgICAgICAgKiAgICBcIk1hbmFnZVN1YndlYnNcIjp0cnVlLFxuICAgICAgICAgICAgICogICAgXCJDcmVhdGVHcm91cHNcIjp0cnVlLFxuICAgICAgICAgICAgICogICAgXCJNYW5hZ2VQZXJtaXNzaW9uc1wiOnRydWUsXG4gICAgICAgICAgICAgKiAgICBcIkJyb3dzZURpcmVjdG9yaWVzXCI6dHJ1ZSxcbiAgICAgICAgICAgICAqICAgIFwiQnJvd3NlVXNlckluZm9cIjp0cnVlLFxuICAgICAgICAgICAgICogICAgXCJBZGREZWxQcml2YXRlV2ViUGFydHNcIjp0cnVlLFxuICAgICAgICAgICAgICogICAgXCJVcGRhdGVQZXJzb25hbFdlYlBhcnRzXCI6dHJ1ZSxcbiAgICAgICAgICAgICAqICAgIFwiTWFuYWdlV2ViXCI6dHJ1ZSxcbiAgICAgICAgICAgICAqICAgIFwiVXNlUmVtb3RlQVBJc1wiOnRydWUsXG4gICAgICAgICAgICAgKiAgICBcIk1hbmFnZUFsZXJ0c1wiOnRydWUsXG4gICAgICAgICAgICAgKiAgICBcIkNyZWF0ZUFsZXJ0c1wiOnRydWUsXG4gICAgICAgICAgICAgKiAgICBcIkVkaXRNeVVzZXJJbmZvXCI6dHJ1ZSxcbiAgICAgICAgICAgICAqICAgIFwiRW51bWVyYXRlUGVybWlzc2lvbnNcIjp0cnVlLFxuICAgICAgICAgICAgICogICAgXCJGdWxsTWFza1wiOnRydWVcbiAgICAgICAgICAgICAqIH1cbiAgICAgKiA8L3ByZT5cbiAgICAgKi9cbiAgICByZXNvbHZlUGVybWlzc2lvbnMocGVybWlzc2lvbnNNYXNrKTogSVVzZXJQZXJtaXNzaW9uc09iamVjdCB7XG4gICAgICAgIGNvbnN0IHBlcm1pc3Npb25TZXQgPSB7XG4gICAgICAgICAgICBWaWV3TGlzdEl0ZW1zOiAoMSAmIHBlcm1pc3Npb25zTWFzaykgPiAwLFxuICAgICAgICAgICAgQWRkTGlzdEl0ZW1zOiAoMiAmIHBlcm1pc3Npb25zTWFzaykgPiAwLFxuICAgICAgICAgICAgRWRpdExpc3RJdGVtczogKDQgJiBwZXJtaXNzaW9uc01hc2spID4gMCxcbiAgICAgICAgICAgIERlbGV0ZUxpc3RJdGVtczogKDggJiBwZXJtaXNzaW9uc01hc2spID4gMCxcbiAgICAgICAgICAgIEFwcHJvdmVJdGVtczogKDE2ICYgcGVybWlzc2lvbnNNYXNrKSA+IDAsXG4gICAgICAgICAgICBPcGVuSXRlbXM6ICgzMiAmIHBlcm1pc3Npb25zTWFzaykgPiAwLFxuICAgICAgICAgICAgVmlld1ZlcnNpb25zOiAoNjQgJiBwZXJtaXNzaW9uc01hc2spID4gMCxcbiAgICAgICAgICAgIERlbGV0ZVZlcnNpb25zOiAoMTI4ICYgcGVybWlzc2lvbnNNYXNrKSA+IDAsXG4gICAgICAgICAgICBDYW5jZWxDaGVja291dDogKDI1NiAmIHBlcm1pc3Npb25zTWFzaykgPiAwLFxuICAgICAgICAgICAgUGVyc29uYWxWaWV3czogKDUxMiAmIHBlcm1pc3Npb25zTWFzaykgPiAwLFxuXG4gICAgICAgICAgICBNYW5hZ2VMaXN0czogKDIwNDggJiBwZXJtaXNzaW9uc01hc2spID4gMCxcbiAgICAgICAgICAgIFZpZXdGb3JtUGFnZXM6ICg0MDk2ICYgcGVybWlzc2lvbnNNYXNrKSA+IDAsXG5cbiAgICAgICAgICAgIE9wZW46ICg2NTUzNiAmIHBlcm1pc3Npb25zTWFzaykgPiAwLFxuICAgICAgICAgICAgVmlld1BhZ2VzOiAoMTMxMDcyICYgcGVybWlzc2lvbnNNYXNrKSA+IDAsXG4gICAgICAgICAgICBBZGRBbmRDdXN0b21pemVQYWdlczogKDI2MjE0NCAmIHBlcm1pc3Npb25zTWFzaykgPiAwLFxuICAgICAgICAgICAgQXBwbHlUaGVtZUFuZEJvcmRlcjogKDUyNDI4OCAmIHBlcm1pc3Npb25zTWFzaykgPiAwLFxuICAgICAgICAgICAgQXBwbHlTdHlsZVNoZWV0czogKDEwNDg1NzYgJiBwZXJtaXNzaW9uc01hc2spID4gMCxcbiAgICAgICAgICAgIFZpZXdVc2FnZURhdGE6ICgyMDk3MTUyICYgcGVybWlzc2lvbnNNYXNrKSA+IDAsXG4gICAgICAgICAgICBDcmVhdGVTU0NTaXRlOiAoNDE5NDMxNCAmIHBlcm1pc3Npb25zTWFzaykgPiAwLFxuICAgICAgICAgICAgTWFuYWdlU3Vid2ViczogKDgzODg2MDggJiBwZXJtaXNzaW9uc01hc2spID4gMCxcbiAgICAgICAgICAgIENyZWF0ZUdyb3VwczogKDE2Nzc3MjE2ICYgcGVybWlzc2lvbnNNYXNrKSA+IDAsXG4gICAgICAgICAgICBNYW5hZ2VQZXJtaXNzaW9uczogKDMzNTU0NDMyICogcGVybWlzc2lvbnNNYXNrKSA+IDAsXG4gICAgICAgICAgICBCcm93c2VEaXJlY3RvcmllczogKDY3MTA4ODY0ICYgcGVybWlzc2lvbnNNYXNrKSA+IDAsXG4gICAgICAgICAgICBCcm93c2VVc2VySW5mbzogKDEzNDIxNzcyOCAmIHBlcm1pc3Npb25zTWFzaykgPiAwLFxuICAgICAgICAgICAgQWRkRGVsUHJpdmF0ZVdlYlBhcnRzOiAoMjY4NDM1NDU2ICYgcGVybWlzc2lvbnNNYXNrKSA+IDAsXG4gICAgICAgICAgICBVcGRhdGVQZXJzb25hbFdlYlBhcnRzOiAoNTM2ODcwOTEyICYgcGVybWlzc2lvbnNNYXNrKSA+IDAsXG4gICAgICAgICAgICBNYW5hZ2VXZWI6ICgxMDczNzQxODI0ICYgcGVybWlzc2lvbnNNYXNrKSA+IDAsXG4gICAgICAgICAgICBVc2VSZW1vdGVBUElzOiAoMTM3NDM4OTUzNDcyICYgcGVybWlzc2lvbnNNYXNrKSA+IDAsXG4gICAgICAgICAgICBNYW5hZ2VBbGVydHM6ICgyNzQ4Nzc5MDY5NDQgJiBwZXJtaXNzaW9uc01hc2spID4gMCxcbiAgICAgICAgICAgIENyZWF0ZUFsZXJ0czogKDU0OTc1NTgxMzg4OCAmIHBlcm1pc3Npb25zTWFzaykgPiAwLFxuICAgICAgICAgICAgRWRpdE15VXNlckluZm86ICgxMDk5NTExNjI3Nzc2ICYgcGVybWlzc2lvbnNNYXNrKSA+IDAsXG4gICAgICAgICAgICBFbnVtZXJhdGVQZXJtaXNzaW9uczogKDQ2MTE2ODYwMTg0MjczODc5MDQgJiBwZXJtaXNzaW9uc01hc2spID4gMCxcbiAgICAgICAgICAgIEZ1bGxNYXNrOiAoOTIyMzM3MjAzNjg1NDc3NTgwNyA9PSBwZXJtaXNzaW9uc01hc2spXG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZ1bGwgTWFzayBvbmx5IHJlc29sdmVzIGNvcnJlY3RseSBmb3IgdGhlIEZ1bGwgTWFzayBsZXZlbFxuICAgICAgICAgKiBzbyBpbiB0aGF0IGNhc2UsIHNldCBldmVyeXRoaW5nIHRvIHRydWVcbiAgICAgICAgICovXG4gICAgICAgIGlmIChwZXJtaXNzaW9uU2V0LkZ1bGxNYXNrKSB7XG4gICAgICAgICAgICBfLmVhY2gocGVybWlzc2lvblNldCwgZnVuY3Rpb24gKHBlcm0sIGtleSkge1xuICAgICAgICAgICAgICAgIHBlcm1pc3Npb25TZXRba2V5XSA9IHRydWU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwZXJtaXNzaW9uU2V0O1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgYW5ndWxhclBvaW50LmFwVXRpbGl0eVNlcnZpY2U6c3RyaW5naWZ5WE1MXG4gICAgICogQG1ldGhvZE9mIGFuZ3VsYXJQb2ludC5hcFV0aWxpdHlTZXJ2aWNlXG4gICAgICogQGRlc2NyaXB0aW9uIFNpbXBsZSB1dGlsaXR5IHRvIGNvbnZlcnQgYW4gWE1MIG9iamVjdCBpbnRvIGEgc3RyaW5nIGFuZCByZW1vdmUgdW5uZWNlc3Nhcnkgd2hpdGVzcGFjZS5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0geG1sIFhNTCBvYmplY3QuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gU3RyaW5naWZpZWQgdmVyc2lvbiBvZiB0aGUgWE1MIG9iamVjdC5cbiAgICAgKi9cbiAgICBzdHJpbmdpZnlYTUwoeG1sOiBFbGVtZW50KTogc3RyaW5nIHtcbiAgICAgICAgbGV0IHN0cjtcblxuICAgICAgICBpZiAoXy5pc09iamVjdCh4bWwpKSB7XG4gICAgICAgICAgICBzdHIgPSB0aGlzLnhtbFRvU3RyaW5nKHhtbCkucmVwbGFjZSgvXFxzKy9nLCAnICcpO1xuICAgICAgICB9IGVsc2UgaWYgKF8uaXNTdHJpbmcoeG1sKSkge1xuICAgICAgICAgICAgc3RyID0geG1sO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuXG5cbiAgICB0b0NhbWVsQ2FzZShzdHIpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gc3RyLnJlcGxhY2UoLyg/Ol5cXHd8W0EtWl18XFxiXFx3KS9nLCBmdW5jdGlvbiAobGV0dGVyLCBpbmRleCkge1xuICAgICAgICAgICAgcmV0dXJuIGluZGV4ID09IDAgPyBsZXR0ZXIudG9Mb3dlckNhc2UoKSA6IGxldHRlci50b1VwcGVyQ2FzZSgpO1xuICAgICAgICB9KS5yZXBsYWNlKC9cXHMrL2csICcnKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcFV0aWxpdHlTZXJ2aWNlOnl5eXltbWRkXG4gICAgICogQG1ldGhvZE9mIGFuZ3VsYXJQb2ludC5hcFV0aWxpdHlTZXJ2aWNlXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogQ29udmVydCBkYXRlIGludG8gYSBpbnQgZm9ybWF0dGVkIGFzIHl5eXltbWRkXG4gICAgICogV2UgZG9uJ3QgbmVlZCB0aGUgdGltZSBwb3J0aW9uIG9mIGNvbXBhcmlzb24gc28gYW4gaW50IG1ha2VzIHRoaXMgZWFzaWVyIHRvIGV2YWx1YXRlXG4gICAgICovXG4gICAgeXl5eW1tZGQoZGF0ZTogRGF0ZSk6IG51bWJlciB7XG4gICAgICAgIGNvbnN0IHl5eXkgPSBkYXRlLmdldEZ1bGxZZWFyKCk7XG4gICAgICAgIGNvbnN0IG1tID0gZGF0ZS5nZXRNb250aCgpICsgMTtcbiAgICAgICAgY29uc3QgZGQgPSBkYXRlLmdldERhdGUoKTtcbiAgICAgICAgLyoqIEFkZCBsZWFkaW5nIDAncyB0byBtb250aCBhbmQgZGF5IGlmIG5lY2Vzc2FyeSAqL1xuICAgICAgICByZXR1cm4gcGFyc2VJbnQoeXl5eSArIHRoaXMuZG91YmxlRGlnaXQobW0pICsgdGhpcy5kb3VibGVEaWdpdChkZCkpO1xuICAgIH1cblxuICAgIHhtbFRvU3RyaW5nKHhtbERhdGEpIHtcbiAgICAgICAgbGV0IHhtbFN0cmluZztcbiAgICAgICAgaWYgKHR5cGVvZiBYTUxTZXJpYWxpemVyICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgLyoqIE1vZGVybiBCcm93c2VycyAqL1xuICAgICAgICAgICAgeG1sU3RyaW5nID0gKG5ldyBYTUxTZXJpYWxpemVyKCkpLnNlcmlhbGl6ZVRvU3RyaW5nKHhtbERhdGEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLyoqIE9sZCB2ZXJzaW9ucyBvZiBJRSAqL1xuICAgICAgICAgICAgeG1sU3RyaW5nID0geG1sRGF0YS54bWw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHhtbFN0cmluZztcbiAgICB9XG5cblxufVxuXG4vKiogRXh0ZW5kIGxvZGFzaCB3aXRoIGEgc2ltcGxlIGhlbHBlciBmdW5jdGlvbiAqL1xuXy5taXhpbih7XG4gICAgaXNEZWZpbmVkOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuICFfLmlzVW5kZWZpbmVkKHZhbHVlKTtcbiAgICB9LFxuICAgIC8qKiBCYXNlZCBvbiBmdW5jdGlvbmFsaXR5IGluIEJyZWV6ZS5qcyAqL1xuICAgIGlzR3VpZDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykgJiYgL1thLWZBLUZcXGRdezh9LSg/OlthLWZBLUZcXGRdezR9LSl7M31bYS1mQS1GXFxkXXsxMn0vXG4gICAgICAgICAgICAgICAgLnRlc3QodmFsdWUpO1xuICAgIH1cbn0pO1xuXG4vKipcbiAqIEBuZ2RvYyBmdW5jdGlvblxuICogQG5hbWUgYW5ndWxhclBvaW50LmFwVXRpbGl0eVNlcnZpY2U6aXNHdWlkXG4gKiBAbWV0aG9kT2YgYW5ndWxhclBvaW50LmFwVXRpbGl0eVNlcnZpY2VcbiAqIEBwYXJhbSB7YW55fSB2YWx1ZSBDaGVja3MgaWYgdmFsdWUgaXMgYSBHVUlEXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gSXMgdGhlIHZhbHVlIGEgR1VJRC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzR3VpZCh2YWx1ZSk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykgJiYgL1thLWZBLUZcXGRdezh9LSg/OlthLWZBLUZcXGRdezR9LSl7M31bYS1mQS1GXFxkXXsxMn0vXG4gICAgICAgICAgICAudGVzdCh2YWx1ZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0RlZmluZWQodmFsdWUpIHtcbiAgICByZXR1cm4gIV8uaXNVbmRlZmluZWQodmFsdWUpO1xufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyIS4vc3JjL3NlcnZpY2VzL2FwVXRpbGl0eVNlcnZpY2UudHMiLCJleHBvcnQgaW50ZXJmYWNlIElYTUxGaWVsZEF0dHJpYnV0ZVR5cGVzIHtcbiAgICBba2V5OiBzdHJpbmddOiBzdHJpbmc7XG59XG4vKipcbiAqIEBuZ2RvYyBvYmplY3RcbiAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcFhNTExpc3RBdHRyaWJ1dGVUeXBlc1xuICogQGRlc2NyaXB0aW9uIENvbnN0YW50IG9iamVjdCBtYXAgd2hpY2ggY29udGFpbnMgbWFueSBjb21tb24gWE1MIGF0dHJpYnV0ZXMgZm91bmQgb24gYSBmaWVsZCBkZWZpbml0aW9uIHdpdGggdGhlaXJcbiAqIGNvcnJlc3BvbmRpbmcgdHlwZS5cbiAqL1xuZXhwb3J0IGNvbnN0IFhNTEZpZWxkQXR0cmlidXRlVHlwZXM6IElYTUxGaWVsZEF0dHJpYnV0ZVR5cGVzID0ge1xuICAgIERlY2ltYWxzOiAnTnVtYmVyJyxcbiAgICBFbmZvcmNlVW5pcXVlVmFsdWVzOiAnQm9vbGVhbicsXG4gICAgRmlsdGVyYWJsZTogJ0Jvb2xlYW4nLFxuICAgIEZyb21CYXNlVHlwZTogJ0Jvb2xlYW4nLFxuICAgIEhpZGRlbjogJ0Jvb2xlYW4nLFxuICAgIEluZGV4ZWQ6ICdCb29sZWFuJyxcbiAgICBOdW1MaW5lczogJ051bWJlcicsXG4gICAgUmVhZE9ubHk6ICdCb29sZWFuJyxcbiAgICBSZXF1aXJlZDogJ0Jvb2xlYW4nLFxuICAgIFNvcnRhYmxlOiAnQm9vbGVhbidcbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXIhLi9zcmMvY29uc3RhbnRzL2FwWE1MRmllbGRBdHRyaWJ1dGVUeXBlcy50cyIsImV4cG9ydCBpbnRlcmZhY2UgSVhNTExpc3RBdHRyaWJ1dGVUeXBlcyB7XG4gICAgW2tleTogc3RyaW5nXTogc3RyaW5nO1xufVxuLyoqXG4gKiBAbmdkb2Mgb2JqZWN0XG4gKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBYTUxMaXN0QXR0cmlidXRlVHlwZXNcbiAqIEBkZXNjcmlwdGlvbiBDb25zdGFudCBvYmplY3QgbWFwIHdoaWNoIGNvbnRhaW5zIG1hbnkgY29tbW9uIFhNTCBhdHRyaWJ1dGVzIGZvdW5kIG9uIGEgbGlzdCBkZWZpbml0aW9uIHdpdGggdGhlaXJcbiAqIGNvcnJlc3BvbmRpbmcgdHlwZS5cbiAqL1xuZXhwb3J0IGNvbnN0IFhNTExpc3RBdHRyaWJ1dGVUeXBlczogSVhNTExpc3RBdHRyaWJ1dGVUeXBlcyA9IHtcbiAgICBCYXNlVHlwZTogJ051bWJlcicsXG4gICAgU2VydmVyVGVtcGxhdGU6ICdOdW1iZXInLFxuICAgIENyZWF0ZWQ6ICdEYXRlVGltZScsXG4gICAgTW9kaWZpZWQ6ICdEYXRlVGltZScsXG4gICAgTGFzdERlbGV0ZWQ6ICdEYXRlVGltZScsXG4gICAgVmVyc2lvbjogJ051bWJlcicsXG4gICAgVGh1bWJuYWlsU2l6ZTogJ051bWJlcicsXG4gICAgV2ViSW1hZ2VXaWR0aDogJ051bWJlcicsXG4gICAgV2ViSW1hZ2VIZWlnaHQ6ICdOdW1iZXInLFxuICAgIEZsYWdzOiAnTnVtYmVyJyxcbiAgICBJdGVtQ291bnQ6ICdOdW1iZXInLFxuICAgIFJlYWRTZWN1cml0eTogJ051bWJlcicsXG4gICAgV3JpdGVTZWN1cml0eTogJ051bWJlcicsXG4gICAgQXV0aG9yOiAnTnVtYmVyJyxcbiAgICBNYWpvcldpdGhNaW5vclZlcnNpb25zTGltaXQ6ICdOdW1iZXInLFxuICAgIEhhc1VuaXF1ZVNjb3BlczogJ0Jvb2xlYW4nLFxuICAgIE5vVGhyb3R0bGVMaXN0T3BlcmF0aW9uczogJ0Jvb2xlYW4nLFxuICAgIEhhc1JlbGF0ZWRMaXN0czogJ0Jvb2xlYW4nLFxuICAgIEFsbG93RGVsZXRpb246ICdCb29sZWFuJyxcbiAgICBBbGxvd011bHRpUmVzcG9uc2VzOiAnQm9vbGVhbicsXG4gICAgRW5hYmxlQXR0YWNobWVudHM6ICdCb29sZWFuJyxcbiAgICBFbmFibGVNb2RlcmF0aW9uOiAnQm9vbGVhbicsXG4gICAgRW5hYmxlVmVyc2lvbmluZzogJ0Jvb2xlYW4nLFxuICAgIEhhc0V4dGVybmFsRGF0YVNvdXJjZTogJ0Jvb2xlYW4nLFxuICAgIEhpZGRlbjogJ0Jvb2xlYW4nLFxuICAgIE11bHRpcGxlRGF0YUxpc3Q6ICdCb29sZWFuJyxcbiAgICBPcmRlcmVkOiAnQm9vbGVhbicsXG4gICAgU2hvd1VzZXI6ICdCb29sZWFuJyxcbiAgICBFbmFibGVQZW9wbGVTZWxlY3RvcjogJ0Jvb2xlYW4nLFxuICAgIEVuYWJsZVJlc291cmNlU2VsZWN0b3I6ICdCb29sZWFuJyxcbiAgICBFbmFibGVNaW5vclZlcnNpb246ICdCb29sZWFuJyxcbiAgICBSZXF1aXJlQ2hlY2tvdXQ6ICdCb29sZWFuJyxcbiAgICBUaHJvdHRsZUxpc3RPcGVyYXRpb25zOiAnQm9vbGVhbicsXG4gICAgRXhjbHVkZUZyb21PZmZsaW5lQ2xpZW50OiAnQm9vbGVhbicsXG4gICAgRW5hYmxlRm9sZGVyQ3JlYXRpb246ICdCb29sZWFuJyxcbiAgICBJcm1FbmFibGVkOiAnQm9vbGVhbicsXG4gICAgSXNBcHBsaWNhdGlvbkxpc3Q6ICdCb29sZWFuJyxcbiAgICBQcmVzZXJ2ZUVtcHR5VmFsdWVzOiAnQm9vbGVhbicsXG4gICAgU3RyaWN0VHlwZUNvZXJjaW9uOiAnQm9vbGVhbicsXG4gICAgRW5mb3JjZURhdGFWYWxpZGF0aW9uOiAnQm9vbGVhbicsXG4gICAgTWF4SXRlbXNQZXJUaHJvdHRsZWRPcGVyYXRpb246ICdOdW1iZXInXG59O1xuXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXIhLi9zcmMvY29uc3RhbnRzL2FwWE1MTGlzdEF0dHJpYnV0ZVR5cGVzLnRzIiwiaW1wb3J0ICogYXMgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IHtJRmllbGREZWZpbml0aW9ufSBmcm9tICcuL2FwRmllbGRGYWN0b3J5JztcblxuLyoqXG4gKiBAbmdkb2MgZnVuY3Rpb25cbiAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcENhbWxGYWN0b3J5XG4gKiBAZGVzY3JpcHRpb25cbiAqIFRvb2xzIHRvIGFzc2lzdCB3aXRoIHRoZSBjcmVhdGlvbiBvZiBDQU1MIHF1ZXJpZXMuXG4gKlxuICovXG5cbmV4cG9ydCBjbGFzcyBDYW1sRmFjdG9yeSB7XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBDYW1sRmFjdG9yeTpjYW1sQ29udGFpbnNRdWVyeVxuICAgICAqIEBtZXRob2RPZiBhbmd1bGFyUG9pbnQuYXBDYW1sRmFjdG9yeVxuICAgICAqIEBwYXJhbWV0ZXIge29iamVjdFtdfSBmaWVsZERlZmluaXRpb25zQXJyYXkgQXJyYXkgb2YgZmllbGRzIHRvIHNlYXJjaCBmb3IgYSBnaXZlbiBzZWFyY2ggc3RyaW5nLlxuICAgICAqIEBwYXJhbWV0ZXIge3N0cmluZ30gc2VhcmNoU3RyaW5nIFN0cmluZyBvZiB0ZXh0IHRvIHNlYXJjaCByZWNvcmRzIGZvci5cbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBSZXR1cm5zIGEgY29tYmluYXRpb24gb2Ygc2VsZWN0b3JzIHVzaW5nIENBTUwgJzxPcj48L09yPicgZWxlbWVudHNcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBDYW1sIHNlbGVjdCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiA8cHJlPlxuICAgICAqXG4gICAgICogdmFyIHRlc3RIVE1MID0ge29iamVjdFR5cGU6ICdIVE1MJywgc3RhdGljTmFtZTogJ0hUTUwnfTtcbiAgICAgKiB2YXIgdGVzdEpTT04gPSB7b2JqZWN0VHlwZTogJ0pTT04nLCBzdGF0aWNOYW1lOiAnSlNPTid9O1xuICAgICAqIHZhciB0ZXN0VGV4dCA9IHtvYmplY3RUeXBlOiAnVGV4dCcsIHN0YXRpY05hbWU6ICdUZXh0J307XG4gICAgICogdmFyIHRlc3RUZXh0MiA9IHtvYmplY3RUeXBlOiAnVGV4dCcsIHN0YXRpY05hbWU6ICdUZXh0J307XG4gICAgICpcbiAgICAgKiB2YXIgdGVzdENhbWwgPSBjYW1sQ29udGFpbnNRdWVyeShbdGVzdEhUTUwsIHRlc3RUZXh0LCB0ZXN0SlNPTiwgdGVzdFRleHQyXSwgJ1Rlc3QgUXVlcnknKTtcbiAgICAgKiBjb25zb2xlLmxvZyh0ZXN0Q2FtbCk7XG4gICAgICpcbiAgICAgKiAvL1JldHVybnNcbiAgICAgKiA8T3I+PENvbnRhaW5zPjxGaWVsZFJlZiBOYW1lPVxcXCJIVE1MXFxcIiAvPjxWYWx1ZSBUeXBlPVxcXCJUZXh0XFxcIj48IVtDREFUQVtUZXN0IFF1ZXJ5XV0+XG4gICAgICogPC9WYWx1ZT48L0NvbnRhaW5zPjxPcj48Q29udGFpbnM+PEZpZWxkUmVmIE5hbWU9XFxcIlRleHRcXFwiIC8+PFZhbHVlIFR5cGU9XFxcIlRleHRcXFwiPlRlc3QgUXVlcnk8L1ZhbHVlPlxuICAgICAqIDwvQ29udGFpbnM+PE9yPjxDb250YWlucz48RmllbGRSZWYgTmFtZT1cXFwiSlNPTlxcXCIgLz48VmFsdWUgVHlwZT1cXFwiVGV4dFxcXCI+PCFbQ0RBVEFbVGVzdCBRdWVyeV1dPlxuICAgICAqIDwvVmFsdWU+PC9Db250YWlucz48Q29udGFpbnM+PEZpZWxkUmVmIE5hbWU9XFxcIlRleHRcXFwiIC8+PFZhbHVlIFR5cGU9XFxcIlRleHRcXFwiPlRlc3QgUXVlcnk8L1ZhbHVlPlxuICAgICAqIDwvQ29udGFpbnM+PC9Pcj48L09yPjwvT3I+XG4gICAgICogPC9wcmU+XG4gICAgICovXG4gICAgY2FtbENvbnRhaW5zUXVlcnkoZmllbGREZWZpbml0aW9uc0FycmF5OiBJRmllbGREZWZpbml0aW9uW10sIHNlYXJjaFN0cmluZzogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgY29uc3Qgc2VsZWN0U3RhdGVtZW50cyA9IFtdO1xuXG4gICAgICAgIC8qKiBDcmVhdGUgYSBzZWxlY3Qgc3RhdGVtZW50IGZvciBlYWNoIGZpZWxkICovXG4gICAgICAgIF8uZWFjaChmaWVsZERlZmluaXRpb25zQXJyYXksIChmaWVsZERlZmluaXRpb24sIGRlZmluaXRpb25JbmRleCkgPT4ge1xuICAgICAgICAgICAgc2VsZWN0U3RhdGVtZW50cy5wdXNoKHRoaXMuY3JlYXRlQ2FtbENvbnRhaW5zU2VsZWN0b3IoZmllbGREZWZpbml0aW9uLCBzZWFyY2hTdHJpbmcpKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuY2hhaW5DYW1sU2VsZWN0cyhzZWxlY3RTdGF0ZW1lbnRzLCAnQW5kJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgYW5ndWxhclBvaW50LmFwQ2FtbEZhY3Rvcnk6Y2hhaW5DYW1sU2VsZWN0c1xuICAgICAqIEBtZXRob2RPZiBhbmd1bGFyUG9pbnQuYXBDYW1sRmFjdG9yeVxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFVzZWQgdG8gY29tYmluZSBtdWx0aXBsZSBjYW1sIHNlbGVjdG9ycyBpbnRvIGEgc2luZ2xlIENBTUwgcXVlcnkgc3RyaW5nIHdyYXBwZWQgcHJvcGVybHkuXG4gICAgICogQHBhcmFtIHtvYmplY3RbXX0gc2VsZWN0U3RhdGVtZW50cyBBbiBhcnJheSBvZiBzZWxlY3Qgc3RhdGVtZW50cyB0byB3cmFwIGluIFwiPE9yPlwiLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBqb2luVHlwZSBWYWxpZCBjYW1sIGpvaW4gdHlwZSAoJ09yJywgJ0FuZCcsIC4uLikuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gQ0FNTCBxdWVyeSBzdHJpbmcuXG4gICAgICovXG4gICAgY2hhaW5DYW1sU2VsZWN0cyhzZWxlY3RTdGF0ZW1lbnRzOiBPYmplY3RbXSwgam9pblR5cGU6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIGxldCBjYW1sUXVlcnkgPSAnJztcbiAgICAgICAgbGV0IGNhbWxRdWVyeUNsb3N1cmUgPSAnJztcbiAgICAgICAgXy5lYWNoKHNlbGVjdFN0YXRlbWVudHMsIGZ1bmN0aW9uIChzdGF0ZW1lbnQsIHN0YXRlbWVudEluZGV4KSB7XG4gICAgICAgICAgICAvKiogQWRkIGFuIG9yIGNsYXVzZSBpZiB3ZSBzdGlsbCBoYXZlIGFkZGl0aW9uYWwgZmllbGRzIHRvIHByb2Nlc3MgKi9cbiAgICAgICAgICAgIGlmIChzdGF0ZW1lbnRJbmRleCA8IHNlbGVjdFN0YXRlbWVudHMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgIGNhbWxRdWVyeSArPSAnPCcgKyBqb2luVHlwZSArICc+JztcbiAgICAgICAgICAgICAgICBjYW1sUXVlcnlDbG9zdXJlID0gJzwvJyArIGpvaW5UeXBlICsgJz4nICsgY2FtbFF1ZXJ5Q2xvc3VyZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhbWxRdWVyeSArPSBzdGF0ZW1lbnQ7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gY2FtbFF1ZXJ5ICsgY2FtbFF1ZXJ5Q2xvc3VyZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBDYW1sRmFjdG9yeTpjcmVhdGVDYW1sQ29udGFpbnNTZWxlY3RvclxuICAgICAqIEBtZXRob2RPZiBhbmd1bGFyUG9pbnQuYXBDYW1sRmFjdG9yeVxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIEVzY2FwZXMgY2hhcmFjdGVycyB0aGF0IFNoYXJlUG9pbnQgZ2V0cyB1cHNldCBhYm91dCBiYXNlZCBvbiBmaWVsZCB0eXBlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogPHByZT5cbiAgICAgKiB2YXIgdGVzdEhUTUwgPSB7b2JqZWN0VHlwZTogJ0hUTUwnLCBzdGF0aWNOYW1lOiAnSFRNTCd9O1xuICAgICAqXG4gICAgICogdmFyIHRlc3RDYW1sID0gY3JlYXRlQ2FtbENvbnRhaW5zU2VsZWN0b3IodGVzdEhUTUwsICdUZXN0IFF1ZXJ5Jyk7XG4gICAgICogY29uc29sZS5sb2codGVzdENhbWwpO1xuICAgICAqXG4gICAgICogLy9SZXR1cm5zXG4gICAgICogPENvbnRhaW5zPlxuICAgICAqICAgPEZpZWxkUmVmIE5hbWU9XFxcIkhUTUxcXFwiIC8+XG4gICAgICogICA8VmFsdWUgVHlwZT1cXFwiVGV4dFxcXCI+PCFbQ0RBVEFbVGVzdCBRdWVyeV1dPjwvVmFsdWU+XG4gICAgICogPC9Db250YWlucz5cbiAgICAgKiA8L3ByZT5cbiAgICAgKi9cbiAgICBjcmVhdGVDYW1sQ29udGFpbnNTZWxlY3RvcihmaWVsZERlZmluaXRpb246IElGaWVsZERlZmluaXRpb24sIHNlYXJjaFN0cmluZzogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgbGV0IGNhbWxTZWxlY3RvcjtcbiAgICAgICAgc3dpdGNoIChmaWVsZERlZmluaXRpb24ub2JqZWN0VHlwZSkge1xuICAgICAgICAgICAgY2FzZSAnSFRNTCc6XG4gICAgICAgICAgICBjYXNlICdKU09OJzpcbiAgICAgICAgICAgICAgICBjYW1sU2VsZWN0b3IgPSAnJyArXG4gICAgICAgICAgICAgICAgICAgICc8Q29udGFpbnM+JyArXG4gICAgICAgICAgICAgICAgICAgICc8RmllbGRSZWYgTmFtZT1cIicgKyBmaWVsZERlZmluaXRpb24uc3RhdGljTmFtZSArICdcIiAvPicgK1xuICAgICAgICAgICAgICAgICAgICAvKiogVXNlIENEQVRBIHdyYXBwZXIgdG8gZXNjYXBlIFsmLCA8LCA+IF0gKi9cbiAgICAgICAgICAgICAgICAgICAgJzxWYWx1ZSBUeXBlPVwiVGV4dFwiPjwhW0NEQVRBWycgKyBzZWFyY2hTdHJpbmcgKyAnXV0+PC9WYWx1ZT4nICtcbiAgICAgICAgICAgICAgICAgICAgJzwvQ29udGFpbnM+JztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgY2FtbFNlbGVjdG9yID0gJycgK1xuICAgICAgICAgICAgICAgICAgICAnPENvbnRhaW5zPicgK1xuICAgICAgICAgICAgICAgICAgICAnPEZpZWxkUmVmIE5hbWU9XCInICsgZmllbGREZWZpbml0aW9uLnN0YXRpY05hbWUgKyAnXCIgLz4nICtcbiAgICAgICAgICAgICAgICAgICAgJzxWYWx1ZSBUeXBlPVwiVGV4dFwiPicgKyBzZWFyY2hTdHJpbmcgKyAnPC9WYWx1ZT4nICtcbiAgICAgICAgICAgICAgICAgICAgJzwvQ29udGFpbnM+JztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2FtbFNlbGVjdG9yO1xuICAgIH1cblxuXG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXIhLi9zcmMvZmFjdG9yaWVzL2FwQ2FtbEZhY3RvcnkudHMiLCJpbXBvcnQgKiBhcyBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQge0ZpZWxkU2VydmljZX0gZnJvbSAnLi4vc2VydmljZXMvYXBGaWVsZFNlcnZpY2UnO1xuaW1wb3J0IHtVdGlsaXR5U2VydmljZX0gZnJvbSAnLi4vc2VydmljZXMvYXBVdGlsaXR5U2VydmljZSc7XG5pbXBvcnQge0Zvcm1hdHRlZEZpZWxkVmFsdWVTZXJ2aWNlfSBmcm9tICcuLi9zZXJ2aWNlcy9hcEZvcm1hdHRlZEZpZWxkVmFsdWVTZXJ2aWNlJztcbmltcG9ydCB7TGlzdEl0ZW19IGZyb20gJy4vYXBMaXN0SXRlbUZhY3RvcnknO1xuXG5cbnZhciBhcEZpZWxkU2VydmljZTogRmllbGRTZXJ2aWNlLCBhcFV0aWxpdHlTZXJ2aWNlOiBVdGlsaXR5U2VydmljZSwgYXBGb3JtYXR0ZWRGaWVsZFZhbHVlU2VydmljZTogRm9ybWF0dGVkRmllbGRWYWx1ZVNlcnZpY2U7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVhNTEZpZWxkRGVmaW5pdGlvbiB7XG4gICAgSUQ/OiBzdHJpbmc7XG4gICAgVHlwZT86IHN0cmluZztcbiAgICBSZWFkT25seT86IHN0cmluZztcbiAgICBIaWRkZW4/OiBzdHJpbmc7XG4gICAgRGlzcGxheU5hbWU/OiBzdHJpbmc7XG4gICAgUmVxdWlyZWQ/OiBzdHJpbmc7XG4gICAgU291cmNlSUQ/OiBzdHJpbmc7XG4gICAgQ29sTmFtZT86IHN0cmluZztcbiAgICBTdGF0aWNOYW1lPzogc3RyaW5nO1xuICAgIENob2ljZXM/OiBzdHJpbmdbXTtcbiAgICBEZXNjcmlwdGlvbj86IHN0cmluZztcbiAgICBJbmRleGVkPzogc3RyaW5nO1xuICAgIEVuZm9yY2VVbmlxdWVWYWx1ZXM/OiBzdHJpbmc7XG4gICAgUm93T3JkaW5hbD86IHN0cmluZztcbiAgICBTb3J0YWJsZT86IHN0cmluZztcbiAgICBGaWx0ZXJhYmxlPzogc3RyaW5nO1xuICAgIFJlbGF0aW9uc2hpcERlbGV0ZUJlaGF2aW9yPzogc3RyaW5nO1xuICAgIExpc3Q/OiBzdHJpbmc7XG4gICAgU2hvd0ZpZWxkPzogc3RyaW5nO1xuICAgIFJlc3VsdFR5cGU/OiBzdHJpbmc7XG4gICAgRmlsbEluQ2hvaWNlPzogc3RyaW5nO1xuICAgIE5hbWU/OiBzdHJpbmc7XG4gICAgTnVtTGluZXM/OiBzdHJpbmc7XG4gICAgUmljaFRleHQ/OiBzdHJpbmc7XG4gICAgRm9ybWF0Pzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElGaWVsZENvbmZpZ3VyYXRpb25PYmplY3Qge1xuICAgIGNob2ljZXM/OiBzdHJpbmdbXTtcbiAgICBkZXNjcmlwdGlvbj86IHN0cmluZztcbiAgICBkaXNwbGF5TmFtZT86IHN0cmluZztcbiAgICBmb3JtYXR0ZXI/OiAobGlzdEl0ZW06IExpc3RJdGVtPGFueT4sIGZpZWxkRGVmaW5pdGlvbjogSUZpZWxkRGVmaW5pdGlvbiwgb3B0aW9ucz86IE9iamVjdCkgPT4gc3RyaW5nO1xuICAgIGxhYmVsPzogc3RyaW5nO1xuICAgIC8vSlMgcHJvcGVydHkgbmFtZSB0aGF0IHdlIHVzZSB0byBzdG9yZSB0aGUgdmFsdWUgZm9yIHRoaXMgZmllbGQuXG4gICAgbWFwcGVkTmFtZTogc3RyaW5nO1xuICAgIG9iamVjdFR5cGU6IHN0cmluZztcbiAgICByZWFkT25seT86IGJvb2xlYW47XG4gICAgcmVxdWlyZWQ/OiBib29sZWFuO1xuICAgIHN0YXRpY05hbWU6IHN0cmluZztcbiAgICBba2V5OiBzdHJpbmddOiBhbnk7XG59XG5cbi8vQW4gZXh0ZW5kZWQgZmllbGQgZGVmaW5pdGlvbiBjb21iaW5lcyB0aGUgdXNlciBkZWZpbmVkIGZpZWxkIGRlZmluaXRpb24gd2l0aCB0aGUgWE1MIHJldHVybmVkIGJ5IFNoYXJlUG9pbnRcbmV4cG9ydCBpbnRlcmZhY2UgSUZpZWxkRGVmaW5pdGlvbiBleHRlbmRzIElYTUxGaWVsZERlZmluaXRpb24sIElGaWVsZENvbmZpZ3VyYXRpb25PYmplY3Qge1xuICAgIGdldERlZmF1bHRWYWx1ZUZvclR5cGU/KCk6IGFueTtcbiAgICBnZXRGb3JtYXR0ZWRWYWx1ZT8obGlzdEl0ZW06IExpc3RJdGVtPGFueT4sIG9wdGlvbnM/OiBPYmplY3QpOiBzdHJpbmc7XG4gICAgZ2V0TW9ja0RhdGE/KG9wdGlvbnMpOiBhbnk7XG4gICAgW2tleTogc3RyaW5nXTogYW55O1xufVxuXG5cbi8qKlxuICogQG5nZG9jIG9iamVjdFxuICogQG5hbWUgRmllbGRcbiAqIEBkZXNjcmlwdGlvblxuICogRGVmaW5lZCBpbiB0aGUgTU9ERUwubGlzdC5maWVsZERlZmluaXRpb25zIGFycmF5LiAgRWFjaCBmaWVsZCBkZWZpbml0aW9uIG9iamVjdCBtYXBzIGFuIGludGVybmFsIGZpZWxkXG4gKiBpbiBhIFNoYXJlUG9pbnQgbGlzdC9saWJyYXJ5IHRvIGEgSmF2YVNjcmlwdCBvYmplY3QgdXNpbmcgdGhlIGludGVybmFsIFNoYXJlUG9pbnQgZmllbGQgbmFtZSwgdGhlIGZpZWxkXG4gKiB0eXBlLCBhbmQgdGhlIGRlc2lyZWQgSmF2YVNjcmlwdCBwcm9wZXJ0eSBuYW1lIHRvIGFkZCBvbnRvIHRoZSBwYXJzZWQgbGlzdCBpdGVtIG9iamVjdC4gSWdub3JlIHNob3duIHVzYWdlLFxuICogZWFjaCBmaWVsZCBkZWZpbml0aW9uIGlzIGp1c3QgYW4gb2JqZWN0IHdpdGhpbiB0aGUgZmllbGREZWZpbml0aW9ucyBhcnJheS5cbiAqIEBwYXJhbSB7b2JqZWN0fSBvYmogRmllbGQgZGVmaW5pdGlvbi5cbiAqIEBwYXJhbSB7c3RyaW5nfSBvYmouc3RhdGljTmFtZSBUaGUgYWN0dWFsIFNoYXJlUG9pbnQgZmllbGQgbmFtZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbb2JqLm9iamVjdFR5cGU9J1RleHQnXVxuICogPGRsPlxuICogICAgIDxkdD5Cb29sZWFuPC9kdD5cbiAqICAgICA8ZGQ+VXNlZCB0byBzdG9yZSBhIFRSVUUvRkFMU0UgdmFsdWUgKHN0b3JlZCBpbiBTaGFyZVBvaW50IGFzIDAgb3IgMSkuPC9kZD5cbiAqICAgICA8ZHQ+Q2FsYzwvZHQ+XG4gKiAgICAgPGRkPlwiOyNcIiBEZWxpbWl0ZWQgU3RyaW5nOiBUaGUgZmlyc3QgdmFsdWUgd2lsbCBiZSB0aGUgY2FsY3VsYXRlZCBjb2x1bW4gdmFsdWVcbiAqICAgICB0eXBlLCB0aGUgc2Vjb25kIHdpbGwgYmUgdGhlIHZhbHVlPC9kZD5cbiAqICAgICA8ZHQ+Q2hvaWNlPC9kdD5cbiAqICAgICA8ZGQ+U2ltcGxlIHRleHQgc3RyaW5nIGJ1dCB3aGVuIHByb2Nlc3NpbmcgdGhlIGluaXRpYWwgbGlzdCBkZWZpbml0aW9uLCB3ZVxuICogICAgIGxvb2sgZm9yIGEgQ2hvaWNlcyBYTUwgZWxlbWVudCB3aXRoaW4gdGhlIGZpZWxkIGRlZmluaXRpb24gYW5kIHN0b3JlIGVhY2hcbiAqICAgICB2YWx1ZS4gIFdlIGNhbiB0aGVuIHJldHJpZXZlIHRoZSB2YWxpZCBDaG9pY2VzIHdpdGggb25lIG9mIHRoZSBmb2xsb3dpbmc6XG4gKiAgICAgYGBgdmFyIGZpZWxkRGVmaW5pdGlvbiA9IExJU1RJVEVNLmdldEZpZWxkRGVmaW5pdGlvbignQ0hPSUNFX0ZJRUxEX05BTUUnKTtgYGBcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvclxuICogICAgIGBgYHZhciBmaWVsZERlZmluaXRpb24gPSBNT0RFTE5BTUUuZ2V0RmllbGREZWZpbml0aW9uKCdDSE9JQ0VfRklFTERfTkFNRScpO2BgYFxuICogICAgIGBgYHZhciBjaG9pY2VzID0gZmllbGREZWZpbml0aW9uLkNob2ljZXM7YGBgXG4gKiAgICAgPC9kZD5cbiAqICAgICA8ZHQ+Q291bnRlcjwvZHQ+XG4gKiAgICAgPGRkPlNhbWUgYXMgSW50ZWdlci4gR2VuZXJhbGx5IHVzZWQgb25seSBmb3IgdGhlIGludGVybmFsIElEIGZpZWxkLiBJdHMgaW50ZWdlclxuICogICAgIHZhbHVlIGlzIHNldCBhdXRvbWF0aWNhbGx5IHRvIGJlIHVuaXF1ZSB3aXRoIHJlc3BlY3QgdG8gZXZlcnkgb3RoZXIgaXRlbSBpbiB0aGVcbiAqICAgICBjdXJyZW50IGxpc3QuIFRoZSBDb3VudGVyIHR5cGUgaXMgYWx3YXlzIHJlYWQtb25seSBhbmQgY2Fubm90IGJlIHNldCB0aHJvdWdoIGFcbiAqICAgICBmb3JtIHBvc3QuPC9kZD5cbiAqICAgICA8ZHQ+Q3VycmVuY3k8L2R0PlxuICogICAgIDxkZD5GbG9hdGluZyBwb2ludCBudW1iZXIuPC9kZD5cbiAqICAgICA8ZHQ+RGF0ZVRpbWU8L2R0PlxuICogICAgIDxkZD5SZXBsYWNlIGRhc2hlcyB3aXRoIHNsYXNoZXMgYW5kIHRoZSBcIlRcIiBkZWxpbWluYXRvciB3aXRoIGEgc3BhY2UgaWYgZm91bmQuICBUaGVuXG4gKiAgICAgY29udmVydHMgaW50byBhIHZhbGlkIEpTIGRhdGUgb2JqZWN0LjwvZGQ+XG4gKiAgICAgPGR0PkZsb2F0PC9kdD5cbiAqICAgICA8ZGQ+RmxvYXRpbmcgcG9pbnQgbnVtYmVyLjwvZGQ+XG4gKiAgICAgPGR0PkhUTUw8L2R0PlxuICogICAgIDxkZD5gYGBfLnVuZXNjYXBlKFNUUklORylgYGA8L2RkPlxuICogICAgIDxkdD5JbnRlZ2VyPC9kdD5cbiAqICAgICA8ZGQ+UGFyc2VzIHRoZSBzdHJpbmcgdG8gYSBiYXNlIDEwIGludC48L2RkPlxuICogICAgIDxkdD5KU09OPC9kdD5cbiAqICAgICA8ZGQ+UGFyc2VzIEpTT04gaWYgdmFsaWQgYW5kIGNvbnZlcnRzIGludG8gYSBhIEpTIG9iamVjdC4gIElmIG5vdCB2YWxpZCwgYW4gZXJyb3IgaXNcbiAqICAgICB0aHJvd24gd2l0aCBhZGRpdGlvbmFsIGluZm8gb24gc3BlY2lmaWNhbGx5IHdoYXQgaXMgaW52YWxpZC48L2RkPlxuICogICAgIDxkdD5Mb29rdXA8L2R0PlxuICogICAgIDxkZD5QYXNzZXMgc3RyaW5nIHRvIExvb2t1cCBjb25zdHJ1Y3RvciB3aGVyZSBpdCBpcyBicm9rZW4gaW50byBhbiBvYmplY3QgY29udGFpbmluZ1xuICogICAgIGEgXCJsb29rdXBWYWx1ZVwiIGFuZCBcImxvb2t1cElkXCIgYXR0cmlidXRlLiAgSW5oZXJpdHMgYWRkaXRpb25hbCBwcm90b3R5cGUgbWV0aG9kcyBmcm9tXG4gKiAgICAgTG9va3VwLiAgU2VlIFtMb29rdXBdKCMvYXBpL0xvb2t1cCkgZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gKiAgICAgPC9kZD5cbiAqICAgICA8ZHQ+TG9va3VwTXVsdGk8L2R0PlxuICogICAgIDxkZD5Db252ZXJ0cyBtdWx0aXBsZSBkZWxpbWl0ZWQgXCI7I1wiIHN0cmluZ3MgaW50byBhbiBhcnJheSBvZiBMb29rdXAgb2JqZWN0cy48L2RkPlxuICogICAgIDxkdD5NdWx0aUNob2ljZTwvZHQ+XG4gKiAgICAgPGRkPkNvbnZlcnRzIGRlbGltaXRlZCBcIjsjXCIgc3RyaW5nIGludG8gYW4gYXJyYXkgb2Ygc3RyaW5ncyByZXByZXNlbnRpbmcgZWFjaCBvZiB0aGVcbiAqICAgICBzZWxlY3RlZCBjaG9pY2VzLiAgU2ltaWxhciB0byB0aGUgc2luZ2xlIFwiQ2hvaWNlXCIsIHRoZSBYTUwgQ2hvaWNlcyBhcmUgc3RvcmVkIGluIHRoZVxuICogICAgIGZpZWxkIGRlZmluaXRpb24gYWZ0ZXIgdGhlIGluaXRpYWwgY2FsbCBpcyByZXR1cm5lZCBmcm9tIFNoYXJlUG9pbnQgc28gd2UgY2FuIHJlZmVyZW5jZVxuICogICAgIGxhdGVyLlxuICogICAgIDwvZGQ+XG4gKiAgICAgPGR0Pk51bWJlcjwvZHQ+XG4gKiAgICAgPGRkPlRyZWF0cyBhcyBhIGZsb2F0LjwvZGQ+XG4gKiAgICAgPGR0PlRleHQ8L2R0PlxuICogICAgIDxkZD4qKkRlZmF1bHQqKiBObyBwcm9jZXNzaW5nIG9mIHRoZSB0ZXh0IHN0cmluZyBmcm9tIFhNTC48L2RkPlxuICogICAgIDxkdD5Vc2VyPC9kdD5cbiAqICAgICA8ZGQ+U2ltaWxhciB0byBMb29rdXAgYnV0IHVzZXMgdGhlIFwiVXNlclwiIHByb3RvdHlwZSBhcyBhIGNvbnN0cnVjdG9yIHRvIGNvbnZlcnQgaW50byBhXG4gKiAgICAgVXNlciBvYmplY3Qgd2l0aCBcImxvb2t1cElkXCIgYW5kIFwibG9va3VwVmFsdWVcIiBhdHRyaWJ1dGVzLiAgVGhlIGxvb2t1cElkIGlzIHRoZSBzaXRlIGNvbGxlY3Rpb25cbiAqICAgICBJRCBmb3IgdGhlIHVzZXIgYW5kIHRoZSBsb29rdXBWYWx1ZSBpcyB0eXBpY2FsbHkgdGhlIGRpc3BsYXkgbmFtZS5cbiAqICAgICBTZWUgW1VzZXJdKCMvYXBpL1VzZXIpIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICogICAgIDwvZGQ+XG4gKiAgICAgPGR0PlVzZXJNdWx0aTwvZHQ+XG4gKiAgICAgPGRkPlBhcnNlcyBkZWxpbWl0ZWQgc3RyaW5nIHRvIHJldHVybnMgYW4gYXJyYXkgb2YgVXNlciBvYmplY3RzLjwvZGQ+XG4gKiA8L2RsPlxuICogQHBhcmFtIHtzdHJpbmd9IG9iai5tYXBwZWROYW1lIFRoZSBhdHRyaWJ1dGUgbmFtZSB3ZSdkIGxpa2UgdG8gdXNlXG4gKiBmb3IgdGhpcyBmaWVsZCBvbiB0aGUgbmV3bHkgY3JlYXRlZCBKUyBvYmplY3QuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvYmoucmVhZE9ubHk9ZmFsc2VdIFdoZW4gc2F2aW5nLCB3ZSBvbmx5IHB1c2ggZmllbGRzXG4gKiB0aGF0IGFyZSBtYXBwZWQgYW5kIG5vdCByZWFkIG9ubHkuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvYmoucmVxdWlyZWQ9ZmFsc2VdIEFsbG93cyB1cyB0byB2YWxpZGF0ZSB0aGUgZmllbGQgdG8gZW5zdXJlIGl0IGlzIHZhbGlkIGJhc2VkXG4gKiBvbiBmaWVsZCB0eXBlLlxuICogQHJldHVybnMge29iamVjdH0gRmllbGRcbiAqXG4gKiBAcmVxdWlyZXMgYW5ndWxhclBvaW50LmFwRmllbGRGYWN0b3J5XG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZXhwb3J0IGNsYXNzIEZpZWxkRGVmaW5pdGlvbiBpbXBsZW1lbnRzIElGaWVsZERlZmluaXRpb24ge1xuICAgIGRpc3BsYXlOYW1lOiBzdHJpbmc7XG4gICAgZm9ybWF0dGVyOiAobGlzdEl0ZW06IExpc3RJdGVtPGFueT4sIGZpZWxkRGVmaW5pdGlvbjogSUZpZWxkRGVmaW5pdGlvbiwgb3B0aW9ucz86IE9iamVjdCkgPT4gc3RyaW5nO1xuICAgIGludGVybmFsTmFtZTogc3RyaW5nO1xuICAgIGxhYmVsOiBzdHJpbmc7XG4gICAgbWFwcGVkTmFtZTogc3RyaW5nO1xuICAgIG9iamVjdFR5cGUgPSAnVGV4dCc7XG4gICAgcmVhZE9ubHkgPSBmYWxzZTtcbiAgICBzdGF0aWNOYW1lOiBzdHJpbmc7XG5cbiAgICBjb25zdHJ1Y3RvcihvYmopIHtcbiAgICAgICAgXy5hc3NpZ24odGhpcywgb2JqKTtcbiAgICAgICAgdGhpcy5kaXNwbGF5TmFtZSA9IHRoaXMuZGlzcGxheU5hbWUgPyB0aGlzLmRpc3BsYXlOYW1lIDogYXBVdGlsaXR5U2VydmljZS5mcm9tQ2FtZWxDYXNlKHRoaXMubWFwcGVkTmFtZSk7XG5cbiAgICAgICAgLyoqIERlcHJlY2F0ZWQgaW50ZXJuYWwgbmFtZSBhbmQgcmVwbGFjZSB3aXRoIHN0YXRpY05hbWUgYnV0IG1haW50YWluIGNvbXBhdGliaWxpdHkgKi9cbiAgICAgICAgdGhpcy5zdGF0aWNOYW1lID0gdGhpcy5zdGF0aWNOYW1lIHx8IHRoaXMuaW50ZXJuYWxOYW1lO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIEZpZWxkOmdldERlZmF1bHRWYWx1ZUZvclR5cGVcbiAgICAgKiBAbWV0aG9kT2YgRmllbGRcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBDYW4gcmV0dXJuIG1vY2sgZGF0YSBhcHByb3ByaWF0ZSBmb3IgdGhlIGZpZWxkIHR5cGUsIGJ5IGRlZmF1bHQgaXQgZHluYW1pY2FsbHkgZ2VuZXJhdGVzIGRhdGEgYnV0XG4gICAgICogdGhlIHN0YXRpY1ZhbHVlIHBhcmFtIHdpbGwgaW5zdGVhZCByZXR1cm4gYSBoYXJkIGNvZGVkIHR5cGUgc3BlY2lmaWMgdmFsdWUuXG4gICAgICovXG4gICAgZ2V0RGVmYXVsdFZhbHVlRm9yVHlwZSgpOiBhbnkge1xuICAgICAgICByZXR1cm4gYXBGaWVsZFNlcnZpY2UuZ2V0RGVmYXVsdFZhbHVlRm9yVHlwZSh0aGlzLm9iamVjdFR5cGUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIEZpZWxkOmdldEZvcm1hdHRlZFZhbHVlXG4gICAgICogQG1ldGhvZE9mIEZpZWxkXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogQnkgZGVmYXVsdCB1c2VzIHRoZSBmb3JtYXR0ZWQgZmllbGQgc2VydmljZSB0byBjb252ZXJ0IGEgZmllbGQgdmFsdWUgaW50byBhIGZvcm1hdHRlZCBzdHJpbmdcbiAgICAgKiByZWFkYWJsZSBieSB1c2VyLiAgT3B0aW9uYWxseSBjYW4gb3ZlcnJpZGUgaW4gZmllbGQgZGVmaW5pdGlvbiB3aXRoIGZvcm1hdHRlciBwcm9wZXJ0eSB0byByZXR1cm5cbiAgICAgKiBjdXN0b20gZm9ybWF0dGVkIHZhbHVlLiBBIGdvb2QgZXhhbXBsZSBvZiB0aGlzIHdvdWxkIGJlIHRvIHN0cmluZ2lmeSBhIGRpc2N1c3Npb24gdGhyZWFkLlxuICAgICAqIEBwYXJhbSB7TGlzdEl0ZW08YW55Pn0gbGlzdEl0ZW0gTGlzdCB1c2VkIHRvIGdlbmVyYXRlIGZpZWxkIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gUGFzcyB0aHJvdWdoIHRvIGFwRm9ybWF0dGVkRmllbGRWYWx1ZVNlcnZpY2UuZ2V0Rm9ybWF0dGVkRmllbGRWYWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBGb3JtYXR0ZWQgZmllbGQgdmFsdWUgc3VpdGFibGUgZm9yIG91dHB1dHRpbmcgdG8gdXNlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIDxwcmU+XG4gICAgICogIC8vSW4gbW9kZWwubGlzdC5jdXN0b21GaWVsZHMgZGVmaW5pbmcgYSBmaWVsZFxuICAgICAqIHtcblx0XHQgKiBcdCAgbWFwcGVkTmFtZTogJ2xvb2t1cCcsXG5cdFx0ICogXHQgIG9iamVjdFR5cGU6ICdMb29rdXAnLFxuICAgICAgICAgKiAgICBzdGF0aWNOYW1lOiAnTXlBd2Vzb21lTG9va3VwJyxcblx0XHQgKiBcdCAgZm9ybWF0dGVyOiAobGlzdEl0ZW06IExpc3RJdGVtPGFueT4sIGZpZWxkRGVmaW5pdGlvbjogSUZpZWxkRGVmaW5pdGlvbiwgb3B0aW9ucz86IE9iamVjdCkgPT4ge1xuXHRcdCAqIFx0ICBcdCByZXR1cm4gbGlzdEl0ZW1bZmllbGREZWZpbml0aW9uLm1hcHBlZE5hbWVdLmxvb2t1cFZhbHVlLnRvVXBwZXJDYXNlKCk7XG5cdFx0ICogXHQgIH1cblx0XHQgKiB9XG4gICAgICogPC9wcmU+XG4gICAgICovXG4gICAgZ2V0Rm9ybWF0dGVkVmFsdWUobGlzdEl0ZW06IExpc3RJdGVtPGFueT4sIG9wdGlvbnM/OiBPYmplY3QpOiBzdHJpbmcge1xuICAgICAgICAvL09wdGlvbmFsbHkgcHJvdmlkZSBhIGN1c3RvbSBtZXRob2QgdG8gY29udmVydCBhIGZpZWxkIHZhbHVlIGludG8gYSBmb3JtYXR0ZWQgc3RyaW5nXG4gICAgICAgIHJldHVybiBfLmlzRnVuY3Rpb24odGhpcy5mb3JtYXR0ZXIpID8gdGhpcy5mb3JtYXR0ZXIobGlzdEl0ZW0sIHRoaXMsIG9wdGlvbnMpIDpcbiAgICAgICAgICAgIGFwRm9ybWF0dGVkRmllbGRWYWx1ZVNlcnZpY2VcbiAgICAgICAgICAgICAgICAuZ2V0Rm9ybWF0dGVkRmllbGRWYWx1ZShsaXN0SXRlbVt0aGlzLm1hcHBlZE5hbWVdLCB0aGlzLm9iamVjdFR5cGUsIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIEZpZWxkOmdldE1vY2tEYXRhXG4gICAgICogQG1ldGhvZE9mIEZpZWxkXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSBPcHRpb25hbCBwYXJhbXMgcGFzc2VkIHRvIGFwRmllbGRTZXJ2aWNlLmdldE1vY2tEYXRhLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuc3RhdGljVmFsdWU9ZmFsc2VdIERlZmF1bHQgdG8gZHluYW1pY2FsbHkgYnVpbGQgbW9jayBkYXRhLlxuICAgICAqIEByZXR1cm5zIHsqfSBtb2NrRGF0YVxuICAgICAqL1xuICAgIGdldE1vY2tEYXRhKG9wdGlvbnMpOiBhbnkge1xuICAgICAgICByZXR1cm4gYXBGaWVsZFNlcnZpY2UuZ2V0TW9ja0RhdGEodGhpcy5vYmplY3RUeXBlLCBvcHRpb25zKTtcbiAgICB9XG5cbn1cblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgYW5ndWxhclBvaW50LmFwRmllbGRGYWN0b3J5XG4gKiBAZGVzY3JpcHRpb25cbiAqIENvbnRhaW5zIHRoZSBGaWVsZCBjb25zdHJ1Y3RvciBhbmQgcHJvdG90eXBlIGRlZmluaXRpb25zLlxuICogQHByb3BlcnR5IHtjb25zdHJ1Y3Rvcn0gRmllbGQgVGhlIEZpZWxkIGNvbnN0cnVjdG9yLlxuICpcbiAqIEByZXF1aXJlcyBhbmd1bGFyUG9pbnQuYXBGaWVsZFNlcnZpY2VcbiAqIEByZXF1aXJlcyBhbmd1bGFyUG9pbnQuYXBVdGlsaXR5U2VydmljZVxuICpcbiAqL1xuZXhwb3J0IGNsYXNzIEZpZWxkRmFjdG9yeSB7XG4gICAgc3RhdGljICRpbmplY3QgPSBbJ2FwRmllbGRTZXJ2aWNlJywgJ2FwVXRpbGl0eVNlcnZpY2UnLCAnYXBGb3JtYXR0ZWRGaWVsZFZhbHVlU2VydmljZSddO1xuICAgIEZpZWxkRGVmaW5pdGlvbiA9IEZpZWxkRGVmaW5pdGlvbjtcblxuICAgIGNvbnN0cnVjdG9yKF9hcEZpZWxkU2VydmljZV8sIF9hcFV0aWxpdHlTZXJ2aWNlXywgX2FwRm9ybWF0dGVkRmllbGRWYWx1ZVNlcnZpY2VfKSB7XG4gICAgICAgIGFwRmllbGRTZXJ2aWNlID0gX2FwRmllbGRTZXJ2aWNlXztcbiAgICAgICAgYXBVdGlsaXR5U2VydmljZSA9IF9hcFV0aWxpdHlTZXJ2aWNlXztcbiAgICAgICAgYXBGb3JtYXR0ZWRGaWVsZFZhbHVlU2VydmljZSA9IF9hcEZvcm1hdHRlZEZpZWxkVmFsdWVTZXJ2aWNlXztcbiAgICB9XG59XG5cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlciEuL3NyYy9mYWN0b3JpZXMvYXBGaWVsZEZhY3RvcnkudHMiLCJpbXBvcnQgKiBhcyBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQge0NhY2hlU2VydmljZX0gZnJvbSAnLi4vc2VydmljZXMvYXBDYWNoZVNlcnZpY2UnO1xuaW1wb3J0IHtEYXRhU2VydmljZX0gZnJvbSAnLi4vc2VydmljZXMvYXBEYXRhU2VydmljZSc7XG5pbXBvcnQge0RlY29kZVNlcnZpY2V9IGZyb20gJy4uL3NlcnZpY2VzL2FwRGVjb2RlU2VydmljZSc7XG5pbXBvcnQge0VuY29kZVNlcnZpY2V9IGZyb20gJy4uL3NlcnZpY2VzL2FwRW5jb2RlU2VydmljZSc7XG5pbXBvcnQge1V0aWxpdHlTZXJ2aWNlfSBmcm9tICcuLi9zZXJ2aWNlcy9hcFV0aWxpdHlTZXJ2aWNlJztcbmltcG9ydCB7XG4gICAgTGlzdEl0ZW1WZXJzaW9uRmFjdG9yeSxcbiAgICBGaWVsZENoYW5nZVN1bW1hcnksXG4gICAgQ2hhbmdlU3VtbWFyeSxcbiAgICBWZXJzaW9uSGlzdG9yeUNvbGxlY3Rpb24sXG4gICAgRmllbGRWZXJzaW9uQ29sbGVjdGlvblxufSBmcm9tICcuL2FwTGlzdEl0ZW1WZXJzaW9uRmFjdG9yeSc7XG5pbXBvcnQge0NoYW5nZVNlcnZpY2V9IGZyb20gJy4uL3NlcnZpY2VzL2FwQ2hhbmdlU2VydmljZSc7XG5pbXBvcnQge0lVc2VyfSBmcm9tICcuL2FwVXNlckZhY3RvcnknO1xuaW1wb3J0IHtJTG9va3VwfSBmcm9tICcuL2FwTG9va3VwRmFjdG9yeSc7XG5pbXBvcnQge0luZGV4ZWRDYWNoZX0gZnJvbSAnLi9hcEluZGV4ZWRDYWNoZUZhY3RvcnknO1xuaW1wb3J0IHtJUXVlcnl9IGZyb20gJy4vYXBRdWVyeUZhY3RvcnknO1xuaW1wb3J0IHtNb2RlbCwgSU1vZGVsRmFjdG9yeX0gZnJvbSAnLi9hcE1vZGVsRmFjdG9yeSc7XG5pbXBvcnQge0lGaWVsZERlZmluaXRpb259IGZyb20gJy4vYXBGaWVsZEZhY3RvcnknO1xuaW1wb3J0IHtMaXN0fSBmcm9tICcuL2FwTGlzdEZhY3RvcnknO1xuaW1wb3J0IHtJVXNlclBlcm1pc3Npb25zT2JqZWN0fSBmcm9tICcuLi9jb25zdGFudHMvYXBQZXJtaXNzaW9uT2JqZWN0JztcbmltcG9ydCB7SVdvcmtmbG93RGVmaW5pdGlvbiwgSVN0YXJ0V29ya2Zsb3dQYXJhbXN9IGZyb20gJy4uL2ludGVyZmFjZXMvaW5kZXgnO1xuaW1wb3J0IHtFTlZ9IGZyb20gJy4uL2FwcC5tb2R1bGUnO1xuXG5cbmxldCAkcTogbmcuSVFTZXJ2aWNlLCBhcENhY2hlU2VydmljZTogQ2FjaGVTZXJ2aWNlLCBhcERhdGFTZXJ2aWNlOiBEYXRhU2VydmljZSwgYXBEZWNvZGVTZXJ2aWNlOiBEZWNvZGVTZXJ2aWNlLFxuICAgIGFwRW5jb2RlU2VydmljZTogRW5jb2RlU2VydmljZSwgYXBVdGlsaXR5U2VydmljZTogVXRpbGl0eVNlcnZpY2UsXG4gICAgYXBMaXN0SXRlbVZlcnNpb25GYWN0b3J5OiBMaXN0SXRlbVZlcnNpb25GYWN0b3J5LCBhcENoYW5nZVNlcnZpY2U6IENoYW5nZVNlcnZpY2U7XG5cbi8vIHJhdyBsaXN0IGl0ZW0gYmVmb3JlIHBhc3NlZCBpbnRvIGNvbnN0cnVjdG9yIGZ1bmN0aW9uXG5leHBvcnQgaW50ZXJmYWNlIElVbmluc3RhbnRpYXRlZExpc3RJdGVtIHtcbiAgICBhdXRob3I6IElVc2VyO1xuICAgIGNyZWF0ZWQ6IERhdGU7XG4gICAgZWRpdG9yOiBJVXNlcjtcbiAgICBmaWxlUmVmOiBJTG9va3VwPGFueT47XG4gICAgaWQ6IG51bWJlcjtcbiAgICBtb2RpZmllZDogRGF0ZTtcbiAgICBwZXJtTWFzazogc3RyaW5nO1xuICAgIHVuaXF1ZUlkOiBzdHJpbmc7XG4gICAgW2tleTogc3RyaW5nXTogYW55O1xufVxuXG4vLyBzdGFuZGFyZCB1bmluc3RhbnRpYXRlZCBsaXN0IGl0ZW0gd2l0aCBoZWxwZXIgbWV0aG9kcyByZXF1aXJlZCB0byBpbnN0YW50aWF0ZSB3aXRoIG1vZGVsIGZhY3RvcnlcbmV4cG9ydCBpbnRlcmZhY2UgSVVuaW5zdGFudGlhdGVkRXh0ZW5kZWRMaXN0SXRlbTxUIGV4dGVuZHMgTGlzdEl0ZW08YW55Pj4gZXh0ZW5kcyBJVW5pbnN0YW50aWF0ZWRMaXN0SXRlbSB7XG4gICAgZ2V0Q2FjaGU6ICgpID0+IEluZGV4ZWRDYWNoZTxUPjtcbiAgICBnZXRRdWVyeTogKCkgPT4gSVF1ZXJ5PFQ+O1xufVxuXG5cbi8qKlxuICogQG5nZG9jIG9iamVjdFxuICogQG5hbWUgTGlzdEl0ZW1cbiAqIEBkZXNjcmlwdGlvblxuICogQmFzZSBwcm90b3R5cGUgd2hpY2ggYWxsIGxpc3QgaXRlbXMgaW5oZXJpdCBmcm9tLiAgQWxsIG1ldGhvZHMgY2FuIGJlIGFjY2Vzc2VkIHRocm91Z2ggdGhpcyBwcm90b3R5cGUgc28gYWxsIENSVURcbiAqIGZ1bmN0aW9uYWxpdHkgY2FuIGJlIGNhbGxlZCBkaXJlY3RseSBmcm9tIGEgZ2l2ZW4gbGlzdCBpdGVtLlxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmV4cG9ydCBjbGFzcyBMaXN0SXRlbTxUIGV4dGVuZHMgTGlzdEl0ZW08YW55Pj4gaW1wbGVtZW50cyBJVW5pbnN0YW50aWF0ZWRFeHRlbmRlZExpc3RJdGVtPFQ+IHtcbiAgICBhdXRob3I6IElVc2VyO1xuICAgIGNyZWF0ZWQ6IERhdGU7XG4gICAgZWRpdG9yOiBJVXNlcjtcbiAgICBmaWxlUmVmOiBJTG9va3VwPFQ+O1xuICAgIGdldENhY2hlOiAoKSA9PiBJbmRleGVkQ2FjaGU8VD47XG4gICAgZ2V0TW9kZWw6IDxNIGV4dGVuZHMgTW9kZWw+KCkgPT4gTTtcbiAgICBnZXRQcmlzdGluZTogKCkgPT4gSVVuaW5zdGFudGlhdGVkTGlzdEl0ZW07XG4gICAgZ2V0UXVlcnk6ICgpID0+IElRdWVyeTxUPjtcbiAgICBpZDogbnVtYmVyO1xuICAgIG1vZGlmaWVkOiBEYXRlO1xuICAgIHBlcm1NYXNrOiBzdHJpbmc7XG4gICAgdW5pcXVlSWQ6IHN0cmluZztcbiAgICBwcml2YXRlIHByZURlbGV0ZUFjdGlvbjogKCkgPT4gYm9vbGVhbjtcbiAgICBwcml2YXRlIHByZVNhdmVBY3Rpb246ICgpID0+IGJvb2xlYW47XG4gICAgcHJpdmF0ZSBwb3N0U2F2ZUFjdGlvbjogKCkgPT4gdm9pZDtcblxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgTGlzdEl0ZW0uY2hhbmdlc1xuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIENoZWNrcyBhIGdpdmVuIGxpc3QgaXRlbSBjb21wYXJlZCB0byBpdHMgcHJpc3RpbmUgc3RhdGUgYW5kIHJldHVucyBhIGZpZWxkIGNoYW5nZSBzdW1tYXJ5XG4gICAgICogd2l0aCBpbmZvcm1hdGlvbiBvbiBhbnkgc2lnbmlmaWNhbnQgY2hhbmdlcyB0byBub24tcmVhZG9ubHkgZmllbGRzLlxuICAgICAqIEByZXR1cm5zIHtGaWVsZENoYW5nZVN1bW1hcnk8VD59IENoYW5nZSBzdW1tYXJ5IG9mIGFsbCBmaWVsZHMgdGhhdCBoYXZlIGJlZW4gbW9kaWZpZWRcbiAgICAgKiBzaW5jZSBsYXN0IHNhdmUuXG4gICAgICovXG4gICAgY2hhbmdlcygpOiBGaWVsZENoYW5nZVN1bW1hcnk8VD4ge1xuICAgICAgICAvL0luc3RhbnRpYXRlIGEgY29weSBvZiB0aGUgb3JpZ2luYWwgbGlzdCBpdGVtIGZvciBjb21wYXJyaXNvblxuICAgICAgICBsZXQgcHJpc3RpbmVMaXN0SXRlbSA9IF8uY2xvbmVEZWVwPHtpZDogbnVtYmVyfT4odGhpcy5nZXRQcmlzdGluZSgpKTtcbiAgICAgICAgaWYgKCFwcmlzdGluZUxpc3RJdGVtKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvdWxkIG5vdCByZXRyaWV2ZSBhIHByaXN0aW5lIHZlcnNpb24gb2YgdGhpcyBsaXN0IGl0ZW0uJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy9SZW1vdmUgaWQgc28gd2hlbiB3ZSBpbnN0YW50aWF0ZSB3ZSBkb24ndCByZWdpc3RlciBpbiBjYWNoZVxuICAgICAgICBwcmlzdGluZUxpc3RJdGVtLmlkID0gdW5kZWZpbmVkO1xuICAgICAgICAvL05lZWQgdG8gaW5zdGFudGlhdGUgdXNpbmcgdGhlIHNhbWUgZmFjdG9yeSBhcyB0aGUgY3VycmVudCBsaXN0IGl0ZW1cbiAgICAgICAgbGV0IGZhY3RvcnkgPSA8SU1vZGVsRmFjdG9yeT50aGlzLmNvbnN0cnVjdG9yO1xuICAgICAgICBsZXQgaW5zdGFudGlhdGVkUHJpc3RpbmVMaXN0SXRlbSA9IG5ldyBmYWN0b3J5KHByaXN0aW5lTGlzdEl0ZW0pO1xuXG4gICAgICAgIHJldHVybiBuZXcgYXBMaXN0SXRlbVZlcnNpb25GYWN0b3J5LkZpZWxkQ2hhbmdlU3VtbWFyeSh0aGlzLCBpbnN0YW50aWF0ZWRQcmlzdGluZUxpc3RJdGVtKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBMaXN0SXRlbS5kZWxldGVBdHRhY2htZW50XG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogRGVsZXRlIGFuIGF0dGFjaG1lbnQgZnJvbSBhIGxpc3QgaXRlbS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFJlcXVpcmVzIHRoZSBVUkwgZm9yIHRoZSBhdHRhY2htZW50IHdlIHdhbnQgdG8gZGVsZXRlLlxuICAgICAqIEByZXR1cm5zIHtvYmplY3R9IFByb21pc2Ugd2hpY2ggcmVzb2x2ZXMgd2l0aCB0aGUgdXBkYXRlZCBhdHRhY2htZW50IGNvbGxlY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiA8cHJlPlxuICAgICAqICRzY29wZS5kZWxldGVBdHRhY2htZW50ID0gZnVuY3Rpb24gKGF0dGFjaG1lbnQpIHtcbiAgICAgICAgICogICAgIGxldCBjb25maXJtYXRpb24gPSB3aW5kb3cuY29uZmlybShcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgdGhpcyBmaWxlP1wiKTtcbiAgICAgICAgICogICAgIGlmIChjb25maXJtYXRpb24pIHtcbiAgICAgICAgICogICAgICAgICBzY29wZS5saXN0SXRlbS5kZWxldGVBdHRhY2htZW50KGF0dGFjaG1lbnQpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgKiAgICAgICAgICAgICBhbGVydChcIkF0dGFjaG1lbnQgc3VjY2Vzc2Z1bGx5IGRlbGV0ZWRcIik7XG4gICAgICAgICAqICAgICAgICAgfSk7XG4gICAgICAgICAqICAgICB9XG4gICAgICAgICAqIH07XG4gICAgICogPC9wcmU+XG4gICAgICovXG4gICAgZGVsZXRlQXR0YWNobWVudCh1cmw6IHN0cmluZyk6IG5nLklQcm9taXNlPGFueT4ge1xuXG4gICAgICAgIHJldHVybiBhcERhdGFTZXJ2aWNlLnNlcnZpY2VXcmFwcGVyKHtcbiAgICAgICAgICAgIG9wZXJhdGlvbjogJ0RlbGV0ZUF0dGFjaG1lbnQnLFxuICAgICAgICAgICAgZmlsdGVyTm9kZTogJ0ZpZWxkJyxcbiAgICAgICAgICAgIGxpc3RJdGVtSUQ6IHRoaXMuaWQsXG4gICAgICAgICAgICB1cmwsXG4gICAgICAgICAgICBsaXN0TmFtZTogdGhpcy5nZXRMaXN0SWQoKVxuICAgICAgICB9KTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIExpc3RJdGVtLmRlbGV0ZUl0ZW1cbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBEZWxldGVzIHJlY29yZCBkaXJlY3RseSBmcm9tIHRoZSBvYmplY3QgYW5kIHJlbW92ZXMgcmVjb3JkIGZyb20gdXNlciBjYWNoZS5cbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSBQcm9taXNlIHdoaWNoIHJlYWxseSBvbmx5IGxldHMgdXMga25vdyB0aGUgcmVxdWVzdCBpcyBjb21wbGV0ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYFxuICAgICAqIDx1bD5cbiAgICAgKiAgICA8bGkgbmctcmVwZWF0PVwidGFzayBpbiB0YXNrc1wiPlxuICAgICAqICAgICAgICB7e3Rhc2sudGl0bGV9fSA8YSBocmVmIG5nLWNsaWNrPVwidGFzay5kZWxldGVJdGVtKCk+ZGVsZXRlPC9hPlxuICAgICAqICAgIDwvbGk+XG4gICAgICogPC91bD5cbiAgICAgKiBgYGBcbiAgICAgKiBMaXN0IG9mIHRhc2tzLiAgV2hlbiB0aGUgZGVsZXRlIGxpbmsgaXMgY2xpY2tlZCwgdGhlIGxpc3QgaXRlbSBpdGVtIGlzIHJlbW92ZWQgZnJvbSB0aGUgbG9jYWwgY2FjaGUgYW5kXG4gICAgICogdGhlIHZpZXcgaXMgdXBkYXRlZCB0byBubyBsb25nZXIgc2hvdyB0aGUgdGFzay5cbiAgICAgKi9cbiAgICBkZWxldGVJdGVtKCk6IG5nLklQcm9taXNlPGFueT4ge1xuICAgICAgICBsZXQgbGlzdEl0ZW0gPSB0aGlzO1xuICAgICAgICBsZXQgbW9kZWwgPSBsaXN0SXRlbS5nZXRNb2RlbCgpO1xuICAgICAgICBsZXQgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICAgIGxldCBjb25maWcgPSB7XG4gICAgICAgICAgICBvcGVyYXRpb246ICdVcGRhdGVMaXN0SXRlbXMnLFxuICAgICAgICAgICAgbGlzdE5hbWU6IG1vZGVsLmdldExpc3RJZCgpLFxuICAgICAgICAgICAgYmF0Y2hDbWQ6ICdEZWxldGUnLFxuICAgICAgICAgICAgSUQ6IGxpc3RJdGVtLmlkLFxuICAgICAgICAgICAgdmFsdWVQYWlyczogdW5kZWZpbmVkLFxuICAgICAgICAgICAgd2ViVVJMOiBtb2RlbC5saXN0LmlkZW50aWZ5V2ViVVJMKClcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoXy5pc0Z1bmN0aW9uKGxpc3RJdGVtLnByZURlbGV0ZUFjdGlvbikgJiYgIWxpc3RJdGVtLnByZURlbGV0ZUFjdGlvbigpKSB7XG4gICAgICAgICAgICAvL3ByZURlbGV0ZUFjdGlvbiBleGlzdHMgYnV0IHJldHVybmVkIGZhbHNlIHNvIHdlIGRvbid0IGRlbGV0ZVxuICAgICAgICAgICAgZGVmZXJyZWQucmVqZWN0KCdQcmUtRGVsZXRlIEFjdGlvbiBSZXR1cm5lZCBGYWxzZScpO1xuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAvKiogQ2hlY2sgdG8gc2VlIGlmIGxpc3QgaXRlbSBvciBkb2N1bWVudCBiZWNhdXNlIGRvY3VtZW50cyBuZWVkIHRoZSBGaWxlUmVmIGFzIHdlbGwgYXMgaWQgdG8gZGVsZXRlICovXG4gICAgICAgICAgICBpZiAobGlzdEl0ZW0uZmlsZVJlZiAmJiBsaXN0SXRlbS5maWxlUmVmLmxvb2t1cFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgbGV0IGZpbGVFeHRlbnNpb24gPSBsaXN0SXRlbS5maWxlUmVmLmxvb2t1cFZhbHVlLnNwbGl0KCcuJykucG9wKCk7XG4gICAgICAgICAgICAgICAgaWYgKF8uaXNOYU4oZmlsZUV4dGVuc2lvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgLyoqIEZpbGUgZXh0ZW5zaW9uIGluc3RlYWQgb2YgbnVtZXJpYyBleHRlbnNpb24gc28gaXQncyBhIGRvY3VtZW50XG4gICAgICAgICAgICAgICAgICAgICAqIEBFeGFtcGxlXG4gICAgICAgICAgICAgICAgICAgICAqIERvY3VtZW50OiBcIlNpdGUvbGlicmFyeS9maWxlLmNzdlwiXG4gICAgICAgICAgICAgICAgICAgICAqIExpc3QgSXRlbTogXCJTaXRlL0xpc3QvNV8uMDAwXCJcbiAgICAgICAgICAgICAgICAgICAgICogKi9cbiAgICAgICAgICAgICAgICAgICAgY29uZmlnLnZhbHVlUGFpcnMgPSBbWydGaWxlUmVmJywgbGlzdEl0ZW0uZmlsZVJlZi5sb29rdXBWYWx1ZV1dO1xuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBhcERhdGFTZXJ2aWNlLnNlcnZpY2VXcmFwcGVyKGNvbmZpZylcbiAgICAgICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLyoqIE9wdGlvbmFsbHkgYnJvYWRjYXN0IGNoYW5nZSBldmVudCAqL1xuICAgICAgICAgICAgICAgICAgICBhcFV0aWxpdHlTZXJ2aWNlLnJlZ2lzdGVyQ2hhbmdlKG1vZGVsLCAnZGVsZXRlJywgbGlzdEl0ZW0uaWQpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8qKiBTdWNjZXNzICovXG4gICAgICAgICAgICAgICAgICAgIGFwQ2FjaGVTZXJ2aWNlLmRlbGV0ZUVudGl0eShjb25maWcubGlzdE5hbWUsIGxpc3RJdGVtLmlkKTtcblxuICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vSW4gdGhlIGV2ZW50IG9mIGFuIGVycm9yLCBkaXNwbGF5IHRvYXN0XG4gICAgICAgICAgICAgICAgICAgIGxldCBtc2cgPSAnVGhlcmUgd2FzIGFuIGVycm9yIGRlbGV0aW5nIGxpc3QgaXRlbSAnICsgbGlzdEl0ZW0uaWQgKyAnIGZyb20gJyArIG1vZGVsLmxpc3QudGl0bGUgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJyBkdWUgdG8gdGhlIGZvbGxvd2luZyBFcnJvcjogJyArIGVycjtcbiAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVqZWN0KG1zZyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIExpc3RJdGVtLmdldEF0dGFjaG1lbnRDb2xsZWN0aW9uXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogUmVxdWVzdHMgYWxsIGF0dGFjaG1lbnRzIGZvciBhIGdpdmVuIGxpc3QgaXRlbS5cbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSBQcm9taXNlIHdoaWNoIHJlc29sdmVzIHdpdGggYWxsIGF0dGFjaG1lbnRzIGZvciBhIGxpc3QgaXRlbS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIDxwcmU+XG4gICAgICogLy9QdWxsIGRvd24gYWxsIGF0dGFjaG1lbnRzIGZvciB0aGUgY3VycmVudCBsaXN0IGl0ZW1cbiAgICAgKiBsZXQgZmV0Y2hBdHRhY2htZW50cyA9IGZ1bmN0aW9uIChsaXN0SXRlbSkge1xuICAgICAgICAgKiAgICAgbGlzdEl0ZW0uZ2V0QXR0YWNobWVudENvbGxlY3Rpb24oKVxuICAgICAgICAgKiAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChhdHRhY2htZW50cykge1xuICAgICAgICAgKiAgICAgICAgICAgICBzY29wZS5hdHRhY2htZW50cyA9IGF0dGFjaG1lbnRzO1xuICAgICAgICAgKiAgICAgICAgIH0pO1xuICAgICAgICAgKiB9O1xuICAgICAqIDwvcHJlPlxuICAgICAqL1xuICAgIGdldEF0dGFjaG1lbnRDb2xsZWN0aW9uKCk6IG5nLklQcm9taXNlPHN0cmluZ1tdPiB7XG4gICAgICAgIGxldCBsaXN0SXRlbSA9IHRoaXM7XG4gICAgICAgIHJldHVybiBhcERhdGFTZXJ2aWNlLmdldENvbGxlY3Rpb24oe1xuICAgICAgICAgICAgb3BlcmF0aW9uOiAnR2V0QXR0YWNobWVudENvbGxlY3Rpb24nLFxuICAgICAgICAgICAgbGlzdE5hbWU6IGxpc3RJdGVtLmdldExpc3RJZCgpLFxuICAgICAgICAgICAgd2ViVVJMOiBsaXN0SXRlbS5nZXRMaXN0KCkud2ViVVJMLFxuICAgICAgICAgICAgSUQ6IGxpc3RJdGVtLmlkLFxuICAgICAgICAgICAgZmlsdGVyTm9kZTogJ0F0dGFjaG1lbnQnXG4gICAgICAgIH0pO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgTGlzdEl0ZW0uZ2V0QXZhaWxhYmxlV29ya2Zsb3dzXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogV3JhcHBlciBmb3IgYXBEYXRhU2VydmljZS5nZXRBdmFpbGFibGVXb3JrZmxvd3MuICBTaW1wbHkgcGFzc2VzIHRoZSBjdXJyZW50IGl0ZW0gaW4uXG4gICAgICogQHJldHVybnMge3Byb21pc2V9IEFycmF5IG9mIG9iamVjdHMgZGVmaW5pbmcgZWFjaCBvZiB0aGUgYXZhaWxhYmxlIHdvcmtmbG93cy5cbiAgICAgKi9cbiAgICBnZXRBdmFpbGFibGVXb3JrZmxvd3MoKTogbmcuSVByb21pc2U8SVdvcmtmbG93RGVmaW5pdGlvbltdPiB7XG4gICAgICAgIGxldCBsaXN0SXRlbSA9IHRoaXM7XG4gICAgICAgIHJldHVybiBhcERhdGFTZXJ2aWNlLmdldEF2YWlsYWJsZVdvcmtmbG93cyhsaXN0SXRlbS5maWxlUmVmLmxvb2t1cFZhbHVlKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIExpc3RJdGVtLmdldENoYW5nZXNcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBXcmFwcGVyIGZvciBtb2RlbC5nZXRMaXN0SXRlbUJ5SWQuICBRdWVyaWVzIHNlcnZlciBmb3IgYW55IGNoYW5nZXMgYW5kIGV4dGVuZHMgdGhlIGV4aXN0aW5nXG4gICAgICogbGlzdCBpdGVtIHdpdGggdGhvc2UgY2hhbmdlcy5cbiAgICAgKiBAcmV0dXJucyB7cHJvbWlzZX0gUHJvbWlzZSB3aGljaCByZXNvbHZlcyB3aXRoIHRoZSB1cGRhdGVkIGxpc3QgaXRlbS5cbiAgICAgKi9cbiAgICBnZXRDaGFuZ2VzKCk6IG5nLklQcm9taXNlPFQ+IHtcbiAgICAgICAgbGV0IG1vZGVsID0gdGhpcy5nZXRNb2RlbCgpO1xuICAgICAgICByZXR1cm4gbW9kZWwuZ2V0TGlzdEl0ZW1CeUlkKHRoaXMuaWQpO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgTGlzdEl0ZW0uZ2V0Q2hhbmdlU3VtbWFyeVxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFVzZXMgTGlzdEl0ZW0uZ2V0VmVyc2lvbkhpc3RvcnkgYW5kIGRldGVybWluZXMgd2hhdCBpbmZvcm1hdGlvbiBjaGFuZ2VkIGJldHdlZW4gZWFjaCBsaXN0IGl0ZW1cbiAgICAgKiB2ZXJzaW9uLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IFtmaWVsZE5hbWVzXSBBbiBhcnJheS9zaW5nbGUgc3RyaW5nIG9mIGZpZWxkIG5hbWVzIG9uIHRoZSBsaXN0IGl0ZW0gdG8gZmV0Y2ggYSB2ZXJzaW9uXG4gICAgICogaGlzdG9yeSBmb3IuXG4gICAgICogQHJldHVybnMge25nLklQcm9taXNlPENoYW5nZVN1bW1hcnk8VD4+fSBQcm9taXNlIHdoaWNoIHJlc29sdmVzIHdpdGggYW4gYXJyYXkgb2YgbGlzdCBpdGVtIHZlcnNpb25zLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogQXNzdW1pbmcgd2UgaGF2ZSBhIG1vZGFsIGZvcm0gd2hlcmUgd2Ugd2FudCB0byBkaXNwbGF5IGVhY2ggdmVyc2lvbiBvZiB0aGUgdGl0bGUgYW5kIHByb2plY3QgZmllbGRzXG4gICAgICogb2YgYSBnaXZlbiBsaXN0IGl0ZW0uXG4gICAgICogPHByZT5cbiAgICAgKiBteUdlbmVyaWNMaXN0SXRlbS5nZXRDaGFuZ2VTdW1tYXJ5KFsndGl0bGUnLCAncHJvamVjdCddKVxuICAgICAqICAgICAudGhlbihmdW5jdGlvbihjaGFuZ2VTdW1tYXJ5OiBDaGFuZ2VTdW1tYXJ5KSB7XG4gICAgICAgICAqICAgICAgICAgICAgLy8gV2Ugbm93IGhhdmUgYW4gYXJyYXkgb2YgZXZlcnkgdmVyc2lvbiBvZiB0aGVzZSBmaWVsZHNcbiAgICAgICAgICogICAgICAgICAgICAkY3RybC5jaGFuZ2VTdW1tYXJ5ID0gY2hhbmdlU3VtbWFyeTtcbiAgICAgICAgICogICAgICB9O1xuICAgICAqIDwvcHJlPlxuICAgICAqL1xuICAgIGdldENoYW5nZVN1bW1hcnkoZmllbGROYW1lcz86IHN0cmluZ1tdKTogbmcuSVByb21pc2U8Q2hhbmdlU3VtbWFyeTxUPj4ge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRWZXJzaW9uSGlzdG9yeShmaWVsZE5hbWVzKVxuICAgICAgICAgICAgLnRoZW4oKHZlcnNpb25IaXN0b3J5Q29sbGVjdGlvbjogVmVyc2lvbkhpc3RvcnlDb2xsZWN0aW9uPFQ+KSA9PiB2ZXJzaW9uSGlzdG9yeUNvbGxlY3Rpb24uZ2VuZXJhdGVDaGFuZ2VTdW1tYXJ5KCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIExpc3RJdGVtLmdldEZpZWxkQ2hvaWNlc1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmaWVsZE5hbWUgSW50ZXJuYWwgZmllbGQgbmFtZS5cbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBVc2VzIHRoZSBmaWVsZCBkZWZpbml0aW9uIGRlZmluZWQgaW4gdGhlIG1vZGVsIHRvIGF0dGVtcHQgdG8gZmluZCB0aGUgY2hvaWNlcyBhcnJheSBmb3IgYSBnaXZlbiBMb29rdXAgb3JcbiAgICAgKiBNdWx0aUxvb2t1cCB0eXBlIGZpZWxkLiAgVGhlIGRlZmF1bHQgdmFsdWUgaXMgZmllbGREZWZpbml0aW9uLmNob2ljZXMgd2hpY2ggY2FuIG9wdGlvbmFsbHkgYmUgYWRkZWQgdG8gYVxuICAgICAqIGdpdmVuIGZpZWxkIGRlZmluaXRpb24uICBJZiB0aGlzIGlzbid0IGZvdW5kLCB3ZSBjaGVjayBmaWVsZERlZmluaXRpb24uQ2hvaWNlcyB3aGljaCBpcyBwb3B1bGF0ZWQgYWZ0ZXIgYVxuICAgICAqIEdldExpc3RJdGVtc1NpbmNlVG9rZW4gb3BlcmF0aW9uIG9yIGEgTW9kZWwuZXh0ZW5kTGlzdE1ldGFkYXRhIG9wZXJhdGlvbi4gIEZpbmFsbHkgaWYgdGhhdCBpc24ndCBhdmFpbGFibGVcbiAgICAgKiB3ZSByZXR1cm4gYW4gZW1wdHkgYXJyYXkuXG4gICAgICogQHJldHVybnMge3N0cmluZ1tdfSBBbiBhcnJheSBvZiBjaG9pY2VzIGZvciBhIENob2ljZSBvciBNdWx0aUNob2ljZSB0eXBlIGZpZWxkLlxuICAgICAqL1xuICAgIGdldEZpZWxkQ2hvaWNlcyhmaWVsZE5hbWU6IHN0cmluZyk6IHN0cmluZ1tdIHtcbiAgICAgICAgbGV0IGxpc3RJdGVtID0gdGhpcztcbiAgICAgICAgbGV0IGZpZWxkRGVmaW5pdGlvbiA9IGxpc3RJdGVtLmdldEZpZWxkRGVmaW5pdGlvbihmaWVsZE5hbWUpO1xuICAgICAgICByZXR1cm4gZmllbGREZWZpbml0aW9uLmNob2ljZXMgfHwgZmllbGREZWZpbml0aW9uLkNob2ljZXMgfHwgW107XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBMaXN0SXRlbS5nZXRGaWVsZERlZmluaXRpb25cbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBSZXR1cm5zIHRoZSBmaWVsZCBkZWZpbml0aW9uIGZyb20gdGhlIGRlZmluaXRpb25zIGRlZmluZWQgaW4gdGhlIGN1c3RvbSBmaWVsZHMgYXJyYXkgd2l0aGluIGEgbW9kZWwuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiA8cHJlPlxuICAgICAqIGxldCBwcm9qZWN0ID0ge1xuICAgICAgICAgKiAgICB0aXRsZTogJ1Byb2plY3QgMScsXG4gICAgICAgICAqICAgIGxvY2F0aW9uOiB7XG4gICAgICAgICAqICAgICAgICBsb29rdXBJZDogNSxcbiAgICAgICAgICogICAgICAgIGxvb2t1cFZhbHVlOiAnU29tZSBCdWlsZGluZydcbiAgICAgICAgICogICAgfVxuICAgICAgICAgKiB9O1xuICAgICAqXG4gICAgICogLy9UbyBnZXQgZmllbGQgbWV0YWRhdGFcbiAgICAgKiBsZXQgbG9jYXRpb25EZWZpbml0aW9uID0gcHJvamVjdC5nZXRGaWVsZERlZmluaXRpb24oJ2xvY2F0aW9uJyk7XG4gICAgICogPC9wcmU+XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGZpZWxkTmFtZSBJbnRlcm5hbCBmaWVsZCBuYW1lLlxuICAgICAqIEByZXR1cm5zIHtvYmplY3R9IEZpZWxkIGRlZmluaXRpb24uXG4gICAgICovXG4gICAgZ2V0RmllbGREZWZpbml0aW9uKGZpZWxkTmFtZTogc3RyaW5nKTogSUZpZWxkRGVmaW5pdGlvbiB7XG4gICAgICAgIGxldCBsaXN0SXRlbSA9IHRoaXM7XG4gICAgICAgIHJldHVybiBsaXN0SXRlbS5nZXRNb2RlbCgpLmdldEZpZWxkRGVmaW5pdGlvbihmaWVsZE5hbWUpO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgTGlzdEl0ZW0uZ2V0RmllbGREZXNjcmlwdGlvblxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmaWVsZE5hbWUgSW50ZXJuYWwgZmllbGQgbmFtZS5cbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBVc2VzIHRoZSBmaWVsZCBkZWZpbml0aW9uIGRlZmluZWQgaW4gdGhlIG1vZGVsIHRvIGF0dGVtcHQgdG8gZmluZCB0aGUgZGVzY3JpcHRpb24gZm9yIGEgZ2l2ZW4gZmllbGQuICBUaGUgZGVmYXVsdFxuICAgICAqIHZhbHVlIGlzIGZpZWxkRGVmaW5pdGlvbi5EZXNjcmlwdGlvbiB3aGljaCBpcyBwb3B1bGF0ZWQgYWZ0ZXIgYSBHZXRMaXN0SXRlbXNTaW5jZVRva2VuIG9wZXJhdGlvbiBvciBhXG4gICAgICogTW9kZWwuZXh0ZW5kTGlzdE1ldGFkYXRhIG9wZXJhdGlvbi4gIElmIHRoaXMgaXNuJ3QgYXZhaWxhYmxlIHdlIGxvb2sgZm9yIGFuIG9wdGlvbmFsIGF0dHJpYnV0ZSBvZiBhIGZpZWxkXG4gICAgICogZmllbGREZWZpbml0aW9uLmRlc2NyaXB0aW9uLiAgRmluYWxseSBpZiB0aGF0IGhhdmUgYW55dGhpbmcgaXQgcmV0dXJucyBhbiBlbXB0eSBzdHJpbmcuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gVGhlIGRlc2NyaXB0aW9uIGZvciBhIGdpdmVuIGZpZWxkIG9iamVjdC5cbiAgICAgKi9cbiAgICBnZXRGaWVsZERlc2NyaXB0aW9uKGZpZWxkTmFtZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgbGV0IGxpc3RJdGVtID0gdGhpcztcbiAgICAgICAgbGV0IGZpZWxkRGVmaW5pdGlvbiA9IGxpc3RJdGVtLmdldEZpZWxkRGVmaW5pdGlvbihmaWVsZE5hbWUpO1xuICAgICAgICByZXR1cm4gZmllbGREZWZpbml0aW9uLmRlc2NyaXB0aW9uIHx8IGZpZWxkRGVmaW5pdGlvbi5EZXNjcmlwdGlvbiB8fCAnJztcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIExpc3RJdGVtLmdldEZpZWxkTGFiZWxcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZmllbGROYW1lIEludGVybmFsIGZpZWxkIG5hbWUuXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogVXNlcyB0aGUgZmllbGQgZGVmaW5pdGlvbiBkZWZpbmVkIGluIHRoZSBtb2RlbCB0byBhdHRlbXB0IHRvIGZpbmQgdGhlIGxhYmVsIGZvciBhIGdpdmVuIGZpZWxkLiAgVGhlIGRlZmF1bHRcbiAgICAgKiB2YWx1ZSBpcyBmaWVsZERlZmluaXRpb24ubGFiZWwuICBJZiBub3QgYXZhaWxhYmxlIGl0IHdpbGwgdGhlbiB1c2UgZmllbGREZWZpbml0aW9uLkRpc3BsYXlOYW1lIHdoaWNoIGlzXG4gICAgICogcG9wdWxhdGVkIGFmdGVyIGEgR2V0TGlzdEl0ZW1zU2luY2VUb2tlbiBvcGVyYXRpb24gb3IgYSBNb2RlbC5leHRlbmRMaXN0TWV0YWRhdGEgb3BlcmF0aW9uLiAgSWYgdGhpcyBpc24ndFxuICAgICAqIGF2YWlsYWJsZSBpdCB3aWxsIGZhbGxiYWNrIHRvIHRoZSB0aGUgZmllbGREZWZpbml0aW9uLkRpc3BsYXlOYW1lIHdoaWNoIGlzIGEgYmVzdCBndWVzcyBhdCBjb252ZXJ0aW5nIHRoZVxuICAgICAqIGNhbWwgY2FzZSB2ZXJzaW9uIG9mIHRoZSBtYXBwZWQgbmFtZSB1c2luZyBhcFV0aWxpdHlTZXJ2aWNlLmZyb21DYW1lbENhc2UuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gVGhlIGxhYmVsIGZvciBhIGdpdmVuIGZpZWxkIG9iamVjdC5cbiAgICAgKi9cbiAgICBnZXRGaWVsZExhYmVsKGZpZWxkTmFtZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgbGV0IGxpc3RJdGVtID0gdGhpcztcbiAgICAgICAgbGV0IGZpZWxkRGVmaW5pdGlvbiA9IGxpc3RJdGVtLmdldEZpZWxkRGVmaW5pdGlvbihmaWVsZE5hbWUpO1xuICAgICAgICByZXR1cm4gZmllbGREZWZpbml0aW9uLmxhYmVsIHx8IGZpZWxkRGVmaW5pdGlvbi5EaXNwbGF5TmFtZSB8fCBmaWVsZERlZmluaXRpb24uZGlzcGxheU5hbWU7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBMaXN0SXRlbS5nZXRGb3JtYXR0ZWRWYWx1ZVxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIEdpdmVuIHRoZSBhdHRyaWJ1dGUgbmFtZSBvbiBhIGxpc3RJdGVtLCB3ZSBjYW4gbG9va3VwIHRoZSBmaWVsZCB0eXBlIGFuZCBmcm9tIHRoZXJlIHJldHVybiBhIGZvcm1hdHRlZFxuICAgICAqIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGF0IHZhbHVlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmaWVsZE5hbWUgQXR0cmlidXRlIG5hbWUgb24gdGhlIG9iamVjdCB0aGF0IGNvbnRhaW5zIHRoZSB2YWx1ZSB0byBzdHJpbmdpZnkuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSBQYXNzIHRocm91Z2ggdG8gYXBGb3JtYXR0ZWRGaWVsZFZhbHVlU2VydmljZS5nZXRGb3JtYXR0ZWRGaWVsZFZhbHVlIG9yIGFueVxuICAgICAqIGN1c3RvbSBtZXRob2Qgc3BlY2lmaWVkIG9uIHRoZSBmaWVsZCBkZWZpbml0aW9uLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IEZvcm1hdHRlZCBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBmaWVsZCB2YWx1ZS5cbiAgICAgKi9cbiAgICBnZXRGb3JtYXR0ZWRWYWx1ZShmaWVsZE5hbWU6IHN0cmluZywgb3B0aW9ucz86IE9iamVjdCk6IHN0cmluZyB7XG4gICAgICAgIGxldCBsaXN0SXRlbSA9IHRoaXM7XG4gICAgICAgIGxldCBmaWVsZERlZmluaXRpb24gPSBsaXN0SXRlbS5nZXRGaWVsZERlZmluaXRpb24oZmllbGROYW1lKTtcbiAgICAgICAgaWYgKCFmaWVsZERlZmluaXRpb24pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQSBmaWVsZCBkZWZpbml0aW9uIGZvciBhIGZpZWxkIG5hbWVkICR7ZmllbGROYW1lfSB3YXNuJ3QgZm91bmQuYCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZpZWxkRGVmaW5pdGlvbi5nZXRGb3JtYXR0ZWRWYWx1ZSh0aGlzLCBvcHRpb25zKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIExpc3RJdGVtLmdldExpc3RcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBBYnN0cmFjdGlvbiB0byBhbGxvdyBsb2dpYyBpbiBtb2RlbCB0byBiZSB1c2VkIGluc3RlYWQgb2YgZGVmaW5pbmcgdGhlIGxpc3QgbG9jYXRpb24gaW4gbW9yZSB0aGFuIG9uZSBwbGFjZS5cbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSBMaXN0IGZvciB0aGUgbGlzdCBpdGVtLlxuICAgICAqL1xuICAgIGdldExpc3QoKTogTGlzdCB7XG4gICAgICAgIGxldCBtb2RlbDogTW9kZWwgPSB0aGlzLmdldE1vZGVsKCk7XG4gICAgICAgIHJldHVybiBtb2RlbC5nZXRMaXN0KCk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBMaXN0SXRlbS5nZXRMaXN0SWRcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBBbGxvd3MgdXMgdG8gcmVmZXJlbmNlIHRoZSBsaXN0IElEIGRpcmVjdGx5IGZyb20gdGhlIGxpc3QgaXRlbS4gIFRoaXMgaXMgYWRkZWQgdG8gdGhlXG4gICAgICogbW9kZWwuZmFjdG9yeSBwcm90b3R5cGUgaW4gYXBNb2RlbEZhY3RvcnkuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gTGlzdCBJRC5cbiAgICAgKi9cbiAgICBnZXRMaXN0SWQoKTogc3RyaW5nIHtcbiAgICAgICAgbGV0IG1vZGVsID0gdGhpcy5nZXRNb2RlbCgpO1xuICAgICAgICByZXR1cm4gbW9kZWwuZ2V0TGlzdElkKCk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBMaXN0SXRlbS5nZXRMb29rdXBSZWZlcmVuY2VcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBBbGxvd3MgdXMgdG8gcmV0cmlldmUgdGhlIGxpc3RJdGVtIGJlaW5nIHJlZmVyZW5jZWQgaW4gYSBnaXZlbiBsb29rdXAgZmllbGQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGZpZWxkTmFtZSBOYW1lIG9mIHRoZSBsb29rdXAgcHJvcGVydHkgb24gdGhlIGxpc3QgaXRlbSB0aGF0IHJlZmVyZW5jZXMgYSBsaXN0SXRlbS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xvb2t1cElkPWxpc3RJdGVtLmZpZWxkTmFtZS5sb29rdXBJZF0gVGhlIGxpc3RJdGVtLmxvb2t1cElkIG9mIHRoZSBsb29rdXAgb2JqZWN0LiAgVGhpcyBhbGxvd3MgdXMgdG8gYWxzbyB1c2UgdGhpcyBsb2dpY1xuICAgICAqIG9uIGEgbXVsdGktc2VsZWN0IGJ5IGl0ZXJhdGluZyBvdmVyIGVhY2ggb2YgdGhlIGxvb2t1cHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiA8cHJlPlxuICAgICAqIGxldCBwcm9qZWN0ID0ge1xuICAgICAgICAgKiAgICB0aXRsZTogJ1Byb2plY3QgMScsXG4gICAgICAgICAqICAgIGxvY2F0aW9uOiB7XG4gICAgICAgICAqICAgICAgICBsb29rdXBJZDogNSxcbiAgICAgICAgICogICAgICAgIGxvb2t1cFZhbHVlOiAnU29tZSBCdWlsZGluZydcbiAgICAgICAgICogICAgfVxuICAgICAgICAgKiB9O1xuICAgICAqXG4gICAgICogLy9UbyBnZXQgdGhlIGxvY2F0aW9uIGxpc3RJdGVtXG4gICAgICogbGV0IGxpc3RJdGVtID0gcHJvamVjdC5nZXRMb29rdXBSZWZlcmVuY2UoJ2xvY2F0aW9uJyk7XG4gICAgICogPC9wcmU+XG4gICAgICogQHJldHVybnMge29iamVjdH0gVGhlIGxpc3RJdGVtIHRoZSBsb29rdXAgaXMgcmVmZXJlbmNpbmcgb3IgdW5kZWZpbmVkIGlmIG5vdCBpbiB0aGUgY2FjaGUuXG4gICAgICovXG4gICAgZ2V0TG9va3VwUmVmZXJlbmNlPFQyIGV4dGVuZHMgTGlzdEl0ZW08YW55Pj4oZmllbGROYW1lOiBzdHJpbmcsIGxvb2t1cElkPzogbnVtYmVyKTogVDIge1xuICAgICAgICBsZXQgbGlzdEl0ZW0gPSB0aGlzO1xuICAgICAgICBsZXQgbG9va3VwUmVmZXJlbmNlO1xuICAgICAgICBpZiAoXy5pc1VuZGVmaW5lZChmaWVsZE5hbWUpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0EgZmllbGQgbmFtZSBpcyByZXF1aXJlZC4nKTtcbiAgICAgICAgfSBlbHNlIGlmIChfLmlzRW1wdHkobGlzdEl0ZW1bZmllbGROYW1lXSkpIHtcbiAgICAgICAgICAgIGxvb2t1cFJlZmVyZW5jZSA9ICcnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IG1vZGVsID0gbGlzdEl0ZW0uZ2V0TW9kZWwoKTtcbiAgICAgICAgICAgIGxldCBmaWVsZERlZmluaXRpb24gPSBtb2RlbC5nZXRGaWVsZERlZmluaXRpb24oZmllbGROYW1lKTtcbiAgICAgICAgICAgIC8qKiBFbnN1cmUgdGhlIGZpZWxkIGRlZmluaXRpb24gaGFzIHRoZSBMaXN0IGF0dHJpYnV0ZSB3aGljaCBjb250YWlucyB0aGUgR1VJRCBvZiB0aGUgbGlzdFxuICAgICAgICAgICAgICogIHRoYXQgYSBsb29rdXAgaXMgcmVmZXJlbmNpbmcuICovXG4gICAgICAgICAgICBpZiAoZmllbGREZWZpbml0aW9uICYmIGZpZWxkRGVmaW5pdGlvbi5MaXN0KSB7XG4gICAgICAgICAgICAgICAgbGV0IHRhcmdldElkID0gbG9va3VwSWQgfHwgbGlzdEl0ZW1bZmllbGROYW1lXS5sb29rdXBJZDtcbiAgICAgICAgICAgICAgICBsb29rdXBSZWZlcmVuY2UgPSBhcENhY2hlU2VydmljZS5nZXRDYWNoZWRFbnRpdHkoZmllbGREZWZpbml0aW9uLkxpc3QsIHRhcmdldElkKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUaGlzIGlzbid0IGEgdmFsaWQgTG9va3VwIGZpZWxkIG9yIHRoZSBmaWVsZCBkZWZpbml0aW9ucyBuZWVkIHRvIGJlIGV4dGVuZGVkXG4gICAgICAgICAgICAgICAgICAgICAgICBiZWZvcmUgd2UgY2FuIGNvbXBsZXRlIHRoaXMgcmVxdWVzdC5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbG9va3VwUmVmZXJlbmNlO1xuXG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBMaXN0SXRlbS5nZXRWZXJzaW9uSGlzdG9yeVxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFRha2VzIGFuIGFycmF5IG9mIGZpZWxkIG5hbWVzLCBmaW5kcyB0aGUgdmVyc2lvbiBoaXN0b3J5IGZvciBmaWVsZCwgYW5kIHJldHVybnMgYSBzbmFwc2hvdCBvZiB0aGUgb2JqZWN0IGF0IGVhY2hcbiAgICAgKiB2ZXJzaW9uLiAgSWYgbm8gZmllbGRzIGFyZSBwcm92aWRlZCwgd2UgbG9vayBhdCB0aGUgZmllbGQgZGVmaW5pdGlvbnMgaW4gdGhlIG1vZGVsIGFuZCBwdWxsIGFsbCBub24tcmVhZG9ubHlcbiAgICAgKiBmaWVsZHMuICBUaGUgb25seSB3YXkgdG8gZG8gdGhpcyB0aGF0IEkndmUgYmVlbiBhYmxlIHRvIGdldCB3b3JraW5nIGlzIHRvIGdldCB0aGUgdmVyc2lvbiBoaXN0b3J5IGZvciBlYWNoXG4gICAgICogZmllbGQgaW5kZXBlbmRlbnRseSBhbmQgdGhlbiBidWlsZCB0aGUgaGlzdG9yeSBieSBjb21iaW5pbmcgdGhlIHNlcnZlciByZXNwb25zZXMgZm9yIGVhY2ggcmVxdWVzdHMgaW50byBhXG4gICAgICogc25hcHNob3Qgb2YgdGhlIG9iamVjdC4gIEVhY2ggdmVyc2lvbiBoYXMgdGhlIHN0YW5kYXJkIG1vZGlmaWVkIGRhdGUgYnV0IGFsc28gaW5jbHVkZXMgYSB2ZXJzaW9uIHByb3BlcnR5IHdpdGhcbiAgICAgKiB0aGUgdmVyc2lvbiBudW1iZXIuXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gW3Byb3BlcnRpZXNdIEFuIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzIG9uIHRoZSBsaXN0IGl0ZW1cbiAgICAgKiB0aGF0IHdlJ3JlIGludGVyZXN0ZWQgaW4uXG4gICAgICogQHJldHVybnMge25nLklQcm9taXNlPFZlcnNpb25IaXN0b3J5Q29sbGVjdGlvbjxUPj59IFByb21pc2Ugd2hpY2ggcmVzb2x2ZXMgd2l0aCBhbiBvYmplY3Qgd2l0aCBrZXlzPXZlcnNpb25cbiAgICAgKiBhbmQgdmFsdWVzID0gTGlzdEl0ZW1WZXJzaW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogQXNzdW1pbmcgd2UgaGF2ZSBhIG1vZGFsIGZvcm0gd2hlcmUgd2Ugd2FudCB0byBkaXNwbGF5IGVhY2ggdmVyc2lvbiBvZiB0aGUgdGl0bGUgYW5kIHByb2plY3QgZmllbGRzXG4gICAgICogb2YgYSBnaXZlbiBsaXN0IGl0ZW0uXG4gICAgICogPHByZT5cbiAgICAgKiBteUdlbmVyaWNMaXN0SXRlbS5nZXRWZXJzaW9uSGlzdG9yeShbJ3RpdGxlJywgJ3Byb2plY3QnXSlcbiAgICAgKiAgICAgLnRoZW4oZnVuY3Rpb24odmVyc2lvbkhpc3RvcnkpIHtcbiAgICAgICAgICogICAgICAgICAgICAvLyBXZSBub3cgaGF2ZSBhbiBhcnJheSBvZiBldmVyeSB2ZXJzaW9uIG9mIHRoZXNlIGZpZWxkc1xuICAgICAgICAgKiAgICAgICAgICAgICRjdHJsLnZlcnNpb25IaXN0b3J5ID0gdmVyc2lvbkhpc3Rvcnk7XG4gICAgICAgICAqICAgICAgfSlcbiAgICAgKiAgICAgIC5jYXRjaChmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICogICAgICAgICAgLy8gRG8gc29tZXRoaW5nIHdpdGggdGhlIGVycm9yXG4gICAgICAgICAqICAgICAgfSk7XG4gICAgICogPC9wcmU+XG4gICAgICovXG4gICAgZ2V0VmVyc2lvbkhpc3RvcnkocHJvcGVydGllcz86IHN0cmluZ1tdKTogbmcuSVByb21pc2U8VmVyc2lvbkhpc3RvcnlDb2xsZWN0aW9uPFQ+PiB7XG4gICAgICAgIGxldCBsaXN0SXRlbSA9IHRoaXM7XG4gICAgICAgIGxldCBtb2RlbCA9IGxpc3RJdGVtLmdldE1vZGVsKCk7XG4gICAgICAgIGxldCBwcm9taXNlQXJyYXkgPSBbXTtcblxuICAgICAgICBpZiAocHJvcGVydGllcyAmJiAhXy5pc0FycmF5KHByb3BlcnRpZXMpKSB0aHJvdyBuZXcgRXJyb3IoJ1Byb3BlcnRpZXMgYXJlIHJlcXVpcmVkIHRvIGJlIGZvcm1hdHRlZCBhcyBhbiBhcnJheSBvZiBzdHJpbmdzLicpO1xuXG4gICAgICAgIGlmICghcHJvcGVydGllcykge1xuICAgICAgICAgICAgLyoqIElmIGZpZWxkcyBhcmVuJ3QgcHJvdmlkZWQsIHB1bGwgdGhlIHZlcnNpb24gaGlzdG9yeSBmb3IgYWxsIE5PTi1yZWFkb25seSBmaWVsZHMgKi9cbiAgICAgICAgICAgIGxldCB0YXJnZXRGaWVsZHMgPSBtb2RlbC5saXN0LmZpZWxkcy5maWx0ZXIoZmllbGQgPT4gZmllbGQucmVhZE9ubHkgPT09IGZhbHNlKTtcbiAgICAgICAgICAgIHByb3BlcnRpZXMgPSBfLm1hcDxJRmllbGREZWZpbml0aW9uLCBzdHJpbmc+KHRhcmdldEZpZWxkcywgJ21hcHBlZE5hbWUnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKiBHZW5lcmF0ZSBwcm9taXNlcyBmb3IgZWFjaCBmaWVsZCAqL1xuICAgICAgICBfLmVhY2gocHJvcGVydGllcywgKHByb3ApID0+IHtcbiAgICAgICAgICAgIGxldCBwcm9taXNlID0gY3JlYXRlUHJvbWlzZShwcm9wKTtcbiAgICAgICAgICAgIHByb21pc2VBcnJheS5wdXNoKHByb21pc2UpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvKiogUGF1c2UgdW50aWwgYWxsIHJlcXVlc3RzIGFyZSByZXNvbHZlZCAqL1xuICAgICAgICByZXR1cm4gJHEuYWxsKHByb21pc2VBcnJheSlcbiAgICAgICAgICAgIC50aGVuKChmaWVsZFZlcnNpb25Db2xsZWN0aW9uczogRmllbGRWZXJzaW9uQ29sbGVjdGlvbltdKSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IHZlcnNpb25IaXN0b3J5Q29sbGVjdGlvbiA9IG5ldyBhcExpc3RJdGVtVmVyc2lvbkZhY3RvcnkuVmVyc2lvbkhpc3RvcnlDb2xsZWN0aW9uPFQ+KGZpZWxkVmVyc2lvbkNvbGxlY3Rpb25zLCBtb2RlbC5mYWN0b3J5KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmVyc2lvbkhpc3RvcnlDb2xsZWN0aW9uO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgLyoqIENvbnN0cnVjdG9yIHRoYXQgY3JlYXRlcyBhIHByb21pc2UgZm9yIGVhY2ggZmllbGQgKi9cbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlUHJvbWlzZShwcm9wOiBzdHJpbmcpIHtcblxuICAgICAgICAgICAgbGV0IGZpZWxkRGVmaW5pdGlvbiA9IGxpc3RJdGVtLmdldEZpZWxkRGVmaW5pdGlvbihwcm9wKTtcblxuICAgICAgICAgICAgbGV0IHBheWxvYWQgPSB7XG4gICAgICAgICAgICAgICAgb3BlcmF0aW9uOiAnR2V0VmVyc2lvbkNvbGxlY3Rpb24nLFxuICAgICAgICAgICAgICAgIHN0cmxpc3RJRDogbW9kZWwuZ2V0TGlzdElkKCksIC8vIGNvcnJlY3QgY2FzZVxuICAgICAgICAgICAgICAgIHN0cmxpc3RJdGVtSUQ6IGxpc3RJdGVtLmlkLCAvLyBjb3JyZWN0IGNhc2VcbiAgICAgICAgICAgICAgICBzdHJGaWVsZE5hbWU6IGZpZWxkRGVmaW5pdGlvbi5zdGF0aWNOYW1lLFxuICAgICAgICAgICAgICAgIHdlYlVSTDogdW5kZWZpbmVkXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvKiogTWFudWFsbHkgc2V0IHNpdGUgdXJsIGlmIGRlZmluZWQsIHByZXZlbnRzIFNQU2VydmljZXMgZnJvbSBtYWtpbmcgYSBibG9ja2luZyBjYWxsIHRvIGZldGNoIGl0LiAqL1xuICAgICAgICAgICAgLy8gaWYgKGFwQ29uZmlnLmRlZmF1bHRVcmwpIHtcbiAgICAgICAgICAgIHBheWxvYWQud2ViVVJMID0gRU5WLnNpdGU7XG4gICAgICAgICAgICAvLyB9XG5cbiAgICAgICAgICAgIHJldHVybiBhcERhdGFTZXJ2aWNlLmdldEZpZWxkVmVyc2lvbkhpc3Rvcnk8VD4ocGF5bG9hZCwgZmllbGREZWZpbml0aW9uKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIExpc3RJdGVtLmlzUHJpc3RpbmVcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBEZXRlcm1pbmVzIGlmIGEgbGlzdCBpdGVtIGhhcyBjaGFuZ2VkIHNpbmNlIGl0IHdhcyBpbnN0YW50aWF0ZWQuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFRoZSBsaXN0IGl0ZW0gaXMgdW5jaGFuZ2VkLlxuICAgICAqL1xuICAgIGlzUHJpc3RpbmUoKSB7XG4gICAgICAgIHJldHVybiAhdGhpcy5jaGFuZ2VzKCkuaGFzTWFqb3JDaGFuZ2VzO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgTGlzdEl0ZW0ucHJvdG90eXBlLnJlZ2lzdGVyUHJlRGVsZXRlQWN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gYWN0aW9uIEZ1bmN0aW9uIHRoYXQgYWNjZXB0cyBubyBhcmd1bWVudHMgYW5kIHJldHVybnMgYSBib29sZWFuIGRldGVybWluaW5nIGlmIGRlbGV0ZSBjYW4gY29udGludWUuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBGdW5jdGlvbiB0aGF0IGNhbiBiZSBjYWxsZWQgdG8gdW5yZWdpc3Rlci5cbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBSZWdpc3RlciBhIGZ1bmN0aW9uIG9uIHRoZSBsaXN0IGl0ZW0gcHJvdG90eXBlIHRoYXQgaXMgZXhlY3V0ZWQgcHJpb3IgdG8gZGVsZXRpbmcuICBHb29kIHVzZSBjYXNlXG4gICAgICogaXMgdG8gcGVyZm9ybSBjbGVhbnVwIHByaW9yIHRvIGRlbGV0aW5nIG9yIGRldGVybWluaW5nIGlmIHVzZXIgY2FuIGRlbGV0ZS4gIE1ldGhvZCByZXR1cm5zIGJvb2xlYW4gYW5kIGlmXG4gICAgICogdHJ1ZSBkZWxldGUgd2lsbCBjb250aW51ZSwgb3RoZXJ3aXNlIGRlbGV0ZSBpcyBwcmV2ZW50ZWQuIFRoZXJlIGlzIG5vIExpc3RJdGVtLnJlZ2lzdGVyUG9zdERlbGV0ZUFjdGlvbiBiZWNhdXNlXG4gICAgICogdGhlIGxpc3QgaXRlbSBubyBsb25nZXIgZXhpc3RzLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiA8cHJlPlxuICAgICAqIC8vSW4gZXhhbXBsZSBwcm9qZWN0c1NlcnZpY2UudHNcbiAgICAgKiAgZXhwb3J0IGNsYXNzIFByb2plY3QgZXh0ZW5kcyBMaXN0SXRlbTxQcm9qZWN0PntcbiAgICAgICAgICogICAgICB0aXRsZTogc3RyaW5nO1xuICAgICAgICAgKiAgICAgIHVzZXJzOiBVc2VyW107XG4gICAgICAgICAqICAgICAgLi4uc29tZSBvdGhlciBleHBlY3RlZCBhdHRyaWJ1dGVzXG4gICAgICAgICAqICAgICAgY29uc3RydWN0b3Iob2JqKSB7XG4gICAgICAgICAqICAgICAgICAgIHN1cGVyKG9iaik7XG4gICAgICAgICAqICAgICAgICAgIF8uYXNzaWduKHRoaXMsIG9iaik7XG4gICAgICAgICAqICAgICAgfVxuICAgICAgICAgKiAgfVxuICAgICAqXG4gICAgICogIGxldCB1bnJlZ2lzdGVyID0gUHJvamVjdC5wcm90b3R5cGUucmVnaXN0ZXJQcmVEZWxldGVBY3Rpb24oZnVuY3Rpb24oKSB7XG4gICAgICAgICAqICAgICAgLy9EbyBzb21lIHZhbGlkYXRpb24gaGVyZSBhbmQgcmV0dXJuIHRydWUgaWYgdXNlciBjYW4gZGVsZXRlXG4gICAgICAgICAqICAgICAgLy9vdGhlcndpc2UgcmV0dXJuIGZhbHNlIHRvIHByZXZlbnQgZGVsZXRlIGFjdGlvblxuICAgICAgICAgKiAgfSk7XG4gICAgICpcbiAgICAgKiAgLy9BdCBzb21lIHBvaW50IGluIHRoZSBmdXR1cmUgaWYgbm8gbG9uZ2VyIG5lY2Vzc2FyeVxuICAgICAqICB1bnJlZ2lzdGVyKCk7XG4gICAgICpcbiAgICAgKiA8L3ByZT5cbiAgICAgKi9cbiAgICByZWdpc3RlclByZURlbGV0ZUFjdGlvbihhY3Rpb246ICgpID0+IGJvb2xlYW4pOiAoKSA9PiB2b2lkIHtcbiAgICAgICAgdGhpcy5wcmVEZWxldGVBY3Rpb24gPSBhY3Rpb247XG4gICAgICAgIC8vUmV0dXJuIGZ1bmN0aW9uIHRvIHVucmVnaXN0ZXJcbiAgICAgICAgcmV0dXJuICgpID0+IHRoaXMucHJlRGVsZXRlQWN0aW9uID0gdW5kZWZpbmVkO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgTGlzdEl0ZW0ucHJvdG90eXBlLnJlZ2lzdGVyUHJlU2F2ZUFjdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGFjdGlvbiBGdW5jdGlvbiB0aGF0IGFjY2VwdHMgbm8gYXJndW1lbnRzIGFuZCByZXR1cm5zIGEgYm9vbGVhbiBkZXRlcm1pbmluZyBpcyBzYXZlIGNhbiBjb250aW51ZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IEZ1bmN0aW9uIHRoYXQgY2FuIGJlIGNhbGxlZCB0byB1bnJlZ2lzdGVyLlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFJlZ2lzdGVyIGEgZnVuY3Rpb24gb24gdGhlIGxpc3QgaXRlbSBwcm90b3R5cGUgdGhhdCBpcyBleGVjdXRlZCBwcmlvciB0byBzYXZpbmcuICBHb29kIHVzZSBjYXNlXG4gICAgICogaXMgdG8gdmFsaWRhdGUgbGlzdCBpdGVtIG9yIHBlcmZvcm0gY2xlYW51cCBwcmlvciB0byBzYXZpbmcuICBNZXRob2QgcmV0dXJucyBib29sZWFuIGFuZCBpZlxuICAgICAqIHRydWUgc2F2ZSB3aWxsIGNvbnRpbnVlLCBvdGhlcndpc2Ugc2F2ZSBpcyBwcmV2ZW50ZWQuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIDxwcmU+XG4gICAgICogLy9JbiBleGFtcGxlIHByb2plY3RzU2VydmljZS50c1xuICAgICAqICBleHBvcnQgY2xhc3MgUHJvamVjdCBleHRlbmRzIExpc3RJdGVtPFByb2plY3Q+e1xuICAgICAgICAgKiAgICAgIHRpdGxlOiBzdHJpbmc7XG4gICAgICAgICAqICAgICAgdXNlcnM6IFVzZXJbXTtcbiAgICAgICAgICogICAgICAuLi5zb21lIG90aGVyIGV4cGVjdGVkIGF0dHJpYnV0ZXNcbiAgICAgICAgICogICAgICBjb25zdHJ1Y3RvcihvYmopIHtcbiAgICAgICAgICogICAgICAgICAgc3VwZXIob2JqKTtcbiAgICAgICAgICogICAgICAgICAgXy5hc3NpZ24odGhpcywgb2JqKTtcbiAgICAgICAgICogICAgICB9XG4gICAgICAgICAqICB9XG4gICAgICpcbiAgICAgKiAgbGV0IHVucmVnaXN0ZXIgPSBQcm9qZWN0LnByb3RvdHlwZS5yZWdpc3RlclByZVNhdmVBY3Rpb24oZnVuY3Rpb24oKSB7XG4gICAgICAgICAqICAgICAgLy9EbyBzb21lIHZhbGlkYXRpb24gaGVyZSBhbmQgcmV0dXJuIHRydWUgaWYgdXNlciBjYW4gc2F2ZVxuICAgICAgICAgKiAgICAgIC8vb3RoZXJ3aXNlIHJldHVybiBmYWxzZSB0byBwcmV2ZW50IHNhdmUgYWN0aW9uXG4gICAgICAgICAqICB9KTtcbiAgICAgKlxuICAgICAqICAvL0F0IHNvbWUgcG9pbnQgaW4gdGhlIGZ1dHVyZSBpZiBubyBsb25nZXIgbmVjZXNzYXJ5XG4gICAgICogIHVucmVnaXN0ZXIoKTtcbiAgICAgKlxuICAgICAqIDwvcHJlPlxuICAgICAqL1xuICAgIHJlZ2lzdGVyUHJlU2F2ZUFjdGlvbihhY3Rpb246ICgpID0+IGJvb2xlYW4pOiAoKSA9PiB2b2lkIHtcbiAgICAgICAgdGhpcy5wcmVTYXZlQWN0aW9uID0gYWN0aW9uO1xuICAgICAgICAvL1JldHVybiBmdW5jdGlvbiB0byB1bnJlZ2lzdGVyXG4gICAgICAgIHJldHVybiAoKSA9PiB0aGlzLnByZVNhdmVBY3Rpb24gPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgTGlzdEl0ZW0ucHJvdG90eXBlLnJlZ2lzdGVyUG9zdFNhdmVBY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBhY3Rpb24gQ2FsbGJhY2sgZnVuY3Rpb24gdGhhdCBhY2NlcHRzIG5vIGFyZ3VtZW50cywgcmV0dXJucyBub3RoaW5nLCBhbmQgaXMgY2FsbGVkXG4gICAgICogYWZ0ZXIgYSBsaXN0IGl0ZW0gaGFzIGNvbXBsZXRlZCBzYXZpbmcuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBGdW5jdGlvbiB0aGF0IGNhbiBiZSBjYWxsZWQgdG8gdW5yZWdpc3Rlci5cbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBSZWdpc3RlciBhIGZ1bmN0aW9uIG9uIHRoZSBtb2RlbCBwcm90b3R5cGUgdGhhdCBpcyBleGVjdXRlZCBhZnRlciBzYXZpbmcuICBHb29kIHVzZSBjYXNlXG4gICAgICogaXMgdG8gcGVyZm9ybSBjbGVhbnVwIGFmdGVyIHNhdmUuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIDxwcmU+XG4gICAgICogLy9JbiBleGFtcGxlIHByb2plY3RzU2VydmljZS50c1xuICAgICAqICBleHBvcnQgY2xhc3MgUHJvamVjdCBleHRlbmRzIExpc3RJdGVtPFByb2plY3Q+e1xuICAgICAgICAgKiAgICAgIHRpdGxlOiBzdHJpbmc7XG4gICAgICAgICAqICAgICAgdXNlcnM6IFVzZXJbXTtcbiAgICAgICAgICogICAgICAuLi5zb21lIG90aGVyIGV4cGVjdGVkIGF0dHJpYnV0ZXNcbiAgICAgICAgICogICAgICBjb25zdHJ1Y3RvcihvYmopIHtcbiAgICAgICAgICogICAgICAgICAgc3VwZXIob2JqKTtcbiAgICAgICAgICogICAgICAgICAgXy5hc3NpZ24odGhpcywgb2JqKTtcbiAgICAgICAgICogICAgICB9XG4gICAgICAgICAqICB9XG4gICAgICpcbiAgICAgKiAgbGV0IHVucmVnaXN0ZXIgPSBQcm9qZWN0LnByb3RvdHlwZS5yZWdpc3RlclBvc3RTYXZlQWN0aW9uKGZ1bmN0aW9uKCkge1xuICAgICAgICAgKiAgICAgIC8vVXNlIHRoaXMgbWV0aG9kIHRvIHBlcmZvcm0gYW55IGNsZWFudXAgYWZ0ZXIgc2F2ZSBldmVudFxuICAgICAgICAgKiAgICAgIC8vZm9yIGFueSBsaXN0IGl0ZW0gb2YgdGhpcyB0eXBlXG4gICAgICAgICAqICB9KTtcbiAgICAgKlxuICAgICAqICAvL0F0IHNvbWUgcG9pbnQgaW4gdGhlIGZ1dHVyZSBpZiBubyBsb25nZXIgbmVjZXNzYXJ5XG4gICAgICogIHVucmVnaXN0ZXIoKTtcbiAgICAgKlxuICAgICAqIDwvcHJlPlxuICAgICAqL1xuICAgIHJlZ2lzdGVyUG9zdFNhdmVBY3Rpb24oYWN0aW9uOiAoKSA9PiB2b2lkKTogKCkgPT4gdm9pZCB7XG4gICAgICAgIHRoaXMucG9zdFNhdmVBY3Rpb24gPSBhY3Rpb247XG4gICAgICAgIC8vUmV0dXJuIGZ1bmN0aW9uIHRvIHVucmVnaXN0ZXJcbiAgICAgICAgcmV0dXJuICgpID0+IGRlbGV0ZSB0aGlzLnBvc3RTYXZlQWN0aW9uO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgTGlzdEl0ZW0ucmVzb2x2ZVBlcm1pc3Npb25zXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU2VlIGFwTW9kZWxTZXJ2aWNlLnJlc29sdmVQZXJtaXNzaW9ucyBmb3IgZGV0YWlscyBvbiB3aGF0IHdlIGV4cGVjdCB0byBoYXZlIHJldHVybmVkLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IENvbnRhaW5zIHByb3BlcnRpZXMgZm9yIGVhY2ggcGVybWlzc2lvbiBsZXZlbCBldmFsdWF0ZWQgZm9yIGN1cnJlbnQgdXNlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIExldHMgYXNzdW1lIHdlJ3JlIGNoZWNraW5nIHRvIHNlZSBpZiBhIHVzZXIgaGFzIGVkaXQgcmlnaHRzIGZvciBhIGdpdmVuIHRhc2sgbGlzdCBpdGVtLlxuICAgICAqIDxwcmU+XG4gICAgICogbGV0IGNhblVzZXJFZGl0ID0gZnVuY3Rpb24odGFzaykge1xuICAgICAgICAgKiAgICAgIGxldCB1c2VyUGVybWlzc2lvbnMgPSB0YXNrLnJlc29sdmVQZXJtaXNzaW9ucygpO1xuICAgICAgICAgKiAgICAgIHJldHVybiB1c2VyUGVybWlzc2lvbnMuRWRpdExpc3RJdGVtcztcbiAgICAgICAgICogfTtcbiAgICAgKiA8L3ByZT5cbiAgICAgKiBFeGFtcGxlIG9mIHdoYXQgdGhlIHJldHVybmVkIG9iamVjdCB3b3VsZCBsb29rIGxpa2VcbiAgICAgKiBmb3IgYSBzaXRlIGFkbWluLlxuICAgICAqIDxwcmU+XG4gICAgICogdXNlclBlcm1pc3Npb25zID0ge1xuICAgICAgICAgKiAgICBcIlZpZXdMaXN0SXRlbXNcIjogdHJ1ZSxcbiAgICAgICAgICogICAgXCJBZGRMaXN0SXRlbXNcIjogdHJ1ZSxcbiAgICAgICAgICogICAgXCJFZGl0TGlzdEl0ZW1zXCI6IHRydWUsXG4gICAgICAgICAqICAgIFwiRGVsZXRlTGlzdEl0ZW1zXCI6IHRydWUsXG4gICAgICAgICAqICAgIFwiQXBwcm92ZUl0ZW1zXCI6IHRydWUsXG4gICAgICAgICAqICAgIFwiT3Blbkl0ZW1zXCI6IHRydWUsXG4gICAgICAgICAqICAgIFwiVmlld1ZlcnNpb25zXCI6IHRydWUsXG4gICAgICAgICAqICAgIFwiRGVsZXRlVmVyc2lvbnNcIjogdHJ1ZSxcbiAgICAgICAgICogICAgXCJDYW5jZWxDaGVja291dFwiOiB0cnVlLFxuICAgICAgICAgKiAgICBcIlBlcnNvbmFsVmlld3NcIjogdHJ1ZSxcbiAgICAgICAgICogICAgXCJNYW5hZ2VMaXN0c1wiOiB0cnVlLFxuICAgICAgICAgKiAgICBcIlZpZXdGb3JtUGFnZXNcIjogdHJ1ZSxcbiAgICAgICAgICogICAgXCJPcGVuXCI6IHRydWUsXG4gICAgICAgICAqICAgIFwiVmlld1BhZ2VzXCI6IHRydWUsXG4gICAgICAgICAqICAgIFwiQWRkQW5kQ3VzdG9taXplUGFnZXNcIjogdHJ1ZSxcbiAgICAgICAgICogICAgXCJBcHBseVRoZW1lQW5kQm9yZGVyXCI6IHRydWUsXG4gICAgICAgICAqICAgIFwiQXBwbHlTdHlsZVNoZWV0c1wiOiB0cnVlLFxuICAgICAgICAgKiAgICBcIlZpZXdVc2FnZURhdGFcIjogdHJ1ZSxcbiAgICAgICAgICogICAgXCJDcmVhdGVTU0NTaXRlXCI6IHRydWUsXG4gICAgICAgICAqICAgIFwiTWFuYWdlU3Vid2Vic1wiOiB0cnVlLFxuICAgICAgICAgKiAgICBcIkNyZWF0ZUdyb3Vwc1wiOiB0cnVlLFxuICAgICAgICAgKiAgICBcIk1hbmFnZVBlcm1pc3Npb25zXCI6IHRydWUsXG4gICAgICAgICAqICAgIFwiQnJvd3NlRGlyZWN0b3JpZXNcIjogdHJ1ZSxcbiAgICAgICAgICogICAgXCJCcm93c2VVc2VySW5mb1wiOiB0cnVlLFxuICAgICAgICAgKiAgICBcIkFkZERlbFByaXZhdGVXZWJQYXJ0c1wiOiB0cnVlLFxuICAgICAgICAgKiAgICBcIlVwZGF0ZVBlcnNvbmFsV2ViUGFydHNcIjogdHJ1ZSxcbiAgICAgICAgICogICAgXCJNYW5hZ2VXZWJcIjogdHJ1ZSxcbiAgICAgICAgICogICAgXCJVc2VSZW1vdGVBUElzXCI6IHRydWUsXG4gICAgICAgICAqICAgIFwiTWFuYWdlQWxlcnRzXCI6IHRydWUsXG4gICAgICAgICAqICAgIFwiQ3JlYXRlQWxlcnRzXCI6IHRydWUsXG4gICAgICAgICAqICAgIFwiRWRpdE15VXNlckluZm9cIjogdHJ1ZSxcbiAgICAgICAgICogICAgXCJFbnVtZXJhdGVQZXJtaXNzaW9uc1wiOiB0cnVlLFxuICAgICAgICAgKiAgICBcIkZ1bGxNYXNrXCI6IHRydWVcbiAgICAgICAgICogfVxuICAgICAqIDwvcHJlPlxuICAgICAqL1xuICAgIHJlc29sdmVQZXJtaXNzaW9ucygpOiBJVXNlclBlcm1pc3Npb25zT2JqZWN0IHtcbiAgICAgICAgcmV0dXJuIGFwVXRpbGl0eVNlcnZpY2UucmVzb2x2ZVBlcm1pc3Npb25zKHRoaXMucGVybU1hc2spO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgTGlzdEl0ZW0uc2F2ZUNoYW5nZXNcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBVcGRhdGVzIHJlY29yZCBkaXJlY3RseSBmcm9tIHRoZSBvYmplY3RcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIE9wdGlvbmFsbHkgcGFzcyBwYXJhbXMgdG8gdGhlIGRhdGEgc2VydmljZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnVwZGF0ZUFsbENhY2hlcz1mYWxzZV0gU2VhcmNoIHRocm91Z2ggdGhlIGNhY2hlIGZvciBlYWNoIHF1ZXJ5IHRvIGVuc3VyZSBsaXN0SXRlbSBpc1xuICAgICAqIHVwZGF0ZWQgZXZlcnl3aGVyZS4gIFRoaXMgaXMgbW9yZSBwcm9jZXNzIGludGVuc2l2ZSBzbyBieSBkZWZhdWx0IHdlIG9ubHkgdXBkYXRlIHRoZSBjYWNoZWQgbGlzdEl0ZW0gaW4gdGhlXG4gICAgICogY2FjaGUgd2hlcmUgdGhpcyBsaXN0SXRlbSBpcyBjdXJyZW50bHkgc3RvcmVkLlxuICAgICAqIEByZXR1cm5zIHtvYmplY3R9IFByb21pc2Ugd2hpY2ggcmVzb2x2ZWQgd2l0aCB0aGUgdXBkYXRlZCBsaXN0IGl0ZW0gZnJvbSB0aGUgc2VydmVyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogPHByZT5cbiAgICAgKiAvLyBFeGFtcGxlIG9mIHNhdmUgZnVuY3Rpb24gb24gYSBmaWN0aXRpb3VzXG4gICAgICogLy8gYXBwL21vZHVsZXMvdGFza3MvVGFza0RldGFpbHNDdHJsLmpzIG1vZGFsIGZvcm0uXG4gICAgICogJHNjb3BlLnNhdmVDaGFuZ2VzID0gZnVuY3Rpb24odGFzaykge1xuICAgICAgICAgKiAgICAgIHRhc2suc2F2ZUNoYW5nZXMoKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgKiAgICAgICAgICAvLyBTdWNjZXNzZnVsbHkgc2F2ZWQgc28gd2UgY2FuIGRvIHNvbWV0aGluZ1xuICAgICAgICAgKiAgICAgICAgICAvLyBsaWtlIGNsb3NlIGZvcm1cbiAgICAgICAgICpcbiAgICAgICAgICogICAgICAgICAgfSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAqICAgICAgICAgIC8vIEZhaWx1cmVcbiAgICAgICAgICpcbiAgICAgICAgICogICAgICAgICAgfSk7XG4gICAgICAgICAqIH1cbiAgICAgKiA8L3ByZT5cbiAgICAgKi9cbiAgICBzYXZlQ2hhbmdlcyh7dGFyZ2V0ID0gdGhpcy5nZXRDYWNoZSA/IHRoaXMuZ2V0Q2FjaGUoKSA6IG5ldyBJbmRleGVkQ2FjaGU8VD4oKSwgdmFsdWVQYWlycyA9IHVuZGVmaW5lZCwgYnVpbGRWYWx1ZVBhaXJzID0gdHJ1ZX0gPSB7fSk6IG5nLklQcm9taXNlPFQ+IHtcbiAgICAgICAgbGV0IGxpc3RJdGVtID0gdGhpcztcbiAgICAgICAgbGV0IG1vZGVsID0gbGlzdEl0ZW0uZ2V0TW9kZWwoKTtcbiAgICAgICAgbGV0IGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuXG4gICAgICAgIGxldCBjb25maWcgPSB7XG4gICAgICAgICAgICBiYXRjaENtZDogJ1VwZGF0ZScsXG4gICAgICAgICAgICBidWlsZFZhbHVlUGFpcnMsXG4gICAgICAgICAgICBJRDogbGlzdEl0ZW0uaWQsXG4gICAgICAgICAgICBsaXN0TmFtZTogbW9kZWwuZ2V0TGlzdElkKCksXG4gICAgICAgICAgICBvcGVyYXRpb246ICdVcGRhdGVMaXN0SXRlbXMnLFxuICAgICAgICAgICAgdGFyZ2V0LFxuICAgICAgICAgICAgdmFsdWVQYWlycyxcbiAgICAgICAgICAgIHdlYlVSTDogbW9kZWwubGlzdC5pZGVudGlmeVdlYlVSTCgpXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoXy5pc0Z1bmN0aW9uKGxpc3RJdGVtLnByZVNhdmVBY3Rpb24pICYmICFsaXN0SXRlbS5wcmVTYXZlQWN0aW9uKCkpIHtcbiAgICAgICAgICAgIC8vcHJlU2F2ZUFjdGlvbiBleGlzdHMgYnV0IHJldHVybmVkIGZhbHNlIHNvIHdlIGRvbid0IHNhdmVcbiAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdCgnUHJlLVNhdmUgQWN0aW9uIFJldHVybmVkIEZhbHNlJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvL0VpdGhlciBubyBwcmVTYXZlQWN0aW9uIHJlZ2lzdGVyZWQgb3IgaXQgcGFzc2VkIHZhbGlkYXRpb25cblxuICAgICAgICAgICAgLyoqIFJlZGlyZWN0IGlmIHRoZSByZXF1ZXN0IGlzIGFjdHVhbGx5IGNyZWF0aW5nIGEgbmV3IGxpc3QgaXRlbS4gIFRoaXMgY2FuIG9jY3VyIGlmIHdlIGNyZWF0ZVxuICAgICAgICAgICAgICogYW4gZW1wdHkgaXRlbSB0aGF0IGlzIGluc3RhbnRpYXRlZCBmcm9tIHRoZSBtb2RlbCBhbmQgdGhlbiBhdHRlbXB0IHRvIHNhdmUgaW5zdGVhZCBvZiB1c2luZ1xuICAgICAgICAgICAgICogbW9kZWwuYWRkTmV3SXRlbSAqL1xuICAgICAgICAgICAgaWYgKCFsaXN0SXRlbS5pZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBtb2RlbC5hZGROZXdJdGVtKGxpc3RJdGVtLCB7dmFsdWVQYWlycywgYnVpbGRWYWx1ZVBhaXJzfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChidWlsZFZhbHVlUGFpcnMgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBsZXQgZWRpdGFibGVGaWVsZHMgPSBfLmZpbHRlcihtb2RlbC5saXN0LmZpZWxkcywge3JlYWRPbmx5OiBmYWxzZX0pO1xuICAgICAgICAgICAgICAgIGNvbmZpZy52YWx1ZVBhaXJzID0gYXBFbmNvZGVTZXJ2aWNlLmdlbmVyYXRlVmFsdWVQYWlycyhlZGl0YWJsZUZpZWxkcywgbGlzdEl0ZW0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgcmVxdWVzdCA9IGFwRGF0YVNlcnZpY2Uuc2VydmljZVdyYXBwZXIoY29uZmlnKVxuICAgICAgICAgICAgICAgIC50aGVuKChyZXNwb25zZTogRWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXhlZENhY2hlID0gYXBEZWNvZGVTZXJ2aWNlLnByb2Nlc3NMaXN0SXRlbXM8VD4obW9kZWwsIGxpc3RJdGVtLmdldFF1ZXJ5KCksIHJlc3BvbnNlLCBjb25maWcpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vSWRlbnRpZnkgdXBkYXRlZCBsaXN0IGl0ZW1cbiAgICAgICAgICAgICAgICAgICAgbGV0IHVwZGF0ZWRMaXN0SXRlbSA9IGluZGV4ZWRDYWNoZS5nZXQobGlzdEl0ZW0uaWQpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8qKiBPcHRpb25hbGx5IGJyb2FkY2FzdCBjaGFuZ2UgZXZlbnQgKi9cbiAgICAgICAgICAgICAgICAgICAgYXBVdGlsaXR5U2VydmljZS5yZWdpc3RlckNoYW5nZShtb2RlbCwgJ3VwZGF0ZScsIHVwZGF0ZWRMaXN0SXRlbS5pZCk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy9PcHRpb25hbGx5IHBlcmZvcm0gYW55IHBvc3Qgc2F2ZSBjbGVhbnVwIGlmIHJlZ2lzdGVyZWRcbiAgICAgICAgICAgICAgICAgICAgaWYgKF8uaXNGdW5jdGlvbihsaXN0SXRlbS5wb3N0U2F2ZUFjdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RJdGVtLnBvc3RTYXZlQWN0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vUmVzb2x2ZSB3aXRoIHRoZSB1cGRhdGVkIGxpc3QgaXRlbVxuICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHVwZGF0ZWRMaXN0SXRlbSk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8qKiBOb3RpZnkgY2hhbmdlIHNlcnZpY2UgdG8gZXhwZWN0IGEgcmVxdWVzdCwgb25seSB1c2VmdWwgYXQgdGhpcyBwb2ludCB3aGVuIHdvcmtpbmcgb2ZmbGluZSAqL1xuICAgICAgICAgICAgYXBDaGFuZ2VTZXJ2aWNlLnJlZ2lzdGVyTGlzdEl0ZW1VcGRhdGU8VD4obGlzdEl0ZW0sIGNvbmZpZywgZGVmZXJyZWQucHJvbWlzZSk7XG5cblxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBMaXN0SXRlbS5zYXZlRmllbGRzXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU2F2ZXMgYSBuYW1lZCBzdWJzZXQgb2YgZmllbGRzIGJhY2sgdG8gU2hhcmVQb2ludC4gIFRoaXMgaXMgYW4gYWx0ZXJuYXRpdmUgdG8gc2F2aW5nIGFsbCBmaWVsZHMuXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gZmllbGRBcnJheSBBcnJheSBvZiBpbnRlcm5hbCBmaWVsZCBuYW1lcyB0aGF0IHNob3VsZCBiZSBzYXZlZCB0byBTaGFyZVBvaW50LlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gT3B0aW9uYWxseSBwYXNzIHBhcmFtcyB0byB0aGUgZGF0YSBzZXJ2aWNlLlxuICAgICAqIEByZXR1cm5zIHtvYmplY3R9IFByb21pc2Ugd2hpY2ggcmVzb2x2ZXMgd2l0aCB0aGUgdXBkYXRlZCBsaXN0IGl0ZW0gZnJvbSB0aGUgc2VydmVyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogPHByZT5cbiAgICAgKiAvLyBFeGFtcGxlIG9mIHNhdmVGaWVsZHMgZnVuY3Rpb24gb24gYSBmaWN0aXRpb3VzXG4gICAgICogLy8gYXBwL21vZHVsZXMvdGFza3MvVGFza0RldGFpbHNDdHJsLmpzIG1vZGFsIGZvcm0uXG4gICAgICogLy8gU2ltaWxhciB0byBzYXZlQ2hhbmdlcyBidXQgaW5zdGVhZCB3ZSBvbmx5IHNhdmVcbiAgICAgKiAvLyBzcGVjaWZpZWQgZmllbGRzIGluc3RlYWQgb2YgcHVzaGluZyBldmVyeXRoaW5nLlxuICAgICAqICRzY29wZS51cGRhdGVTdGF0dXMgPSBmdW5jdGlvbih0YXNrKSB7XG4gICAgICAgICAqICAgICAgdGFzay5zYXZlRmllbGRzKFsnc3RhdHVzJywgJ25vdGVzJ10pXG4gICAgICAgICAqICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKHVwZGF0ZWRMaXN0SXRlbSkge1xuICAgICAgICAgKiAgICAgICAgICAgICAgLy8gU3VjY2Vzc2Z1bGx5IHVwZGF0ZWQgdGhlIHN0YXR1cyBhbmRcbiAgICAgICAgICogICAgICAgICAgICAgIC8vIG5vdGVzIGZpZWxkcyBmb3IgdGhlIGdpdmVuIHRhc2tcbiAgICAgICAgICpcbiAgICAgICAgICogICAgICAgICAgfSlcbiAgICAgICAgICogICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgKiAgICAgICAgICAgICAgLy8gRmFpbHVyZSB0byB1cGRhdGUgdGhlIGZpZWxkXG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAgICAgIH0pO1xuICAgICAgICAgKiB9XG4gICAgICogPC9wcmU+XG4gICAgICovXG4gICAgc2F2ZUZpZWxkcyhmaWVsZEFycmF5OiBzdHJpbmdbXSwge3RhcmdldCA9IHRoaXMuZ2V0Q2FjaGUgPyB0aGlzLmdldENhY2hlKCkgOiBuZXcgSW5kZXhlZENhY2hlPFQ+KCl9ID0ge30pOiBuZy5JUHJvbWlzZTxUPiB7XG5cbiAgICAgICAgbGV0IGxpc3RJdGVtID0gdGhpcztcbiAgICAgICAgbGV0IG1vZGVsID0gbGlzdEl0ZW0uZ2V0TW9kZWwoKTtcbiAgICAgICAgbGV0IGRlZmluaXRpb25zOiBJRmllbGREZWZpbml0aW9uW10gPSBbXTtcbiAgICAgICAgbGV0IGZpZWxkTmFtZTogc3RyaW5nW107XG5cbiAgICAgICAgaWYgKF8uaXNTdHJpbmcoZmllbGRBcnJheSkpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignRmllbGQgbmFtZXMgc2hvdWxkIGJlIGFuIGFycmF5IG9mIHN0cmluZ3MgaW5zdGVhZCBvZiBhIHNpbmdsZSBzdHJpbmcuICBUaGlzIHdpbGwgYmUgZGVwZXJlY2F0ZWQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqIEFsbG93IGEgc3RyaW5nIHRvIGJlIHBhc3NlZCBpbiB0byBzYXZlIGEgc2luZ2xlIGZpZWxkICovXG4gICAgICAgIGxldCBmaWVsZE5hbWVzID0gXy5pc1N0cmluZyhmaWVsZEFycmF5KSA/IFtmaWVsZEFycmF5XSA6IGZpZWxkQXJyYXk7XG5cbiAgICAgICAgLyoqIEZpbmQgdGhlIGZpZWxkIGRlZmluaXRpb24gZm9yIGVhY2ggb2YgdGhlIHJlcXVlc3RlZCBmaWVsZHMgKi9cbiAgICAgICAgZm9yIChsZXQgZmllbGROYW1lIG9mIGZpZWxkTmFtZXMpIHtcbiAgICAgICAgICAgIGxldCBtYXRjaCA9IF8uZmluZChtb2RlbC5saXN0LmN1c3RvbUZpZWxkcywge21hcHBlZE5hbWU6IGZpZWxkTmFtZX0pO1xuICAgICAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgICAgICAgZGVmaW5pdGlvbnMucHVzaChtYXRjaCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKiogR2VuZXJhdGUgdmFsdWUgcGFpcnMgZm9yIHNwZWNpZmllZCBmaWVsZHMgKi9cbiAgICAgICAgbGV0IHZhbHVlUGFpcnMgPSBhcEVuY29kZVNlcnZpY2UuZ2VuZXJhdGVWYWx1ZVBhaXJzKGRlZmluaXRpb25zLCBsaXN0SXRlbSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuc2F2ZUNoYW5nZXMoe1xuICAgICAgICAgICAgYnVpbGRWYWx1ZVBhaXJzOiBmYWxzZSxcbiAgICAgICAgICAgIHRhcmdldCxcbiAgICAgICAgICAgIHZhbHVlUGFpcnNcbiAgICAgICAgfSk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBMaXN0SXRlbS5zZXRQcmlzdGluZVxuICAgICAqIEBwYXJhbSB7TGlzdEl0ZW19IFtsaXN0SXRlbV0gT3B0aW9uYWxseSBwYXNzIGxpc3QgaXRlbSBvYmplY3QgYmFjayB0byB0aGUgbGlzdCBpdGVtIGNvbnN0cnVjdG9yIHRvXG4gICAgICogcnVuIGFueSBpbml0aWFsaXphdGlvbiBsb2dpYy4gIE90aGVyd2lzZSB3ZSBqdXN0IG92ZXJ3cml0ZSBleGlzdGluZyB2YWx1ZXMgb24gdGhlIG9iamVjdCB3aXRoIGEgY29weSBmcm9tIHRoZVxuICAgICAqIG9yaWdpbmFsIG9iamVjdC5cbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBSZXNldHMgYWxsIGxpc3QgaXRlbSBwcm9wZXJ0aWVzIGJhY2sgdG8gYSBwcmlzdGluZSBzdGF0ZSBidXQgZG9lc24ndCB1cGRhdGUgYW55IHByb3BlcnRpZXMgYWRkZWRcbiAgICAgKiBtYW51YWxseSB0byB0aGUgbGlzdCBpdGVtLlxuICAgICAqL1xuICAgIHNldFByaXN0aW5lKGxpc3RJdGVtPzogTGlzdEl0ZW08YW55Pik6IHZvaWQge1xuICAgICAgICBpZiAoIXRoaXMuaWQgfHwgIV8uaXNGdW5jdGlvbih0aGlzLmdldFByaXN0aW5lKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gZmluZCB0aGUgcHJpc3RpbmUgc3RhdGUgZm9yIHRoaXMgbGlzdCBpdGVtLicpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBwcmlzdGluZVN0YXRlID0gdGhpcy5nZXRQcmlzdGluZSgpO1xuXG4gICAgICAgIGlmIChsaXN0SXRlbSkge1xuICAgICAgICAgICAgbGlzdEl0ZW0uY29uc3RydWN0b3IocHJpc3RpbmVTdGF0ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBfLmFzc2lnbih0aGlzLCBwcmlzdGluZVN0YXRlKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgTGlzdEl0ZW0uc3RhcnRXb3JrZmxvd1xuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIEdpdmVuIGEgd29ya2Zsb3cgbmFtZSBvciB0ZW1wbGF0ZUlkIHdlIGluaXRpYXRlIGEgZ2l2ZW4gd29ya2Zsb3cgdXNpbmcgYXBEYXRhU2VydmljZS5zdGFydFdvcmtmbG93LlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIFBhcmFtcyBmb3IgbWV0aG9kIGFuZCBwYXNzIHRocm91Z2ggb3B0aW9ucyB0byBhcERhdGFTZXJ2aWNlLnN0YXJ0V29ya2Zsb3cuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnRlbXBsYXRlSWRdIFVzZWQgdG8gZGlyZWN0bHkgc3RhcnQgdGhlIHdvcmtmbG93IHdpdGhvdXQgbG9va2luZyB1cCB0aGUgdGVtcGxhdGVJZC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMud29ya2Zsb3dOYW1lXSBVc2UgdGhpcyB2YWx1ZSB0byBsb29rdXAgdGhlIHRlbXBsYXRlSWQgYW5kIHRoZW4gc3RhcnQgdGhlIHdvcmtmbG93LlxuICAgICAqIEByZXR1cm5zIHtwcm9taXNlfSBSZXNvbHZlcyB3aXRoIHNlcnZlciByZXNwb25zZS5cbiAgICAgKi9cbiAgICBzdGFydFdvcmtmbG93KG9wdGlvbnM6IElTdGFydFdvcmtmbG93UGFyYW1zKTogbmcuSVByb21pc2U8YW55PiB7XG4gICAgICAgIGxldCBsaXN0SXRlbSA9IHRoaXMsXG4gICAgICAgICAgICBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgICAgLyoqIFNldCB0aGUgcmVsYXRpdmUgZmlsZSByZWZlcmVuY2UgKi9cbiAgICAgICAgb3B0aW9ucy5maWxlUmVmID0gbGlzdEl0ZW0uZmlsZVJlZi5sb29rdXBWYWx1ZTtcblxuICAgICAgICBpZiAoIW9wdGlvbnMudGVtcGxhdGVJZCAmJiAhb3B0aW9ucy53b3JrZmxvd05hbWUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRWl0aGVyIGEgdGVtcGxhdGVJZCBvciB3b3JrZmxvd05hbWUgaXMgcmVxdWlyZWQgdG8gaW5pdGlhdGUgYSB3b3JrZmxvdy4nKTtcbiAgICAgICAgfSBlbHNlIGlmIChvcHRpb25zLnRlbXBsYXRlSWQpIHtcbiAgICAgICAgICAgIC8qKiBUaGUgdGVtcGxhdGVJZCBpcyBhbHJlYWR5IHByb3ZpZGVkIHNvIHdlIGRvbid0IG5lZWQgdG8gbG9vayBmb3IgaXQgKi9cbiAgICAgICAgICAgIGluaXRpYXRlUmVxdWVzdCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLyoqIFdlIGZpcnN0IG5lZWQgdG8gZ2V0IHRoZSB0ZW1wbGF0ZSBHVUlEIGZvciB0aGUgd29ya2Zsb3cgKi9cbiAgICAgICAgICAgIGxpc3RJdGVtLmdldEF2YWlsYWJsZVdvcmtmbG93cygpXG4gICAgICAgICAgICAgICAgLnRoZW4oKHdvcmtmbG93cykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0V29ya2xvdyA9IF8uZmluZCh3b3JrZmxvd3MsIHtuYW1lOiBvcHRpb25zLndvcmtmbG93TmFtZX0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRhcmdldFdvcmtsb3cpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQSB3b3JrZmxvdyB3aXRoIHRoZSBuYW1lICR7b3B0aW9ucy53b3JrZmxvd05hbWV9IHdhc24ndCBmb3VuZC4gIFRoZSB3b3JrZmxvd3MgYXZhaWxhYmxlIGFyZSBbJHtfLm1hcCh3b3JrZmxvd3MsICduYW1lJykudG9TdHJpbmcoKSB9XS5gKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvKiogQ3JlYXRlIGFuIGV4dGVuZGVkIHNldCBvZiBvcHRpb25zIHRvIHBhc3MgYW55IG92ZXJyaWRlcyB0byBhcERhdGFTZXJ2aWNlICovXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMudGVtcGxhdGVJZCA9IHRhcmdldFdvcmtsb3cudGVtcGxhdGVJZDtcbiAgICAgICAgICAgICAgICAgICAgaW5pdGlhdGVSZXF1ZXN0KCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcblxuICAgICAgICBmdW5jdGlvbiBpbml0aWF0ZVJlcXVlc3QoKSB7XG4gICAgICAgICAgICBhcERhdGFTZXJ2aWNlLnN0YXJ0V29ya2Zsb3cob3B0aW9ucylcbiAgICAgICAgICAgICAgICAudGhlbigoeG1sUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSh4bWxSZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIExpc3RJdGVtLnZhbGlkYXRlRW50aXR5XG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgcGFzc2VzIHRoZSBjdXJyZW50IGl0ZW0gdG8gTW9kZWwudmFsaWRhdGVFbnRpdHlcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gRXZhbHVhdGlvbiBvZiB2YWxpZGl0eS5cbiAgICAgKi9cbiAgICB2YWxpZGF0ZUVudGl0eSgpOiBib29sZWFuIHtcbiAgICAgICAgbGV0IGxpc3RJdGVtID0gdGhpcyxcbiAgICAgICAgICAgIG1vZGVsID0gbGlzdEl0ZW0uZ2V0TW9kZWwoKTtcbiAgICAgICAgcmV0dXJuIG1vZGVsLnZhbGlkYXRlRW50aXR5KGxpc3RJdGVtKTtcbiAgICB9XG5cbn1cblxuXG4vKiogSW4gdGhlIGV2ZW50IHRoYXQgYSBmYWN0b3J5IGlzbid0IHNwZWNpZmllZCwganVzdCB1c2UgYVxuICogc3RhbmRhcmQgY29uc3RydWN0b3IgdG8gYWxsb3cgaXQgdG8gaW5oZXJpdCBmcm9tIExpc3RJdGVtICovXG5leHBvcnQgY2xhc3MgU3RhbmRhcmRMaXN0SXRlbSB7XG4gICAgY29uc3RydWN0b3Iob2JqPzogT2JqZWN0KSB7XG4gICAgICAgIF8uYXNzaWduKHRoaXMsIG9iaik7XG4gICAgfVxufVxuXG4vKipcbiAqIEBuZ2RvYyBvYmplY3RcbiAqIEBuYW1lIGFwTGlzdEl0ZW1GYWN0b3J5XG4gKiBAZGVzY3JpcHRpb25cbiAqIEV4cG9zZXMgdGhlIExpc3RJdGVtIHByb3RvdHlwZSBhbmQgYSBjb25zdHJ1Y3RvciB0byBpbnN0YW50aWF0ZSBhIG5ldyBMaXN0SXRlbS5cbiAqIFNlZSBbTGlzdEl0ZW1dKCMvYXBpL0xpc3RJdGVtKSBmb3IgZGV0YWlscyBvZiB0aGUgbWV0aG9kcyBhdmFpbGFibGUgb24gdGhlIHByb3RvdHlwZS5cbiAqXG4gKiBAcmVxdWlyZXMgTGlzdEl0ZW1cbiAqIEByZXF1aXJlcyBhcENhY2hlU2VydmljZVxuICogQHJlcXVpcmVzIGFwRGF0YVNlcnZpY2VcbiAqIEByZXF1aXJlcyBhcFV0aWxpdHlTZXJ2aWNlXG4gKi9cbmV4cG9ydCBjbGFzcyBMaXN0SXRlbUZhY3Rvcnkge1xuICAgIExpc3RJdGVtID0gTGlzdEl0ZW07XG4gICAgc3RhdGljICRpbmplY3QgPSBbJyRxJywgJ2FwQ2FjaGVTZXJ2aWNlJywgJ2FwQ2hhbmdlU2VydmljZScsICdhcERhdGFTZXJ2aWNlJywgJ2FwRGVjb2RlU2VydmljZScsICdhcEVuY29kZVNlcnZpY2UnLCAnYXBVdGlsaXR5U2VydmljZScsICdhcExpc3RJdGVtVmVyc2lvbkZhY3RvcnknXTtcblxuICAgIGNvbnN0cnVjdG9yKF8kcV8sIF9hcENhY2hlU2VydmljZV8sIF9hcENoYW5nZVNlcnZpY2VfLCBfYXBEYXRhU2VydmljZV8sIF9hcERlY29kZVNlcnZpY2VfLCBfYXBFbmNvZGVTZXJ2aWNlXywgX2FwVXRpbGl0eVNlcnZpY2VfLCBfYXBMaXN0SXRlbVZlcnNpb25GYWN0b3J5Xykge1xuICAgICAgICAkcSA9IF8kcV87XG4gICAgICAgIGFwQ2FjaGVTZXJ2aWNlID0gX2FwQ2FjaGVTZXJ2aWNlXztcbiAgICAgICAgYXBDaGFuZ2VTZXJ2aWNlID0gX2FwQ2hhbmdlU2VydmljZV87XG4gICAgICAgIC8vIGFwQ29uZmlnID0gX2FwQ29uZmlnXztcbiAgICAgICAgYXBEYXRhU2VydmljZSA9IF9hcERhdGFTZXJ2aWNlXztcbiAgICAgICAgYXBEZWNvZGVTZXJ2aWNlID0gX2FwRGVjb2RlU2VydmljZV87XG4gICAgICAgIGFwRW5jb2RlU2VydmljZSA9IF9hcEVuY29kZVNlcnZpY2VfO1xuICAgICAgICBhcFV0aWxpdHlTZXJ2aWNlID0gX2FwVXRpbGl0eVNlcnZpY2VfO1xuICAgICAgICBhcExpc3RJdGVtVmVyc2lvbkZhY3RvcnkgPSBfYXBMaXN0SXRlbVZlcnNpb25GYWN0b3J5XztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBhcExpc3RJdGVtRmFjdG9yeTogY3JlYXRlXG4gICAgICogQG1ldGhvZE9mIGFwTGlzdEl0ZW1GYWN0b3J5XG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogSW5zdGFudGlhdGVzIGFuZCByZXR1cm5zIGEgbmV3IExpc3RJdGVtLlxuICAgICAqL1xuICAgIGNyZWF0ZTxUIGV4dGVuZHMgTGlzdEl0ZW08YW55Pj4oKTogTGlzdEl0ZW08VD4ge1xuICAgICAgICByZXR1cm4gbmV3IExpc3RJdGVtPFQ+KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgYXBMaXN0SXRlbUZhY3Rvcnk6IGNyZWF0ZUdlbmVyaWNGYWN0b3J5XG4gICAgICogQG1ldGhvZE9mIGFwTGlzdEl0ZW1GYWN0b3J5XG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogSW4gdGhlIGV2ZW50IHRoYXQgYSBmYWN0b3J5IGlzbid0IHNwZWNpZmllZCwganVzdCB1c2UgYVxuICAgICAqIHN0YW5kYXJkIGNvbnN0cnVjdG9yIHRvIGFsbG93IGl0IHRvIGluaGVyaXQgZnJvbSBMaXN0SXRlbVxuICAgICAqL1xuICAgIGNyZWF0ZUdlbmVyaWNGYWN0b3J5KCkge1xuICAgICAgICByZXR1cm4gbmV3IFN0YW5kYXJkTGlzdEl0ZW0oKTtcbiAgICB9XG5cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlciEuL3NyYy9mYWN0b3JpZXMvYXBMaXN0SXRlbUZhY3RvcnkudHMiLCJpbXBvcnQge1V0aWxpdHlTZXJ2aWNlfSBmcm9tICcuLi9zZXJ2aWNlcy9hcFV0aWxpdHlTZXJ2aWNlJztcblxubGV0ICRxOiBuZy5JUVNlcnZpY2U7XG5sZXQgYXBVdGlsaXR5U2VydmljZTogVXRpbGl0eVNlcnZpY2U7XG5cbi8qKiBMb29rdXAgcmVmZXJlbmNpbmcgYSBMaXN0SXRlbSBvZiB0aGUgc3BlY2lmaWVkIHR5cGUuICBUaGUgXCJsb29rdXBJZFwiXCJcbiAqIHdpbGwgYmUgdGhlIHNhbWUgYXMgdGhlIHJlZmVyZW5jZWQgPFQ+LmlkLiAgVGhlIFwibG9va3VwVmFsdWVcIlwiIGJ5IGRlZmF1bHRcbiAqIHNob3VsZCBiZSB0aGUgPFQ+LnRpdGxlIGJ1dCBpdCBjYW4gYmUgY2hhbmdlZCB0byBhbm90aGVyIHRleHQgZmllbGRcbiAqIGluIHRoZSBTaGFyZVBvaW50IGxpc3Qgc2V0dGluZ3MgZm9yIHRoaXMgbGlzdC4gT25seSB0aGUgbG9va3VwVmFsdWUgaXNcbiAqIHJlcXVpcmVkIGFuZCB3aWxsIGJlIHNlbnQgdG8gdGhlIHNlcnZlciB3aGVuIHNhdmluZy4gIFRoZSBsb29rdXBWYWx1ZSBpc1xuICogaWdub3JlZC4gICovXG5leHBvcnQgaW50ZXJmYWNlIElMb29rdXA8VD4ge1xuICAgIGxvb2t1cFZhbHVlOiBzdHJpbmc7XG4gICAgbG9va3VwSWQ6IG51bWJlcjtcbn1cblxuLyoqXG4gKiBAbmdkb2MgZnVuY3Rpb25cbiAqIEBuYW1lIExvb2t1cFxuICogQGRlc2NyaXB0aW9uXG4gKiBBbGxvd3MgZm9yIGVhc2llciBkaXN0aW5jdGlvbiB3aGVuIGRlYnVnZ2luZyBpZiBvYmplY3QgdHlwZSBpcyBzaG93biBhcyBlaXRoZXIgTG9va3VwIG9yIFVzZXIuICBBbHNvIGFsbG93cyB1c1xuICogdG8gY3JlYXRlIGFuIGFzeW5jIHJlcXVlc3QgZm9yIHRoZSBlbnRpdHkgYmVpbmcgcmVmZXJlbmNlZCBieSB0aGUgbG9va3VwXG4gKiBAcGFyYW0ge3N0cmluZ30gcyBTdHJpbmcgdG8gc3BsaXQgaW50byBsb29rdXBWYWx1ZSBhbmQgbG9va3VwSWRcbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIENvbnRhaW5zIGEgcmVmZXJlbmNlIHRvIHRoZSBwYXJlbnQgbGlzdCBpdGVtIGFuZCB0aGUgcHJvcGVydHkgbmFtZS5cbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zLmVudGl0eSBSZWZlcmVuY2UgdG8gcGFyZW50IGxpc3QgaXRlbS5cbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zLnByb3BlcnR5TmFtZSBLZXkgb24gbGlzdCBpdGVtIG9iamVjdC5cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5leHBvcnQgY2xhc3MgTG9va3VwPFQ+IGltcGxlbWVudHMgSUxvb2t1cDxUPiB7XG4gICAgbG9va3VwSWQ6IG51bWJlcjtcbiAgICBsb29rdXBWYWx1ZTogc3RyaW5nO1xuXG4gICAgY29uc3RydWN0b3Ioc3RyOiBzdHJpbmcsIG9wdGlvbnMpIHtcbiAgICAgICAgbGV0IHRoaXNMb29rdXAgPSBuZXcgYXBVdGlsaXR5U2VydmljZS5TcGxpdEluZGV4KHN0cik7XG4gICAgICAgIHRoaXMubG9va3VwSWQgPSB0aGlzTG9va3VwLmlkO1xuICAgICAgICB0aGlzLmxvb2t1cFZhbHVlID0gdGhpc0xvb2t1cC52YWx1ZSB8fCAnJztcbiAgICB9XG59XG5cbi8qKlxuICogQG5nZG9jIGZ1bmN0aW9uXG4gKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBMb29rdXBGYWN0b3J5XG4gKiBAZGVzY3JpcHRpb25cbiAqIFRvb2xzIHRvIGFzc2lzdCB3aXRoIHRoZSBjcmVhdGlvbiBvZiBDQU1MIHF1ZXJpZXMuXG4gKi9cbmV4cG9ydCBjbGFzcyBMb29rdXBGYWN0b3J5IHtcbiAgICBzdGF0aWMgJGluamVjdCA9IFsnJHEnLCAnYXBVdGlsaXR5U2VydmljZSddO1xuICAgIExvb2t1cCA9IExvb2t1cDtcblxuICAgIGNvbnN0cnVjdG9yKF8kcV8sIF9hcFV0aWxpdHlTZXJ2aWNlXykge1xuICAgICAgICAkcSA9IF8kcV87XG4gICAgICAgIGFwVXRpbGl0eVNlcnZpY2UgPSBfYXBVdGlsaXR5U2VydmljZV87XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgYW5ndWxhclBvaW50LmFwTG9va3VwRmFjdG9yeTpjcmVhdGVcbiAgICAgKiBAbWV0aG9kT2YgYW5ndWxhclBvaW50LmFwTG9va3VwRmFjdG9yeVxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIEluc3RhbnRpYXRlcyBhbmQgcmV0dXJucyBhIG5ldyBMb29rdXAgZmllbGQuXG4gICAgICovXG4gICAgY3JlYXRlPFQ+KHN0cjogc3RyaW5nLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBuZXcgTG9va3VwPFQ+KHN0ciwgb3B0aW9ucyk7XG4gICAgfVxufVxuXG5cblxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyIS4vc3JjL2ZhY3Rvcmllcy9hcExvb2t1cEZhY3RvcnkudHMiLCJpbXBvcnQgKiBhcyBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQge0NhY2hlU2VydmljZX0gZnJvbSAnLi4vc2VydmljZXMvYXBDYWNoZVNlcnZpY2UnO1xuaW1wb3J0IHtEYXRhU2VydmljZX0gZnJvbSAnLi4vc2VydmljZXMvYXBEYXRhU2VydmljZSc7XG5pbXBvcnQge0xpc3RGYWN0b3J5LCBJVW5pbnN0YW50aWF0ZWRMaXN0LCBMaXN0fSBmcm9tICcuL2FwTGlzdEZhY3RvcnknO1xuaW1wb3J0IHtRdWVyeUZhY3RvcnksIElRdWVyeSwgSVF1ZXJ5T3B0aW9uc30gZnJvbSAnLi9hcFF1ZXJ5RmFjdG9yeSc7XG5pbXBvcnQge1V0aWxpdHlTZXJ2aWNlfSBmcm9tICcuLi9zZXJ2aWNlcy9hcFV0aWxpdHlTZXJ2aWNlJztcbmltcG9ydCB7RmllbGRTZXJ2aWNlfSBmcm9tICcuLi9zZXJ2aWNlcy9hcEZpZWxkU2VydmljZSc7XG5pbXBvcnQge0luZGV4ZWRDYWNoZUZhY3RvcnksIEluZGV4ZWRDYWNoZX0gZnJvbSAnLi9hcEluZGV4ZWRDYWNoZUZhY3RvcnknO1xuaW1wb3J0IHtEZWNvZGVTZXJ2aWNlfSBmcm9tICcuLi9zZXJ2aWNlcy9hcERlY29kZVNlcnZpY2UnO1xuaW1wb3J0IHtFbmNvZGVTZXJ2aWNlfSBmcm9tICcuLi9zZXJ2aWNlcy9hcEVuY29kZVNlcnZpY2UnO1xuaW1wb3J0IHtMaXN0SXRlbX0gZnJvbSAnLi9hcExpc3RJdGVtRmFjdG9yeSc7XG5pbXBvcnQge0lGaWVsZERlZmluaXRpb259IGZyb20gJy4vYXBGaWVsZEZhY3RvcnknO1xuaW1wb3J0IHtJVXNlclBlcm1pc3Npb25zT2JqZWN0LCBCYXNlUGVybWlzc2lvbk9iamVjdH0gZnJvbSAnLi4vY29uc3RhbnRzL2FwUGVybWlzc2lvbk9iamVjdCc7XG5pbXBvcnQge0VOVn0gZnJvbSAnLi4vYXBwLm1vZHVsZSc7XG5cblxubGV0IGFwQ2FjaGVTZXJ2aWNlOiBDYWNoZVNlcnZpY2UsIGFwRGF0YVNlcnZpY2U6IERhdGFTZXJ2aWNlLCBhcExpc3RGYWN0b3J5OiBMaXN0RmFjdG9yeSxcbiAgICBhcFF1ZXJ5RmFjdG9yeTogUXVlcnlGYWN0b3J5LCBhcFV0aWxpdHlTZXJ2aWNlOiBVdGlsaXR5U2VydmljZSxcbiAgICBhcEZpZWxkU2VydmljZTogRmllbGRTZXJ2aWNlLCBhcEluZGV4ZWRDYWNoZUZhY3Rvcnk6IEluZGV4ZWRDYWNoZUZhY3RvcnksXG4gICAgYXBEZWNvZGVTZXJ2aWNlOiBEZWNvZGVTZXJ2aWNlLCBhcEVuY29kZVNlcnZpY2U6IEVuY29kZVNlcnZpY2UsICRxOiBuZy5JUVNlcnZpY2U7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVVuaW5pdGlhbGl6ZWRNb2RlbCB7XG4gICAgZmFjdG9yeTogSU1vZGVsRmFjdG9yeTtcbiAgICBsaXN0OiBJVW5pbnN0YW50aWF0ZWRMaXN0O1xuICAgIFtrZXk6IHN0cmluZ106IGFueTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJUXVlcmllc0NvbnRhaW5lciB7XG4gICAgZ2V0QWxsTGlzdEl0ZW1zPzogSVF1ZXJ5PGFueT47XG4gICAgW2tleTogc3RyaW5nXTogSVF1ZXJ5PGFueT47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSU1vZGVsRmFjdG9yeSB7XG4gICAgbmV3IDxUIGV4dGVuZHMgTGlzdEl0ZW08YW55Pj4ocmF3T2JqZWN0OiBPYmplY3QpOiBUO1xufVxuXG5pbnRlcmZhY2UgSU1vY2tEYXRhT3B0aW9ucyB7XG4gICAgcGVybWlzc2lvbkxldmVsPzogc3RyaW5nO1xuICAgIHF1YW50aXR5PzogbnVtYmVyO1xufVxuXG5pbnRlcmZhY2UgSUNyZWF0ZUxpc3RJdGVtT3B0aW9uczxUIGV4dGVuZHMgTGlzdEl0ZW08YW55Pj4ge1xuICAgIGJ1aWxkVmFsdWVQYWlycz86IGJvb2xlYW47XG4gICAgaW5kZXhlZENhY2hlPzogSW5kZXhlZENhY2hlPFQ+O1xuICAgIGdldENhY2hlPzogKCkgPT4gSW5kZXhlZENhY2hlPFQ+O1xuICAgIHZhbHVlUGFpcnM/OiBbc3RyaW5nLCBhbnldW107XG59XG4vKipcbiAqIEBuZ2RvYyBmdW5jdGlvblxuICogQG5hbWUgTW9kZWxcbiAqIEBkZXNjcmlwdGlvblxuICogTW9kZWwgQ29uc3RydWN0b3JcbiAqIFByb3ZpZGVzIHRoZSBGb2xsb3dpbmdcbiAqIC0gYWRkcyBhbiBlbXB0eSBcImRhdGFcIiBhcnJheVxuICogLSBhZGRzIGFuIGVtcHR5IFwicXVlcmllc1wiIG9iamVjdFxuICogLSBhZGRzIGEgZGVmZXJyZWQgb2JqIFwicmVhZHlcIlxuICogLSBidWlsZHMgXCJtb2RlbC5saXN0XCIgd2l0aCBjb25zdHJ1Y3RvclxuICogLSBhZGRzIFwiZ2V0QWxsTGlzdEl0ZW1zXCIgZnVuY3Rpb25cbiAqIC0gYWRkcyBcImFkZE5ld0l0ZW1cIiBmdW5jdGlvblxuICogQHBhcmFtIHtvYmplY3R9IGNvbmZpZyBPYmplY3QgY29udGFpbmluZyBvcHRpb25hbCBwYXJhbXMuXG4gKiBAcGFyYW0ge29iamVjdH0gW2NvbmZpZy5mYWN0b3J5ID0gYXBMaXN0SXRlbUZhY3RvcnkuY3JlYXRlR2VuZXJpY0ZhY3RvcnkoKV0gLSBDb25zdHJ1Y3RvciBmdW5jdGlvbiBmb3JcbiAqIGluZGl2aWR1YWwgbGlzdCBpdGVtcy5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2NvbmZpZy5maWVsZERlZmluaXRpb25zRXh0ZW5kZWQ9ZmFsc2VdIFF1ZXJpZXMgdXNpbmcgdGhlIEdldExpc3RJdGVtQ2hhbmdlc1NpbmNlVG9rZW5cbiAqIG9wZXJhdGlvbiByZXR1cm4gdGhlIGZ1bGwgbGlzdCBkZWZpbml0aW9uIGFsb25nIHdpdGggdGhlIHJlcXVlc3RlZCBlbnRpdGllcy4gIFRoZSBmaXJzdCB0aW1lIG9uZSBvZiB0aGVzZVxuICogcXVlcmllcyBpcyBleGVjdXRlZCB3ZSB3aWxsIHRyeSB0byBleHRlbmQgb3VyIGZpZWxkIGRlZmluaXRpb25zIGRlZmluZWQgaW4gdGhlIG1vZGVsIHdpdGggdGhlIGFkZGl0aW9uYWxcbiAqIGluZm9ybWF0aW9uIHByb3ZpZGVkIGZyb20gdGhlIHNlcnZlci4gIEV4YW1wbGVzIGFyZSBvcHRpb25zIGZvciBhIENob2ljZSBmaWVsZCwgZGlzcGxheSBuYW1lIG9mIHRoZSBmaWVsZCxcbiAqIGZpZWxkIGRlc2NyaXB0aW9uLCBhbmQgYW55IG90aGVyIGZpZWxkIGluZm9ybWF0aW9uIHByb3ZpZGVkIGZvciB0aGUgZmllbGRzIHNwZWNpZmllZCBpbiB0aGUgbW9kZWwuICBUaGlzXG4gKiBmbGFnIGlzIHNldCBvbmNlIHRoZSBmaXJzdCBxdWVyeSBpcyBjb21wbGV0ZSBzbyB3ZSBkb24ndCBwcm9jZXNzIGFnYWluLlxuICogQHBhcmFtIHtvYmplY3R9IGNvbmZpZy5saXN0IC0gRGVmaW5pdGlvbiBvZiB0aGUgbGlzdCBpbiBTaGFyZVBvaW50LlxuICogYmUgcGFzc2VkIHRvIHRoZSBsaXN0IGNvbnN0cnVjdG9yIHRvIGV4dGVuZCBmdXJ0aGVyXG4gKiBAcGFyYW0ge3N0cmluZ30gY29uZmlnLmxpc3QudGl0bGUgLSBMaXN0IG5hbWUsIG5vIHNwYWNlcy4gIE9mZmxpbmUgWE1MIGZpbGUgd2lsbCBuZWVkIHRvIGJlXG4gKiBuYW1lZCB0aGUgc2FtZSAoZXg6IEN1c3RvbUxpc3Qgc28geG1sIGZpbGUgd291bGQgYmUgYXBDb25maWcub2ZmbGluZVhNTCArICcvQ3VzdG9tTGlzdC54bWwnKVxuICogQHBhcmFtIHtzdHJpbmd9IGNvbmZpZy5saXN0LmdldExpc3RJZCgpIC0gVW5pcXVlIFNoYXJlUG9pbnQgSUQgKGV4OiAnezNEQkVCMjVBLUJFRjAtNDIxMy1BNjM0LTAwREFGNDZFMzg5N30nKVxuICogQHBhcmFtIHtvYmplY3RbXX0gY29uZmlnLmxpc3QuY3VzdG9tRmllbGRzIC0gTWFwcyBTaGFyZVBvaW50IGZpZWxkcyB3aXRoIG5hbWVzIHdlJ2xsIHVzZSB3aXRoaW4gdGhlXG4gKiBhcHBsaWNhdGlvbi4gIElkZW50aWZpZXMgZmllbGQgdHlwZXMgYW5kIGZvcm1hdHMgYWNjb3JkaW5nbHkuICBBbHNvIGRlbm90ZXMgaWYgYSBmaWVsZCBpcyByZWFkIG9ubHkuXG4gKiBAY29uc3RydWN0b3JcbiAqXG4gKiBAZXhhbXBsZVxuICogPHByZT5cbiAqIC8vVGFrZW4gZnJvbSBhIGZpY3RpdGlvdXMgcHJvamVjdHNTZXJ2aWNlLnRzXG4gKlxuICogZXhwb3J0IGNsYXNzIFByb2plY3RzTW9kZWwgZXh0ZW5kcyBNb2RlbCB7XG4gICAgICogICAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgKiAgICAgICAgICBzdXBlcih7XG4gICAgICogICAgICAgICAgICAgIGZhY3Rvcnk6IFByb2plY3QsXG4gICAgICogICAgICAgICAgICAgIGxpc3Q6IHtcbiAgICAgKiAgICAgICAgICAgICAgICAgIGd1aWQ6ICd7UFJPSkVDVCBMSVNUIEdVSUR9JyxcbiAgICAgKiAgICAgICAgICAgICAgICAgIHRpdGxlOiAnUHJvamVjdHMnLFxuICAgICAqICAgICAgICAgICAgICAgICAgY3VzdG9tRmllbGRzOiBbXG4gICAgICogICAgICAgICAgICAgICAgICAgICAge1xuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRpY05hbWU6ICdUaXRsZScsXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0VHlwZTogJ1RleHQnLFxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgIG1hcHBlZE5hbWU6ICd0aXRsZScsXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgcmVhZE9ubHk6IGZhbHNlXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGljTmFtZTogJ0N1c3RvbWVyJyxcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3RUeXBlOiAnTG9va3VwJyxcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICBtYXBwZWROYW1lOiAnY3VzdG9tZXInLFxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRPbmx5OiBmYWxzZVxuICAgICAqICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICogICAgICAgICAgICAgICAgICAgICAge1xuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRpY05hbWU6ICdQcm9qZWN0RGVzY3JpcHRpb24nLFxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdFR5cGU6ICdUZXh0JyxcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICBtYXBwZWROYW1lOiAncHJvamVjdERlc2NyaXB0aW9uJyxcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICByZWFkT25seTogZmFsc2VcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAqICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0aWNOYW1lOiAnU3RhdHVzJyxcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3RUeXBlOiAnVGV4dCcsXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgbWFwcGVkTmFtZTogJ3N0YXR1cycsXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgcmVhZE9ubHk6IGZhbHNlXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGljTmFtZTogJ1Rhc2tNYW5hZ2VyJyxcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3RUeXBlOiAnVXNlcicsXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgbWFwcGVkTmFtZTogJ3Rhc2tNYW5hZ2VyJyxcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICByZWFkT25seTogZmFsc2VcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAqICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0aWNOYW1lOiAnUHJvamVjdEdyb3VwJyxcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3RUeXBlOiAnTG9va3VwJyxcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICBtYXBwZWROYW1lOiAnZ3JvdXAnLFxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRPbmx5OiBmYWxzZVxuICAgICAqICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICogICAgICAgICAgICAgICAgICAgICAge1xuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRpY05hbWU6ICdDb3N0RXN0aW1hdGUnLFxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdFR5cGU6ICdDdXJyZW5jeScsXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgbWFwcGVkTmFtZTogJ2Nvc3RFc3RpbWF0ZScsXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgcmVhZE9ubHk6IGZhbHNlXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGljTmFtZTogJ0FjdGl2ZScsXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0VHlwZTogJ0Jvb2xlYW4nLFxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgIG1hcHBlZE5hbWU6ICdhY3RpdmUnLFxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRPbmx5OiBmYWxzZVxuICAgICAqICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICogICAgICAgICAgICAgICAgICAgICAge1xuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRpY05hbWU6ICdBdHRhY2htZW50cycsXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0VHlwZTogJ0F0dGFjaG1lbnRzJyxcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICBtYXBwZWROYW1lOiAnYXR0YWNobWVudHMnLFxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRPbmx5OiB0cnVlXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAqICAgICAgICAgICAgICAgICAgXVxuICAgICAqICAgICAgICAgICAgICB9XG4gICAgICogICAgICAgICAgfSk7XG4gICAgICpcbiAgICAgKiAgICAgICAgICB2YXIgbW9kZWwgPSB0aGlzO1xuICAgICAqXG4gICAgICogICAgICAgICAgLy9Bbnkgb3RoZXIgbW9kZWwgc2V0dXBcbiAgICAgKiAgICAgIH1cbiAgICAgKiAgICAgIHNvbWVFeHBvc2VkTW9kZWxNZXRob2QoKSB7XG4gICAgICogICAgICAgICAgdGhpcy5kb3NvbWV0aGluZy4uLlxuICAgICAqICAgICAgfVxuICAgICAqXG4gICAgICogICB9XG4gKiA8L3ByZT5cbiAqL1xuZXhwb3J0IGNsYXNzIE1vZGVsIHtcbiAgICBkYXRhID0gW107XG4gICAgZGVmZXJyZWRMaXN0RGVmaW5pdGlvbjtcbiAgICBsaXN0OiBMaXN0O1xuICAgIGZhY3Rvcnk6IElNb2RlbEZhY3Rvcnk7XG4gICAgZmllbGREZWZpbml0aW9uc0V4dGVuZGVkOiBib29sZWFuID0gZmFsc2U7XG4gICAgbGFzdFNlcnZlclVwZGF0ZTogRGF0ZTtcbiAgICBxdWVyaWVzOiBJUXVlcmllc0NvbnRhaW5lciA9IHt9O1xuICAgIHJlcXVlc3RGb3JGaWVsZERlZmluaXRpb25zO1xuXG4gICAgY29uc3RydWN0b3IoY29uZmlnOiBJVW5pbml0aWFsaXplZE1vZGVsKSB7XG5cbiAgICAgICAgLyoqIEFzc2lnbiBhbGwgcHJvcGVydGllcyBvZiBjb25maWcgdG8gdGhlIG1vZGVsICovXG4gICAgICAgIF8uYXNzaWduKHRoaXMsIGNvbmZpZyk7XG5cbiAgICAgICAgLyoqIEFsbG93IHVzIHRvIHJlZmVyZW5jZSB0aGUgbW9kZWwgZGlyZWN0bHkgZnJvbSB0aGUgbGlzdCBpdGVtJ3MgZmFjdG9yeSBwcm90b3R5cGUgKi9cbiAgICAgICAgdGhpcy5mYWN0b3J5LnByb3RvdHlwZS5nZXRNb2RlbCA9ICgpID0+IHRoaXM7XG5cbiAgICAgICAgLyoqIFVzZSBsaXN0IGNvbnN0cnVjdG9yIHRvIGluc3RhbnRpYXRlIHZhbGlkIGxpc3QgKi9cbiAgICAgICAgdGhpcy5saXN0ID0gbmV3IExpc3QodGhpcy5saXN0KTtcblxuICAgICAgICAvKiogUmVnaXN0ZXIgY2FjaGUgbmFtZSB3aXRoIGNhY2hlIHNlcnZpY2Ugc28gd2UgY2FuIG1hcCBmYWN0b3J5IG5hbWUgd2l0aCBsaXN0IEdVSUQgKi9cbiAgICAgICAgYXBDYWNoZVNlcnZpY2UucmVnaXN0ZXJNb2RlbCh0aGlzKTtcblxuICAgICAgICAvKiogQ29udmVuaWVuY2UgcXVlcnlzIHRoYXQgc2ltcGx5IHJldHVybnMgYWxsIGxpc3QgaXRlbXMgd2l0aGluIGEgbGlzdC4gKi9cbiAgICAgICAgdGhpcy5yZWdpc3RlclF1ZXJ5KHtcbiAgICAgICAgICAgIG5hbWU6ICdfX2dldEFsbExpc3RJdGVtcycsXG4gICAgICAgICAgICBvcGVyYXRpb246ICdHZXRMaXN0SXRlbXMnXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8qKiBHZXQgYSBzaW5nbGUgbGlzdCBpdGVtIGZyb20gYSBsaXN0LCBwcmltYXJpbHkgdXNlZCB0byBxdWlja2x5IGlkZW50aWZ5IHVzZXJcbiAgICAgICAgICogIHBlcm1pc3Npb25zIG9uIGxpc3QgdXNpbmcgdGhlIG93c19QZXJtTWFzayBwcm9wZXJ0eS4gIExpc3QgaXRlbXMgY2FuIGhhdmUgdW5pcXVlIHBlcm1pc3Npb25zXG4gICAgICAgICAqICBzbyBjYW4ndCByZWx5IG9uIHRoaXMgMTAwJSB0byBjb3JyZWN0bHkgcmVzb2x2ZSBsaXN0IHBlcm1pc3Npb25zLiAgSW4gdGhlIGNhc2Ugd2hlcmUgdGhhdCBpc1xuICAgICAgICAgKiAgbmVjZXNzYXJ5IHlvdSB3aWxsIG5lZWQgdG8gdXNlIGEgc2ltaWxhciBxdWVyeSB1c2luZyBHZXRMaXN0SXRlbUNoYW5nZXNTaW5jZVRva2VuIG1ldGhvZCB3aGljaFxuICAgICAgICAgKiAgd2lsbCB0YWtlIGxvbmdlciBidXQgd2lsbCBjb3JyZWN0bHkgcmVzb2x2ZSB0aGUgbGlzdCBwZXJtaXNzaW9ucy4gKi9cbiAgICAgICAgdGhpcy5yZWdpc3RlclF1ZXJ5KHtcbiAgICAgICAgICAgIG5hbWU6ICdfX3NhbXBsZScsXG4gICAgICAgICAgICBvcGVyYXRpb246ICdHZXRMaXN0SXRlbXMnLFxuICAgICAgICAgICAgcm93TGltaXQ6IDFcbiAgICAgICAgfSk7XG5cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBNb2RlbC5hZGROZXdJdGVtXG4gICAgICogQG1vZHVsZSBNb2RlbFxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFVzaW5nIHRoZSBkZWZpbml0aW9uIG9mIGEgbGlzdCBzdG9yZWQgaW4gYSBtb2RlbCwgY3JlYXRlIGEgbmV3IGxpc3QgaXRlbSBpbiBTaGFyZVBvaW50LlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBlbnRpdHkgQW4gb2JqZWN0IHRoYXQgd2lsbCBiZSBjb252ZXJ0ZWQgaW50byBrZXkvdmFsdWUgcGFpcnMgYmFzZWQgb24gdGhlIGZpZWxkIGRlZmluaXRpb25zXG4gICAgICogZGVmaW5lZCBpbiB0aGUgbW9kZWwuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIFBhc3MgYWRkaXRpb25hbCBvcHRpb25zIHRvIHRoZSBkYXRhIHNlcnZpY2UuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5idWlsZFZhbHVlUGFpcnM9dHJ1ZV0gQXV0b21hdGljYWxseSBnZW5lcmF0ZSBwYWlycyBiYXNlZCBvbiBmaWVsZHMgZGVmaW5lZCBpbiBtb2RlbC5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnMuaW5kZXhlZENhY2hlPWFwSW5kZXhlZENhY2hlRmFjdG9yeS5jcmVhdGUoe30pXSBPcHRpb25hbGx5IHBsYWNlIG5ldyBpdGVtIGluIGEgc3BlY2lmaWVkIGNhY2hlLlxuICAgICAqIEBwYXJhbSB7QXJyYXlbXX0gW29wdGlvbnMudmFsdWVQYWlyc10gUHJlY29tcHV0ZWQgdmFsdWUgcGFpcnMgdG8gdXNlIGluc3RlYWQgb2YgZ2VuZXJhdGluZyB0aGVtIGZvciBlYWNoXG4gICAgICogZmllbGQgaWRlbnRpZmllZCBpbiB0aGUgbW9kZWwuXG4gICAgICogQHJldHVybnMge25nLklQcm9taXNlPFQ+fSBBIHByb21pc2Ugd2hpY2ggd2hlbiByZXNvbHZlZCB3aWxsIHJldHVybmVkIHRoZSBuZXdseSBjcmVhdGVkIGxpc3QgaXRlbSBmcm9tIHRoZXJlIHNlcnZlci5cbiAgICAgKiBUaGlzIGFsbG93cyB1cyB0byB1cGRhdGUgdGhlIHZpZXcgd2l0aCBhIHZhbGlkIG5ldyBvYmplY3QgdGhhdCBjb250YWlucyBhIHVuaXF1ZSBsaXN0IGl0ZW0gaWQuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIDxwcmU+XG4gICAgICogPGZpbGUgbmFtZT1cImFwcC9tb2R1bGVzL3Byb2plY3QvcHJvamVjdHNTZXJ2aWNlLmpzXCI+XG4gICAgICogcHJvamVjdE1vZGVsLmFkZE5ld0l0ZW0oe1xuICAgICAgICAgKiAgICAgICAgdGl0bGU6ICdBIFByb2plY3QnLFxuICAgICAgICAgKiAgICAgICAgY3VzdG9tZXI6IHtsb29rdXBWYWx1ZTogJ015IEN1c3RvbWVyJywgbG9va3VwSWQ6IDEyM30sXG4gICAgICAgICAqICAgICAgICBkZXNjcmlwdGlvbjogJ1RoaXMgaXMgdGhlIHByb2plY3QgZGVzY3JpcHRpb24nXG4gICAgICAgICAqICAgICB9KS50aGVuKGZ1bmN0aW9uKG5ld0VudGl0eUZyb21TZXJ2ZXIpIHtcbiAgICAgICAgICogICAgICAgICAvL1RoZSBsb2NhbCBxdWVyeSBjYWNoZSBpcyBhdXRvbWF0aWNhbGx5IHVwZGF0ZWQgYnV0XG4gICAgICAgICAqICAgICAgICAgLy9hbnkgb3RoZXIgZGVwZW5kZW50IGxvZ2ljIGNhbiBnbyBoZXJlXG4gICAgICAgICAqIH07XG4gICAgICogPC9maWxlPlxuICAgICAqIDwvcHJlPlxuICAgICAqL1xuICAgIGFkZE5ld0l0ZW08VCBleHRlbmRzIExpc3RJdGVtPGFueT4+KGVudGl0eTogTGlzdEl0ZW08VD4sIHtcbiAgICAgICAgYnVpbGRWYWx1ZVBhaXJzID0gdHJ1ZSxcbiAgICAgICAgaW5kZXhlZENhY2hlID0gYXBJbmRleGVkQ2FjaGVGYWN0b3J5LmNyZWF0ZSh7fSksXG4gICAgICAgIHZhbHVlUGFpcnMgPSBbXVxuICAgIH06IElDcmVhdGVMaXN0SXRlbU9wdGlvbnM8VD4gPSB7fSk6IG5nLklQcm9taXNlPFQ+IHtcblxuICAgICAgICB2YXIgY29uZmlnID0ge1xuICAgICAgICAgICAgYmF0Y2hDbWQ6ICdOZXcnLFxuICAgICAgICAgICAgYnVpbGRWYWx1ZVBhaXJzLFxuICAgICAgICAgICAgbGlzdE5hbWU6IHRoaXMuZ2V0TGlzdElkKCksXG4gICAgICAgICAgICAvL01ldGhvZCBnZXRzIGFkZGVkIG9udG8gbmV3IGxpc3QgaXRlbSBhbmQgYWxsb3dzIGFjY2VzcyB0byBwYXJlbnQgY2FjaGVcbiAgICAgICAgICAgIGdldENhY2hlOiAoKSA9PiBpbmRleGVkQ2FjaGUsXG4gICAgICAgICAgICBpbmRleGVkQ2FjaGUsXG4gICAgICAgICAgICBvcGVyYXRpb246ICdVcGRhdGVMaXN0SXRlbXMnLFxuICAgICAgICAgICAgdGFyZ2V0OiBpbmRleGVkQ2FjaGUsXG4gICAgICAgICAgICB2YWx1ZVBhaXJzLFxuICAgICAgICAgICAgd2ViVVJMOiB0aGlzLmxpc3QuaWRlbnRpZnlXZWJVUkwoKVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChlbnRpdHkuaWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGFkZCBhIG5ldyBsaXN0IGl0ZW0gdGhhdCBhbHJlYWR5IGhhcyBhbiBJRC4gJyArIEpTT04uc3RyaW5naWZ5KGVudGl0eSwgbnVsbCwgMikpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvbmZpZy5idWlsZFZhbHVlUGFpcnMgPT09IHRydWUpIHtcbiAgICAgICAgICAgIGxldCBlZGl0YWJsZUZpZWxkczogSUZpZWxkRGVmaW5pdGlvbltdID0gXy5maWx0ZXIodGhpcy5saXN0LmZpZWxkcywge3JlYWRPbmx5OiBmYWxzZX0pO1xuICAgICAgICAgICAgY29uZmlnLnZhbHVlUGFpcnMgPSBhcEVuY29kZVNlcnZpY2UuZ2VuZXJhdGVWYWx1ZVBhaXJzKGVkaXRhYmxlRmllbGRzLCBlbnRpdHkpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqIE92ZXJsb2FkIHRoZSBmdW5jdGlvbiB0aGVuIHBhc3MgYW55dGhpbmcgcGFzdCB0aGUgZmlyc3QgcGFyYW1ldGVyIHRvIHRoZSBzdXBwb3J0aW5nIG1ldGhvZHMgKi9cbiAgICAgICAgcmV0dXJuIGFwRGF0YVNlcnZpY2Uuc2VydmljZVdyYXBwZXIoY29uZmlnKVxuICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgLyoqIE9ubGluZSB0aGlzIHNob3VsZCByZXR1cm4gYW4gWE1MIG9iamVjdCAqL1xuICAgICAgICAgICAgICAgIGxldCBpbmRleGVkQ2FjaGUgPSBhcERlY29kZVNlcnZpY2UucHJvY2Vzc0xpc3RJdGVtcyh0aGlzLCA8YW55PiBjb25maWcsIHJlc3BvbnNlLCBjb25maWcpO1xuXG4gICAgICAgICAgICAgICAgLyoqIExhc3QgbGlzdEl0ZW0gaW4gY2FjaGUgaXMgbmV3IGJlY2F1c2UgaXQgaGFzIHRoZSBoaWdoZXN0IGlkICovXG4gICAgICAgICAgICAgICAgbGV0IG5ld0xpc3RJdGVtID0gaW5kZXhlZENhY2hlLmxhc3QoKTtcblxuICAgICAgICAgICAgICAgIC8qKiBPcHRpb25hbGx5IGJyb2FkY2FzdCBjaGFuZ2UgZXZlbnQgKi9cbiAgICAgICAgICAgICAgICBhcFV0aWxpdHlTZXJ2aWNlLnJlZ2lzdGVyQ2hhbmdlKHRoaXMsICdjcmVhdGUnLCBuZXdMaXN0SXRlbS5pZCk7XG5cbiAgICAgICAgICAgICAgICAvKiogUmV0dXJuIHJlZmVyZW5jZSB0byBsYXN0IGxpc3RJdGVtIGluIGNhY2hlIGJlY2F1c2UgaXQgd2lsbCBoYXZlIHRoZSBuZXcgaGlnaGVzdCBpZCAqL1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXdMaXN0SXRlbTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGNyZWF0ZSBuZXcgbGlzdCBpdGVtLiAgRXJyOicgKyBlcnIpO1xuICAgICAgICAgICAgICAgIC8vIHJldHVybiBlcnI7XG4gICAgICAgICAgICB9KVxuXG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBNb2RlbC5jcmVhdGVFbXB0eUl0ZW1cbiAgICAgKiBAbW9kdWxlIE1vZGVsXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3QgdXNpbmcgdGhlIGVkaXRhYmxlIGZpZWxkcyBmcm9tIHRoZSBtb2RlbCwgYWxsIGF0dHJpYnV0ZXMgYXJlIGVtcHR5IGJhc2VkIG9uIHRoZSBmaWVsZFxuICAgICAqIHR5cGUgdW5sZXNzIGFuIG92ZXJyaWRlcyBvYmplY3QgaXMgcGFzc2VkIGluLiAgVGhlIG92ZXJyaWRlcyBvYmplY3QgZXh0ZW5kcyB0aGUgZGVmYXVsdHMuICBBIGJlbmVmaXQgdG8gdGhpc1xuICAgICAqIGFwcHJvYWNoIGlzIHRoZSByZXR1cm5lZCBvYmplY3QgaW5oZXJpdHMgZnJvbSB0aGUgTGlzdEl0ZW0gcHJvdG90eXBlIHNvIHdlIGhhdmUgdGhlIGFiaWxpdHkgdG8gY2FsbFxuICAgICAqIGVudGl0eS5zYXZlQ2hhbmdlcyBpbnN0ZWFkIG9mIGNhbGxpbmcgdGhlIG1vZGVsLmFkZE5ld0l0ZW0oZW50aXR5KS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3ZlcnJpZGVzXSAtIE9wdGlvbmFsbHkgZXh0ZW5kIHRoZSBuZXcgZW1wdHkgaXRlbSB3aXRoIHNwZWNpZmljIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSBOZXdseSBjcmVhdGVkIGxpc3QgaXRlbS5cbiAgICAgKi9cbiAgICBjcmVhdGVFbXB0eUl0ZW08VCBleHRlbmRzIExpc3RJdGVtPGFueT4+KG92ZXJyaWRlcz86IE9iamVjdCk6IFQge1xuICAgICAgICB2YXIgbW9kZWwgPSB0aGlzO1xuICAgICAgICB2YXIgbmV3SXRlbSA9IHt9O1xuICAgICAgICBfLmVhY2gobW9kZWwubGlzdC5jdXN0b21GaWVsZHMsIChmaWVsZERlZmluaXRpb24pID0+IHtcbiAgICAgICAgICAgIC8qKiBDcmVhdGUgYXR0cmlidXRlcyBmb3IgZWFjaCBub24tcmVhZG9ubHkgZmllbGQgZGVmaW5pdGlvbiAqL1xuICAgICAgICAgICAgaWYgKCFmaWVsZERlZmluaXRpb24ucmVhZE9ubHkpIHtcbiAgICAgICAgICAgICAgICAvKiogQ3JlYXRlIGFuIGF0dHJpYnV0ZSB3aXRoIHRoZSBleHBlY3RlZCBlbXB0eSB2YWx1ZSBiYXNlZCBvbiBmaWVsZCBkZWZpbml0aW9uIHR5cGUgKi9cbiAgICAgICAgICAgICAgICBuZXdJdGVtW2ZpZWxkRGVmaW5pdGlvbi5tYXBwZWROYW1lXSA9IGFwRmllbGRTZXJ2aWNlLmdldERlZmF1bHRWYWx1ZUZvclR5cGUoZmllbGREZWZpbml0aW9uLm9iamVjdFR5cGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLyoqIEV4dGVuZCBhbnkgdmFsdWVzIHRoYXQgc2hvdWxkIG92ZXJyaWRlIHRoZSBkZWZhdWx0IGVtcHR5IHZhbHVlcyAqL1xuICAgICAgICB2YXIgcmF3T2JqZWN0ID0gXy5hc3NpZ24oe30sIG5ld0l0ZW0sIG92ZXJyaWRlcyk7XG4gICAgICAgIHJldHVybiBuZXcgbW9kZWwuZmFjdG9yeTxUPihyYXdPYmplY3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIE1vZGVsLmV4ZWN1dGVRdWVyeVxuICAgICAqIEBtb2R1bGUgTW9kZWxcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBUaGUgcHJpbWFyeSBtZXRob2QgZm9yIHJldHJpZXZpbmcgZGF0YSBmcm9tIGEgcXVlcnkgcmVnaXN0ZXJlZCBvbiBhIG1vZGVsLiAgSXQgcmV0dXJucyBhIHByb21pc2VcbiAgICAgKiB3aGljaCByZXNvbHZlcyB0byB0aGUgbG9jYWwgY2FjaGUgYWZ0ZXIgcG9zdCBwcm9jZXNzaW5nIGVudGl0aWVzIHdpdGggY29uc3RydWN0b3JzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtxdWVyeU5hbWU9YXBDb25maWcuZGVmYXVsdFF1ZXJ5TmFtZV0gQSB1bmlxdWUga2V5IHRvIGlkZW50aWZ5IHRoaXMgcXVlcnlcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIFBhc3Mgb3B0aW9ucyB0byB0aGUgZGF0YSBzZXJ2aWNlLlxuICAgICAqIEByZXR1cm5zIHtvYmplY3R9IFByb21pc2UgdGhhdCB3aGVuIHJlc29sdmVzIHJldHVybnMgYW4gYXJyYXkgb2YgbGlzdCBpdGVtcyB3aGljaCBpbmhlcml0IGZyb20gTGlzdEl0ZW0gYW5kXG4gICAgICogb3B0aW9uYWxseSBnbyB0aHJvdWdoIGEgZGVmaW5lZCBjb25zdHJ1Y3RvciBvbiB0aGUgbW9kZWwuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZSBUbyBjYWxsIHRoZSBxdWVyeSBvciBjaGVjayBmb3IgY2hhbmdlcyBzaW5jZSB0aGUgbGFzdCBjYWxsLlxuICAgICAqIDxwcmU+XG4gICAgICogcHJvamVjdE1vZGVsLmV4ZWN1dGVRdWVyeSgnTXlDdXN0b21RdWVyeScpLnRoZW4oZnVuY3Rpb24oZW50aXRpZXMpIHtcbiAgICAgICAgICogICAgICAvL1dlIG5vdyBoYXZlIGEgcmVmZXJlbmNlIHRvIGFycmF5IG9mIGVudGl0aWVzIHN0b3JlZCBpbiB0aGUgbG9jYWwgY2FjaGVcbiAgICAgICAgICogICAgICAvL1RoZXNlIGluaGVyaXQgZnJvbSB0aGUgTGlzdEl0ZW0gcHJvdG90eXBlIGFzIHdlbGwgYXMgdGhlIFByb2plY3QgcHJvdG90eXBlIG9uIHRoZSBtb2RlbFxuICAgICAgICAgKiAgICAgICRzY29wZS5zdWJzZXRPZlByb2plY3RzID0gZW50aXRpZXM7XG4gICAgICAgICAqICB9KTtcbiAgICAgKiA8L3ByZT5cbiAgICAgKi9cbiAgICBleGVjdXRlUXVlcnk8VCBleHRlbmRzIExpc3RJdGVtPGFueT4+KHF1ZXJ5TmFtZT86IHN0cmluZywgb3B0aW9ucz86IE9iamVjdCk6IG5nLklQcm9taXNlPEluZGV4ZWRDYWNoZTxUPj4ge1xuICAgICAgICB2YXIgbW9kZWwgPSB0aGlzO1xuICAgICAgICB2YXIgcXVlcnkgPSBtb2RlbC5nZXRRdWVyeShxdWVyeU5hbWUpO1xuICAgICAgICBpZiAocXVlcnkpIHtcbiAgICAgICAgICAgIHJldHVybiBxdWVyeS5leGVjdXRlKG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBNb2RlbC5leHRlbmRMaXN0TWV0YWRhdGFcbiAgICAgKiBAbW9kdWxlIE1vZGVsXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogRXh0ZW5kcyB0aGUgTGlzdCBhbmQgRmllbGRzIHdpdGggbGlzdCBpbmZvcm1hdGlvbiByZXR1cm5lZCBmcm9tIHRoZSBzZXJ2ZXIuICBPbmx5IHJ1bnMgb25jZSBhbmQgYWZ0ZXIgdGhhdFxuICAgICAqIHJldHVybnMgdGhlIGV4aXN0aW5nIHByb21pc2UuXG4gICAgICogQHJldHVybnMge25nLklQcm9taXNlPE1vZGVsPn0gUHJvbWlzZSB0aGF0IGlzIHJlc29sdmVkIHdpdGggdGhlIGV4dGVuZGVkIG1vZGVsLlxuICAgICAqL1xuICAgIGV4dGVuZExpc3RNZXRhZGF0YSgpOiBuZy5JUHJvbWlzZTxNb2RlbD4ge1xuICAgICAgICB2YXIgbW9kZWwgPSB0aGlzLFxuICAgICAgICAgICAgZGVmZXJyZWQgPSAkcS5kZWZlcigpXG5cbiAgICAgICAgLyoqIE9ubHkgcmVxdWVzdCBpbmZvcm1hdGlvbiBpZiB0aGUgbGlzdCBoYXNuJ3QgYWxyZWFkeSBiZWVuIGV4dGVuZGVkIGFuZCBpcyBub3QgY3VycmVudGx5IGJlaW5nIHJlcXVlc3RlZCAqL1xuICAgICAgICBpZiAoIW1vZGVsLmRlZmVycmVkTGlzdERlZmluaXRpb24pIHtcbiAgICAgICAgICAgIC8qKiBBbGwgRnV0dXJlIFJlcXVlc3RzIGdldCB0aGlzICovXG4gICAgICAgICAgICBtb2RlbC5kZWZlcnJlZExpc3REZWZpbml0aW9uID0gZGVmZXJyZWQucHJvbWlzZTtcblxuICAgICAgICAgICAgbGV0IGdldExpc3RBY3Rpb24gPSBhcERhdGFTZXJ2aWNlLmdldExpc3Qoe1xuICAgICAgICAgICAgICAgIGxpc3ROYW1lOiBtb2RlbC5nZXRMaXN0SWQoKSxcbiAgICAgICAgICAgICAgICB3ZWJVUkw6IG1vZGVsLmdldExpc3QoKS53ZWJVUkxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvKiogV2UgY2FuIHBvdGVudGlhbGx5IGhhdmUgMiBzZXBlcmF0ZSByZXF1ZXN0cyBmb3IgZGF0YSBzbyBzdG9yZSB0aGVtIGluIGFycmF5IHNvIHdlIGNhbiB3YWl0IHVudGlsXG4gICAgICAgICAgICAgKiBhbGwgYXJlIHJlc29sdmVkLiAqL1xuICAgICAgICAgICAgbGV0IHByb21pc2VBcnJheSA9IFtnZXRMaXN0QWN0aW9uXTtcblxuICAgICAgICAgICAgLyoqIEFkZCBhIHJlcXVlc3QgZm9yIGEgc2FtcGxlIGxpc3QgaXRlbSB0byB0aGUgc2VydmVyIHJlcXVlc3RzIGlmIHdlIGhhdmVuJ3RcbiAgICAgICAgICAgICAqIGFscmVhZHkgcmVzb2x2ZWQgdXNlciBwZXJtaXNzaW9ucyBmb3IgdGhlIGxpc3QuICovXG4gICAgICAgICAgICBpZiAoIW1vZGVsLmdldExpc3QoKS5wZXJtaXNzaW9ucykge1xuICAgICAgICAgICAgICAgIC8qKiBQZXJtaXNzaW9ucyBub3Qgc2V0IHlldCwgd2hlbiB0aGUgcXVlcnkgaXMgcmVzb2x2ZWQgd2l0aCBhIHNhbXBsZSBsaXN0IGl0ZW1cbiAgICAgICAgICAgICAgICAgKiB0aGUgcXVlcnkgY2xhc3Mgd2lsbCB1c2UgdGhlIHBlcm1NYXNrIGZyb20gdGhlIGxpc3QgaXRlbSB0byBzZXQgdGhlIHRlbXAgcGVybWlzc2lvbnNcbiAgICAgICAgICAgICAgICAgKiBmb3IgdGhlIGxpc3QgdW50aWwgYSB0aW1lIHdoZXJlIHdlIGNhbiBydW4gYSBHZXRMaXN0SXRlbUNoYW5nZXNTaW5jZVRva2VuIHJlcXVlc3QgYW5kXG4gICAgICAgICAgICAgICAgICogc2V0IHRoZSBhY3R1YWwgcGVybWlzc2lvbnMuICovXG4gICAgICAgICAgICAgICAgcHJvbWlzZUFycmF5LnB1c2gobW9kZWwuZXhlY3V0ZVF1ZXJ5KCdfX3NhbXBsZScpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgJHEuYWxsKHByb21pc2VBcnJheSlcbiAgICAgICAgICAgICAgICAudGhlbigocmVzb2x2ZWRQcm9taXNlcykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBhcERlY29kZVNlcnZpY2UuZXh0ZW5kTGlzdE1ldGFkYXRhKG1vZGVsLCA8YW55PiByZXNvbHZlZFByb21pc2VzWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShtb2RlbCk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbW9kZWwuZGVmZXJyZWRMaXN0RGVmaW5pdGlvbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBNb2RlbC5nZW5lcmF0ZU1vY2tEYXRhXG4gICAgICogQG1vZHVsZSBNb2RlbFxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIEdlbmVyYXRlcyAnbicgbW9jayByZWNvcmRzIGZvciB0ZXN0aW5nIHVzaW5nIHRoZSBmaWVsZCB0eXBlcyBkZWZpbmVkIGluIHRoZSBtb2RlbCB0byBwcm92aWRlIHNvbWV0aGluZyB0byB2aXN1YWxpemUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIE9iamVjdCBjb250YWluaW5nIG9wdGlvbmFsIHBhcmFtZXRlcnMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnF1YW50aXR5PTEwXSBUaGUgcmVxdWVzdGVkIG51bWJlciBvZiBtb2NrIHJlY29yZHMgdG8gcmV0dXJuLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5wZXJtaXNzaW9uTGV2ZWw9RnVsbE1hc2tdIFNldHMgdGhlIG1hc2sgb24gdGhlIG1vY2sgcmVjb3JkcyB0byBzaW11bGF0ZSBkZXNpcmVkXG4gICAgICogcGVybWlzc2lvbiBsZXZlbC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnN0YXRpY1ZhbHVlPWZhbHNlXSBCeSBkZWZhdWx0IGFsbCBtb2NrIGRhdGEgaXMgZHluYW1pY2FsbHkgY3JlYXRlZCBidXQgaWYgc2V0LFxuICAgICAqIHRoaXMgd2lsbCBjYXVzZSBzdGF0aWMgZGF0YSB0byBiZSB1c2VkIGluc3RlYWQuXG4gICAgICovXG4gICAgZ2VuZXJhdGVNb2NrRGF0YTxUIGV4dGVuZHMgTGlzdEl0ZW08YW55Pj4ob3B0aW9ucz86IElNb2NrRGF0YU9wdGlvbnMpOiBUW10ge1xuICAgICAgICB2YXIgbW9ja0RhdGEgPSBbXSxcbiAgICAgICAgICAgIG1vZGVsID0gdGhpcztcblxuICAgICAgICB2YXIgZGVmYXVsdHMgPSB7XG4gICAgICAgICAgICBxdWFudGl0eTogMTAsXG4gICAgICAgICAgICBzdGF0aWNWYWx1ZTogZmFsc2UsXG4gICAgICAgICAgICBwZXJtaXNzaW9uTGV2ZWw6ICdGdWxsTWFzaydcbiAgICAgICAgfTtcblxuICAgICAgICAvKiogRXh0ZW5kIGRlZmF1bHRzIHdpdGggYW55IHByb3ZpZGVkIG9wdGlvbnMgKi9cbiAgICAgICAgdmFyIG9wdHM6IElNb2NrRGF0YU9wdGlvbnMgPSBfLmFzc2lnbih7fSwgZGVmYXVsdHMsIG9wdGlvbnMpO1xuXG4gICAgICAgIF8udGltZXMob3B0cy5xdWFudGl0eSwgKGNvdW50KSA9PiB7XG4gICAgICAgICAgICB2YXIgbW9jayA9IHtcbiAgICAgICAgICAgICAgICBpZDogY291bnQgKyAxXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLyoqIENyZWF0ZSBhbiBhdHRyaWJ1dGUgd2l0aCBtb2NrIGRhdGEgZm9yIGVhY2ggZmllbGQgKi9cbiAgICAgICAgICAgIF8uZWFjaChtb2RlbC5saXN0LmZpZWxkcywgKGZpZWxkOiBJRmllbGREZWZpbml0aW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgbW9ja1tmaWVsZC5tYXBwZWROYW1lXSA9IGZpZWxkLmdldE1vY2tEYXRhKG9wdHMpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8qKiBVc2UgdGhlIGZhY3Rvcnkgb24gdGhlIG1vZGVsIHRvIGV4dGVuZCB0aGUgb2JqZWN0ICovXG4gICAgICAgICAgICBtb2NrRGF0YS5wdXNoKG5ldyBtb2RlbC5mYWN0b3J5PFQ+KG1vY2spKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBtb2NrRGF0YTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBNb2RlbC5nZXRBbGxMaXN0SXRlbXNcbiAgICAgKiBAbW9kdWxlIE1vZGVsXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogSW5oZXJpdGVkIGZyb20gTW9kZWwgY29uc3RydWN0b3JcbiAgICAgKiBHZXRzIGFsbCBsaXN0IGl0ZW1zIGluIHRoZSBjdXJyZW50IGxpc3QsIHByb2Nlc3NlcyB0aGUgeG1sLCBhbmQgY2FjaGVzIHRoZSBkYXRhIGluIG1vZGVsLlxuICAgICAqIEByZXR1cm5zIHtvYmplY3R9IFByb21pc2UgcmV0dXJuaW5nIGFsbCBsaXN0IGl0ZW1zIHdoZW4gcmVzb2x2ZWQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiA8cHJlPlxuICAgICAqIC8vVGFrZW4gZnJvbSBhIGZpY3RpdGlvdXMgcHJvamVjdHNTZXJ2aWNlLmpzXG4gICAgICogcHJvamVjdE1vZGVsLmdldEFsbExpc3RJdGVtcygpLnRoZW4oZnVuY3Rpb24oZW50aXRpZXMpIHtcbiAgICAgICAgICogICAgIC8vRG8gc29tZXRoaW5nIHdpdGggYWxsIG9mIHRoZSByZXR1cm5lZCBlbnRpdGllc1xuICAgICAgICAgKiAgICAgJHNjb3BlLnByb2plY3RzID0gZW50aXRpZXM7XG4gICAgICAgICAqIH07XG4gICAgICogPC9wcmU+XG4gICAgICovXG4gICAgZ2V0QWxsTGlzdEl0ZW1zPFQgZXh0ZW5kcyBMaXN0SXRlbTxhbnk+PigpOiBuZy5JUHJvbWlzZTxJbmRleGVkQ2FjaGU8VD4+IHtcbiAgICAgICAgdmFyIG1vZGVsID0gdGhpcztcbiAgICAgICAgcmV0dXJuIG1vZGVsLmV4ZWN1dGVRdWVyeSgnX19nZXRBbGxMaXN0SXRlbXMnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBNb2RlbC5nZXRDYWNoZVxuICAgICAqIEBtb2R1bGUgTW9kZWxcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCByZXR1cm4gdGhlIGxvY2FsIGNhY2hlIGZvciBhIG5hbWVkIHF1ZXJ5IGlmIHByb3ZpZGVkLCBvdGhlcndpc2VcbiAgICAgKiBpdCByZXR1cm5zIHRoZSBjYWNoZSBmb3IgdGhlIHByaW1hcnkgcXVlcnkgZm9yIHRoZSBtb2RlbC4gIFVzZWZ1bCBpZiB5b3Uga25vdyB0aGUgcXVlcnlcbiAgICAgKiBoYXMgYWxyZWFkeSBiZWVuIHJlc29sdmVkIGFuZCB0aGVyZSdzIG5vIG5lZWQgdG8gY2hlY2sgU2hhcmVQb2ludCBmb3IgY2hhbmdlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbcXVlcnlOYW1lPWFwQ29uZmlnLmRlZmF1bHRRdWVyeU5hbWVdIEEgdW5pcXVlIGtleSB0byBpZGVudGlmeSB0aGlzIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtJbmRleGVkQ2FjaGU8VD59IFJldHVybnMgdGhlIGNvbnRlbnRzIG9mIHRoZSBjdXJyZW50IGNhY2hlIGZvciBhIG5hbWVkIHF1ZXJ5LlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiA8cHJlPlxuICAgICAqIHZhciBwcmltYXJ5UXVlcnlDYWNoZSA9IHByb2plY3RNb2RlbC5nZXRDYWNoZSgpO1xuICAgICAqIDwvcHJlPlxuICAgICAqXG4gICAgICogPHByZT5cbiAgICAgKiB2YXIgcHJpbWFyeVF1ZXJ5Q2FjaGUgPSBwcm9qZWN0TW9kZWwuZ2V0Q2FjaGUoJ3ByaW1hcnknKTtcbiAgICAgKiA8L3ByZT5cbiAgICAgKlxuICAgICAqIDxwcmU+XG4gICAgICogdmFyIG5hbWVkUXVlcnlDYWNoZSA9IHByb2plY3RNb2RlbC5nZXRDYWNoZSgnY3VzdG9tUXVlcnknKTtcbiAgICAgKiA8L3ByZT5cbiAgICAgKi9cbiAgICBnZXRDYWNoZTxUIGV4dGVuZHMgTGlzdEl0ZW08YW55Pj4ocXVlcnlOYW1lPzogc3RyaW5nKTogSW5kZXhlZENhY2hlPFQ+IHtcbiAgICAgICAgdmFyIG1vZGVsID0gdGhpcywgcXVlcnksIGNhY2hlO1xuICAgICAgICBxdWVyeSA9IG1vZGVsLmdldFF1ZXJ5KHF1ZXJ5TmFtZSk7XG4gICAgICAgIGlmIChxdWVyeSAmJiBxdWVyeS5pbmRleGVkQ2FjaGUpIHtcbiAgICAgICAgICAgIGNhY2hlID0gcXVlcnkuaW5kZXhlZENhY2hlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjYWNoZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBNb2RlbC5nZXRDYWNoZWRFbnRpdGllc1xuICAgICAqIEBtb2R1bGUgTW9kZWxcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBSZXR1cm5zIGFsbCBlbnRpdGllcyByZWdpc3RlcmVkIGZvciB0aGlzIG1vZGVsIHJlZ2FyZGxlc3Mgb2YgcXVlcnkuXG4gICAgICogQHJldHVybnMge0luZGV4ZWRDYWNoZTxUPn0gQWxsIHJlZ2lzdGVyZWQgZW50aXRpZXMgZm9yIHRoaXMgbW9kZWwuXG4gICAgICovXG4gICAgZ2V0Q2FjaGVkRW50aXRpZXM8VCBleHRlbmRzIExpc3RJdGVtPGFueT4+KCk6IEluZGV4ZWRDYWNoZTxUPiB7XG4gICAgICAgIHZhciBtb2RlbCA9IHRoaXM7XG4gICAgICAgIHJldHVybiBhcENhY2hlU2VydmljZS5nZXRDYWNoZWRFbnRpdGllczxUPihtb2RlbC5nZXRMaXN0SWQoKSk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBNb2RlbC5nZXRDYWNoZWRFbnRpdHlcbiAgICAgKiBAbW9kdWxlIE1vZGVsXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogQXR0ZW1wdHMgdG8gbG9jYXRlIGEgbW9kZWwgbGlzdEl0ZW0gYnkgaWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGxpc3RJdGVtSWQgVGhlIElEIG9mIHRoZSByZXF1ZXN0ZWQgbGlzdEl0ZW0uXG4gICAgICogQHJldHVybnMge29iamVjdH0gUmV0dXJucyBlaXRoZXIgdGhlIHJlcXVlc3RlZCBsaXN0SXRlbSBvciB1bmRlZmluZWQgaWYgaXQncyBub3QgZm91bmQuXG4gICAgICovXG4gICAgZ2V0Q2FjaGVkRW50aXR5PFQgZXh0ZW5kcyBMaXN0SXRlbTxhbnk+PihsaXN0SXRlbUlkOiBudW1iZXIpOiBUIHtcbiAgICAgICAgdmFyIG1vZGVsID0gdGhpcztcbiAgICAgICAgcmV0dXJuIGFwQ2FjaGVTZXJ2aWNlLmdldENhY2hlZEVudGl0eTxUPihtb2RlbC5nZXRMaXN0SWQoKSwgbGlzdEl0ZW1JZCk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBNb2RlbC5nZXRGaWVsZERlZmluaXRpb25cbiAgICAgKiBAbW9kdWxlIE1vZGVsXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogUmV0dXJucyB0aGUgZmllbGQgZGVmaW5pdGlvbiBmcm9tIHRoZSBkZWZpbml0aW9ucyBkZWZpbmVkIGluIHRoZSBjdXN0b20gZmllbGRzIGFycmF5IHdpdGhpbiBhIG1vZGVsLlxuICAgICAqIDxwcmU+XG4gICAgICogdmFyIHByb2plY3QgPSB7XG4gICAgICAgICAqICAgIHRpdGxlOiAnUHJvamVjdCAxJyxcbiAgICAgICAgICogICAgbG9jYXRpb246IHtcbiAgICAgICAgICogICAgICAgIGxvb2t1cElkOiA1LFxuICAgICAgICAgKiAgICAgICAgbG9va3VwVmFsdWU6ICdTb21lIEJ1aWxkaW5nJ1xuICAgICAgICAgKiAgICB9XG4gICAgICAgICAqIH07XG4gICAgICpcbiAgICAgKiAvL1RvIGdldCBmaWVsZCBtZXRhZGF0YVxuICAgICAqIHZhciBsb2NhdGlvbkRlZmluaXRpb24gPSBwcm9qZWN0c1NlcnZpY2UuZ2V0RmllbGREZWZpbml0aW9uKCdsb2NhdGlvbicpO1xuICAgICAqIDwvcHJlPlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmaWVsZE5hbWUgSW50ZXJuYWwgZmllbGQgbmFtZS5cbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSBGaWVsZCBkZWZpbml0aW9uLlxuICAgICAqL1xuICAgIGdldEZpZWxkRGVmaW5pdGlvbihmaWVsZE5hbWU6IHN0cmluZyk6IElGaWVsZERlZmluaXRpb24ge1xuICAgICAgICB2YXIgbW9kZWwgPSB0aGlzO1xuICAgICAgICByZXR1cm4gXy5maW5kKG1vZGVsLmxpc3QuZmllbGRzLCB7bWFwcGVkTmFtZTogZmllbGROYW1lfSk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBMaXN0SXRlbS5nZXRMaXN0XG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogQWxsb3dzIHVzIHRvIHJlZmVyZW5jZSB0aGUgbGlzdCBkZWZpbml0aW9uIGRpcmVjdGx5IGZyb20gdGhlIGxpc3QgaXRlbS4gIFRoaXMgaXMgYWRkZWQgdG8gdGhlXG4gICAgICogbW9kZWwuZmFjdG9yeSBwcm90b3R5cGUgaW4gYXBNb2RlbEZhY3RvcnkuICBTZWUgdGhlIFtMaXN0XSgjL2FwaS9MaXN0KSBkb2N1bWVudGF0aW9uIGZvciBtb3JlIGluZm8uXG4gICAgICogQHJldHVybnMge29iamVjdH0gTGlzdCBmb3IgdGhlIGxpc3QgaXRlbS5cbiAgICAgKi9cbiAgICBnZXRMaXN0KCk6IExpc3Qge1xuICAgICAgICByZXR1cm4gdGhpcy5saXN0O1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgTGlzdEl0ZW0uZ2V0TGlzdElkXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogQWxsb3dzIHVzIHRvIHJlZmVyZW5jZSB0aGUgbGlzdCBJRCBkaXJlY3RseSBmcm9tIHRoZSBtb2RlbC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBMaXN0IElELlxuICAgICAqL1xuICAgIGdldExpc3RJZCgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRMaXN0KCkuZ2V0TGlzdElkKCk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBNb2RlbC5nZXRMaXN0SXRlbUJ5SWRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbGlzdEl0ZW1JZCBJZCBvZiB0aGUgaXRlbSBiZWluZyByZXF1ZXN0ZWQuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgVXNlZCB0byBvdmVycmlkZSBhcERhdGFTZXJ2aWNlIGRlZmF1bHRzLlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIEluaGVyaXRlZCBmcm9tIE1vZGVsIGNvbnN0cnVjdG9yXG4gICAgICogQXR0ZW1wdHMgdG8gcmV0cmlldmUgdGhlIHJlcXVlc3RlZCBsaXN0IGl0ZW0gZnJvbSB0aGUgc2VydmVyLlxuICAgICAqIEByZXR1cm5zIHtvYmplY3R9IFByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIHRoZSByZXF1ZXN0ZWQgbGlzdCBpdGVtIGlmIGZvdW5kLiAgT3RoZXJ3aXNlIGl0IHJldHVybnMgdW5kZWZpbmVkLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogPHByZT5cbiAgICAgKiAvL1Rha2VuIGZyb20gYSBmaWN0aXRpb3VzIHByb2plY3RzU2VydmljZS5qc1xuICAgICAqIHByb2plY3RNb2RlbC5nZXRMaXN0SXRlbUJ5SWQoMTIpLnRoZW4oZnVuY3Rpb24obGlzdEl0ZW0pIHtcbiAgICAgICAgICogICAgIC8vRG8gc29tZXRoaW5nIHdpdGggdGhlIGxvY2F0ZWQgbGlzdEl0ZW1cbiAgICAgICAgICogICAgICRzY29wZS5wcm9qZWN0ID0gbGlzdEl0ZW07XG4gICAgICAgICAqIH07XG4gICAgICogPC9wcmU+XG4gICAgICovXG4gICAgZ2V0TGlzdEl0ZW1CeUlkPFQgZXh0ZW5kcyBMaXN0SXRlbTxhbnk+PihsaXN0SXRlbUlkOiBudW1iZXIsIG9wdGlvbnM/OiBPYmplY3QpOiBuZy5JUHJvbWlzZTxUPiB7XG4gICAgICAgIHZhciBtb2RlbCA9IHRoaXMsXG4gICAgICAgICAgICAvKiogVW5pcXVlIFF1ZXJ5IE5hbWUgKi9cbiAgICAgICAgICAgIHF1ZXJ5S2V5ID0gJ0dldExpc3RJdGVtQnlJZC0nICsgbGlzdEl0ZW1JZDtcblxuICAgICAgICAvKiogUmVnaXN0ZXIgYSBuZXcgUXVlcnkgaWYgaXQgZG9lc24ndCBhbHJlYWR5IGV4aXN0ICovXG4gICAgICAgIGlmICghbW9kZWwuZ2V0UXVlcnkocXVlcnlLZXkpKSB7XG4gICAgICAgICAgICB2YXIgZGVmYXVsdHMgPSB7XG4gICAgICAgICAgICAgICAgbmFtZTogcXVlcnlLZXksXG4gICAgICAgICAgICAgICAgb3BlcmF0aW9uOiAnR2V0TGlzdEl0ZW1zJyxcbiAgICAgICAgICAgICAgICByb3dMaW1pdDogMSxcbiAgICAgICAgICAgICAgICBDQU1MUXVlcnk6ICcnICtcbiAgICAgICAgICAgICAgICAnPFF1ZXJ5PicgK1xuICAgICAgICAgICAgICAgICcgPFdoZXJlPicgK1xuICAgICAgICAgICAgICAgICcgICA8RXE+JyArXG4gICAgICAgICAgICAgICAgJyAgICAgPEZpZWxkUmVmIE5hbWU9XCJJRFwiLz4nICtcbiAgICAgICAgICAgICAgICAnICAgICA8VmFsdWUgVHlwZT1cIk51bWJlclwiPicgKyBsaXN0SXRlbUlkICsgJzwvVmFsdWU+JyArXG4gICAgICAgICAgICAgICAgJyAgIDwvRXE+JyArXG4gICAgICAgICAgICAgICAgJyA8L1doZXJlPicgK1xuICAgICAgICAgICAgICAgICc8L1F1ZXJ5PidcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvKiogQWxsb3dzIHVzIHRvIG92ZXJyaWRlIGRlZmF1bHRzICovXG4gICAgICAgICAgICB2YXIgb3B0cyA9IF8uYXNzaWduKHt9LCBkZWZhdWx0cywgb3B0aW9ucyk7XG4gICAgICAgICAgICBtb2RlbC5yZWdpc3RlclF1ZXJ5KG9wdHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG1vZGVsLmV4ZWN1dGVRdWVyeTxUPihxdWVyeUtleSlcbiAgICAgICAgICAgIC50aGVuKChpbmRleGVkQ2FjaGU6IEluZGV4ZWRDYWNoZTxUPikgPT4ge1xuICAgICAgICAgICAgICAgIC8qKiBTaG91bGQgcmV0dXJuIGFuIGluZGV4ZWQgY2FjaGUgb2JqZWN0IHdpdGggYSBzaW5nbGUgbGlzdEl0ZW0gc28ganVzdCByZXR1cm4gdGhlIHJlcXVlc3RlZCBsaXN0SXRlbSAqL1xuICAgICAgICAgICAgICAgIHJldHVybiBpbmRleGVkQ2FjaGUuZmlyc3QoKTtcbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgTGlzdEl0ZW0uZ2V0TW9kZWxcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBBbGxvd3MgdXMgdG8gcmVmZXJlbmNlIHRoZSBwYXJlbnQgbW9kZWwgZGlyZWN0bHkgZnJvbSB0aGUgbGlzdCBpdGVtLiAgVGhpcyBpcyBhZGRlZCB0byB0aGVcbiAgICAgKiBtb2RlbC5mYWN0b3J5IHByb3RvdHlwZSBpbiBhcE1vZGVsRmFjdG9yeS4gIFNlZSB0aGUgW0xpc3RdKCMvYXBpL0xpc3QpIGRvY3VtZW50YXRpb24gZm9yIG1vcmUgaW5mby5cbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSBNb2RlbCBmb3IgdGhlIGxpc3QgaXRlbS5cbiAgICAgKi9cbiAgICBnZXRNb2RlbCgpOiBNb2RlbCB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgTW9kZWwuZ2V0UXVlcnlcbiAgICAgKiBAbW9kdWxlIE1vZGVsXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgYXR0ZW1wdHMgdG8gbG9jYXRlIGFuZCByZXR1cm4gYSByZWZlcmVuY2UgdG8gdGhlIHJlcXVlc3RlZCBvciBjYXRjaGFsbCBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3F1ZXJ5TmFtZT1hcENvbmZpZy5kZWZhdWx0UXVlcnlOYW1lXSBBIHVuaXF1ZSBrZXkgdG8gaWRlbnRpZnkgdGhpcyBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSBTZWUgUXVlcnkgcHJvdG90eXBlIGZvciBhZGRpdGlvbmFsIGRldGFpbHMgb24gd2hhdCBhIFF1ZXJ5IGxvb2tzIGxpa2UuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIDxwcmU+XG4gICAgICogdmFyIHByaW1hcnlRdWVyeSA9IHByb2plY3RNb2RlbC5nZXRRdWVyeSgpO1xuICAgICAqIDwvcHJlPlxuICAgICAqXG4gICAgICogPHByZT5cbiAgICAgKiB2YXIgcHJpbWFyeVF1ZXJ5ID0gcHJvamVjdE1vZGVsLmdldFF1ZXJ5KCdwcmltYXJ5Jyk7XG4gICAgICogPC9wcmU+XG4gICAgICpcbiAgICAgKiA8cHJlPlxuICAgICAqIHZhciBuYW1lZFF1ZXJ5ID0gcHJvamVjdE1vZGVsLmdldFF1ZXJ5KCdjdXN0b21RdWVyeScpO1xuICAgICAqIDwvcHJlPlxuICAgICAqL1xuICAgIGdldFF1ZXJ5PFQgZXh0ZW5kcyBMaXN0SXRlbTxhbnk+PihxdWVyeU5hbWU6IHN0cmluZyk6IElRdWVyeTxUPiB7XG4gICAgICAgIHZhciBtb2RlbCA9IHRoaXMsIHF1ZXJ5O1xuICAgICAgICBpZiAoXy5pc09iamVjdChtb2RlbC5xdWVyaWVzW3F1ZXJ5TmFtZV0pKSB7XG4gICAgICAgICAgICAvKiogVGhlIG5hbWVkIHF1ZXJ5IGV4aXN0cyAqL1xuICAgICAgICAgICAgcXVlcnkgPSBtb2RlbC5xdWVyaWVzW3F1ZXJ5TmFtZV07XG4gICAgICAgIH0gZWxzZSBpZiAoXy5pc09iamVjdChtb2RlbC5xdWVyaWVzW0VOVi5kZWZhdWx0UXVlcnlOYW1lXSkgJiYgIXF1ZXJ5TmFtZSkge1xuICAgICAgICAgICAgLyoqIEEgbmFtZWQgcXVlcnkgd2Fzbid0IHNwZWNpZmllZCBhbmQgdGhlIGNhdGNoYWxsIHF1ZXJ5IGV4aXN0cyAqL1xuICAgICAgICAgICAgcXVlcnkgPSBtb2RlbC5xdWVyaWVzW0VOVi5kZWZhdWx0UXVlcnlOYW1lXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8qKiBSZXF1ZXN0ZWQgcXVlcnkgbm90IGZvdW5kICovXG4gICAgICAgICAgICBxdWVyeSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcXVlcnk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBNb2RlbC5pc0luaXRpYWxpc2VkXG4gICAgICogQG1vZHVsZSBNb2RlbFxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIE1ldGhvZHMgd2hpY2ggYWxsb3dzIHVzIHRvIGVhc2lseSBkZXRlcm1pbmUgaWYgd2UndmUgc3VjY2Vzc2Z1bGx5IG1hZGUgYW55IHF1ZXJpZXMgdGhpcyBzZXNzaW9uLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGV2YWx1YXRpb24uXG4gICAgICovXG4gICAgaXNJbml0aWFsaXNlZCgpOiBib29sZWFuIHtcbiAgICAgICAgdmFyIG1vZGVsID0gdGhpcztcbiAgICAgICAgcmV0dXJuIF8uaXNEYXRlKG1vZGVsLmxhc3RTZXJ2ZXJVcGRhdGUpO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgTW9kZWwucmVnaXN0ZXJRdWVyeVxuICAgICAqIEBtb2R1bGUgTW9kZWxcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBDb25zdHJ1Y3RvciB0aGF0IGFsbG93cyB1cyBjcmVhdGUgYSBzdGF0aWMgcXVlcnkgd2l0aCB0aGUgb3B0aW9uIHRvIGJ1aWxkIGR5bmFtaWMgcXVlcmllcyBhcyBzZWVuIGluIHRoZVxuICAgICAqIHRoaXJkIGV4YW1wbGUuICBUaGlzIGNvbnN0cnVjdCBpcyBhIHBhc3N0aHJvdWdoIHRvIFtTUFNlcnZpY2VzXShodHRwOiAvL3Nwc2VydmljZXMuY29kZXBsZXguY29tLylcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gcXVlcnlPcHRpb25zIEluaXRpYWxpemF0aW9uIHBhcmFtZXRlcnMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcXVlcnlPcHRpb25zLmZvcmNlPWZhbHNlXSBJZ25vcmUgY2FjaGVkIGRhdGEgYW5kIGZvcmNlIHNlcnZlciBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3F1ZXJ5T3B0aW9ucy5saXN0SXRlbUlEXSBPcHRpb25hbGx5IHJlcXVlc3QgZm9yIGEgc2luZ2xlIGxpc3QgaXRlbSBieSBpZC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtxdWVyeU9wdGlvbnMubG9jYWxTdG9yYWdlPWZhbHNlXSBTaG91bGQgd2Ugc3RvcmUgZGF0YSBmcm9tIHRoaXMgcXVlcnkgaW4gbG9jYWwgc3RvcmFnZSB0byBzcGVlZCB1cCByZXF1ZXN0cyBpbiB0aGUgZnV0dXJlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcXVlcnlPcHRpb25zLmxvY2FsU3RvcmFnZUV4cGlyYXRpb249ODY0MDAwMDBdIFNldCBleHBpcmF0aW9uIGluIG1pbGxpc2Vjb25kcyAtIERlZmF1bHRzIHRvIGEgZGF5XG4gICAgICogYW5kIGlmIHNldCB0byAwIGRvZXNuJ3QgZXhwaXJlLiAgQ2FuIGJlIHVwZGF0ZWQgZ2xvYmFsbHkgdXNpbmcgYXBDb25maWcubG9jYWxTdG9yYWdlRXhwaXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3F1ZXJ5T3B0aW9ucy5uYW1lPXByaW1hcnldIFRoZSBuYW1lIHRoYXQgd2UgdXNlIHRvIGlkZW50aWZ5IHRoaXMgcXVlcnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtxdWVyeU9wdGlvbnMub3BlcmF0aW9uPUdldExpc3RJdGVtQ2hhbmdlc1NpbmNlVG9rZW5dIE9wdGlvbmFsbHkgdXNlICdHZXRMaXN0SXRlbXMnIHRvXG4gICAgICogcmVjZWl2ZSBhIG1vcmUgZWZmaWNpZW50IHJlc3BvbnNlLCBqdXN0IGRvbid0IGhhdmUgdGhlIGFiaWxpdHkgdG8gY2hlY2sgZm9yIGNoYW5nZXMgc2luY2UgdGhlIGxhc3QgdGltZVxuICAgICAqIHRoZSBxdWVyeSB3YXMgY2FsbGVkLiBEZWZhdWx0cyB0byBbR2V0TGlzdEl0ZW1DaGFuZ2VzU2luY2VUb2tlbl0oaHR0cDovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L2xpc3RzLmxpc3RzLmdldGxpc3RpdGVtY2hhbmdlc3NpbmNldG9rZW4lMjh2PW9mZmljZS4xMiUyOS5hc3B4KVxuICAgICAqIGJ1dCBmb3IgYSBzbWFsbGVyIHBheWxvYWQgYW5kIGZhc3RlciByZXNwb25zZSB5b3UgY2FuIHVzZSBbR2V0TGlzdEl0ZW1zXShodHRwOiAvL3Nwc2VydmljZXMuY29kZXBsZXguY29tL3dpa2lwYWdlP3RpdGxlPUdldExpc3RJdGVtcyZyZWZlcnJpbmdUaXRsZT1MaXN0cykuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtxdWVyeU9wdGlvbnMucXVlcnk9T3JkZXJlZCBhc2NlbmRpbmcgYnkgSURdIENBTUwgcXVlcnkgcGFzc2VkIHRvIFNoYXJlUG9pbnQgdG8gY29udHJvbFxuICAgICAqIHRoZSBkYXRhIFNoYXJlUG9pbnQgcmV0dXJucy4gSm9zaCBNY0NhcnR5IGhhcyBhIGdvb2QgcXVpY2sgcmVmZXJlbmNlIFtoZXJlXShodHRwOiAvL2pvc2htY2NhcnR5LmNvbS8yMDEyLzA2L2EtY2FtbC1xdWVyeS1xdWljay1yZWZlcmVuY2UpLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbcXVlcnlPcHRpb25zLnF1ZXJ5T3B0aW9uc10gU2hhcmVQb2ludCBvcHRpb25zIHhtbCBhcyBzdHJpbmcuXG4gICAgICogPHByZT5cbiAgICAgKiA8UXVlcnlPcHRpb25zPlxuICAgICAqICAgIDxJbmNsdWRlTWFuZGF0b3J5Q29sdW1ucz5GQUxTRTwvSW5jbHVkZU1hbmRhdG9yeUNvbHVtbnM+XG4gICAgICogICAgPEluY2x1ZGVBdHRhY2htZW50VXJscz5UUlVFPC9JbmNsdWRlQXR0YWNobWVudFVybHM+XG4gICAgICogICAgPEluY2x1ZGVBdHRhY2htZW50VmVyc2lvbj5GQUxTRTwvSW5jbHVkZUF0dGFjaG1lbnRWZXJzaW9uPlxuICAgICAqICAgIDxFeHBhbmRVc2VyRmllbGQ+RkFMU0U8L0V4cGFuZFVzZXJGaWVsZD5cbiAgICAgKiA8L1F1ZXJ5T3B0aW9ucz5cbiAgICAgKiA8L3ByZT5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3F1ZXJ5T3B0aW9ucy5yb3dMaW1pdF0gVGhlIG51bWJlciBvZiBsaXN0IGl0ZW1zIHRvIHJldHVybiwgMCByZXR1cm5zIGFsbCBsaXN0IGl0ZW1zLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3F1ZXJ5T3B0aW9ucy5ydW5PbmNlXSBQZXJ0YWlucyB0byBHZXRMaXN0SXRlbXMgb25seSwgb3B0aW9uYWxseSBydW4gYSBzaW5nbGUgdGltZSBhbmQgcmV0dXJuIGluaXRpYWwgdmFsdWUgZm9yIGFsbCBmdXR1cmVcbiAgICAgKiBjYWxscy4gIFdvcmtzIHdlbGwgd2l0aCBkYXRhIHRoYXQgaXNuJ3QgZXhwZWN0ZWQgdG8gY2hhbmdlIHRocm91Z2hvdXQgdGhlIHNlc3Npb24gYnV0IHVubGlrZSBsb2NhbFN0b3JhZ2Ugb3Igc2Vzc2lvblN0b3JhZ2VcbiAgICAgKiB0aGUgZGF0YSBkb2Vzbid0IHBlcnNpc3QgYmV0d2VlbiBzZXNzaW9ucy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtxdWVyeU9wdGlvbnMuc2Vzc2lvblN0b3JhZ2U9ZmFsc2VdIFVzZSB0aGUgYnJvd3NlcnMgc2Vzc2lvblN0b3JhZ2UgdG8gY2FjaGUgdGhlIGxpc3QgaXRlbXMgYW5kIHVzZXMgdGhlXG4gICAgICogcXVlcnlPcHRpb25zLmxvY2FsU3RvcmFnZUV4cGlyYXRpb24gcGFyYW0gdG8gdmFsaWRhdGUgaG93IGxvbmcgdGhlIGNhY2hlIGlzIGdvb2QgZm9yLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbcXVlcnlPcHRpb25zLnZpZXdGaWVsZHNdIFhNTCBhcyBzdHJpbmcgdGhhdCBzcGVjaWZpZXMgZmllbGRzIHRvIHJldHVybi5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3F1ZXJ5T3B0aW9ucy53ZWJVUkxdIFVzZWQgdG8gb3ZlcnJpZGUgdGhlIGRlZmF1bHQgVVJMIGlmIGxpc3QgaXMgbG9jYXRlZCBzb21ld2hlcmUgZWxzZS5cbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSBRdWVyeSBSZXR1cm5zIGEgbmV3IHF1ZXJ5IG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogPGg0PkV4YW1wbGUgIzE8L2g0PlxuICAgICAqIDxwcmU+XG4gICAgICogLy8gUXVlcnkgdG8gcmV0cmlldmUgdGhlIG1vc3QgcmVjZW50IDI1IG1vZGlmaWNhdGlvbnNcbiAgICAgKiBtb2RlbC5yZWdpc3RlclF1ZXJ5KHtcbiAgICAgICAgKiAgICBuYW1lOiAncmVjZW50Q2hhbmdlcycsXG4gICAgICAgICogICAgcm93TGltaXQ6IDI1LFxuICAgICAgICAqICAgIHF1ZXJ5OiAnJyArXG4gICAgICAgICogICAgICAgICc8UXVlcnk+JyArXG4gICAgICAgICogICAgICAgICcgICA8T3JkZXJCeT4nICtcbiAgICAgICAgKiAgICAgICAgJyAgICAgICA8RmllbGRSZWYgTmFtZT1cIk1vZGlmaWVkXCIgQXNjZW5kaW5nPVwiRkFMU0VcIi8+JyArXG4gICAgICAgICogICAgICAgICcgICA8L09yZGVyQnk+JyArXG4gICAgICAgICogICAgICAgICAgICAvL1ByZXZlbnRzIGFueSByZWNvcmRzIGZyb20gYmVpbmcgcmV0dXJuZWQgaWYgdXNlciBkb2Vzbid0XG4gICAgICAgICogICAgICAgICAgICAvLyBoYXZlIHBlcm1pc3Npb25zIG9uIHByb2plY3RcbiAgICAgICAgKiAgICAgICAgJyAgIDxXaGVyZT4nICtcbiAgICAgICAgKiAgICAgICAgJyAgICAgICA8SXNOb3ROdWxsPicgK1xuICAgICAgICAqICAgICAgICAnICAgICAgICAgICA8RmllbGRSZWYgTmFtZT1cIlByb2plY3RcIi8+JyArXG4gICAgICAgICogICAgICAgICcgICAgICAgPC9Jc05vdE51bGw+JyArXG4gICAgICAgICogICAgICAgICcgICA8L1doZXJlPicgK1xuICAgICAgICAqICAgICAgICAnPC9RdWVyeT4nXG4gICAgICAgICogfSk7XG4gICAgICogPC9wcmU+XG4gICAgICpcbiAgICAgKiA8aDQ+RXhhbXBsZSAjMjwvaDQ+XG4gICAgICogPHByZT5cbiAgICAgKiAvLyBDb3VsZCBiZSBwbGFjZWQgb24gdGhlIHByb2plY3RNb2RlbCBhbmQgY3JlYXRlcyB0aGUgcXVlcnkgYnV0IGRvZXNuJ3RcbiAgICAgKiAvLyBjYWxsIGl0LiAgVXNlcyB0aGUgc2Vzc2lvbiBjYWNoZSB0byBtYWtlIHRoZSBpbml0aWFsIGNhbGwgZmFzdGVyLlxuICAgICAqIHByb2plY3RNb2RlbC5yZWdpc3RlclF1ZXJ5KHtcbiAgICAgICAgKiAgICAgbmFtZTogJ3ByaW1hcnknLFxuICAgICAgICAqICAgICBzZXNzaW9uQ2FjaGU6IHRydWUsXG4gICAgICAgICogICAgIC8vU2V0IGFuIGV4cGlyYXRpb24gdmFsdWUgb2YgOCBob3VycyByYXRoZXIgdGhhbiB1c2UgdGhlIGRlZmF1bHQgb2YgMjRcbiAgICAgICAgKiAgICAgbG9jYWxTdG9yYWdlRXhwaXJhdGlvbjogMjg4MDAwMDAsXG4gICAgICAgICogICAgIHF1ZXJ5OiAnJyArXG4gICAgICAgICogICAgICAgICAnPFF1ZXJ5PicgK1xuICAgICAgICAqICAgICAgICAgJyAgIDxPcmRlckJ5PicgK1xuICAgICAgICAqICAgICAgICAgJyAgICAgICA8RmllbGRSZWYgTmFtZT1cIlRpdGxlXCIgQXNjZW5kaW5nPVwiVFJVRVwiLz4nICtcbiAgICAgICAgKiAgICAgICAgICcgICA8L09yZGVyQnk+JyArXG4gICAgICAgICogICAgICAgICAnPC9RdWVyeT4nXG4gICAgICAgICogfSk7XG4gICAgICpcbiAgICAgKiAvL1RvIGNhbGwgdGhlIHF1ZXJ5IG9yIGNoZWNrIGZvciBjaGFuZ2VzIHNpbmNlIHRoZSBsYXN0IGNhbGxcbiAgICAgKiBwcm9qZWN0TW9kZWwuZXhlY3V0ZVF1ZXJ5KCdwcmltYXJ5JylcbiAgICAgKiAgIC50aGVuKChlbnRpdGllcykgPT4ge1xuICAgICAgICAqICAgICAvLyBXZSBub3cgaGF2ZSBhIHJlZmVyZW5jZSB0byBhcnJheSBvZiBlbnRpdGllcyBzdG9yZWQgaW4gdGhlIGxvY2FsXG4gICAgICAgICogICAgIC8vIGNhY2hlLiAgVGhlc2UgaW5oZXJpdCBmcm9tIHRoZSBMaXN0SXRlbSBwcm90b3R5cGUgYXMgd2VsbCBhcyB0aGVcbiAgICAgICAgKiAgICAgLy8gUHJvamVjdCBwcm90b3R5cGUgb24gdGhlIG1vZGVsXG4gICAgICAgICogICAgICRjdHJsLnByb2plY3RzID0gZW50aXRpZXM7XG4gICAgICAgICogICB9KVxuICAgICAqICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgKiAgICAgICAvL0hhbmRsZSBlcnJvclxuICAgICAgICAqICAgfSlcbiAgICAgKiA8L3ByZT5cbiAgICAgKlxuICAgICAqIDxoND5FeGFtcGxlICMzPC9oND5cbiAgICAgKiA8cHJlPlxuICAgICAqIC8vIEFkdmFuY2VkIGZ1bmN0aW9uYWxpdHkgdGhhdCB3b3VsZCBhbGxvdyB1cyB0byBkeW5hbWljYWxseSBjcmVhdGVcbiAgICAgKiAvLyBxdWVyaWVzIGZvciBsaXN0IGl0ZW1zIHdpdGggYSBsb29rdXAgZmllbGQgYXNzb2NpYXRlZCB3aXRoIGEgc3BlY2lmaWNcbiAgICAgKiAvLyBwcm9qZWN0IGlkLiAgTGV0J3MgYXNzdW1lIHRoaXMgaXMgb24gdGhlIHByb2plY3RUYXNrc01vZGVsLlxuICAgICAqIG1vZGVsLnF1ZXJ5QnlQcm9qZWN0SWQocHJvamVjdElkKSB7XG4gICAgICAgICogICAgIC8vIFVuaXF1ZSBxdWVyeSBuYW1lXG4gICAgICAgICogICAgIHZhciBxdWVyeUtleSA9ICdwaWQnICsgcHJvamVjdElkO1xuICAgICAgICAqXG4gICAgICAgICogICAgIC8vIFJlZ2lzdGVyIHByb2plY3QgcXVlcnkgaWYgaXQgZG9lc24ndCBleGlzdFxuICAgICAgICAqICAgICBpZiAoIV8uaXNPYmplY3QobW9kZWwucXVlcmllc1txdWVyeUtleV0pKSB7XG4gICAgICAgICogICAgICAgICBtb2RlbC5yZWdpc3RlclF1ZXJ5KHtcbiAgICAgICAgKiAgICAgICAgICAgICBuYW1lOiBxdWVyeUtleSxcbiAgICAgICAgKiAgICAgICAgICAgICBxdWVyeTogJycgK1xuICAgICAgICAqICAgICAgICAgICAgICAgICAnPFF1ZXJ5PicgK1xuICAgICAgICAqICAgICAgICAgICAgICAgICAnICAgPE9yZGVyQnk+JyArXG4gICAgICAgICogICAgICAgICAgICAgICAgICcgICAgICAgPEZpZWxkUmVmIE5hbWU9XCJJRFwiIEFzY2VuZGluZz1cIlRSVUVcIi8+JyArXG4gICAgICAgICogICAgICAgICAgICAgICAgICcgICA8L09yZGVyQnk+JyArXG4gICAgICAgICogICAgICAgICAgICAgICAgICcgICA8V2hlcmU+JyArXG4gICAgICAgICogICAgICAgICAgICAgICAgICcgICAgICAgPEFuZD4nICtcbiAgICAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFByZXZlbnRzIGFueSByZWNvcmRzIGZyb20gYmVpbmcgcmV0dXJuZWRcbiAgICAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vaWYgdXNlciBkb2Vzbid0IGhhdmUgcGVybWlzc2lvbnMgb24gcHJvamVjdFxuICAgICAgICAqICAgICAgICAgICAgICAgICAnICAgICAgICAgICA8SXNOb3ROdWxsPicgK1xuICAgICAgICAqICAgICAgICAgICAgICAgICAnICAgICAgICAgICAgICAgPEZpZWxkUmVmIE5hbWU9XCJQcm9qZWN0XCIvPicgK1xuICAgICAgICAqICAgICAgICAgICAgICAgICAnICAgICAgICAgICA8L0lzTm90TnVsbD4nICtcbiAgICAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJldHVybiBhbGwgcmVjb3JkcyBmb3IgdGhlIHByb2plY3QgbWF0Y2hpbmdcbiAgICAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHBhcmFtIHByb2plY3RJZFxuICAgICAgICAqICAgICAgICAgICAgICAgICAnICAgICAgICAgICA8RXE+JyArXG4gICAgICAgICogICAgICAgICAgICAgICAgICcgICAgICAgICAgICAgICA8RmllbGRSZWYgTmFtZT1cIlByb2plY3RcIiBMb29rdXBJZD1cIlRSVUVcIi8+JyArXG4gICAgICAgICogICAgICAgICAgICAgICAgICcgICAgICAgICAgICAgICA8VmFsdWUgVHlwZT1cIkxvb2t1cFwiPicgKyBwcm9qZWN0SWQgKyAnPC9WYWx1ZT4nICtcbiAgICAgICAgKiAgICAgICAgICAgICAgICAgJyAgICAgICAgICAgPC9FcT4nICtcbiAgICAgICAgKiAgICAgICAgICAgICAgICAgJyAgICAgICA8L0FuZD4nICtcbiAgICAgICAgKiAgICAgICAgICAgICAgICAgJyAgIDwvV2hlcmU+JyArXG4gICAgICAgICogICAgICAgICAgICAgICAgICc8L1F1ZXJ5PidcbiAgICAgICAgKiAgICAgICAgIH0pO1xuICAgICAgICAqICAgICB9XG4gICAgICAgICogICAgIC8vU3RpbGwgdXNpbmcgZXhlY3V0ZSBxdWVyeSBidXQgbm93IHdlIGhhdmUgYSBjdXN0b20gcXVlcnlcbiAgICAgICAgKiAgICAgcmV0dXJuIG1vZGVsLmV4ZWN1dGVRdWVyeShxdWVyeUtleSk7XG4gICAgICAgICogfTtcbiAgICAgKiA8L3ByZT5cbiAgICAgKi9cbiAgICByZWdpc3RlclF1ZXJ5PFQgZXh0ZW5kcyBMaXN0SXRlbTxhbnk+PihxdWVyeU9wdGlvbnM6IElRdWVyeU9wdGlvbnMpOiBJUXVlcnk8VD4ge1xuICAgICAgICB2YXIgbW9kZWwgPSB0aGlzO1xuXG4gICAgICAgIHZhciBkZWZhdWx0cyA9IHtcbiAgICAgICAgICAgIC8qKiBJZiBuYW1lIGlzbid0IHNldCwgYXNzdW1lIHRoaXMgaXMgdGhlIG9ubHkgbW9kZWwgYW5kIGRlc2lnbmF0ZSBhcyBwcmltYXJ5ICovXG4gICAgICAgICAgICBuYW1lOiBFTlYuZGVmYXVsdFF1ZXJ5TmFtZVxuICAgICAgICB9O1xuXG4gICAgICAgIHF1ZXJ5T3B0aW9ucyA9IF8uYXNzaWduKHt9LCBkZWZhdWx0cywgcXVlcnlPcHRpb25zKTtcblxuICAgICAgICBtb2RlbC5xdWVyaWVzW3F1ZXJ5T3B0aW9ucy5uYW1lXSA9IGFwUXVlcnlGYWN0b3J5LmNyZWF0ZShxdWVyeU9wdGlvbnMsIG1vZGVsKTtcblxuICAgICAgICAvKiogUmV0dXJuIHRoZSBuZXdseSBjcmVhdGVkIHF1ZXJ5ICovXG4gICAgICAgIHJldHVybiBtb2RlbC5xdWVyaWVzW3F1ZXJ5T3B0aW9ucy5uYW1lXTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIE1vZGVsLnJlc29sdmVQZXJtaXNzaW9uc1xuICAgICAqIEBtb2R1bGUgTW9kZWxcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBTZWUgYXBNb2RlbEZhY3RvcnkucmVzb2x2ZVBlcm1pc3Npb25zIGZvciBkZXRhaWxzIG9uIHdoYXQgd2UgZXhwZWN0IHRvIGhhdmUgcmV0dXJuZWQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gQ29udGFpbnMgcHJvcGVydGllcyBmb3IgZWFjaCBwZXJtaXNzaW9uIGxldmVsIGV2YWx1YXRlZCBmb3IgY3VycmVudCB1c2VyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogTGV0cyBhc3N1bWUgd2UncmUgY2hlY2tpbmcgdG8gc2VlIGlmIGEgdXNlciBoYXMgZWRpdCByaWdodHMgZm9yIGEgZ2l2ZW4gbGlzdC5cbiAgICAgKiA8cHJlPlxuICAgICAqIHZhciB1c2VyUGVybWlzc2lvbnMgPSB0YXNrc01vZGVsLnJlc29sdmVQZXJtaXNzaW9ucygpO1xuICAgICAqIHZhciB1c2VyQ2FuRWRpdCA9IHVzZXJQZXJtaXNzaW9ucy5FZGl0TGlzdEl0ZW1zO1xuICAgICAqIDwvcHJlPlxuICAgICAqIEV4YW1wbGUgb2Ygd2hhdCB0aGUgcmV0dXJuZWQgb2JqZWN0IHdvdWxkIGxvb2sgbGlrZVxuICAgICAqIGZvciBhIHNpdGUgYWRtaW4uXG4gICAgICogPHByZT5cbiAgICAgKiBwZXJtID0ge1xuICAgICAgICAgICAgKiAgICBcIlZpZXdMaXN0SXRlbXNcIjogdHJ1ZSxcbiAgICAgICAgICAgICogICAgXCJBZGRMaXN0SXRlbXNcIjogdHJ1ZSxcbiAgICAgICAgICAgICogICAgXCJFZGl0TGlzdEl0ZW1zXCI6IHRydWUsXG4gICAgICAgICAgICAqICAgIFwiRGVsZXRlTGlzdEl0ZW1zXCI6IHRydWUsXG4gICAgICAgICAgICAqICAgIFwiQXBwcm92ZUl0ZW1zXCI6IHRydWUsXG4gICAgICAgICAgICAqICAgIFwiT3Blbkl0ZW1zXCI6IHRydWUsXG4gICAgICAgICAgICAqICAgIFwiVmlld1ZlcnNpb25zXCI6IHRydWUsXG4gICAgICAgICAgICAqICAgIFwiRGVsZXRlVmVyc2lvbnNcIjogdHJ1ZSxcbiAgICAgICAgICAgICogICAgXCJDYW5jZWxDaGVja291dFwiOiB0cnVlLFxuICAgICAgICAgICAgKiAgICBcIlBlcnNvbmFsVmlld3NcIjogdHJ1ZSxcbiAgICAgICAgICAgICogICAgXCJNYW5hZ2VMaXN0c1wiOiB0cnVlLFxuICAgICAgICAgICAgKiAgICBcIlZpZXdGb3JtUGFnZXNcIjogdHJ1ZSxcbiAgICAgICAgICAgICogICAgXCJPcGVuXCI6IHRydWUsXG4gICAgICAgICAgICAqICAgIFwiVmlld1BhZ2VzXCI6IHRydWUsXG4gICAgICAgICAgICAqICAgIFwiQWRkQW5kQ3VzdG9taXplUGFnZXNcIjogdHJ1ZSxcbiAgICAgICAgICAgICogICAgXCJBcHBseVRoZW1lQW5kQm9yZGVyXCI6IHRydWUsXG4gICAgICAgICAgICAqICAgIFwiQXBwbHlTdHlsZVNoZWV0c1wiOiB0cnVlLFxuICAgICAgICAgICAgKiAgICBcIlZpZXdVc2FnZURhdGFcIjogdHJ1ZSxcbiAgICAgICAgICAgICogICAgXCJDcmVhdGVTU0NTaXRlXCI6IHRydWUsXG4gICAgICAgICAgICAqICAgIFwiTWFuYWdlU3Vid2Vic1wiOiB0cnVlLFxuICAgICAgICAgICAgKiAgICBcIkNyZWF0ZUdyb3Vwc1wiOiB0cnVlLFxuICAgICAgICAgICAgKiAgICBcIk1hbmFnZVBlcm1pc3Npb25zXCI6IHRydWUsXG4gICAgICAgICAgICAqICAgIFwiQnJvd3NlRGlyZWN0b3JpZXNcIjogdHJ1ZSxcbiAgICAgICAgICAgICogICAgXCJCcm93c2VVc2VySW5mb1wiOiB0cnVlLFxuICAgICAgICAgICAgKiAgICBcIkFkZERlbFByaXZhdGVXZWJQYXJ0c1wiOiB0cnVlLFxuICAgICAgICAgICAgKiAgICBcIlVwZGF0ZVBlcnNvbmFsV2ViUGFydHNcIjogdHJ1ZSxcbiAgICAgICAgICAgICogICAgXCJNYW5hZ2VXZWJcIjogdHJ1ZSxcbiAgICAgICAgICAgICogICAgXCJVc2VSZW1vdGVBUElzXCI6IHRydWUsXG4gICAgICAgICAgICAqICAgIFwiTWFuYWdlQWxlcnRzXCI6IHRydWUsXG4gICAgICAgICAgICAqICAgIFwiQ3JlYXRlQWxlcnRzXCI6IHRydWUsXG4gICAgICAgICAgICAqICAgIFwiRWRpdE15VXNlckluZm9cIjogdHJ1ZSxcbiAgICAgICAgICAgICogICAgXCJFbnVtZXJhdGVQZXJtaXNzaW9uc1wiOiB0cnVlLFxuICAgICAgICAgICAgKiAgICBcIkZ1bGxNYXNrXCI6IHRydWVcbiAgICAgICAgICAgICogfVxuICAgICAqIDwvcHJlPlxuICAgICAqL1xuICAgIHJlc29sdmVQZXJtaXNzaW9ucygpOiBJVXNlclBlcm1pc3Npb25zT2JqZWN0IHtcbiAgICAgICAgdmFyIG1vZGVsID0gdGhpcyxcbiAgICAgICAgICAgIGxpc3QgPSBtb2RlbC5nZXRMaXN0KCk7XG4gICAgICAgIGlmIChsaXN0ICYmIGxpc3QucGVybWlzc2lvbnMpIHtcbiAgICAgICAgICAgIC8qKiBJZiByZXF1ZXN0IGhhcyBiZWVuIG1hZGUgdG8gR2V0TGlzdEl0ZW1DaGFuZ2VzU2luY2VUb2tlbiB3ZSBoYXZlIGFscmVhZHkgc3RvcmVkIHRoZVxuICAgICAgICAgICAgICogcGVybWlzc2lvbiBmb3IgdGhpcyBsaXN0LiAqL1xuICAgICAgICAgICAgcmV0dXJuIGxpc3QucGVybWlzc2lvbnM7XG4gICAgICAgIH0gZWxzZSBpZiAobW9kZWwuZ2V0Q2FjaGVkRW50aXRpZXMoKS5maXJzdCgpKSB7XG4gICAgICAgICAgICAvKiogTmV4dCBvcHRpb24gaXMgdG8gdXNlIHRoZSBzYW1lIHBlcm1pc3Npb24gYXMgb25lIG9mIHRoZVxuICAgICAgICAgICAgICogYWxyZWFkeSBjYWNoZWQgbGlzdCBpdGVtcyBmb3IgdGhpcyBtb2RlbC4gKi9cbiAgICAgICAgICAgIHJldHVybiBsaXN0LmV4dGVuZFBlcm1pc3Npb25zRnJvbUxpc3RJdGVtKG1vZGVsLmdldENhY2hlZEVudGl0aWVzKCkuZmlyc3QoKSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmVycm9yKCdBdHRlbXB0ZWQgdG8gcmVzb2x2ZSBwZXJtaXNzaW9ucyBvZiBhIG1vZGVsIHRoYXQgaGFzblxcJ3QgYmVlbiBpbml0aWFsaXplZC4nLCBtb2RlbCk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEJhc2VQZXJtaXNzaW9uT2JqZWN0KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBNb2RlbC52YWxpZGF0ZUVudGl0eVxuICAgICAqIEBtb2R1bGUgTW9kZWxcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBVc2VzIHRoZSBjdXN0b20gZmllbGRzIGRlZmluZWQgaW4gYW4gbW9kZWwgdG8gZW5zdXJlIGVhY2ggZmllbGQgKHJlcXVpcmVkID0gdHJ1ZSkgaXMgZXZhbHVhdGVkXG4gICAgICogYmFzZWQgb24gZmllbGQgdHlwZVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBsaXN0SXRlbSBTaGFyZVBvaW50IGxpc3QgaXRlbS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gRXZhbHVhdGlvbiBvZiB2YWxpZGl0eS5cbiAgICAgKi9cbiAgICB2YWxpZGF0ZUVudGl0eTxUIGV4dGVuZHMgTGlzdEl0ZW08YW55Pj4obGlzdEl0ZW06IFQpOiBib29sZWFuIHtcbiAgICAgICAgdmFyIHZhbGlkID0gdHJ1ZSxcbiAgICAgICAgICAgIG1vZGVsID0gdGhpcztcblxuICAgICAgICB2YXIgY2hlY2tPYmplY3QgPSAoZmllbGRWYWx1ZSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIF8uaXNPYmplY3QoZmllbGRWYWx1ZSkgJiYgXy5pc051bWJlcihmaWVsZFZhbHVlLmxvb2t1cElkKTtcbiAgICAgICAgfTtcblxuICAgICAgICBfLmVhY2gobW9kZWwubGlzdC5jdXN0b21GaWVsZHMsIChmaWVsZERlZmluaXRpb246IElGaWVsZERlZmluaXRpb24pID0+IHtcbiAgICAgICAgICAgIHZhciBmaWVsZFZhbHVlID0gbGlzdEl0ZW1bZmllbGREZWZpbml0aW9uLm1hcHBlZE5hbWVdO1xuICAgICAgICAgICAgdmFyIGZpZWxkRGVzY3JpcHRvciA9ICdcIicgKyBmaWVsZERlZmluaXRpb24ub2JqZWN0VHlwZSArICdcIiB2YWx1ZS4nO1xuICAgICAgICAgICAgLyoqIE9ubHkgZXZhbHVhdGUgcmVxdWlyZWQgZmllbGRzICovXG4gICAgICAgICAgICBpZiAoKGZpZWxkRGVmaW5pdGlvbi5yZXF1aXJlZCB8fCBmaWVsZERlZmluaXRpb24uUmVxdWlyZWQpICYmIHZhbGlkKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChmaWVsZERlZmluaXRpb24ub2JqZWN0VHlwZSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdCb29sZWFuJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkID0gXy5pc0Jvb2xlYW4oZmllbGRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnRGF0ZVRpbWUnOlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSBfLmlzRGF0ZShmaWVsZFZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdMb29rdXAnOlxuICAgICAgICAgICAgICAgICAgICBjYXNlICdVc2VyJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkID0gY2hlY2tPYmplY3QoZmllbGRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnTG9va3VwTXVsdGknOlxuICAgICAgICAgICAgICAgICAgICBjYXNlICdVc2VyTXVsdGknOlxuICAgICAgICAgICAgICAgICAgICAgICAgLyoqIEVuc3VyZSBpdCdzIGEgdmFsaWQgYXJyYXkgY29udGFpbmluZyBvYmplY3RzICovXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IF8uaXNBcnJheShmaWVsZFZhbHVlKSAmJiBmaWVsZFZhbHVlLmxlbmd0aCA+IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiogQWRkaXRpb25hbGx5IGNoZWNrIHRoYXQgZWFjaCBsb29rdXAvcGVyc29uIGNvbnRhaW5zIGEgbG9va3VwSWQgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLmVhY2goZmllbGRWYWx1ZSwgKGZpZWxkT2JqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSBjaGVja09iamVjdChmaWVsZE9iamVjdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiogU2hvcnQgY2lyY3VpdCAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKiBFdmFsdWF0ZSBldmVyeXRoaW5nIGVsc2UgYXMgYSBzdHJpbmcgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkID0gIV8uaXNFbXB0eShmaWVsZFZhbHVlKTtcblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdmFsaWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdmFsaWQ7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgTW9kZWxGYWN0b3J5IHtcbiAgICBzdGF0aWMgJGluamVjdCA9IFsnJHEnLCAnYXBDYWNoZVNlcnZpY2UnLCAnYXBEYXRhU2VydmljZScsICdhcERlY29kZVNlcnZpY2UnLCAnYXBFbmNvZGVTZXJ2aWNlJywgJ2FwRmllbGRTZXJ2aWNlJywgJ2FwSW5kZXhlZENhY2hlRmFjdG9yeScsICdhcExpc3RGYWN0b3J5JywgJ2FwUXVlcnlGYWN0b3J5JywgJ2FwVXRpbGl0eVNlcnZpY2UnXTtcbiAgICBNb2RlbCA9IE1vZGVsO1xuXG4gICAgY29uc3RydWN0b3IoXyRxXywgX2FwQ2FjaGVTZXJ2aWNlXywgX2FwRGF0YVNlcnZpY2VfLCBfYXBEZWNvZGVTZXJ2aWNlXywgX2FwRW5jb2RlU2VydmljZV8sIF9hcEZpZWxkU2VydmljZV8sIF9hcEluZGV4ZWRDYWNoZUZhY3RvcnlfLCBfYXBMaXN0RmFjdG9yeV8sIF9hcFF1ZXJ5RmFjdG9yeV8sIF9hcFV0aWxpdHlTZXJ2aWNlXykge1xuXG4gICAgICAgICRxID0gXyRxXztcbiAgICAgICAgYXBDYWNoZVNlcnZpY2UgPSBfYXBDYWNoZVNlcnZpY2VfO1xuICAgICAgICBhcERhdGFTZXJ2aWNlID0gX2FwRGF0YVNlcnZpY2VfO1xuICAgICAgICBhcERlY29kZVNlcnZpY2UgPSBfYXBEZWNvZGVTZXJ2aWNlXztcbiAgICAgICAgYXBFbmNvZGVTZXJ2aWNlID0gX2FwRW5jb2RlU2VydmljZV87XG4gICAgICAgIGFwRmllbGRTZXJ2aWNlID0gX2FwRmllbGRTZXJ2aWNlXztcbiAgICAgICAgYXBJbmRleGVkQ2FjaGVGYWN0b3J5ID0gX2FwSW5kZXhlZENhY2hlRmFjdG9yeV87XG4gICAgICAgIGFwTGlzdEZhY3RvcnkgPSBfYXBMaXN0RmFjdG9yeV87XG4gICAgICAgIGFwUXVlcnlGYWN0b3J5ID0gX2FwUXVlcnlGYWN0b3J5XztcbiAgICAgICAgYXBVdGlsaXR5U2VydmljZSA9IF9hcFV0aWxpdHlTZXJ2aWNlXztcbiAgICB9XG5cbiAgICBjcmVhdGUoY29uZmlnOiBJVW5pbml0aWFsaXplZE1vZGVsKSB7XG4gICAgICAgIHJldHVybiBuZXcgTW9kZWwoY29uZmlnKTtcbiAgICB9XG5cbn1cblxuXG5cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlciEuL3NyYy9mYWN0b3JpZXMvYXBNb2RlbEZhY3RvcnkudHMiLCJpbXBvcnQgKiBhcyBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQge0luZGV4ZWRDYWNoZUZhY3RvcnksIEluZGV4ZWRDYWNoZX0gZnJvbSAnLi9hcEluZGV4ZWRDYWNoZUZhY3RvcnknO1xuaW1wb3J0IHtEYXRhU2VydmljZX0gZnJvbSAnLi4vc2VydmljZXMvYXBEYXRhU2VydmljZSc7XG5pbXBvcnQge0RlY29kZVNlcnZpY2V9IGZyb20gJy4uL3NlcnZpY2VzL2FwRGVjb2RlU2VydmljZSc7XG5pbXBvcnQge0xvZ2dlcn0gZnJvbSAnLi4vc2VydmljZXMvYXBMb2dnZXInO1xuaW1wb3J0IHtJTGlzdEZpZWxkTWFwcGluZywgTGlzdH0gZnJvbSAnLi9hcExpc3RGYWN0b3J5JztcbmltcG9ydCB7TGlzdEl0ZW19IGZyb20gJy4vYXBMaXN0SXRlbUZhY3RvcnknO1xuaW1wb3J0IHtNb2RlbH0gZnJvbSAnLi9hcE1vZGVsRmFjdG9yeSc7XG5pbXBvcnQge0RlZmF1bHRMaXN0SXRlbVF1ZXJ5T3B0aW9uc30gZnJvbSAnLi4vY29uc3RhbnRzL2FwRGVmYXVsdExpc3RJdGVtUXVlcnlPcHRpb25zJztcbmltcG9ydCB7RU5WfSBmcm9tICcuLi9hcHAubW9kdWxlJztcblxudmFyICRxOiBuZy5JUVNlcnZpY2UsIGFwSW5kZXhlZENhY2hlRmFjdG9yeTogSW5kZXhlZENhY2hlRmFjdG9yeSwgYXBEZWZhdWx0TGlzdEl0ZW1RdWVyeU9wdGlvbnMsXG4gICAgYXBEYXRhU2VydmljZTogRGF0YVNlcnZpY2UsIGFwRGVjb2RlU2VydmljZTogRGVjb2RlU2VydmljZSwgYXBMb2dnZXI6IExvZ2dlcjtcblxuZXhwb3J0IGludGVyZmFjZSBJUXVlcnlPcHRpb25zIHtcbiAgICBmb3JjZT86IGJvb2xlYW47XG4gICAgLy9Pbmx5IHJlbGV2YW50IGlmIHJlcXVlc3RpbmcgYSBzaW5nbGUgaXRlbVxuICAgIGxpc3RJdGVtSUQ/OiBudW1iZXI7XG4gICAgbG9jYWxTdG9yYWdlPzogYm9vbGVhbjtcbiAgICBsb2NhbFN0b3JhZ2VFeHBpcmF0aW9uPzogbnVtYmVyO1xuICAgIG5hbWU/OiBzdHJpbmc7XG4gICAgLyoqIEdldExpc3RJdGVtQ2hhbmdlc1NpbmNlVG9rZW4gfHwgR2V0TGlzdEl0ZW1zICovXG4gICAgb3BlcmF0aW9uPzogc3RyaW5nO1xuICAgIHF1ZXJ5Pzogc3RyaW5nO1xuICAgIHF1ZXJ5T3B0aW9ucz86IHN0cmluZztcbiAgICAvL1JldHVybnMgYWxsIGl0ZW1zIGlmIHNldCB0byAwXG4gICAgcm93TGltaXQ/OiBudW1iZXI7XG4gICAgcnVuT25jZT86IGJvb2xlYW47XG4gICAgc2Vzc2lvblN0b3JhZ2U/OiBib29sZWFuO1xuICAgIHZpZXdGaWVsZHM/OiBzdHJpbmc7XG4gICAgd2ViVVJMPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElFeGVjdXRlUXVlcnlPcHRpb25zIHtcbiAgICBmYWN0b3J5PzogRnVuY3Rpb247XG4gICAgZmlsdGVyPzogc3RyaW5nO1xuICAgIG1hcHBpbmc/OiBJTGlzdEZpZWxkTWFwcGluZztcbiAgICB0YXJnZXQ/OiBJbmRleGVkQ2FjaGU8YW55PjtcbiAgICBba2V5OiBzdHJpbmddOiBhbnk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVF1ZXJ5PFQgZXh0ZW5kcyBMaXN0SXRlbTxhbnk+PiB7XG4gICAgY2FjaGVYTUw/OiBib29sZWFuO1xuICAgIGNoYW5nZVRva2VuPzogc3RyaW5nO1xuICAgIGV4ZWN1dGUob3B0aW9ucz86IE9iamVjdCk6IG5nLklQcm9taXNlPEluZGV4ZWRDYWNoZTxUPj47XG4gICAgZm9yY2U6IGJvb2xlYW47XG4gICAgZ2V0Q2FjaGUoKTogSW5kZXhlZENhY2hlPFQ+O1xuICAgIGdldExvY2FsU3RvcmFnZSgpOiBMb2NhbFN0b3JhZ2VRdWVyeTtcbiAgICBnZXRNb2RlbCgpOiBNb2RlbDtcbiAgICBoeWRyYXRlRnJvbUxvY2FsU3RvcmFnZShsb2NhbFN0b3JhZ2VRdWVyeTogTG9jYWxTdG9yYWdlUXVlcnkpOiB2b2lkO1xuICAgIGluZGV4ZWRDYWNoZTogSW5kZXhlZENhY2hlPFQ+O1xuICAgIGluaXRpYWxpemVkOiBuZy5JRGVmZXJyZWQ8SW5kZXhlZENhY2hlPFQ+PlxuICAgIGxhc3RSdW46IERhdGU7XG4gICAgbGlzdEl0ZW1JRD86IG51bWJlcjtcbiAgICBsaXN0TmFtZTogc3RyaW5nO1xuICAgIGxvY2FsU3RvcmFnZTogYm9vbGVhbjtcbiAgICBsb2NhbFN0b3JhZ2VFeHBpcmF0aW9uOiBudW1iZXI7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIG5lZ290aWF0aW5nV2l0aFNlcnZlcjogYm9vbGVhbjtcbiAgICAvLyBvZmZsaW5lWE1MPzogc3RyaW5nO1xuICAgIG9wZXJhdGlvbj86IHN0cmluZztcbiAgICBwcm9taXNlPzogbmcuSVByb21pc2U8SW5kZXhlZENhY2hlPFQ+PjtcbiAgICBxdWVyeT86IHN0cmluZztcbiAgICBxdWVyeU9wdGlvbnM/OiBJUXVlcnlPcHRpb25zO1xuICAgIHJvd0xpbWl0PzogbnVtYmVyO1xuICAgIHJ1bk9uY2U6IGJvb2xlYW47XG4gICAgc2F2ZVRvTG9jYWxTdG9yYWdlKCk6IHZvaWQ7XG4gICAgc2Vzc2lvblN0b3JhZ2U6IGJvb2xlYW47XG4gICAgdmlld0ZpZWxkczogc3RyaW5nO1xuICAgIHdlYlVSTD86IHN0cmluZztcbn1cblxuZXhwb3J0IGNsYXNzIExvY2FsU3RvcmFnZVF1ZXJ5IHtcbiAgICBjaGFuZ2VUb2tlbjogc3RyaW5nO1xuICAgIGluZGV4ZWRDYWNoZToge1trZXk6IG51bWJlcl06IE9iamVjdH07XG4gICAgbGFzdFJ1bjogRGF0ZTtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUga2V5OiBzdHJpbmcsIHN0cmluZ2lmaWVkUXVlcnk6IHN0cmluZykge1xuICAgICAgICBsZXQgcGFyc2VkUXVlcnkgPSBKU09OLnBhcnNlKHN0cmluZ2lmaWVkUXVlcnkpO1xuICAgICAgICBfLmFzc2lnbih0aGlzLCBwYXJzZWRRdWVyeSk7XG4gICAgICAgIHRoaXMubGFzdFJ1biA9IG5ldyBEYXRlKHBhcnNlZFF1ZXJ5Lmxhc3RSdW4pO1xuICAgIH1cblxuICAgIGhhc0V4cGlyZWQobG9jYWxTdG9yYWdlRXhwaXJhdGlvbjogbnVtYmVyID0gRU5WLmxvY2FsU3RvcmFnZUV4cGlyYXRpb24pOiBib29sZWFuIHtcbiAgICAgICAgbGV0IGhhc0V4cGlyZWQgPSB0cnVlO1xuICAgICAgICBpZiAoXy5pc05hTihsb2NhbFN0b3JhZ2UpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0xvY2FsIHN0b3JhZ2UgZXhwaXJhdGlvbiBpcyByZXF1aXJlZCB0byBiZSBhIG51bWVyaWMgdmFsdWUgYW5kIGluc3RlYWQgaXMgJyArIGxvY2FsU3RvcmFnZUV4cGlyYXRpb24pO1xuICAgICAgICB9IGVsc2UgaWYgKGxvY2FsU3RvcmFnZUV4cGlyYXRpb24gPT09IDApIHtcbiAgICAgICAgICAgIC8vTm8gZXhwaXJhdGlvblxuICAgICAgICAgICAgaGFzRXhwaXJlZCA9IGZhbHNlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy9FdmFsdWF0ZSBpZiBjYWNoZSBoYXMgZXhjZWVkZWQgZXhwaXJhdGlvblxuICAgICAgICAgICAgaGFzRXhwaXJlZCA9IHRoaXMubGFzdFJ1bi5nZXRNaWxsaXNlY29uZHMoKSArIGxvY2FsU3RvcmFnZUV4cGlyYXRpb24gPD0gbmV3IERhdGUoKS5nZXRNaWxsaXNlY29uZHMoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGFzRXhwaXJlZDtcbiAgICB9XG5cbiAgICByZW1vdmVJdGVtKCkge1xuICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSh0aGlzLmtleSk7XG4gICAgfVxufVxuXG5cbi8qKlxuICogQG5nZG9jIGZ1bmN0aW9uXG4gKiBAbmFtZSBRdWVyeVxuICogQGRlc2NyaXB0aW9uXG4gKiBQcmltYXJ5IGNvbnN0cnVjdG9yIHRoYXQgYWxsIHF1ZXJpZXMgaW5oZXJpdCBmcm9tLiBUaGlzIG9iamVjdCBpcyBhIHBhc3N0aHJvdWdoIHRvIFtTUFNlcnZpY2VzXShodHRwOiAvL3Nwc2VydmljZXMuY29kZXBsZXguY29tLykuICBBbGxcbiAqIG9wdGlvbnMgdG8gcGFzc2VkIHRocm91Z2ggdG8gW2RhdGFTZXJ2aWNlLmV4ZWN1dGVRdWVyeV0oIy9hcGkvZGF0YVNlcnZpY2UuZXhlY3V0ZVF1ZXJ5KS5cbiAqIEBwYXJhbSB7b2JqZWN0fSBxdWVyeU9wdGlvbnMgSW5pdGlhbGl6YXRpb24gcGFyYW1ldGVycy5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3F1ZXJ5T3B0aW9ucy5mb3JjZT1mYWxzZV0gSWdub3JlIGNhY2hlZCBkYXRhIGFuZCBmb3JjZSBzZXJ2ZXIgcXVlcnkuXG4gKiBAcGFyYW0ge251bWJlcn0gW3F1ZXJ5T3B0aW9ucy5saXN0SXRlbUlEXSBPcHRpb25hbGx5IHJlcXVlc3QgZm9yIGEgc2luZ2xlIGxpc3QgaXRlbSBieSBpZC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3F1ZXJ5T3B0aW9ucy5sb2NhbFN0b3JhZ2U9ZmFsc2VdIFNob3VsZCB3ZSBzdG9yZSBkYXRhIGZyb20gdGhpcyBxdWVyeSBpbiBsb2NhbCBzdG9yYWdlIHRvIHNwZWVkIHVwIHJlcXVlc3RzIGluIHRoZSBmdXR1cmUuXG4gKiBAcGFyYW0ge251bWJlcn0gW3F1ZXJ5T3B0aW9ucy5sb2NhbFN0b3JhZ2VFeHBpcmF0aW9uPTg2NDAwMDAwXSBTZXQgZXhwaXJhdGlvbiBpbiBtaWxsaXNlY29uZHMgLSBEZWZhdWx0cyB0byBhIGRheVxuICogYW5kIGlmIHNldCB0byAwIGRvZXNuJ3QgZXhwaXJlLiAgQ2FuIGJlIHVwZGF0ZWQgZ2xvYmFsbHkgdXNpbmcgYXBDb25maWcubG9jYWxTdG9yYWdlRXhwaXJhdGlvbi5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbcXVlcnlPcHRpb25zLm5hbWU9cHJpbWFyeV0gVGhlIG5hbWUgdGhhdCB3ZSB1c2UgdG8gaWRlbnRpZnkgdGhpcyBxdWVyeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbcXVlcnlPcHRpb25zLm9wZXJhdGlvbj1HZXRMaXN0SXRlbUNoYW5nZXNTaW5jZVRva2VuXSBPcHRpb25hbGx5IHVzZSAnR2V0TGlzdEl0ZW1zJyB0b1xuICogcmVjZWl2ZSBhIG1vcmUgZWZmaWNpZW50IHJlc3BvbnNlLCBqdXN0IGRvbid0IGhhdmUgdGhlIGFiaWxpdHkgdG8gY2hlY2sgZm9yIGNoYW5nZXMgc2luY2UgdGhlIGxhc3QgdGltZVxuICogdGhlIHF1ZXJ5IHdhcyBjYWxsZWQuIERlZmF1bHRzIHRvIFtHZXRMaXN0SXRlbUNoYW5nZXNTaW5jZVRva2VuXShodHRwOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvbGlzdHMubGlzdHMuZ2V0bGlzdGl0ZW1jaGFuZ2Vzc2luY2V0b2tlbiUyOHY9b2ZmaWNlLjEyJTI5LmFzcHgpXG4gKiBidXQgZm9yIGEgc21hbGxlciBwYXlsb2FkIGFuZCBmYXN0ZXIgcmVzcG9uc2UgeW91IGNhbiB1c2UgW0dldExpc3RJdGVtc10oaHR0cDogLy9zcHNlcnZpY2VzLmNvZGVwbGV4LmNvbS93aWtpcGFnZT90aXRsZT1HZXRMaXN0SXRlbXMmcmVmZXJyaW5nVGl0bGU9TGlzdHMpLlxuICogQHBhcmFtIHtzdHJpbmd9IFtxdWVyeU9wdGlvbnMucXVlcnk9T3JkZXJlZCBhc2NlbmRpbmcgYnkgSURdIENBTUwgcXVlcnkgcGFzc2VkIHRvIFNoYXJlUG9pbnQgdG8gY29udHJvbFxuICogdGhlIGRhdGEgU2hhcmVQb2ludCByZXR1cm5zLiBKb3NoIE1jQ2FydHkgaGFzIGEgZ29vZCBxdWljayByZWZlcmVuY2UgW2hlcmVdKGh0dHA6IC8vam9zaG1jY2FydHkuY29tLzIwMTIvMDYvYS1jYW1sLXF1ZXJ5LXF1aWNrLXJlZmVyZW5jZSkuXG4gKiBAcGFyYW0ge3N0cmluZ30gW3F1ZXJ5T3B0aW9ucy5xdWVyeU9wdGlvbnNdIFNoYXJlUG9pbnQgb3B0aW9ucyB4bWwgYXMgc3RyaW5nLlxuICogPHByZT5cbiAqIDxRdWVyeU9wdGlvbnM+XG4gKiAgICA8SW5jbHVkZU1hbmRhdG9yeUNvbHVtbnM+RkFMU0U8L0luY2x1ZGVNYW5kYXRvcnlDb2x1bW5zPlxuICogICAgPEluY2x1ZGVBdHRhY2htZW50VXJscz5UUlVFPC9JbmNsdWRlQXR0YWNobWVudFVybHM+XG4gKiAgICA8SW5jbHVkZUF0dGFjaG1lbnRWZXJzaW9uPkZBTFNFPC9JbmNsdWRlQXR0YWNobWVudFZlcnNpb24+XG4gKiAgICA8RXhwYW5kVXNlckZpZWxkPkZBTFNFPC9FeHBhbmRVc2VyRmllbGQ+XG4gKiA8L1F1ZXJ5T3B0aW9ucz5cbiAqIDwvcHJlPlxuICogQHBhcmFtIHtzdHJpbmd9IFtxdWVyeU9wdGlvbnMucm93TGltaXRdIFRoZSBudW1iZXIgb2YgbGlzdCBpdGVtcyB0byByZXR1cm4sIDAgcmV0dXJucyBhbGwgbGlzdCBpdGVtcy5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3F1ZXJ5T3B0aW9ucy5ydW5PbmNlXSBQZXJ0YWlucyB0byBHZXRMaXN0SXRlbXMgb25seSwgb3B0aW9uYWxseSBydW4gYSBzaW5nbGUgdGltZSBhbmQgcmV0dXJuIGluaXRpYWwgdmFsdWUgZm9yIGFsbCBmdXR1cmVcbiAqIGNhbGxzLiAgV29ya3Mgd2VsbCB3aXRoIGRhdGEgdGhhdCBpc24ndCBleHBlY3RlZCB0byBjaGFuZ2UgdGhyb3VnaG91dCB0aGUgc2Vzc2lvbiBidXQgdW5saWtlIGxvY2FsU3RvcmFnZSBvciBzZXNzaW9uU3RvcmFnZVxuICogdGhlIGRhdGEgZG9lc24ndCBwZXJzaXN0IGJldHdlZW4gc2Vzc2lvbnMuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtxdWVyeU9wdGlvbnMuc2Vzc2lvblN0b3JhZ2U9ZmFsc2VdIFVzZSB0aGUgYnJvd3NlcnMgc2Vzc2lvblN0b3JhZ2UgdG8gY2FjaGUgdGhlIGxpc3QgaXRlbXMgYW5kIHVzZXMgdGhlXG4gKiBxdWVyeU9wdGlvbnMubG9jYWxTdG9yYWdlRXhwaXJhdGlvbiBwYXJhbSB0byB2YWxpZGF0ZSBob3cgbG9uZyB0aGUgY2FjaGUgaXMgZ29vZCBmb3IuXG4gKiBAcGFyYW0ge3N0cmluZ30gW3F1ZXJ5T3B0aW9ucy52aWV3RmllbGRzXSBYTUwgYXMgc3RyaW5nIHRoYXQgc3BlY2lmaWVzIGZpZWxkcyB0byByZXR1cm4uXG4gKiBAcGFyYW0ge3N0cmluZ30gW3F1ZXJ5T3B0aW9ucy53ZWJVUkxdIFVzZWQgdG8gb3ZlcnJpZGUgdGhlIGRlZmF1bHQgVVJMIGlmIGxpc3QgaXMgbG9jYXRlZCBzb21ld2hlcmUgZWxzZS5cbiAqIEBwYXJhbSB7b2JqZWN0fSBtb2RlbCBSZWZlcmVuY2UgdG8gdGhlIHBhcmVudCBtb2RlbCBmb3IgdGhlIHF1ZXJ5LiAgQWxsb3dzIHVzIHRvIHJlZmVyZW5jZSB3aGVuIG91dCBvZlxuICogc2NvcGUuXG4gKiBAZXhhbXBsZVxuICogPHByZT5cbiAqIC8vIFF1ZXJ5IHRvIHJldHJpZXZlIHRoZSBtb3N0IHJlY2VudCAyNSBtb2RpZmljYXRpb25zXG4gKiBtb2RlbC5yZWdpc3RlclF1ZXJ5KHtcbiAgICAgKiAgICBuYW1lOiAncmVjZW50Q2hhbmdlcycsXG4gICAgICogICAgcm93TGltaXQ6IDI1LFxuICAgICAqICAgIHF1ZXJ5OiAnJyArXG4gICAgICogICAgICAgICc8UXVlcnk+JyArXG4gICAgICogICAgICAgICcgICA8T3JkZXJCeT4nICtcbiAgICAgKiAgICAgICAgJyAgICAgICA8RmllbGRSZWYgTmFtZT1cIk1vZGlmaWVkXCIgQXNjZW5kaW5nPVwiRkFMU0VcIi8+JyArXG4gICAgICogICAgICAgICcgICA8L09yZGVyQnk+JyArXG4gICAgICogICAgICAgICAgICAvLyBQcmV2ZW50cyBhbnkgcmVjb3JkcyBmcm9tIGJlaW5nIHJldHVybmVkIGlmIHVzZXJcbiAgICAgKiAgICAgICAgICAgIC8vIGRvZXNuJ3QgaGF2ZSBwZXJtaXNzaW9ucyBvbiBwcm9qZWN0XG4gICAgICogICAgICAgICcgICA8V2hlcmU+JyArXG4gICAgICogICAgICAgICcgICAgICAgPElzTm90TnVsbD4nICtcbiAgICAgKiAgICAgICAgJyAgICAgICAgICAgPEZpZWxkUmVmIE5hbWU9XCJQcm9qZWN0XCIvPicgK1xuICAgICAqICAgICAgICAnICAgICAgIDwvSXNOb3ROdWxsPicgK1xuICAgICAqICAgICAgICAnICAgPC9XaGVyZT4nICtcbiAgICAgKiAgICAgICAgJzwvUXVlcnk+J1xuICAgICAqIH0pO1xuICogPC9wcmU+XG4gKi9cbmV4cG9ydCBjbGFzcyBRdWVyeTxUIGV4dGVuZHMgTGlzdEl0ZW08YW55Pj4gaW1wbGVtZW50cyBJUXVlcnk8VD4ge1xuICAgIC8qKiBWZXJ5IG1lbW9yeSBpbnRlbnNpdmUgdG8gZW5hYmxlIGNhY2hlWE1MIHdoaWNoIGlzIGRpc2FibGVkIGJ5IGRlZmF1bHQqL1xuICAgIGNhY2hlWE1MID0gZmFsc2U7XG4gICAgLyoqIFJlZmVyZW5jZSB0byB0aGUgbW9zdCByZWNlbnQgcXVlcnkgd2hlbiBwZXJmb3JtaW5nIEdldExpc3RJdGVtQ2hhbmdlc1NpbmNlVG9rZW4gKi9cbiAgICBjaGFuZ2VUb2tlbjogc3RyaW5nO1xuICAgIGZvcmNlID0gZmFsc2U7XG4gICAgZ2V0TW9kZWw6ICgpID0+IE1vZGVsO1xuICAgIC8qKiBLZXkgdmFsdWUgaGFzaCBtYXAgd2l0aCBrZXkgYmVpbmcgdGhlIGlkIG9mIHRoZSBlbnRpdHkgKi9cbiAgICBpbmRleGVkQ2FjaGUgPSBhcEluZGV4ZWRDYWNoZUZhY3RvcnkuY3JlYXRlPFQ+KCk7XG4gICAgLyoqIFByb21pc2UgcmVzb2x2ZWQgYWZ0ZXIgZmlyc3QgdGltZSBxdWVyeSBpcyBleGVjdXRlZCAqL1xuICAgIGluaXRpYWxpemVkID0gJHEuZGVmZXIoKTtcbiAgICAvKiogRGF0ZS9UaW1lIGxhc3QgcnVuICovXG4gICAgbGFzdFJ1bjogRGF0ZTtcbiAgICBsaXN0SXRlbUlEOiBudW1iZXI7XG4gICAgbGlzdE5hbWU6IHN0cmluZztcbiAgICAvKiogU2hvdWxkIHdlIHN0b3JlIGRhdGEgZnJvbSB0aGlzIHF1ZXJ5IGluIGxvY2FsIHN0b3JhZ2UgdG8gc3BlZWQgdXAgcmVxdWVzdHMgaW4gdGhlIGZ1dHVyZSAqL1xuICAgIGxvY2FsU3RvcmFnZSA9IGZhbHNlO1xuICAgIC8qKiBTZXQgZXhwaXJhdGlvbiBpbiBtaWxsaXNlY29uZHMgLSBEZWZhdWx0cyB0byBhIGRheSBhbmQgaWYgc2V0IHRvIDAgZG9lc24ndCBleHBpcmUgKi9cbiAgICBsb2NhbFN0b3JhZ2VFeHBpcmF0aW9uID0gRU5WLmxvY2FsU3RvcmFnZUV4cGlyYXRpb247XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIC8qKiBGbGFnIHRvIHByZXZlbnQgdXMgZnJvbSBtYWtlaW5nIGNvbmN1cnJlbnQgcmVxdWVzdHMgKi9cbiAgICBuZWdvdGlhdGluZ1dpdGhTZXJ2ZXIgPSBmYWxzZTtcbiAgICAvKiogRXZlcnkgdGltZSB3ZSBydW4gd2Ugd2FudCB0byBjaGVjayB0byB1cGRhdGUgb3VyIGNhY2hlZCBkYXRhIHdpdGhcbiAgICAgKiBhbnkgY2hhbmdlcyBtYWRlIG9uIHRoZSBzZXJ2ZXIgKi9cbiAgICBvcGVyYXRpb24gPSAnR2V0TGlzdEl0ZW1DaGFuZ2VzU2luY2VUb2tlbic7XG4gICAgcHJvbWlzZTogbmcuSVByb21pc2U8SW5kZXhlZENhY2hlPFQ+PjtcbiAgICAvKiogRGVmYXVsdCBxdWVyeSByZXR1cm5zIGxpc3QgaXRlbXMgaW4gYXNjZW5kaW5nIElEIG9yZGVyICovXG4gICAgcXVlcnk6IHN0cmluZyA9IGBcbiAgICAgICAgPFF1ZXJ5PlxuICAgICAgICAgICA8T3JkZXJCeT5cbiAgICAgICAgICAgICAgIDxGaWVsZFJlZiBOYW1lPVwiSURcIiBBc2NlbmRpbmc9XCJUUlVFXCIvPlxuICAgICAgICAgICA8L09yZGVyQnk+XG4gICAgICAgIDwvUXVlcnk+YDtcbiAgICBxdWVyeU9wdGlvbnMgPSBEZWZhdWx0TGlzdEl0ZW1RdWVyeU9wdGlvbnM7XG4gICAgcm93TGltaXQ6IG51bWJlcjtcbiAgICBydW5PbmNlID0gZmFsc2U7XG4gICAgc2Vzc2lvblN0b3JhZ2UgPSBmYWxzZTtcbiAgICB2aWV3RmllbGRzOiBzdHJpbmc7XG4gICAgd2ViVVJMOiBzdHJpbmcgPSBFTlYuc2l0ZTtcblxuICAgIC8qKiBIYXMgdGhpcyBxdWVyeSBiZWVuIGV4ZWN1dGVkIGF0IGxlYXN0IG9uY2UuICovXG4gICAgZ2V0IGhhc0V4ZWN1dGVkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gXy5pc0RhdGUodGhpcy5sYXN0UnVuKTtcbiAgICB9XG5cbiAgICAvKiogSXMgdGhpcyBxdWVyeSBzZXR1cCB0byB1c2UgYnJvd3NlciBzdG9yYWdlLiAqL1xuICAgIGdldCB1c2VzQnJvd3NlclN0b3JhZ2UoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvY2FsU3RvcmFnZSB8fCB0aGlzLnNlc3Npb25TdG9yYWdlO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKHF1ZXJ5T3B0aW9uczogSVF1ZXJ5T3B0aW9ucywgbW9kZWw6IE1vZGVsKSB7XG4gICAgICAgIGxldCBsaXN0ID0gbW9kZWwuZ2V0TGlzdCgpO1xuICAgICAgICAvL1VzZSB0aGUgZGVmYXVsdCB2aWV3RmllbGRzIGZyb20gdGhlIG1vZGVsXG4gICAgICAgIHRoaXMudmlld0ZpZWxkcyA9IGxpc3Qudmlld0ZpZWxkcztcbiAgICAgICAgdGhpcy5saXN0TmFtZSA9IG1vZGVsLmdldExpc3RJZCgpO1xuXG4gICAgICAgIC8vQWxsb3cgYWxsIHZhbHVlcyBvbiBxdWVyeSB0byBiZSBvdmVyd3JpdHRlbiBieSBxdWVyeU9wdGlvbnMgb2JqZWN0XG4gICAgICAgIF8uYXNzaWduKHRoaXMsIHF1ZXJ5T3B0aW9ucyk7XG5cbiAgICAgICAgLyoqIEFsbG93IHRoZSBtb2RlbCB0byBiZSByZWZlcmVuY2VkIGF0IGEgbGF0ZXIgdGltZSAqL1xuICAgICAgICB0aGlzLmdldE1vZGVsID0gKCkgPT4gbW9kZWw7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBRdWVyeS5leGVjdXRlXG4gICAgICogQG1ldGhvZE9mIFF1ZXJ5XG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogUXVlcnkgU2hhcmVQb2ludCwgcHVsbCBkb3duIGFsbCBpbml0aWFsIHJlY29yZHMgb24gZmlyc3QgY2FsbCBhbG9uZyB3aXRoIGxpc3QgZGVmaW5pdGlvbiBpZiB1c2luZ1xuICAgICAqIFwiR2V0TGlzdEl0ZW1DaGFuZ2VzU2luY2VUb2tlblwiLiAgTm90ZTogdGhpcyBpcyAgc3Vic3RhbnRpYWxseSBsYXJnZXIgdGhhbiBcIkdldExpc3RJdGVtc1wiIG9uIGZpcnN0IGNhbGwuXG4gICAgICogU3Vic2VxdWVudCBjYWxscyBwdWxscyBkb3duIGNoYW5nZXMgKEFzc3VtaW5nIG9wZXJhdGlvbjogXCJHZXRMaXN0SXRlbUNoYW5nZXNTaW5jZVRva2VuXCIpLlxuICAgICAqIEByZXR1cm5zIHtuZy5JUHJvbWlzZTxJbmRleGVkQ2FjaGU8VD4+fSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCB0aGUgY2FjaGUgZm9yIHRoaXMgcXVlcnkuXG4gICAgICovXG4gICAgZXhlY3V0ZSgpOiBuZy5JUHJvbWlzZTxJbmRleGVkQ2FjaGU8VD4+IHtcbiAgICAgICAgdmFyIHF1ZXJ5ID0gdGhpcztcbiAgICAgICAgdmFyIG1vZGVsID0gcXVlcnkuZ2V0TW9kZWwoKTtcbiAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgICAvKiogUmV0dXJuIGV4aXN0aW5nIHByb21pc2UgaWYgcmVxdWVzdCBpcyBhbHJlYWR5IHVuZGVyd2F5IG9yIGhhcyBiZWVuIHByZXZpb3VzbHkgZXhlY3V0ZWQgaW4gdGhlIHBhc3RcbiAgICAgICAgICogMS8xMHRoIG9mIGEgc2Vjb25kICovXG4gICAgICAgIGlmIChxdWVyeS5uZWdvdGlhdGluZ1dpdGhTZXJ2ZXIgfHwgKF8uaXNEYXRlKHF1ZXJ5Lmxhc3RSdW4pICYmIHF1ZXJ5Lmxhc3RSdW4uZ2V0VGltZSgpICsgRU5WLnF1ZXJ5RGVib3VuY2VUaW1lID4gbmV3IERhdGUoKS5nZXRUaW1lKCkpKSB7XG4gICAgICAgICAgICByZXR1cm4gcXVlcnkucHJvbWlzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8qKiBTZXQgZmxhZyB0byBwcmV2ZW50IGFub3RoZXIgY2FsbCB3aGlsZSB0aGlzIHF1ZXJ5IGlzIGFjdGl2ZSAqL1xuICAgICAgICAgICAgcXVlcnkubmVnb3RpYXRpbmdXaXRoU2VydmVyID0gdHJ1ZTtcblxuICAgICAgICAgICAgbGV0IGxvY2FsU3RvcmFnZURhdGE7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnVzZXNCcm93c2VyU3RvcmFnZSkge1xuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZURhdGEgPSB0aGlzLmdldExvY2FsU3RvcmFnZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvKiogQ2xlYXIgb3V0IGV4aXN0aW5nIGNhY2hlZCBsaXN0IGl0ZW1zIGlmIEdldExpc3RJdGVtcyBpcyB0aGUgc2VsZWN0ZWQgb3BlcmF0aW9uIGJlY2F1c2Ugb3RoZXJ3aXNlXG4gICAgICAgICAgICAgKiB3ZSBjb3VsZCBwb3RlbnRpYWxseSBoYXZlIHN0YWxlIGRhdGEgaWYgYSBsaXN0IGl0ZW0gbm8gbG9uZ2VyIG1lZXRzIHRoZSBxdWVyeSBwYXJhbWV0ZXJzIGJ1dCBhbHJlYWR5XG4gICAgICAgICAgICAgKiBleGlzdHMgaW4gdGhlIGNhY2hlIGZyb20gYSBwcmV2aW91cyByZXF1ZXN0LiBEb24ndCBjbGVhciB0aGUgY2FjaGUgaW4gdGhlIGNhc2Ugd2hlcmUgcnVuT25jZSBpcyBzZXQuKi9cbiAgICAgICAgICAgIGlmICh0aGlzLm9wZXJhdGlvbiA9PT0gJ0dldExpc3RJdGVtcycgJiYgIXRoaXMucnVuT25jZSkge1xuICAgICAgICAgICAgICAgIHF1ZXJ5LmdldENhY2hlKCkuY2xlYXIoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLyoqIEZsYWcgdXNlZCB0byBkZXRlcm1pbmUgaWYgd2UgbmVlZCB0byBtYWtlIGEgcmVxdWVzdCB0byB0aGUgc2VydmVyICovXG4gICAgICAgICAgICBsZXQgbWFrZVJlcXVlc3QgPSB0cnVlO1xuXG4gICAgICAgICAgICAvKiogU2VlIGlmIHdlIGFscmVhZHkgaGF2ZSBkYXRhIGluIGxvY2FsIHN0b3JhZ2UgYW5kIGh5ZHJhdGUgaWYgaXQgaGFzbid0IGV4cGlyZWQsIHdoaWNoXG4gICAgICAgICAgICAgKiB0aGVuIGFsbG93cyB1cyB0byBvbmx5IHJlcXVlc3QgdGhlIGNoYW5nZXMuICovXG4gICAgICAgICAgICBpZiAoIXF1ZXJ5LmZvcmNlICYmIGxvY2FsU3RvcmFnZURhdGEpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHRoaXMub3BlcmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ0dldExpc3RJdGVtQ2hhbmdlc1NpbmNlVG9rZW4nOlxuICAgICAgICAgICAgICAgICAgICAgICAgLy9Pbmx5IHJ1biB0aGUgZmlyc3QgdGltZSwgYWZ0ZXIgdGhhdCB0aGUgdG9rZW4vZGF0YSBhcmUgYWxyZWFkeSBpbiBzeW5jXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXF1ZXJ5Lmhhc0V4ZWN1dGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnkuaHlkcmF0ZUZyb21Mb2NhbFN0b3JhZ2UobG9jYWxTdG9yYWdlRGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnR2V0TGlzdEl0ZW1zJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5Lmh5ZHJhdGVGcm9tTG9jYWxTdG9yYWdlKGxvY2FsU3RvcmFnZURhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9Vc2UgY2FjaGVkIGRhdGEgaWYgd2UgaGF2ZSBkYXRhIGFscmVhZHkgYXZhaWxhYmxlXG4gICAgICAgICAgICAgICAgICAgICAgICBtYWtlUmVxdWVzdCA9IHRoaXMuZ2V0Q2FjaGUoKS5zaXplID09PSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLyoqIE9wdGlvbmFsbHkgaGFuZGxlIHF1ZXJ5LnJ1bk9uY2UgZm9yIEdldExpc3RJdGVtcyB3aGVuIGluaXRpYWwgY2FsbCBoYXMgYWxyZWFkeSBiZWVuIG1hZGUgKi9cbiAgICAgICAgICAgIGlmICh0aGlzLmhhc0V4ZWN1dGVkICYmIHRoaXMucnVuT25jZSkge1xuICAgICAgICAgICAgICAgIG1ha2VSZXF1ZXN0ID0gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8qKiBPbmx5IG1ha2Ugc2VydmVyIHJlcXVlc3QgaWYgbmVjZXNzYXJ5LiAqL1xuICAgICAgICAgICAgaWYgKG1ha2VSZXF1ZXN0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tYWtlUmVxdWVzdCgpXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKChyZXN1bHRzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBvc3RFeGVjdXRpb25DbGVhbnVwKHJlc3VsdHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShyZXN1bHRzKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMucG9zdEV4ZWN1dGlvbkNsZWFudXAodGhpcy5nZXRDYWNoZSgpKTtcbiAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHRoaXMuZ2V0Q2FjaGUoKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8qKiBTYXZlIHJlZmVyZW5jZSBvbiB0aGUgcXVlcnkgKiovXG4gICAgICAgICAgICBxdWVyeS5wcm9taXNlID0gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgUXVlcnkuZ2V0Q2FjaGVcbiAgICAgKiBAbWV0aG9kT2YgUXVlcnlcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBVc2UgdGhpcyB0byByZXR1cm4gdGhlIGNhY2hlIGluc3RlYWQgb2YgdXNpbmcgdGhlIGFjdHVhbCBwcm9wZXJ0eSB0byBhbGxvdyBmb3IgZnV0dXJlIHJlZmFjdG9yaW5nLlxuICAgICAqIEByZXR1cm5zIHtJbmRleGVkQ2FjaGU8VD59IEluZGV4ZWQgQ2FjaGUgY29udGFpbmluZyBhbGwgZWxlbWVudHMgaW4gcXVlcnkuXG4gICAgICovXG4gICAgZ2V0Q2FjaGUoKTogSW5kZXhlZENhY2hlPFQ+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5kZXhlZENhY2hlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIFF1ZXJ5LmdldExpc3RcbiAgICAgKiBAbWV0aG9kT2YgUXVlcnlcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBTaG9ydGN1dCB0byByZXRyaWV2ZSB0aGUgbGlzdCBkZWZpbml0aW9uIGZyb20gdGhlIG1vZGVsIHRoaXMgcXVlcnkgYmVsb25ncyB0by5cbiAgICAgKiBAcmV0dXJucyB7TGlzdH0gTGlzdCBkZWZpbml0aW9uIGZvciBtb2RlbC5cbiAgICAgKi9cbiAgICBnZXRMaXN0KCk6IExpc3Qge1xuICAgICAgICBsZXQgbW9kZWwgPSB0aGlzLmdldE1vZGVsKCk7XG4gICAgICAgIHJldHVybiBtb2RlbC5nZXRMaXN0KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgUXVlcnkuZ2V0TG9jYWxTdG9yYWdlXG4gICAgICogQG1ldGhvZE9mIFF1ZXJ5XG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogVXNlIHRoaXMgdG8gcmV0dXJuIHF1ZXJ5IGRhdGEgY3VycmVudHkgc2F2ZWQgaW4gdXNlcidzIGxvY2FsIG9yIHNlc3Npb24gc3RvcmFnZS5cbiAgICAgKiBAcmV0dXJucyB7TG9jYWxTdG9yYWdlUXVlcnl9IExvY2FsIHN0b3JhZ2UgZGF0YSBmb3IgdGhpcyBxdWVyeS5cbiAgICAgKi9cbiAgICBnZXRMb2NhbFN0b3JhZ2UoKTogTG9jYWxTdG9yYWdlUXVlcnkge1xuICAgICAgICBsZXQgcGFyc2VkUXVlcnksIGxvY2FsU3RvcmFnZUtleSA9IHRoaXMuZ2V0TG9jYWxTdG9yYWdlS2V5KCk7XG4gICAgICAgIGxldCBzdHJpbmdpZmllZFF1ZXJ5ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0obG9jYWxTdG9yYWdlS2V5KSB8fCBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKGxvY2FsU3RvcmFnZUtleSk7XG4gICAgICAgIGlmIChzdHJpbmdpZmllZFF1ZXJ5KSB7XG4gICAgICAgICAgICBwYXJzZWRRdWVyeSA9IG5ldyBMb2NhbFN0b3JhZ2VRdWVyeShsb2NhbFN0b3JhZ2VLZXksIHN0cmluZ2lmaWVkUXVlcnkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXJzZWRRdWVyeTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBRdWVyeS5oeWRyYXRlRnJvbUxvY2FsU3RvcmFnZVxuICAgICAqIEBtZXRob2RPZiBRdWVyeVxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIElmIGRhdGEgYWxyZWFkeSBleGlzdHMgaW4gYnJvd3NlciBsb2NhbCBzdG9yYWdlLCB3ZSByZWh5ZHJhdGUgSlNPTiB1c2luZyBsaXN0IGl0ZW0gY29uc3RydWN0b3IgYW5kXG4gICAgICogdGhlbiBoYXZlIHRoZSBhYmlsaXR5IHRvIGp1c3QgY2hlY2sgdGhlIHNlcnZlciB0byBzZWUgd2hhdCBoYXMgY2hhbmdlZCBmcm9tIHRoZSBjdXJyZW50IHN0YXRlLlxuICAgICAqL1xuICAgIGh5ZHJhdGVGcm9tTG9jYWxTdG9yYWdlKGxvY2FsU3RvcmFnZVF1ZXJ5OiBMb2NhbFN0b3JhZ2VRdWVyeSk6IHZvaWQge1xuICAgICAgICBpZiAobG9jYWxTdG9yYWdlUXVlcnkuaGFzRXhwaXJlZCh0aGlzLmxvY2FsU3RvcmFnZUV4cGlyYXRpb24pKSB7XG4gICAgICAgICAgICAvL0Rvbid0IGNvbnRpbnVlIGFuZCBwdXJnZSBpZiBkYXRhIGhhcyBleGNlZWRlZCBleHBpcmF0aW9uXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2VRdWVyeS5yZW1vdmVJdGVtKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBsaXN0SXRlbVByb3ZpZGVyID0gYXBEZWNvZGVTZXJ2aWNlLmNyZWF0ZUxpc3RJdGVtUHJvdmlkZXI8VD4odGhpcy5nZXRNb2RlbCgpLCB0aGlzLCB0aGlzLmdldENhY2hlKCkpO1xuICAgICAgICAgICAgY29uc3QgZmllbGREZWZpbml0aW9ucyA9IHRoaXMuZ2V0TGlzdCgpLmZpZWxkcztcblxuICAgICAgICAgICAgLy9JZGVudGlmeSBhbGwgRGF0ZVRpbWUgSlNPTiBmaWVsZHMgc28gd2UgY2FuIGNhc3QgYXMgRGF0ZSBvYmplY3RzXG4gICAgICAgICAgICBjb25zdCBkYXRlVGltZVByb3BlcnRpZXMgPSBmaWVsZERlZmluaXRpb25zXG4gICAgICAgICAgICAgICAgLmZpbHRlcihmaWVsZERlZmluaXRpb24gPT4gZmllbGREZWZpbml0aW9uLm9iamVjdFR5cGUgPT09ICdEYXRlVGltZScpXG4gICAgICAgICAgICAgICAgLm1hcChmaWVsZERlZmluaXRpb24gPT4gZmllbGREZWZpbml0aW9uLm1hcHBlZE5hbWUpO1xuXG4gICAgICAgICAgICAvL0h5ZHJhdGUgZWFjaCByYXcgbGlzdCBpdGVtIGFuZCBhZGQgdG8gY2FjaGVcbiAgICAgICAgICAgIF8uZWFjaChsb2NhbFN0b3JhZ2VRdWVyeS5pbmRleGVkQ2FjaGUsIChqc29uT2JqZWN0OiBPYmplY3QpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgaHlkcmF0ZWRPYmplY3QgPSB0aGlzLmh5ZHJhdGVKU09ORGF0ZXMoanNvbk9iamVjdCwgZGF0ZVRpbWVQcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgICAgICBsaXN0SXRlbVByb3ZpZGVyKGh5ZHJhdGVkT2JqZWN0KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvL1NldCB0aGUgbGFzdCBydW4gZGF0ZVxuICAgICAgICAgICAgdGhpcy5sYXN0UnVuID0gbG9jYWxTdG9yYWdlUXVlcnkubGFzdFJ1bjtcbiAgICAgICAgICAgIC8vU3RvcmUgdGhlIGNoYW5nZSB0b2tlblxuICAgICAgICAgICAgdGhpcy5jaGFuZ2VUb2tlbiA9IGxvY2FsU3RvcmFnZVF1ZXJ5LmNoYW5nZVRva2VuO1xuICAgICAgICAgICAgLy9SZXNvbHZlIGluaXRpYWwgcXVlcnkgcHJvbWlzZSBpbiBjYXNlIGFueSBvdGhlciBjb25jdXJyZW50IHJlcXVlc3RzIGFyZSB3YWl0aW5nIGZvciB0aGUgZGF0YVxuICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplZC5yZXNvbHZlKHRoaXMuZ2V0Q2FjaGUoKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBRdWVyeS5oeWRyYXRlSlNPTkRhdGVzXG4gICAgICogQG1ldGhvZE9mIFF1ZXJ5XG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogT2JqZWN0cyBwdWxsZWQgZnJvbSBsb2NhbCBzdG9yYWdlIGhhdmUgSlNPTiBkYXRlIHN0cmluZ3Mgc28gd2UgbmVlZCB0byBjb252ZXJ0IHRvIHJlYWwgZGF0ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gSlNPTiBvYmplY3Qgd2l0aCBkYXRlIHN0cmluZ3MgY29udmVydGVkIHRvIERhdGUgb2JqZWN0cy5cbiAgICAgKi9cbiAgICBoeWRyYXRlSlNPTkRhdGVzKGpzb25PYmplY3Q6IE9iamVjdCwgZGF0ZVRpbWVQcm9wZXJ0aWVzOiBzdHJpbmdbXSk6IE9iamVjdCB7XG4gICAgICAgIF8uZWFjaChkYXRlVGltZVByb3BlcnRpZXMsIChwcm9wOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgIGlmIChfLmlzU3RyaW5nKGpzb25PYmplY3RbcHJvcF0pKSB7XG4gICAgICAgICAgICAgICAganNvbk9iamVjdFtwcm9wXSA9IG5ldyBEYXRlKGpzb25PYmplY3RbcHJvcF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGpzb25PYmplY3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgUXVlcnkucG9zdEV4ZWN1dGlvbkNsZWFudXBcbiAgICAgKiBAbWV0aG9kT2YgUXVlcnlcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBJbnRlcm5hbCBtZXRob2QgZXhwb3NlZCB0byBhbGxvdyBmb3IgdGVzdGluZy4gIEhhbmRsZSBjbGVhbnVwIGFmdGVyIHF1ZXJ5IGV4ZWN1dGlvbiBpcyBjb21wbGV0ZS5cbiAgICAgKi9cbiAgICBwb3N0RXhlY3V0aW9uQ2xlYW51cChyZXN1bHRzOiBJbmRleGVkQ2FjaGU8VD4pIHtcbiAgICAgICAgbGV0IHF1ZXJ5ID0gdGhpcztcbiAgICAgICAgbGV0IG1vZGVsID0gcXVlcnkuZ2V0TW9kZWwoKTtcbiAgICAgICAgbGV0IGNhY2hlID0gdGhpcy5nZXRDYWNoZSgpO1xuXG4gICAgICAgIC8qKiBTZXQgZmxhZyBpZiB0aGlzIGlmIHRoZSBmaXJzdCB0aW1lIHRoaXMgcXVlcnkgaGFzIGJlZW4gcnVuICovXG4gICAgICAgIHZhciBmaXJzdFJ1blF1ZXJ5ID0gXy5pc051bGwocXVlcnkubGFzdFJ1bik7XG5cbiAgICAgICAgaWYgKGZpcnN0UnVuUXVlcnkpIHtcbiAgICAgICAgICAgIC8qKiBQcm9taXNlIHJlc29sdmVkIHRoZSBmaXJzdCB0aW1lIHF1ZXJ5IGlzIGNvbXBsZXRlZCAqL1xuICAgICAgICAgICAgcXVlcnkuaW5pdGlhbGl6ZWQucmVzb2x2ZShyZXN1bHRzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKiBTZXQgbGlzdCBwZXJtaXNzaW9ucyBpZiBub3QgYWxyZWFkeSBzZXQgKi9cbiAgICAgICAgdmFyIGxpc3QgPSBtb2RlbC5nZXRMaXN0KCk7XG4gICAgICAgIGlmICghbGlzdC5wZXJtaXNzaW9ucyAmJiByZXN1bHRzLmZpcnN0KCkpIHtcbiAgICAgICAgICAgIC8qKiBRdWVyeSBuZWVkcyB0byBoYXZlIHJldHVybmVkIGF0IGxlYXN0IDEgaXRlbSBzbyB3ZSBjYW4gdXNlIHBlcm1NYXNrICovXG4gICAgICAgICAgICBsaXN0LmV4dGVuZFBlcm1pc3Npb25zRnJvbUxpc3RJdGVtKHJlc3VsdHMuZmlyc3QoKSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKiogUmVtb3ZlIGxvY2sgdG8gYWxsb3cgZm9yIGZ1dHVyZSByZXF1ZXN0cyAqL1xuICAgICAgICBxdWVyeS5uZWdvdGlhdGluZ1dpdGhTZXJ2ZXIgPSBmYWxzZTtcblxuICAgICAgICAvKiogU3RvcmUgcXVlcnkgY29tcGxldGlvbiBkYXRlL3RpbWUgb24gbW9kZWwgdG8gYWxsb3cgdXMgdG8gaWRlbnRpZnkgYWdlIG9mIGRhdGEgKi9cbiAgICAgICAgbW9kZWwubGFzdFNlcnZlclVwZGF0ZSA9IG5ldyBEYXRlKCk7XG5cbiAgICAgICAgLyoqIE92ZXJ3cml0ZSBsb2NhbCBzdG9yYWdlIHZhbHVlIHdpdGggdXBkYXRlZCBzdGF0ZSBzbyB3ZSBjYW4gcG90ZW50aWFsbHkgcmVzdG9yZSBpblxuICAgICAgICAgKiBmdXR1cmUgc2Vzc2lvbnMuICovXG4gICAgICAgIGlmIChxdWVyeS51c2VzQnJvd3NlclN0b3JhZ2UpIHtcbiAgICAgICAgICAgIHF1ZXJ5LnNhdmVUb0xvY2FsU3RvcmFnZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgUXVlcnkuc2F2ZVRvTG9jYWxTdG9yYWdlXG4gICAgICogQG1ldGhvZE9mIFF1ZXJ5XG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU2F2ZSBhIHNuYXBzaG90IG9mIHRoZSBjdXJyZW50IHN0YXRlIHRvIGxvY2FsL3Nlc3Npb24gc3RvcmFnZSBzbyB3ZSBjYW4gc3BlZWQgdXAgY2FsbHNcbiAgICAgKiBmb3IgZGF0YSBhbHJlYWR5IHJlc2lkaW5nIG9uIHRoZSB1c2VycyBtYWNoaW5lLlxuICAgICAqL1xuICAgIHNhdmVUb0xvY2FsU3RvcmFnZSgpOiB2b2lkIHtcbiAgICAgICAgLy9Eb24ndCB1c2Ugc3RvcmFnZSB3aGVuIHJ1bm5pbmcgb2ZmbGluZVxuICAgICAgICBpZiAoIUVOVi5wcm9kdWN0aW9uKSByZXR1cm47XG5cbiAgICAgICAgbGV0IG1vZGVsID0gdGhpcy5nZXRNb2RlbCgpO1xuICAgICAgICBsZXQgc3RvcmUgPSB7XG4gICAgICAgICAgICBjaGFuZ2VUb2tlbjogdGhpcy5jaGFuZ2VUb2tlbixcbiAgICAgICAgICAgIGluZGV4ZWRDYWNoZTogdGhpcy5nZXRDYWNoZSgpLFxuICAgICAgICAgICAgbGFzdFJ1bjogdGhpcy5sYXN0UnVuXG4gICAgICAgIH1cbiAgICAgICAgbGV0IHN0cmluZ2lmaWVkUXVlcnkgPSBKU09OLnN0cmluZ2lmeShzdG9yZSk7XG4gICAgICAgIGxldCBzdG9yYWdlVHlwZSA9IHRoaXMubG9jYWxTdG9yYWdlID8gJ2xvY2FsJyA6ICdzZXNzaW9uJztcbiAgICAgICAgbGV0IGxvY2FsU3RvcmFnZUtleSA9IHRoaXMuZ2V0TG9jYWxTdG9yYWdlS2V5KCk7XG4gICAgICAgIC8vVXNlIHRyeS9jYXRjaCBpbiBjYXNlIHdlJ3ZlIGV4Y2VlZGVkIGJyb3dzZXIgc3RvcmFnZSBsaW1pdCAodHlwaWNhbGx5IDVNQilcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmxvY2FsU3RvcmFnZSkge1xuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGxvY2FsU3RvcmFnZUtleSwgc3RyaW5naWZpZWRRdWVyeSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0obG9jYWxTdG9yYWdlS2V5LCBzdHJpbmdpZmllZFF1ZXJ5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgaWYgKGUuY29kZSA9PSAyMikge1xuICAgICAgICAgICAgICAgIC8vIFN0b3JhZ2UgZnVsbCwgbWF5YmUgbm90aWZ5IHVzZXIgb3IgZG8gc29tZSBjbGVhbi11cFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXBMb2dnZXIuZGVidWcoJ0xvb2tzIGxpa2Ugd2VcXCdyZSBvdXQgb2Ygc3BhY2UgaW4gJyArIHN0b3JhZ2VUeXBlICsgJyBzdG9yYWdlLicsIHtcbiAgICAgICAgICAgICAgICBqc29uOiB7XG4gICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiB0aGlzLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIG1vZGVsOiB0aGlzLmdldE1vZGVsKCkubGlzdC50aXRsZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKHRoaXMubG9jYWxTdG9yYWdlKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLmNsZWFyKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLmNsZWFyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvL0Rpc2FibGUgc3RvcmFnZSBmb3IgcmVtYWluZGVyIG9mIHNlc3Npb24gdG8gcHJldmVudCB0aHJvd2luZyBhZGRpdGlvbmFsIGVycm9yc1xuICAgICAgICAgICAgdGhpcy5sb2NhbFN0b3JhZ2UgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvblN0b3JhZ2UgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKiBUaGV5IGtleSB3ZSB1c2UgZm9yIGxvY2FsIHN0b3JhZ2UgKi9cbiAgICBwcml2YXRlIGdldExvY2FsU3RvcmFnZUtleSgpIHtcbiAgICAgICAgdmFyIG1vZGVsID0gdGhpcy5nZXRNb2RlbCgpO1xuICAgICAgICByZXR1cm4gbW9kZWwuZ2V0TGlzdElkKCkgKyAnLnF1ZXJ5LicgKyB0aGlzLm5hbWU7XG4gICAgfVxuXG4gICAgbWFrZVJlcXVlc3QoKTogbmcuSVByb21pc2U8SW5kZXhlZENhY2hlPFQ+PiB7XG4gICAgICAgIGxldCBxdWVyeSA9IHRoaXM7XG4gICAgICAgIGxldCBtb2RlbCA9IHRoaXMuZ2V0TW9kZWwoKTtcbiAgICAgICAgbGV0IGNhY2hlID0gdGhpcy5nZXRDYWNoZSgpO1xuXG4gICAgICAgIHJldHVybiBhcERhdGFTZXJ2aWNlLnNlcnZpY2VXcmFwcGVyKHF1ZXJ5KVxuICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlWE1MKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHF1ZXJ5Lm9wZXJhdGlvbiA9PT0gJ0dldExpc3RJdGVtQ2hhbmdlc1NpbmNlVG9rZW4nKSB7XG4gICAgICAgICAgICAgICAgICAgIGFwRGF0YVNlcnZpY2UucHJvY2Vzc0NoYW5nZVRva2VuWE1MPFQ+KG1vZGVsLCBxdWVyeSwgcmVzcG9uc2VYTUwsIGNhY2hlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvKiogQ29udmVydCB0aGUgWE1MIGludG8gSlMgb2JqZWN0cyAqL1xuICAgICAgICAgICAgICAgIHZhciBlbnRpdGllcyA9IGFwRGVjb2RlU2VydmljZS5wcm9jZXNzTGlzdEl0ZW1zPFQ+KG1vZGVsLCBxdWVyeSwgcmVzcG9uc2VYTUwsIHt0YXJnZXQ6IGNhY2hlfSk7XG5cbiAgICAgICAgICAgICAgICAvKiogU2V0IGRhdGUgdGltZSB0byBhbGxvdyBmb3IgdGltZSBiYXNlZCB1cGRhdGVzICovXG4gICAgICAgICAgICAgICAgcXVlcnkubGFzdFJ1biA9IG5ldyBEYXRlKCk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gZW50aXRpZXM7XG4gICAgICAgICAgICB9KTtcblxuXG4gICAgfVxufVxuXG4vKipcbiAqIEBuZ2RvYyBvYmplY3RcbiAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcFF1ZXJ5RmFjdG9yeVxuICogQGRlc2NyaXB0aW9uXG4gKiBFeHBvc2VzIHRoZSBRdWVyeSBwcm90b3R5cGUgYW5kIGEgY29uc3RydWN0b3IgdG8gaW5zdGFudGlhdGUgYSBuZXcgUXVlcnkuXG4gKlxuICogQHJlcXVpcmVzIGFuZ3VsYXJQb2ludC5hcERhdGFTZXJ2aWNlXG4gKiBAcmVxdWlyZXMgYW5ndWxhclBvaW50LmFwQ29uZmlnXG4gKi9cbmV4cG9ydCBjbGFzcyBRdWVyeUZhY3Rvcnkge1xuICAgIFF1ZXJ5ID0gUXVlcnk7XG4gICAgc3RhdGljICRpbmplY3QgPSBbJyRxJywgJ2FwRGF0YVNlcnZpY2UnLCAnYXBEZWZhdWx0TGlzdEl0ZW1RdWVyeU9wdGlvbnMnLCAnYXBJbmRleGVkQ2FjaGVGYWN0b3J5JywgJ2FwRGVjb2RlU2VydmljZScsICdhcExvZ2dlciddO1xuXG4gICAgY29uc3RydWN0b3IoXyRxXywgX2FwRGF0YVNlcnZpY2VfLCBfYXBEZWZhdWx0TGlzdEl0ZW1RdWVyeU9wdGlvbnNfLCBfYXBJbmRleGVkQ2FjaGVGYWN0b3J5XywgX2FwRGVjb2RlU2VydmljZV8sIF9hcExvZ2dlcl8pIHtcblxuICAgICAgICAkcSA9IF8kcV87XG4gICAgICAgIGFwRGF0YVNlcnZpY2UgPSBfYXBEYXRhU2VydmljZV87XG4gICAgICAgIGFwRGVmYXVsdExpc3RJdGVtUXVlcnlPcHRpb25zID0gX2FwRGVmYXVsdExpc3RJdGVtUXVlcnlPcHRpb25zXztcbiAgICAgICAgYXBJbmRleGVkQ2FjaGVGYWN0b3J5ID0gX2FwSW5kZXhlZENhY2hlRmFjdG9yeV87XG4gICAgICAgIGFwRGVjb2RlU2VydmljZSA9IF9hcERlY29kZVNlcnZpY2VfO1xuICAgICAgICBhcExvZ2dlciA9IF9hcExvZ2dlcl87XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgYW5ndWxhclBvaW50LmFwUXVlcnlGYWN0b3J5OmNyZWF0ZVxuICAgICAqIEBtZXRob2RPZiBhbmd1bGFyUG9pbnQuYXBRdWVyeUZhY3RvcnlcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gY29uZmlnIE9wdGlvbnMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBtb2RlbCBSZWZlcmVuY2UgdG8gdGhlIG1vZGVsLlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIEluc3RhbnRpYXRlcyBhbmQgcmV0dXJucyBhIG5ldyBRdWVyeS5cbiAgICAgKi9cbiAgICBjcmVhdGU8VCBleHRlbmRzIExpc3RJdGVtPGFueT4+KGNvbmZpZywgbW9kZWwpOiBJUXVlcnk8VD4ge1xuICAgICAgICByZXR1cm4gbmV3IFF1ZXJ5PFQ+KGNvbmZpZywgbW9kZWwpO1xuICAgIH1cbn1cblxuXG5cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlciEuL3NyYy9mYWN0b3JpZXMvYXBRdWVyeUZhY3RvcnkudHMiLCJpbXBvcnQge1V0aWxpdHlTZXJ2aWNlfSBmcm9tICcuLi9zZXJ2aWNlcy9hcFV0aWxpdHlTZXJ2aWNlJztcblxubGV0IGFwVXRpbGl0eVNlcnZpY2U6IFV0aWxpdHlTZXJ2aWNlO1xuXG4vKipcbiAqIFJlcHJlc2VudHMgYSByZWZlcmVuY2UgdG8gYSBzaXRlIGNvbGxlY3Rpb24gdXNlci4gIFRoaXMgaXNcbiAqIHZlcnkgc2ltaWxhciB0byBhbiBJTG9va3VwIGV4Y2VwdCBhZGRpdGlvbmFsIHByb3BlcnRpZXNcbiAqIGNhbiBiZSBwcm92aWRlZCBpZiBzZXR1cCB0byBpbmNsdWRlIHRoZW0gaW4gdGhlIHJlcXVlc3QuXG4gKiBUaGUgc2l0ZSBjb2xsZWN0aW9uIHVzZXIgaXMgY3JlYXRlZCB0aGUgZmlyc3QgdGltZSBhIHVzZXJcbiAqIGFjY2Vzc2VzIGEgc2l0ZSBjb2xsZWN0aW9uLiAgVGhlIGRvd25zaWRlIGlzIGEgdXNlciB3aWxsIGhhdmVcbiAqIGRpZmZlcmVudCBzaXRlIGNvbGxlY3Rpb24gSUQncyBmb3IgZWFjaCBzaXRlIGNvbGxlY3Rpb24uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSVVzZXIge1xuICAgIGVtYWlsPzogc3RyaW5nO1xuICAgIGxvZ2luTmFtZT86IHN0cmluZztcbiAgICBsb29rdXBJZDogbnVtYmVyO1xuICAgIGxvb2t1cFZhbHVlOiBzdHJpbmc7XG4gICAgc2lwQWRkcmVzcz86IHN0cmluZztcbiAgICB0aXRsZT86IHN0cmluZztcbn1cblxuLyoqXG4gKiBAbmdkb2MgZnVuY3Rpb25cbiAqIEBuYW1lIFVzZXJcbiAqIEBkZXNjcmlwdGlvblxuICogQWxsb3dzIGZvciBlYXNpZXIgZGlzdGluY3Rpb24gd2hlbiBkZWJ1Z2dpbmcgaWYgb2JqZWN0IHR5cGUgaXMgc2hvd24gYXMgYSBVc2VyLiAgVHVybnMgYSBkZWxpbWl0ZWQgXCI7I1wiXG4gKiBzdHJpbmcgaW50byBhbiBvYmplY3Qgc2hvd24gYmVsb3cgZGVwZWluZGluZyBvbiBmaWVsZCBzZXR0aW5nczpcbiAqIDxwcmU+XG4gKiB7XG4gICAgICAgICAqICAgICAgbG9va3VwSWQ6IDEsXG4gICAgICAgICAqICAgICAgbG9va3VwVmFsdWU6ICdKb2UgVXNlcidcbiAgICAgICAgICogfVxuICogPC9wcmU+XG4gKiBvclxuICogPHByZT5cbiAqIHtcbiAgICAgICAgICogICAgICBsb29rdXBJZDogMSxcbiAgICAgICAgICogICAgICBsb29rdXBWYWx1ZTogJ0pvZSBVc2VyJyxcbiAgICAgICAgICogICAgICBsb2dpbk5hbWU6ICdqb2UudXNlcicsXG4gICAgICAgICAqICAgICAgZW1haWw6ICdqb2VAY29tcGFueS5jb20nLFxuICAgICAgICAgKiAgICAgIHNpcEFkZHJlc3M6ICd3aGF0ZXZlcicsXG4gICAgICAgICAqICAgICAgdGl0bGU6ICdTci4gV2lkZ2V0IE1ha2VyJ1xuICAgICAgICAgKiB9XG4gKiA8L3ByZT5cbiAqIEBwYXJhbSB7c3RyaW5nfSBzIERlbGltaXRlZCBzdHJpbmcgdXNlZCB0byBjcmVhdGUgYSBVc2VyIG9iamVjdC5cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5jbGFzcyBVc2VyIGltcGxlbWVudHMgSVVzZXIge1xuICAgIGxvb2t1cFZhbHVlOiBzdHJpbmc7XG4gICAgbG9va3VwSWQ6IG51bWJlcjtcbiAgICBsb2dpbk5hbWU6IHN0cmluZztcbiAgICBlbWFpbDogc3RyaW5nO1xuICAgIHNpcEFkZHJlc3M6IHN0cmluZztcbiAgICB0aXRsZTogc3RyaW5nO1xuXG4gICAgY29uc3RydWN0b3Ioc3RyOiBzdHJpbmcpIHtcbiAgICAgICAgbGV0IHRoaXNVc2VyID0gbmV3IGFwVXRpbGl0eVNlcnZpY2UuU3BsaXRJbmRleChzdHIpO1xuXG4gICAgICAgIGxldCB0aGlzVXNlckV4cGFuZGVkID0gdGhpc1VzZXIudmFsdWUuc3BsaXQoJywjJyk7XG4gICAgICAgIGlmICh0aGlzVXNlckV4cGFuZGVkLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgLy9TdGFuZGFyZCB1c2VyIGNvbHVtbnMgb25seSByZXR1cm4gYSBpZCwjdmFsdWUgcGFpclxuICAgICAgICAgICAgdGhpcy5sb29rdXBJZCA9IHRoaXNVc2VyLmlkO1xuICAgICAgICAgICAgdGhpcy5sb29rdXBWYWx1ZSA9IHRoaXNVc2VyLnZhbHVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy9BbGxvdyBmb3IgY2FzZSB3aGVyZSB1c2VyIGFkZHMgYWRkaXRpb25hbCBwcm9wZXJ0aWVzIHdoZW4gc2V0dGluZyB1cCBmaWVsZFxuICAgICAgICAgICAgdGhpcy5sb29rdXBJZCA9IHRoaXNVc2VyLmlkO1xuICAgICAgICAgICAgdGhpcy5sb29rdXBWYWx1ZSA9IHRoaXNVc2VyRXhwYW5kZWRbMF0ucmVwbGFjZSgvKCwsKS9nLCAnLCcpO1xuICAgICAgICAgICAgdGhpcy5sb2dpbk5hbWUgPSB0aGlzVXNlckV4cGFuZGVkWzFdLnJlcGxhY2UoLygsLCkvZywgJywnKTtcbiAgICAgICAgICAgIHRoaXMuZW1haWwgPSB0aGlzVXNlckV4cGFuZGVkWzJdLnJlcGxhY2UoLygsLCkvZywgJywnKTtcbiAgICAgICAgICAgIHRoaXMuc2lwQWRkcmVzcyA9IHRoaXNVc2VyRXhwYW5kZWRbM10ucmVwbGFjZSgvKCwsKS9nLCAnLCcpO1xuICAgICAgICAgICAgdGhpcy50aXRsZSA9IHRoaXNVc2VyRXhwYW5kZWRbNF0ucmVwbGFjZSgvKCwsKS9nLCAnLCcpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIEBuZ2RvYyBmdW5jdGlvblxuICogQG5hbWUgYW5ndWxhclBvaW50LmFwVXNlckZhY3RvcnlcbiAqIEBkZXNjcmlwdGlvblxuICogVG9vbHMgdG8gYXNzaXN0IHdpdGggdGhlIGNyZWF0aW9uIG9mIENBTUwgcXVlcmllcy5cbiAqXG4gKi9cbmV4cG9ydCBjbGFzcyBVc2VyRmFjdG9yeSB7XG4gICAgVXNlciA9IFVzZXI7XG4gICAgc3RhdGljICRpbmplY3QgPSBbJ2FwVXRpbGl0eVNlcnZpY2UnXTtcblxuICAgIGNvbnN0cnVjdG9yKF9hcFV0aWxpdHlTZXJ2aWNlXykge1xuICAgICAgICBhcFV0aWxpdHlTZXJ2aWNlID0gX2FwVXRpbGl0eVNlcnZpY2VfO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcFVzZXJGYWN0b3J5OmNyZWF0ZVxuICAgICAqIEBtZXRob2RPZiBhbmd1bGFyUG9pbnQuYXBVc2VyRmFjdG9yeVxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIEluc3RhbnRpYXRlcyBhbmQgcmV0dXJucyBhIG5ldyBVc2VyIGZpZWxkLlxuICAgICAqL1xuICAgIGNyZWF0ZShzKSB7XG4gICAgICAgIHJldHVybiBuZXcgVXNlcihzKTtcbiAgICB9XG59XG5cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlciEuL3NyYy9mYWN0b3JpZXMvYXBVc2VyRmFjdG9yeS50cyIsImltcG9ydCAqIGFzIF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCB7RGF0YVNlcnZpY2V9IGZyb20gJy4uL3NlcnZpY2VzL2FwRGF0YVNlcnZpY2UnO1xuaW1wb3J0IHtJWE1MR3JvdXAsIElYTUxVc2VyUHJvZmlsZX0gZnJvbSAnLi4vaW50ZXJmYWNlcy9pbmRleCc7XG4vKiogTG9jYWwgcmVmZXJlbmNlcyB0byBjYWNoZWQgcHJvbWlzZXMgKi9cbnZhciBfZ2V0R3JvdXBDb2xsZWN0aW9uLCBfZ2V0VXNlclByb2ZpbGU7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVVzZXJNb2RlbCB7XG4gICAgY2hlY2tJZk1lbWJlcihncm91cE5hbWU6IHN0cmluZywgZm9yY2U/OiBib29sZWFuKTogYW5ndWxhci5JUHJvbWlzZTxJWE1MR3JvdXA+O1xuICAgIGdldEdyb3VwQ29sbGVjdGlvbihmb3JjZT86IGJvb2xlYW4pOiBhbmd1bGFyLklQcm9taXNlPElYTUxHcm91cFtdPjtcbiAgICBnZXRVc2VyUHJvZmlsZShmb3JjZT86IGJvb2xlYW4pOiBuZy5JUHJvbWlzZTxJWE1MVXNlclByb2ZpbGU+O1xufVxuXG4vKipcbiAqIEBuZ2RvYyBzZXJ2aWNlXG4gKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBVc2VyTW9kZWxcbiAqIEBkZXNjcmlwdGlvblxuICogU2ltcGxlIHNlcnZpY2UgdGhhdCBhbGxvd3MgdXMgdG8gcmVxdWVzdCBhbmQgY2FjaGUgYm90aCB0aGUgY3VycmVudCB1c2VyIGFuZCB0aGVpciBncm91cCBtZW1iZXJzaGlwcy5cbiAqXG4gKiBAcmVxdWlyZXMgYXBEYXRhU2VydmljZVxuICpcbiAqL1xuZXhwb3J0IGNsYXNzIFVzZXJNb2RlbCB7XG4gICAgc3RhdGljICRpbmplY3QgPSBbJyRxJywgJ2FwRGF0YVNlcnZpY2UnXTtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgJHE6IG5nLklRU2VydmljZSwgcHJpdmF0ZSBhcERhdGFTZXJ2aWNlOiBEYXRhU2VydmljZSkge1xuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgYW5ndWxhclBvaW50LmFwVXNlck1vZGVsOmNoZWNrSWZNZW1iZXJcbiAgICAgKiBAbWV0aG9kT2YgYW5ndWxhclBvaW50LmFwVXNlck1vZGVsXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogQ2hlY2tzIHRvIHNlZSBpZiBjdXJyZW50IHVzZXIgaXMgYSBtZW1iZXIgb2YgdGhlIHNwZWNpZmllZCBncm91cC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZ3JvdXBOYW1lIE5hbWUgb2YgdGhlIGdyb3VwLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2ZvcmNlPWZhbHNlXSBJZ25vcmUgYW55IGNhY2hlZCB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSBSZXR1cm5zIHRoZSBncm91cCBkZWZpbml0aW9uIGlmIHRoZSB1c2VyIGlzIGEgbWVtYmVyLiB7SUQ6c3RyaW5nLCBOYW1lOnN0cmluZywgRGVzY3JpcHRpb246c3RyaW5nLCBPd25lcklkOnN0cmluZywgT3duZXJJc1VzZXI6c3RyaW5nfVxuICAgICAqIEBleGFtcGxlXG4gICAgICogPHByZT57SUQ6IFwiMTkwXCIsIE5hbWU6IFwiQmxvZyBDb250cmlidXRvcnNcIiwgRGVzY3JpcHRpb246IFwiV2UgYXJlIGJsb2dnZXJzLi4uXCIsIE93bmVySUQ6IFwiMTI2XCIsIE93bmVySXNVc2VyOiBcIkZhbHNlXCJ9PC9wcmU+XG4gICAgICovXG4gICAgY2hlY2tJZk1lbWJlcihncm91cE5hbWU6IHN0cmluZywgZm9yY2U6IGJvb2xlYW4gPSBmYWxzZSk6IGFuZ3VsYXIuSVByb21pc2U8SVhNTEdyb3VwPiB7XG4gICAgICAgIC8vQWxsb3cgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIGJlZm9yZSBncm91cCBjb2xsZWN0aW9uIGlzIHJlYWR5XG4gICAgICAgIHZhciBkZWZlcnJlZCA9IHRoaXMuJHEuZGVmZXIoKTtcblxuICAgICAgICAvL0luaXRpYWxseSBlbnN1cmUgZ3JvdXBzIGFyZSByZWFkeSwgYW55IGZ1dHVyZSBjYWxscyB3aWxsIHJlY2VpdmUgdGhlIHJldHVyblxuICAgICAgICB0aGlzLmdldEdyb3VwQ29sbGVjdGlvbihmb3JjZSkudGhlbigoZ3JvdXBDb2xsZWN0aW9uKSA9PiB7XG4gICAgICAgICAgICB2YXIgZ3JvdXBEZWZpbml0aW9uID0gXy5maW5kKGdyb3VwQ29sbGVjdGlvbiwge05hbWU6IGdyb3VwTmFtZX0pO1xuICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShncm91cERlZmluaXRpb24pO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBVc2VyTW9kZWw6Z2V0R3JvdXBDb2xsZWN0aW9uXG4gICAgICogQG1ldGhvZE9mIGFuZ3VsYXJQb2ludC5hcFVzZXJNb2RlbFxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFJldHVybnMgdGhlIGdyb3VwIGRlZmluaXRpb25zIGZvciB0aGUgY3VycmVudCB1c2VyIGFuZCBjYWNoZXMgcmVzdWx0cy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmb3JjZT1mYWxzZV0gSWdub3JlIGFueSBjYWNoZWQgdmFsdWUuXG4gICAgICogQHJldHVybnMge0lHcm91cERlZmluaXRpb25bXX0gUHJvbWlzZSB3aGljaCByZXNvbHZlcyB3aXRoIHRoZSBhcnJheSBvZiBncm91cHMgdGhlIHVzZXIgYmVsb25ncyB0by5cbiAgICAgKi9cbiAgICBnZXRHcm91cENvbGxlY3Rpb24oZm9yY2U6IGJvb2xlYW4gPSBmYWxzZSk6IGFuZ3VsYXIuSVByb21pc2U8SVhNTEdyb3VwW10+IHtcbiAgICAgICAgaWYgKCFfZ2V0R3JvdXBDb2xsZWN0aW9uIHx8IGZvcmNlKSB7XG4gICAgICAgICAgICAvKiogQ3JlYXRlIGEgbmV3IGRlZmVycmVkIG9iamVjdCBpZiBub3QgYWxyZWFkeSBkZWZpbmVkICovXG4gICAgICAgICAgICB2YXIgZGVmZXJyZWQgPSB0aGlzLiRxLmRlZmVyKCk7XG4gICAgICAgICAgICB0aGlzLmdldFVzZXJQcm9maWxlKGZvcmNlKS50aGVuKCh1c2VyUHJvZmlsZSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuYXBEYXRhU2VydmljZS5nZXRHcm91cENvbGxlY3Rpb25Gcm9tVXNlcih1c2VyUHJvZmlsZS51c2VyTG9naW5OYW1lKVxuICAgICAgICAgICAgICAgICAgICAudGhlbigoZ3JvdXBDb2xsZWN0aW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGdyb3VwQ29sbGVjdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBfZ2V0R3JvdXBDb2xsZWN0aW9uID0gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX2dldEdyb3VwQ29sbGVjdGlvbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBVc2VyTW9kZWw6Z2V0VXNlclByb2ZpbGVcbiAgICAgKiBAbWV0aG9kT2YgYW5ndWxhclBvaW50LmFwVXNlck1vZGVsXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogUmV0dXJucyB0aGUgdXNlciBwcm9maWxlIGZvciB0aGUgY3VycmVudCB1c2VyIGFuZCBjYWNoZXMgcmVzdWx0cy5cbiAgICAgKiBQdWxsIHVzZXIgcHJvZmlsZSBpbmZvIGFuZCBwYXJzZSBpbnRvIGEgcHJvZmlsZSBvYmplY3RcbiAgICAgKiBodHRwOi8vc3BzZXJ2aWNlcy5jb2RlcGxleC5jb20vd2lraXBhZ2U/dGl0bGU9R2V0VXNlclByb2ZpbGVCeU5hbWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmb3JjZT1mYWxzZV0gSWdub3JlIGFueSBjYWNoZWQgdmFsdWUuXG4gICAgICogQHJldHVybnMge29iamVjdH0gUHJvbWlzZSB3aGljaCByZXNvbHZlcyB3aXRoIHRoZSByZXF1ZXN0ZWQgdXNlciBwcm9maWxlLlxuICAgICAqL1xuICAgIGdldFVzZXJQcm9maWxlKGZvcmNlOiBib29sZWFuID0gZmFsc2UpOiBuZy5JUHJvbWlzZTxJWE1MVXNlclByb2ZpbGU+IHtcbiAgICAgICAgaWYgKCFfZ2V0VXNlclByb2ZpbGUgfHwgZm9yY2UpIHtcbiAgICAgICAgICAgIC8qKiBDcmVhdGUgYSBuZXcgZGVmZXJyZWQgb2JqZWN0IGlmIG5vdCBhbHJlYWR5IGRlZmluZWQgKi9cbiAgICAgICAgICAgIF9nZXRVc2VyUHJvZmlsZSA9IHRoaXMuYXBEYXRhU2VydmljZS5nZXRVc2VyUHJvZmlsZUJ5TmFtZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfZ2V0VXNlclByb2ZpbGU7XG4gICAgfVxuXG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXIhLi9zcmMvbW9kZWxzL2FwVXNlck1vZGVsLnRzIiwiaW1wb3J0ICogYXMgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IHtMaXN0SXRlbX0gZnJvbSAnLi4vZmFjdG9yaWVzL2FwTGlzdEl0ZW1GYWN0b3J5JztcbmltcG9ydCB7SW5kZXhlZENhY2hlLCBJbmRleGVkQ2FjaGVGYWN0b3J5fSBmcm9tICcuLi9mYWN0b3JpZXMvYXBJbmRleGVkQ2FjaGVGYWN0b3J5JztcbmltcG9ydCB7TW9kZWx9IGZyb20gJy4uL2ZhY3Rvcmllcy9hcE1vZGVsRmFjdG9yeSc7XG5pbXBvcnQge0lRdWVyeX0gZnJvbSAnLi4vZmFjdG9yaWVzL2FwUXVlcnlGYWN0b3J5JztcbmltcG9ydCB7aXNHdWlkfSBmcm9tICcuL2FwVXRpbGl0eVNlcnZpY2UnO1xuXG5leHBvcnQgaW50ZXJmYWNlIElDYWNoZVNlcnZpY2Uge1xuICAgIGRlbGV0ZUVudGl0eShsaXN0SWQ6IHN0cmluZywgZW50aXR5SWQ6IG51bWJlcik6IHZvaWQ7XG4gICAgZ2V0Q2FjaGVkRW50aXRpZXM8VCBleHRlbmRzIExpc3RJdGVtPGFueT4+KGxpc3RJZDogc3RyaW5nKTogSW5kZXhlZENhY2hlPFQ+O1xuICAgIGdldENhY2hlZEVudGl0eTxUIGV4dGVuZHMgTGlzdEl0ZW08YW55Pj4obGlzdElkOiBzdHJpbmcsIGVudGl0eUlkOiBudW1iZXIpOiBUO1xuICAgIGdldEVudGl0eTxUIGV4dGVuZHMgTGlzdEl0ZW08YW55Pj4obGlzdElkOiBzdHJpbmcsIGVudGl0eUlkOiBudW1iZXIpOiBuZy5JUHJvbWlzZTxUPjtcbiAgICBnZXRMaXN0SWQoa2V5U3RyaW5nOiBzdHJpbmcpOiBzdHJpbmc7XG4gICAgZ2V0TGlzdElkRnJvbUxpc3ROYW1lKG5hbWU6IHN0cmluZyk6IHN0cmluZztcbiAgICBnZXRNb2RlbChsaXN0SWQ6IHN0cmluZyk6IE1vZGVsO1xuICAgIGdldE1vZGVsQ2FjaGUobGlzdElkOiBzdHJpbmcpOiBNb2RlbENhY2hlO1xuICAgIHJlZ2lzdGVyRW50aXR5PFQgZXh0ZW5kcyBMaXN0SXRlbTxhbnk+PihlbnRpdHk6IFQsIHRhcmdldENhY2hlPzogSW5kZXhlZENhY2hlPFQ+KTogVDtcbiAgICByZWdpc3Rlck1vZGVsKG1vZGVsOiBNb2RlbCk6IHZvaWQ7XG4gICAgcmVtb3ZlRW50aXR5QnlJZChsaXN0SWQ6IHN0cmluZywgZW50aXR5SWQ6IG51bWJlcik6IHZvaWQ7XG59XG5sZXQgc2VydmljZTogQ2FjaGVTZXJ2aWNlLCAkcTogbmcuSVFTZXJ2aWNlLCAkbG9nOiBuZy5JTG9nU2VydmljZSwgYXBJbmRleGVkQ2FjaGVGYWN0b3J5OiBJbmRleGVkQ2FjaGVGYWN0b3J5O1xuXG4vKipcbiAqIEBkZXNjcmlwdGlvbiBTdG9yZXMgbGlzdCBuYW1lcyB3aGVuIGEgbmV3IG1vZGVsIGlzIHJlZ2lzdGVyZWQgYWxvbmcgd2l0aCB0aGUgR1VJRCB0byBhbGxvdyB1cyB0b1xuICogICAgIHJldHJpZXZlIHRoZSBHVUlEIGluIGZ1dHVyZVxuICogQGV4YW1wbGVcbiAqIDxwcmU+XG4gKiAgICAgbGlzdE5hbWVUb0lkTWFwID0ge1xuICAgICAgICAgKiAgICAgICAgICBsaXN0MU5hbWU6IHtcbiAgICAgICAgICogICAgICAgICAgICAgIG1vZGVsOiBsaXN0MU1vZGVsLFxuICAgICAgICAgKiAgICAgICAgICAgICAgbGlzdElkOiBsaXN0MUdVSURcbiAgICAgICAgICogICAgICAgICAgfSxcbiAgICAgICAgICogICAgICAgICAgbGlzdDJOYW1lOiB7XG4gICAgICAgICAqICAgICAgICAgICAgICBtb2RlbDogbGlzdDJNb2RlbCxcbiAgICAgICAgICogICAgICAgICAgICAgIGxpc3RJZDogbGlzdDJHVUlEXG4gICAgICAgICAqICAgICAgICAgIH1cbiAgICAgICAgICogICAgICAgICAgLi4uXG4gICAgICAgICAqICAgICB9XG4gKiA8L3ByZT5cbiAqL1xubGV0IGxpc3ROYW1lVG9JZE1hcCA9IHt9LFxuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIFN0b3JlcyBsaXN0IEdVSUQgd2hlbiBhIG5ldyBtb2RlbCBpcyByZWdpc3RlcmVkIHdpdGggYSByZWZlcmVuY2UgdG8gdGhlIG1vZGVsIGZvclxuICAgICAqICAgICBmdXR1cmUgcmVmZXJlbmNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogPHByZT5cbiAgICAgKiAgICAgbGlzdHNNYXBwZWRCeUxpc3RJZCA9IHtcbiAgICAgICAgICogICAgICAgICAgbGlzdDFHVUlEOiB7XG4gICAgICAgICAqICAgICAgICAgICAgICBtb2RlbDogbGlzdDFNb2RlbFxuICAgICAgICAgKiAgICAgICAgICB9LFxuICAgICAgICAgKiAgICAgICAgICBsaXN0MkdVSUQ6IHtcbiAgICAgICAgICogICAgICAgICAgICAgIG1vZGVsOiBsaXN0Mk1vZGVsXG4gICAgICAgICAqICAgICAgICAgIH1cbiAgICAgICAgICogICAgICAgICAgLi4uXG4gICAgICAgICAqICAgICB9XG4gICAgICogPC9wcmU+XG4gICAgICovXG4gICAgbGlzdHNNYXBwZWRCeUxpc3RJZCA9IHt9LFxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBUaGUgTWFpbiBjYWNoZSBvYmplY3Qgd2hpY2ggc3RvcmVzIE1vZGVsQ2FjaGUgb2JqZWN0cy4gIEtleXMgYmVpbmcgdGhlIG1vZGVsIEdVSUQgYW5kXG4gICAgICogICAgIHZhbHVlIGJlaW5nIGFuIGEgTW9kZWxDYWNoZSBvYmplY3RcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIDxwcmU+XG4gICAgICogICAgIGVudGl0eUNhY2hlID0ge1xuICAgICAgICAgKiAgICAgICAgICBsaXN0MUdVSUQ6IHtcbiAgICAgICAgICogICAgICAgICAgICAgIGl0ZW0xSUQ6IHsgLy9Fbml0eUNhY2hlIGZvciBlbnRpdHkgMVxuICAgICAgICAgKiAgICAgICAgICAgICAgICAgIGFzc29jaWF0aW9uUXVldWU6IFtdLFxuICAgICAgICAgKiAgICAgICAgICAgICAgICAgIHVwZGF0ZUNvdW50OiAzLFxuICAgICAgICAgKiAgICAgICAgICAgICAgICAgIGxpc3RJZDogbGlzdDFHVUlELFxuICAgICAgICAgKiAgICAgICAgICAgICAgICAgIGVudGl0eUlkOiBpdGVtMUlELFxuICAgICAgICAgKiAgICAgICAgICAgICAgICAgIGVudGl0eUxvY2F0aW9uczogW10sXG4gICAgICAgICAqICAgICAgICAgICAgICAgICAgZW50aXR5OiB7fSAvL1RoaXMgaXMgd2hlcmUgdGhlIGFjdHVhbCBlbnRpdHkgaXMgcmVmZXJlbmNlZFxuICAgICAgICAgKiAgICAgICAgICAgICAgfVxuICAgICAgICAgKiAgICAgICAgICAgICAgaXRlbTJJRDogeyAvL0VuaXR5Q2FjaGUgZm9yIGVudGl0eSAyXG4gICAgICAgICAqICAgICAgICAgICAgICAgICAgLi4uXG4gICAgICAgICAqICAgICAgICAgICAgICB9XG4gICAgICAgICAqICAgICAgICAgIH0sXG4gICAgICAgICAqICAgICAgICAgIGxpc3QyR1VJRDoge1xuICAgICAgICAgKiAgICAgICAgICAgICAgaXRlbTFJRDogLi4uXG4gICAgICAgICAqICAgICAgICAgIH1cbiAgICAgICAgICogICAgICAgICAgLi4uXG4gICAgICAgICAqICAgICB9XG4gICAgICogPC9wcmU+XG4gICAgICovXG4gICAgZW50aXR5Q2FjaGUgPSB7fTtcblxuXG4vKipcbiAqIEBuYW1lIEVudGl0eUNhY2hlXG4gKiBAZGVzY3JpcHRpb25cbiAqIENhY2hlIGNvbnN0cnVjdG9yIHRoYXQgbWFpbnRhaW5zIGEgcXVldWUgb2YgYWxsIHJlcXVlc3RzIGZvciBhIGxpc3QgaXRlbSwgY291bnRlciBmb3IgdGhlIG51bWJlciBvZiB0aW1lc1xuICogdGhlIGNhY2hlIGhhcyBiZWVuIHVwZGF0ZWQsIHRpbWVzdGFtcCBvZiBsYXN0IHVwZGF0ZSwgYW5kIGFkZC91cGRhdGUvcmVtb3ZlIGZ1bmN0aW9uYWxpdHkuXG4gKiBAY29uc3RydWN0b3IgYXBDYWNoZVNlcnZpY2VcbiAqIEBwYXJhbSB7c3RyaW5nfSBsaXN0SWQgR1VJRCBmb3IgbGlzdCB0aGUgbGlzdCBpdGVtIGJlbG9uZ3MgdG8uXG4gKiBAcGFyYW0ge251bWJlcn0gZW50aXR5SWQgVGhlIGVudGl0eS5pZC5cbiAqL1xuZXhwb3J0IGNsYXNzIEVudGl0eUNvbnRhaW5lciB7XG4gICAgYXNzb2NpYXRpb25RdWV1ZSA9IFtdO1xuICAgIGVudGl0eTtcbiAgICBlbnRpdHlMb2NhdGlvbnMgPSBbXTtcbiAgICBsaXN0SWQ7XG4gICAgdXBkYXRlQ291bnQgPSAwO1xuXG4gICAgY29uc3RydWN0b3IobGlzdElkOiBzdHJpbmcsIHByaXZhdGUgZW50aXR5SWQ6IG51bWJlcikge1xuICAgICAgICB0aGlzLmxpc3RJZCA9IHNlcnZpY2UuZ2V0TGlzdElkKGxpc3RJZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5hbWUgRW50aXR5Q29udGFpbmVyLmdldEVudGl0eVxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFByb21pc2Ugd2hpY2ggcmV0dXJucyB0aGUgcmVxdWVzdGVkIGVudGl0eSBvbmNlIGl0IGhhcyBiZWVuIHJlZ2lzdGVyZWQgaW4gdGhlIGNhY2hlLlxuICAgICAqL1xuICAgIGdldEVudGl0eSgpIHtcbiAgICAgICAgbGV0IGRlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAgICAgICAgaWYgKHRoaXMuZW50aXR5KSB7XG4gICAgICAgICAgICAvKiogRW50aXR5IGFscmVhZHkgZXhpc3RzIHNvIHJlc29sdmUgaW1tZWRpYXRlbHkgKi9cbiAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUodGhpcy5lbnRpdHkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5hc3NvY2lhdGlvblF1ZXVlLnB1c2goZGVmZXJyZWQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgIH1cblxuICAgIHJlbW92ZUVudGl0eSgpIHtcbiAgICAgICAgc2VydmljZS5yZW1vdmVFbnRpdHlCeUlkKHRoaXMubGlzdElkLCB0aGlzLmVudGl0eUlkKTtcbiAgICB9XG5cbn1cblxuLyoqXG4gKiBAbmFtZSBNb2RlbENhY2hlXG4gKiBAZGVzY3JpcHRpb25cbiAqIENhY2hlIG9mIEVudGl0eSBDb250YWluZXJzIGZvciBlYWNoIHJlZ2lzdGVyZWQgZW50aXR5IHJldHJpZXZlZCBieSB0aGUgbW9kZWwuXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZXhwb3J0IGNsYXNzIE1vZGVsQ2FjaGUge1xuICAgIFtrZXk6IHN0cmluZ106IEVudGl0eUNvbnRhaW5lclxufVxuXG4vKipcbiAqIEBuZ2RvYyBzZXJ2aWNlXG4gKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBDYWNoZVNlcnZpY2VcbiAqIEBkZXNjcmlwdGlvblxuICogU3RvcmVzIGEgcmVmZXJlbmNlIGZvciBhbGwgbGlzdCBpdGVtcyBiYXNlZCBvbiBsaXN0IEdVSUQgYW5kIGxpc3QgaXRlbSBpZC4gIEFsbG93cyB1cyB0byB0aGVuIHJlZ2lzdGVyIHByb21pc2VzXG4gKiAgICAgdGhhdCByZXNvbHZlIG9uY2UgYSByZXF1ZXN0ZWQgbGlzdCBpdGVtIGlzIHJlZ2lzdGVyZWQgaW4gdGhlIGZ1dHVyZS5cbiAqL1xuZXhwb3J0IGNsYXNzIENhY2hlU2VydmljZSBpbXBsZW1lbnRzIElDYWNoZVNlcnZpY2Uge1xuICAgIHN0YXRpYyAkaW5qZWN0ID0gWyckcScsICckbG9nJywgJ2FwSW5kZXhlZENhY2hlRmFjdG9yeSddO1xuICAgIGVudGl0eUNhY2hlID0gZW50aXR5Q2FjaGU7XG5cbiAgICBjb25zdHJ1Y3RvcihfJHFfLCBfJGxvZ18sIF9hcEluZGV4ZWRDYWNoZUZhY3RvcnlfKSB7XG5cbiAgICAgICAgJHEgPSBfJHFfO1xuICAgICAgICAkbG9nID0gXyRsb2dfO1xuICAgICAgICBhcEluZGV4ZWRDYWNoZUZhY3RvcnkgPSBfYXBJbmRleGVkQ2FjaGVGYWN0b3J5XztcblxuICAgICAgICBzZXJ2aWNlID0gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBDYWNoZVNlcnZpY2U6ZGVsZXRlRW50aXR5XG4gICAgICogQG1ldGhvZE9mIGFuZ3VsYXJQb2ludC5hcENhY2hlU2VydmljZVxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIERlbGV0ZXMgYWxsIHJlZmVyZW5jZXMgdG8gYW4gZW50aXR5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsaXN0SWQgR1VJRCBmb3IgbGlzdCB0aGUgbGlzdCBpdGVtIGJlbG9uZ3MgdG8uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVudGl0eUlkIFRoZSBlbnRpdHkuaWQuXG4gICAgICovXG4gICAgZGVsZXRlRW50aXR5KGxpc3RJZDogc3RyaW5nLCBlbnRpdHlJZDogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIGxldCBlbnRpdHlUeXBlS2V5ID0gdGhpcy5nZXRMaXN0SWQobGlzdElkKTtcbiAgICAgICAgdGhpcy5yZW1vdmVFbnRpdHlCeUlkKGVudGl0eVR5cGVLZXksIGVudGl0eUlkKTtcbiAgICAgICAgbGV0IG1vZGVsID0gdGhpcy5nZXRNb2RlbChlbnRpdHlUeXBlS2V5KTtcbiAgICAgICAgXy5lYWNoKG1vZGVsLnF1ZXJpZXMsIChxdWVyeTogSVF1ZXJ5PGFueT4pID0+IHtcbiAgICAgICAgICAgIGxldCBjYWNoZSA9IHF1ZXJ5LmdldENhY2hlKCk7XG4gICAgICAgICAgICBpZiAoY2FjaGUuaGFzKGVudGl0eUlkKSkge1xuICAgICAgICAgICAgICAgIGNhY2hlLmRlbGV0ZShlbnRpdHlJZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcENhY2hlU2VydmljZTpnZXRDYWNoZWRFbnRpdGllc1xuICAgICAqIEBtZXRob2RPZiBhbmd1bGFyUG9pbnQuYXBDYWNoZVNlcnZpY2VcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBSZXR1cm5zIGFsbCBlbnRpdGllcyBmb3IgYSBnaXZlbiBtb2RlbCBhcyBhbiBpbmRleGVkIGNhY2hlIHdpdGgga2V5cyBiZWluZyB0aGUgZW50aXR5IGlkJ3MuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGxpc3RJZCBHVUlEIGZvciBsaXN0IHRoZSBsaXN0IGl0ZW0gYmVsb25ncyB0by5cbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSBJbmRleGVkIGNhY2hlIGNvbnRhaW5pbmcgYWxsIGVudGl0aWVzIGZvciBhIG1vZGVsLlxuICAgICAqL1xuICAgIGdldENhY2hlZEVudGl0aWVzPFQgZXh0ZW5kcyBMaXN0SXRlbTxhbnk+PihsaXN0SWQ6IHN0cmluZyk6IEluZGV4ZWRDYWNoZTxUPiB7XG4gICAgICAgIGxldCBtb2RlbENhY2hlID0gdGhpcy5nZXRNb2RlbENhY2hlKGxpc3RJZCksXG4gICAgICAgICAgICBhbGxFbnRpdGllcyA9IGFwSW5kZXhlZENhY2hlRmFjdG9yeS5jcmVhdGU8VD4oKTtcblxuICAgICAgICBfLmVhY2gobW9kZWxDYWNoZSwgKGVudGl0eUNvbnRhaW5lcjogRW50aXR5Q29udGFpbmVyKSA9PiB7XG4gICAgICAgICAgICBpZiAoZW50aXR5Q29udGFpbmVyLmVudGl0eSAmJiBlbnRpdHlDb250YWluZXIuZW50aXR5LmlkKSB7XG4gICAgICAgICAgICAgICAgYWxsRW50aXRpZXMuc2V0KGVudGl0eUNvbnRhaW5lci5lbnRpdHkuaWQsIGVudGl0eUNvbnRhaW5lci5lbnRpdHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGFsbEVudGl0aWVzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcENhY2hlU2VydmljZTpnZXRDYWNoZWRFbnRpdHlcbiAgICAgKiBAbWV0aG9kT2YgYW5ndWxhclBvaW50LmFwQ2FjaGVTZXJ2aWNlXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU3luY2hyb25pc2UgY2FsbCB0byByZXR1cm4gYSBjYWNoZWQgZW50aXR5O1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsaXN0SWQgR1VJRCBmb3IgbGlzdCB0aGUgbGlzdCBpdGVtIGJlbG9uZ3MgdG8uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVudGl0eUlkIFRoZSBlbnRpdHkuaWQuXG4gICAgICogQHJldHVybnMge29iamVjdH0gZW50aXR5IHx8IHVuZGVmaW5lZFxuICAgICAqL1xuICAgIGdldENhY2hlZEVudGl0eTxUIGV4dGVuZHMgTGlzdEl0ZW08YW55Pj4obGlzdElkOiBzdHJpbmcsIGVudGl0eUlkOiBudW1iZXIpOiBUIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RW50aXR5Q29udGFpbmVyKGxpc3RJZCwgZW50aXR5SWQpLmVudGl0eTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBDYWNoZVNlcnZpY2U6Z2V0RW50aXR5XG4gICAgICogQG1ldGhvZE9mIGFuZ3VsYXJQb2ludC5hcENhY2hlU2VydmljZVxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFJldHVybnMgYSBkZWZlcnJlZCBvYmplY3QgdGhhdCByZXNvbHZlcyB3aXRoIHRoZSByZXF1ZXN0ZWQgZW50aXR5IGltbWVkaWF0ZWx5IGlmIGFscmVhZHkgcHJlc2VudCBvciBhdFxuICAgICAqICAgICBzb21lIHBvaW50IGluIHRoZSBmdXR1cmUgYXNzdW1pbmcgdGhlIGVudGl0eSBpcyBldmVudHVhbGx5IHJlZ2lzdGVyZWQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGxpc3RJZCBHVUlEIGZvciBsaXN0IHRoZSBsaXN0IGl0ZW0gYmVsb25ncyB0by5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW50aXR5SWQgVGhlIGVudGl0eS5pZC5cbiAgICAgKiBAcmV0dXJucyB7cHJvbWlzZX0gZW50aXR5XG4gICAgICovXG4gICAgZ2V0RW50aXR5PFQgZXh0ZW5kcyBMaXN0SXRlbTxhbnk+PihsaXN0SWQ6IHN0cmluZywgZW50aXR5SWQ6IG51bWJlcik6IG5nLklQcm9taXNlPFQ+IHtcbiAgICAgICAgbGV0IGVudGl0eUNvbnRhaW5lciA9IHRoaXMuZ2V0RW50aXR5Q29udGFpbmVyKGxpc3RJZCwgZW50aXR5SWQpO1xuICAgICAgICByZXR1cm4gZW50aXR5Q29udGFpbmVyLmdldEVudGl0eSgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0RW50aXR5Q29udGFpbmVyKGxpc3RJZDogc3RyaW5nLCBlbnRpdHlJZDogbnVtYmVyKTogRW50aXR5Q29udGFpbmVyIHtcbiAgICAgICAgbGV0IGVudGl0eVR5cGVLZXkgPSB0aGlzLmdldExpc3RJZChsaXN0SWQpO1xuICAgICAgICBsZXQgbW9kZWxDYWNoZSA9IHRoaXMuZ2V0TW9kZWxDYWNoZShlbnRpdHlUeXBlS2V5KTtcbiAgICAgICAgLyoqIENyZWF0ZSB0aGUgb2JqZWN0IHN0cnVjdHVyZSBpZiBpdCBkb2Vzbid0IGFscmVhZHkgZXhpc3QgKi9cbiAgICAgICAgbW9kZWxDYWNoZVtlbnRpdHlJZF0gPSBtb2RlbENhY2hlW2VudGl0eUlkXSB8fCBuZXcgRW50aXR5Q29udGFpbmVyKGVudGl0eVR5cGVLZXksIGVudGl0eUlkKTtcbiAgICAgICAgcmV0dXJuIG1vZGVsQ2FjaGVbZW50aXR5SWRdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcENhY2hlU2VydmljZTpnZXRMaXN0SWRcbiAgICAgKiBAbWV0aG9kT2YgYW5ndWxhclBvaW50LmFwQ2FjaGVTZXJ2aWNlXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogQWxsb3dzIHVzIHRvIHVzZSBlaXRoZXIgdGhlIExpc3QgTmFtZSBvciB0aGUgbGlzdCBHVUlEIGFuZCByZXR1cm5zIHRoZSBsb3dlcmNhc2UgR1VJRFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXlTdHJpbmcgTGlzdCBHVUlEIG9yIG5hbWUuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gTG93ZXJjYXNlIGxpc3QgR1VJRC5cbiAgICAgKi9cbiAgICBnZXRMaXN0SWQoa2V5U3RyaW5nOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICBpZiAoaXNHdWlkKGtleVN0cmluZykpIHtcbiAgICAgICAgICAgIC8qKiBHVUlEICovXG4gICAgICAgICAgICByZXR1cm4ga2V5U3RyaW5nLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvKiogTGlzdCBUaXRsZSAqL1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TGlzdElkRnJvbUxpc3ROYW1lKGtleVN0cmluZyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBDYWNoZVNlcnZpY2U6Z2V0TGlzdElkRnJvbUxpc3ROYW1lXG4gICAgICogQG1ldGhvZE9mIGFuZ3VsYXJQb2ludC5hcENhY2hlU2VydmljZVxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIEFsbG93cyB1cyB0byBsb29rdXAgYW4gZW50aXR5IGNhY2hlIHVzaW5nIHRoZSBuYW1lIG9mIHRoZSBsaXN0IGluc3RlYWQgb2YgdGhlIEdVSUQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIG5hbWUgb2YgdGhlIGxpc3QuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gR1VJRCBmb3IgdGhlIGxpc3QuXG4gICAgICovXG4gICAgZ2V0TGlzdElkRnJvbUxpc3ROYW1lKG5hbWU6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIGxldCBndWlkO1xuICAgICAgICBpZiAobGlzdE5hbWVUb0lkTWFwW25hbWVdICYmIGxpc3ROYW1lVG9JZE1hcFtuYW1lXS5saXN0SWQpIHtcbiAgICAgICAgICAgIGd1aWQgPSBsaXN0TmFtZVRvSWRNYXBbbmFtZV0ubGlzdElkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBndWlkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcENhY2hlU2VydmljZTpnZXRNb2RlbFxuICAgICAqIEBtZXRob2RPZiBhbmd1bGFyUG9pbnQuYXBDYWNoZVNlcnZpY2VcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBBbGxvd3MgdXMgdG8gcmV0cmlldmUgYSByZWZlcmVuY2UgdG8gYSBnaXZlbiBtb2RlbCBieSBlaXRoZXIgdGhlIGxpc3QgdGl0bGUgb3IgbGlzdCBHVUlELlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsaXN0SWQgTGlzdCB0aXRsZSBvciBsaXN0IEdVSUQuXG4gICAgICogQHJldHVybnMge29iamVjdH0gQSByZWZlcmVuY2UgdG8gdGhlIHJlcXVlc3RlZCBtb2RlbC5cbiAgICAgKi9cbiAgICBnZXRNb2RlbChsaXN0SWQ6IHN0cmluZyk6IE1vZGVsIHtcbiAgICAgICAgbGV0IG1vZGVsLFxuICAgICAgICAgICAgZW50aXR5VHlwZUtleSA9IHRoaXMuZ2V0TGlzdElkKGxpc3RJZCk7XG5cbiAgICAgICAgaWYgKGxpc3RzTWFwcGVkQnlMaXN0SWRbZW50aXR5VHlwZUtleV0pIHtcbiAgICAgICAgICAgIG1vZGVsID0gbGlzdHNNYXBwZWRCeUxpc3RJZFtlbnRpdHlUeXBlS2V5XS5tb2RlbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbW9kZWw7XG4gICAgfVxuXG4gICAgLyoqIExvY2F0ZXMgdGhlIHN0b3JlZCBjYWNoZSBmb3IgYSBtb2RlbCAqL1xuICAgIGdldE1vZGVsQ2FjaGUobGlzdElkOiBzdHJpbmcpOiBNb2RlbENhY2hlIHtcbiAgICAgICAgbGV0IGVudGl0eVR5cGVLZXkgPSB0aGlzLmdldExpc3RJZChsaXN0SWQpO1xuICAgICAgICBlbnRpdHlDYWNoZVtlbnRpdHlUeXBlS2V5XSA9IGVudGl0eUNhY2hlW2VudGl0eVR5cGVLZXldIHx8IG5ldyBNb2RlbENhY2hlKCk7XG4gICAgICAgIHJldHVybiBlbnRpdHlDYWNoZVtlbnRpdHlUeXBlS2V5XTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcENhY2hlU2VydmljZTpyZWdpc3RlckVudGl0eVxuICAgICAqIEBtZXRob2RPZiBhbmd1bGFyUG9pbnQuYXBDYWNoZVNlcnZpY2VcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBSZWdpc3RlcnMgYW4gZW50aXR5IGluIHRoZSBjYWNoZSBhbmQgZnVsZmlsbHMgYW55IHBlbmRpbmcgZGVmZXJyZWQgcmVxdWVzdHMgZm9yIHRoZSBlbnRpdHkuIElmIHRoZVxuICAgICAqIGVudGl0eSBhbHJlYWR5IGV4aXN0cyBpbiB0aGUgY2FjaGUsIHdlIGV4dGVuZCB0aGUgZXhpc3Rpbmcgb2JqZWN0IHdpdGggdGhlIHVwZGF0ZWQgZW50aXR5IGFuZCByZXR1cm4gYVxuICAgICAqIHJlZmVyZW5jZSB0byB0aGlzIHVwZGF0ZWQgb2JqZWN0IHNvIHRoZSB0aGVyZSBpcyBvbmx5IGEgc2luZ2xlIGluc3RhbmNlIG9mIHRoaXMgZW50aXR5IHdpdGhpbmcgdGhlIGNhY2hlLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBlbnRpdHkgUGFzcyBpbiBhIG5ld2x5IGNyZWF0ZWQgZW50aXR5IHRvIGFkZCB0byB0aGUgY2FjaGUuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFt0YXJnZXRDYWNoZV0gT3B0aW9uYWxseSBwYXNzIGluIGEgc2Vjb25kYXJ5IGNhY2hlIHRvIGFkZCBhIHJlZmVyZW5jZSB0byB0aGlzIGVudGl0eS5cbiAgICAgKi9cbiAgICByZWdpc3RlckVudGl0eTxUIGV4dGVuZHMgTGlzdEl0ZW08YW55Pj4oZW50aXR5OiBULCB0YXJnZXRDYWNoZT86IEluZGV4ZWRDYWNoZTxUPik6IFQge1xuICAgICAgICBsZXQgbW9kZWwgPSBlbnRpdHkuZ2V0TW9kZWwoKTtcbiAgICAgICAgbGV0IGVudGl0eUNvbnRhaW5lciA9IHRoaXMuZ2V0RW50aXR5Q29udGFpbmVyKG1vZGVsLmdldExpc3RJZCgpLCBlbnRpdHkuaWQpO1xuICAgICAgICAvKiogTWFpbnRhaW4gYSBzaW5nbGUgb2JqZWN0IGluIGNhY2hlIGZvciB0aGlzIGVudGl0eSAqL1xuICAgICAgICBpZiAoIV8uaXNPYmplY3QoZW50aXR5Q29udGFpbmVyLmVudGl0eSkpIHtcbiAgICAgICAgICAgIC8qKiBFbnRpdHkgaXNuJ3QgY3VycmVudGx5IGluIHRoZSBjYWNoZSAqL1xuICAgICAgICAgICAgZW50aXR5Q29udGFpbmVyLmVudGl0eSA9IGVudGl0eTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8qKiBBbHJlYWR5IGV4aXN0cyBzbyB1cGRhdGUgdG8gbWFpbnRhaW4gYW55IG90aGVyIHJlZmVyZW5jZXMgYmVpbmcgdXNlZCBmb3IgdGhpcyBlbnRpdHkuICovXG4gICAgICAgICAgICAvL1RPRE8gTG9vayBhdCBwZXJmb3JtYW5jZSBoaXQgZnJvbSBleHRlbmRpbmcgYW5kIHNlZSBpZiBpdCB3b3VsZCBiZSBhY2NlcHRhYmxlIGp1c3QgdG8gcmVwbGFjZVxuICAgICAgICAgICAgXy5hc3NpZ24oZW50aXR5Q29udGFpbmVyLmVudGl0eSwgZW50aXR5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKiBDb3VudGVyIHRvIGtlZXAgdHJhY2sgb2YgdGhlIG51bWJlciBvZiB1cGRhdGVzIGZvciB0aGlzIGVudGl0eSAqL1xuICAgICAgICBlbnRpdHlDb250YWluZXIudXBkYXRlQ291bnQrKztcblxuICAgICAgICBpZiAoXy5pc09iamVjdCh0YXJnZXRDYWNoZSkgJiYgIV8uaXNBcnJheSh0YXJnZXRDYWNoZSkgJiYgIXRhcmdldENhY2hlW2VudGl0eS5pZF0pIHtcbiAgICAgICAgICAgIC8qKiBFbnRpdHkgaGFzbid0IGJlZW4gYWRkZWQgdG8gdGhlIHRhcmdldCBjYWNoZSB5ZXQgKi9cbiAgICAgICAgICAgIHRhcmdldENhY2hlW2VudGl0eS5pZF0gPSBlbnRpdHlDb250YWluZXIuZW50aXR5O1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqIFJlc29sdmUgYW55IHJlcXVlc3RzIGZvciB0aGlzIGVudGl0eSAqL1xuICAgICAgICBfLmVhY2goZW50aXR5Q29udGFpbmVyLmFzc29jaWF0aW9uUXVldWUsIChkZWZlcnJlZFJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGRlZmVycmVkUmVxdWVzdC5yZXNvbHZlKGVudGl0eUNvbnRhaW5lci5lbnRpdHkpO1xuICAgICAgICAgICAgLyoqIFJlbW92ZSByZXF1ZXN0IGZyb20gcXVldWUgKi9cbiAgICAgICAgICAgIGVudGl0eUNvbnRhaW5lci5hc3NvY2lhdGlvblF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBlbnRpdHlDb250YWluZXIuZW50aXR5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcENhY2hlU2VydmljZTpyZWdpc3Rlck1vZGVsXG4gICAgICogQG1ldGhvZE9mIGFuZ3VsYXJQb2ludC5hcENhY2hlU2VydmljZVxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIENyZWF0ZXMgYSBuZXcgTW9kZWxDYWNoZSBmb3IgdGhlIHByb3ZpZGUgbW9kZWwgd2hlcmUgYWxsIGxpc3QgaXRlbXMgd2lsbCBiZSBzdG9yZWQgd2l0aCB0aGUga2V5IGVxdWFsaW5nXG4gICAgICogdGhlIGVudGl0eSBpZCdzIGFuZCB2YWx1ZSBiZWluZyBhIEVudGl0eUNvbnRhaW5lci4gIFRoZSBlbnRpdHkgaXMgc3RvcmVkIGF0IEVudGl0eUNvbnRhaW5lci5lbnRpdHkuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG1vZGVsIE1vZGVsIHRvIGNyZWF0ZSB0aGUgY2FjaGUgZm9yLlxuICAgICAqL1xuICAgIHJlZ2lzdGVyTW9kZWwobW9kZWw6IE1vZGVsKTogdm9pZCB7XG4gICAgICAgIGlmIChtb2RlbC5saXN0ICYmIG1vZGVsLmdldExpc3RJZCgpICYmIG1vZGVsLmxpc3QudGl0bGUpIHtcbiAgICAgICAgICAgIGxldCBsaXN0SWQgPSBtb2RlbC5nZXRMaXN0SWQoKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgLyoqIFN0b3JlIGEgcmVmZXJlbmNlIHRvIHRoZSBtb2RlbCBieSBsaXN0IHRpdGxlICovXG4gICAgICAgICAgICBsaXN0TmFtZVRvSWRNYXBbbW9kZWwubGlzdC50aXRsZV0gPSB7XG4gICAgICAgICAgICAgICAgbW9kZWw6IG1vZGVsLFxuICAgICAgICAgICAgICAgIGxpc3RJZDogbGlzdElkXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvKiogU3RvcmUgYSByZWZlcmVuY2UgdG8gdGhlIG1vZGVsIGJ5IGxpc3QgZ3VpZCAqL1xuICAgICAgICAgICAgbGlzdHNNYXBwZWRCeUxpc3RJZFtsaXN0SWRdID0ge1xuICAgICAgICAgICAgICAgIG1vZGVsOiBtb2RlbFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcENhY2hlU2VydmljZTpyZW1vdmVFbnRpdHlCeUlkXG4gICAgICogQG1ldGhvZE9mIGFuZ3VsYXJQb2ludC5hcENhY2hlU2VydmljZVxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFJlbW92ZXMgdGhlIGVudGl0eSBmcm9tIHRoZSBsb2NhbCBlbnRpdHkgY2FjaGUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGxpc3RJZCBHVUlEIGZvciBsaXN0IHRoZSBsaXN0IGl0ZW0gYmVsb25ncyB0by5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW50aXR5SWQgVGhlIGVudGl0eS5pZC5cbiAgICAgKi9cbiAgICByZW1vdmVFbnRpdHlCeUlkKGxpc3RJZDogc3RyaW5nLCBlbnRpdHlJZDogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIGxldCBtb2RlbENhY2hlID0gdGhpcy5nZXRNb2RlbENhY2hlKGxpc3RJZCk7XG4gICAgICAgIGlmIChtb2RlbENhY2hlW2VudGl0eUlkXSkge1xuICAgICAgICAgICAgZGVsZXRlIG1vZGVsQ2FjaGVbZW50aXR5SWRdO1xuICAgICAgICB9XG4gICAgfVxuXG5cbn1cblxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyIS4vc3JjL3NlcnZpY2VzL2FwQ2FjaGVTZXJ2aWNlLnRzIiwiaW1wb3J0ICogYXMgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IHtMaXN0SXRlbX0gZnJvbSAnLi4vZmFjdG9yaWVzL2FwTGlzdEl0ZW1GYWN0b3J5JztcbmltcG9ydCB7SW5kZXhlZENhY2hlfSBmcm9tICcuLi9mYWN0b3JpZXMvYXBJbmRleGVkQ2FjaGVGYWN0b3J5JztcblxuZXhwb3J0IGludGVyZmFjZSBJVXBkYXRlT3B0aW9uczxUIGV4dGVuZHMgTGlzdEl0ZW08YW55Pj4ge1xuICAgIGJhdGNoQ21kOiBzdHJpbmc7XG4gICAgYnVpbGRWYWx1ZVBhaXJzOiBib29sZWFuO1xuICAgIElEOiBudW1iZXI7XG4gICAgbGlzdE5hbWU6IHN0cmluZztcbiAgICBvcGVyYXRpb246IHN0cmluZztcbiAgICB0YXJnZXQ6IEluZGV4ZWRDYWNoZTxUPjtcbiAgICB2YWx1ZVBhaXJzOiBzdHJpbmdbXVtdO1xuICAgIHdlYlVSTDogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElDaGFuZ2VTZXJ2aWNlQ2FsbGJhY2sge1xuICAgIChlbnRpdHk6IExpc3RJdGVtPGFueT4sIG9wdGlvbnM6IElVcGRhdGVPcHRpb25zPGFueT4sIHByb21pc2U6IG5nLklQcm9taXNlPGFueT4pOiB2b2lkXG59XG5cbi8qKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lIGFwQ2hhbmdlU2VydmljZVxuICogQGRlc2NyaXB0aW9uXG4gKiBQcmltYXJpbHkgdXNlZCBmb3IgYXBNb2NrQmFja2VuZCBzbyB3ZSBjYW4ga25vdyB3aGF0IHRvIGV4cGVjdCBiZWZvcmUgYW4gYXR0ZW1wdCB0byB1cGRhdGUgYSBsaXN0XG4gKiBpdGVtIGlzIGludGVyY2VwdGVkLlxuICovXG5leHBvcnQgY2xhc3MgQ2hhbmdlU2VydmljZSB7XG4gICAgY2FsbGJhY2tRdWV1ZTogSUNoYW5nZVNlcnZpY2VDYWxsYmFja1tdID0gW107XG5cbiAgICByZWdpc3Rlckxpc3RJdGVtVXBkYXRlPFQgZXh0ZW5kcyBMaXN0SXRlbTxhbnk+PihlbnRpdHk6IExpc3RJdGVtPFQ+LCBvcHRpb25zOiBJVXBkYXRlT3B0aW9uczxUPiwgcHJvbWlzZTogbmcuSVByb21pc2U8TGlzdEl0ZW08VD4+KSB7XG4gICAgICAgIF8uZWFjaCh0aGlzLmNhbGxiYWNrUXVldWUsIChjYWxsYmFjaykgPT4ge1xuICAgICAgICAgICAgY2FsbGJhY2soZW50aXR5LCBvcHRpb25zLCBwcm9taXNlKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc3Vic2NyaWJlVG9VcGRhdGVzKGNhbGxiYWNrOiBJQ2hhbmdlU2VydmljZUNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuY2FsbGJhY2tRdWV1ZS5wdXNoKGNhbGxiYWNrKTtcbiAgICB9XG59XG5cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlciEuL3NyYy9zZXJ2aWNlcy9hcENoYW5nZVNlcnZpY2UudHMiLCJpbXBvcnQgKiBhcyBfIGZyb20gJ2xvZGFzaCc7XG5cbmltcG9ydCB7V2ViU2VydmljZU9wZXJhdGlvbkNvbnN0YW50cyBhcyBhcFdlYlNlcnZpY2VPcGVyYXRpb25Db25zdGFudHN9IGZyb20gJy4uL2NvbnN0YW50cy9hcFdlYlNlcnZpY2VPcGVyYXRpb25Db25zdGFudHMnO1xuaW1wb3J0IHtVdGlsaXR5U2VydmljZX0gZnJvbSAnLi9hcFV0aWxpdHlTZXJ2aWNlJztcbmltcG9ydCB7Q2FjaGVTZXJ2aWNlfSBmcm9tICcuL2FwQ2FjaGVTZXJ2aWNlJztcbmltcG9ydCB7RGVjb2RlU2VydmljZX0gZnJvbSAnLi9hcERlY29kZVNlcnZpY2UnO1xuaW1wb3J0IHtFbmNvZGVTZXJ2aWNlfSBmcm9tICcuL2FwRW5jb2RlU2VydmljZSc7XG5pbXBvcnQge0ZpZWxkU2VydmljZX0gZnJvbSAnLi9hcEZpZWxkU2VydmljZSc7XG5pbXBvcnQge0luZGV4ZWRDYWNoZUZhY3RvcnksIEluZGV4ZWRDYWNoZX0gZnJvbSAnLi4vZmFjdG9yaWVzL2FwSW5kZXhlZENhY2hlRmFjdG9yeSc7XG5pbXBvcnQge0Jhc2VQZXJtaXNzaW9uT2JqZWN0LCBJVXNlclBlcm1pc3Npb25zT2JqZWN0fSBmcm9tICcuLi9jb25zdGFudHMvYXBQZXJtaXNzaW9uT2JqZWN0JztcbmltcG9ydCB7WE1MVG9KU09OU2VydmljZX0gZnJvbSAnLi9hcFhNTFRvSlNPTlNlcnZpY2UnO1xuaW1wb3J0IHtDaGFuZ2VTZXJ2aWNlfSBmcm9tICcuL2FwQ2hhbmdlU2VydmljZSc7XG5pbXBvcnQge0xvZ2dlcn0gZnJvbSAnLi9hcExvZ2dlcic7XG5pbXBvcnQge0xpc3RJdGVtfSBmcm9tICcuLi9mYWN0b3JpZXMvYXBMaXN0SXRlbUZhY3RvcnknO1xuaW1wb3J0IHtJRmllbGREZWZpbml0aW9uLCBJWE1MRmllbGREZWZpbml0aW9ufSBmcm9tICcuLi9mYWN0b3JpZXMvYXBGaWVsZEZhY3RvcnknO1xuaW1wb3J0IHtGaWVsZFZlcnNpb25Db2xsZWN0aW9ufSBmcm9tICcuLi9mYWN0b3JpZXMvYXBMaXN0SXRlbVZlcnNpb25GYWN0b3J5JztcbmltcG9ydCB7TW9kZWx9IGZyb20gJy4uL2ZhY3Rvcmllcy9hcE1vZGVsRmFjdG9yeSc7XG5pbXBvcnQge0lRdWVyeX0gZnJvbSAnLi4vZmFjdG9yaWVzL2FwUXVlcnlGYWN0b3J5JztcbmltcG9ydCB7SVdvcmtmbG93RGVmaW5pdGlvbiwgSVhNTEdyb3VwLCBJWE1MVXNlclByb2ZpbGV9IGZyb20gJy4uL2ludGVyZmFjZXMvaW5kZXgnO1xuaW1wb3J0IHtFTlZ9IGZyb20gJy4uL2FwcC5tb2R1bGUnO1xuXG5cbmxldCBzZXJ2aWNlOiBEYXRhU2VydmljZSwgJHE6IG5nLklRU2VydmljZSwgJHRpbWVvdXQ6IG5nLklUaW1lb3V0U2VydmljZSwgJGh0dHA6IG5nLklIdHRwU2VydmljZSxcbiAgICBhcFV0aWxpdHlTZXJ2aWNlOiBVdGlsaXR5U2VydmljZSwgYXBDYWNoZVNlcnZpY2U6IENhY2hlU2VydmljZSwgYXBEZWNvZGVTZXJ2aWNlOiBEZWNvZGVTZXJ2aWNlLFxuICAgIGFwRW5jb2RlU2VydmljZTogRW5jb2RlU2VydmljZSwgYXBGaWVsZFNlcnZpY2U6IEZpZWxkU2VydmljZSwgYXBJbmRleGVkQ2FjaGVGYWN0b3J5OiBJbmRleGVkQ2FjaGVGYWN0b3J5LFxuICAgIFNQU2VydmljZXMsIGFwQmFzZVBlcm1pc3Npb25PYmplY3Q6IEJhc2VQZXJtaXNzaW9uT2JqZWN0LFxuICAgIGFwWE1MVG9KU09OU2VydmljZTogWE1MVG9KU09OU2VydmljZSwgYXBDaGFuZ2VTZXJ2aWNlOiBDaGFuZ2VTZXJ2aWNlLCBhcExvZ2dlcjogTG9nZ2VyO1xuXG5leHBvcnQgaW50ZXJmYWNlIElEYXRhU2VydmljZSB7XG4gICAgY3JlYXRlSXRlbVVybEZyb21GaWxlUmVmKGZpbGVSZWZTdHJpbmc6IHN0cmluZyk6IHN0cmluZztcbiAgICBnZW5lcmF0ZVdlYlNlcnZpY2VVcmwoc2VydmljZTogc3RyaW5nLCB3ZWJVUkw/OiBzdHJpbmcpOiBuZy5JUHJvbWlzZTxzdHJpbmc+O1xuICAgIGdldEF2YWlsYWJsZVdvcmtmbG93cyhmaWxlUmVmU3RyaW5nOiBzdHJpbmcpOiBuZy5JUHJvbWlzZTxJV29ya2Zsb3dEZWZpbml0aW9uW10+O1xuICAgIGdldENvbGxlY3Rpb24ob3B0aW9uczoge29wZXJhdGlvbjogc3RyaW5nOyB1c2VyTG9naW5OYW1lPzogc3RyaW5nOyBncm91cE5hbWU/OiBzdHJpbmc7IGxpc3ROYW1lPzogc3RyaW5nOyBmaWx0ZXJOb2RlOiBzdHJpbmc7fSk6IG5nLklQcm9taXNlPE9iamVjdFtdPjtcbiAgICBnZXRDdXJyZW50U2l0ZSgpOiBuZy5JUHJvbWlzZTxzdHJpbmc+O1xuICAgIGdldEZpZWxkVmVyc2lvbkhpc3Rvcnk8VCBleHRlbmRzIExpc3RJdGVtPGFueT4+KG9wdGlvbnM6IElHZXRGaWVsZFZlcnNpb25IaXN0b3J5T3B0aW9ucywgZmllbGREZWZpbml0aW9uOiBJRmllbGREZWZpbml0aW9uKTogbmcuSVByb21pc2U8RmllbGRWZXJzaW9uQ29sbGVjdGlvbj5cbiAgICBnZXRHcm91cENvbGxlY3Rpb25Gcm9tVXNlcihsb2dpbj86IHN0cmluZyk6IG5nLklQcm9taXNlPElYTUxHcm91cFtdPjtcbiAgICBnZXRMaXN0KG9wdGlvbnM6IHtsaXN0TmFtZTogc3RyaW5nOyB3ZWJVUkw/OiBzdHJpbmd9KTogbmcuSVByb21pc2U8T2JqZWN0PjtcbiAgICBnZXRMaXN0RmllbGRzKG9wdGlvbnM6IHtsaXN0TmFtZTogc3RyaW5nOyB3ZWJVUkw/OiBzdHJpbmd9KTogbmcuSVByb21pc2U8SVhNTEZpZWxkRGVmaW5pdGlvbltdPjtcbiAgICBnZXRVc2VyUHJvZmlsZUJ5TmFtZShsb2dpbj86IHN0cmluZyk6IG5nLklQcm9taXNlPElYTUxVc2VyUHJvZmlsZT47XG4gICAgcHJvY2Vzc0NoYW5nZVRva2VuWE1MPFQgZXh0ZW5kcyBMaXN0SXRlbTxhbnk+Pihtb2RlbDogTW9kZWwsIHF1ZXJ5OiBJUXVlcnk8VD4sIHJlc3BvbnNlWE1MOiBFbGVtZW50LCBvcHRzKTogdm9pZDtcbiAgICBwcm9jZXNzRGVsZXRpb25zU2luY2VUb2tlbihyZXNwb25zZVhNTDogRWxlbWVudCwgaW5kZXhlZENhY2hlOiBJbmRleGVkQ2FjaGU8YW55Pik6IHZvaWQ7XG4gICAgcmVxdWVzdERhdGEob3B0cyk6IG5nLklQcm9taXNlPEVsZW1lbnQ+O1xuICAgIHJldHJpZXZlQ2hhbmdlVG9rZW4ocmVzcG9uc2VYTUw6IEVsZW1lbnQpOiBzdHJpbmc7XG4gICAgcmV0cmlldmVMaXN0UGVybWlzc2lvbnMocmVzcG9uc2VYTUw6IEVsZW1lbnQpOiBJVXNlclBlcm1pc3Npb25zT2JqZWN0XG4gICAgc2VydmljZVdyYXBwZXIob3B0aW9ucyk6IG5nLklQcm9taXNlPGFueT47XG4gICAgc3RhcnRXb3JrZmxvdyhvcHRpb25zOiB7aXRlbTogc3RyaW5nOyB0ZW1wbGF0ZUlkOiBzdHJpbmc7IHdvcmtmbG93UGFyYW1ldGVycz86IHN0cmluZzsgZmlsZVJlZj86IHN0cmluZzt9KTogbmcuSVByb21pc2U8YW55PjtcbiAgICB2YWxpZGF0ZUNvbGxlY3Rpb25QYXlsb2FkKG9wdHMpOiBib29sZWFuO1xufVxuXG5leHBvcnQgY2xhc3MgRGF0YVNlcnZpY2UgaW1wbGVtZW50cyBJRGF0YVNlcnZpY2Uge1xuICAgIHF1ZXJ5Rm9yQ3VycmVudFNpdGU6IG5nLklQcm9taXNlPHN0cmluZz47XG4gICAgc3RhdGljICRpbmplY3QgPSBbJyRodHRwJywgJyRxJywgJyR0aW1lb3V0JywgJ2FwQ2FjaGVTZXJ2aWNlJywgJ2FwQ2hhbmdlU2VydmljZScsICdhcERlY29kZVNlcnZpY2UnLFxuICAgICAgICAnYXBEZWZhdWx0TGlzdEl0ZW1RdWVyeU9wdGlvbnMnLCAnYXBFbmNvZGVTZXJ2aWNlJywgJ2FwRmllbGRTZXJ2aWNlJywgJ2FwSW5kZXhlZENhY2hlRmFjdG9yeScsXG4gICAgICAgICdhcFV0aWxpdHlTZXJ2aWNlJywgJ2FwV2ViU2VydmljZU9wZXJhdGlvbkNvbnN0YW50cycsICdhcFhNTFRvSlNPTlNlcnZpY2UnLCAnU1BTZXJ2aWNlcycsXG4gICAgICAgICdhcEJhc2VQZXJtaXNzaW9uT2JqZWN0JywgJ2FwTG9nZ2VyJ107XG5cbiAgICBjb25zdHJ1Y3RvcihfJGh0dHBfLCBfJHFfLCBfJHRpbWVvdXRfLCBfYXBDYWNoZVNlcnZpY2VfLCBfYXBDaGFuZ2VTZXJ2aWNlXywgX2FwRGVjb2RlU2VydmljZV8sXG4gICAgICAgICAgICAgICAgX2FwRGVmYXVsdExpc3RJdGVtUXVlcnlPcHRpb25zXywgX2FwRW5jb2RlU2VydmljZV8sIF9hcEZpZWxkU2VydmljZV8sIF9hcEluZGV4ZWRDYWNoZUZhY3RvcnlfLFxuICAgICAgICAgICAgICAgIF9hcFV0aWxpdHlTZXJ2aWNlXywgX2FwV2ViU2VydmljZU9wZXJhdGlvbkNvbnN0YW50c18sIF9hcFhNTFRvSlNPTlNlcnZpY2VfLCBfU1BTZXJ2aWNlc18sXG4gICAgICAgICAgICAgICAgX2FwQmFzZVBlcm1pc3Npb25PYmplY3RfLCBfYXBMb2dnZXJfKSB7XG4gICAgICAgIHNlcnZpY2UgPSB0aGlzO1xuXG4gICAgICAgICRodHRwID0gXyRodHRwXztcbiAgICAgICAgJHEgPSBfJHFfO1xuICAgICAgICAkdGltZW91dCA9IF8kdGltZW91dF87XG4gICAgICAgIGFwQ2FjaGVTZXJ2aWNlID0gX2FwQ2FjaGVTZXJ2aWNlXztcbiAgICAgICAgYXBDaGFuZ2VTZXJ2aWNlID0gX2FwQ2hhbmdlU2VydmljZV87XG4gICAgICAgIGFwRGVjb2RlU2VydmljZSA9IF9hcERlY29kZVNlcnZpY2VfO1xuICAgICAgICAvLyBhcERlZmF1bHRMaXN0SXRlbVF1ZXJ5T3B0aW9ucyA9IF9hcERlZmF1bHRMaXN0SXRlbVF1ZXJ5T3B0aW9uc187XG4gICAgICAgIGFwRW5jb2RlU2VydmljZSA9IF9hcEVuY29kZVNlcnZpY2VfO1xuICAgICAgICBhcEZpZWxkU2VydmljZSA9IF9hcEZpZWxkU2VydmljZV87XG4gICAgICAgIGFwSW5kZXhlZENhY2hlRmFjdG9yeSA9IF9hcEluZGV4ZWRDYWNoZUZhY3RvcnlfO1xuICAgICAgICBhcFV0aWxpdHlTZXJ2aWNlID0gX2FwVXRpbGl0eVNlcnZpY2VfO1xuICAgICAgICAvLyBhcFdlYlNlcnZpY2VPcGVyYXRpb25Db25zdGFudHMgPSBfYXBXZWJTZXJ2aWNlT3BlcmF0aW9uQ29uc3RhbnRzXztcbiAgICAgICAgYXBYTUxUb0pTT05TZXJ2aWNlID0gX2FwWE1MVG9KU09OU2VydmljZV87XG4gICAgICAgIFNQU2VydmljZXMgPSBfU1BTZXJ2aWNlc187XG4gICAgICAgIGFwQmFzZVBlcm1pc3Npb25PYmplY3QgPSBfYXBCYXNlUGVybWlzc2lvbk9iamVjdF87XG4gICAgICAgIGFwTG9nZ2VyID0gX2FwTG9nZ2VyXztcbiAgICB9XG5cbiAgICBjcmVhdGVJdGVtVXJsRnJvbUZpbGVSZWYoZmlsZVJlZlN0cmluZzogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCArICcvLycgKyB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUgKyAnLycgKyBmaWxlUmVmU3RyaW5nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIERhdGFTZXJ2aWNlLmdlbmVyYXRlV2ViU2VydmljZVVybFxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIEJ1aWxkcyB0aGUgYXBwcm9wcmlhdGUgU2hhcmVQb2ludCByZXNvdXJjZSBVUkwuICBJZiBhIFVSTCBpc24ndCBwcm92aWRlZCBhbmQgaXQgaGFzbid0IGFscmVhZHkgYmVlbiBjYWNoZWRcbiAgICAgKiB3ZSBtYWtlIGEgY2FsbCB0byB0aGUgc2VydmVyIHRvIGZpbmQgdGhlIHJvb3QgVVJMLiAgQWxsIGZ1dHVyZSByZXF1ZXN0cyB3aWxsIHRoZW4gdXNlIHRoaXMgY2FjaGVkIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzZXJ2aWNlIFRoZSBuYW1lIG9mIHRoZSBzZXJ2aWNlIHRoZSBTT0FQIG9wZXJhdGlvbiBpcyB1c2luZy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3dlYlVSTF0gT3B0aW9uYWxseSBwcm92aWRlIHRoZSBVUkwgc28gd2UgZG9uJ3QgbmVlZCB0byBtYWtlIGEgY2FsbCB0byB0aGUgc2VydmVyLlxuICAgICAqIEByZXR1cm5zIHtwcm9taXNlfSBSZXNvbHZlcyB3aXRoIHRoZSB1cmwgZm9yIHRoZSBzZXJ2aWNlLlxuICAgICAqL1xuICAgIGdlbmVyYXRlV2ViU2VydmljZVVybChzZXJ2aWNlOiBzdHJpbmcsIHdlYlVSTD86IHN0cmluZyk6IG5nLklQcm9taXNlPHN0cmluZz4ge1xuICAgICAgICBsZXQgYWpheFVSTCA9IFwiX3Z0aV9iaW4vXCIgKyBzZXJ2aWNlICsgXCIuYXNteFwiLFxuICAgICAgICAgICAgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICAgIGlmICh3ZWJVUkwpIHtcbiAgICAgICAgICAgIGFqYXhVUkwgPSB3ZWJVUkwuY2hhckF0KHdlYlVSTC5sZW5ndGggLSAxKSA9PT0gJy8nID9cbiAgICAgICAgICAgICAgICB3ZWJVUkwgKyBhamF4VVJMIDogd2ViVVJMICsgJy8nICsgYWpheFVSTDtcbiAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoYWpheFVSTCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmdldEN1cnJlbnRTaXRlKCkudGhlbigodGhpc1NpdGUpID0+IHtcbiAgICAgICAgICAgICAgICBhamF4VVJMID0gdGhpc1NpdGUgKyAoKHRoaXNTaXRlLmNoYXJBdCh0aGlzU2l0ZS5sZW5ndGggLSAxKSA9PT0gJy8nKSA/IGFqYXhVUkwgOiAoJy8nICsgYWpheFVSTCkpO1xuICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoYWpheFVSTCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBEYXRhU2VydmljZS5nZXRBdmFpbGFibGVXb3JrZmxvd3NcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBHaXZlbiBhIGxpc3QgaXRlbSBvciBkb2N1bWVudCwgcmV0dXJuIGFuIGFycmF5IG9mIGFsbCBhdmFpbGFibGUgd29ya2Zsb3dzLiAgVGhpcyBpcyB1c2VkIGluIGNvbWJpbmF0aW9uIHdpdGhcbiAgICAgKiBEYXRhU2VydmljZS5zdGFydFdvcmtmbG93IGJlY2F1c2UgaXQgcmVxdWlyZXMgdGhlIHRlbXBsYXRlIEdVSUQgZm9yIHRoZSB0YXJnZXQgd29ya2Zsb3cuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiA8cHJlPlxuICAgICAqIERhdGFTZXJ2aWNlLmdldEF2YWlsYWJsZVdvcmtmbG93cyhsaXN0SXRlbS5maWxlUmVmLmxvb2t1cFZhbHVlKVxuICAgICAqICAgICAudGhlbihmdW5jdGlvbih0ZW1wbGF0ZUFycmF5KSB7XG4gICAgICAgICAqICAgICAgICAgIC4uLi50ZW1wbGF0ZUFycmF5ID0gW3tcbiAgICAgICAgICogICAgICAgICAgICAgIFwibmFtZVwiOiBcIldpZGdldEFwcHJvdmFsXCIsXG4gICAgICAgICAqICAgICAgICAgICAgICBcImluc3RhbnRpYXRpb25VcmxcIjogXCJodHRwczogLy9zaGFyZXBvaW50Lm15Y29tcGFueS5jb20vX2xheW91dHMvSW5pV3JrZmxJUC5hc3B4P0xpc3Q9ZmMxNzg5MGUtOGMw4oCmMzExLWNlYTktNDBkMS1hMTgzLTZlZGRlOTMzMzgxNX0mV2ViPXtlYzc0NGQ4ZS1hZTBhLTQ1ZGQtYmNkMS04YTYzYjliMzk5YmR9XCIsXG4gICAgICAgICAqICAgICAgICAgICAgICBcInRlbXBsYXRlSWRcIjogXCI1OTA2MjMxMS1jZWE5LTQwZDEtYTE4My02ZWRkZTkzMzM4MTVcIlxuICAgICAgICAgKiAgICAgICAgICB9XVxuICAgICAqICAgICB9KTtcbiAgICAgKiA8L3ByZT5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZmlsZVJlZlN0cmluZyBSZWxhdGl2ZSBvciBzdGF0aWMgdXJsIHJlZmVyZW5jaW5nIHRoZSBpdGVtLlxuICAgICAqIEByZXR1cm5zIHtvYmplY3R9IFJlc29sdmVzIHdpdGggYW4gYXJyYXkgb2Ygb2JqZWN0cyBkZWZpbmluZyBlYWNoIG9mIHRoZSBhdmFpbGFibGUgd29ya2Zsb3dzIGZvciB0aGUgaXRlbS5cbiAgICAgKi9cbiAgICBnZXRBdmFpbGFibGVXb3JrZmxvd3MoZmlsZVJlZlN0cmluZzogc3RyaW5nKTogbmcuSVByb21pc2U8SVdvcmtmbG93RGVmaW5pdGlvbltdPiB7XG4gICAgICAgIC8qKiBCdWlsZCB0aGUgZnVsbCB1cmwgZm9yIHRoZSBmaWxlUmVmIGlmIG5vdCBhbHJlYWR5IHByb3ZpZGVkLiAgRmlsZVJlZiBmb3IgYW4gaXRlbSBkZWZhdWx0cyB0byBhIHJlbGF0aXZlIHVybCAqL1xuICAgICAgICBsZXQgaXRlbVVybCA9IGZpbGVSZWZTdHJpbmcuaW5kZXhPZignOiAvLycpID4gLTEgPyBmaWxlUmVmU3RyaW5nIDogdGhpcy5jcmVhdGVJdGVtVXJsRnJvbUZpbGVSZWYoZmlsZVJlZlN0cmluZyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuc2VydmljZVdyYXBwZXIoe1xuICAgICAgICAgICAgb3BlcmF0aW9uOiAnR2V0VGVtcGxhdGVzRm9ySXRlbScsXG4gICAgICAgICAgICBpdGVtOiBpdGVtVXJsXG4gICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2VYTUwpIHtcbiAgICAgICAgICAgICAgICBsZXQgd29ya2Zsb3dUZW1wbGF0ZXMgPSBbXTtcbiAgICAgICAgICAgICAgICBsZXQgeG1sVGVtcGxhdGVzID0gYXBYTUxUb0pTT05TZXJ2aWNlLmZpbHRlck5vZGVzKHJlc3BvbnNlWE1MLCAnV29ya2Zsb3dUZW1wbGF0ZScpO1xuICAgICAgICAgICAgICAgIF8uZWFjaCh4bWxUZW1wbGF0ZXMsIGZ1bmN0aW9uICh4bWxUZW1wbGF0ZTogRWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgdGVtcGxhdGUgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAkKHhtbFRlbXBsYXRlKS5hdHRyKCdOYW1lJyksXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnN0YW50aWF0aW9uVXJsOiAkKHhtbFRlbXBsYXRlKS5hdHRyKCdJbnN0YW50aWF0aW9uVXJsJyksXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZUlkOiAneycgKyAkKHhtbFRlbXBsYXRlKS5maW5kKCdXb3JrZmxvd1RlbXBsYXRlSWRTZXQnKS5hdHRyKCdUZW1wbGF0ZUlkJykgKyAnfSdcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgd29ya2Zsb3dUZW1wbGF0ZXMucHVzaCh0ZW1wbGF0ZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHdvcmtmbG93VGVtcGxhdGVzO1xuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgRGF0YVNlcnZpY2UuZ2V0Q29sbGVjdGlvblxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFVzZWQgdG8gaGFuZGxlIGFueSBvZiB0aGUgR2V0W2ZpbHRlck5vZGVdQ29sbGVjdGlvbiBjYWxscyB0byBTaGFyZVBvaW50XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIG9iamVjdCB1c2VkIHRvIGV4dGVuZCBwYXlsb2FkIGFuZCBuZWVkcyB0byBpbmNsdWRlIGFsbCBTUFNlcnZpY2VzIHJlcXVpcmVkIGF0dHJpYnV0ZXNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy5vcGVyYXRpb24gQ2FuIGJlIGFueSBvZiB0aGUgYmVsb3cgb3IgYW55IG90aGVyIHJlcXVlc3RzIGZvciBjb2xsZWN0aW9uczpcbiAgICAgKiAgLSBHZXRBdHRhY2htZW50Q29sbGVjdGlvbiBAcmVxdWlyZXMgb3B0aW9ucy5saXN0TmFtZSAmIG9wdGlvbnMuSURcbiAgICAgKiAgLSBHZXRHcm91cENvbGxlY3Rpb25Gcm9tU2l0ZVxuICAgICAqICAtIEdldEdyb3VwQ29sbGVjdGlvbkZyb21Vc2VyIEByZXF1aXJlcyBvcHRpb25zLnVzZXJMb2dpbk5hbWVcbiAgICAgKiAgLSBHZXRMaXN0Q29sbGVjdGlvblxuICAgICAqICAtIEdldFVzZXJDb2xsZWN0aW9uRnJvbUdyb3VwIEByZXF1aXJlcyBvcHRpb25zLmdyb3VwTmFtZVxuICAgICAqICAtIEdldFVzZXJDb2xsZWN0aW9uRnJvbVNpdGVcbiAgICAgKiAgLSBHZXRWaWV3Q29sbGVjdGlvbiBAcmVxdWlyZXMgb3B0aW9ucy5saXN0TmFtZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBvcHRpb25zLmZpbHRlck5vZGUgVmFsdWUgdG8gaXRlcmF0ZSBvdmVyIGluIHJldHVybmVkIFhNTFxuICAgICAqICAgICAgICAgaWYgbm90IHByb3ZpZGVkIGl0J3MgZXh0cmFjdGVkIGZyb20gdGhlIG5hbWUgb2YgdGhlIG9wZXJhdGlvblxuICAgICAqICAgICAgICAgZXg6IEdldFtVc2VyXUNvbGxlY3Rpb25Gcm9tU2l0ZSwgXCJVc2VyXCIgaXMgdXNlZCBhcyB0aGUgZmlsdGVyTm9kZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5ncm91cE5hbWVdIFZhbGlkIGZvciAnR2V0VXNlckNvbGxlY3Rpb25Gcm9tR3JvdXAnXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmxpc3ROYW1lXSBWYWxpZCBmb3IgJ0dldFZpZXdDb2xsZWN0aW9uJyBvciAnR2V0QXR0YWNobWVudENvbGxlY3Rpb24nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnVzZXJMb2dpbk5hbWVdIFZhbGlkIGZvciAnR2V0R3JvdXBDb2xsZWN0aW9uRnJvbVVzZXInXG4gICAgICogQHJldHVybnMge1Byb21pc2U8b2JqZWN0W10+fSBQcm9taXNlIHdoaWNoIHdoZW4gcmVzb2x2ZWQgd2lsbCBjb250YWluIGFuIGFycmF5IG9mIG9iamVjdHMgcmVwcmVzZW50aW5nIHRoZVxuICAgICAqIHJlcXVlc3RlZCBjb2xsZWN0aW9uLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiA8cHJlPlxuICAgICAqIERhdGFTZXJ2aWNlLmdldENvbGxlY3Rpb24oe1xuICAgICAgICAgKiAgICAgICAgb3BlcmF0aW9uOiBcIkdldEdyb3VwQ29sbGVjdGlvbkZyb21Vc2VyXCIsXG4gICAgICAgICAqICAgICAgICB1c2VyTG9naW5OYW1lOiAkc2NvcGUuc3RhdGUuc2VsZWN0ZWRVc2VyLkxvZ2luTmFtZVxuICAgICAgICAgKiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICogICAgICAgICAgICBwb3N0UHJvY2Vzc0Z1bmN0aW9uKHJlc3BvbnNlKTtcbiAgICAgICAgICogICAgICAgfSk7XG4gICAgICogPC9wcmU+XG4gICAgICovXG4gICAgZ2V0Q29sbGVjdGlvbihvcHRpb25zOiBJR2V0Q29sbGVjdGlvbk9wdGlvbnMpOiBuZy5JUHJvbWlzZTxPYmplY3RbXT4ge1xuICAgICAgICBsZXQgZGVmYXVsdHMgPSB7XG4gICAgICAgICAgICBwb3N0UHJvY2VzczogcHJvY2Vzc1hNTFxuICAgICAgICB9O1xuICAgICAgICBsZXQgb3B0czogSUdldENvbGxlY3Rpb25PcHRpb25zID0gXy5hc3NpZ24oe30sIGRlZmF1bHRzLCBvcHRpb25zKTtcblxuICAgICAgICAvKiogRGV0ZXJtaW5lIHRoZSBYTUwgbm9kZSB0byBpdGVyYXRlIG92ZXIgaWYgZmlsdGVyTm9kZSBpc24ndCBwcm92aWRlZCAqL1xuICAgICAgICBsZXQgZmlsdGVyTm9kZSA9IG9wdHMuZmlsdGVyTm9kZSB8fCBvcHRzLm9wZXJhdGlvbi5zcGxpdCgnR2V0JylbMV0uc3BsaXQoJ0NvbGxlY3Rpb24nKVswXTtcblxuICAgICAgICBsZXQgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICAgIC8qKiBDb252ZXJ0IHRoZSB4bWwgcmV0dXJuZWQgZnJvbSB0aGUgc2VydmVyIGludG8gYW4gYXJyYXkgb2YganMgb2JqZWN0cyAqL1xuICAgICAgICBmdW5jdGlvbiBwcm9jZXNzWE1MKHJlc3BvbnNlWE1MOiBFbGVtZW50KSB7XG4gICAgICAgICAgICBsZXQgY29udmVydGVkSXRlbXMgPSBbXTtcbiAgICAgICAgICAgIGxldCBmaWx0ZXJlZE5vZGVzID0gYXBYTUxUb0pTT05TZXJ2aWNlLmZpbHRlck5vZGVzKHJlc3BvbnNlWE1MLCBmaWx0ZXJOb2RlKTtcbiAgICAgICAgICAgIC8qKiBHZXQgYXR0YWNobWVudHMgb25seSByZXR1cm5zIHRoZSBsaW5rcyBhc3NvY2lhdGVkIHdpdGggYSBsaXN0IGl0ZW0gKi9cbiAgICAgICAgICAgIGlmIChvcHRzLm9wZXJhdGlvbiA9PT0gJ0dldEF0dGFjaG1lbnRDb2xsZWN0aW9uJykge1xuICAgICAgICAgICAgICAgIC8qKiBVbmxpa2Ugb3RoZXIgY2FsbCwgZ2V0IGF0dGFjaG1lbnRzIG9ubHkgcmV0dXJucyBzdHJpbmdzIGluc3RlYWQgb2YgYW4gb2JqZWN0IHdpdGggYXR0cmlidXRlcyAqL1xuICAgICAgICAgICAgICAgIF8uZWFjaChmaWx0ZXJlZE5vZGVzLCAobm9kZTogRWxlbWVudCkgPT4gY29udmVydGVkSXRlbXMucHVzaCgkKG5vZGUpLnRleHQoKSkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb252ZXJ0ZWRJdGVtcyA9IGFwWE1MVG9KU09OU2VydmljZS5wYXJzZShmaWx0ZXJlZE5vZGVzLCB7aW5jbHVkZUFsbEF0dHJzOiB0cnVlLCByZW1vdmVPd3M6IGZhbHNlfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY29udmVydGVkSXRlbXM7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgdmFsaWRQYXlsb2FkID0gdGhpcy52YWxpZGF0ZUNvbGxlY3Rpb25QYXlsb2FkKG9wdHMpO1xuICAgICAgICBpZiAodmFsaWRQYXlsb2FkKSB7XG4gICAgICAgICAgICB0aGlzLnNlcnZpY2VXcmFwcGVyKG9wdHMpXG4gICAgICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IGRlZmVycmVkLnJlamVjdChlcnIpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdChgSW52YWxpZCBwYXlsb2FkIGZvciAke29wdHMub3BlcmF0aW9ufSByZXF1ZXN0LmApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgRGF0YVNlcnZpY2UuZ2V0Q3VycmVudFNpdGVcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBSZXF1ZXN0cyBhbmQgY2FjaGVzIHRoZSByb290IHVybCBmb3IgdGhlIGN1cnJlbnQgc2l0ZS4gIEl0IGNhY2hlcyB0aGUgcmVzcG9uc2Ugc28gYW55IGZ1dHVyZSBjYWxscyByZWNlaXZlXG4gICAgICogdGhlIGNhY2hlZCBwcm9taXNlLlxuICAgICAqIEByZXR1cm5zIHtwcm9taXNlfSBSZXNvbHZlcyB3aXRoIHRoZSBjdXJyZW50IHNpdGUgcm9vdCB1cmwuXG4gICAgICovXG4gICAgZ2V0Q3VycmVudFNpdGUoKTogbmcuSVByb21pc2U8c3RyaW5nPiB7XG4gICAgICAgIGxldCBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG4gICAgICAgIC8vbGV0IHNlbGYgPSB0aGlzLmdldEN1cnJlbnRTaXRlO1xuICAgICAgICBpZiAoIXRoaXMucXVlcnlGb3JDdXJyZW50U2l0ZSkge1xuICAgICAgICAgICAgLyoqIFdlIG9ubHkgd2FudCB0byBydW4gdGhpcyBvbmNlIHNvIGNhY2hlIHRoZSBwcm9taXNlIHRoZSBmaXJzdCB0aW1lIGFuZCBqdXN0IHJlZmVyZW5jZSBpdCBpbiB0aGUgZnV0dXJlICovXG4gICAgICAgICAgICB0aGlzLnF1ZXJ5Rm9yQ3VycmVudFNpdGUgPSBkZWZlcnJlZC5wcm9taXNlO1xuXG4gICAgICAgICAgICBsZXQgc29hcERhdGEgPSBTUFNlcnZpY2VzLlNPQVBFbnZlbG9wZS5oZWFkZXIgK1xuICAgICAgICAgICAgICAgIFwiPFdlYlVybEZyb21QYWdlVXJsIHhtbG5zPSdcIiArIFNQU2VydmljZXMuU0NIRU1BU2hhcmVQb2ludCArIFwiL3NvYXAvJyA+PHBhZ2VVcmw+XCIgK1xuICAgICAgICAgICAgICAgICgobG9jYXRpb24uaHJlZi5pbmRleE9mKFwiP1wiKSA+IDApID8gbG9jYXRpb24uaHJlZi5zdWJzdHIoMCwgbG9jYXRpb24uaHJlZi5pbmRleE9mKFwiP1wiKSkgOiBsb2NhdGlvbi5ocmVmKSArXG4gICAgICAgICAgICAgICAgXCI8L3BhZ2VVcmw+PC9XZWJVcmxGcm9tUGFnZVVybD5cIiArXG4gICAgICAgICAgICAgICAgU1BTZXJ2aWNlcy5TT0FQRW52ZWxvcGUuZm9vdGVyO1xuXG4gICAgICAgICAgICAkaHR0cCh7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgdXJsOiAnL192dGlfYmluL1dlYnMuYXNteCcsXG4gICAgICAgICAgICAgICAgZGF0YTogc29hcERhdGEsXG4gICAgICAgICAgICAgICAgcmVzcG9uc2VUeXBlOiBcImRvY3VtZW50XCIsXG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcInRleHQveG1sO2NoYXJzZXQ9J3V0Zi04J1wiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLyoqIFN1Y2Nlc3MgKi9cbiAgICAgICAgICAgICAgICAgICAgbGV0IGVycm9yTXNnID0gYXBEZWNvZGVTZXJ2aWNlLmNoZWNrUmVzcG9uc2VGb3JFcnJvcnMoPGFueT5yZXNwb25zZS5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yTXNnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVycm9ySGFuZGxlcignRmFpbGVkIHRvIGdldCBjdXJyZW50IHNpdGUuICAnICsgZXJyb3JNc2csIGRlZmVycmVkLCBzb2FwRGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gZW52aXJvbm1lbnQuc2l0ZSA9ICQocmVzcG9uc2UuZGF0YSkuZmluZChcIldlYlVybEZyb21QYWdlVXJsUmVzdWx0XCIpLnRleHQoKTtcbiAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShFTlYuc2l0ZSk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvKiogRXJyb3IgKi9cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lcnJvckhhbmRsZXIoJ0ZhaWxlZCB0byBnZXQgY3VycmVudCBzaXRlLiAgJyArIGVyciwgZGVmZXJyZWQsIHNvYXBEYXRhKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5xdWVyeUZvckN1cnJlbnRTaXRlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIERhdGFTZXJ2aWNlLmdldEZpZWxkVmVyc2lvbkhpc3RvcnlcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBSZXR1cm5zIHRoZSB2ZXJzaW9uIGhpc3RvcnkgZm9yIGEgZmllbGQgaW4gYSBsaXN0IGl0ZW0uXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgQ29uZmlndXJhdGlvbiBvYmplY3QgcGFzc2VkIHRvIFNQU2VydmljZXMuXG4gICAgICogPHByZT5cbiAgICAgKiBsZXQgb3B0aW9ucyA9IHtcbiAgICAgICAgICogICAgICAgIG9wZXJhdGlvbjogJ0dldFZlcnNpb25Db2xsZWN0aW9uJyxcbiAgICAgICAgICogICAgICAgIHdlYlVSTDogYXBDb25maWcuZGVmYXVsdFVybCxcbiAgICAgICAgICogICAgICAgIHN0cmxpc3RJRDogbW9kZWwuZ2V0TGlzdElkKCksXG4gICAgICAgICAqICAgICAgICBzdHJsaXN0SXRlbUlEOiBsaXN0SXRlbS5pZCxcbiAgICAgICAgICogICAgICAgIHN0ckZpZWxkTmFtZTogZmllbGREZWZpbml0aW9uLnN0YXRpY05hbWVcbiAgICAgICAgICogICAgfTtcbiAgICAgKiA8L3ByZT5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gZmllbGREZWZpbml0aW9uIEZpZWxkIGRlZmluaXRpb24gb2JqZWN0IGZyb20gdGhlIG1vZGVsLlxuICAgICAqIEByZXR1cm5zIHtvYmplY3RbXX0gUHJvbWlzZSB3aGljaCByZXNvbHZlcyB3aXRoIGFuIGFycmF5IG9mIGxpc3QgaXRlbSBjaGFuZ2VzIGZvciB0aGUgc3BlY2lmaWVkIGZpZWxkLlxuICAgICAqL1xuICAgIGdldEZpZWxkVmVyc2lvbkhpc3Rvcnk8VCBleHRlbmRzIExpc3RJdGVtPGFueT4+KG9wdGlvbnM6IElHZXRGaWVsZFZlcnNpb25IaXN0b3J5T3B0aW9ucywgZmllbGREZWZpbml0aW9uOiBJRmllbGREZWZpbml0aW9uKTogbmcuSVByb21pc2U8RmllbGRWZXJzaW9uQ29sbGVjdGlvbj4ge1xuICAgICAgICBsZXQgZGVmYXVsdHMgPSB7XG4gICAgICAgICAgICBvcGVyYXRpb246ICdHZXRWZXJzaW9uQ29sbGVjdGlvbidcbiAgICAgICAgfTtcbiAgICAgICAgbGV0IG9wdHMgPSBfLmFzc2lnbih7fSwgZGVmYXVsdHMsIG9wdGlvbnMpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLnNlcnZpY2VXcmFwcGVyKG9wdHMpXG4gICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICAvKiogUGFyc2UgWE1MIHJlc3BvbnNlICovXG4gICAgICAgICAgICAgICAgbGV0IGZpZWxkVmVyc2lvbkNvbGxlY3Rpb24gPSBhcERlY29kZVNlcnZpY2UucGFyc2VGaWVsZFZlcnNpb25zKHJlc3BvbnNlLCBmaWVsZERlZmluaXRpb24pO1xuICAgICAgICAgICAgICAgIC8qKiBSZXNvbHZlIHdpdGggYW4gYXJyYXkgb2YgYWxsIGZpZWxkIHZlcnNpb25zICovXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZpZWxkVmVyc2lvbkNvbGxlY3Rpb247XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICAvKiogRmFpbHVyZSAqL1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGZldGNoIHZlcnNpb24gaGlzdG9yeS4gRXJyb3I6ICR7ZXJyfWApO1xuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgRGF0YVNlcnZpY2UuZ2V0R3JvdXBDb2xsZWN0aW9uRnJvbVVzZXJcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBGZXRjaGVzIGFuIGFycmF5IG9mIGdyb3VwIG5hbWVzIHRoZSB1c2VyIGlzIGEgbWVtYmVyIG9mLiAgSWYgbm8gdXNlciBpcyBwcm92aWRlZCB3ZSB1c2UgdGhlIGN1cnJlbnQgdXNlci5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2xvZ2luPUN1cnJlbnRVc2VyXSBPcHRpb25hbCBwYXJhbSBvZiBhbm90aGVyIHVzZXIncyBsb2dpbiB0byByZXR1cm4gdGhlIHByb2ZpbGUgZm9yLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmdbXX0gUHJvbWlzZSB3aGljaCByZXNvbHZlcyB3aXRoIHRoZSBhcnJheSBvZiBncm91cHMgdGhlIHVzZXIgYmVsb25ncyB0by5cbiAgICAgKi9cbiAgICBnZXRHcm91cENvbGxlY3Rpb25Gcm9tVXNlcihsb2dpbj86IHN0cmluZyk6IG5nLklQcm9taXNlPElYTUxHcm91cFtdPiB7XG4gICAgICAgIC8qKiBDcmVhdGUgYSBuZXcgZGVmZXJyZWQgb2JqZWN0IGlmIG5vdCBhbHJlYWR5IGRlZmluZWQgKi9cbiAgICAgICAgbGV0IGRlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAgICAgICAgbGV0IGdldEdyb3VwQ29sbGVjdGlvbiA9ICh1c2VyTG9naW5OYW1lKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnNlcnZpY2VXcmFwcGVyKHtcbiAgICAgICAgICAgICAgICBvcGVyYXRpb246ICdHZXRHcm91cENvbGxlY3Rpb25Gcm9tVXNlcicsXG4gICAgICAgICAgICAgICAgdXNlckxvZ2luTmFtZTogdXNlckxvZ2luTmFtZSxcbiAgICAgICAgICAgICAgICBmaWx0ZXJOb2RlOiAnR3JvdXAnXG4gICAgICAgICAgICB9KS50aGVuKChncm91cENvbGxlY3Rpb246IElYTUxHcm91cFtdKSA9PiBkZWZlcnJlZC5yZXNvbHZlKGdyb3VwQ29sbGVjdGlvbikpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGlmICghbG9naW4pIHtcbiAgICAgICAgICAgIC8qKiBObyBsb2dpbiBuYW1lIHByb3ZpZGVkIHNvIGxvb2t1cCBwcm9maWxlIGZvciBjdXJyZW50IHVzZXIgKi9cbiAgICAgICAgICAgIHRoaXMuZ2V0VXNlclByb2ZpbGVCeU5hbWUoKVxuICAgICAgICAgICAgICAgIC50aGVuKCh1c2VyUHJvZmlsZSkgPT4gZ2V0R3JvdXBDb2xsZWN0aW9uKHVzZXJQcm9maWxlLnVzZXJMb2dpbk5hbWUpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGdldEdyb3VwQ29sbGVjdGlvbihsb2dpbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgRGF0YVNlcnZpY2UuZ2V0TGlzdFxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFJldHVybnMgYWxsIGxpc3QgZGV0YWlscyBpbmNsdWRpbmcgZmllbGQgYW5kIGxpc3QgY29uZmlnLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIENvbmZpZ3VyYXRpb24gcGFyYW1ldGVycy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy5saXN0TmFtZSBHVUlEIG9mIHRoZSBsaXN0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy53ZWJVUkxdIFVSTCB0byB0aGUgc2l0ZSBjb250YWluaW5nIHRoZSBsaXN0IGlmIGRpZmZlcm50IGZyb20gcHJpbWFyeSBkYXRhIHNpdGUgaW4gYXBDb25maWcuXG4gICAgICogQHJldHVybnMge29iamVjdH0gUHJvbWlzZSB3aGljaCByZXNvbHZlcyB3aXRoIGFuIG9iamVjdCBkZWZpbmluZyBmaWVsZCBhbmQgbGlzdCBjb25maWcuXG4gICAgICovXG4gICAgZ2V0TGlzdChvcHRpb25zOiB7bGlzdE5hbWU6IHN0cmluZywgd2ViVVJMPzogc3RyaW5nfSk6IG5nLklQcm9taXNlPE9iamVjdD4ge1xuICAgICAgICBsZXQgZGVmYXVsdHMgPSB7XG4gICAgICAgICAgICBvcGVyYXRpb246ICdHZXRMaXN0J1xuICAgICAgICB9O1xuXG4gICAgICAgIGxldCBvcHRzOiB7b3BlcmF0aW9uOiBzdHJpbmc7IGxpc3ROYW1lOiBzdHJpbmc7IHdlYlVSTD86IHN0cmluZ30gPSBfLmFzc2lnbih7fSwgZGVmYXVsdHMsIG9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gdGhpcy5zZXJ2aWNlV3JhcHBlcihvcHRzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBEYXRhU2VydmljZS5nZXRMaXN0RmllbGRzXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogUmV0dXJucyBmaWVsZCBkZWZpbml0aW9ucyBmb3IgYSBzcGVjaWZpZWQgbGlzdC5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyBDb25maWd1cmF0aW9uIHBhcmFtZXRlcnMuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMubGlzdE5hbWUgR1VJRCBvZiB0aGUgbGlzdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMud2ViVVJMXSBVUkwgdG8gdGhlIHNpdGUgY29udGFpbmluZyB0aGUgbGlzdCBpZiBkaWZmZXJudCBmcm9tIHByaW1hcnkgZGF0YSBzaXRlIGluIGFwQ29uZmlnLlxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlfSBQcm9taXNlIHdoaWNoIHJlc29sdmVzIHdpdGggYW4gYXJyYXkgb2YgZmllbGQgZGVmaW5pdGlvbnMgZm9yIHRoZSBsaXN0LlxuICAgICAqL1xuICAgIGdldExpc3RGaWVsZHMob3B0aW9uczoge2xpc3ROYW1lOiBzdHJpbmc7IHdlYlVSTD86IHN0cmluZ30pOiBuZy5JUHJvbWlzZTxJWE1MRmllbGREZWZpbml0aW9uW10+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TGlzdChvcHRpb25zKVxuICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlWE1MOiBFbGVtZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IGZpbHRlcmVkTm9kZXMgPSBhcFhNTFRvSlNPTlNlcnZpY2UuZmlsdGVyTm9kZXMocmVzcG9uc2VYTUwsICdGaWVsZCcpO1xuICAgICAgICAgICAgICAgIGxldCBmaWVsZHMgPSBhcFhNTFRvSlNPTlNlcnZpY2UucGFyc2UoZmlsdGVyZWROb2Rlcywge2luY2x1ZGVBbGxBdHRyczogdHJ1ZSwgcmVtb3ZlT3dzOiBmYWxzZX0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBmaWVsZHM7XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBEYXRhU2VydmljZS5nZXRVc2VyUHJvZmlsZVxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFJldHVybnMgdGhlIHByb2ZpbGUgZm9yIGFuIG9wdGlvbmFsIHVzZXIsIGJ1dCBkZWZhdWx0cyB0aGUgdGhlIGN1cnJlbnQgdXNlciBpZiBvbmUgaXNuJ3QgcHJvdmlkZWQuXG4gICAgICogUHVsbCB1c2VyIHByb2ZpbGUgaW5mbyBhbmQgcGFyc2UgaW50byBhIHByb2ZpbGUgb2JqZWN0XG4gICAgICogaHR0cDogLy9zcHNlcnZpY2VzLmNvZGVwbGV4LmNvbS93aWtpcGFnZT90aXRsZT1HZXRVc2VyUHJvZmlsZUJ5TmFtZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbbG9naW49Q3VycmVudFVzZXJdIE9wdGlvbmFsIHBhcmFtIG9mIGFub3RoZXIgdXNlcidzIGxvZ2luIHRvIHJldHVybiB0aGUgcHJvZmlsZSBmb3IuXG4gICAgICogQHJldHVybnMge29iamVjdH0gUHJvbWlzZSB3aGljaCByZXNvbHZlcyB3aXRoIHRoZSByZXF1ZXN0ZWQgdXNlciBwcm9maWxlLlxuICAgICAqL1xuICAgIGdldFVzZXJQcm9maWxlQnlOYW1lKGxvZ2luPzogc3RyaW5nKTogbmcuSVByb21pc2U8SVhNTFVzZXJQcm9maWxlPiB7XG4gICAgICAgIGxldCBwYXlsb2FkID0ge1xuICAgICAgICAgICAgYWNjb3VudE5hbWU6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIG9wZXJhdGlvbjogJ0dldFVzZXJQcm9maWxlQnlOYW1lJ1xuICAgICAgICB9O1xuICAgICAgICBpZiAobG9naW4pIHtcbiAgICAgICAgICAgIHBheWxvYWQuYWNjb3VudE5hbWUgPSBsb2dpbjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLnNlcnZpY2VXcmFwcGVyKHBheWxvYWQpXG4gICAgICAgICAgICAudGhlbigocmVzcG9uc2VYTUwpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgdXNlclByb2ZpbGUgPSB7XG4gICAgICAgICAgICAgICAgICAgIEFjY291bnROYW1lOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgIHVzZXJMb2dpbk5hbWU6IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgLy8gTm90IGZvcm1hdHRlZCBsaWtlIGEgbm9ybWFsIFNQIHJlc3BvbnNlIHNvIG5lZWQgdG8gbWFudWFsbHkgcGFyc2VcbiAgICAgICAgICAgICAgICBsZXQgZmlsdGVyZWROb2RlcyA9IGFwWE1MVG9KU09OU2VydmljZS5maWx0ZXJOb2RlcyhyZXNwb25zZVhNTCwgJ1Byb3BlcnR5RGF0YScpO1xuICAgICAgICAgICAgICAgIF8uZWFjaChmaWx0ZXJlZE5vZGVzLCAobm9kZTogRWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBsZXQgbm9kZU5hbWUgPSBub2RlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdOYW1lJylbMF07XG4gICAgICAgICAgICAgICAgICAgIGxldCBub2RlVmFsdWUgPSBub2RlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdWYWx1ZScpWzBdO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChub2RlTmFtZSAmJiBub2RlVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJQcm9maWxlW25vZGVOYW1lLnRleHRDb250ZW50LnRyaW0oKV0gPSBub2RlVmFsdWUudGV4dENvbnRlbnQudHJpbSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAvKiogT3B0aW9uYWxseSBzcGVjaWZ5IGEgbmVjZXNzYXJ5IHByZWZpeCB0aGF0IHNob3VsZCBhcHBlYXIgYmVmb3JlIHRoZSB1c2VyIGxvZ2luICovXG4gICAgICAgICAgICAgICAgdXNlclByb2ZpbGUudXNlckxvZ2luTmFtZSA9IEVOVi51c2VyTG9naW5OYW1lUHJlZml4ID9cbiAgICAgICAgICAgICAgICAgICAgKEVOVi51c2VyTG9naW5OYW1lUHJlZml4ICsgdXNlclByb2ZpbGUuQWNjb3VudE5hbWUpIDogdXNlclByb2ZpbGUuQWNjb3VudE5hbWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVzZXJQcm9maWxlO1xuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgRGF0YVNlcnZpY2UucHJvY2Vzc0NoYW5nZVRva2VuWE1MXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogVGhlIGluaXRpYWwgY2FsbCB0byBHZXRMaXN0SXRlbUNoYW5nZXNTaW5jZVRva2VuIGFsc28gaW5jbHVkZXMgdGhlIGZpZWxkIGRlZmluaXRpb25zIGZvciB0aGVcbiAgICAgKiBsaXN0IHNvIGV4dGVuZCB0aGUgZXhpc3RpbmcgZmllbGQgZGVmaW5pdGlvbnMgYW5kIGxpc3QgZGVmaW5lZCBpbiB0aGUgbW9kZWwuICBBZnRlciB0aGF0LCBzdG9yZVxuICAgICAqIHRoZSBjaGFuZ2UgdG9rZW4gYW5kIG1ha2UgYW55IGNoYW5nZXMgdG8gdGhlIHVzZXIncyBwZXJtaXNzaW9ucyBmb3IgdGhlIGxpc3QuXG4gICAgICogQHBhcmFtIHtNb2RlbH0gbW9kZWwgTGlzdCBtb2RlbC5cbiAgICAgKiBAcGFyYW0ge0lRdWVyeX0gcXVlcnkgVmFsaWQgcXVlcnkgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gcmVzcG9uc2VYTUwgWE1MIHJlc3BvbnNlIGZyb20gdGhlIHNlcnZlci5cbiAgICAgKiBAcGFyYW0ge0luZGV4ZWRDYWNoZTxUPn0gY2FjaGUgQ2FjaGUgdG8gcHJvY2VzcyBpbiBvcmRlciB0byBoYW5kbGUgZGVsZXRpb25zLlxuICAgICAqL1xuICAgIHByb2Nlc3NDaGFuZ2VUb2tlblhNTDxUIGV4dGVuZHMgTGlzdEl0ZW08YW55Pj4obW9kZWw6IE1vZGVsLCBxdWVyeTogSVF1ZXJ5PFQ+LCByZXNwb25zZVhNTDogRWxlbWVudCwgY2FjaGU6IEluZGV4ZWRDYWNoZTxUPik6IHZvaWQge1xuICAgICAgICBpZiAoIW1vZGVsLmRlZmVycmVkTGlzdERlZmluaXRpb24pIHtcbiAgICAgICAgICAgIC8vRXh0ZW5kIG91ciBsb2NhbCBsaXN0IGRlZmluaXRpb24gYW5kIGZpZWxkIGRlZmluaXRpb25zIHdpdGggWE1MXG4gICAgICAgICAgICBhcERlY29kZVNlcnZpY2UuZXh0ZW5kTGlzdE1ldGFkYXRhKG1vZGVsLCByZXNwb25zZVhNTCk7XG5cbiAgICAgICAgICAgIC8qKklmIGxvYWRlZCBmcm9tIGxvY2FsIG9yIHNlc3Npb24gY2FjaGUgdGhlIGxpc3QvZmllbGQgZGVmaW5pdGlvbnMgd29uJ3QgYmUgZXh0ZW5kZWQgc28gZW5zdXJlIHdlIGNoZWNrIGJlZm9yZVxuICAgICAgICAgICAgICogcmVzb2x2aW5nIHByb21pc2UgdmVyaWZ5aW5nIGxpc3QgaGFzIGJlZW4gZXh0ZW5kZWQuICBPbmUgb2YgdGhlIGF0dHJpYnV0ZXMgd2UnZCBleHBlY3QgdG8gc2VlIG9uIGFsbCBMaXN0L0xpYnJhcmllc1xuICAgICAgICAgICAgICogaXMgXCJCYXNlVHlwZVwiICovXG4gICAgICAgICAgICBpZiAobW9kZWwuZ2V0TGlzdCgpLkJhc2VUeXBlKSB7XG4gICAgICAgICAgICAgICAgLy9MaXN0IHN1Y2Nlc3NmdWxseSBleHRlbmRlZFxuICAgICAgICAgICAgICAgIC8qKiBSZXBsYWNlIHRoZSBudWxsIHBsYWNlaG9sZGVyIHdpdGggdGhpcyByZXNvbHZlZCBwcm9taXNlIHNvIHdlIGRvbid0IGhhdmUgdG8gcHJvY2VzcyBpbiB0aGUgZnV0dXJlIGFuZCBhbHNvXG4gICAgICAgICAgICAgICAgICogZG9uJ3QgaGF2ZSB0byBxdWVyeSBhZ2FpbiBpZiB3ZSBydW4gTW9kZWwuZXh0ZW5kTGlzdE1ldGFkYXRhLiAqL1xuICAgICAgICAgICAgICAgIG1vZGVsLmRlZmVycmVkTGlzdERlZmluaXRpb24gPSAkcS53aGVuKG1vZGVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKiBTdG9yZSB0b2tlbiBmb3IgZnV0dXJlIHdlYiBzZXJ2aWNlIGNhbGxzIHRvIHJldHVybiBjaGFuZ2VzICovXG4gICAgICAgIGxldCBjaGFuZ2VUb2tlbiA9IHRoaXMucmV0cmlldmVDaGFuZ2VUb2tlbihyZXNwb25zZVhNTCk7XG4gICAgICAgIGlmIChjaGFuZ2VUb2tlbikge1xuICAgICAgICAgICAgLyoqIERvbid0IHVwZGF0ZSBjaGFuZ2UgdG9rZW4gaWYgcmVxdWVzdCBmYWlscyB0byByZXR1cm4gYSB2YWxpZCByZXNwb25zZSAqL1xuICAgICAgICAgICAgcXVlcnkuY2hhbmdlVG9rZW4gPSBjaGFuZ2VUb2tlbjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKiBVcGRhdGUgdGhlIHVzZXIgcGVybWlzc2lvbnMgZm9yIHRoaXMgbGlzdCAqL1xuICAgICAgICBsZXQgcGVybWlzc2lvbnMgPSB0aGlzLnJldHJpZXZlTGlzdFBlcm1pc3Npb25zKHJlc3BvbnNlWE1MKTtcbiAgICAgICAgaWYgKHBlcm1pc3Npb25zKSB7XG4gICAgICAgICAgICBtb2RlbC5saXN0LnBlcm1pc3Npb25zID0gcGVybWlzc2lvbnM7XG4gICAgICAgIH1cblxuICAgICAgICAvKiogQ2hhbmdlIHRva2VuIHF1ZXJ5IGluY2x1ZGVzIGRlbGV0ZWQgaXRlbXMgYXMgd2VsbCBzbyB3ZSBuZWVkIHRvIHByb2Nlc3MgdGhlbSBzZXBhcmF0ZWx5ICovXG4gICAgICAgIHRoaXMucHJvY2Vzc0RlbGV0aW9uc1NpbmNlVG9rZW4ocmVzcG9uc2VYTUwsIGNhY2hlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBEYXRhU2VydmljZS5wcm9jZXNzRGVsZXRpb25zU2luY2VUb2tlblxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIEdldExpc3RJdGVtQ2hhbmdlc1NpbmNlVG9rZW4gcmV0dXJucyBpdGVtcyB0aGF0IGhhdmUgYmVlbiBhZGRlZCBhcyB3ZWxsIGFzIGRlbGV0ZWQgc28gd2UgbmVlZFxuICAgICAqIHRvIHJlbW92ZSB0aGUgZGVsZXRlZCBpdGVtcyBmcm9tIHRoZSBsb2NhbCBjYWNoZS5cbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IHJlc3BvbnNlWE1MIFhNTCByZXNwb25zZSBmcm9tIHRoZSBzZXJ2ZXIuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGNhY2hlIENhY2hlZCBvYmplY3Qgb2Yga2V5IHZhbHVlIHBhaXJzLlxuICAgICAqL1xuICAgIHByb2Nlc3NEZWxldGlvbnNTaW5jZVRva2VuKHJlc3BvbnNlWE1MOiBFbGVtZW50LCBjYWNoZTogSW5kZXhlZENhY2hlPGFueT4pOiB2b2lkIHtcbiAgICAgICAgLyoqIFJlbW92ZSBhbnkgbG9jYWxseSBjYWNoZWQgZW50aXRpZXMgdGhhdCB3ZXJlIGRlbGV0ZWQgZnJvbSB0aGUgc2VydmVyICovXG4gICAgICAgIGxldCBmaWx0ZXJlZE5vZGVzID0gYXBYTUxUb0pTT05TZXJ2aWNlLmZpbHRlck5vZGVzKHJlc3BvbnNlWE1MLCAnSWQnKTtcbiAgICAgICAgXy5lYWNoKGZpbHRlcmVkTm9kZXMsIChub2RlOiBFbGVtZW50KSA9PiB7XG4gICAgICAgICAgICAvKiogQ2hlY2sgZm9yIHRoZSB0eXBlIG9mIGNoYW5nZSAqL1xuICAgICAgICAgICAgbGV0IGNoYW5nZVR5cGUgPSAkKG5vZGUpLmF0dHIoJ0NoYW5nZVR5cGUnKTtcblxuICAgICAgICAgICAgaWYgKGNoYW5nZVR5cGUgPT09ICdEZWxldGUnKSB7XG4gICAgICAgICAgICAgICAgbGV0IGxpc3RJdGVtSWQgPSBwYXJzZUludCgkKG5vZGUpLnRleHQoKSwgMTApO1xuICAgICAgICAgICAgICAgIC8qKiBSZW1vdmUgZnJvbSBsb2NhbCBkYXRhIGFycmF5ICovXG4gICAgICAgICAgICAgICAgY2FjaGUuZGVsZXRlKGxpc3RJdGVtSWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBEYXRhU2VydmljZS5yZXF1ZXN0RGF0YVxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFRoZSBwcmltYXJ5IGZ1bmN0aW9uIHRoYXQgaGFuZGxlcyBhbGwgY29tbXVuaWNhdGlvbiB3aXRoIHRoZSBzZXJ2ZXIuICBUaGlzIGlzIHZlcnkgbG93IGxldmVsIGFuZCBpc24ndFxuICAgICAqIGludGVuZGVkIHRvIGJlIGNhbGxlZCBkaXJlY3RseS5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb3B0cyBQYXlsb2FkIG9iamVjdCBjb250YWluaW5nIHRoZSBkZXRhaWxzIG9mIHRoZSByZXF1ZXN0LlxuICAgICAqIEByZXR1cm5zIHtwcm9taXNlfSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCB0aGUgc2VydmVyIHJlc3BvbnNlLlxuICAgICAqL1xuICAgIHJlcXVlc3REYXRhKG9wdHMpOiBuZy5JUHJvbWlzZTxFbGVtZW50PiB7XG4gICAgICAgIGxldCBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG4gICAgICAgIGxldCBzb2FwRGF0YSA9IFNQU2VydmljZXMuZ2VuZXJhdGVYTUxDb21wb25lbnRzKG9wdHMpO1xuICAgICAgICBsZXQgc2VydmljZSA9IGFwV2ViU2VydmljZU9wZXJhdGlvbkNvbnN0YW50c1tvcHRzLm9wZXJhdGlvbl1bMF07XG5cbiAgICAgICAgdGhpcy5nZW5lcmF0ZVdlYlNlcnZpY2VVcmwoc2VydmljZSwgb3B0cy53ZWJVUkwpXG4gICAgICAgICAgICAudGhlbigodXJsKSA9PiB7XG4gICAgICAgICAgICAgICAgJGh0dHAucG9zdCh1cmwsIHNvYXBEYXRhLm1zZywge1xuICAgICAgICAgICAgICAgICAgICByZXNwb25zZVR5cGU6IFwidGV4dFwiLFxuICAgICAgICAgICAgICAgICAgICAvLyByZXNwb25zZVR5cGU6IFwiZG9jdW1lbnRcIixcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJ0ZXh0L3htbDtjaGFyc2V0PSd1dGYtOCdcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFNPQVBBY3Rpb246ICgpID0+IHNvYXBEYXRhLlNPQVBBY3Rpb24gPyBzb2FwRGF0YS5TT0FQQWN0aW9uIDogbnVsbFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAvLyB0cmFuc2Zvcm1SZXNwb25zZTogKGRhdGEsIGhlYWRlcnNHZXR0ZXIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIC8vIGlmIChfLmlzU3RyaW5nKGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAvLyAgICAgZGF0YSA9ICQucGFyc2VYTUwoZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAvLyB9XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICByZXR1cm4galF1ZXJ5LnBhcnNlWE1MKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlOiBhbnkpID0+IHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2VYTUwgPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKHJlc3BvbnNlLmRhdGEsICd0ZXh0L3htbCcpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTdWNjZXNzIENvZGVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEVycm9ycyBjYW4gc3RpbGwgYmUgcmVzb2x2ZWQgd2l0aG91dCB0aHJvd2luZyBhbiBlcnJvciBzbyBjaGVjayB0aGUgWE1MXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZXJyb3JNc2cgPSBhcERlY29kZVNlcnZpY2UuY2hlY2tSZXNwb25zZUZvckVycm9ycyhyZXNwb25zZVhNTCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBsZXQgZXJyb3JNc2cgPSBhcERlY29kZVNlcnZpY2UuY2hlY2tSZXNwb25zZUZvckVycm9ycyg8YW55PnJlc3BvbnNlLmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yTXNnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWN0dWFsbCBlcnJvciBidXQgcmV0dXJuZWQgd2l0aCBzdWNjZXNzIHJlc29uc2UuLi4udGhhbmsgeW91IFNoYXJlUG9pbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVycm9ySGFuZGxlcihlcnJvck1zZywgZGVmZXJyZWQsIHNvYXBEYXRhLCByZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKiBSZWFsIHN1Y2Nlc3MgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHJlc3BvbnNlWE1MKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBkZWZlcnJlZC5yZXNvbHZlKHJlc3BvbnNlLmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRmFpbHVyZVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lcnJvckhhbmRsZXIoZXJyLCBkZWZlcnJlZCwgc29hcERhdGEpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIERhdGFTZXJ2aWNlLnJldHJpZXZlQ2hhbmdlVG9rZW5cbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBSZXR1cm5zIHRoZSBjaGFuZ2UgdG9rZW4gZnJvbSB0aGUgeG1sIHJlc3BvbnNlIG9mIGEgR2V0TGlzdEl0ZW1DaGFuZ2VzU2luY2VUb2tlbiBxdWVyeVxuICAgICAqIE5vdGU6IHRoaXMgYXR0cmlidXRlIGlzIG9ubHkgZm91bmQgd2hlbiB1c2luZyAnR2V0TGlzdEl0ZW1DaGFuZ2VzU2luY2VUb2tlbidcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IHJlc3BvbnNlWE1MIFhNTCByZXNwb25zZSBmcm9tIHRoZSBzZXJ2ZXIuXG4gICAgICovXG4gICAgcmV0cmlldmVDaGFuZ2VUb2tlbihyZXNwb25zZVhNTDogRWxlbWVudCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiAkKHJlc3BvbnNlWE1MKS5maW5kKCdDaGFuZ2VzJykuYXR0cignTGFzdENoYW5nZVRva2VuJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgRGF0YVNlcnZpY2UucmV0cmlldmVMaXN0UGVybWlzc2lvbnNcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBSZXR1cm5zIHRoZSB0ZXh0IHJlcHJlc2VudGF0aW9uIG9mIHRoZSB1c2VycyBwZXJtaXNzaW9uIG1hc2tcbiAgICAgKiBOb3RlOiB0aGlzIGF0dHJpYnV0ZSBpcyBvbmx5IGZvdW5kIHdoZW4gdXNpbmcgJ0dldExpc3RJdGVtQ2hhbmdlc1NpbmNlVG9rZW4nXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSByZXNwb25zZVhNTCBYTUwgcmVzcG9uc2UgZnJvbSB0aGUgc2VydmVyLlxuICAgICAqL1xuICAgIHJldHJpZXZlTGlzdFBlcm1pc3Npb25zKHJlc3BvbnNlWE1MOiBFbGVtZW50KTogSVVzZXJQZXJtaXNzaW9uc09iamVjdCB7XG4gICAgICAgIC8vUGVybWlzc2lvbnMgd2lsbCBiZSBhIHN0cmluZyBvZiBQZXJtaXNzaW9uIG5hbWVzIGRlbGltaXRlZCBieSBjb21tYXNcbiAgICAgICAgLy9FeGFtcGxlOiBcIlZpZXdMaXN0SXRlbXMsIEFkZExpc3RJdGVtcywgRWRpdExpc3RJdGVtcywgRGVsZXRlTGlzdEl0ZW1zLCAuLi4uXCJcbiAgICAgICAgbGV0IGxpc3RQZXJtaXNzaW9uczogc3RyaW5nID0gJChyZXNwb25zZVhNTCkuZmluZCgnbGlzdGl0ZW1zJykuYXR0cignRWZmZWN0aXZlUGVybU1hc2snKTtcbiAgICAgICAgbGV0IHBlcm1pc3Npb25PYmplY3Q7XG4gICAgICAgIGlmIChfLmlzU3RyaW5nKGxpc3RQZXJtaXNzaW9ucykpIHtcbiAgICAgICAgICAgIGxldCBwZXJtaXNzaW9uTmFtZUFycmF5ID0gbGlzdFBlcm1pc3Npb25zLnNwbGl0KCcsJyk7XG4gICAgICAgICAgICBwZXJtaXNzaW9uT2JqZWN0ID0gbmV3IEJhc2VQZXJtaXNzaW9uT2JqZWN0KCk7XG4gICAgICAgICAgICAvL1NldCBlYWNoIG9mIHRoZSBpZGVudGlmaWVkIHBlcm1pc3Npb24gbGV2ZWxzIHRvIHRydWVcbiAgICAgICAgICAgIF8uZWFjaChwZXJtaXNzaW9uTmFtZUFycmF5LCAocGVybWlzc2lvbjogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgLy9SZW1vdmUgZXh0cmEgc3BhY2VzXG4gICAgICAgICAgICAgICAgbGV0IHBlcm1pc3Npb25OYW1lID0gcGVybWlzc2lvbi50cmltKCk7XG4gICAgICAgICAgICAgICAgLy9GaW5kIHRoZSBwZXJtaXNzaW9uIGxldmVsIG9uIHRoZSBwZXJtaXNzaW9uIG9iamVjdCB0aGF0IGlzIGN1cnJlbnRseSBzZXQgdG8gZmFsc2VcbiAgICAgICAgICAgICAgICAvL2FuZCBzZXQgdG8gdHJ1ZVxuICAgICAgICAgICAgICAgIHBlcm1pc3Npb25PYmplY3RbcGVybWlzc2lvbk5hbWVdID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgIGlmIChwZXJtaXNzaW9uTmFtZSA9PT0gJ0Z1bGxNYXNrJykge1xuICAgICAgICAgICAgICAgICAgICAvL1VzZXIgaGFzIGZ1bGwgcmlnaHRzIHNvIHNldCBhbGwgdG8gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICBfLmVhY2gocGVybWlzc2lvbk9iamVjdCwgKHByb3BlcnR5VmFsdWUsIHByb3BlcnR5TmFtZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGVybWlzc2lvbk9iamVjdFtwcm9wZXJ0eU5hbWVdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwZXJtaXNzaW9uT2JqZWN0O1xuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgRGF0YVNlcnZpY2Uuc2VydmljZVdyYXBwZXJcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBHZW5lcmljIHdyYXBwZXIgZm9yIGFueSBTUFNlcnZpY2VzIHdlYiBzZXJ2aWNlIGNhbGwuICBUaGUgYmlnIGJlbmVmaXQgdG8gdGhpcyBmdW5jdGlvbiBpcyBpdCBhbGxvd3MgdXNcbiAgICAgKiB0byBjb250aW51ZSB0byB1c2UgdGhlICRxIHByb21pc2UgbW9kZWwgdGhyb3VnaG91dCB0aGUgYXBwbGljYXRpb24gaW5zdGVhZCBvZiB1c2luZyB0aGUgcHJvbWlzZVxuICAgICAqIGltcGxlbWVudGF0aW9uIHVzZWQgaW4gU1BTZXJ2aWNlcyBzbyB3ZSBoYXZlIGEgbW9yZSBjb25zaXN0ZW50IGV4cGVyaWVuY2UuXG4gICAgICogQ2hlY2sgaHR0cDogLy9zcHNlcnZpY2VzLmNvZGVwbGV4LmNvbS9kb2N1bWVudGF0aW9uIGZvciBkZXRhaWxzIG9uIGV4cGVjdGVkIHBhcmFtZXRlcnMgZm9yIGVhY2ggb3BlcmF0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgUGF5bG9hZCBwYXJhbXMgdGhhdCBpcyBkaXJlY3RseSBwYXNzZWQgdG8gU1BTZXJ2aWNlcy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMuZmlsdGVyTm9kZV0gWE1MIGZpbHRlciBzdHJpbmcgdXNlZCB0byBmaW5kIHRoZSBlbGVtZW50cyB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogVGhpcyBpcyB0eXBpY2FsbHkgJ3o6IHJvdycgZm9yIGxpc3QgaXRlbXMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW29wdGlvbnMucG9zdFByb2Nlc3NdIE1ldGhvZCB0byBwcm9jZXNzIHJlc3BvbnNlWE1MIHByaW9yIHRvIHJldHVybmluZy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMud2ViVVJMXSBYTUwgZmlsdGVyIHN0cmluZyB1c2VkIHRvIGZpbmQgdGhlIGVsZW1lbnRzIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSBSZXR1cm5zIGEgcHJvbWlzZSB3aGljaCB3aGVuIHJlc29sdmVkIGVpdGhlciByZXR1cm5zIGNsZWFuIG9iamVjdHMgcGFyc2VkIGJ5IHRoZSB2YWx1ZVxuICAgICAqIGluIG9wdGlvbnMuZmlsdGVyTm9kZSBvciB0aGUgcmF3IFhNTCByZXNwb25zZSBpZiBhIG9wdGlvbnMuZmlsdGVyTm9kZVxuICAgICAqXG4gICAgICogICAgICBJZiBvcHRpb25zLmZpbHRlck5vZGUgaXMgcHJvdmlkZWQsIHJldHVybnMgWE1MIHBhcnNlZCBieSBub2RlIG5hbWVcbiAgICAgKiAgICAgIE90aGVyd2lzZSByZXR1cm5zIHRoZSBzZXJ2ZXIgcmVzcG9uc2VcbiAgICAgKi9cbiAgICBzZXJ2aWNlV3JhcHBlcihvcHRpb25zOiBJU2VydmljZVdyYXBwZXJPcHRpb25zKTogbmcuSVByb21pc2U8YW55PiB7XG4gICAgICAgIGxldCBkZWZhdWx0cyA9IHtcbiAgICAgICAgICAgIHBvc3RQcm9jZXNzOiBwcm9jZXNzWE1MLFxuICAgICAgICAgICAgd2ViVVJMOiBFTlYuc2l0ZVxuICAgICAgICB9O1xuICAgICAgICBsZXQgb3B0czogSVNlcnZpY2VXcmFwcGVyT3B0aW9ucyA9IF8uYXNzaWduKHt9LCBkZWZhdWx0cywgb3B0aW9ucyk7XG5cbiAgICAgICAgLyoqIENvbnZlcnQgdGhlIHhtbCByZXR1cm5lZCBmcm9tIHRoZSBzZXJ2ZXIgaW50byBhbiBhcnJheSBvZiBqcyBvYmplY3RzICovXG4gICAgICAgIGZ1bmN0aW9uIHByb2Nlc3NYTUwocmVzcG9uc2VYTUw6IEVsZW1lbnQpIHtcbiAgICAgICAgICAgIGlmIChvcHRzLmZpbHRlck5vZGUpIHtcbiAgICAgICAgICAgICAgICBsZXQgZmlsdGVyZWROb2RlcyA9IGFwWE1MVG9KU09OU2VydmljZS5maWx0ZXJOb2RlcyhyZXNwb25zZVhNTCwgb3B0cy5maWx0ZXJOb2RlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXBYTUxUb0pTT05TZXJ2aWNlLnBhcnNlKGZpbHRlcmVkTm9kZXMsIHtpbmNsdWRlQWxsQXR0cnM6IHRydWUsIHJlbW92ZU93czogZmFsc2V9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlWE1MO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdERhdGEob3B0cylcbiAgICAgICAgICAgIC50aGVuKChyZXNwb25zZVhNTCkgPT4ge1xuICAgICAgICAgICAgICAgIC8qKiBTdWNjZXNzICovXG4gICAgICAgICAgICAgICAgcmV0dXJuIG9wdHMucG9zdFByb2Nlc3MocmVzcG9uc2VYTUwpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyOiBFcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgIC8qKiBGYWlsdXJlICovXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVyciArICcgIEZhaWxlZCB0byBjb21wbGV0ZSB0aGUgcmVxdWVzdGVkICcgKyBvcHRzLm9wZXJhdGlvbiArICcgb3BlcmF0aW9uLic7XG4gICAgICAgICAgICB9KTtcblxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIERhdGFTZXJ2aWNlLnN0YXJ0V29ya2Zsb3dcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBJbml0aWF0ZSBhIHdvcmtmbG93IGZvciBhIGdpdmVuIGxpc3QgaXRlbSBvciBkb2N1bWVudC4gIFlvdSBjYW4gdmlldyBhZGRpdGlvbmFsIGluZm8gYXRcbiAgICAgKiBbU3RhcnRXb3JrZmxvd10oaHR0cDogLy9zcHNlcnZpY2VzLmNvZGVwbGV4LmNvbS93aWtpcGFnZT90aXRsZT1TdGFydFdvcmtmbG93JnJlZmVycmluZ1RpdGxlPVdvcmtmbG93KS5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyBDb25maWd1cmF0aW9uIG9wdGlvbnMuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMuaXRlbSBGdWxsIGZpbGVSZWYgZm9yIHRoZSBnaXZlbiBsaXN0IGl0ZW0vZG9jdW1lbnQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMudGVtcGxhdGVJZCBUaGUgd29ya2Zsb3cgdGVtcGxhdGUgR1VJRC4gIFlvdSBjYW4gdXNlIGRhdGFTZXJ2aWNlLmdldEF2YWlsYWJsZVdvcmtmbG93c1xuICAgICAqIHRvIGxvY2F0ZSB0byBhcHByb3ByaWF0ZSBvbmUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLndvcmtmbG93UGFyYW1ldGVycz0nPHJvb3QgLz4nXSBPcHRpb25hbGx5IHByb3ZpZGUgcGFyYW1hdGVycyB0byB0aGUgd29ya2Zsb3cuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmZpbGVSZWZdIE9wdGlvbmFsbHkgcGFzcyBpbiB0aGUgcmVsYXRpdmUgZmlsZVJlZiBvZiBhbiBsaXN0SXRlbSBhbmQgdGhlbiB3ZSBjYW5cbiAgICAgKiBjb252ZXJ0IGl0IHRvIG9wdGlvbnMuaXRlbS5cbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSBEZWZlcnJlZCBvYmplY3QgdGhhdCByZXNvbHZlcyBvbmNlIGNvbXBsZXRlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogPHByZT5cbiAgICAgKiBEYXRhU2VydmljZS5zdGFydFdvcmtmbG93KHtcbiAgICAgICAgICogICAgIGl0ZW06IFwiaHR0cHM6IC8vc2VydmVyL3NpdGUvTGlzdHMvaXRlbVwiICsgaWREYXRhICsgXCJfLjAwMFwiLFxuICAgICAgICAgKiAgICAgdGVtcGxhdGVJZDogXCJ7YzI5YzEyOTEtYTI1Yy00N2Q3LTkzNDUtOGZiMWRlMmExZmEzfVwiLFxuICAgICAgICAgKiAgICAgd29ya2Zsb3dQYXJhbWV0ZXJzOiBcIjxEYXRhPjxtb250aE5hbWU+XCIgKyB0eHRCb3gudmFsdWUgKyBcIjwvbW9udGhOYW1lPjwvRGF0YT5cIixcbiAgICAgICAgICogICAuLi59KS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgKiAgICAgICAvL1N1Y2Nlc3NcbiAgICAgICAgICogICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICogICAgICAgLy9FcnJvclxuICAgICAgICAgKiAgIH0pXG4gICAgICogPC9wcmU+XG4gICAgICovXG4gICAgc3RhcnRXb3JrZmxvdyhvcHRpb25zOiB7aXRlbTogc3RyaW5nOyB0ZW1wbGF0ZUlkOiBzdHJpbmc7IHdvcmtmbG93UGFyYW1ldGVycz86IHN0cmluZzsgZmlsZVJlZj86IHN0cmluZzt9KTogbmcuSVByb21pc2U8YW55PiB7XG4gICAgICAgIGxldCBkZWZhdWx0cyA9IHtcbiAgICAgICAgICAgIG9wZXJhdGlvbjogJ1N0YXJ0V29ya2Zsb3cnLFxuICAgICAgICAgICAgaXRlbTogJycsXG4gICAgICAgICAgICBmaWxlUmVmOiAnJyxcbiAgICAgICAgICAgIHRlbXBsYXRlSWQ6ICcnLFxuICAgICAgICAgICAgd29ya2Zsb3dQYXJhbWV0ZXJzOiAnPHJvb3QgLz4nXG4gICAgICAgIH07XG4gICAgICAgIGxldCBvcHRzOiB7aXRlbTogc3RyaW5nOyBmaWxlUmVmOiBzdHJpbmc7fSA9IF8uYXNzaWduKHt9LCBkZWZhdWx0cywgb3B0aW9ucyk7XG5cbiAgICAgICAgLyoqIFdlIGhhdmUgdGhlIHJlbGF0aXZlIGZpbGUgcmVmZXJlbmNlIGJ1dCB3ZSBuZWVkIHRvIGNyZWF0ZSB0aGUgZnVsbHkgcXVhbGlmaWVkIHJlZmVyZW5jZSAqL1xuICAgICAgICBpZiAoIW9wdHMuaXRlbSAmJiBvcHRzLmZpbGVSZWYpIHtcbiAgICAgICAgICAgIG9wdHMuaXRlbSA9IHRoaXMuY3JlYXRlSXRlbVVybEZyb21GaWxlUmVmKG9wdHMuZmlsZVJlZik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5zZXJ2aWNlV3JhcHBlcig8YW55PiBvcHRzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBTaW1wbHkgdmVyaWZpZXMgdGhhdCBhbGwgY29tcG9uZW50cyBvZiB0aGUgcGF5bG9hZCBhcmUgcHJlc2VudC5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb3B0cyBQYXlsb2FkIGNvbmZpZy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gQ29sbGVjdGlvbiBpcyB2YWxpZC5cbiAgICAgKi9cbiAgICB2YWxpZGF0ZUNvbGxlY3Rpb25QYXlsb2FkKG9wdHMpOiBib29sZWFuIHtcbiAgICAgICAgbGV0IHZhbGlkUGF5bG9hZCA9IHRydWU7XG4gICAgICAgIGxldCB2ZXJpZnlQYXJhbXMgPSAocGFyYW1zKSA9PiB7XG4gICAgICAgICAgICBfLmVhY2gocGFyYW1zLCAocGFyYW0pID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIW9wdHNbcGFyYW1dKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2Fybignb3B0aW9ucycgKyBwYXJhbSArICcgaXMgcmVxdWlyZWQgdG8gY29tcGxldGUgdGhpcyBvcGVyYXRpb24nKTtcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRQYXlsb2FkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy9WZXJpZnkgYWxsIHJlcXVpcmVkIHBhcmFtcyBhcmUgaW5jbHVkZWRcbiAgICAgICAgc3dpdGNoIChvcHRzLm9wZXJhdGlvbikge1xuICAgICAgICAgICAgY2FzZSAnR2V0R3JvdXBDb2xsZWN0aW9uRnJvbVVzZXInOlxuICAgICAgICAgICAgICAgIHZlcmlmeVBhcmFtcyhbJ3VzZXJMb2dpbk5hbWUnXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdHZXRVc2VyQ29sbGVjdGlvbkZyb21Hcm91cCc6XG4gICAgICAgICAgICAgICAgdmVyaWZ5UGFyYW1zKFsnZ3JvdXBOYW1lJ10pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnR2V0Vmlld0NvbGxlY3Rpb24nOlxuICAgICAgICAgICAgICAgIHZlcmlmeVBhcmFtcyhbJ2xpc3ROYW1lJ10pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnR2V0QXR0YWNobWVudENvbGxlY3Rpb24nOlxuICAgICAgICAgICAgICAgIHZlcmlmeVBhcmFtcyhbJ2xpc3ROYW1lJywgJ0lEJ10pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWxpZFBheWxvYWQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBlcnJvckhhbmRsZXIoZXJyb3JNc2c6IHN0cmluZywgZGVmZXJyZWQ6IG5nLklEZWZlcnJlZDxhbnk+LCBzb2FwRGF0YTogT2JqZWN0LCByZXNwb25zZT86IE9iamVjdCkge1xuICAgICAgICAvL0xvZyBlcnJvciB0byBhbnkgc2VydmVyIHNpZGUgbG9nZ2luZyBsaXN0XG4gICAgICAgIGFwTG9nZ2VyLmVycm9yKGVycm9yTXNnLCB7XG4gICAgICAgICAgICBqc29uOiB7XG4gICAgICAgICAgICAgICAgcmVxdWVzdDogSlNPTi5zdHJpbmdpZnkoc29hcERhdGEsIG51bGwsIDIpLFxuICAgICAgICAgICAgICAgIHJlc3BvbnNlOiBKU09OLnN0cmluZ2lmeShyZXNwb25zZSwgbnVsbCwgMilcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgZGVmZXJyZWQucmVqZWN0KGVycm9yTXNnKTtcbiAgICB9XG5cbn1cblxuZXhwb3J0IGludGVyZmFjZSBJR2V0Q29sbGVjdGlvbk9wdGlvbnMge1xuICAgIGZpbHRlck5vZGU/OiBzdHJpbmc7XG4gICAgSUQ/OiBudW1iZXI7XG4gICAgZ3JvdXBOYW1lPzogc3RyaW5nO1xuICAgIGxpc3ROYW1lPzogc3RyaW5nO1xuICAgIG9wZXJhdGlvbjogc3RyaW5nO1xuICAgIHVzZXJMb2dpbk5hbWU/OiBzdHJpbmc7XG4gICAgd2ViVVJMPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElTZXJ2aWNlV3JhcHBlck9wdGlvbnMge1xuICAgIGZpbHRlck5vZGU/OiBzdHJpbmc7XG4gICAgbGlzdEl0ZW1JRD86IG51bWJlcjtcbiAgICBvcGVyYXRpb246IHN0cmluZztcbiAgICBwb3N0UHJvY2Vzcz86IChyZXNwb25zZVhNTDogT2JqZWN0KSA9PiBhbnk7XG4gICAgd2ViVVJMPzogc3RyaW5nO1xuICAgIFtrZXk6IHN0cmluZ106IGFueTtcbn1cblxuLy8gaW50ZXJmYWNlIElVcGRhdGVMaXN0aXRlbU9wdGlvbnMge1xuLy8gICAgIGJ1aWxkVmFsdWVQYWlycz86IGJvb2xlYW47XG4vLyAgICAgdmFsdWVQYWlycz86IFtzdHJpbmcsIGFueV1bXTtcbi8vIH1cblxuZXhwb3J0IGludGVyZmFjZSBJR2V0RmllbGRWZXJzaW9uSGlzdG9yeU9wdGlvbnMge1xuICAgIG9wZXJhdGlvbj86IHN0cmluZztcbiAgICBzdHJGaWVsZE5hbWU/OiBzdHJpbmc7XG4gICAgc3RybGlzdElEOiBzdHJpbmc7ICAvLyBjb3JyZWN0IGNhc2VcbiAgICBzdHJsaXN0SXRlbUlEOiBudW1iZXI7IC8vIGNvcnJlY3QgY2FzZVxuICAgIHdlYlVSTD86IHN0cmluZztcbn1cblxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyIS4vc3JjL3NlcnZpY2VzL2FwRGF0YVNlcnZpY2UudHMiLCJpbXBvcnQgKiBhcyBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQge0NhY2hlU2VydmljZX0gZnJvbSAnLi9hcENhY2hlU2VydmljZSc7XG5pbXBvcnQge0xvb2t1cEZhY3RvcnksIElMb29rdXB9IGZyb20gJy4uL2ZhY3Rvcmllcy9hcExvb2t1cEZhY3RvcnknO1xuaW1wb3J0IHtVc2VyRmFjdG9yeSwgSVVzZXJ9IGZyb20gJy4uL2ZhY3Rvcmllcy9hcFVzZXJGYWN0b3J5JztcbmltcG9ydCB7RmllbGRTZXJ2aWNlfSBmcm9tICcuL2FwRmllbGRTZXJ2aWNlJztcbmltcG9ydCB7SVhNTExpc3RBdHRyaWJ1dGVUeXBlc30gZnJvbSAnLi4vY29uc3RhbnRzL2FwWE1MTGlzdEF0dHJpYnV0ZVR5cGVzJztcbmltcG9ydCB7SVhNTEZpZWxkQXR0cmlidXRlVHlwZXN9IGZyb20gJy4uL2NvbnN0YW50cy9hcFhNTEZpZWxkQXR0cmlidXRlVHlwZXMnO1xuaW1wb3J0IHtYTUxUb0pTT05TZXJ2aWNlfSBmcm9tICcuL2FwWE1MVG9KU09OU2VydmljZSc7XG5pbXBvcnQge0xpc3RJdGVtLCBJVW5pbnN0YW50aWF0ZWRFeHRlbmRlZExpc3RJdGVtLCBJVW5pbnN0YW50aWF0ZWRMaXN0SXRlbX0gZnJvbSAnLi4vZmFjdG9yaWVzL2FwTGlzdEl0ZW1GYWN0b3J5JztcbmltcG9ydCB7TW9kZWx9IGZyb20gJy4uL2ZhY3Rvcmllcy9hcE1vZGVsRmFjdG9yeSc7XG5pbXBvcnQge0lRdWVyeSwgSUV4ZWN1dGVRdWVyeU9wdGlvbnN9IGZyb20gJy4uL2ZhY3Rvcmllcy9hcFF1ZXJ5RmFjdG9yeSc7XG5pbXBvcnQge0luZGV4ZWRDYWNoZX0gZnJvbSAnLi4vZmFjdG9yaWVzL2FwSW5kZXhlZENhY2hlRmFjdG9yeSc7XG5pbXBvcnQge0lGaWVsZERlZmluaXRpb259IGZyb20gJy4uL2ZhY3Rvcmllcy9hcEZpZWxkRmFjdG9yeSc7XG5pbXBvcnQge0xpc3QsIElMaXN0RmllbGRNYXBwaW5nfSBmcm9tICcuLi9mYWN0b3JpZXMvYXBMaXN0RmFjdG9yeSc7XG5pbXBvcnQge0ZpZWxkVmVyc2lvbkNvbGxlY3Rpb259IGZyb20gJy4uL2ZhY3Rvcmllcy9hcExpc3RJdGVtVmVyc2lvbkZhY3RvcnknO1xuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgYW5ndWxhclBvaW50LmFwRGVjb2RlU2VydmljZVxuICogQGRlc2NyaXB0aW9uXG4gKiBQcm9jZXNzZXMgdGhlIFhNTCByZWNlaXZlZCBmcm9tIFNoYXJlUG9pbnQgYW5kIGNvbnZlcnRzIGl0IGludG8gSmF2YVNjcmlwdCBvYmplY3RzIGJhc2VkIG9uIHByZWRlZmluZWQgZmllbGQgdHlwZXMuXG4gKlxuICogQHJlcXVpcmVzIGFuZ3VsYXJQb2ludC5hcFV0aWxpdHlTZXJ2aWNlXG4gKiBAcmVxdWlyZXMgYW5ndWxhclBvaW50LmFwQ29uZmlnXG4gKiBAcmVxdWlyZXMgYW5ndWxhclBvaW50LmFwQ2FjaGVTZXJ2aWNlXG4gKi9cbmV4cG9ydCBjbGFzcyBEZWNvZGVTZXJ2aWNlIHtcbiAgICBzdGF0aWMgJGluamVjdCA9IFsnYXBDYWNoZVNlcnZpY2UnLCAnYXBMb29rdXBGYWN0b3J5JywgJ2FwVXNlckZhY3RvcnknLCAnYXBGaWVsZFNlcnZpY2UnLFxuICAgICAgICAnYXBYTUxMaXN0QXR0cmlidXRlVHlwZXMnLCAnYXBYTUxGaWVsZEF0dHJpYnV0ZVR5cGVzJywgJ2FwWE1MVG9KU09OU2VydmljZSddO1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBhcENhY2hlU2VydmljZTogQ2FjaGVTZXJ2aWNlLCBwcml2YXRlIGFwTG9va3VwRmFjdG9yeTogTG9va3VwRmFjdG9yeSxcbiAgICAgICAgICAgICAgICBwcml2YXRlIGFwVXNlckZhY3Rvcnk6IFVzZXJGYWN0b3J5LCBwcml2YXRlIGFwRmllbGRTZXJ2aWNlOiBGaWVsZFNlcnZpY2UsIHByaXZhdGUgYXBYTUxMaXN0QXR0cmlidXRlVHlwZXM6IElYTUxMaXN0QXR0cmlidXRlVHlwZXMsXG4gICAgICAgICAgICAgICAgcHJpdmF0ZSBhcFhNTEZpZWxkQXR0cmlidXRlVHlwZXM6IElYTUxGaWVsZEF0dHJpYnV0ZVR5cGVzLCBwcml2YXRlIGFwWE1MVG9KU09OU2VydmljZTogWE1MVG9KU09OU2VydmljZSkge1xuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgYW5ndWxhclBvaW50LmFwRGVjb2RlU2VydmljZTpjaGVja1Jlc3BvbnNlRm9yRXJyb3JzXG4gICAgICogQG1ldGhvZE9mIGFuZ3VsYXJQb2ludC5hcERlY29kZVNlcnZpY2VcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBFcnJvcnMgZG9uJ3QgYWx3YXlzIHRocm93IGNvcnJlY3RseSBmcm9tIFNQU2VydmljZXMgc28gdGhpcyBmdW5jdGlvbiBjaGVja3MgdG8gc2VlIGlmIHBhcnRcbiAgICAgKiBvZiB0aGUgWEhSIHJlc3BvbnNlIGNvbnRhaW5zIGFuIFwiZXJyb3JzdHJpbmdcIiBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSByZXNwb25zZVhNTCBYSFIgcmVzcG9uc2UgZnJvbSB0aGUgc2VydmVyLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgYW4gZXJyb3Igc3RyaW5nIGlmIHByZXNlbnQuXG4gICAgICovXG4gICAgY2hlY2tSZXNwb25zZUZvckVycm9ycyhyZXNwb25zZVhNTDogRWxlbWVudCB8IERvY3VtZW50KTogc3RyaW5nIHtcbiAgICAgICAgbGV0IGVycm9yO1xuICAgICAgICAvKiogTG9vayBmb3IgPGVycm9yc3RyaW5nPjwvZXJyb3JzdHJpbmc+IG9yIDxFcnJvclRleHQ+PC9FcnJvclRleHQ+IGZvciBkZXRhaWxzIG9uIGFueSBlcnJvcnMgKi9cbiAgICAgICAgbGV0IGVycm9yRWxlbWVudHMgPSBbJ0Vycm9yVGV4dCcsICdlcnJvcnN0cmluZyddO1xuICAgICAgICBfLmVhY2goZXJyb3JFbGVtZW50cywgKGVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgICQocmVzcG9uc2VYTUwpLmZpbmQoZWxlbWVudCkuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZXJyb3IgPSAkKHRoaXMpLnRleHQoKTtcbiAgICAgICAgICAgICAgICAvKiogQnJlYWsgZWFybHkgaWYgZm91bmQgKi9cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBlcnJvcjtcbiAgICB9XG5cbiAgICAvKiogQ29udmVydHMgVVRDIGRhdGUgdG8gYSBsb2NhbGl6ZWQgZGF0ZVxuICAgICAqIFRha2VuIGZyb206IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNjUyNTUzOC9jb252ZXJ0LXV0Yy1kYXRlLXRpbWUtdG8tbG9jYWwtZGF0ZS10aW1lLXVzaW5nLWphdmFzY3JpcHRcbiAgICAgKiAqL1xuICAgIGNvbnZlcnRVVENEYXRlVG9Mb2NhbERhdGUoZGF0ZTogRGF0ZSk6IERhdGUge1xuICAgICAgICBsZXQgbmV3RGF0ZSA9IG5ldyBEYXRlKGRhdGUuZ2V0VGltZSgpICsgZGF0ZS5nZXRUaW1lem9uZU9mZnNldCgpICogNjAgKiAxMDAwKTtcblxuICAgICAgICBsZXQgb2Zmc2V0ID0gZGF0ZS5nZXRUaW1lem9uZU9mZnNldCgpIC8gNjA7XG4gICAgICAgIGxldCBob3VycyA9IGRhdGUuZ2V0SG91cnMoKTtcblxuICAgICAgICBuZXdEYXRlLnNldEhvdXJzKGhvdXJzIC0gb2Zmc2V0KTtcblxuICAgICAgICByZXR1cm4gbmV3RGF0ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBEZWNvZGVTZXJ2aWNlOmNyZWF0ZUxpc3RJdGVtUHJvdmlkZXJcbiAgICAgKiBAbWV0aG9kT2YgYW5ndWxhclBvaW50LmFwRGVjb2RlU2VydmljZVxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFRoZSBpbml0aWFsIGNvbnN0cnVjdG9yIGZvciBhIGxpc3QgaXRlbSB0aGF0IHJlZmVyZW5jZXMgdGhlIGFycmF5IHdoZXJlIHRoZSBlbnRpdHkgZXhpc3RzIGFuZCB0aGVcbiAgICAgKiBxdWVyeSB1c2VkIHRvIGZldGNoIHRoZSBlbnRpdHkuICBGcm9tIHRoZXJlIGl0IGV4dGVuZHMgdGhlIGVudGl0eSB1c2luZyB0aGUgZmFjdG9yeSBkZWZpbmVkIGluIHRoZVxuICAgICAqIG1vZGVsIGZvciB0aGUgbGlzdCBpdGVtLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBtb2RlbCBSZWZlcmVuY2UgdG8gdGhlIG1vZGVsIGZvciB0aGUgbGlzdCBpdGVtLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBxdWVyeSBSZWZlcmVuY2UgdG8gdGhlIHF1ZXJ5IG9iamVjdCB1c2VkIHRvIHJldHJpZXZlIHRoZSBlbnRpdHkuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGluZGV4ZWRDYWNoZSBMb2NhdGlvbiB3aGVyZSB3ZSdsbCBiZSBwdXNoaW5nIHRoZSBuZXcgZW50aXR5LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgdGFrZXMgdGhlIG5ldyBsaXN0IGl0ZW0gd2hpbGUga2VlcGluZyBtb2RlbCwgcXVlcnksXG4gICAgICogYW5kIGNvbnRhaW5lciBpbiBzY29wZSBmb3IgZnV0dXJlIHJlZmVyZW5jZS5cbiAgICAgKi9cbiAgICBjcmVhdGVMaXN0SXRlbVByb3ZpZGVyPFQgZXh0ZW5kcyBMaXN0SXRlbTxhbnk+Pihtb2RlbDogTW9kZWwsIHF1ZXJ5OiBJUXVlcnk8VD4sIGluZGV4ZWRDYWNoZTogSW5kZXhlZENhY2hlPFQ+KTogKHJhd09iamVjdDogT2JqZWN0KSA9PiBUIHtcbiAgICAgICAgcmV0dXJuIChyYXdPYmplY3Q6IElVbmluc3RhbnRpYXRlZEV4dGVuZGVkTGlzdEl0ZW08VD4pID0+IHtcbiAgICAgICAgICAgIGxldCBsaXN0SXRlbTogVDtcblxuICAgICAgICAgICAgaWYgKGluZGV4ZWRDYWNoZS5oYXMocmF3T2JqZWN0LmlkKSkge1xuICAgICAgICAgICAgICAgIC8vT2JqZWN0IGFscmVhZHkgZXhpc3RzIGluIGNhY2hlIHNvIHdlIGp1c3QgbmVlZCB0byB1cGRhdGUgcHJvcGVydGllc1xuICAgICAgICAgICAgICAgIGxpc3RJdGVtID0gaW5kZXhlZENhY2hlLmdldChyYXdPYmplY3QuaWQpO1xuXG4gICAgICAgICAgICAgICAgLy9DYWxsIGNvbnN0cnVjdG9yIG9uIG9yaWdpbmFsIGxpc3QgaXRlbSB0byBwZXJmb3JtIGFueSBpbml0aWFsaXphdGlvbiBsb2dpYyBhZ2FpblxuICAgICAgICAgICAgICAgIGxpc3RJdGVtLmNvbnN0cnVjdG9yKHJhd09iamVjdCk7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy9DcmVhdGluZyBhIG5ldyBMaXN0IEl0ZW1cblxuICAgICAgICAgICAgICAgIC8qKiBDcmVhdGUgUmVmZXJlbmNlIHRvIHRoZSBpbmRleGVkIGNhY2hlICovXG4gICAgICAgICAgICAgICAgcmF3T2JqZWN0LmdldENhY2hlID0gKCkgPT4gaW5kZXhlZENhY2hlO1xuXG4gICAgICAgICAgICAgICAgLyoqIEFsbG93IHVzIHRvIHJlZmVyZW5jZSB0aGUgb3JpZ2luYXRpbmcgcXVlcnkgdGhhdCBnZW5lcmF0ZWQgdGhpcyBvYmplY3QgKi9cbiAgICAgICAgICAgICAgICByYXdPYmplY3QuZ2V0UXVlcnkgPSAoKSA9PiBxdWVyeTtcblxuICAgICAgICAgICAgICAgIGxpc3RJdGVtID0gbmV3IG1vZGVsLmZhY3Rvcnk8VD4ocmF3T2JqZWN0KTtcblxuICAgICAgICAgICAgICAgIC8qKiBSZWdpc3RlciBpbiBnbG9iYWwgYXBwbGljYXRpb24gbGlzdEl0ZW0gY2FjaGUgKi9cbiAgICAgICAgICAgICAgICB0aGlzLmFwQ2FjaGVTZXJ2aWNlLnJlZ2lzdGVyRW50aXR5PFQ+KGxpc3RJdGVtLCBpbmRleGVkQ2FjaGUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvL1N0b3JlIHRoZSB2YWx1ZSBpbnN0ZWFkIG9mIGp1c3QgYSByZWZlcmVuY2UgdG8gdGhlIG9yaWdpbmFsIG9iamVjdFxuICAgICAgICAgICAgbGV0IHByaXN0aW5lVmFsdWUgPSBfLmNsb25lRGVlcChyYXdPYmplY3QpO1xuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgICAgICogQG5hbWUgTGlzdEl0ZW0uZ2V0UHJpc3RpbmVcbiAgICAgICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgICAgICogQWxsb3cgdXMgdG8gcmVmZXJlbmNlIHRoZSB1bmluc3RhbnRpYXRlZCB2ZXJzaW9uIG9mIHRoaXMgbGlzdCBpdGVtLiAgUmVmZXJlbmNlIHNldFxuICAgICAgICAgICAgICogdmlhIGFuZ3VsYXJQb2ludC5hcERlY29kZVNlcnZpY2U6Y3JlYXRlTGlzdEl0ZW1Qcm92aWRlci5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgbGlzdEl0ZW0uZ2V0UHJpc3RpbmUgPSAoKSA9PiBwcmlzdGluZVZhbHVlO1xuXG4gICAgICAgICAgICByZXR1cm4gaW5kZXhlZENhY2hlLmdldChyYXdPYmplY3QuaWQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgYW5ndWxhclBvaW50LmFwRGVjb2RlU2VydmljZTpleHRlbmRGaWVsZERlZmluaXRpb25zRnJvbVhNTFxuICAgICAqIEBtZXRob2RPZiBhbmd1bGFyUG9pbnQuYXBEZWNvZGVTZXJ2aWNlXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogVGFrZXMgdGhlIFhNTCByZXNwb25zZSBmcm9tIGEgd2ViIHNlcnZpY2UgY2FsbCBhbmQgZXh0ZW5kcyBhbnkgZmllbGQgZGVmaW5pdGlvbnMgaW4gdGhlIG1vZGVsXG4gICAgICogd2l0aCBhZGRpdGlvbmFsIGZpZWxkIG1ldGFkYXRhLiAgSW1wb3J0YW50IHRvIG5vdGUgdGhhdCBhbGwgcHJvcGVydGllcyB3aWxsIGNvbWluZyBmcm9tIHRoZSBYTUwgc3RhcnRcbiAgICAgKiB3aXRoIGEgY2FwaXRhbCBsZXR0ZXIuXG4gICAgICogQHBhcmFtIHtvYmplY3RbXX0gZmllbGREZWZpbml0aW9ucyBGaWVsZCBkZWZpbml0aW9ucyBmcm9tIHRoZSBtb2RlbC5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gcmVzcG9uc2VYTUwgWE1MIHJlc3BvbnNlIGZyb20gdGhlIHNlcnZlci5cbiAgICAgKi9cbiAgICBleHRlbmRGaWVsZERlZmluaXRpb25zRnJvbVhNTChmaWVsZERlZmluaXRpb25zOiBJRmllbGREZWZpbml0aW9uW10sIHJlc3BvbnNlWE1MOiBFbGVtZW50KTogSUZpZWxkRGVmaW5pdGlvbltdIHtcbiAgICAgICAgbGV0IGZpZWxkTWFwID0ge307XG5cbiAgICAgICAgLyoqIE1hcCBhbGwgY3VzdG9tIGZpZWxkcyB3aXRoIGtleXMgb2YgdGhlIHN0YXRpY05hbWUgYW5kIHZhbHVlcyA9IGZpZWxkIGRlZmluaXRpb24gKi9cbiAgICAgICAgXy5lYWNoKGZpZWxkRGVmaW5pdGlvbnMsIChmaWVsZCkgPT4ge1xuICAgICAgICAgICAgaWYgKGZpZWxkLnN0YXRpY05hbWUpIHtcbiAgICAgICAgICAgICAgICBmaWVsZE1hcFtmaWVsZC5zdGF0aWNOYW1lXSA9IGZpZWxkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvKiogSXRlcmF0ZSBvdmVyIGVhY2ggb2YgdGhlIGZpZWxkIG5vZGVzICovXG4gICAgICAgIGxldCBmaWx0ZXJlZE5vZGVzID0gdGhpcy5hcFhNTFRvSlNPTlNlcnZpY2UuZmlsdGVyTm9kZXMocmVzcG9uc2VYTUwsICdGaWVsZCcpO1xuXG4gICAgICAgIF8uZWFjaChmaWx0ZXJlZE5vZGVzLCAoeG1sRmllbGQ6IEVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgIGxldCBzdGF0aWNOYW1lID0gJCh4bWxGaWVsZCkuYXR0cignU3RhdGljTmFtZScpO1xuICAgICAgICAgICAgbGV0IGZpZWxkRGVmaW5pdGlvbiA9IGZpZWxkTWFwW3N0YXRpY05hbWVdO1xuXG4gICAgICAgICAgICAvKiogSWYgd2UndmUgZGVmaW5lZCB0aGlzIGZpZWxkIHRoZW4gd2Ugc2hvdWxkIGV4dGVuZCBpdCAqL1xuICAgICAgICAgICAgaWYgKGZpZWxkRGVmaW5pdGlvbikge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5leHRlbmRPYmplY3RXaXRoWE1MQXR0cmlidXRlcyh4bWxGaWVsZCwgZmllbGREZWZpbml0aW9uLCB0aGlzLmFwWE1MRmllbGRBdHRyaWJ1dGVUeXBlcyk7XG5cbiAgICAgICAgICAgICAgICAvKiogQWRkaXRpb25hbCBwcm9jZXNzaW5nIGZvciBDaG9pY2UgZmllbGRzIHRvIGluY2x1ZGUgdGhlIGRlZmF1bHQgdmFsdWUgYW5kIGNob2ljZXMgKi9cbiAgICAgICAgICAgICAgICBpZiAoZmllbGREZWZpbml0aW9uLm9iamVjdFR5cGUgPT09ICdDaG9pY2UnIHx8IGZpZWxkRGVmaW5pdGlvbi5vYmplY3RUeXBlID09PSAnTXVsdGlDaG9pY2UnKSB7XG4gICAgICAgICAgICAgICAgICAgIGZpZWxkRGVmaW5pdGlvbi5DaG9pY2VzID0gW107XG4gICAgICAgICAgICAgICAgICAgIC8qKiBDb252ZXJ0IFhNTCBDaG9pY2VzIG9iamVjdCB0byBhbiBhcnJheSBvZiBjaG9pY2VzICovXG4gICAgICAgICAgICAgICAgICAgIGxldCB4bWxDaG9pY2VzID0gJCh4bWxGaWVsZCkuZmluZCgnQ0hPSUNFJyk7XG4gICAgICAgICAgICAgICAgICAgIF8uZWFjaCh4bWxDaG9pY2VzLCAoeG1sQ2hvaWNlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZERlZmluaXRpb24uQ2hvaWNlcy5wdXNoKCQoeG1sQ2hvaWNlKS50ZXh0KCkpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgZmllbGREZWZpbml0aW9uLkRlZmF1bHQgPSAkKHhtbEZpZWxkKS5maW5kKCdEZWZhdWx0JykudGV4dCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGZpZWxkRGVmaW5pdGlvbnM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgYW5ndWxhclBvaW50LmFwRGVjb2RlU2VydmljZTpleHRlbmRMaXN0RGVmaW5pdGlvbkZyb21YTUxcbiAgICAgKiBAbWV0aG9kT2YgYW5ndWxhclBvaW50LmFwRGVjb2RlU2VydmljZVxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFRha2VzIHRoZSBYTUwgcmVzcG9uc2UgZnJvbSBhIHdlYiBzZXJ2aWNlIGNhbGwgYW5kIGV4dGVuZHMgdGhlIGxpc3QgZGVmaW5pdGlvbiBpbiB0aGUgbW9kZWxcbiAgICAgKiB3aXRoIGFkZGl0aW9uYWwgZmllbGQgbWV0YWRhdGEuICBJbXBvcnRhbnQgdG8gbm90ZSB0aGF0IGFsbCBwcm9wZXJ0aWVzIHdpbGwgY29taW5nIGZyb20gdGhlIFhNTCBzdGFydFxuICAgICAqIHdpdGggYSBjYXBpdGFsIGxldHRlci5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gbGlzdCBtb2RlbC5saXN0XG4gICAgICogQHBhcmFtIHtvYmplY3R9IHJlc3BvbnNlWE1MIFhNTCByZXNwb25zZSBmcm9tIHRoZSBzZXJ2ZXIuXG4gICAgICogQHJldHVybnMge29iamVjdH0gRXh0ZW5kZWQgbGlzdCBvYmplY3QuXG4gICAgICovXG4gICAgZXh0ZW5kTGlzdERlZmluaXRpb25Gcm9tWE1MKGxpc3Q6IExpc3QsIHJlc3BvbnNlWE1MOiBFbGVtZW50KTogTGlzdCB7XG4gICAgICAgIGxldCBzZXJ2aWNlID0gdGhpcztcbiAgICAgICAgJChyZXNwb25zZVhNTCkuZmluZChcIkxpc3RcIikuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzZXJ2aWNlLmV4dGVuZE9iamVjdFdpdGhYTUxBdHRyaWJ1dGVzKHRoaXMsIGxpc3QsIHNlcnZpY2UuYXBYTUxMaXN0QXR0cmlidXRlVHlwZXMpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGxpc3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgYW5ndWxhclBvaW50LmFwRGVjb2RlU2VydmljZTpleHRlbmRMaXN0TWV0YWRhdGFcbiAgICAgKiBAbWV0aG9kT2YgYW5ndWxhclBvaW50LmFwRGVjb2RlU2VydmljZVxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIENvbnZlbmllbmNlIG1ldGhvZCB0aGF0IGV4dGVuZHMgdGhlIGxpc3QgZGVmaW5pdGlvbiBhbmQgdGhlIGZpZWxkIGRlZmluaXRpb25zIGZyb20gYW4geG1sIGxpc3QgcmVzcG9uc2VcbiAgICAgKiBmcm9tIHRoZSBzZXJ2ZXIuICBDYW4gYmUgdXNlZCBzcGVjaWZpY2FsbHkgd2l0aCBHZXRMaXN0SXRlbXNTaW5jZVRva2VuIGFuZCBHZXRMaXN0IG9wZXJhdGlvbnMuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG1vZGVsIE1vZGVsIGZvciBhIGdpdmVuIGxpc3QuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHJlc3BvbnNlWE1MIFhNTCByZXNwb25zZSBmcm9tIHRoZSBzZXJ2ZXIuXG4gICAgICovXG4gICAgZXh0ZW5kTGlzdE1ldGFkYXRhKG1vZGVsOiBNb2RlbCwgcmVzcG9uc2VYTUw6IEVsZW1lbnQpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5leHRlbmRMaXN0RGVmaW5pdGlvbkZyb21YTUwobW9kZWwubGlzdCwgcmVzcG9uc2VYTUwpO1xuICAgICAgICB0aGlzLmV4dGVuZEZpZWxkRGVmaW5pdGlvbnNGcm9tWE1MKG1vZGVsLmxpc3QuZmllbGRzLCByZXNwb25zZVhNTCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgYW5ndWxhclBvaW50LmFwRGVjb2RlU2VydmljZTpleHRlbmRPYmplY3RXaXRoWE1MQXR0cmlidXRlc1xuICAgICAqIEBtZXRob2RPZiBhbmd1bGFyUG9pbnQuYXBEZWNvZGVTZXJ2aWNlXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogVGFrZXMgYW4gWE1MIGVsZW1lbnQgYW5kIGNvcGllcyBhbGwgYXR0cmlidXRlcyBvdmVyIHRvIGEgZ2l2ZW4gSlMgb2JqZWN0IHdpdGggY29ycmVzcG9uZGluZyB2YWx1ZXMuICBJZlxuICAgICAqIG5vIEpTIE9iamVjdCBpcyBwcm92aWRlZCwgaXQgZXh0ZW5kcyBhbiBlbXB0eSBvYmplY3QgYW5kIHJldHVybnMgaXQuICBJZiBhbiBhdHRyaWJ1dGVUeXBlcyBvYmplY3QgaXMgcHJvdmlkZWRcbiAgICAgKiB3ZSBwYXJzZSBlYWNoIG9mIHRoZSBkZWZpbmVkIGZpZWxkIHNvIHRoZXkgYXJlIHR5cGVkIGNvcnJlY3RseSBpbnN0ZWFkIG9mIGJlaW5nIGEgc2ltcGxlIHN0cmluZy5cbiAgICAgKiBOb3RlOiBQcm9wZXJ0aWVzIGFyZSBub3QgbmVjZXNzYXJpbHkgQ0FNTENhc2UuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHhtbE9iamVjdCBBbiBYTUwgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW2pzT2JqZWN0PXt9XSBBbiBvcHRpb25hbCBKUyBPYmplY3QgdG8gZXh0ZW5kIFhNTCBhdHRyaWJ1dGVzIHRvLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbYXR0cmlidXRlVHlwZXM9e31dIEtleS9WYWwgb2JqZWN0IHdpdGgga2V5cyBiZWluZyB0aGUgbmFtZSBvZiB0aGUgZmllbGQgYW5kIHZhbCBiZWluZyB0aGVcbiAgICAgKiB0eXBlIG9mIGZpZWxkLlxuICAgICAqIEByZXR1cm5zIHtvYmplY3R9IEpTIE9iamVjdFxuICAgICAqL1xuICAgIGV4dGVuZE9iamVjdFdpdGhYTUxBdHRyaWJ1dGVzKHhtbE9iamVjdDogRWxlbWVudCwganNPYmplY3Q/OiBPYmplY3QsIGF0dHJpYnV0ZVR5cGVzPzogT2JqZWN0KTogT2JqZWN0IHtcbiAgICAgICAgbGV0IG9iamVjdFRvRXh0ZW5kID0ganNPYmplY3QgfHwge307XG4gICAgICAgIGxldCBhdHRyaWJ1dGVNYXAgPSBhdHRyaWJ1dGVUeXBlcyB8fCB7fTtcbiAgICAgICAgbGV0IHhtbEF0dHJpYnV0ZXMgPSB4bWxPYmplY3QuYXR0cmlidXRlcztcblxuICAgICAgICBfLmVhY2goeG1sQXR0cmlidXRlcywgKGF0dHIsIGF0dHJOdW0pID0+IHtcbiAgICAgICAgICAgIGxldCBhdHRyTmFtZSA9IHhtbEF0dHJpYnV0ZXNbYXR0ck51bV0ubmFtZTtcbiAgICAgICAgICAgIG9iamVjdFRvRXh0ZW5kW2F0dHJOYW1lXSA9ICQoeG1sT2JqZWN0KS5hdHRyKGF0dHJOYW1lKTtcbiAgICAgICAgICAgIGlmIChhdHRyaWJ1dGVNYXBbYXR0ck5hbWVdKSB7XG4gICAgICAgICAgICAgICAgb2JqZWN0VG9FeHRlbmRbYXR0ck5hbWVdID0gdGhpcy5wYXJzZVN0cmluZ1ZhbHVlKG9iamVjdFRvRXh0ZW5kW2F0dHJOYW1lXSwgYXR0cmlidXRlTWFwW2F0dHJOYW1lXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gb2JqZWN0VG9FeHRlbmQ7XG4gICAgfVxuXG5cbiAgICBqc0F0dGFjaG1lbnRzKHN0cik6IHN0cmluZ1tdIHwgbnVtYmVyIHwgc3RyaW5nIHtcbiAgICAgICAgLyogRGVwZW5kaW5nIG9uIENBTUxRdWVyeU9wdGlvbnMgQ29uZmlnIGFuIGF0dGFjaG1lbnQgY2FuIGJlIGZvcm1hdHRlZCBpbiAxIG9mIHRoZSBiZWxvdyAzIHdheXM6XG4gICAgICAgICAxLiB7bnVtYmVyfSBUaGUgbnVtYmVyIG9mIGF0dGFjaG1lbnRzIGZvciBhIGdpdmVuIGxpc3QgaXRlbS5cbiAgICAgICAgIENBTUxRdWVyeU9wdGlvbnNcbiAgICAgICAgIDxJbmNsdWRlQXR0YWNobWVudFVybHM+RkFMU0U8L0luY2x1ZGVBdHRhY2htZW50VXJscz5cbiAgICAgICAgIDxJbmNsdWRlQXR0YWNobWVudFZlcnNpb24+RkFMU0U8L0luY2x1ZGVBdHRhY2htZW50VmVyc2lvbj5cblxuICAgICAgICAgRXhhbXBsZVxuICAgICAgICAgb3dzX0F0dGFjaG1lbnRzPVwiMlwiXG5cbiAgICAgICAgIDIuIHtzdHJpbmd9XG4gICAgICAgICBDQU1MUXVlcnlPcHRpb25zXG4gICAgICAgICA8SW5jbHVkZUF0dGFjaG1lbnRVcmxzPlRSVUU8L0luY2x1ZGVBdHRhY2htZW50VXJscz5cbiAgICAgICAgIDxJbmNsdWRlQXR0YWNobWVudFZlcnNpb24+RkFMU0U8L0luY2x1ZGVBdHRhY2htZW50VmVyc2lvbj5cblxuICAgICAgICAgRm9ybWF0XG4gICAgICAgICA7I1tMaXN0VXJsXS9BdHRhY2htZW50cy9bTGlzdEl0ZW1JZF0vW0ZpbGVOYW1lXTsjXG5cbiAgICAgICAgIEV4YW1wbGU6XG4gICAgICAgICBvd3NfQXR0YWNobWVudHM9XCI7I2h0dHBzOi8vU2hhcmVQb2ludFNpdGUuY29tL0xpc3RzL1dpZGdldHMvQXR0YWNobWVudHMvNC9Eb2N1bWVudE5hbWUueGxzeDsjXCJcblxuICAgICAgICAgLy9Ub2RvIENoZWNrIHRvIHNlZSBpZiB0aGVyZSBpcyBhbnkgdmFsdWUgaW4gdGhpcyBvcHRpb25cbiAgICAgICAgIDMuIHtzdHJpbmd9IE5PVEU6IFdlIGRvbid0IGN1cnJlbnRseSBoYW5kbGUgdGhpcyBmb3JtYXQuXG4gICAgICAgICBDQU1MUXVlcnlPcHRpb25zXG4gICAgICAgICA8SW5jbHVkZUF0dGFjaG1lbnRVcmxzPlRSVUU8L0luY2x1ZGVBdHRhY2htZW50VXJscz5cbiAgICAgICAgIDxJbmNsdWRlQXR0YWNobWVudFZlcnNpb24+VFJVRTwvSW5jbHVkZUF0dGFjaG1lbnRWZXJzaW9uPlxuXG4gICAgICAgICBGb3JtYXRcbiAgICAgICAgIDsjW0xpc3RVcmxdL0F0dGFjaG1lbnRzL1tMaXN0SXRlbUlkXS9bRmlsZU5hbWVdOyNbQXR0YWNobWVudEdVSURdLFtWZXJzaW9uIE51bWJlcl07I1xuXG4gICAgICAgICBFeGFtcGxlOlxuICAgICAgICAgb3dzX0F0dGFjaG1lbnRzPVwiOyNodHRwczovL1NoYXJlUG9pbnRTaXRlLmNvbS9MaXN0cy9XaWRnZXRzL0F0dGFjaG1lbnRzLzQvRG9jdW1lbnROYW1lLnhsc3g7I3s0Mzc4RDM5NC04NjAxLTQ4MEQtQUJEMC0wQTA1MDVFNzI2RkJ9LDE7I1wiXG4gICAgICAgICAqL1xuICAgICAgICBpZiAoIWlzTmFOKHN0cikpIHtcbiAgICAgICAgICAgIC8qKiBWYWx1ZSBpcyBhIG51bWJlciBjdXJyZW50IHN0b3JlZCBhcyBhIHN0cmluZyAqL1xuICAgICAgICAgICAgbGV0IGludCA9IHBhcnNlSW50KHN0cik7XG4gICAgICAgICAgICBpZiAoaW50ID4gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpbnQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8qKiBTcGxpdCBpbnRvIGFuIGFycmF5IG9mIGF0dGFjaG1lbnQgVVJMcyAqL1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuanNDaG9pY2VNdWx0aShzdHIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAganNCb29sZWFuKHN0cjogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIC8qKiBTaGFyZVBvaW50IHVzZXMgZGlmZmVyZW50IHN0cmluZyByZXByZXNlbnRhdGlvbnMgZm9yIGJvb2xlYW5zIGluIGRpZmZlcmVudCBwbGFjZXMgc28gYWNjb3VudCBmb3IgZWFjaCAqL1xuICAgICAgICByZXR1cm4gc3RyID09PSAnMScgfHwgc3RyID09PSAnVHJ1ZScgfHwgc3RyID09PSAnVFJVRSc7XG4gICAgfVxuXG4gICAganNDYWxjKHN0cjogc3RyaW5nKTogYW55IHtcbiAgICAgICAgaWYgKHN0ci5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IHRoaXNDYWxjID0gc3RyLnNwbGl0KCc7IycpO1xuICAgICAgICAgICAgLy8gVGhlIGZpcnN0IHZhbHVlIHdpbGwgYmUgdGhlIGNhbGN1bGF0ZWQgY29sdW1uIHZhbHVlIHR5cGUsIHRoZSBzZWNvbmQgd2lsbCBiZSB0aGUgdmFsdWVcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcnNlU3RyaW5nVmFsdWUodGhpc0NhbGNbMV0sIHRoaXNDYWxjWzBdKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGpzQ2hvaWNlTXVsdGkoc3RyOiBzdHJpbmcpOiBzdHJpbmdbXSB7XG4gICAgICAgIGlmIChzdHIubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgdGhpc0Nob2ljZU11bHRpT2JqZWN0ID0gW107XG4gICAgICAgICAgICBsZXQgdGhpc0Nob2ljZU11bHRpID0gc3RyLnNwbGl0KCc7IycpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzQ2hvaWNlTXVsdGkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpc0Nob2ljZU11bHRpW2ldLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzQ2hvaWNlTXVsdGlPYmplY3QucHVzaCh0aGlzQ2hvaWNlTXVsdGlbaV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzQ2hvaWNlTXVsdGlPYmplY3Q7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBqc0RhdGUoc3RyOiBzdHJpbmcpOiBEYXRlIHtcbiAgICAgICAgaWYgKCFzdHIpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLyoqIFJlcGxhY2UgZGFzaGVzIHdpdGggc2xhc2hlcyBhbmQgdGhlIFwiVFwiIGRlbGltaW5hdG9yIHdpdGggYSBzcGFjZSBpZiBmb3VuZCAqL1xuICAgICAgICAgICAgbGV0IGR0ID0gc3RyLnNwbGl0KFwiVFwiKVswXSAhPT0gc3RyID8gc3RyLnNwbGl0KFwiVFwiKSA6IHN0ci5zcGxpdChcIiBcIik7XG4gICAgICAgICAgICBsZXQgZCA9IGR0WzBdLnNwbGl0KFwiLVwiKTtcbiAgICAgICAgICAgIGxldCB0ID0gZHRbMV0uc3BsaXQoXCI6XCIpO1xuICAgICAgICAgICAgbGV0IHQzID0gdFsyXS5zcGxpdChcIlpcIik7XG4gICAgICAgICAgICByZXR1cm4gbmV3IERhdGUoPGFueT4gZFswXSwgKDxhbnk+ZFsxXSAtIDEpLCA8YW55PmRbMl0sIDxhbnk+dFswXSwgPGFueT50WzFdLCA8YW55PnQzWzBdKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGpzRmxvYXQoc3RyOiBzdHJpbmcpOiBudW1iZXIge1xuICAgICAgICBpZiAoIXN0cikge1xuICAgICAgICAgICAgcmV0dXJuIDxhbnk+c3RyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQoc3RyKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGpzSW50KHN0cjogc3RyaW5nKTogbnVtYmVyIHtcbiAgICAgICAgaWYgKCFzdHIpIHtcbiAgICAgICAgICAgIHJldHVybiA8YW55PnN0cjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUludChzdHIsIDEwKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGpzTG9va3VwKHN0cjogc3RyaW5nLCBvcHRpb25zPzogT2JqZWN0KTogSUxvb2t1cDxhbnk+IHtcbiAgICAgICAgaWYgKHN0ci5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy9TZW5kIHRvIGNvbnN0cnVjdG9yXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hcExvb2t1cEZhY3RvcnkuY3JlYXRlKHN0ciwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBqc0xvb2t1cE11bHRpKHN0cjogc3RyaW5nLCBvcHRpb25zPzogT2JqZWN0KTogSUxvb2t1cDxhbnk+W10ge1xuICAgICAgICBpZiAoc3RyLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IHRoaXNMb29rdXBNdWx0aU9iamVjdCA9IFtdO1xuICAgICAgICAgICAgbGV0IHRoaXNMb29rdXBNdWx0aSA9IHN0ci5zcGxpdCgnOyMnKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpc0xvb2t1cE11bHRpLmxlbmd0aDsgaSA9IGkgKyAyKSB7XG4gICAgICAgICAgICAgICAgLyoqIEVuc3VyZSBhIGxvb2t1cCBpZCBpcyBwcmVzZW50IGJlZm9yZSBhdHRlbXB0aW5nIHRvIHB1c2ggYSBuZXcgbG9va3VwICovXG4gICAgICAgICAgICAgICAgaWYgKHRoaXNMb29rdXBNdWx0aVtpXSkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgdGhpc0xvb2t1cCA9IHRoaXMuanNMb29rdXAodGhpc0xvb2t1cE11bHRpW2ldICsgJzsjJyArIHRoaXNMb29rdXBNdWx0aVtpICsgMV0sIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzTG9va3VwTXVsdGlPYmplY3QucHVzaCh0aGlzTG9va3VwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpc0xvb2t1cE11bHRpT2JqZWN0O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAganNPYmplY3Qoc3RyOiBzdHJpbmcpOiBPYmplY3Qge1xuICAgICAgICBpZiAoIXN0cikge1xuICAgICAgICAgICAgcmV0dXJuIHN0cjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8qKiBFbnN1cmUgSlNPTiBpcyB2YWxpZCBhbmQgaWYgbm90IHRocm93IGVycm9yIHdpdGggYWRkaXRpb25hbCBkZXRhaWwgKi9cbiAgICAgICAgICAgIGxldCBqc29uID0gbnVsbDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAganNvbiA9IEpTT04ucGFyc2Uoc3RyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdJbnZhbGlkIEpTT046ICcsIHN0cik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ganNvbjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGpzU3RyaW5nKHN0cjogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHN0cjtcbiAgICB9XG5cbiAgICBqc1VzZXIoc3RyOiBzdHJpbmcpOiBJVXNlciB7XG4gICAgICAgIGlmIChzdHIubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICAvL1NlbmQgdG8gY29uc3RydWN0b3JcbiAgICAgICAgcmV0dXJuIHRoaXMuYXBVc2VyRmFjdG9yeS5jcmVhdGUoc3RyKTtcbiAgICB9XG5cbiAgICBqc1VzZXJNdWx0aShzdHI6IHN0cmluZyk6IElVc2VyW10ge1xuICAgICAgICBpZiAoc3RyLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IHRoaXNVc2VyTXVsdGlPYmplY3QgPSBbXTtcbiAgICAgICAgICAgIGxldCB0aGlzVXNlck11bHRpID0gc3RyLnNwbGl0KCc7IycpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzVXNlck11bHRpLmxlbmd0aDsgaSA9IGkgKyAyKSB7XG4gICAgICAgICAgICAgICAgbGV0IHRoaXNVc2VyID0gdGhpcy5qc1VzZXIodGhpc1VzZXJNdWx0aVtpXSArICc7IycgKyB0aGlzVXNlck11bHRpW2kgKyAxXSk7XG4gICAgICAgICAgICAgICAgdGhpc1VzZXJNdWx0aU9iamVjdC5wdXNoKHRoaXNVc2VyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzVXNlck11bHRpT2JqZWN0O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgYW5ndWxhclBvaW50LmFwRGVjb2RlU2VydmljZTpwYXJzZUZpZWxkVmVyc2lvbnNcbiAgICAgKiBAbWV0aG9kT2YgYW5ndWxhclBvaW50LmFwRGVjb2RlU2VydmljZVxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFRha2VzIGFuIFhNTCByZXNwb25zZSBmcm9tIFNoYXJlUG9pbnQgd2Vic2VydmljZSBhbmQgcmV0dXJucyBhbiBhcnJheSBvZiBmaWVsZCB2ZXJzaW9ucy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7eG1sfSByZXNwb25zZVhNTCBSZXR1cm5lZCBYTUwgZnJvbSB3ZWIgc2VydmljZSBjYWxsLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBmaWVsZERlZmluaXRpb24gRmllbGQgZGVmaW5pdGlvbiBmcm9tIHRoZSBtb2RlbC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtGaWVsZFZlcnNpb25Db2xsZWN0aW9ufSBGaWVsZFZlcnNpb25Db2xsZWN0aW9uIG9iamVjdCB3aXRoIGFsbCB2ZXJzaW9ucyBpbmNsdWRlZC5cbiAgICAgKi9cbiAgICBwYXJzZUZpZWxkVmVyc2lvbnMocmVzcG9uc2VYTUw6IEVsZW1lbnQsIGZpZWxkRGVmaW5pdGlvbjogSUZpZWxkRGVmaW5pdGlvbik6IEZpZWxkVmVyc2lvbkNvbGxlY3Rpb24ge1xuICAgICAgICAvLyBsZXQgdmVyc2lvbnMgPSB7fTtcbiAgICAgICAgbGV0IHhtbFZlcnNpb25zID0gJChyZXNwb25zZVhNTCkuZmluZCgnVmVyc2lvbicpO1xuICAgICAgICBsZXQgdmVyc2lvbkNvdW50ID0geG1sVmVyc2lvbnMubGVuZ3RoO1xuXG4gICAgICAgIGxldCBmaWVsZFZlcnNpb25Db2xsZWN0aW9uID0gbmV3IEZpZWxkVmVyc2lvbkNvbGxlY3Rpb24oZmllbGREZWZpbml0aW9uKTtcblxuICAgICAgICBfLmVhY2goeG1sVmVyc2lvbnMsICh4bWxWZXJzaW9uLCBpbmRleCkgPT4ge1xuXG4gICAgICAgICAgICAvKiogQnVnIGluIFNPQVAgV2ViIFNQU2VydmljZXNDb3JlIHJldHVybnMgdGltZSBpbiBVVEMgdGltZSBmb3IgdmVyc2lvbiBoaXN0b3J5XG4gICAgICAgICAgICAgKiAgRGV0YWlsczogaHR0cHM6Ly9zcHNlcnZpY2VzLmNvZGVwbGV4LmNvbS9kaXNjdXNzaW9ucy8zOTE4NzlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgbGV0IHV0Y0RhdGUgPSB0aGlzLnBhcnNlU3RyaW5nVmFsdWUoJCh4bWxWZXJzaW9uKS5hdHRyKCdNb2RpZmllZCcpLCAnRGF0ZVRpbWUnKTtcblxuICAgICAgICAgICAgLyoqIFBhcnNlIHRoZSB4bWwgYW5kIGNyZWF0ZSBhIHJlcHJlc2VudGF0aW9uIG9mIHRoZSB2ZXJzaW9uIGFzIGEganMgb2JqZWN0ICovXG4gICAgICAgICAgICBsZXQgZWRpdG9yID0gdGhpcy5wYXJzZVN0cmluZ1ZhbHVlKCQoeG1sVmVyc2lvbikuYXR0cignRWRpdG9yJyksICdVc2VyJyk7XG4gICAgICAgICAgICAvKiogVHVybiB0aGUgU2hhcmVQb2ludCBmb3JtYXR0ZWQgZGF0ZSBpbnRvIGEgdmFsaWQgZGF0ZSBvYmplY3QgKi9cbiAgICAgICAgICAgIGxldCBtb2RpZmllZCA9IHRoaXMuY29udmVydFVUQ0RhdGVUb0xvY2FsRGF0ZSh1dGNEYXRlKTtcbiAgICAgICAgICAgIC8qKiBQcm9wZXJseSBmb3JtYXQgZmllbGQgYmFzZWQgb24gZGVmaW5pdGlvbiBmcm9tIG1vZGVsICovXG4gICAgICAgICAgICBsZXQgdmFsdWUgPSB0aGlzLnBhcnNlU3RyaW5nVmFsdWUoJCh4bWxWZXJzaW9uKS5hdHRyKGZpZWxkRGVmaW5pdGlvbi5zdGF0aWNOYW1lKSwgZmllbGREZWZpbml0aW9uLm9iamVjdFR5cGUpO1xuICAgICAgICAgICAgbGV0IHZlcnNpb24gPSB2ZXJzaW9uQ291bnQgLSBpbmRleDtcblxuICAgICAgICAgICAgLyoqIEFkZCBlYWNoIGRpc3RpY3QgdmVyc2lvbiB0byB0aGUgdmVyc2lvbiBjb2xsZWN0aW9uICovXG4gICAgICAgICAgICBmaWVsZFZlcnNpb25Db2xsZWN0aW9uLmFkZFZlcnNpb24oZWRpdG9yLCBtb2RpZmllZCwgdmFsdWUsIHZlcnNpb24pO1xuXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBmaWVsZFZlcnNpb25Db2xsZWN0aW9uO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcERlY29kZVNlcnZpY2U6cGFyc2VTdHJpbmdWYWx1ZVxuICAgICAqIEBtZXRob2RPZiBhbmd1bGFyUG9pbnQuYXBEZWNvZGVTZXJ2aWNlXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogQ29udmVydHMgYSBTaGFyZVBvaW50IHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBhIGZpZWxkIGludG8gdGhlIGNvcnJlY3RseSBmb3JtYXR0ZWQgSmF2YVNjcmlwdCB2ZXJzaW9uXG4gICAgICogYmFzZWQgb24gb2JqZWN0IHR5cGUuICBBIG1ham9yaXR5IG9mIHRoaXMgY29kZSBpcyBkaXJlY3RseSB0YWtlbiBmcm9tIE1hcmMgQW5kZXJzb24ncyBpbmNyZWRpYmxlXG4gICAgICogW1NQU2VydmljZXNdKGh0dHA6Ly9zcHNlcnZpY2VzLmNvZGVwbGV4LmNvbS8pIHByb2plY3QgYnV0IGl0IG5lZWRlZCBzb21lIG1pbm9yIHR3ZWFraW5nIHRvIHdvcmsgaGVyZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyIFNoYXJlUG9pbnQgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgdmFsdWUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvYmplY3RUeXBlPSdUZXh0J10gVGhlIHR5cGUgYmFzZWQgb24gZmllbGQgZGVmaW5pdGlvbi4gIFNlZVxuICAgICAqIFNlZSBbTGlzdC5jdXN0b21GaWVsZHNdKCMvYXBpL0xpc3QuRmllbGREZWZpbml0aW9uKSBmb3IgYWRkaXRpb25hbCBpbmZvIG9uIGhvdyB0byBkZWZpbmUgYSBmaWVsZCB0eXBlLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyB0byBwYXNzIHRvIHRoZSBvYmplY3QgY29uc3RydWN0b3IuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zLmVudGl0eV0gUmVmZXJlbmNlIHRvIHRoZSBwYXJlbnQgbGlzdCBpdGVtIHdoaWNoIGNhbiBiZSB1c2VkIGJ5IGNoaWxkIGNvbnN0cnVjdG9ycy5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnMucHJvcGVydHlOYW1lXSBOYW1lIG9mIHByb3BlcnR5IG9uIHRoZSBsaXN0IGl0ZW0uXG4gICAgICogQHJldHVybnMgeyp9IFRoZSBuZXdseSBpbnN0YW50aWF0ZWQgSmF2YVNjcmlwdCB2YWx1ZSBiYXNlZCBvbiBmaWVsZCB0eXBlLlxuICAgICAqL1xuICAgIHBhcnNlU3RyaW5nVmFsdWUoc3RyOiBzdHJpbmcsIG9iamVjdFR5cGU/OiBzdHJpbmcsIG9wdGlvbnM/OiB7ZW50aXR5OiBPYmplY3Q7IHByb3BlcnR5TmFtZTogc3RyaW5nO30pOiBhbnkge1xuXG4gICAgICAgIGxldCB1bmVzY2FwZWRWYWx1ZSA9IF8udW5lc2NhcGUoc3RyKTtcblxuICAgICAgICBsZXQgY29sVmFsdWU7XG5cbiAgICAgICAgc3dpdGNoIChvYmplY3RUeXBlKSB7XG4gICAgICAgICAgICBjYXNlICdBdHRhY2htZW50cyc6XG4gICAgICAgICAgICAgICAgY29sVmFsdWUgPSB0aGlzLmpzQXR0YWNobWVudHModW5lc2NhcGVkVmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnQm9vbGVhbic6XG4gICAgICAgICAgICAgICAgY29sVmFsdWUgPSB0aGlzLmpzQm9vbGVhbih1bmVzY2FwZWRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdDYWxjdWxhdGVkJzogLy8gRm9ybWF0dGVkIGxpa2UgdHlwZTsjdmFsdWUgc28gd2UgYnJlYWsgaXQgYXBhcnQgYW5kIHRoZW4gcGFzcyBiYWNrIGluIHRvIGZvcm1hdCBjb3JyZWN0bHlcbiAgICAgICAgICAgICAgICBjb2xWYWx1ZSA9IHRoaXMuanNDYWxjKHVuZXNjYXBlZFZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2RhdGV0aW1lJzogLy8gRm9yIGNhbGN1bGF0ZWQgY29sdW1ucywgc3RvcmVkIGFzIGRhdGV0aW1lOyN2YWx1ZVxuICAgICAgICAgICAgY2FzZSAnRGF0ZVRpbWUnOlxuICAgICAgICAgICAgICAgIC8vIERhdGVzIGhhdmUgZGFzaGVzIGluc3RlYWQgb2Ygc2xhc2hlczogb3dzX0NyZWF0ZWQ9JzIwMDktMDgtMjUgMTQ6MjQ6NDgnXG4gICAgICAgICAgICAgICAgY29sVmFsdWUgPSB0aGlzLmpzRGF0ZSh1bmVzY2FwZWRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdMb29rdXAnOlxuICAgICAgICAgICAgICAgIGNvbFZhbHVlID0gdGhpcy5qc0xvb2t1cCh1bmVzY2FwZWRWYWx1ZSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdVc2VyJzpcbiAgICAgICAgICAgICAgICBjb2xWYWx1ZSA9IHRoaXMuanNVc2VyKHVuZXNjYXBlZFZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0xvb2t1cE11bHRpJzpcbiAgICAgICAgICAgICAgICBjb2xWYWx1ZSA9IHRoaXMuanNMb29rdXBNdWx0aSh1bmVzY2FwZWRWYWx1ZSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdVc2VyTXVsdGknOlxuICAgICAgICAgICAgICAgIGNvbFZhbHVlID0gdGhpcy5qc1VzZXJNdWx0aSh1bmVzY2FwZWRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdJbnRlZ2VyJzpcbiAgICAgICAgICAgIGNhc2UgJ0NvdW50ZXInOiAvLyBPbmx5IHJlYWxseSB1c2VkIGZvciB0aGUgSUQgZmllbGRcbiAgICAgICAgICAgICAgICBjb2xWYWx1ZSA9IHRoaXMuanNJbnQodW5lc2NhcGVkVmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnTnVtYmVyJzpcbiAgICAgICAgICAgIGNhc2UgJ0N1cnJlbmN5JzpcbiAgICAgICAgICAgIGNhc2UgJ2Zsb2F0JzogLy8gRm9yIGNhbGN1bGF0ZWQgY29sdW1ucywgc3RvcmVkIGFzIGZsb2F0OyN2YWx1ZVxuICAgICAgICAgICAgY2FzZSAnRmxvYXQnOlxuICAgICAgICAgICAgICAgIGNvbFZhbHVlID0gdGhpcy5qc0Zsb2F0KHVuZXNjYXBlZFZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ011bHRpQ2hvaWNlJzpcbiAgICAgICAgICAgICAgICBjb2xWYWx1ZSA9IHRoaXMuanNDaG9pY2VNdWx0aSh1bmVzY2FwZWRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdKU09OJzogLy8gTm90IGEgdHJ1ZSBTaGFyZVBvaW50IGZpZWxkIHR5cGUgYnV0IGFjdHMgYXMgYSBkZWNvcmF0b3IgZm9yIE5vdGVcbiAgICAgICAgICAgICAgICBjb2xWYWx1ZSA9IHRoaXMuanNPYmplY3QodW5lc2NhcGVkVmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnQ2hvaWNlJzpcbiAgICAgICAgICAgIGNhc2UgJ0hUTUwnOlxuICAgICAgICAgICAgY2FzZSAnTm90ZSc6XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIC8vIEFsbCBvdGhlciBvYmplY3RUeXBlcyB3aWxsIGJlIHNpbXBsZSBzdHJpbmdzXG4gICAgICAgICAgICAgICAgY29sVmFsdWUgPSB0aGlzLmpzU3RyaW5nKHVuZXNjYXBlZFZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29sVmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgYW5ndWxhclBvaW50LmFwRGVjb2RlU2VydmljZTpwYXJzZVhNTEVudGl0eVxuICAgICAqIEBtZXRob2RPZiBhbmd1bGFyUG9pbnQuYXBEZWNvZGVTZXJ2aWNlXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogQ29udmVydCBhbiBYTUwgbGlzdCBpdGVtIGludG8gYSBKUyBvYmplY3QgdXNpbmcgdGhlIGZpZWxkcyBkZWZpbmVkIGluIHRoZSBtb2RlbCBmb3IgdGhlIGdpdmVuIGxpc3QgaXRlbS5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0geG1sRW50aXR5IFhNTCBPYmplY3QuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgQ29uZmlndXJhdGlvbiBvcHRpb25zLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBvcHRpb25zLm1hcHBpbmcgTWFwcGluZyBvZiBmaWVsZHMgd2UnZCBsaWtlIHRvIGV4dGVuZCBvbiBvdXIgSlMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuaW5jbHVkZUFsbEF0dHJzPWZhbHNlXSBJZiB0cnVlLCByZXR1cm4gYWxsIGF0dHJpYnV0ZXMsIHJlZ2FyZGxlc3Mgd2hldGhlclxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMucmVtb3ZlT3dzPXRydWVdIFNwZWNpZmljYWxseSBmb3IgR2V0TGlzdEl0ZW1zLCBpZiB0cnVlLCB0aGUgbGVhZGluZyBvd3NfIHdpbGwgYmUgcmVtb3ZlZC5cbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSBOZXcgZW50aXR5IHVzaW5nIHRoZSBmYWN0b3J5IG9uIHRoZSBtb2RlbC5cbiAgICAgKi9cbiAgICBwYXJzZVhtbEVudGl0eTxUIGV4dGVuZHMgTGlzdEl0ZW08YW55Pj4oeG1sRW50aXR5OiBFbGVtZW50LCB7bWFwcGluZywgaW5jbHVkZUFsbEF0dHJzID0gZmFsc2UsIHJlbW92ZU93cyA9IHRydWV9OiBJUGFyc2VYbWxFbnRpdHlPcHRpb25zKSB7XG4gICAgICAgIGxldCBlbnRpdHkgPSB7fTtcbiAgICAgICAgbGV0IHJvd0F0dHJzID0geG1sRW50aXR5LmF0dHJpYnV0ZXM7XG5cbiAgICAgICAgLyoqIEJyaW5nIGJhY2sgYWxsIG1hcHBlZCBjb2x1bW5zLCBldmVuIHRob3NlIHdpdGggbm8gdmFsdWUgKi9cbiAgICAgICAgXy5lYWNoKG1hcHBpbmcsIChmaWVsZERlZmluaXRpb24pID0+IHtcbiAgICAgICAgICAgIGVudGl0eVtmaWVsZERlZmluaXRpb24ubWFwcGVkTmFtZV0gPSB0aGlzLmFwRmllbGRTZXJ2aWNlLmdldERlZmF1bHRWYWx1ZUZvclR5cGUoZmllbGREZWZpbml0aW9uLm9iamVjdFR5cGUpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvKiogUGFyc2UgdGhyb3VnaCB0aGUgZWxlbWVudCdzIGF0dHJpYnV0ZXMgKi9cbiAgICAgICAgXy5lYWNoKHJvd0F0dHJzLCAoYXR0cikgPT4ge1xuICAgICAgICAgICAgbGV0IHRoaXNBdHRyTmFtZSA9IGF0dHIubmFtZTtcbiAgICAgICAgICAgIGxldCB0aGlzTWFwcGluZyA9IG1hcHBpbmdbdGhpc0F0dHJOYW1lXTtcbiAgICAgICAgICAgIGxldCB0aGlzT2JqZWN0TmFtZSA9IHR5cGVvZiB0aGlzTWFwcGluZyAhPT0gJ3VuZGVmaW5lZCcgPyB0aGlzTWFwcGluZy5tYXBwZWROYW1lIDogcmVtb3ZlT3dzID8gdGhpc0F0dHJOYW1lLnNwbGl0KCdvd3NfJylbMV0gOiB0aGlzQXR0ck5hbWU7XG4gICAgICAgICAgICBsZXQgdGhpc09iamVjdFR5cGUgPSB0eXBlb2YgdGhpc01hcHBpbmcgIT09ICd1bmRlZmluZWQnID8gdGhpc01hcHBpbmcub2JqZWN0VHlwZSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGlmIChpbmNsdWRlQWxsQXR0cnMgfHwgdGhpc01hcHBpbmcgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGVudGl0eVt0aGlzT2JqZWN0TmFtZV0gPSB0aGlzLnBhcnNlU3RyaW5nVmFsdWUoYXR0ci52YWx1ZSwgdGhpc09iamVjdFR5cGUsIHtcbiAgICAgICAgICAgICAgICAgICAgZW50aXR5OiBlbnRpdHksXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnR5TmFtZTogdGhpc09iamVjdE5hbWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGVudGl0eTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcERlY29kZVNlcnZpY2U6cHJvY2Vzc0xpc3RJdGVtc1xuICAgICAqIEBtZXRob2RPZiBhbmd1bGFyUG9pbnQuYXBEZWNvZGVTZXJ2aWNlXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogUG9zdCBwcm9jZXNzaW5nIG9mIGRhdGEgYWZ0ZXIgcmV0dXJuaW5nIGxpc3QgaXRlbXMgZnJvbSBzZXJ2ZXIuICBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGhcbiAgICAgKiB0aGUgcHJvY2Vzc2VkIGVudGl0aWVzLiAgUHJvbWlzZSBhbGxvd3MgdXMgdG8gYmF0Y2ggY29udmVyc2lvbnMgb2YgbGFyZ2UgbGlzdHMgdG8gcHJldmVudCB1aSBzbG93ZG93bnMuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG1vZGVsIFJlZmVyZW5jZSB0byBhbGxvdyB1cGRhdGluZyBvZiBtb2RlbC5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gcXVlcnkgUmVmZXJlbmNlIHRvIHRoZSBxdWVyeSByZXNwb25zaWJsZSBmb3IgcmVxdWVzdGluZyBlbnRpdGllcy5cbiAgICAgKiBAcGFyYW0ge3htbH0gcmVzcG9uc2VYTUwgUmVzb2x2ZWQgcHJvbWlzZSBmcm9tIFNQU2VydmljZXMgd2ViIHNlcnZpY2UgY2FsbC5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuaW5jbHVkZUFsbEF0dHJzPWZhbHNlXSBJZiB0cnVlLCByZXR1cm4gYWxsIGF0dHJpYnV0ZXMsIHJlZ2FyZGxlc3Mgd2hldGhlclxuICAgICAqIHRoZXkgYXJlIG1hcHBlZC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMuZmlsdGVyPSd6OnJvdyddIFhNTCBmaWx0ZXIgc3RyaW5nIHVzZWQgdG8gZmluZCB0aGUgZWxlbWVudHMgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtvcHRpb25zLm1hcHBpbmc9bW9kZWwubGlzdC5tYXBwaW5nXSBGaWVsZCBkZWZpbml0aW9ucywgdHlwaWNhbGx5IHN0b3JlZCBvbiB0aGUgbW9kZWwuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW29wdGlvbnMudGFyZ2V0PW1vZGVsLmdldENhY2hlKCldIE9wdGlvbmFsbHkgcGFzcyBpbiBhbiBJbmRleGVkIENhY2hlIGluc3RlYWQgb2YgdXNpbmcgdGhlIGRlZmF1bCBjYWNoZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBJbmVkZXhlZCBDYWNoZS5cbiAgICAgKi9cbiAgICBwcm9jZXNzTGlzdEl0ZW1zPFQgZXh0ZW5kcyBMaXN0SXRlbTxhbnk+Pihtb2RlbDogTW9kZWwsIHF1ZXJ5OiBJUXVlcnk8VD4sIHJlc3BvbnNlWE1MOiBFbGVtZW50LCB7XG4gICAgICAgIGluY2x1ZGVBbGxBdHRycyA9IGZhbHNlLFxuICAgICAgICBmaWx0ZXIgPSAnejpyb3cnLFxuICAgICAgICBtYXBwaW5nID0gbW9kZWwubGlzdC5tYXBwaW5nLFxuICAgICAgICB0YXJnZXQgPSBtb2RlbC5nZXRDYWNoZTxUPigpXG4gICAgfSA9IHt9KTogSW5kZXhlZENhY2hlPFQ+IHtcblxuICAgICAgICAvKiogTWFwIHJldHVybmVkIFhNTCB0byBKUyBvYmplY3RzIGJhc2VkIG9uIG1hcHBpbmcgZnJvbSBtb2RlbCAqL1xuICAgICAgICBsZXQgZmlsdGVyZWROb2RlcyA9IHRoaXMuYXBYTUxUb0pTT05TZXJ2aWNlLmZpbHRlck5vZGVzKHJlc3BvbnNlWE1MLCBmaWx0ZXIpO1xuXG4gICAgICAgIC8qKiBQcmVwYXJlIGNvbnN0cnVjdG9yIGZvciBYTUwgZW50aXRpZXMgd2l0aCByZWZlcmVuY2VzIHRvIHRoZSBxdWVyeSBhbmQgY2FjaGVkIGNvbnRhaW5lciAqL1xuICAgICAgICBsZXQgbGlzdEl0ZW1Qcm92aWRlciA9IHRoaXMuY3JlYXRlTGlzdEl0ZW1Qcm92aWRlcjxUPihtb2RlbCwgcXVlcnksIHRhcmdldCk7XG5cbiAgICAgICAgLyoqIENvbnZlcnQgWE1MIGVudGl0aWVzIGludG8gSlMgb2JqZWN0cyAqL1xuICAgICAgICBsZXQgcGFyc2VkRW50aXRpZXMgPSB0aGlzLnhtbFRvSnNvbihmaWx0ZXJlZE5vZGVzLCB7bWFwcGluZywgaW5jbHVkZUFsbEF0dHJzfSk7XG5cbiAgICAgICAgLyoqIEluc3RhbnRpYXRlIGVhY2ggbGlzdCBsaXN0IGl0ZW0gd2l0aCBmYWN0b3J5IG9uIG1vZGVsIGFuZCBhZGQgdG8gY2FjaGUgKi9cbiAgICAgICAgXy5lYWNoKHBhcnNlZEVudGl0aWVzLCAocmF3TGlzdEl0ZW1PYmplY3Q6IElVbmluc3RhbnRpYXRlZExpc3RJdGVtKSA9PiB7XG4gICAgICAgICAgICBsaXN0SXRlbVByb3ZpZGVyKHJhd0xpc3RJdGVtT2JqZWN0KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBEZWNvZGVTZXJ2aWNlOnhtbFRvSnNvblxuICAgICAqIEBtZXRob2RPZiBhbmd1bGFyUG9pbnQuYXBEZWNvZGVTZXJ2aWNlXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogQ29udmVydHMgYW4gWE1MIG5vZGUgc2V0IHRvIEphdmFzY3JpcHQgb2JqZWN0IGFycmF5LiBUaGlzIGlzIGEgbW9kaWZpZWQgdmVyc2lvbiBvZiB0aGUgU1BTZXJ2aWNlc1xuICAgICAqIFwiU1BYbWxUb0pzb25cIiBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge2FycmF5fSB4bWxFbnRpdGllcyBbXCJ6OnJvd3NcIl0gWE1MIHJvd3MgdGhhdCBuZWVkIHRvIGJlIHBhcnNlZC5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyBPcHRpb25zIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge0lMaXN0RmllbGRNYXBwaW5nfSBvcHRpb25zLm1hcHBpbmcgW2NvbHVtbk5hbWU6IFwibWFwcGVkTmFtZVwiLCBvYmplY3RUeXBlOiBcIm9iamVjdFR5cGVcIl1cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmluY2x1ZGVBbGxBdHRycz1mYWxzZV0gSWYgdHJ1ZSwgcmV0dXJuIGFsbCBhdHRyaWJ1dGVzLCByZWdhcmRsZXNzIHdoZXRoZXJcbiAgICAgKiB0aGV5IGFyZSBtYXBwZWQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5yZW1vdmVPd3M9dHJ1ZV0gU3BlY2lmaWNhbGx5IGZvciBHZXRMaXN0SXRlbXMsIGlmIHRydWUsIHRoZSBsZWFkaW5nIG93c18gd2lsbFxuICAgICAqIGJlIHN0cmlwcGVkIG9mZiB0aGUgZmllbGQgbmFtZS5cbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0W119IEFuIGFycmF5IG9mIEphdmFTY3JpcHQgb2JqZWN0cy5cbiAgICAgKi9cbiAgICB4bWxUb0pzb248VCBleHRlbmRzIExpc3RJdGVtPGFueT4+KHhtbEVudGl0aWVzOiBFbGVtZW50IHwgTm9kZUxpc3QgfCBhbnksIHtcbiAgICAgICAgbWFwcGluZyxcbiAgICAgICAgaW5jbHVkZUFsbEF0dHJzID0gZmFsc2UsXG4gICAgICAgIHJlbW92ZU93cyA9IHRydWVcbiAgICB9OiBJWE1MVG9Kc29uT3B0aW9uczxUPik6IE9iamVjdFtdIHtcbiAgICAgICAgbGV0IHBhcnNlT3B0aW9ucyA9IHttYXBwaW5nLCBpbmNsdWRlQWxsQXR0cnMsIHJlbW92ZU93c31cbiAgICAgICAgcmV0dXJuIF8ubWFwKHhtbEVudGl0aWVzLCAoeG1sRW50aXR5OiBFbGVtZW50KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wYXJzZVhtbEVudGl0eSh4bWxFbnRpdHksIHBhcnNlT3B0aW9ucyk7XG4gICAgICAgIH0pO1xuICAgIH1cblxufVxuXG5cbi8qKioqKioqKioqKioqKioqKioqKioqUFJJVkFURSoqKioqKioqKioqKioqKioqKioqKi9cblxuXG5leHBvcnQgaW50ZXJmYWNlIElYTUxUb0pzb25PcHRpb25zPFQgZXh0ZW5kcyBMaXN0SXRlbTxhbnk+PiBleHRlbmRzIElFeGVjdXRlUXVlcnlPcHRpb25zIHtcbiAgICBpbmNsdWRlQWxsQXR0cnM/OiBib29sZWFuO1xuICAgIGxpc3RJdGVtUHJvdmlkZXI/OiBGdW5jdGlvbjtcbiAgICBtYXBwaW5nOiBJTGlzdEZpZWxkTWFwcGluZztcbiAgICByZW1vdmVPd3M/OiBib29sZWFuO1xuICAgIHRhcmdldD86IEluZGV4ZWRDYWNoZTxUPjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJUGFyc2VYbWxFbnRpdHlPcHRpb25zIHtcbiAgICBtYXBwaW5nOiBJTGlzdEZpZWxkTWFwcGluZztcbiAgICBpbmNsdWRlQWxsQXR0cnM/OiBib29sZWFuO1xuICAgIHJlbW92ZU93cz86IGJvb2xlYW47XG59XG5cbmludGVyZmFjZSBJUHJvY2Vzc0xpc3RJdGVtc09wdGlvbnM8VCBleHRlbmRzIExpc3RJdGVtPGFueT4+IHtcbiAgICBpbmNsdWRlQWxsQXR0cnM/OiBib29sZWFuO1xuICAgIGZpbHRlcj86IHN0cmluZztcbiAgICBtYXBwaW5nOiBJTGlzdEZpZWxkTWFwcGluZztcbiAgICB0YXJnZXQ/OiBJbmRleGVkQ2FjaGU8VD5cbn1cblxuXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXIhLi9zcmMvc2VydmljZXMvYXBEZWNvZGVTZXJ2aWNlLnRzIiwiaW1wb3J0ICogYXMgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IHtVdGlsaXR5U2VydmljZX0gZnJvbSAnLi9hcFV0aWxpdHlTZXJ2aWNlJztcbmltcG9ydCB7SUZpZWxkRGVmaW5pdGlvbn0gZnJvbSAnLi4vZmFjdG9yaWVzL2FwRmllbGRGYWN0b3J5JztcbmltcG9ydCB7TGlzdEl0ZW19IGZyb20gJy4uL2ZhY3Rvcmllcy9hcExpc3RJdGVtRmFjdG9yeSc7XG5pbXBvcnQge0lMb29rdXB9IGZyb20gJy4uL2ZhY3Rvcmllcy9hcExvb2t1cEZhY3RvcnknO1xuXG4vKipcbiAqIEBuZ2RvYyBzZXJ2aWNlXG4gKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBFbmNvZGVTZXJ2aWNlXG4gKiBAZGVzY3JpcHRpb25cbiAqIFByb2Nlc3NlcyBKYXZhU2NyaXB0IG9iamVjdHMgYW5kIGNvbnZlcnRzIHRoZW0gdG8gYSBmb3JtYXQgU2hhcmVQb2ludCBleHBlY3RzLlxuICpcbiAqIEByZXF1aXJlcyBhbmd1bGFyUG9pbnQuYXBVdGlsaXR5U2VydmljZVxuICovXG5leHBvcnQgY2xhc3MgRW5jb2RlU2VydmljZSB7XG4gICAgc2F2ZWRUaW1lWm9uZTtcbiAgICBzdGF0aWMgJGluamVjdCA9IFsnYXBVdGlsaXR5U2VydmljZScsICdTUFNlcnZpY2VzJ107XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGFwVXRpbGl0eVNlcnZpY2U6IFV0aWxpdHlTZXJ2aWNlLCBwcml2YXRlIFNQU2VydmljZXMpIHtcblxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGFuIGFycmF5IG9mIHNlbGVjdGVkIHZhbHVlcyBpbnRvIGEgU2hhcmVQb2ludCBNdWx0aUNob2ljZSBzdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBhcnJcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIGNob2ljZU11bHRpVG9TdHJpbmcoY2hvaWNlczogc3RyaW5nW10pOiBzdHJpbmcge1xuICAgICAgICB2YXIgc3RyID0gJyc7XG4gICAgICAgIHZhciBkZWxpbSA9ICc7Iyc7XG5cbiAgICAgICAgaWYgKGNob2ljZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgLyoqIFN0cmluZyBpcyByZXF1aXJlZCB0byBiZWdpbiB3aXRoIGRlbGltaW5hdG9yICovXG4gICAgICAgICAgICBzdHIgKz0gZGVsaW07XG5cbiAgICAgICAgICAgIC8qKiBBcHBlbmQgZWFjaCBpdGVtIGluIHRoZSBzdXBwbGllZCBhcnJheSBmb2xsb3dlZCBieSBkZWxpbWluYXRvciAqL1xuICAgICAgICAgICAgZm9yIChsZXQgY2hvaWNlIG9mIGNob2ljZXMpIHtcbiAgICAgICAgICAgICAgICBzdHIgKz0gY2hvaWNlICsgZGVsaW07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcEVuY29kZVNlcnZpY2U6Y3JlYXRlVmFsdWVQYWlyXG4gICAgICogQG1ldGhvZE9mIGFuZ3VsYXJQb2ludC5hcEVuY29kZVNlcnZpY2VcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBVc2VzIGEgZmllbGQgZGVmaW5pdGlvbiBmcm9tIGEgbW9kZWwgdG8gcHJvcGVybHkgZm9ybWF0IGEgdmFsdWUgZm9yIHN1Ym1pc3Npb24gdG8gU2hhcmVQb2ludC4gIFR5cGljYWxseVxuICAgICAqIHVzZWQgcHJpb3IgdG8gc2F2aW5nIGEgbGlzdCBpdGVtLCB3ZSBpdGVyYXRlIG92ZXIgZWFjaCBvZiB0aGUgbm9uLXJlYWRvbmx5IHByb3BlcnRpZXMgZGVmaW5lZCBpbiB0aGUgbW9kZWxcbiAgICAgKiBmb3IgYSBsaXN0IGl0ZW0gYW5kIGNvbnZlcnQgdGhvc2UgdmFsdWUgaW50byB2YWx1ZSBwYWlycyB0aGF0IHdlIGNhbiB0aGVuIGhhbmQgb2ZmIHRvIFNQU2VydmljZXMuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGZpZWxkRGVmaW5pdGlvbiBUaGUgZmllbGQgZGVmaW5pdGlvbiwgdHlwaWNhbGx5IGRlZmluZWQgaW4gdGhlIG1vZGVsLlxuICAgICAqIDxwcmU+XG4gICAgICoge1xuICAgICAgICAgICAgICogIHN0YXRpY05hbWU6IFwiVGl0bGVcIixcbiAgICAgICAgICAgICAqICBvYmplY3RUeXBlOiBcIlRleHRcIixcbiAgICAgICAgICAgICAqICBtYXBwZWROYW1lOiBcImxhc3ROYW1lXCIsXG4gICAgICAgICAgICAgKiAgcmVhZE9ubHk6ZmFsc2VcbiAgICAgICAgICAgICAqIH1cbiAgICAgKiA8L3ByZT5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIEN1cnJlbnQgZmllbGQgdmFsdWUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBbZmllbGROYW1lLCBmaWVsZFZhbHVlXVxuICAgICAqL1xuICAgIGNyZWF0ZVZhbHVlUGFpcihmaWVsZERlZmluaXRpb246IElGaWVsZERlZmluaXRpb24sIHZhbHVlOiBhbnkpOiBbc3RyaW5nLCBzdHJpbmddIHtcbiAgICAgICAgdmFyIGVuY29kZWRWYWx1ZSA9IHRoaXMuZW5jb2RlVmFsdWUoZmllbGREZWZpbml0aW9uLm9iamVjdFR5cGUsIHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIFtmaWVsZERlZmluaXRpb24uc3RhdGljTmFtZSwgZW5jb2RlZFZhbHVlXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBFbmNvZGVTZXJ2aWNlOmVuY29kZVZhbHVlXG4gICAgICogQG1ldGhvZE9mIGFuZ3VsYXJQb2ludC5hcEVuY29kZVNlcnZpY2VcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZmllbGRUeXBlIE9uZSBvZiB0aGUgdmFsaWQgZmllbGQgdHlwZXMuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBWYWx1ZSB0byBiZSBlbmNvZGVkLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IEVuY29kZWQgdmFsdWUgcmVhZHkgdG8gYmUgc2VudCB0byB0aGUgc2VydmVyLlxuICAgICAqL1xuICAgIGVuY29kZVZhbHVlKGZpZWxkVHlwZTogc3RyaW5nLCB2YWx1ZTogYW55KTogc3RyaW5nIHtcbiAgICAgICAgdmFyIHN0cjogc3RyaW5nID0gJyc7XG4gICAgICAgIC8qKiBPbmx5IHByb2Nlc3MgaWYgbm90ZSBlbXB0eSwgdW5kZWZpbmVkLCBvciBudWxsLiAgQWxsb3cgZmFsc2UuICovXG4gICAgICAgIGlmICh2YWx1ZSAhPT0gJycgJiYgIV8uaXNVbmRlZmluZWQodmFsdWUpICYmICFfLmlzTnVsbCh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoZmllbGRUeXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnTG9va3VwJzpcbiAgICAgICAgICAgICAgICBjYXNlICdVc2VyJzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLmxvb2t1cElkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvKiogT25seSBpbmNsdWRlIGxvb2t1cFZhbHVlIGlmIGRlZmluZWQgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIHN0ciA9IHZhbHVlLmxvb2t1cElkICsgJzsjJyArICh2YWx1ZS5sb29rdXBWYWx1ZSB8fCAnJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnTG9va3VwTXVsdGknOlxuICAgICAgICAgICAgICAgIGNhc2UgJ1VzZXJNdWx0aSc6XG4gICAgICAgICAgICAgICAgICAgIHN0ciA9IHRoaXMuc3RyaW5naWZ5U2hhcmVQb2ludE11bHRpU2VsZWN0KHZhbHVlLCAnbG9va3VwSWQnKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnTXVsdGlDaG9pY2UnOlxuICAgICAgICAgICAgICAgICAgICBzdHIgPSB0aGlzLmNob2ljZU11bHRpVG9TdHJpbmcodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdCb29sZWFuJzpcbiAgICAgICAgICAgICAgICAgICAgc3RyID0gdmFsdWUgPyBcIjFcIiA6IFwiMFwiO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdEYXRlVGltZSc6XG4gICAgICAgICAgICAgICAgICAgIC8vQSBzdHJpbmcgZGF0ZSBpbiBJU084NjAxIGZvcm1hdCwgZS5nLiwgJzIwMTMtMDUtMDhUMDE6MjA6MjlaLTA1OjAwJ1xuICAgICAgICAgICAgICAgICAgICBzdHIgPSB0aGlzLnN0cmluZ2lmeVNoYXJlUG9pbnREYXRlKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnSlNPTic6XG4gICAgICAgICAgICAgICAgICAgIHN0ciA9IEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnSFRNTCc6XG4gICAgICAgICAgICAgICAgY2FzZSAnTm90ZSc6XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgc3RyID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKF8uaXNTdHJpbmcoc3RyKSkge1xuICAgICAgICAgICAgLyoqIEVuc3VyZSB3ZSBlbmNvZGUgYmVmb3JlIHNlbmRpbmcgdG8gc2VydmVyIChyZXBsYWNlIFwiLCA8LCA+KSovXG4gICAgICAgICAgICBzdHIgPSB0aGlzLlNQU2VydmljZXMuZW5jb2RlWG1sKHN0cik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0cjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBFbmNvZGVTZXJ2aWNlOmdlbmVyYXRlVmFsdWVQYWlyc1xuICAgICAqIEBtZXRob2RPZiBhbmd1bGFyUG9pbnQuYXBFbmNvZGVTZXJ2aWNlXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogVHlwaWNhbGx5IHVzZWQgdG8gaXRlcmF0ZSBvdmVyIHRoZSBub24tcmVhZG9ubHkgZmllbGQgZGVmaW5pdGlvbnMgc3RvcmVkIGluIGEgbW9kZWwgYW5kIGNvbnZlcnQgYVxuICAgICAqIGdpdmVuIGxpc3QgaXRlbSBlbnRpdHkgaW50byB2YWx1ZSBwYWlycyB0aGF0IHdlIGNhbiBwYXNzIHRvIFNQU2VydmljZXMgZm9yIHNhdmluZy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBmaWVsZERlZmluaXRpb25zIERlZmluaXRpb25zIGZyb20gdGhlIG1vZGVsLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBsaXN0SXRlbSBsaXN0IGl0ZW0gdGhhdCB3ZSdsbCBhdHRlbXB0IHRvIGl0ZXJhdGUgb3ZlciB0byBmaW5kIHRoZSBwcm9wZXJ0aWVzIHRoYXQgd2UgbmVlZCB0b1xuICAgICAqIHNhdmUgaXQgdG8gU2hhcmVQb2ludC5cbiAgICAgKiBAcmV0dXJucyB7W3N0cmluZywgc3RyaW5nXVtdfSBWYWx1ZSBwYWlycyBvZiBhbGwgbm9uLXJlYWRvbmx5IGZpZWxkcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIFtbZmllbGROYW1lMSwgZmllbGRWYWx1ZTFdLCBbZmllbGROYW1lMiwgZmllbGRWYWx1ZTJdLCAuLi5dXG4gICAgICovXG4gICAgZ2VuZXJhdGVWYWx1ZVBhaXJzKGZpZWxkRGVmaW5pdGlvbnM6IElGaWVsZERlZmluaXRpb25bXSwgbGlzdEl0ZW06IExpc3RJdGVtPGFueT4pOiBbc3RyaW5nLCBzdHJpbmddW10ge1xuICAgICAgICB2YXIgcGFpcnMgPSBbXTtcbiAgICAgICAgXy5lYWNoKGZpZWxkRGVmaW5pdGlvbnMsIChmaWVsZCkgPT4ge1xuICAgICAgICAgICAgLyoqIENoZWNrIHRvIHNlZSBpZiBpdGVtIGNvbnRhaW5zIGRhdGEgZm9yIHRoaXMgZmllbGQgKi9cbiAgICAgICAgICAgIGlmIChfLmhhcyhsaXN0SXRlbSwgZmllbGQubWFwcGVkTmFtZSkpIHtcbiAgICAgICAgICAgICAgICBwYWlycy5wdXNoKHRoaXMuY3JlYXRlVmFsdWVQYWlyKGZpZWxkLCBsaXN0SXRlbVtmaWVsZC5tYXBwZWROYW1lXSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHBhaXJzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcEVuY29kZVNlcnZpY2U6c3RyaW5naWZ5U2hhcmVQb2ludERhdGVcbiAgICAgKiBAbWV0aG9kT2YgYW5ndWxhclBvaW50LmFwRW5jb2RlU2VydmljZVxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIENvbnZlcnRzIGEgSmF2YVNjcmlwdCBkYXRlIGludG8gYSBtb2RpZmllZCBJU084NjAxIGRhdGUgc3RyaW5nIHVzaW5nIHRoZSBUaW1lWm9uZVxuICAgICAqIG9mZnNldCBmb3IgdGhlIGN1cnJlbnQgdXNlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIDxwcmU+JzIwMTQtMDUtMDhUMDg6MTI6MThaLTA3OjAwJzwvcHJlPlxuICAgICAqIEBwYXJhbSB7RGF0ZX0gZGF0ZSBWYWxpZCBKUyBkYXRlLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IElTTzg2MDEgZGF0ZSBzdHJpbmcuXG4gICAgICovXG4gICAgc3RyaW5naWZ5U2hhcmVQb2ludERhdGUoZGF0ZTogRGF0ZSB8IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIHZhciBqc0RhdGU6IERhdGU7XG4gICAgICAgIGlmICghXy5pc0RhdGUoZGF0ZSkgJiYgXy5pc1N0cmluZyhkYXRlKSAmJiBkYXRlLnNwbGl0KCctJykubGVuZ3RoID09PSAzKSB7XG4gICAgICAgICAgICAvKiogRGF0ZSBzdHJpbmcgZm9ybWF0dGVkIFlZWVktTU0tREQgKi9cbiAgICAgICAgICAgIHZhciBkYXRlQ29tcG9uZW50cyA9IGRhdGUuc3BsaXQoJy0nKTtcbiAgICAgICAgICAgIGpzRGF0ZSA9IG5ldyBEYXRlKHBhcnNlSW50KGRhdGVDb21wb25lbnRzWzBdKSwgcGFyc2VJbnQoZGF0ZUNvbXBvbmVudHNbMV0pIC0gMSwgcGFyc2VJbnQoZGF0ZUNvbXBvbmVudHNbMl0pLCAwLCAwLCAwKTtcbiAgICAgICAgfSBlbHNlIGlmICghXy5pc0RhdGUoZGF0ZSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBEYXRlIFByb3ZpZGVkOiAnICsgZGF0ZS50b1N0cmluZygpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGpzRGF0ZSA9IGRhdGU7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZGF0ZVN0cmluZyA9ICcnO1xuICAgICAgICBkYXRlU3RyaW5nICs9IGpzRGF0ZS5nZXRGdWxsWWVhcigpO1xuICAgICAgICBkYXRlU3RyaW5nICs9ICctJztcbiAgICAgICAgZGF0ZVN0cmluZyArPSB0aGlzLmFwVXRpbGl0eVNlcnZpY2UuZG91YmxlRGlnaXQoanNEYXRlLmdldE1vbnRoKCkgKyAxKTtcbiAgICAgICAgZGF0ZVN0cmluZyArPSAnLSc7XG4gICAgICAgIGRhdGVTdHJpbmcgKz0gdGhpcy5hcFV0aWxpdHlTZXJ2aWNlLmRvdWJsZURpZ2l0KGpzRGF0ZS5nZXREYXRlKCkpO1xuICAgICAgICBkYXRlU3RyaW5nICs9ICdUJztcbiAgICAgICAgZGF0ZVN0cmluZyArPSB0aGlzLmFwVXRpbGl0eVNlcnZpY2UuZG91YmxlRGlnaXQoanNEYXRlLmdldEhvdXJzKCkpO1xuICAgICAgICBkYXRlU3RyaW5nICs9ICc6JztcbiAgICAgICAgZGF0ZVN0cmluZyArPSB0aGlzLmFwVXRpbGl0eVNlcnZpY2UuZG91YmxlRGlnaXQoanNEYXRlLmdldE1pbnV0ZXMoKSk7XG4gICAgICAgIGRhdGVTdHJpbmcgKz0gJzonO1xuICAgICAgICBkYXRlU3RyaW5nICs9IHRoaXMuYXBVdGlsaXR5U2VydmljZS5kb3VibGVEaWdpdChqc0RhdGUuZ2V0U2Vjb25kcygpKTtcbiAgICAgICAgZGF0ZVN0cmluZyArPSAnWi0nO1xuXG4gICAgICAgIGlmICghdGhpcy5zYXZlZFRpbWVab25lKSB7XG4gICAgICAgICAgICAvL0dldCBkaWZmZXJlbmNlIGJldHdlZW4gVVRDIHRpbWUgYW5kIGxvY2FsIHRpbWUgaW4gbWludXRlcyBhbmQgY29udmVydCB0byBob3Vyc1xuICAgICAgICAgICAgLy9TdG9yZSBzbyB3ZSBvbmx5IG5lZWQgdG8gZG8gdGhpcyBvbmNlXG4gICAgICAgICAgICB0aGlzLnNhdmVkVGltZVpvbmUgPSBuZXcgRGF0ZSgpLmdldFRpbWV6b25lT2Zmc2V0KCkgLyA2MDtcbiAgICAgICAgfVxuICAgICAgICBkYXRlU3RyaW5nICs9IHRoaXMuYXBVdGlsaXR5U2VydmljZS5kb3VibGVEaWdpdCh0aGlzLnNhdmVkVGltZVpvbmUpO1xuICAgICAgICBkYXRlU3RyaW5nICs9ICc6MDAnO1xuICAgICAgICByZXR1cm4gZGF0ZVN0cmluZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBFbmNvZGVTZXJ2aWNlOnN0cmluZ2lmeVNoYXJlUG9pbnRNdWx0aVNlbGVjdFxuICAgICAqIEBtZXRob2RPZiBhbmd1bGFyUG9pbnQuYXBFbmNvZGVTZXJ2aWNlXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogVHVybnMgYW4gYXJyYXkgb2YsIHR5cGljYWxseSB7bG9va3VwSWQ6IHNvbWVJZCwgbG9va3VwVmFsdWU6IHNvbWVWYWx1ZX0sIG9iamVjdHMgaW50byBhIHN0cmluZ1xuICAgICAqIG9mIGRlbGltaXRlZCBpZCdzIHRoYXQgY2FuIGJlIHBhc3NlZCB0byBTaGFyZVBvaW50IGZvciBhIG11bHRpIHNlbGVjdCBsb29rdXAgb3IgbXVsdGkgdXNlciBzZWxlY3Rpb25cbiAgICAgKiBmaWVsZC4gIFNoYXJlUG9pbnQgZG9lc24ndCBuZWVkIHRoZSBsb29rdXAgdmFsdWVzIHNvIHdlIG9ubHkgbmVlZCB0byBwYXNzIHRoZSBJRCdzIGJhY2suXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdFtdfSBtdWx0aVNlbGVjdFZhbHVlIEFycmF5IG9mIHtsb29rdXBJZDogIywgbG9va3VwVmFsdWU6ICdTb21lIFZhbHVlJ30gb2JqZWN0cy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2lkUHJvcGVydHk9J2xvb2t1cElkJ10gUHJvcGVydHkgbmFtZSB3aGVyZSB3ZSdsbCBmaW5kIHRoZSBJRCB2YWx1ZSBvbiBlYWNoIG9mIHRoZSBvYmplY3RzLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbdmFsdWVQcm9wZXJ0eT0nbG9va3VwVmFsdWUnXSBQcm9wZXJ0eSBuYW1lIHdoZXJlIHdlJ2xsIGZpbmQgdGhlIHZhbHVlIGZvciB0aGlzIG9iamVjdC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBOZWVkIHRvIGZvcm1hdCBzdHJpbmcgb2YgaWQncyBpbiBmb2xsb3dpbmcgZm9ybWF0IFtJRDBdOyM7I1tJRDFdOyM7I1tJRDFdXG4gICAgICovXG4gICAgc3RyaW5naWZ5U2hhcmVQb2ludE11bHRpU2VsZWN0KG11bHRpU2VsZWN0VmFsdWU6IElMb29rdXA8YW55PltdLCBpZFByb3BlcnR5ID0gJ2xvb2t1cElkJywgdmFsdWVQcm9wZXJ0eSA9ICdsb29rdXBWYWx1ZScpOiBzdHJpbmcge1xuICAgICAgICB2YXIgc3RyaW5naWZpZWRWYWx1ZXMgPSAnJztcbiAgICAgICAgdmFyIGlkUHJvcCA9IGlkUHJvcGVydHkgfHwgJ2xvb2t1cElkJztcbiAgICAgICAgdmFyIHZhbFByb3AgPSB2YWx1ZVByb3BlcnR5IHx8ICdsb29rdXBWYWx1ZSc7XG4gICAgICAgIF8uZWFjaChtdWx0aVNlbGVjdFZhbHVlLCBmdW5jdGlvbiAobG9va3VwT2JqZWN0LCBpdGVyYXRpb24pIHtcbiAgICAgICAgICAgIC8qKiBOZWVkIHRvIGZvcm1hdCBzdHJpbmcgb2YgaWQncyBpbiBmb2xsb3dpbmcgZm9ybWF0IFtJRDBdOyNbVkFMMF07I1tJRDFdOyNbVkFMMV0gKi9cbiAgICAgICAgICAgIHN0cmluZ2lmaWVkVmFsdWVzICs9IGxvb2t1cE9iamVjdFtpZFByb3BdICsgJzsjJyArIChsb29rdXBPYmplY3RbdmFsUHJvcF0gfHwgJycpO1xuICAgICAgICAgICAgLyoqIEFwcGVuZCBkZWxpbSBhZnRlciBhbGwgYnV0IGxhc3QgYmVjYXVzZSB3ZSBkb24ndCB3YW50IHRyYWlsaW5nICc7IycgYXQgZW5kIG9mIHN0cmluZyAqL1xuICAgICAgICAgICAgaWYgKGl0ZXJhdGlvbiA8IChtdWx0aVNlbGVjdFZhbHVlLmxlbmd0aCAtIDEpKSB7XG4gICAgICAgICAgICAgICAgc3RyaW5naWZpZWRWYWx1ZXMgKz0gJzsjJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBzdHJpbmdpZmllZFZhbHVlcztcbiAgICB9XG5cblxufVxuXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXIhLi9zcmMvc2VydmljZXMvYXBFbmNvZGVTZXJ2aWNlLnRzIiwiaW1wb3J0IHtJTG9nZ2VyfSBmcm9tICcuL2FwTG9nZ2VyJztcblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgYW5ndWxhclBvaW50LiRleGNlcHRpb25IYW5kbGVyXG4gKiBAZGVzY3JpcHRpb25cbiAqIFJlcGxhY2VzIHRoZSBkZWZhdWx0IGFuZ3VsYXIgaW1wbGVtZW50YXRpb24gYW5kIGhhbmRsZXMgbG9nZ2luZyBlcnJvcnMgdG8gdGhlIGFwTG9nZ2VyIHNlcnZpY2UuXG4gKiBAcmVxdWlyZXMgYW5ndWxhclBvaW50LmFwTG9nZ2VyXG4gKi9cbmV4Y2VwdGlvbkxvZ2dpbmdTZXJ2aWNlLiRpbmplY3QgPSBbJyRsb2cnLCAnJGluamVjdG9yJ107XG5leHBvcnQgZnVuY3Rpb24gZXhjZXB0aW9uTG9nZ2luZ1NlcnZpY2UoJGxvZywgJGluamVjdG9yKSB7XG4gICAgZnVuY3Rpb24gZXJyb3IoZXhjZXB0aW9uOiBFcnJvciwgY2F1c2U6IHN0cmluZykge1xuXG4gICAgICAgIC8qKiBOZWVkIHRvIGluamVjdCBvdGhlcndpc2UgZ2V0IGNpcmN1bGFyIGRlcGVuZGVuY3kgd2hlbiB1c2luZyBkZXBlbmRlbmN5IGluamVjdGlvbiAqL1xuICAgICAgICBjb25zdCBhcExvZ2dlcjogSUxvZ2dlciA9ICRpbmplY3Rvci5nZXQoJ2FwTG9nZ2VyJyk7XG4gICAgICAgIC8vIG5vdyB0cnkgdG8gbG9nIHRoZSBlcnJvciB0byB0aGUgc2VydmVyIHNpZGUuXG4gICAgICAgIGFwTG9nZ2VyLmV4Y2VwdGlvbihleGNlcHRpb24sIGNhdXNlKTtcblxuICAgICAgICAvLyBwcmVzZXJ2ZSB0aGUgZGVmYXVsdCBiZWhhdmlvdXIgd2hpY2ggd2lsbCBsb2cgdGhlIGVycm9yXG4gICAgICAgIC8vIHRvIHRoZSBjb25zb2xlLCBhbmQgYWxsb3cgdGhlIGFwcGxpY2F0aW9uIHRvIGNvbnRpbnVlIHJ1bm5pbmcuXG4gICAgICAgICRsb2cuZXJyb3IuYXBwbHkoJGxvZywgYXJndW1lbnRzKTtcblxuICAgIH1cblxuICAgIHJldHVybiBlcnJvcjtcbn1cblxuXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXIhLi9zcmMvc2VydmljZXMvYXBFeGNlcHRpb25IYW5kbGVyU2VydmljZS50cyIsImltcG9ydCAqIGFzIF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCB7TGlzdEl0ZW19IGZyb20gJy4uL2ZhY3Rvcmllcy9hcExpc3RJdGVtRmFjdG9yeSc7XG5cbi8qKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcEV4cG9ydFNlcnZpY2VcbiAqIEBkZXNjcmlwdGlvblxuICogVG9vbHMgdG8gYXNzaXN0IHdpdGggZGV2ZWxvcG1lbnQuXG4gKiBAcmVxdWlyZXMgYW5ndWxhclBvaW50LmFwVXRpbGl0eVNlcnZpY2VcbiAqL1xuZXhwb3J0IGNsYXNzIEV4cG9ydFNlcnZpY2Uge1xuICAgIHN0YXRpYyAkaW5qZWN0ID0gWydhcFV0aWxpdHlTZXJ2aWNlJywgJ2FwRm9ybWF0dGVkRmllbGRWYWx1ZVNlcnZpY2UnXTtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgYXBVdGlsaXR5U2VydmljZSwgcHJpdmF0ZSBhcEZvcm1hdHRlZEZpZWxkVmFsdWVTZXJ2aWNlKSB7XG5cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBFeHBvcnRTZXJ2aWNlOmdlbmVyYXRlQ1NWXG4gICAgICogQG1ldGhvZE9mIGFuZ3VsYXJQb2ludC5hcEV4cG9ydFNlcnZpY2VcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBDb252ZXJ0cyBhbiBhcnJheSBvZiBvYmplY3RzIGludG8gYSBwYXJzZWQgYXJyYXkgb2YgYXJyYXlzIGJhc2VkIG9uIGEgZmllbGQgY29uZmlnIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge29iamVjdFtdfSBlbnRpdGllcyBBcnJheSBvZiBvYmplY3RzIHRvIGNvbnZlcnQuXG4gICAgICogQHBhcmFtIHtvYmplY3R8c3RyaW5nW119IGZpZWxkcyBBcnJheSBvZiBvYmplY3RzIGRlZmluaW5nIHRoZSBmaWVsZHMgdG8gcGFyc2UuICBDYW4gYWxzbyBwYXNzIGluIHN0cmluZ3MgcmVwcmVzZW50aW5nIHRoZSBuYW1lIG9mIHRoZSBmaWVsZCB3aGljaCB3aWxsIHRoZW4gYmUgcGFyc2VkIGJhc2VkIG9uIGZpZWxkIHR5cGUuXG4gICAgICogRmllbGREZWZpbml0aW9uOlxuICAgICAqIHtzdHJpbmd9IG9iamVjdC5maWVsZCBQcm9wZXJ0eSBuYW1lIG9uIHRoZSBvYmplY3QgdGhhdCB3ZSB3YW50IHRvIHBhcnNlLlxuICAgICAqIHtzdHJpbmd9IFtvYmplY3QubGFiZWw9b2JqZWN0LmZpZWxkIGNhcGl0YWxpemVkXSBDb2x1bW4gTGFiZWxcbiAgICAgKiB7ZnVuY3Rpb259IFtvYmplY3QuZ2V0VmFsXSBDdXN0b20gZnVuY3Rpb24gdGhhdCBvdmVycmlkZXMgdGhlIGRlZmF1bHQgbWV0aG9kIG9mIHBhcnNpbmcgYmFzZWQgb24gZmllbGQgdHlwZS5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIE9wdGlvbmFsIGNvbmZpZyBzZXR0aW5ncy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMuZGVsaW09JzsgJ10gRGVsaW1pdGVyIHVzZWQgdG8gc2VwYXJhdGUgZmllbGRzIHRoYXQgcG90ZW50aWFsbHkgY29udGFpbiBtdWx0aXBsZSB2YWx1ZXMgdGhhdCB3aWxsIGJlIGNvbmNhdGVuYXRlZCBpbnRvIGEgc3RyaW5nLlxuICAgICAqIEByZXR1cm5zIHthcnJheVtdfSBSZXR1cm4gYXJyYXkgb2YgYXJyYXlzLCB3aXRoIHRoZSBmaXJzdCBhcnJheSBiZWluZyB0aGUgY29sdW1uIG5hbWVzIGFuZCBldmVyeSBzdWJzZXF1ZW50IGFycmF5IHJlcHJlc2VudGluZyBhIHJvdyBpbiB0aGUgY3N2IGRhdGFzZXQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiA8cHJlPlxuICAgICAqIHZhciBjdXN0b21EZWxpbWl0ZXIgPSAnIHwgJztcbiAgICAgKiB2YXIgc2F2ZUNTViA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICogICAgdmFyIHBhcnNlZENTViA9IGFwRXhwb3J0U2VydmljZS5nZW5lcmF0ZUNTVihlbnRpdGllcywgW1xuICAgICAgICAgICAgICogICAgIC8vRmllbGQgZGVmaW5pdGlvblxuICAgICAgICAgICAgICogICAgIHsgbGFiZWw6ICdJRCcsIGZpZWxkOiAnaWQnIH0sXG4gICAgICAgICAgICAgKiAgICAgLy9GaWVsZCBhcyBzaW1wbGUgc3RyaW5nXG4gICAgICAgICAgICAgKiAgICAgJ3RpdGxlJyxcbiAgICAgICAgICAgICAqICAgICAncHJvamVjdCcsXG4gICAgICAgICAgICAgKiAgICAgeyBsYWJlbDogJ1Byb2plY3Q6SUQnLCBmaWVsZDogJ3Byb2plY3QubG9va3VwSWQnIH0sXG4gICAgICAgICAgICAgKiAgICAgeyBsYWJlbDogJ1R5cGUnLCBmaWVsZDogJ2V2ZW50VHlwZScgfSxcbiAgICAgICAgICAgICAqICAgICB7IGxhYmVsOiAnU3RhcnQgRGF0ZScsIGZpZWxkOiAnc3RhcnREYXRlJyB9LFxuICAgICAgICAgICAgICogICAgIHsgbGFiZWw6ICdFbmQgRGF0ZScsIGZpZWxkOiAnZW5kRGF0ZScgfSxcbiAgICAgICAgICAgICAqICAgICAnbG9jYXRpb24nLFxuICAgICAgICAgICAgICogICAgICdkZXNjcmlwdGlvbicsXG4gICAgICAgICAgICAgKiAgICAgLy9GaWVsZCBkZWZpbml0aW9uIHdpdGggY3VzdG9tIHBhcnNlIGxvZ2ljXG4gICAgICAgICAgICAgKiAgICAgeyBsYWJlbDogJ0NvbW1lbnRzJywgZmllbGQ6ICdjb21tZW50cycsIHN0cmluZ2lmeTogZnVuY3Rpb24gKGNvbW1lbnRzKSB7XG4gICAgICAgICAgICAgKiAgICAgICB2YXIgc3RyID0gJyc7XG4gICAgICAgICAgICAgKiAgICAgICBfLmVhY2goY29tbWVudHMsIGZ1bmN0aW9uIChjb21tZW50LCBpKSB7XG4gICAgICAgICAgICAgKiAgICAgICAgIGlmIChpID4gMCkge1xuICAgICAgICAgICAgICogICAgICAgICAgIHN0ciArPSAnXFxuJztcbiAgICAgICAgICAgICAqICAgICAgICAgfVxuICAgICAgICAgICAgICogICAgICAgICBzdHIgKz0gY29tbWVudC50ZXh0ICsgJ1xcbic7XG4gICAgICAgICAgICAgKiAgICAgICB9KTtcbiAgICAgICAgICAgICAqICAgICAgIHJldHVybiBzdHI7XG4gICAgICAgICAgICAgKiAgICAgfX1cbiAgICAgICAgICAgICAqICAgXSk7XG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogICAvL1NhdmUgdG8gdXNlcidzIG1hY2hpbmVcbiAgICAgICAgICAgICAqICAgYXBFeHBvcnRTZXJ2aWNlLnNhdmVDU1YocGFyc2VkQ1NWLCAnTXlGaWxlJywge2RlbGltOiBjdXN0b21EZWxpbWl0ZXJ9KTtcbiAgICAgICAgICAgICAqIH1cbiAgICAgKiA8L3ByZT5cbiAgICAgKlxuICAgICAqL1xuICAgIGdlbmVyYXRlQ1NWKGVudGl0aWVzOiBMaXN0SXRlbTxhbnk+W10sIGZpZWxkczogW3N0cmluZ1tdfE9iamVjdFtdXSwgb3B0aW9ucz86IHtkZWxpbTogc3RyaW5nfSk6IHN0cmluZ1tdW10ge1xuICAgICAgICB2YXIgZGVmYXVsdHMgPSB7XG4gICAgICAgICAgICAgICAgZGF0ZUZvcm1hdDogJ2pzb24nLCAvL0Zvcm1hdCBhcyBKU09OIGRhdGUgcmF0aGVyIHRoYW4gYSBmb3JtYWwgZGF0ZSBzdHJpbmdcbiAgICAgICAgICAgICAgICBkZWxpbTogJzsgJyxcbiAgICAgICAgICAgICAgICBpbmNsdWRlVGl0bGVSb3c6IHRydWVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvcHRzID0gXy5hc3NpZ24oe30sIGRlZmF1bHRzLCBvcHRpb25zKSxcbiAgICAgICAgICAgIGVudGl0aWVzQXJyYXkgPSBbXG4gICAgICAgICAgICAgICAgW11cbiAgICAgICAgICAgIF07XG5cbiAgICAgICAgLyoqIFByb2Nlc3MgZWFjaCBvZiB0aGUgZW50aXRpZXMgaW4gdGhlIGRhdGEgc291cmNlICovXG4gICAgICAgIF8uZWFjaChlbnRpdGllcywgKGVudGl0eSwgZW50aXR5SW5kZXgpID0+IHtcbiAgICAgICAgICAgIHZhciBlbnRpdHlBcnJheSA9IFtdO1xuICAgICAgICAgICAgLyoqIFByb2Nlc3MgZWFjaCBvZiB0aGUgc3BlY2lmaWVkIGZpZWxkcyAqL1xuICAgICAgICAgICAgXy5lYWNoKGZpZWxkcywgKGYpID0+IHtcblxuICAgICAgICAgICAgICAgIC8qKiBIYW5kbGUgYm90aCBzdHJpbmcgYW5kIG9iamVjdCBkZWZpbml0aW9uICovXG4gICAgICAgICAgICAgICAgdmFyIGZpZWxkRGVmaW5pdGlvbjogYW55ID0gPGFueT4gXy5pc1N0cmluZyhmKSA/IHtmaWVsZDogZn0gOiBmO1xuXG4gICAgICAgICAgICAgICAgLyoqIFNwbGl0IHRoZSBmaWVsZCBuYW1lIGZyb20gdGhlIHByb3BlcnR5IGlmIHByb3ZpZGVkICovXG4gICAgICAgICAgICAgICAgdmFyIGZpZWxkQ29tcG9uZW50cyA9IGZpZWxkRGVmaW5pdGlvbi5maWVsZC5zcGxpdCgnLicpO1xuICAgICAgICAgICAgICAgIHZhciBwcm9wZXJ0eU5hbWUgPSBmaWVsZENvbXBvbmVudHNbMF07XG5cbiAgICAgICAgICAgICAgICAvKiogRmlyc3QgYXJyYXkgaGFzIHRoZSBmaWVsZCBuYW1lcyAqL1xuICAgICAgICAgICAgICAgIGlmIChlbnRpdHlJbmRleCA9PT0gMCAmJiBvcHRzLmluY2x1ZGVUaXRsZVJvdykge1xuICAgICAgICAgICAgICAgICAgICAvKiogVGFrZSBhIGJlc3QgZ3Vlc3MgaWYgYSBjb2x1bW4gbGFiZWwgaXNuJ3Qgc3BlY2lmaWVkIGJ5IGNhcGl0YWxpemluZyBhbmQgaW5zZXJ0aW5nIHNwYWNlcyBiZXR3ZWVuIGNhbWVsIGh1bXBzKi9cbiAgICAgICAgICAgICAgICAgICAgdmFyIGxhYmVsID0gZmllbGREZWZpbml0aW9uLmxhYmVsID9cbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkRGVmaW5pdGlvbi5sYWJlbCA6IHRoaXMuYXBVdGlsaXR5U2VydmljZS5mcm9tQ2FtZWxDYXNlKHByb3BlcnR5TmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIGVudGl0aWVzQXJyYXlbMF0ucHVzaChsYWJlbCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIHZhbCA9ICcnO1xuXG4gICAgICAgICAgICAgICAgaWYgKF8uaXNGdW5jdGlvbihmaWVsZERlZmluaXRpb24uc3RyaW5naWZ5KSkge1xuICAgICAgICAgICAgICAgICAgICAvKiogQWxsb3dzIHVzIHRvIG92ZXJyaWRlIHN0YW5kYXJkIGZpZWxkIGxvZ2ljIGZvciBzcGVjaWFsIGNhc2VzICovXG4gICAgICAgICAgICAgICAgICAgIHZhbCA9IGZpZWxkRGVmaW5pdGlvbi5zdHJpbmdpZnkoZW50aXR5W2ZpZWxkRGVmaW5pdGlvbi5maWVsZF0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZmllbGRDb21wb25lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgLyoqIEFsbG93IHVzZXIgdG8gc3BlY2lmeSBkb3Qgc2VwYXJhdGVkIHByb3BlcnR5IHBhdGggKi9cbiAgICAgICAgICAgICAgICAgICAgaWYgKF8uaGFzKGVudGl0eSwgZmllbGREZWZpbml0aW9uLmZpZWxkKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsID0gXy5nZXQoZW50aXR5LCBmaWVsZERlZmluaXRpb24uZmllbGQpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvKiogR2V0IHRoZSB2YWx1ZSBiYXNlZCBvbiBmaWVsZCB0eXBlIGRlZmluZWQgaW4gdGhlIG1vZGVsIGZvciB0aGUgZW50aXR5Ki9cbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vZGVsRGVmaW5pdGlvbiA9IGVudGl0eS5nZXRGaWVsZERlZmluaXRpb24ocHJvcGVydHlOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgdmFsID0gdGhpcy5hcEZvcm1hdHRlZEZpZWxkVmFsdWVTZXJ2aWNlLmdldEZvcm1hdHRlZEZpZWxkVmFsdWUoXG4gICAgICAgICAgICAgICAgICAgICAgICBlbnRpdHlbZmllbGREZWZpbml0aW9uLmZpZWxkXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsRGVmaW5pdGlvbi5vYmplY3RUeXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0c1xuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8qKiBBZGQgc3RyaW5nIHRvIGNvbHVtbiAqL1xuICAgICAgICAgICAgICAgIGVudGl0eUFycmF5LnB1c2godmFsKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLyoqIEFkZCByb3cgKi9cbiAgICAgICAgICAgIGVudGl0aWVzQXJyYXkucHVzaChlbnRpdHlBcnJheSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZW50aXRpZXNBcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb24gUmVwbGFjZXMgY29tbW9ubHktdXNlZCBXaW5kb3dzIDEyNTIgZW5jb2RlZCBjaGFycyB0aGF0IGRvIG5vdCBleGlzdCBpbiBBU0NJSSBvclxuICAgICAqICBJU08tODg1OS0xIHdpdGggSVNPLTg4NTktMSBjb2duYXRlcy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCBUZXh0IHRvIGJlIHZhbGlkYXRlZCBhbmQgY2xlYW5lZC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIHJlcGxhY2VXb3JkQ2hhcnModGV4dDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgdmFyIHMgPSB0ZXh0O1xuICAgICAgICAvLyBzbWFydCBzaW5nbGUgcXVvdGVzIGFuZCBhcG9zdHJvcGhlXG4gICAgICAgIHMgPSBzLnJlcGxhY2UoL1tcXHUyMDE4fFxcdTIwMTl8XFx1MjAxQV0vZywgXCJcXCdcIik7XG4gICAgICAgIC8vIHNtYXJ0IGRvdWJsZSBxdW90ZXNcbiAgICAgICAgcyA9IHMucmVwbGFjZSgvW1xcdTIwMUN8XFx1MjAxRHxcXHUyMDFFXS9nLCBcIlxcXCJcIik7XG4gICAgICAgIC8vIGVsbGlwc2lzXG4gICAgICAgIHMgPSBzLnJlcGxhY2UoL1xcdTIwMjYvZywgXCIuLi5cIik7XG4gICAgICAgIC8vIGRhc2hlc1xuICAgICAgICBzID0gcy5yZXBsYWNlKC9bXFx1MjAxM3xcXHUyMDE0XS9nLCBcIi1cIik7XG4gICAgICAgIC8vIGNpcmN1bWZsZXhcbiAgICAgICAgcyA9IHMucmVwbGFjZSgvXFx1MDJDNi9nLCBcIl5cIik7XG4gICAgICAgIC8vIG9wZW4gYW5nbGUgYnJhY2tldFxuICAgICAgICBzID0gcy5yZXBsYWNlKC9cXHUyMDM5L2csIFwiPFwiKTtcbiAgICAgICAgLy8gY2xvc2UgYW5nbGUgYnJhY2tldFxuICAgICAgICBzID0gcy5yZXBsYWNlKC9cXHUyMDNBL2csIFwiPlwiKTtcbiAgICAgICAgLy8gc3BhY2VzXG4gICAgICAgIHMgPSBzLnJlcGxhY2UoL1tcXHUwMkRDfFxcdTAwQTBdL2csIFwiIFwiKTtcbiAgICAgICAgcmV0dXJuIHM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgYW5ndWxhclBvaW50LmFwRXhwb3J0U2VydmljZTpzYXZlQ1NWXG4gICAgICogQG1ldGhvZE9mIGFuZ3VsYXJQb2ludC5hcEV4cG9ydFNlcnZpY2VcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBDb252ZXJ0cyBhbiBhcnJheSBvZiBhcnJheXMgaW50byBhIHZhbGlkIENTViBmaWxlIHRoYXQgaXMgdGhlbiBkb3dubG9hZGVkIHRvIHRoZSB1c2VycyBtYWNoaW5lXG4gICAgICogQHJlcXVpcmVzIGFuZ3VsYXJQb2ludC5hcEV4cG9ydFNlcnZpY2U6c2F2ZUZpbGVcbiAgICAgKiBAcGFyYW0ge2FycmF5W119IGRhdGEgQXJyYXkgb2YgYXJyYXlzIHRoYXQgd2UnZCBsaWtlIHRvIGR1bXAgdG8gYSBDU1YgZmlsZSBhbmQgc2F2ZSB0byB0aGUgbG9jYWwgbWFjaGluZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2ZpbGVuYW1lPWRlYnVnLmNzdl0gT3B0aW9uYWxseSBuYW1lIHRoZSBmaWxlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogPHByZT5cbiAgICAgKiAvL0xldHMgYXNzdW1lIHdlIHdhbnQgdG8gbG9va3MgYXQgYW4gb2JqZWN0IHRoYXQgaXMgdG9vIGJpZyB0byBiZSBlYXNpbHkgdmlld2VkIGluIHRoZSBjb25zb2xlLlxuICAgICAqIGFwRXhwb3J0U2VydmljZS5zYXZlQ1NWKG9iamVjdFRvU2F2ZSwgJ015RmlsZScpO1xuICAgICAqIC8vVGhpcyB3b3VsZCBkb3dubG9hZCBhIGZpbGUgbmFtZWQgTXlGaWxlLmNzdlxuICAgICAqIDwvcHJlPlxuICAgICAqXG4gICAgICovXG4gICAgc2F2ZUNTVihkYXRhOiBzdHJpbmdbXVtdLCBmaWxlbmFtZSA9ICdkZWJ1Zy5jc3YnKTogdm9pZCB7XG4gICAgICAgIHZhciBjc3ZTdHJpbmcgPSAnJztcbiAgICAgICAgXy5lYWNoKGRhdGEsIGZ1bmN0aW9uIChyb3cpIHtcbiAgICAgICAgICAgIF8uZWFjaChyb3csIGZ1bmN0aW9uIChjb2x1bW4sIGNvbHVtbkluZGV4KSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGNvbHVtbiA9PT0gbnVsbCA/ICcnIDogdGhpcy5yZXBsYWNlV29yZENoYXJzKGNvbHVtbik7XG4gICAgICAgICAgICAgICAgaWYgKGNvbHVtbkluZGV4ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBjc3ZTdHJpbmcgKz0gJywnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKiogRXNjYXBlIHNpbmdsZSBxdW90ZXMgd2l0aCBkb3VibGVzIGluIHdpdGhpbiB0aGUgc3RyaW5nICovXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnJlcGxhY2UoL1wiL2csICdcIlwiJyk7XG5cbiAgICAgICAgICAgICAgICAvKiogU3Vycm91bmQgc3RyaW5nIHdpdGggcXVvdGVzIHNvIHdlIGNhbiBoYXZlIGxpbmUgYnJlYWtzICovXG4gICAgICAgICAgICAgICAgY3N2U3RyaW5nICs9ICdcIicgKyByZXN1bHQgKyAnXCInO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjc3ZTdHJpbmcgKz0gJ1xcbic7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnNhdmVGaWxlKGNzdlN0cmluZywgJ2NzdjtjaGFyc2V0PXV0Zi04OycsIGZpbGVuYW1lKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBFeHBvcnRTZXJ2aWNlOnNhdmVGaWxlXG4gICAgICogQG1ldGhvZE9mIGFuZ3VsYXJQb2ludC5hcEV4cG9ydFNlcnZpY2VcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBVc2VkIHRvIGNvbnZlcnQgYSBKUyBvYmplY3Qgb3IgWE1MIGRvY3VtZW50IGludG8gYSBmaWxlIHRoYXQgaXMgdGhlbiBkb3dubG9hZGVkIG9uIHRoZSB1c2Vyc1xuICAgICAqIGxvY2FsIG1hY2hpbmUuICBPcmlnaW5hbCB3b3JrIGxvY2F0ZWQ6XG4gICAgICogW2hlcmVdKGh0dHA6Ly9iZ3JpbnMuZ2l0aHViLmlvL2RldnRvb2xzLXNuaXBwZXRzLyNjb25zb2xlLXNhdmUpLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBkYXRhIEpTIG9iamVjdCB0aGF0IHdlJ2QgbGlrZSB0byBkdW1wIHRvIGEgSlNPTiBmaWxlIGFuZCBzYXZlIHRvIHRoZSBsb2NhbCBtYWNoaW5lLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmaWxlVHlwZSBDYW4gYmUgZWl0aGVyICd4bWwnIG9yICdqc29uJy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2ZpbGVuYW1lPWRlYnVnLmpzb25dIE9wdGlvbmFsbHkgbmFtZSB0aGUgZmlsZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIDxwcmU+XG4gICAgICogLy9MZXRzIGFzc3VtZSB3ZSB3YW50IHRvIGxvb2tzIGF0IGFuIG9iamVjdCB0aGF0IGlzIHRvbyBiaWcgdG8gYmUgZWFzaWx5IHZpZXdlZCBpbiB0aGUgY29uc29sZS5cbiAgICAgKiBhcEV4cG9ydFNlcnZpY2Uuc2F2ZUpTT04ob2JqZWN0VG9TYXZlLCAnbXlvYmplY3QuanNvbicpO1xuICAgICAqIDwvcHJlPlxuICAgICAqXG4gICAgICovXG4gICAgc2F2ZUZpbGUoZGF0YSwgZmlsZVR5cGU6IHN0cmluZywgZmlsZW5hbWUgPSAnZGVidWcuanNvbicpIHtcbiAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdhcEV4cG9ydFNlcnZpY2Uuc2F2ZScgKyBmaWxlVHlwZS50b1VwcGVyQ2FzZSgpICsgJzogTm8gZGF0YScpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqIElmIHBhc3NlZCBpbiBmaWxlVHlwZT1cImNzdjtjaGFyc2V0PXV0Zi04O1wiIHdlIGp1c3Qgd2FudCB0byB1c2UgXCJjc3ZcIiAqL1xuICAgICAgICB2YXIgZmlsZUV4dGVuc2lvbiA9IGZpbGVUeXBlLnNwbGl0KCc7JylbMF07XG5cbiAgICAgICAgaWYgKCFmaWxlbmFtZSkge1xuICAgICAgICAgICAgZmlsZW5hbWUgPSAnZGVidWcuJyArIGZpbGVFeHRlbnNpb247XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZmlsZVR5cGUgPT09ICdqc29uJyAmJiB0eXBlb2YgZGF0YSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIGRhdGEgPSBKU09OLnN0cmluZ2lmeShkYXRhLCB1bmRlZmluZWQsIDQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGJsb2IgPSBuZXcgQmxvYihbZGF0YV0sIHt0eXBlOiAndGV4dC8nICsgZmlsZVR5cGV9KSxcbiAgICAgICAgICAgIGUgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnTW91c2VFdmVudHMnKSxcbiAgICAgICAgICAgIGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG5cbiAgICAgICAgYS5kb3dubG9hZCA9IGZpbGVuYW1lO1xuICAgICAgICBhLmhyZWYgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgICAgICAgYS5kYXRhc2V0Wydkb3dubG9hZHVybCddID0gWyd0ZXh0LycgKyBmaWxlVHlwZSwgYS5kb3dubG9hZCwgYS5ocmVmXS5qb2luKCc6Jyk7XG4gICAgICAgIGUuaW5pdE1vdXNlRXZlbnQoJ2NsaWNrJywgdHJ1ZSwgZmFsc2UsIHdpbmRvdywgMCwgMCwgMCwgMCwgMCwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIDAsIG51bGwpO1xuICAgICAgICBhLmRpc3BhdGNoRXZlbnQoZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgYW5ndWxhclBvaW50LmFwRXhwb3J0U2VydmljZTpzYXZlSlNPTlxuICAgICAqIEBtZXRob2RPZiBhbmd1bGFyUG9pbnQuYXBFeHBvcnRTZXJ2aWNlXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU2ltcGxlIGNvbnZlbmllbmNlIGZ1bmN0aW9uIHRoYXQgdXNlcyBhbmd1bGFyUG9pbnQuYXBFeHBvcnRTZXJ2aWNlOnNhdmVGaWxlIHRvIGRvd25sb2FkIGpzb24gdG8gdGhlIGxvY2FsIG1hY2hpbmUuXG4gICAgICogQHJlcXVpcmVzIGFuZ3VsYXJQb2ludC5hcEV4cG9ydFNlcnZpY2U6c2F2ZUZpbGVcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gZGF0YSBKUyBvYmplY3QgdGhhdCB3ZSdkIGxpa2UgdG8gZHVtcCB0byBhIEpTT04gZmlsZSBhbmQgc2F2ZSB0byB0aGUgbG9jYWwgbWFjaGluZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2ZpbGVuYW1lPWRlYnVnLmpzb25dIE9wdGlvbmFsbHkgbmFtZSB0aGUgZmlsZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIDxwcmU+XG4gICAgICogLy9MZXRzIGFzc3VtZSB3ZSB3YW50IHRvIGxvb2tzIGF0IGFuIG9iamVjdCB0aGF0IGlzIHRvbyBiaWcgdG8gYmUgZWFzaWx5IHZpZXdlZCBpbiB0aGUgY29uc29sZS5cbiAgICAgKiBhcEV4cG9ydFNlcnZpY2Uuc2F2ZUpTT04ob2JqZWN0VG9TYXZlLCAnbXlvYmplY3QuanNvbicpO1xuICAgICAqIDwvcHJlPlxuICAgICAqXG4gICAgICovXG4gICAgc2F2ZUpTT04oZGF0YTogT2JqZWN0LCBmaWxlbmFtZSA9ICdkZWJ1Zy5qc29uJykge1xuICAgICAgICB0aGlzLnNhdmVGaWxlKGRhdGEsICdqc29uJywgZmlsZW5hbWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcEV4cG9ydFNlcnZpY2U6c2F2ZVhNTFxuICAgICAqIEBtZXRob2RPZiBhbmd1bGFyUG9pbnQuYXBFeHBvcnRTZXJ2aWNlXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU2ltcGxlIGNvbnZlbmllbmNlIGZ1bmN0aW9uIHRoYXQgdXNlcyBhbmd1bGFyUG9pbnQuYXBFeHBvcnRTZXJ2aWNlOnNhdmVGaWxlIHRvIGRvd25sb2FkIHhtbCB0byB0aGUgbG9jYWwgbWFjaGluZS5cbiAgICAgKiBAcmVxdWlyZXMgYW5ndWxhclBvaW50LmFwRXhwb3J0U2VydmljZTpzYXZlRmlsZVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBkYXRhIFhNTCBvYmplY3QgdGhhdCB3ZSdkIGxpa2UgdG8gZHVtcCB0byBhIFhNTCBmaWxlIGFuZCBzYXZlIHRvIHRoZSBsb2NhbCBtYWNoaW5lLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbZmlsZW5hbWU9ZGVidWcueG1sXSBPcHRpb25hbGx5IG5hbWUgdGhlIGZpbGUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiA8cHJlPlxuICAgICAqIC8vTGV0cyBhc3N1bWUgd2Ugd2FudCB0byBsb29rcyBhdCBhbiBvYmplY3QgdGhhdCBpcyB0b28gYmlnIHRvIGJlIGVhc2lseSB2aWV3ZWQgaW4gdGhlIGNvbnNvbGUuXG4gICAgICogYXBFeHBvcnRTZXJ2aWNlLnNhdmVYTUwob2JqZWN0VG9TYXZlLCAnbXlvYmplY3QueG1sJyk7XG4gICAgICogPC9wcmU+XG4gICAgICpcbiAgICAgKi9cbiAgICBzYXZlWE1MKGRhdGE6IEVsZW1lbnQsIGZpbGVuYW1lID0gJ2RlYnVnLnhtbCcpIHtcbiAgICAgICAgdGhpcy5zYXZlRmlsZShkYXRhLCAneG1sJywgZmlsZW5hbWUpO1xuICAgIH1cblxuXG59XG5cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlciEuL3NyYy9zZXJ2aWNlcy9hcEV4cG9ydFNlcnZpY2UudHMiLCJsZXQgc2VydmljZTogRmllbGRTZXJ2aWNlO1xubGV0IHVuaXF1ZUNvdW50ID0gMDtcblxuXG4vLyBpbnRlcmZhY2UgSUZpZWxkVHlwZSB7XG4vLyAgICAgZGVmYXVsdFZhbHVlOiBzdHJpbmc7XG4vLyAgICAgZHluYW1pY01vY2s6IEZ1bmN0aW9uO1xuLy8gICAgIHN0YXRpY01vY2s6IGFueTtcbi8vIH1cblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgYW5ndWxhclBvaW50LmFwRmllbGRTZXJ2aWNlXG4gKiBAZGVzY3JpcHRpb25cbiAqIEhhbmRsZXMgdGhlIG1hcHBpbmcgb2YgdGhlIHZhcmlvdXMgdHlwZXMgb2YgZmllbGRzIHVzZWQgd2l0aGluIGEgU2hhcmVQb2ludCBsaXN0XG4gKi9cbmV4cG9ydCBjbGFzcyBGaWVsZFNlcnZpY2Uge1xuICAgIGZpZWxkVHlwZXM7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc2VydmljZSA9IHRoaXM7XG4gICAgICAgIHRoaXMuZmllbGRUeXBlcyA9IGdldEZpZWxkVHlwZXMoKVxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgYW5ndWxhclBvaW50LmFwRmllbGRTZXJ2aWNlOmdldERlZmF1bHRWYWx1ZUZvclR5cGVcbiAgICAgKiBAbWV0aG9kT2YgYW5ndWxhclBvaW50LmFwRmllbGRTZXJ2aWNlXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogUmV0dXJucyB0aGUgZW1wdHkgdmFsdWUgZXhwZWN0ZWQgZm9yIGEgZmllbGQgdHlwZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmaWVsZFR5cGUgVHlwZSBvZiBmaWVsZC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gRGVmYXVsdCB2YWx1ZSBiYXNlZCBvbiBmaWVsZCB0eXBlLlxuICAgICAqL1xuICAgIGdldERlZmF1bHRWYWx1ZUZvclR5cGUoZmllbGRUeXBlOiBzdHJpbmcpOiBhbnkge1xuICAgICAgICBsZXQgZmllbGREZWZpbml0aW9uID0gc2VydmljZS5nZXREZWZpbml0aW9uKGZpZWxkVHlwZSk7XG4gICAgICAgIGxldCBkZWZhdWx0VmFsdWU7XG5cbiAgICAgICAgaWYgKGZpZWxkRGVmaW5pdGlvbikge1xuICAgICAgICAgICAgZGVmYXVsdFZhbHVlID0gZmllbGREZWZpbml0aW9uLmRlZmF1bHRWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYW4gb2JqZWN0IGRlZmluaW5nIGEgc3BlY2lmaWMgZmllbGQgdHlwZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmaWVsZFR5cGVcbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSBmaWVsZFR5cGVEZWZpbml0aW9uXG4gICAgICovXG4gICAgZ2V0RGVmaW5pdGlvbihmaWVsZFR5cGUpIHtcbiAgICAgICAgcmV0dXJuIHNlcnZpY2UuZmllbGRUeXBlc1tmaWVsZFR5cGVdID8gc2VydmljZS5maWVsZFR5cGVzW2ZpZWxkVHlwZV0gOiBzZXJ2aWNlLmZpZWxkVHlwZXNbJ1RleHQnXTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcEZpZWxkU2VydmljZTpnZXRNb2NrRGF0YVxuICAgICAqIEBtZXRob2RPZiBhbmd1bGFyUG9pbnQuYXBGaWVsZFNlcnZpY2VcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBDYW4gcmV0dXJuIG1vY2sgZGF0YSBhcHByb3ByaWF0ZSBmb3IgdGhlIGZpZWxkIHR5cGUsIGJ5IGRlZmF1bHQgaXQgZHluYW1pY2FsbHkgZ2VuZXJhdGVzIGRhdGEgYnV0XG4gICAgICogdGhlIHN0YXRpY1ZhbHVlIHBhcmFtIHdpbGwgaW5zdGVhZCByZXR1cm4gYSBoYXJkIGNvZGVkIHR5cGUgc3BlY2lmaWMgdmFsdWVcbiAgICAgKlxuICAgICAqIEByZXF1aXJlcyBDaGFuY2VKUyB0byBwcm9kdWNlIGR5bmFtaWMgZGF0YS5cbiAgICAgKiBodHRwczovL2dpdGh1Yi5jb20vdmljdG9ycXVpbm4vY2hhbmNlanNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZmllbGRUeXBlIEZpZWxkIHR5cGUgZnJvbSB0aGUgZmllbGQgZGVmaW5pdGlvbi5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIE9wdGlvbmFsIHBhcmFtcy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnN0YXRpY1ZhbHVlPWZhbHNlXSBEZWZhdWx0IHRvIGR5bmFtaWNhbGx5IGJ1aWxkIG1vY2sgZGF0YS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gbW9ja0RhdGFcbiAgICAgKi9cbiAgICBnZXRNb2NrRGF0YShmaWVsZFR5cGUsIG9wdGlvbnMpIHtcbiAgICAgICAgbGV0IG1vY2s7XG4gICAgICAgIGNvbnN0IGZpZWxkRGVmaW5pdGlvbiA9IHNlcnZpY2UuZ2V0RGVmaW5pdGlvbihmaWVsZFR5cGUpO1xuICAgICAgICBpZiAoZmllbGREZWZpbml0aW9uKSB7XG4gICAgICAgICAgICAvLyBpZiAoXy5pc0Z1bmN0aW9uKHdpbmRvdy5DaGFuY2UpICYmIG9wdGlvbnMgJiYgIW9wdGlvbnMuc3RhdGljVmFsdWUpIHtcbiAgICAgICAgICAgIC8vICAgICAvKiogUmV0dXJuIGR5bmFtaWMgZGF0YSBpZiBDaGFuY2VKUyBpcyBhdmFpbGFibGUgYW5kIGZsYWcgaXNuJ3Qgc2V0IHJlcXVpcmluZyBzdGF0aWMgZGF0YSAqL1xuICAgICAgICAgICAgLy8gICAgIG1vY2sgPSBmaWVsZERlZmluaXRpb24uZHluYW1pY01vY2sob3B0aW9ucyk7XG4gICAgICAgICAgICAvLyB9IGVsc2Uge1xuICAgICAgICAgICAgLyoqIFJldHVybiBzdGF0aWMgZGF0YSBpZiB0aGUgZmxhZyBpcyBzZXQgb3IgQ2hhbmNlSlMgaXNuJ3QgYXZhaWxhYmxlICovXG4gICAgICAgICAgICBtb2NrID0gZmllbGREZWZpbml0aW9uLnN0YXRpY01vY2s7XG4gICAgICAgICAgICAvLyB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1vY2s7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgYW5ndWxhclBvaW50LmFwRmllbGRTZXJ2aWNlOm1vY2tQZXJtTWFza1xuICAgICAqIEBtZXRob2RPZiBhbmd1bGFyUG9pbnQuYXBGaWVsZFNlcnZpY2VcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBEZWZhdWx0cyB0byBhIGZ1bGwgbWFzayBidXQgYWxsb3dzIHNpbXVsYXRpb24gb2YgZWFjaCBvZiBtYWluIHBlcm1pc3Npb24gbGV2ZWxzXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIGNvbnRhaW5lci5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMucGVybWlzc2lvbkxldmVsPUZ1bGxNYXNrXSBPcHRpb25hbCBtYXNrLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFZhbHVlcyBmb3IgbWFzay5cbiAgICAgKi9cbiAgICBtb2NrUGVybU1hc2sob3B0aW9ucz86IHtwZXJtaXNzaW9uTGV2ZWw6IHN0cmluZ30pIHtcbiAgICAgICAgbGV0IG1hc2sgPSAnRnVsbE1hc2snO1xuICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLnBlcm1pc3Npb25MZXZlbCkge1xuICAgICAgICAgICAgbWFzayA9IG9wdGlvbnMucGVybWlzc2lvbkxldmVsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzZXJ2aWNlLnJlc29sdmVWYWx1ZUZvckVmZmVjdGl2ZVBlcm1NYXNrKG1hc2spO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcEZpZWxkU2VydmljZTpyZXNvbHZlVmFsdWVGb3JFZmZlY3RpdmVQZXJtTWFza1xuICAgICAqIEBtZXRob2RPZiBhbmd1bGFyUG9pbnQuYXBGaWVsZFNlcnZpY2VcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBUYWtlcyB0aGUgbmFtZSBvZiBhIHBlcm1pc3Npb24gbWFzayBhbmQgcmV0dXJucyBhIHBlcm1pc3Npb24gdmFsdWUgd2hpY2ggY2FuIHRoZW4gYmUgdXNlZFxuICAgICAqIHRvIGdlbmVyYXRlIGEgcGVybWlzc2lvbiBvYmplY3QgdXNpbmcgbW9kZWxTZXJ2aWNlLnJlc29sdmVQZXJtaXNzaW9ucyhvdXRwdXRmcm9tdGhpcylcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGVyTWFzayBPcHRpb25zOlxuICAgICAqICAtIEFkZExpc3RJdGVtc1xuICAgICAqICAtIEVkaXRMaXN0SXRlbXNcbiAgICAgKiAgLSBEZWxldGVMaXN0SXRlbXNcbiAgICAgKiAgLSBBcHByb3ZlSXRlbXNcbiAgICAgKiAgLSBGdWxsTWFza1xuICAgICAqICAtIFZpZXdMaXN0SXRlbXNcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSB2YWx1ZVxuICAgICAqL1xuICAgIHJlc29sdmVWYWx1ZUZvckVmZmVjdGl2ZVBlcm1NYXNrKHBlck1hc2spIHtcbiAgICAgICAgbGV0IHBlcm1pc3Npb25WYWx1ZTtcbiAgICAgICAgc3dpdGNoIChwZXJNYXNrKSB7XG4gICAgICAgICAgICBjYXNlICdBZGRMaXN0SXRlbXMnOlxuICAgICAgICAgICAgICAgIHBlcm1pc3Npb25WYWx1ZSA9IDB4MDAwMDAwMDAwMDAwMDAwMjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0VkaXRMaXN0SXRlbXMnOlxuICAgICAgICAgICAgICAgIHBlcm1pc3Npb25WYWx1ZSA9IDB4MDAwMDAwMDAwMDAwMDAwNDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0RlbGV0ZUxpc3RJdGVtcyc6XG4gICAgICAgICAgICAgICAgcGVybWlzc2lvblZhbHVlID0gMHgwMDAwMDAwMDAwMDAwMDA4O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnQXBwcm92ZUl0ZW1zJzpcbiAgICAgICAgICAgICAgICBwZXJtaXNzaW9uVmFsdWUgPSAweDAwMDAwMDAwMDAwMDAwMTA7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdGdWxsTWFzayc6XG4gICAgICAgICAgICAgICAgcGVybWlzc2lvblZhbHVlID0gMHg3RkZGRkZGRkZGRkZGRkZGO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnVmlld0xpc3RJdGVtcyc6XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHBlcm1pc3Npb25WYWx1ZSA9IDB4MDAwMDAwMDAwMDAwMDAwMTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGVybWlzc2lvblZhbHVlO1xuICAgIH1cblxufVxuXG5cbmZ1bmN0aW9uIGdldEZpZWxkVHlwZXMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgVGV4dDoge1xuICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiAnJyxcbiAgICAgICAgICAgIHN0YXRpY01vY2s6ICdUZXN0IFN0cmluZycsXG4gICAgICAgICAgICAvLyBkeW5hbWljTW9jazogcmFuZG9tU3RyaW5nXG4gICAgICAgIH0sXG4gICAgICAgIE5vdGU6IHtcbiAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogJycsXG4gICAgICAgICAgICBzdGF0aWNNb2NrOiAnVGhpcyBpcyBhIHNlbnRlbmNlLicsXG4gICAgICAgICAgICAvLyBkeW5hbWljTW9jazogcmFuZG9tUGFyYWdyYXBoXG4gICAgICAgIH0sXG4gICAgICAgIEJvb2xlYW46IHtcbiAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogbnVsbCxcbiAgICAgICAgICAgIHN0YXRpY01vY2s6IHRydWUsXG4gICAgICAgICAgICAvLyBkeW5hbWljTW9jazogcmFuZG9tQm9vbGVhblxuICAgICAgICB9LFxuICAgICAgICBDYWxjdWxhdGVkOiB7XG4gICAgICAgICAgICBkZWZhdWx0VmFsdWU6IG51bGwsXG4gICAgICAgICAgICBzdGF0aWNNb2NrOiAnZmxvYXQ7IzEyMy40NScsXG4gICAgICAgICAgICAvLyBkeW5hbWljTW9jazogcmFuZG9tQ2FsY1xuICAgICAgICB9LFxuICAgICAgICBDaG9pY2U6IHtcbiAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogJycsXG4gICAgICAgICAgICBzdGF0aWNNb2NrOiAnTXkgQ2hvaWNlJyxcbiAgICAgICAgICAgIC8vIGR5bmFtaWNNb2NrOiByYW5kb21TdHJpbmdcbiAgICAgICAgfSxcbiAgICAgICAgQ291bnRlcjoge1xuICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiBudWxsLFxuICAgICAgICAgICAgc3RhdGljTW9jazogZ2V0VW5pcXVlQ291bnRlcigpLFxuICAgICAgICAgICAgLy8gZHluYW1pY01vY2s6IGdldFVuaXF1ZUNvdW50ZXJcbiAgICAgICAgfSxcbiAgICAgICAgQ3VycmVuY3k6IHtcbiAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogbnVsbCxcbiAgICAgICAgICAgIHN0YXRpY01vY2s6IDEyMC41MCxcbiAgICAgICAgICAgIC8vIGR5bmFtaWNNb2NrOiByYW5kb21DdXJyZW5jeVxuICAgICAgICB9LFxuICAgICAgICBEYXRlVGltZToge1xuICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiBudWxsLFxuICAgICAgICAgICAgc3RhdGljTW9jazogbmV3IERhdGUoMjAxNCwgNSwgNCwgMTEsIDMzLCAyNSksXG4gICAgICAgICAgICAvLyBkeW5hbWljTW9jazogcmFuZG9tRGF0ZVxuICAgICAgICB9LFxuICAgICAgICBJbnRlZ2VyOiB7XG4gICAgICAgICAgICBkZWZhdWx0VmFsdWU6IG51bGwsXG4gICAgICAgICAgICBzdGF0aWNNb2NrOiAxNCxcbiAgICAgICAgICAgIC8vIGR5bmFtaWNNb2NrOiByYW5kb21JbnRlZ2VyXG4gICAgICAgIH0sXG4gICAgICAgIEpTT046IHtcbiAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogJycsXG4gICAgICAgICAgICBzdGF0aWNNb2NrOiBbXG4gICAgICAgICAgICAgICAge2lkOiAxLCB0aXRsZTogJ3Rlc3QnfSxcbiAgICAgICAgICAgICAgICB7aWQ6IDJ9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgLy8gZHluYW1pY01vY2s6IHJhbmRvbVN0cmluZ1xuICAgICAgICB9LFxuICAgICAgICBMb29rdXA6IHtcbiAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogJycsXG4gICAgICAgICAgICBzdGF0aWNNb2NrOiB7bG9va3VwSWQ6IDQ5LCBsb29rdXBWYWx1ZTogJ1N0YXRpYyBMb29rdXAnfSxcbiAgICAgICAgICAgIC8vIGR5bmFtaWNNb2NrOiByYW5kb21Mb29rdXBcbiAgICAgICAgfSxcbiAgICAgICAgTG9va3VwTXVsdGk6IHtcbiAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogW10sXG4gICAgICAgICAgICBzdGF0aWNNb2NrOiBbXG4gICAgICAgICAgICAgICAge2xvb2t1cElkOiA1MCwgbG9va3VwVmFsdWU6ICdTdGF0aWMgTXVsdGkgMSd9LFxuICAgICAgICAgICAgICAgIHtsb29rdXBJZDogNTEsIGxvb2t1cFZhbHVlOiAnU3RhdGljIE11bHRpIDInfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIC8vIGR5bmFtaWNNb2NrOiByYW5kb21Mb29rdXBNdWx0aVxuICAgICAgICB9LFxuICAgICAgICBNYXNrOiB7XG4gICAgICAgICAgICBkZWZhdWx0VmFsdWU6IHNlcnZpY2UubW9ja1Blcm1NYXNrKCksXG4gICAgICAgICAgICBzdGF0aWNNb2NrOiBzZXJ2aWNlLm1vY2tQZXJtTWFzaygpLFxuICAgICAgICAgICAgLy8gZHluYW1pY01vY2s6IHNlcnZpY2UubW9ja1Blcm1NYXNrXG4gICAgICAgIH0sXG4gICAgICAgIE11bHRpQ2hvaWNlOiB7XG4gICAgICAgICAgICBkZWZhdWx0VmFsdWU6IFtdLFxuICAgICAgICAgICAgc3RhdGljTW9jazogWydBIEdvb2QgQ2hvaWNlJywgJ0EgQmFkIENob2ljZSddLFxuICAgICAgICAgICAgLy8gZHluYW1pY01vY2s6IHJhbmRvbVN0cmluZ0FycmF5XG4gICAgICAgIH0sXG4gICAgICAgIFVzZXI6IHtcbiAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogJycsXG4gICAgICAgICAgICBzdGF0aWNNb2NrOiB7bG9va3VwSWQ6IDUyLCBsb29rdXBWYWx1ZTogJ1N0YXRpYyBVc2VyJ30sXG4gICAgICAgICAgICAvLyBkeW5hbWljTW9jazogcmFuZG9tVXNlclxuICAgICAgICB9LFxuICAgICAgICBVc2VyTXVsdGk6IHtcbiAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogW10sXG4gICAgICAgICAgICBzdGF0aWNNb2NrOiBbXG4gICAgICAgICAgICAgICAge2xvb2t1cElkOiA1MywgbG9va3VwVmFsdWU6ICdTdGF0aWMgVXNlciAxJ30sXG4gICAgICAgICAgICAgICAge2xvb2t1cElkOiA1NCwgbG9va3VwVmFsdWU6ICdTdGF0aWMgVXNlciAyJ31cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAvLyBkeW5hbWljTW9jazogcmFuZG9tVXNlck11bHRpXG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGdldFVuaXF1ZUNvdW50ZXIoKSB7XG4gICAgdW5pcXVlQ291bnQrKztcbiAgICByZXR1cm4gdW5pcXVlQ291bnQ7XG59XG5cbi8vIGZ1bmN0aW9uIHJhbmRvbUJvb2xlYW4oKSB7XG4vLyAgICAgcmV0dXJuIGNoYW5jZS5ib29sKCk7XG4vLyB9XG4vL1xuLy8gZnVuY3Rpb24gcmFuZG9tQ2FsYygpIHtcbi8vICAgICByZXR1cm4gJ2Zsb2F0OyMnICsgY2hhbmNlLmZsb2F0aW5nKHttaW46IDAsIG1heDogMTAwMDB9KTtcbi8vIH1cbi8vXG4vLyBmdW5jdGlvbiByYW5kb21TdHJpbmcoKSB7XG4vLyAgICAgcmV0dXJuIGNoYW5jZS53b3JkKCkgKyAnICcgKyBjaGFuY2Uud29yZCgpO1xuLy8gfVxuLy9cbi8vIGZ1bmN0aW9uIHJhbmRvbVN0cmluZ0FycmF5KCkge1xuLy8gICAgIHZhciByYW5kb21BcnIgPSBbXTtcbi8vICAgICAvKiogQ3JlYXRlIGEgcmFuZG9tICgxLTQpIG51bWJlciBvZiBzdHJpbmdzIGFuZCBhZGQgdG8gYXJyYXkgKi9cbi8vICAgICBfLnRpbWVzKF8ucmFuZG9tKDEsIDQpLCBmdW5jdGlvbiAoKSB7XG4vLyAgICAgICAgIHJhbmRvbUFyci5wdXNoKHJhbmRvbVN0cmluZygpKTtcbi8vICAgICB9KTtcbi8vICAgICByZXR1cm4gcmFuZG9tQXJyO1xuLy8gfVxuLy9cbi8vIGZ1bmN0aW9uIHJhbmRvbVBhcmFncmFwaCgpIHtcbi8vICAgICByZXR1cm4gY2hhbmNlLnBhcmFncmFwaCgpO1xuLy8gfVxuLy9cbi8vIGZ1bmN0aW9uIHJhbmRvbUN1cnJlbmN5KCkge1xuLy8gICAgIHJldHVybiBwYXJzZUludChfLnJhbmRvbSgxMDAwMDAwMCwgdHJ1ZSkgKiAxMDApIC8gMTAwO1xuLy8gfVxuLy9cbi8vIGZ1bmN0aW9uIHJhbmRvbURhdGUoKSB7XG4vLyAgICAgcmV0dXJuIGNoYW5jZS5kYXRlKCk7XG4vLyB9XG4vL1xuLy8gZnVuY3Rpb24gcmFuZG9tSW50ZWdlcigpIHtcbi8vICAgICByZXR1cm4gY2hhbmNlLmludGVnZXIoKTtcbi8vIH1cbi8vXG4vL1xuLy8gZnVuY3Rpb24gcmFuZG9tTG9va3VwKCkge1xuLy8gICAgIHJldHVybiB7XG4vLyAgICAgICAgIGxvb2t1cElkOiBnZXRVbmlxdWVDb3VudGVyKCksXG4vLyAgICAgICAgIGxvb2t1cFZhbHVlOiBjaGFuY2Uud29yZCgpXG4vLyAgICAgfTtcbi8vIH1cbi8vXG4vLyBmdW5jdGlvbiByYW5kb21Vc2VyKCkge1xuLy8gICAgIHJldHVybiB7XG4vLyAgICAgICAgIGxvb2t1cElkOiBnZXRVbmlxdWVDb3VudGVyKCksXG4vLyAgICAgICAgIGxvb2t1cFZhbHVlOiBjaGFuY2UubmFtZSgpXG4vLyAgICAgfTtcbi8vIH1cbi8vXG4vLyBmdW5jdGlvbiByYW5kb21Mb29rdXBNdWx0aSgpIHtcbi8vICAgICB2YXIgbW9ja0RhdGEgPSBbXTtcbi8vICAgICBfLmVhY2goXy5yYW5kb20oMTApLCBmdW5jdGlvbiAoKSB7XG4vLyAgICAgICAgIG1vY2tEYXRhLnB1c2gocmFuZG9tTG9va3VwKCkpO1xuLy8gICAgIH0pO1xuLy8gICAgIHJldHVybiBtb2NrRGF0YTtcbi8vIH1cbi8vXG4vLyBmdW5jdGlvbiByYW5kb21Vc2VyTXVsdGkoKSB7XG4vLyAgICAgdmFyIG1vY2tEYXRhID0gW107XG4vLyAgICAgXy5lYWNoKF8ucmFuZG9tKDEwKSwgZnVuY3Rpb24gKCkge1xuLy8gICAgICAgICBtb2NrRGF0YS5wdXNoKHJhbmRvbVVzZXIoKSk7XG4vLyAgICAgfSk7XG4vLyAgICAgcmV0dXJuIG1vY2tEYXRhO1xuLy8gfVxuICAgIFxuICAgIFxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyIS4vc3JjL3NlcnZpY2VzL2FwRmllbGRTZXJ2aWNlLnRzIiwiaW1wb3J0ICogYXMgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IHtJTG9va3VwfSBmcm9tICcuLi9mYWN0b3JpZXMvYXBMb29rdXBGYWN0b3J5JztcbmxldCBzZXJ2aWNlOiBGb3JtYXR0ZWRGaWVsZFZhbHVlU2VydmljZTtcbmxldCAkZmlsdGVyOiBuZy5JRmlsdGVyU2VydmljZTtcblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgYW5ndWxhclBvaW50LmFwRm9ybWF0dGVkRmllbGRWYWx1ZVNlcnZpY2VcbiAqIEBkZXNjcmlwdGlvblxuICogUmV0dXJucyB0aGUgZm9ybWF0dGVkIHN0cmluZyB2YWx1ZSBmb3IgYSBmaWVsZCBiYXNlZCBvbiBmaWVsZCB0eXBlLlxuICovXG5leHBvcnQgY2xhc3MgRm9ybWF0dGVkRmllbGRWYWx1ZVNlcnZpY2Uge1xuICAgIHN0YXRpYyAkaW5qZWN0ID0gWyckZmlsdGVyJ107XG5cbiAgICBjb25zdHJ1Y3RvcihfJGZpbHRlcl8pIHtcbiAgICAgICAgc2VydmljZSA9IHRoaXM7XG4gICAgICAgICRmaWx0ZXIgPSBfJGZpbHRlcl87XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgYW5ndWxhclBvaW50LmFwRm9ybWF0dGVkRmllbGRWYWx1ZVNlcnZpY2U6Z2V0Rm9ybWF0dGVkRmllbGRWYWx1ZVxuICAgICAqIEBtZXRob2RPZiBhbmd1bGFyUG9pbnQuYXBGb3JtYXR0ZWRGaWVsZFZhbHVlU2VydmljZVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fGFycmF5fHN0cmluZ3xpbnRlZ2VyfGJvb2xlYW59IHByb3AgVGFyZ2V0IHRoYXQgd2UnZCBsaWtlIHRvIHN0cmluZ2lmeS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3Byb3BlcnR5VHlwZT0nU3RyaW5nJ10gQXNzdW1lcyBieSBkZWZhdWx0IHRoYXQgaXQncyBhbHJlYWR5IGEgc3RyaW5nLiAgTW9zdCBvZiB0aGUgbm9ybWFsIGZpZWxkXG4gICAgICogdHlwZXMgaWRlbnRpZmllZCBpbiB0aGUgbW9kZWwgZmllbGQgZGVmaW5pdGlvbnMgYXJlIHN1cHBvcnRlZC5cbiAgICAgKlxuICAgICAqIC0gTG9va3VwXG4gICAgICogLSBVc2VyXG4gICAgICogLSBCb29sZWFuXG4gICAgICogLSBEYXRlVGltZVxuICAgICAqIC0gSW50ZWdlclxuICAgICAqIC0gTnVtYmVyXG4gICAgICogLSBDb3VudGVyXG4gICAgICogLSBNdWx0aUNob2ljZVxuICAgICAqIC0gVXNlck11bHRpXG4gICAgICogLSBMb29rdXBNdWx0aVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIE9wdGlvbmFsIGNvbmZpZy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMuZGVsaW09JywgJ10gT3B0aW9uYWwgZGVsaW1pdGVyIHRvIHNwbGl0IGNvbmNhdGVuYXRlZCBzdHJpbmdzLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5kYXRlRm9ybWF0PSdzaG9ydCddIEVpdGhlciAnanNvbicgd2hpY2ggY29udmVydHMgYSBkYXRlIGludG8gSVNPODYwMSBkYXRlIHN0cmluZ1xuICAgICAqIG9yIGEgbWFzayBmb3IgdGhlIGFuZ3VsYXIgZGF0ZSBmaWx0ZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiA8cHJlPlxuICAgICAqICB2YXIgcHJvamVjdCA9IHtcbiAgICAgICAgICogICAgdGl0bGU6ICdTdXBlciBQcm9qZWN0JyxcbiAgICAgICAgICogICBtZW1iZXJzOiBbXG4gICAgICAgICAqICAgICB7IGxvb2t1cElkOiAxMiwgbG9va3VwVmFsdWU6ICdKb2UnIH0sXG4gICAgICAgICAqICAgICB7IGxvb2t1cElkOiAxOSwgbG9va3VwVmFsdWU6ICdCZXRoJyB9XG4gICAgICAgICAqICAgXVxuICAgICAgICAgKiB9O1xuICAgICAqXG4gICAgICogdmFyIG1lbWJlcnNBc1N0cmluZyA9IGFwRm9ybWF0dGVkRmllbGRWYWx1ZVNlcnZpY2U6Z2V0Rm9ybWF0dGVkRmllbGRWYWx1ZSh7XG4gICAgICAgICAqICAgIHByb2plY3QubWVtYmVycyxcbiAgICAgICAgICogICAgJ1VzZXJNdWx0aScsXG4gICAgICAgICAqICAgIHsgZGVsaW06ICcgfCAnfSAvL0N1c3RvbSBEZWxpbWl0ZXJcbiAgICAgICAgICogfSk7XG4gICAgICpcbiAgICAgKiAvLyBtZW1iZXJzQXNTdHJpbmcgPSAnSm9lIHwgQmV0aCc7XG4gICAgICpcbiAgICAgKiA8L3ByZT5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBTdHJpbmdpZmllZCBwcm9wZXJ0eSBvbiB0aGUgb2JqZWN0IGJhc2VkIG9uIHRoZSBmaWVsZCB0eXBlLlxuICAgICAqL1xuICAgIGdldEZvcm1hdHRlZEZpZWxkVmFsdWUocHJvcDogYW55LCBwcm9wZXJ0eVR5cGU6IHN0cmluZyA9ICdTdHJpbmcnLCBvcHRpb25zOiB7ZGVsaW0/OiBzdHJpbmc7IGRhdGVGb3JtYXQ/OiBzdHJpbmd9ID0ge30pOiBzdHJpbmcge1xuXG4gICAgICAgIGxldCBzdHI6IHN0cmluZyA9ICcnO1xuICAgICAgICAvKiogT25seSBwcm9jZXNzIGlmIHByb3AgaXMgZGVmaW5lZCAqL1xuICAgICAgICBpZiAocHJvcCkge1xuICAgICAgICAgICAgc3dpdGNoIChwcm9wZXJ0eVR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdCb29sZWFuJzpcbiAgICAgICAgICAgICAgICAgICAgc3RyID0gc2VydmljZS5zdHJpbmdpZnlCb29sZWFuKHByb3ApO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdDYWxjdWxhdGVkJzogLy8gQ2FuIGJlIERhdGVUaW1lLCBGbG9hdCwgb3IgU3RyaW5nXG4gICAgICAgICAgICAgICAgICAgIHN0ciA9IHNlcnZpY2Uuc3RyaW5naWZ5Q2FsYyhwcm9wKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnTG9va3VwJzpcbiAgICAgICAgICAgICAgICBjYXNlICdVc2VyJzpcbiAgICAgICAgICAgICAgICAgICAgc3RyID0gc2VydmljZS5zdHJpbmdpZnlMb29rdXAocHJvcCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ0RhdGVUaW1lJzpcbiAgICAgICAgICAgICAgICAgICAgc3RyID0gc2VydmljZS5zdHJpbmdpZnlEYXRlKHByb3AsIG9wdGlvbnMuZGF0ZUZvcm1hdCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ0ludGVnZXInOlxuICAgICAgICAgICAgICAgIGNhc2UgJ051bWJlcic6XG4gICAgICAgICAgICAgICAgY2FzZSAnRmxvYXQnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ0NvdW50ZXInOlxuICAgICAgICAgICAgICAgICAgICBzdHIgPSBzZXJ2aWNlLnN0cmluZ2lmeU51bWJlcihwcm9wKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnQ3VycmVuY3knOlxuICAgICAgICAgICAgICAgICAgICBzdHIgPSBzZXJ2aWNlLnN0cmluZ2lmeUN1cnJlbmN5KHByb3ApO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdNdWx0aUNob2ljZSc6XG4gICAgICAgICAgICAgICAgICAgIHN0ciA9IHNlcnZpY2Uuc3RyaW5naWZ5TXVsdGlDaG9pY2UocHJvcCwgb3B0aW9ucy5kZWxpbSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ1VzZXJNdWx0aSc6XG4gICAgICAgICAgICAgICAgY2FzZSAnTG9va3VwTXVsdGknOlxuICAgICAgICAgICAgICAgICAgICBzdHIgPSBzZXJ2aWNlLnN0cmluZ2lmeU11bHRpTG9va3VwKHByb3AsIG9wdGlvbnMuZGVsaW0pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBzdHIgPSBwcm9wO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgYW5ndWxhclBvaW50LmFwRm9ybWF0dGVkRmllbGRWYWx1ZVNlcnZpY2U6c3RyaW5naWZ5Qm9vbGVhblxuICAgICAqIEBtZXRob2RPZiBhbmd1bGFyUG9pbnQuYXBGb3JtYXR0ZWRGaWVsZFZhbHVlU2VydmljZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gcHJvcCBCb29sZWFuIHRvIHN0cmluZ2lmeS5cbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBSZXR1cm5zIHRoZSBzdHJpbmdpZmllZCBib29sZWFuIGlmIGl0IGlzIHNldC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBTdHJpbmdpZmllZCBib29sZWFuLlxuICAgICAqL1xuICAgIHN0cmluZ2lmeUJvb2xlYW4ocHJvcDogYm9vbGVhbik6IHN0cmluZyB7XG4gICAgICAgIGxldCBzdHIgPSAnJztcbiAgICAgICAgaWYgKF8uaXNCb29sZWFuKHByb3ApKSB7XG4gICAgICAgICAgICBzdHIgPSBwcm9wLnRvU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0cjtcbiAgICB9XG5cbiAgICBzdHJpbmdpZnlDYWxjKHByb3A6IGFueSk6IHN0cmluZyB7XG4gICAgICAgIGlmIChwcm9wLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9IGVsc2UgaWYgKF8uaXNOdW1iZXIocHJvcCkpIHtcbiAgICAgICAgICAgIHJldHVybiBzZXJ2aWNlLmdldEZvcm1hdHRlZEZpZWxkVmFsdWUocHJvcCwgJ051bWJlcicpO1xuICAgICAgICB9IGVsc2UgaWYgKF8uaXNEYXRlKHByb3ApKSB7XG4gICAgICAgICAgICByZXR1cm4gc2VydmljZS5nZXRGb3JtYXR0ZWRGaWVsZFZhbHVlKHByb3AsICdEYXRlVGltZScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHNlcnZpY2UuZ2V0Rm9ybWF0dGVkRmllbGRWYWx1ZShwcm9wLCAnVGV4dCcpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgYW5ndWxhclBvaW50LmFwRm9ybWF0dGVkRmllbGRWYWx1ZVNlcnZpY2U6c3RyaW5naWZ5Q3VycmVuY3lcbiAgICAgKiBAbWV0aG9kT2YgYW5ndWxhclBvaW50LmFwRm9ybWF0dGVkRmllbGRWYWx1ZVNlcnZpY2VcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBDb252ZXJ0cyBhIG51bWVyaWMgdmFsdWUgaW50byBhIGZvcm1hdHRlZCBjdXJyZW5jeSBzdHJpbmcuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHByb3AgUHJvcGVydHkgb24gb2JqZWN0IHRvIHBhcnNlLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFN0cmluZ2lmaWVkIGN1cnJlbmN5LlxuICAgICAqL1xuICAgIHN0cmluZ2lmeUN1cnJlbmN5KHByb3A6IG51bWJlcik6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiAkZmlsdGVyKCdjdXJyZW5jeScpKHByb3AsICckJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgYW5ndWxhclBvaW50LmFwRm9ybWF0dGVkRmllbGRWYWx1ZVNlcnZpY2U6c3RyaW5naWZ5RGF0ZVxuICAgICAqIEBtZXRob2RPZiBhbmd1bGFyUG9pbnQuYXBGb3JtYXR0ZWRGaWVsZFZhbHVlU2VydmljZVxuICAgICAqIEBwYXJhbSB7ZGF0ZX0gcHJvcCBEYXRlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZGF0ZUZvcm1hdCBFaXRoZXIgJ2pzb24nIHdoaWNoIGNvbnZlcnRzIGEgZGF0ZSBpbnRvIElTTzg2MDEgZGF0ZSBzdHJpbmcgb3IgYSBtYXNrIGZvclxuICAgICAqIHRoZSBhbmd1bGFyIGRhdGUgZmlsdGVyLlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFJldHVybnMgSlNPTiBkYXRlLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IEpTT04gZGF0ZS5cbiAgICAgKi9cbiAgICBzdHJpbmdpZnlEYXRlKHByb3A6IERhdGUsIGRhdGVGb3JtYXQ6IHN0cmluZyA9ICdzaG9ydCcpOiBzdHJpbmcge1xuICAgICAgICBsZXQgc3RyID0gJyc7XG4gICAgICAgIGlmIChfLmlzRGF0ZShwcm9wKSkge1xuICAgICAgICAgICAgc3RyID0gZGF0ZUZvcm1hdCA9PT0gJ2pzb24nID8gcHJvcC50b0pTT04oKSA6ICRmaWx0ZXIoJ2RhdGUnKShwcm9wLCBkYXRlRm9ybWF0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcEZvcm1hdHRlZEZpZWxkVmFsdWVTZXJ2aWNlOnN0cmluZ2lmeUxvb2t1cFxuICAgICAqIEBtZXRob2RPZiBhbmd1bGFyUG9pbnQuYXBGb3JtYXR0ZWRGaWVsZFZhbHVlU2VydmljZVxuICAgICAqIEBwYXJhbSB7b2JqfSBwcm9wIFByb3BlcnR5IG9uIG9iamVjdCB0byBwYXJzZS5cbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBSZXR1cm5zIHRoZSBwcm9wZXJ0eS5sb29rdXBWYWx1ZSBpZiBwcmVzZW50LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFByb3BlcnR5Lmxvb2t1cFZhbHVlLlxuICAgICAqL1xuICAgIHN0cmluZ2lmeUxvb2t1cChwcm9wOiBJTG9va3VwPGFueT4pOiBzdHJpbmcge1xuICAgICAgICBsZXQgc3RyID0gJyc7XG4gICAgICAgIGlmIChwcm9wICYmIHByb3AubG9va3VwVmFsdWUpIHtcbiAgICAgICAgICAgIHN0ciA9IHByb3AubG9va3VwVmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0cjtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcEZvcm1hdHRlZEZpZWxkVmFsdWVTZXJ2aWNlOnN0cmluZ2lmeU11bHRpQ2hvaWNlXG4gICAgICogQG1ldGhvZE9mIGFuZ3VsYXJQb2ludC5hcEZvcm1hdHRlZEZpZWxkVmFsdWVTZXJ2aWNlXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gcHJvcCBBcnJheSBvZiBzZWxlY3RlZCBjaG9pY2VzLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbZGVsaW09JzsgJ10gQ3VzdG9tIGRlbGltaXRlciB1c2VkIGJldHdlZW4gdGhlIGNvbmNhdGVuYXRlZCB2YWx1ZXMuXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogQ29udmVydHMgYW4gYXJyYXkgb2Ygc3RyaW5ncyBpbnRvIGEgc2luZ2xlIGNvbmNhdGVuYXRlZCBzdHJpbmcuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gQ29uY2F0ZW5hdGVkIHN0cmluZyByZXByZXNlbnRhdGlvbi5cbiAgICAgKi9cbiAgICBzdHJpbmdpZnlNdWx0aUNob2ljZShwcm9wOiBzdHJpbmdbXSwgZGVsaW0gPSAnOyAnKTogc3RyaW5nIHtcbiAgICAgICAgbGV0IHN0ciA9ICcnO1xuICAgICAgICBfLmVhY2gocHJvcCwgZnVuY3Rpb24gKGNob2ljZSwgaSkge1xuICAgICAgICAgICAgaWYgKGkgPiAwKSB7XG4gICAgICAgICAgICAgICAgc3RyICs9IGRlbGltO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RyICs9IGNob2ljZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBGb3JtYXR0ZWRGaWVsZFZhbHVlU2VydmljZTpzdHJpbmdpZnlNdWx0aUxvb2t1cFxuICAgICAqIEBtZXRob2RPZiBhbmd1bGFyUG9pbnQuYXBGb3JtYXR0ZWRGaWVsZFZhbHVlU2VydmljZVxuICAgICAqIEBwYXJhbSB7b2JqZWN0W119IHByb3AgQXJyYXkgb2YgbG9va3VwIG9iamVjdHMuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtkZWxpbT0nOyAnXSBDdXN0b20gZGVsaW1pdGVyIHVzZWQgYmV0d2VlbiB0aGUgY29uY2F0ZW5hdGVkIHZhbHVlcy5cbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBDb252ZXJ0cyBhbiBhcnJheSBvZiBzZWxlY3RlZCBsb29rdXAgdmFsdWVzIGludG8gYSBzaW5nbGUgY29uY2F0ZW5hdGVkIHN0cmluZy5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBDb25jYXRlbmF0ZWQgc3RyaW5nIHJlcHJlc2VudGF0aW9uLlxuICAgICAqL1xuICAgIHN0cmluZ2lmeU11bHRpTG9va3VwKHByb3A6IElMb29rdXA8YW55PltdLCBkZWxpbSA9ICc7ICcpOiBzdHJpbmcge1xuICAgICAgICBsZXQgc3RyID0gJyc7XG4gICAgICAgIF8uZWFjaChwcm9wLCBmdW5jdGlvbiAodmFsLCB2YWxJbmRleCkge1xuXG4gICAgICAgICAgICAvKiogQWRkIGFydGlmaWNpYWwgZGVsaW0gKi9cbiAgICAgICAgICAgIGlmICh2YWxJbmRleCA+IDApIHtcbiAgICAgICAgICAgICAgICBzdHIgKz0gZGVsaW07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHN0ciArPSBzZXJ2aWNlLnN0cmluZ2lmeUxvb2t1cCh2YWwpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHN0cjtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcEZvcm1hdHRlZEZpZWxkVmFsdWVTZXJ2aWNlOnN0cmluZ2lmeU51bWJlclxuICAgICAqIEBtZXRob2RPZiBhbmd1bGFyUG9pbnQuYXBGb3JtYXR0ZWRGaWVsZFZhbHVlU2VydmljZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwcm9wIFByb3BlcnR5IG9uIG9iamVjdCB0byBwYXJzZS5cbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBDb252ZXJ0cyBhIG51bWJlciB0byBhIHN0cmluZyByZXByZXNlbnRhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBTdHJpbmdpZmllZCBudW1iZXIuXG4gICAgICovXG4gICAgc3RyaW5naWZ5TnVtYmVyKHByb3A6IG51bWJlcik6IHN0cmluZyB7XG4gICAgICAgIGxldCBzdHIgPSAnJztcbiAgICAgICAgaWYgKF8uaXNOdW1iZXIocHJvcCkpIHtcbiAgICAgICAgICAgIHN0ciA9IHByb3AudG9TdHJpbmcoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RyO1xuICAgIH1cblxufVxuXG5cblxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyIS4vc3JjL3NlcnZpY2VzL2FwRm9ybWF0dGVkRmllbGRWYWx1ZVNlcnZpY2UudHMiLCJpbXBvcnQgKiBhcyBfIGZyb20gJ2xvZGFzaCc7XG4vLyBpbXBvcnQgKiBhcyBFcnJvclN0YWNrUGFyc2VyIGZyb20gJ2Vycm9yLXN0YWNrLXBhcnNlcic7XG5pbXBvcnQge0xpc3RJdGVtfSBmcm9tICcuLi9mYWN0b3JpZXMvYXBMaXN0SXRlbUZhY3RvcnknO1xuXG5kZWNsYXJlIHZhciBFcnJvclN0YWNrUGFyc2VyOiBhbnk7XG5cblxubGV0IGRlZmVycmVkOiBuZy5JRGVmZXJyZWQ8RnVuY3Rpb24+O1xubGV0IHJlZ2lzdGVyQ2FsbGJhY2s6IG5nLklQcm9taXNlPEZ1bmN0aW9uPjtcblxuZXhwb3J0IGludGVyZmFjZSBJTG9nRXZlbnQge1xuICAgIGNhdXNlPzogc3RyaW5nO1xuICAgIGV2ZW50Pzogc3RyaW5nO1xuICAgIGpzb24/OiBPYmplY3Q7XG4gICAgbWVzc2FnZT86IHN0cmluZztcbiAgICBzdGFja1RyYWNlPzogc3RyaW5nW107XG4gICAgdHlwZT86IHN0cmluZztcbiAgICAvLyBpbml0aWFsIFVSTCBhbmQgVVJMIGFmdGVyIGFuZCByb3V0aW5nIGhhcyBzZXR0bGVkXG4gICAgdXJsPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElMb2dnZXIge1xuICAgIGRlYnVnKG1lc3NhZ2U6IHN0cmluZywgb3B0aW9uc092ZXJyaWRlPzogSUxvZ0V2ZW50KTogbmcuSVByb21pc2U8TGlzdEl0ZW08YW55Pj47XG4gICAgZXJyb3IobWVzc2FnZTogc3RyaW5nLCBvcHRpb25zT3ZlcnJpZGU/OiBJTG9nRXZlbnQpOiBuZy5JUHJvbWlzZTxMaXN0SXRlbTxhbnk+PjtcbiAgICBleGNlcHRpb24oZXhjZXB0aW9uLCBjYXVzZT8sIG9wdGlvbnNPdmVycmlkZT86IElMb2dFdmVudCk6IHZvaWQ7XG4gICAgaW5mbyhtZXNzYWdlOiBzdHJpbmcsIG9wdGlvbnNPdmVycmlkZT86IElMb2dFdmVudCk6IG5nLklQcm9taXNlPExpc3RJdGVtPGFueT4+O1xuICAgIGxvZyhtZXNzYWdlOiBzdHJpbmcsIG9wdGlvbnNPdmVycmlkZT86IElMb2dFdmVudCk6IG5nLklQcm9taXNlPExpc3RJdGVtPGFueT4+O1xuICAgIHJlZ2lzdGVyRXZlbnQoZXZlbnQ6IElMb2dFdmVudCk6IG5nLklQcm9taXNlPExpc3RJdGVtPGFueT4+O1xuICAgIHN1YnNjcmliZShjYWxsYmFjazogRnVuY3Rpb24pOiB2b2lkO1xuICAgIHdhcm4obWVzc2FnZTogc3RyaW5nLCBvcHRpb25zT3ZlcnJpZGU/OiBJTG9nRXZlbnQpOiBuZy5JUHJvbWlzZTxMaXN0SXRlbTxhbnk+Pjtcbn1cblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgYW5ndWxhclBvaW50LmFwTG9nZ2VyXG4gKiBAZGVzY3JpcHRpb25cbiAqIENvbW1vbiBkZWZpbml0aW9ucyB1c2VkIGluIHRoZSBhcHBsaWNhdGlvbi5cbiAqXG4gKiBIT1cgVE8gVVNFXG4gKiAxLiBDcmVhdGUgYSBsb2dnaW5nIG1vZGVsIGZvciBsb2dzIHRvIGJlIHN0b3JlZFxuICogMi4gRW5zdXJlIGV2ZXJ5b25lIGhhcyB3cml0ZSBhY2Nlc3MgdG8gdGhlIGxpc3RcbiAqIDMuIEFkZCB0aGUgbW9kZWwgYXMgb25lIG9mIHRoZSBkZXBlbmRlbmNpZXMgaW4geW91ciAucnVuIHNvIGl0J2xsIGJlIGluc3RhbnRpYXRlZCBpbW1lZGlhdGVseVxuICogNC4gU3Vic2NyaWJlIHRvIGNoYW5nZSBldmVudHMgZnJvbSBvbiB0aGUgbW9kZWxcbiAqXG4gKlxuICogQGV4YW1wbGVcbiAqIDxwcmU+XG4gKiBleHBvcnQgY2xhc3MgTG9nIGV4dGVuZHMgTGlzdEl0ZW17XG4gICAgICogICAgIGNhdXNlOiBzdHJpbmc7XG4gICAgICogICAgIGV2ZW50OiBzdHJpbmc7XG4gICAgICogICAgIGZvcm1hdHRlZFN0YWNrVHJhY2U6IHN0cmluZztcbiAgICAgKiAgICAganNvbjogT2JqZWN0O1xuICAgICAqICAgICBtZXNzYWdlOiBzdHJpbmc7XG4gICAgICogICAgIHN0YWNrVHJhY2U6IHN0cmluZ1tdO1xuICAgICAqICAgICB0eXBlOiBzdHJpbmc7XG4gICAgICogICAgIHVybDogc3RyaW5nO1xuICAgICAqICAgICBjb25zdHJ1Y3RvcihvYmope1xuICAgICAqICAgICAgICAgXy5hc3NpZ24odGhpcywgb2JqKTtcbiAgICAgKiAgICAgfVxuICAgICAqICAgICAvL292ZXJyaWRlIHRoZSBkZWZhdWx0IHNhdmUgYW5kIGNsZWFudXAgYmVmb3JlIGFjdHVhbGx5IHNhdmluZ1xuICAgICAqICAgICBzYXZlQ2hhbmdlcygpIHtcbiAgICAgKiAgICAgICAgICAvLyBzdHJpbmdpZnkgc3RhY2t0cmFjZSBwcmlvciB0byBzYXZpbmcgc28gd2UgY2FuIGRpc3BsYXkgaW4gZW1haWwgbm90aWZpY2F0aW9uc1xuICAgICAqICAgICAgICAgIGlmKHRoaXMuc3RhY2tUcmFjZSAmJiAhdGhpcy5mb3JtYXR0ZWRTdGFja1RyYWNlKSB7XG4gICAgICogICAgICAgICAgdGhpcy5mb3JtYXR0ZWRTdGFja1RyYWNlID0gdGhpcy5zdGFja1RyYWNlLm1hcChmdW5jdGlvbihzZikge1xuICAgICAqICAgICAgICAgICAgICAgcmV0dXJuIHNmLnRvU3RyaW5nKCk7XG4gICAgICogICAgICAgICAgIH0pLmpvaW4oJ1xcbicpO1xuICAgICAqICAgICAgICAgfVxuICAgICAqICAgICAgICAgcmV0dXJuIHN1cGVyLnNhdmVDaGFuZ2VzKCk7XG4gICAgICogICAgIH1cbiAgICAgKiB9XG4gKiB2YXIgbG9nQ291bnRlciA9IDA7XG4gKiB2YXIgbWF4TG9nc1BlclNlc3NzaW9uID0gNTtcbiAqIGV4cG9ydCBjbGFzcyBMb2dzTW9kZWwgZXh0ZW5kcyBNb2RlbHtcbiAgICAgKiAgICAgY29uc3RydWN0b3IoYXBMb2dnZXI6IExvZ2dlcikge1xuICAgICAqICAgICAgICAgbW9kZWwgPSB0aGlzO1xuICAgICAqICAgICAgICAgc3VwZXIoe1xuICAgICAqICAgICAgICAgICAgIGZhY3Rvcnk6IExvZyxcbiAgICAgKiAgICAgICAgICAgICBsaXN0OiB7XG4gICAgICogICAgICAgICAgICAgICAgIHRpdGxlOiAnTG9ncycsXG4gICAgICogICAgICAgICAgICAgICAgIGd1aWQ6ICd7TE9HIExJU1QgR1VJRC4uLkNIQU5HRSBNRX0nLFxuICAgICAqICAgICAgICAgICAgICAgICBjdXN0b21GaWVsZHM6IFtcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgIHtzdGF0aWNOYW1lOiAnTWVzc2FnZScsIG9iamVjdFR5cGU6ICdOb3RlJywgbWFwcGVkTmFtZTogJ21lc3NhZ2UnLCByZWFkT25seTogZmFsc2V9LFxuICAgICAqICAgICAgICAgICAgICAgICAgICAge3N0YXRpY05hbWU6ICdUaXRsZScsIG9iamVjdFR5cGU6ICdUZXh0JywgbWFwcGVkTmFtZTogJ3VybCcsIHJlYWRPbmx5OiBmYWxzZX0sXG4gICAgICogICAgICAgICAgICAgICAgICAgICB7c3RhdGljTmFtZTogJ0xvZ1R5cGUnLCBvYmplY3RUeXBlOiAnVGV4dCcsIG1hcHBlZE5hbWU6ICd0eXBlJywgcmVhZE9ubHk6IGZhbHNlfSxcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgIHtzdGF0aWNOYW1lOiAnU3RhY2tUcmFjZScsIG9iamVjdFR5cGU6ICdKU09OJywgbWFwcGVkTmFtZTogJ3N0YWNrVHJhY2UnLCByZWFkT25seTogZmFsc2V9LFxuICAgICAqICAgICAgICAgICAgICAgICAgICAge3N0YXRpY05hbWU6ICdDYXVzZScsIG9iamVjdFR5cGU6ICdUZXh0JywgbWFwcGVkTmFtZTogJ2NhdXNlJywgcmVhZE9ubHk6IGZhbHNlfSxcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgIHtzdGF0aWNOYW1lOiAnSlNPTicsIG9iamVjdFR5cGU6ICdKU09OJywgbWFwcGVkTmFtZTogJ2pzb24nLCByZWFkT25seTogZmFsc2V9LFxuICAgICAqICAgICAgICAgICAgICAgICAgICAge3N0YXRpY05hbWU6ICdFdmVudCcsIG9iamVjdFR5cGU6ICdUZXh0JywgbWFwcGVkTmFtZTogJ2V2ZW50JywgcmVhZE9ubHk6IGZhbHNlfSxcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0aWNOYW1lOiAnRm9ybWF0dGVkU3RhY2tUcmFjZScsXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0VHlwZTogJ05vdGUnLFxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgIG1hcHBlZE5hbWU6ICdmb3JtYXR0ZWRTdGFja1RyYWNlJyxcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICByZWFkT25seTogZmFsc2UsXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICdUcmFjZSBmb3JtYXR0ZWQgdG8gYmUgcmVhZGFibGUgaW4gZW1haWwgbm90aWZpY2F0aW9uLidcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgKiAgICAgICAgICAgICAgICAgXVxuICAgICAqICAgICAgICAgICAgIH1cbiAgICAgKiAgICAgICAgIH0pO1xuICAgICAqICAgICAgICAgLy8gUmVnaXN0ZXIgdGhpcyBtb2RlbCBhcyB0aGUgbGlzdCB3aGVyZSBhbGwgbG9ncyB3aWxsIGJlIHN0b3JlZFxuICAgICAqICAgICAgICAgYXBMb2dnZXIuc3Vic2NyaWJlKGZ1bmN0aW9uIChldmVudDogSUxvZ0V2ZW50KSB7XG4gICAgICogICAgICAgICAgICAgLy8gRW5zdXJlIHdlIGtlZXAgbG9nZ2luZyB1bmRlciBjb250cm9sLCBwcmV2ZW50cyBzcGFtbWluZyBzZXJ2ZXIgaWYgbG9vcCBvY2N1cnNcbiAgICAgKiAgICAgICAgICAgICBpZihsb2dDb3VudGVyIDwgbWF4TG9nc1BlclNlc3NzaW9uKSB7XG4gICAgICogICAgICAgICAgICAgICAgIHZhciBuZXdMb2cgPSBtb2RlbC5jcmVhdGVFbXB0eUl0ZW0oZXZlbnQpO1xuICAgICAqICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhuZXdMb2cpO1xuICAgICAqICAgICAgICAgICAgICAgICBuZXdMb2cuc2F2ZUNoYW5nZXMoKTtcbiAgICAgKiAgICAgICAgICAgICAgICAgbG9nQ291bnRlcisrO1xuICAgICAqICAgICAgICAgICAgIH1cbiAgICAgKiAgICAgICAgIH0pO1xuICAgICAqICAgICB9XG4gICAgICogfVxuICpcbiAqIDwvcHJlPlxuICpcbiAqL1xuZXhwb3J0IGNsYXNzIExvZ2dlciBpbXBsZW1lbnRzIElMb2dnZXIge1xuICAgIHN0YXRpYyAkaW5qZWN0ID0gWyckcScsICckd2luZG93JywgJyRsb2cnLCAnJHRpbWVvdXQnXTtcblxuICAgIGNvbnN0cnVjdG9yKCRxLCBwcml2YXRlICR3aW5kb3csIHByaXZhdGUgJGxvZywgcHJpdmF0ZSAkdGltZW91dCkge1xuICAgICAgICAvKiogQ3JlYXRlIGEgZGVmZXJyZWQgb2JqZWN0IHdlIGNhbiB1c2UgdG8gZGVsYXkgZnVuY3Rpb25hbGl0eSB1bnRpbCBsb2cgbW9kZWwgaXMgcmVnaXN0ZXJlZCAqL1xuICAgICAgICBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG4gICAgICAgIHJlZ2lzdGVyQ2FsbGJhY2sgPSBkZWZlcnJlZC5wcm9taXNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcExvZ2dlci5kZWJ1Z1xuICAgICAqIEBtZXRob2RPZiBhbmd1bGFyUG9pbnQuYXBMb2dnZXJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSBNZXNzYWdlIHRvIGxvZy5cbiAgICAgKiBAcGFyYW0ge0lMb2dnZXJ9IFtvcHRpb25zT3ZlcnJpZGVdIE92ZXJyaWRlIGFueSBsb2cgb3B0aW9ucy5cbiAgICAgKi9cbiAgICBkZWJ1ZyhtZXNzYWdlOiBzdHJpbmcsIG9wdGlvbnNPdmVycmlkZT86IElMb2dFdmVudCk6IG5nLklQcm9taXNlPExpc3RJdGVtPGFueT4+IHtcbiAgICAgICAgbGV0IG9wdHMgPSBfLmFzc2lnbih7XG4gICAgICAgICAgICBtZXNzYWdlOiBtZXNzYWdlLFxuICAgICAgICAgICAgdHlwZTogJ2RlYnVnJ1xuICAgICAgICB9LCBvcHRpb25zT3ZlcnJpZGUpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLm5vdGlmeShvcHRzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgYW5ndWxhclBvaW50LmFwTG9nZ2VyLmVycm9yXG4gICAgICogQG1ldGhvZE9mIGFuZ3VsYXJQb2ludC5hcExvZ2dlclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlIE1lc3NhZ2UgdG8gbG9nLlxuICAgICAqIEBwYXJhbSB7SUxvZ2dlcn0gW29wdGlvbnNPdmVycmlkZV0gT3ZlcnJpZGUgYW55IGxvZyBvcHRpb25zLlxuICAgICAqL1xuICAgIGVycm9yKG1lc3NhZ2U6IHN0cmluZywgb3B0aW9uc092ZXJyaWRlPzogSUxvZ0V2ZW50KTogbmcuSVByb21pc2U8TGlzdEl0ZW08YW55Pj4ge1xuICAgICAgICBsZXQgb3B0cyA9IF8uYXNzaWduKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsXG4gICAgICAgICAgICB0eXBlOiAnZXJyb3InXG4gICAgICAgIH0sIG9wdGlvbnNPdmVycmlkZSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMubm90aWZ5KG9wdHMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBMb2dnZXIuZXhjZXB0aW9uXG4gICAgICogQG1ldGhvZE9mIGFuZ3VsYXJQb2ludC5hcExvZ2dlclxuICAgICAqIEBwYXJhbSB7RXJyb3J9IGV4Y2VwdGlvbiBFcnJvciB3aGljaCBjYXVzZWQgZXZlbnQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtjYXVzZV0gQW5ndWxhciBzb21ldGltZXMgcHJvdmlkZXMgY2F1c2UuXG4gICAgICogQHBhcmFtIHtJTG9nZ2VyfSBvcHRpb25zT3ZlcnJpZGUgT3ZlcnJpZGUgYW55IGxvZyBvcHRpb25zLlxuICAgICAqL1xuICAgIGV4Y2VwdGlvbihleGNlcHRpb246IEVycm9yLCBjYXVzZT8sIG9wdGlvbnNPdmVycmlkZT86IElMb2dFdmVudCk6IHZvaWQge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gZ2VuZXJhdGUgYSBzdGFjayB0cmFjZVxuICAgICAgICAgICAgLyogZ2xvYmFsIEVycm9yU3RhY2tQYXJzZXI6dHJ1ZSAqL1xuICAgICAgICAgICAgY29uc3Qgc3RhY2tUcmFjZSA9IEVycm9yU3RhY2tQYXJzZXIucGFyc2UoZXhjZXB0aW9uKTtcblxuICAgICAgICAgICAgdGhpcy5lcnJvcihleGNlcHRpb24ubWVzc2FnZSwgXy5hc3NpZ24oe30sIHtcbiAgICAgICAgICAgICAgICBldmVudDogJ2V4Y2VwdGlvbicsXG4gICAgICAgICAgICAgICAgc3RhY2tUcmFjZTogc3RhY2tUcmFjZSxcbiAgICAgICAgICAgICAgICBjYXVzZTogKGNhdXNlIHx8ICcnKVxuICAgICAgICAgICAgfSwgb3B0aW9uc092ZXJyaWRlKSk7XG5cbiAgICAgICAgfSBjYXRjaCAobG9nZ2luZ0Vycm9yKSB7XG4gICAgICAgICAgICB0aGlzLiRsb2cud2FybignRXJyb3Igc2VydmVyLXNpZGUgbG9nZ2luZyBmYWlsZWQnKTtcbiAgICAgICAgICAgIHRoaXMuJGxvZy5sb2cobG9nZ2luZ0Vycm9yKTtcbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgYW5ndWxhclBvaW50LmFwTG9nZ2VyLmluZm9cbiAgICAgKiBAbWV0aG9kT2YgYW5ndWxhclBvaW50LmFwTG9nZ2VyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2UgTWVzc2FnZSB0byBsb2cuXG4gICAgICogQHBhcmFtIHtJTG9nZ2VyfSBbb3B0aW9uc092ZXJyaWRlXSBPdmVycmlkZSBhbnkgbG9nIG9wdGlvbnMuXG4gICAgICovXG4gICAgaW5mbyhtZXNzYWdlOiBzdHJpbmcsIG9wdGlvbnNPdmVycmlkZT86IElMb2dFdmVudCk6IG5nLklQcm9taXNlPExpc3RJdGVtPGFueT4+IHtcbiAgICAgICAgbGV0IG9wdHMgPSBfLmFzc2lnbih7XG4gICAgICAgICAgICBtZXNzYWdlOiBtZXNzYWdlLFxuICAgICAgICAgICAgdHlwZTogJ2luZm8nXG4gICAgICAgIH0sIG9wdGlvbnNPdmVycmlkZSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMubm90aWZ5KG9wdHMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBMb2dnZXIubG9nXG4gICAgICogQG1ldGhvZE9mIGFuZ3VsYXJQb2ludC5hcExvZ2dlclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlIE1lc3NhZ2UgdG8gbG9nLlxuICAgICAqIEBwYXJhbSB7SUxvZ2dlcn0gW29wdGlvbnNPdmVycmlkZV0gT3ZlcnJpZGUgYW55IGxvZyBvcHRpb25zLlxuICAgICAqL1xuICAgIGxvZyhtZXNzYWdlOiBzdHJpbmcsIG9wdGlvbnNPdmVycmlkZT86IElMb2dFdmVudCk6IG5nLklQcm9taXNlPExpc3RJdGVtPGFueT4+IHtcbiAgICAgICAgbGV0IG9wdHMgPSBfLmFzc2lnbih7XG4gICAgICAgICAgICBtZXNzYWdlOiBtZXNzYWdlLFxuICAgICAgICAgICAgdHlwZTogJ2xvZydcbiAgICAgICAgfSwgb3B0aW9uc092ZXJyaWRlKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5ub3RpZnkob3B0cyk7XG4gICAgfTtcblxuICAgIHJlZ2lzdGVyRXZlbnQobG9nRXZlbnQ6IElMb2dFdmVudCk6IG5nLklQcm9taXNlPExpc3RJdGVtPGFueT4+IHtcbiAgICAgICAgcmV0dXJuIHJlZ2lzdGVyQ2FsbGJhY2sudGhlbigoY2FsbGJhY2s6IEZ1bmN0aW9uKSA9PiB7XG4gICAgICAgICAgICBpZiAoXy5pc0Z1bmN0aW9uKGNhbGxiYWNrKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhsb2dFdmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcExvZ2dlci5zdWJzY3JpYmVcbiAgICAgKiBAbWV0aG9kT2YgYW5ndWxhclBvaW50LmFwTG9nZ2VyXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgQ2FsbGVuZCB3aGVuIGV2ZW50IG9jY3Vycy5cbiAgICAgKiBAZGVzY3JpcHRpb24gQ2FsbGJhY2sgZmlyZWQgd2hlbiBsb2cgZXZlbnQgb2NjdXJzXG4gICAgICovXG4gICAgc3Vic2NyaWJlKGNhbGxiYWNrOiBGdW5jdGlvbik6IHZvaWQge1xuICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGNhbGxiYWNrKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBMb2dnZXIud2FyblxuICAgICAqIEBtZXRob2RPZiBhbmd1bGFyUG9pbnQuYXBMb2dnZXJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSBNZXNzYWdlIHRvIGxvZy5cbiAgICAgKiBAcGFyYW0ge0lMb2dnZXJ9IFtvcHRpb25zT3ZlcnJpZGVdIE92ZXJyaWRlIGFueSBsb2cgb3B0aW9ucy5cbiAgICAgKi9cbiAgICB3YXJuKG1lc3NhZ2U6IHN0cmluZywgb3B0aW9uc092ZXJyaWRlPzogSUxvZ0V2ZW50KTogbmcuSVByb21pc2U8TGlzdEl0ZW08YW55Pj4ge1xuICAgICAgICBsZXQgb3B0cyA9IF8uYXNzaWduKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsXG4gICAgICAgICAgICB0eXBlOiAnd2FybidcbiAgICAgICAgfSwgb3B0aW9uc092ZXJyaWRlKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5ub3RpZnkob3B0cyk7XG4gICAgfTtcblxuICAgIHByaXZhdGUgbm90aWZ5KG9wdGlvbnM6IElMb2dFdmVudCkge1xuICAgICAgICAvLyB1cmwgYmVmb3JlIG5hdmlnYXRpb25cbiAgICAgICAgbGV0IHVybCA9ICcxOiAnICsgdGhpcy4kd2luZG93LmxvY2F0aW9uLmhyZWYgKyAnXFxuJztcbiAgICAgICAgcmV0dXJuIHRoaXMuJHRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgLyoqIEFsbG93IG5hdmlnYXRpb24gdG8gc2V0dGxlIGJlZm9yZSBjYXB0dXJpbmcgMm5kIHVybCAqL1xuICAgICAgICAgICAgdXJsICs9ICcyOiAnICsgdGhpcy4kd2luZG93LmxvY2F0aW9uLmhyZWY7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZWdpc3RlckV2ZW50KF8uYXNzaWduKHt9LCB7dXJsfSwgb3B0aW9ucykpO1xuICAgICAgICB9LCAxMDApO1xuICAgIH1cblxufVxuXG5cblxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyIS4vc3JjL3NlcnZpY2VzL2FwTG9nZ2VyLnRzIiwiaW1wb3J0ICogYXMgXyBmcm9tICdsb2Rhc2gnO1xuLy8gU2V0IHVwIFNPQVAgZW52ZWxvcGVcbmltcG9ydCB7SVdlYlNlcnZpY2VPcGVyYXRpb25Db25zdGFudHN9IGZyb20gJy4uL2NvbnN0YW50cy9hcFdlYlNlcnZpY2VPcGVyYXRpb25Db25zdGFudHMnO1xuaW1wb3J0IHtXZWJTZXJ2aWNlU2VydmljZX0gZnJvbSAnLi9hcFdlYlNlcnZpY2VTZXJ2aWNlJztcbmV4cG9ydCBjbGFzcyBTT0FQRW52ZWxvcGUge1xuICAgIG9waGVhZGVyOiBzdHJpbmc7XG4gICAgb3Bmb290ZXI6IHN0cmluZztcbiAgICBoZWFkZXIgPSBgPHNvYXA6RW52ZWxvcGUgIHhtbG5zOnhzaT1cImh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hLWluc3RhbmNlXCIgeG1sbnM6eHNkPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWFcIiB4bWxuczpzb2FwPVwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvc29hcC9lbnZlbG9wZS9cIj48c29hcDpCb2R5PmA7XG4gICAgZm9vdGVyID0gJzwvc29hcDpCb2R5Pjwvc29hcDpFbnZlbG9wZT4nO1xuICAgIHBheWxvYWQgPSAnJztcbn1cblxuLy9EZWZpbml0aW9uIGZpbGUgdGFrZW4gZnJvbSBTUFNlcnZpY2VzIHByb2plY3Qgb24gR2l0SHViLCBsb29rIGF0IHdheSB0byB1c2UgYXMgZGVwZW5jeSBhbmQgbGluayB0byBpdFxuZXhwb3J0IGludGVyZmFjZSBTUFNlcnZpY2VzT3B0aW9ucyB7XG4gICAgLyoqIElmIHRydWUsIHdlJ2xsIGNhY2hlIHRoZSBYTUwgcmVzdWx0cyB3aXRoIGpRdWVyeSdzIC5kYXRhKCkgZnVuY3Rpb24gKi9cbiAgICBjYWNoZVhNTD86IGJvb2xlYW47XG4gICAgLyoqIFRoZSBXZWIgU2VydmljZSBvcGVyYXRpb24gKi9cbiAgICBvcGVyYXRpb246IHN0cmluZztcbiAgICAvKiogVVJMIG9mIHRoZSB0YXJnZXQgV2ViICovXG4gICAgd2ViVVJMPzogc3RyaW5nO1xuICAgIC8qKiB0cnVlIHRvIG1ha2UgdGhlIHZpZXcgdGhlIGRlZmF1bHQgdmlldyBmb3IgdGhlIGxpc3QgKi9cbiAgICBtYWtlVmlld0RlZmF1bHQ/OiBib29sZWFuO1xuXG4gICAgLy8gRm9yIG9wZXJhdGlvbnMgcmVxdWlyaW5nIENBTUwsIHRoZXNlIG9wdGlvbnMgd2lsbCBvdmVycmlkZSBhbnkgYWJzdHJhY3Rpb25zXG5cbiAgICAvKiogVmlldyBuYW1lIGluIENBTUwgZm9ybWF0LiAqL1xuICAgIHZpZXdOYW1lPzogc3RyaW5nO1xuICAgIC8qKiBRdWVyeSBpbiBDQU1MIGZvcm1hdCAqL1xuICAgIENBTUxRdWVyeT86IHN0cmluZztcbiAgICAvKiogVmlldyBmaWVsZHMgaW4gQ0FNTCBmb3JtYXQgKi9cbiAgICBDQU1MVmlld0ZpZWxkcz86IHN0cmluZztcbiAgICAvKiogUm93IGxpbWl0IGFzIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGFuIGludGVnZXIgKi9cbiAgICBDQU1MUm93TGltaXQ/OiBudW1iZXI7XG4gICAgLyoqIFF1ZXJ5IG9wdGlvbnMgaW4gQ0FNTCBmb3JtYXQgKi9cbiAgICBDQU1MUXVlcnlPcHRpb25zPzogc3RyaW5nO1xuXG4gICAgLy8gQWJzdHJhY3Rpb25zIGZvciBDQU1MIHN5bnRheFxuXG4gICAgLyoqIE1ldGhvZCBDbWQgZm9yIFVwZGF0ZUxpc3RJdGVtcyAqL1xuICAgIGJhdGNoQ21kPzogc3RyaW5nO1xuICAgIC8qKiBGaWVsZG5hbWUgLyBGaWVsZHZhbHVlIHBhaXJzIGZvciBVcGRhdGVMaXN0SXRlbXMgKi9cbiAgICB2YWx1ZVBhaXJzPzogW3N0cmluZywgc3RyaW5nXVtdO1xuXG4gICAgLy8gQXMgb2YgdjAuNy4xLCByZW1vdmVkIGFsbCBvcHRpb25zIHdoaWNoIHdlcmUgYXNzaWduZWQgYW4gZW1wdHkgc3RyaW5nICgnJylcblxuICAgIC8qKiBBcnJheSBvZiBkZXN0aW5hdGlvbiBVUkxzIGZvciBjb3B5IG9wZXJhdGlvbnMgKi9cbiAgICBEZXN0aW5hdGlvblVybHM/OiBBcnJheTxhbnk+O1xuICAgIC8qKiBBbiBTUFdlYlNlcnZpY2VCZWhhdmlvciBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIGNsaWVudCBzdXBwb3J0cyBXaW5kb3dzIFNoYXJlUG9pbnQgU2VydmljZXMgMi4wIG9yIFdpbmRvd3MgU2hhcmVQb2ludCBTZXJ2aWNlcyAzLjA6IHtWZXJzaW9uMiB8IFZlcnNpb24zIH0gKi9cbiAgICBiZWhhdmlvcj86IHN0cmluZztcbiAgICAvKiogQSBTdG9yYWdlIHZhbHVlIGluZGljYXRpbmcgaG93IHRoZSBXZWIgUGFydCBpcyBzdG9yZWQ6IHtOb25lIHwgUGVyc29uYWwgfCBTaGFyZWR9ICovXG4gICAgc3RvcmFnZT86IHN0cmluZztcbiAgICAvKiogb2JqZWN0VHlwZSBmb3Igb3BlcmF0aW9ucyB3aGljaCByZXF1aXJlIGl0ICovXG4gICAgb2JqZWN0VHlwZT86IHN0cmluZztcbiAgICAvKiogdHJ1ZSB0byBkZWxldGUgYSBtZWV0aW5nO2ZhbHNlIHRvIHJlbW92ZSBpdHMgYXNzb2NpYXRpb24gd2l0aCBhIE1lZXRpbmcgV29ya3NwYWNlIHNpdGUgKi9cbiAgICBjYW5jZWxNZWV0aW5nPzogYm9vbGVhbjtcbiAgICAvKiogdHJ1ZSBpZiB0aGUgY2FsZW5kYXIgaXMgc2V0IHRvIGEgZm9ybWF0IG90aGVyIHRoYW4gR3JlZ29yaWFuO290aGVyd2lzZSwgZmFsc2UuICovXG4gICAgbm9uR3JlZ29yaWFuPzogYm9vbGVhbjtcbiAgICAvKiogU3BlY2lmaWVzIGlmIHRoZSBhY3Rpb24gaXMgYSBjbGFpbSBvciBhIHJlbGVhc2UuIFNwZWNpZmllcyB0cnVlIGZvciBhIGNsYWltIGFuZCBmYWxzZSBmb3IgYSByZWxlYXNlLiAqL1xuICAgIGZDbGFpbT86IGJvb2xlYW47XG4gICAgLyoqIFRoZSByZWN1cnJlbmNlIElEIGZvciB0aGUgbWVldGluZyB0aGF0IG5lZWRzIGl0cyBhc3NvY2lhdGlvbiByZW1vdmVkLiBUaGlzIHBhcmFtZXRlciBjYW4gYmUgc2V0IHRvIDAgZm9yIHNpbmdsZS1pbnN0YW5jZSBtZWV0aW5ncy4gKi9cbiAgICByZWN1cnJlbmNlSWQ/OiBudW1iZXI7XG4gICAgLyoqIEFuIGludGVnZXIgdGhhdCBpcyB1c2VkIHRvIGRldGVybWluZSB0aGUgb3JkZXJpbmcgb2YgdXBkYXRlcyBpbiBjYXNlIHRoZXkgYXJyaXZlIG91dCBvZiBzZXF1ZW5jZS4gVXBkYXRlcyB3aXRoIGEgbG93ZXItdGhhbi1jdXJyZW50IHNlcXVlbmNlIGFyZSBkaXNjYXJkZWQuIElmIHRoZSBzZXF1ZW5jZSBpcyBlcXVhbCB0byB0aGUgY3VycmVudCBzZXF1ZW5jZSwgdGhlIGxhdGVzdCB1cGRhdGUgYXJlIGFwcGxpZWQuICovXG4gICAgc2VxdWVuY2U/OiBudW1iZXI7XG4gICAgLyoqIFNvY2lhbERhdGFTZXJ2aWNlIG1heGltdW1JdGVtc1RvUmV0dXJuICovXG4gICAgbWF4aW11bUl0ZW1zVG9SZXR1cm4/OiBudW1iZXI7XG4gICAgLyoqIFNvY2lhbERhdGFTZXJ2aWNlIHN0YXJ0SW5kZXggKi9cbiAgICBzdGFydEluZGV4PzogbnVtYmVyO1xuICAgIC8qKiBTb2NpYWxEYXRhU2VydmljZSBpc0hpZ2hQcmlvcml0eSAqL1xuICAgIGlzSGlnaFByaW9yaXR5PzogYm9vbGVhbjtcbiAgICAvKiogU29jaWFsRGF0YVNlcnZpY2UgaXNQcml2YXRlICovXG4gICAgaXNQcml2YXRlPzogYm9vbGVhbjtcbiAgICAvKiogU29jaWFsRGF0YVNlcnZpY2UgcmF0aW5nICovXG4gICAgcmF0aW5nPzogbnVtYmVyO1xuICAgIC8qKiBVbmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZCwgdGhlIG1heGltdW0gbnVtYmVyIG9mIHByaW5jaXBhbHMgdGhhdCBjYW4gYmUgcmV0dXJuZWQgZnJvbSBhIHByb3ZpZGVyIGlzIDEwLiAqL1xuICAgIG1heFJlc3VsdHM/OiBudW1iZXI7XG4gICAgLyoqIFNwZWNpZmllcyB1c2VyIHNjb3BlIGFuZCBvdGhlciBpbmZvcm1hdGlvbj8gW05vbmUgfCBVc2VyIHwgRGlzdHJpYnV0aW9uTGlzdCB8IFNlY3VyaXR5R3JvdXAgfCBTaGFyZVBvaW50R3JvdXAgfCBBbGxdICovXG4gICAgcHJpbmNpcGFsVHlwZT86IHN0cmluZztcblxuICAgIC8qKiBBbGxvdyB0aGUgdXNlciB0byBmb3JjZSBhc3luYyAqL1xuICAgICAgICBhc3luYz86IGJvb2xlYW47XG4gICAgLyoqIEZ1bmN0aW9uIHRvIGNhbGwgb24gY29tcGxldGlvbiAqL1xuICAgIGNvbXBsZXRlZnVuYz86ICh4RGF0YTogWE1MSHR0cFJlcXVlc3QsIHN0YXR1czogc3RyaW5nKSA9PiB2b2lkO1xufVxuXG5cbi8vVE9ETyBDbGVhbnVwIGFuZCBjb252ZXJ0IHRvIFRTXG4vKipcbiAqIEBuZ2RvYyBzZXJ2aWNlXG4gKiBAbmFtZSBhbmd1bGFyUG9pbnQuU1BTZXJ2aWNlc1xuICogQGRlc2NyaXB0aW9uXG4gKiBUaGlzIGlzIGp1c3QgYSB0cmltbWVkIGRvd24gdmVyc2lvbiBvZiBNYXJjIEFuZGVyc29uJ3MgYXdlc29tZSBbU1BTZXJ2aWNlc10oaHR0cDovL3Nwc2VydmljZXMuY29kZXBsZXguY29tLykgbGlicmFyeS5cbiAqIFdlJ3JlIHByaW1hcmlseSBsb29raW5nIGZvciB0aGUgYWJpbGl0eSB0byBjcmVhdGUgdGhlIFNPQVAgZW52ZWxvcGUgYW5kIGxldCBBbmd1bGFySlMncyAkaHR0cCBzZXJ2aWNlIGhhbmRsZSBhbGxcbiAqIGNvbW11bmljYXRpb24gd2l0aCB0aGUgc2VydmVyLlxuICpcbiAqICovXG5TUFNlcnZpY2VzQ29yZS4kaW5qZWN0ID0gWydhcFdlYlNlcnZpY2VPcGVyYXRpb25Db25zdGFudHMnLCAnYXBXZWJTZXJ2aWNlU2VydmljZSddO1xuZXhwb3J0IGZ1bmN0aW9uIFNQU2VydmljZXNDb3JlKGFwV2ViU2VydmljZU9wZXJhdGlvbkNvbnN0YW50czogSVdlYlNlcnZpY2VPcGVyYXRpb25Db25zdGFudHMsIGFwV2ViU2VydmljZVNlcnZpY2U6IFdlYlNlcnZpY2VTZXJ2aWNlKSB7XG5cbiAgICAvKlxuICAgICAqIFNQU2VydmljZXMgLSBXb3JrIHdpdGggU2hhcmVQb2ludCdzIFdlYiBTZXJ2aWNlcyB1c2luZyBqUXVlcnlcbiAgICAgKiBWZXJzaW9uIDIwMTQuMDJhXG4gICAgICogQHJlcXVpcmVzIGpRdWVyeSB2MS44IG9yIGdyZWF0ZXIgLSBqUXVlcnkgMS4xMC54IHJlY29tbWVuZGVkXG4gICAgICpcbiAgICAgKiBDb3B5cmlnaHQgKGMpIDIwMDktMjAxMyBTeW1wcmF4aXMgQ29uc3VsdGluZyBMTENcbiAgICAgKiBFeGFtcGxlcyBhbmQgZG9jcyBhdDpcbiAgICAgKiBodHRwOi8vc3BzZXJ2aWNlcy5jb2RlcGxleC5jb21cbiAgICAgKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2U6XG4gICAgICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcbiAgICAgKi9cbiAgICAvKlxuICAgICAqIEBkZXNjcmlwdGlvbiBXb3JrIHdpdGggU2hhcmVQb2ludCdzIFdlYiBTZXJ2aWNlcyB1c2luZyBqUXVlcnlcbiAgICAgKiBAdHlwZSBqUXVlcnlcbiAgICAgKiBAbmFtZSBTUFNlcnZpY2VzXG4gICAgICogQGNhdGVnb3J5IFBsdWdpbnMvU1BTZXJ2aWNlc1xuICAgICAqIEBhdXRob3IgU3ltcHJheGlzIENvbnN1bHRpbmcgTExDL21hcmMuYW5kZXJzb25Ac3ltcHJheGlzY29uc3VsdGluZy5jb21cbiAgICAgKi9cbiAgICAvKiBqc2hpbnQgdW5kZWY6IHRydWUgKi9cbiAgICAvKiBnbG9iYWwgTF9NZW51X0Jhc2VVcmwsIF9zcFVzZXJJZCwgX3NwUGFnZUNvbnRleHRJbmZvLCBHaXBBZGRTZWxlY3RlZEl0ZW1zLCBHaXBSZW1vdmVTZWxlY3RlZEl0ZW1zLCBHaXBHZXRHcm91cERhdGEgKi9cblxuICAgIC8vIEdsb2JhbCB2YXJpYWJsZXNcbiAgICBjb25zdCBTQ0hFTUFTaGFyZVBvaW50ID0gJ2h0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vc2hhcmVwb2ludCc7XG4gICAgbGV0IGkgPSAwOyAvLyBHZW5lcmljIGxvb3AgY291bnRlclxuICAgIGNvbnN0IGVuY29kZU9wdGlvbkxpc3QgPSBbJ2xpc3ROYW1lJywgJ2Rlc2NyaXB0aW9uJ107IC8vIFVzZWQgdG8gZW5jb2RlIG9wdGlvbnMgd2hpY2ggbWF5IGNvbnRhaW4gc3BlY2lhbCBjaGFyYWN0ZXJzXG5cbiAgICAvLyBEZWZhdWx0cyBhZGRlZCBhcyBhIGZ1bmN0aW9uIGluIG91ciBsaWJyYXJ5IG1lYW5zIHRoYXQgdGhlIGNhbGxlciBjYW4gb3ZlcnJpZGUgdGhlIGRlZmF1bHRzXG4gICAgLy8gZm9yIHRoZWlyIHNlc3Npb24gYnkgY2FsbGluZyB0aGlzIGZ1bmN0aW9uLiAgRWFjaCBvcGVyYXRpb24gcmVxdWlyZXMgYSBkaWZmZXJlbnQgc2V0IG9mIG9wdGlvbnM7XG4gICAgLy8gd2UgYWxsb3cgZm9yIGFsbCBpbiBhIHN0YW5kYXJkaXplZCB3YXkuXG4gICAgY29uc3QgZGVmYXVsdHMgPSB7XG5cbiAgICAgICAgb3BlcmF0aW9uOiAnJywgLy8gVGhlIFdlYiBTUFNlcnZpY2VzQ29yZSBvcGVyYXRpb25cbiAgICAgICAgd2ViVVJMOiAnJywgLy8gVVJMIG9mIHRoZSB0YXJnZXQgV2ViXG4gICAgICAgIG1ha2VWaWV3RGVmYXVsdDogZmFsc2UsIC8vIHRydWUgdG8gbWFrZSB0aGUgdmlldyB0aGUgZGVmYXVsdCB2aWV3IGZvciB0aGUgbGlzdFxuXG4gICAgICAgIC8vIEZvciBvcGVyYXRpb25zIHJlcXVpcmluZyBDQU1MLCB0aGVzZSBvcHRpb25zIHdpbGwgb3ZlcnJpZGUgYW55IGFic3RyYWN0aW9uc1xuICAgICAgICBDQU1MVmlld05hbWU6ICcnLCAvLyBWaWV3IG5hbWUgaW4gQ0FNTCBmb3JtYXQuXG4gICAgICAgIENBTUxRdWVyeTogJycsIC8vIFF1ZXJ5IGluIENBTUwgZm9ybWF0XG4gICAgICAgIENBTUxWaWV3RmllbGRzOiAnJywgLy8gVmlldyBmaWVsZHMgaW4gQ0FNTCBmb3JtYXRcbiAgICAgICAgQ0FNTFJvd0xpbWl0OiAwLCAvLyBSb3cgbGltaXQgYXMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYW4gaW50ZWdlclxuICAgICAgICBDQU1MUXVlcnlPcHRpb25zOiAnPFF1ZXJ5T3B0aW9ucz48L1F1ZXJ5T3B0aW9ucz4nLCAvLyBRdWVyeSBvcHRpb25zIGluIENBTUwgZm9ybWF0XG5cbiAgICAgICAgLy8gQWJzdHJhY3Rpb25zIGZvciBDQU1MIHN5bnRheFxuICAgICAgICBiYXRjaENtZDogJ1VwZGF0ZScsIC8vIE1ldGhvZCBDbWQgZm9yIFVwZGF0ZUxpc3RJdGVtc1xuICAgICAgICB2YWx1ZVBhaXJzOiBbXSwgLy8gRmllbGRuYW1lIC8gRmllbGR2YWx1ZSBwYWlycyBmb3IgVXBkYXRlTGlzdEl0ZW1zXG5cbiAgICAgICAgLy8gQXMgb2YgdjAuNy4xLCByZW1vdmVkIGFsbCBvcHRpb25zIHdoaWNoIHdlcmUgYXNzaWduZWQgYW4gZW1wdHkgc3RyaW5nICgnJylcbiAgICAgICAgRGVzdGluYXRpb25VcmxzOiBbXSwgLy8gQXJyYXkgb2YgZGVzdGluYXRpb24gVVJMcyBmb3IgY29weSBvcGVyYXRpb25zXG4gICAgICAgIGJlaGF2aW9yOiAnVmVyc2lvbjMnLCAvLyBBbiBTUFdlYlNlcnZpY2VCZWhhdmlvciBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIGNsaWVudCBzdXBwb3J0cyBXaW5kb3dzIFNoYXJlUG9pbnQgU2VydmljZXMgMi4wIG9yIFdpbmRvd3MgU2hhcmVQb2ludCBTZXJ2aWNlcyAzLjA6IHtWZXJzaW9uMiB8IFZlcnNpb24zIH1cbiAgICAgICAgc3RvcmFnZTogJ1NoYXJlZCcsIC8vIEEgU3RvcmFnZSB2YWx1ZSBpbmRpY2F0aW5nIGhvdyB0aGUgV2ViIFBhcnQgaXMgc3RvcmVkOiB7Tm9uZSB8IFBlcnNvbmFsIHwgU2hhcmVkfVxuICAgICAgICBvYmplY3RUeXBlOiAnTGlzdCcsIC8vIG9iamVjdFR5cGUgZm9yIG9wZXJhdGlvbnMgd2hpY2ggcmVxdWlyZSBpdFxuICAgICAgICBjYW5jZWxNZWV0aW5nOiB0cnVlLCAvLyB0cnVlIHRvIGRlbGV0ZSBhIG1lZXRpbmc7ZmFsc2UgdG8gcmVtb3ZlIGl0cyBhc3NvY2lhdGlvbiB3aXRoIGEgTWVldGluZyBXb3Jrc3BhY2Ugc2l0ZVxuICAgICAgICBub25HcmVnb3JpYW46IGZhbHNlLCAvLyB0cnVlIGlmIHRoZSBjYWxlbmRhciBpcyBzZXQgdG8gYSBmb3JtYXQgb3RoZXIgdGhhbiBHcmVnb3JpYW47b3RoZXJ3aXNlLCBmYWxzZS5cbiAgICAgICAgZkNsYWltOiBmYWxzZSwgLy8gU3BlY2lmaWVzIGlmIHRoZSBhY3Rpb24gaXMgYSBjbGFpbSBvciBhIHJlbGVhc2UuIFNwZWNpZmllcyB0cnVlIGZvciBhIGNsYWltIGFuZCBmYWxzZSBmb3IgYSByZWxlYXNlLlxuICAgICAgICByZWN1cnJlbmNlSWQ6IDAsIC8vIFRoZSByZWN1cnJlbmNlIElEIGZvciB0aGUgbWVldGluZyB0aGF0IG5lZWRzIGl0cyBhc3NvY2lhdGlvbiByZW1vdmVkLiBUaGlzIHBhcmFtZXRlciBjYW4gYmUgc2V0IHRvIDAgZm9yIHNpbmdsZS1pbnN0YW5jZSBtZWV0aW5ncy5cbiAgICAgICAgc2VxdWVuY2U6IDAsIC8vIEFuIGludGVnZXIgdGhhdCBpcyB1c2VkIHRvIGRldGVybWluZSB0aGUgb3JkZXJpbmcgb2YgdXBkYXRlcyBpbiBjYXNlIHRoZXkgYXJyaXZlIG91dCBvZiBzZXF1ZW5jZS4gVXBkYXRlcyB3aXRoIGEgbG93ZXItdGhhbi1jdXJyZW50IHNlcXVlbmNlIGFyZSBkaXNjYXJkZWQuIElmIHRoZSBzZXF1ZW5jZSBpcyBlcXVhbCB0byB0aGUgY3VycmVudCBzZXF1ZW5jZSwgdGhlIGxhdGVzdCB1cGRhdGUgYXJlIGFwcGxpZWQuXG4gICAgICAgIG1heGltdW1JdGVtc1RvUmV0dXJuOiAwLCAvLyBTb2NpYWxEYXRhU2VydmljZSBtYXhpbXVtSXRlbXNUb1JldHVyblxuICAgICAgICBzdGFydEluZGV4OiAwLCAvLyBTb2NpYWxEYXRhU2VydmljZSBzdGFydEluZGV4XG4gICAgICAgIGlzSGlnaFByaW9yaXR5OiBmYWxzZSwgLy8gU29jaWFsRGF0YVNlcnZpY2UgaXNIaWdoUHJpb3JpdHlcbiAgICAgICAgaXNQcml2YXRlOiBmYWxzZSwgLy8gU29jaWFsRGF0YVNlcnZpY2UgaXNQcml2YXRlXG4gICAgICAgIHJhdGluZzogMSwgLy8gU29jaWFsRGF0YVNlcnZpY2UgcmF0aW5nXG4gICAgICAgIG1heFJlc3VsdHM6IDEwLCAvLyBVbmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZCwgdGhlIG1heGltdW0gbnVtYmVyIG9mIHByaW5jaXBhbHMgdGhhdCBjYW4gYmUgcmV0dXJuZWQgZnJvbSBhIHByb3ZpZGVyIGlzIDEwLlxuICAgICAgICBwcmluY2lwYWxUeXBlOiAnVXNlcicsIC8vIFNwZWNpZmllcyB1c2VyIHNjb3BlIGFuZCBvdGhlciBpbmZvcm1hdGlvbjogW05vbmUgfCBVc2VyIHwgRGlzdHJpYnV0aW9uTGlzdCB8IFNlY3VyaXR5R3JvdXAgfCBTaGFyZVBvaW50R3JvdXAgfCBBbGxdXG5cbiAgICAgICAgYXN5bmM6IHRydWUsIC8vIEFsbG93IHRoZSB1c2VyIHRvIGZvcmNlIGFzeW5jXG4gICAgICAgIGNvbXBsZXRlZnVuYzogbnVsbCAvLyBGdW5jdGlvbiB0byBjYWxsIG9uIGNvbXBsZXRpb25cblxuICAgIH07IC8vIEVuZCBTUFNlcnZpY2VzLmRlZmF1bHRzXG5cblxuICAgIC8vIE1haW4gZnVuY3Rpb24sIHdoaWNoIGNhbGxzIFNoYXJlUG9pbnQncyBXZWIgU2VydmljZXMgZGlyZWN0bHkuXG4gICAgY29uc3QgU1BTZXJ2aWNlcyA9IHtcbiAgICAgICAgZGVmYXVsdHM6IGRlZmF1bHRzLFxuICAgICAgICBlbmNvZGVYbWw6IGVuY29kZVhtbCxcbiAgICAgICAgZ2VuZXJhdGVYTUxDb21wb25lbnRzOiBnZW5lcmF0ZVhNTENvbXBvbmVudHMsXG4gICAgICAgIFNDSEVNQVNoYXJlUG9pbnQ6IFNDSEVNQVNoYXJlUG9pbnQsXG4gICAgICAgIFNPQVBFbnZlbG9wZTogbmV3IFNPQVBFbnZlbG9wZSgpXG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGdlbmVyYXRlWE1MQ29tcG9uZW50cyhvcHRpb25zOiBTUFNlcnZpY2VzT3B0aW9ucykge1xuXG4gICAgICAgIC8qKiBLZXkvVmFsdWUgbWFwcGluZyBvZiBTaGFyZVBvaW50IHByb3BlcnRpZXMgdG8gU1BTZXJ2aWNlcyBwcm9wZXJ0aWVzICovXG4gICAgICAgIGNvbnN0IG1hcHBpbmcgPSBbXG4gICAgICAgICAgICBbJ3F1ZXJ5JywgJ0NBTUxRdWVyeSddLFxuICAgICAgICAgICAgWyd2aWV3RmllbGRzJywgJ0NBTUxWaWV3RmllbGRzJ10sXG4gICAgICAgICAgICBbJ3Jvd0xpbWl0JywgJ0NBTUxSb3dMaW1pdCddLFxuICAgICAgICAgICAgWydxdWVyeU9wdGlvbnMnLCAnQ0FNTFF1ZXJ5T3B0aW9ucyddLFxuICAgICAgICAgICAgWydsaXN0SXRlbUlEJywgJ0lEJ11cbiAgICAgICAgXTtcblxuICAgICAgICAvKiogRW5zdXJlIHRoZSBTaGFyZVBvaW50IHByb3BlcnRpZXMgYXJlIGF2YWlsYWJsZSBwcmlvciB0byBleHRlbmRpbmcgd2l0aCBkZWZhdWx0cyAqL1xuICAgICAgICBfLmVhY2gobWFwcGluZywgZnVuY3Rpb24gKG1hcCkge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnNbbWFwWzBdXSAmJiAhb3B0aW9uc1ttYXBbMV1dKSB7XG4gICAgICAgICAgICAgICAgLyoqIEVuc3VyZSBTUFNlcnZpY2VzIHByb3BlcnRpZXMgYXJlIGFkZGVkIGluIHRoZSBldmVudCB0aGUgdHJ1ZSBwcm9wZXJ0eSBuYW1lIGlzIHVzZWQgKi9cbiAgICAgICAgICAgICAgICBvcHRpb25zW21hcFsxXV0gPSBvcHRpb25zW21hcFswXV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGxldCBzb2FwRW52ZWxvcGUgPSBuZXcgU09BUEVudmVsb3BlKCk7XG4gICAgICAgIGxldCBTT0FQQWN0aW9uO1xuXG4gICAgICAgIC8vIElmIHRoZXJlIGFyZSBubyBvcHRpb25zIHBhc3NlZCBpbiwgdXNlIHRoZSBkZWZhdWx0cy4gIEV4dGVuZCByZXBsYWNlcyBlYWNoIGRlZmF1bHQgd2l0aCB0aGUgcGFzc2VkIG9wdGlvbi5cbiAgICAgICAgY29uc3Qgb3B0OiBTUFNlcnZpY2VzT3B0aW9ucyB8IGFueSA9IF8uYXNzaWduKHt9LCBkZWZhdWx0cywgb3B0aW9ucyk7XG5cbiAgICAgICAgLy8gRW5jb2RlIG9wdGlvbnMgd2hpY2ggbWF5IGNvbnRhaW4gc3BlY2lhbCBjaGFyYWN0ZXIsIGVzcC4gYW1wZXJzYW5kXG4gICAgICAgIF8uZWFjaChlbmNvZGVPcHRpb25MaXN0LCBmdW5jdGlvbiAob3B0aW9uTmFtZSkge1xuICAgICAgICAgICAgaWYgKF8uaXNTdHJpbmcob3B0W29wdGlvbk5hbWVdKSkge1xuICAgICAgICAgICAgICAgIG9wdFtvcHRpb25OYW1lXSA9IGVuY29kZVhtbChvcHRbb3B0aW9uTmFtZV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBzZXJ2aWNlID0gYXBXZWJTZXJ2aWNlT3BlcmF0aW9uQ29uc3RhbnRzW29wdC5vcGVyYXRpb25dWzBdO1xuXG4gICAgICAgIC8vIFB1dCB0b2dldGhlciBvcGVyYXRpb24gaGVhZGVyIGFuZCBTT0FQQWN0aW9uIGZvciB0aGUgU09BUCBjYWxsIGJhc2VkIG9uIHdoaWNoIFdlYiBTUFNlcnZpY2VzQ29yZSB3ZSdyZSBjYWxsaW5nXG4gICAgICAgIHNvYXBFbnZlbG9wZS5vcGhlYWRlciA9IGA8JHtvcHQub3BlcmF0aW9ufSB4bWxucz1cIiR7YXBXZWJTZXJ2aWNlU2VydmljZS54bWxucyhzZXJ2aWNlKX1cIiA+YDtcbiAgICAgICAgU09BUEFjdGlvbiA9IGFwV2ViU2VydmljZVNlcnZpY2UuYWN0aW9uKHNlcnZpY2UpO1xuXG4gICAgICAgIC8vIEFkZCB0aGUgb3BlcmF0aW9uIHRvIHRoZSBTT0FQQWN0aW9uIGFuZCBvcGZvb3RlclxuICAgICAgICBTT0FQQWN0aW9uICs9IG9wdC5vcGVyYXRpb247XG4gICAgICAgIHNvYXBFbnZlbG9wZS5vcGZvb3RlciA9IGA8LyR7b3B0Lm9wZXJhdGlvbn0+YDtcblxuICAgICAgICAvLyBFYWNoIG9wZXJhdGlvbiByZXF1aXJlcyBhIGRpZmZlcmVudCBzZXQgb2YgdmFsdWVzLiAgVGhpcyBzd2l0Y2ggc3RhdGVtZW50IHNldHMgdGhlbSB1cCBpbiB0aGUgc29hcEVudmVsb3BlLnBheWxvYWQuXG4gICAgICAgIHN3aXRjaCAob3B0Lm9wZXJhdGlvbikge1xuICAgICAgICAgICAgLy8gQUxFUlQgT1BFUkFUSU9OU1xuICAgICAgICAgICAgY2FzZSAnR2V0QWxlcnRzJzpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0RlbGV0ZUFsZXJ0cyc6XG4gICAgICAgICAgICAgICAgc29hcEVudmVsb3BlLnBheWxvYWQgKz0gJzxJRHM+JztcbiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgb3B0LklEcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBzb2FwRW52ZWxvcGUucGF5bG9hZCArPSB3cmFwTm9kZSgnc3RyaW5nJywgb3B0LklEc1tpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNvYXBFbnZlbG9wZS5wYXlsb2FkICs9ICc8L0lEcz4nO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAvLyBBVVRIRU5USUNBVElPTiBPUEVSQVRJT05TXG4gICAgICAgICAgICBjYXNlICdNb2RlJzpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0xvZ2luJzpcbiAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbJ3VzZXJuYW1lJywgJ3Bhc3N3b3JkJ10pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAvLyBDT1BZIE9QRVJBVElPTlNcbiAgICAgICAgICAgIGNhc2UgJ0NvcHlJbnRvSXRlbXMnOlxuICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFsnU291cmNlVXJsJ10pO1xuICAgICAgICAgICAgICAgIHNvYXBFbnZlbG9wZS5wYXlsb2FkICs9ICc8RGVzdGluYXRpb25VcmxzPic7XG4gICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IG9wdC5EZXN0aW5hdGlvblVybHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgc29hcEVudmVsb3BlLnBheWxvYWQgKz0gd3JhcE5vZGUoJ3N0cmluZycsIG9wdC5EZXN0aW5hdGlvblVybHNbaV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzb2FwRW52ZWxvcGUucGF5bG9hZCArPSAnPC9EZXN0aW5hdGlvblVybHM+JztcbiAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbJ0ZpZWxkcycsICdTdHJlYW0nLCAnUmVzdWx0cyddKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0NvcHlJbnRvSXRlbXNMb2NhbCc6XG4gICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgWydTb3VyY2VVcmwnXSk7XG4gICAgICAgICAgICAgICAgc29hcEVudmVsb3BlLnBheWxvYWQgKz0gJzxEZXN0aW5hdGlvblVybHM+JztcbiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgb3B0LkRlc3RpbmF0aW9uVXJscy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBzb2FwRW52ZWxvcGUucGF5bG9hZCArPSB3cmFwTm9kZSgnc3RyaW5nJywgb3B0LkRlc3RpbmF0aW9uVXJsc1tpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNvYXBFbnZlbG9wZS5wYXlsb2FkICs9ICc8L0Rlc3RpbmF0aW9uVXJscz4nO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnR2V0SXRlbSc6XG4gICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgWydVcmwnLCAnRmllbGRzJywgJ1N0cmVhbSddKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgLy8gRk9STSBPUEVSQVRJT05TXG4gICAgICAgICAgICBjYXNlICdHZXRGb3JtJzpcbiAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbJ2xpc3ROYW1lJywgJ2Zvcm1VcmwnXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdHZXRGb3JtQ29sbGVjdGlvbic6XG4gICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgWydsaXN0TmFtZSddKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgLy8gTElTVCBPUEVSQVRJT05TXG4gICAgICAgICAgICBjYXNlICdBZGRBdHRhY2htZW50JzpcbiAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbJ2xpc3ROYW1lJywgJ2xpc3RJdGVtSUQnLCAnZmlsZU5hbWUnLCAnYXR0YWNobWVudCddKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0FkZERpc2N1c3Npb25Cb2FyZEl0ZW0nOlxuICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFsnbGlzdE5hbWUnLCAnbWVzc2FnZSddKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0FkZExpc3QnOlxuICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFsnbGlzdE5hbWUnLCAnZGVzY3JpcHRpb24nLCAndGVtcGxhdGVJRCddKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0FkZExpc3RGcm9tRmVhdHVyZSc6XG4gICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgWydsaXN0TmFtZScsICdkZXNjcmlwdGlvbicsICdmZWF0dXJlSUQnLCAndGVtcGxhdGVJRCddKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0FwcGx5Q29udGVudFR5cGVUb0xpc3QnOlxuICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFsnd2ViVXJsJywgJ2NvbnRlbnRUeXBlSWQnLCAnbGlzdE5hbWUnXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdDaGVja0luRmlsZSc6XG4gICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgWydwYWdlVXJsJywgJ2NvbW1lbnQnLCAnQ2hlY2tpblR5cGUnXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdDaGVja091dEZpbGUnOlxuICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFsncGFnZVVybCcsICdjaGVja291dFRvTG9jYWwnLCAnbGFzdG1vZGlmaWVkJ10pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnQ3JlYXRlQ29udGVudFR5cGUnOlxuICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFsnbGlzdE5hbWUnLCAnZGlzcGxheU5hbWUnLCAncGFyZW50VHlwZScsICdmaWVsZHMnLCAnY29udGVudFR5cGVQcm9wZXJ0aWVzJywgJ2FkZFRvVmlldyddKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0RlbGV0ZUF0dGFjaG1lbnQnOlxuICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFsnbGlzdE5hbWUnLCAnbGlzdEl0ZW1JRCcsICd1cmwnXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdEZWxldGVDb250ZW50VHlwZSc6XG4gICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgWydsaXN0TmFtZScsICdjb250ZW50VHlwZUlkJ10pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnRGVsZXRlQ29udGVudFR5cGVYbWxEb2N1bWVudCc6XG4gICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgWydsaXN0TmFtZScsICdjb250ZW50VHlwZUlkJywgJ2RvY3VtZW50VXJpJ10pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnRGVsZXRlTGlzdCc6XG4gICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgWydsaXN0TmFtZSddKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0dldEF0dGFjaG1lbnRDb2xsZWN0aW9uJzpcbiAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbJ2xpc3ROYW1lJywgWydsaXN0SXRlbUlEJywgJ0lEJ11dKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0dldExpc3QnOlxuICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFsnbGlzdE5hbWUnXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdHZXRMaXN0QW5kVmlldyc6XG4gICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgWydsaXN0TmFtZScsICd2aWV3TmFtZSddKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0dldExpc3RDb2xsZWN0aW9uJzpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0dldExpc3RDb250ZW50VHlwZSc6XG4gICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgWydsaXN0TmFtZScsICdjb250ZW50VHlwZUlkJ10pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnR2V0TGlzdENvbnRlbnRUeXBlcyc6XG4gICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgWydsaXN0TmFtZSddKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0dldExpc3RJdGVtcyc6XG4gICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCxcbiAgICAgICAgICAgICAgICAgICAgWydsaXN0TmFtZScsICd2aWV3TmFtZScsXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ3F1ZXJ5JywgJ0NBTUxRdWVyeSddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWyd2aWV3RmllbGRzJywgJ0NBTUxWaWV3RmllbGRzJ10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ3Jvd0xpbWl0JywgJ0NBTUxSb3dMaW1pdCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgWydxdWVyeU9wdGlvbnMnLCAnQ0FNTFF1ZXJ5T3B0aW9ucyddXG4gICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnR2V0TGlzdEl0ZW1DaGFuZ2VzJzpcbiAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbJ2xpc3ROYW1lJywgJ3ZpZXdGaWVsZHMnLCAnc2luY2UnLCAnY29udGFpbnMnXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdHZXRMaXN0SXRlbUNoYW5nZXNTaW5jZVRva2VuJzpcbiAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LFxuICAgICAgICAgICAgICAgICAgICBbJ2xpc3ROYW1lJywgJ3ZpZXdOYW1lJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsncXVlcnknLCAnQ0FNTFF1ZXJ5J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ3ZpZXdGaWVsZHMnLCAnQ0FNTFZpZXdGaWVsZHMnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFsncm93TGltaXQnLCAnQ0FNTFJvd0xpbWl0J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBbJ3F1ZXJ5T3B0aW9ucycsICdDQU1MUXVlcnlPcHRpb25zJ10sXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ2NoYW5nZVRva2VuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZW5kTnVsbDogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ2NvbnRhaW5zJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZW5kTnVsbDogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdHZXRWZXJzaW9uQ29sbGVjdGlvbic6XG4gICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgWydzdHJsaXN0SUQnLCAnc3RybGlzdEl0ZW1JRCcsICdzdHJGaWVsZE5hbWUnXSk7IC8vIGNvcnJlY3QgY2FzZVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnVW5kb0NoZWNrT3V0JzpcbiAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbJ3BhZ2VVcmwnXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdVcGRhdGVDb250ZW50VHlwZSc6XG4gICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgWydsaXN0TmFtZScsICdjb250ZW50VHlwZUlkJywgJ2NvbnRlbnRUeXBlUHJvcGVydGllcycsICduZXdGaWVsZHMnLCAndXBkYXRlRmllbGRzJywgJ2RlbGV0ZUZpZWxkcycsICdhZGRUb1ZpZXcnXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdVcGRhdGVDb250ZW50VHlwZXNYbWxEb2N1bWVudCc6XG4gICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgWydsaXN0TmFtZScsICduZXdEb2N1bWVudCddKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ1VwZGF0ZUNvbnRlbnRUeXBlWG1sRG9jdW1lbnQnOlxuICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFsnbGlzdE5hbWUnLCAnY29udGVudFR5cGVJZCcsICduZXdEb2N1bWVudCddKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ1VwZGF0ZUxpc3QnOlxuICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFsnbGlzdE5hbWUnLCAnbGlzdFByb3BlcnRpZXMnLCAnbmV3RmllbGRzJywgJ3VwZGF0ZUZpZWxkcycsICdkZWxldGVGaWVsZHMnLCAnbGlzdFZlcnNpb24nXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdVcGRhdGVMaXN0SXRlbXMnOlxuICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFsnbGlzdE5hbWUnXSk7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvcHQudXBkYXRlcyAhPT0gJ3VuZGVmaW5lZCcgJiYgb3B0LnVwZGF0ZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbJ3VwZGF0ZXMnXSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc29hcEVudmVsb3BlLnBheWxvYWQgKz0gYDx1cGRhdGVzPjxCYXRjaCBPbkVycm9yPVwiQ29udGludWVcIj48TWV0aG9kIElEPVwiMVwiIENtZD1cIiR7b3B0LmJhdGNoQ21kfVwiPmA7XG4gICAgICAgICAgICAgICAgICAgIF8uZWFjaChvcHQudmFsdWVQYWlycywgKHZhbHVlUGFpcjogW3N0cmluZywgc3RyaW5nXSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc29hcEVudmVsb3BlLnBheWxvYWQgKz0gYDxGaWVsZCBOYW1lPVwiJHsgdmFsdWVQYWlyWzBdIH1cIj4keyBlc2NhcGVDb2x1bW5WYWx1ZSh2YWx1ZVBhaXJbMV0pIH08L0ZpZWxkPmA7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAob3B0LmJhdGNoQ21kICE9PSAnTmV3Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc29hcEVudmVsb3BlLnBheWxvYWQgKz0gYDxGaWVsZCBOYW1lPVwiSURcIj4ke29wdC5JRH08L0ZpZWxkPmA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc29hcEVudmVsb3BlLnBheWxvYWQgKz0gJzwvTWV0aG9kPjwvQmF0Y2g+PC91cGRhdGVzPic7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAvLyBNRUVUSU5HUyBPUEVSQVRJT05TXG4gICAgICAgICAgICBjYXNlICdBZGRNZWV0aW5nJzpcbiAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbJ29yZ2FuaXplckVtYWlsJywgJ3VpZCcsICdzZXF1ZW5jZScsICd1dGNEYXRlU3RhbXAnLCAndGl0bGUnLCAnbG9jYXRpb24nLCAndXRjRGF0ZVN0YXJ0JywgJ3V0Y0RhdGVFbmQnLCAnbm9uR3JlZ29yaWFuJ10pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnQ3JlYXRlV29ya3NwYWNlJzpcbiAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbJ3RpdGxlJywgJ3RlbXBsYXRlTmFtZScsICdsY2lkJywgJ3RpbWVab25lSW5mb3JtYXRpb24nXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdSZW1vdmVNZWV0aW5nJzpcbiAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbJ3JlY3VycmVuY2VJZCcsICd1aWQnLCAnc2VxdWVuY2UnLCAndXRjRGF0ZVN0YW1wJywgJ2NhbmNlbE1lZXRpbmcnXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdTZXRXb3Jrc3BhY2VUaXRsZSc6XG4gICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgWyd0aXRsZSddKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgLy8gUEVPUExFIE9QRVJBVElPTlNcbiAgICAgICAgICAgIGNhc2UgJ1Jlc29sdmVQcmluY2lwYWxzJzpcbiAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbJ3ByaW5jaXBhbEtleXMnLCAncHJpbmNpcGFsVHlwZScsICdhZGRUb1VzZXJJbmZvTGlzdCddKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ1NlYXJjaFByaW5jaXBhbHMnOlxuICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFsnc2VhcmNoVGV4dCcsICdtYXhSZXN1bHRzJywgJ3ByaW5jaXBhbFR5cGUnXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIC8vIFBFUk1JU1NJT04gT1BFUkFUSU9OU1xuICAgICAgICAgICAgY2FzZSAnQWRkUGVybWlzc2lvbic6XG4gICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgWydvYmplY3ROYW1lJywgJ29iamVjdFR5cGUnLCAncGVybWlzc2lvbklkZW50aWZpZXInLCAncGVybWlzc2lvblR5cGUnLCAncGVybWlzc2lvbk1hc2snXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdBZGRQZXJtaXNzaW9uQ29sbGVjdGlvbic6XG4gICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgWydvYmplY3ROYW1lJywgJ29iamVjdFR5cGUnLCAncGVybWlzc2lvbnNJbmZvWG1sJ10pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnR2V0UGVybWlzc2lvbkNvbGxlY3Rpb24nOlxuICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFsnb2JqZWN0TmFtZScsICdvYmplY3RUeXBlJ10pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnUmVtb3ZlUGVybWlzc2lvbic6XG4gICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgWydvYmplY3ROYW1lJywgJ29iamVjdFR5cGUnLCAncGVybWlzc2lvbklkZW50aWZpZXInLCAncGVybWlzc2lvblR5cGUnXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdSZW1vdmVQZXJtaXNzaW9uQ29sbGVjdGlvbic6XG4gICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgWydvYmplY3ROYW1lJywgJ29iamVjdFR5cGUnLCAnbWVtYmVySWRzWG1sJ10pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnVXBkYXRlUGVybWlzc2lvbic6XG4gICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgWydvYmplY3ROYW1lJywgJ29iamVjdFR5cGUnLCAncGVybWlzc2lvbklkZW50aWZpZXInLCAncGVybWlzc2lvblR5cGUnLCAncGVybWlzc2lvbk1hc2snXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIC8vIFBVQkxJU0hFRExJTktTU0VSVklDRSBPUEVSQVRJT05TXG4gICAgICAgICAgICBjYXNlICdHZXRMaW5rcyc6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIC8vIFNFQVJDSCBPUEVSQVRJT05TXG4gICAgICAgICAgICBjYXNlICdHZXRQb3J0YWxTZWFyY2hJbmZvJzpcbiAgICAgICAgICAgICAgICBzb2FwRW52ZWxvcGUub3BoZWFkZXIgPSBgPCR7b3B0Lm9wZXJhdGlvbn0geG1sbnM9XCJodHRwOi8vbWljcm9zb2Z0LmNvbS93ZWJzZXJ2aWNlcy9PZmZpY2VTZXJ2ZXIvUXVlcnlTZXJ2aWNlXCI+YDtcbiAgICAgICAgICAgICAgICBTT0FQQWN0aW9uID0gYGh0dHA6Ly9taWNyb3NvZnQuY29tL3dlYnNlcnZpY2VzL09mZmljZVNlcnZlci9RdWVyeVNlcnZpY2UvJHtvcHQub3BlcmF0aW9ufWA7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdHZXRRdWVyeVN1Z2dlc3Rpb25zJzpcbiAgICAgICAgICAgICAgICBzb2FwRW52ZWxvcGUub3BoZWFkZXIgPSBgPCR7b3B0Lm9wZXJhdGlvbn0geG1sbnM9J2h0dHA6Ly9taWNyb3NvZnQuY29tL3dlYnNlcnZpY2VzL09mZmljZVNlcnZlci9RdWVyeVNlcnZpY2UnPmA7XG4gICAgICAgICAgICAgICAgU09BUEFjdGlvbiA9IGBodHRwOi8vbWljcm9zb2Z0LmNvbS93ZWJzZXJ2aWNlcy9PZmZpY2VTZXJ2ZXIvUXVlcnlTZXJ2aWNlLyR7b3B0Lm9wZXJhdGlvbn1gO1xuICAgICAgICAgICAgICAgIHNvYXBFbnZlbG9wZS5wYXlsb2FkICs9IHdyYXBOb2RlKCdxdWVyeVhtbCcsIGVuY29kZVhtbChvcHQucXVlcnlYbWwpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0dldFNlYXJjaE1ldGFkYXRhJzpcbiAgICAgICAgICAgICAgICBzb2FwRW52ZWxvcGUub3BoZWFkZXIgPSBgPCR7b3B0Lm9wZXJhdGlvbn0geG1sbnM9J2h0dHA6Ly9taWNyb3NvZnQuY29tL3dlYnNlcnZpY2VzL09mZmljZVNlcnZlci9RdWVyeVNlcnZpY2UnPmA7XG4gICAgICAgICAgICAgICAgU09BUEFjdGlvbiA9IGBodHRwOi8vbWljcm9zb2Z0LmNvbS93ZWJzZXJ2aWNlcy9PZmZpY2VTZXJ2ZXIvUXVlcnlTZXJ2aWNlLyR7b3B0Lm9wZXJhdGlvbn1gO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnUXVlcnknOlxuICAgICAgICAgICAgICAgIHNvYXBFbnZlbG9wZS5wYXlsb2FkICs9IHdyYXBOb2RlKCdxdWVyeVhtbCcsIGVuY29kZVhtbChvcHQucXVlcnlYbWwpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ1F1ZXJ5RXgnOlxuICAgICAgICAgICAgICAgIHNvYXBFbnZlbG9wZS5vcGhlYWRlciA9IGA8JHtvcHQub3BlcmF0aW9ufSB4bWxucz0naHR0cDovL21pY3Jvc29mdC5jb20vd2Vic2VydmljZXMvT2ZmaWNlU2VydmVyL1F1ZXJ5U2VydmljZSc+YDtcbiAgICAgICAgICAgICAgICBTT0FQQWN0aW9uID0gYGh0dHA6Ly9taWNyb3NvZnQuY29tL3dlYnNlcnZpY2VzL09mZmljZVNlcnZlci9RdWVyeVNlcnZpY2UvJHtvcHQub3BlcmF0aW9ufWA7XG4gICAgICAgICAgICAgICAgc29hcEVudmVsb3BlLnBheWxvYWQgKz0gd3JhcE5vZGUoJ3F1ZXJ5WG1sJywgZW5jb2RlWG1sKG9wdC5xdWVyeVhtbCkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnUmVnaXN0cmF0aW9uJzpcbiAgICAgICAgICAgICAgICBzb2FwRW52ZWxvcGUucGF5bG9hZCArPSB3cmFwTm9kZSgncmVnaXN0cmF0aW9uWG1sJywgZW5jb2RlWG1sKG9wdC5yZWdpc3RyYXRpb25YbWwpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ1N0YXR1cyc6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIC8vIFNIQVJFUE9JTlRESUFHTk9TVElDUyBPUEVSQVRJT05TXG4gICAgICAgICAgICBjYXNlICdTZW5kQ2xpZW50U2NyaXB0RXJyb3JSZXBvcnQnOlxuICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFsnbWVzc2FnZScsICdmaWxlJywgJ2xpbmUnLCAnY2xpZW50JywgJ3N0YWNrJywgJ3RlYW0nLCAnb3JpZ2luYWxGaWxlJ10pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAvLyBTSVRFREFUQSBPUEVSQVRJT05TXG4gICAgICAgICAgICBjYXNlICdFbnVtZXJhdGVGb2xkZXInOlxuICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFsnc3RyRm9sZGVyVXJsJ10pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnR2V0QXR0YWNobWVudHMnOlxuICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFsnc3RyTGlzdE5hbWUnLCAnc3RySXRlbUlkJ10pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnU2l0ZURhdGFHZXRMaXN0JzpcbiAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbJ3N0ckxpc3ROYW1lJ10pO1xuICAgICAgICAgICAgICAgIC8vIEJlY2F1c2UgdGhpcyBvcGVyYXRpb24gaGFzIGEgbmFtZSB3aGljaCBkdXBsaWNhdGVzIHRoZSBMaXN0cyBXUywgbmVlZCB0byBoYW5kbGVcbiAgICAgICAgICAgICAgICBzb2FwRW52ZWxvcGUgPSBzaXRlRGF0YUZpeFNPQVBFbnZlbG9wZShzb2FwRW52ZWxvcGUsIG9wdC5vcGVyYXRpb24pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnU2l0ZURhdGFHZXRMaXN0Q29sbGVjdGlvbic6XG4gICAgICAgICAgICAgICAgLy8gQmVjYXVzZSB0aGlzIG9wZXJhdGlvbiBoYXMgYSBuYW1lIHdoaWNoIGR1cGxpY2F0ZXMgdGhlIExpc3RzIFdTLCBuZWVkIHRvIGhhbmRsZVxuICAgICAgICAgICAgICAgIHNvYXBFbnZlbG9wZSA9IHNpdGVEYXRhRml4U09BUEVudmVsb3BlKHNvYXBFbnZlbG9wZSwgb3B0Lm9wZXJhdGlvbik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdTaXRlRGF0YUdldFNpdGUnOlxuICAgICAgICAgICAgICAgIC8vIEJlY2F1c2UgdGhpcyBvcGVyYXRpb24gaGFzIGEgbmFtZSB3aGljaCBkdXBsaWNhdGVzIHRoZSBMaXN0cyBXUywgbmVlZCB0byBoYW5kbGVcbiAgICAgICAgICAgICAgICBzb2FwRW52ZWxvcGUgPSBzaXRlRGF0YUZpeFNPQVBFbnZlbG9wZShzb2FwRW52ZWxvcGUsIG9wdC5vcGVyYXRpb24pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnU2l0ZURhdGFHZXRTaXRlVXJsJzpcbiAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbJ1VybCddKTtcbiAgICAgICAgICAgICAgICAvLyBCZWNhdXNlIHRoaXMgb3BlcmF0aW9uIGhhcyBhIG5hbWUgd2hpY2ggZHVwbGljYXRlcyB0aGUgTGlzdHMgV1MsIG5lZWQgdG8gaGFuZGxlXG4gICAgICAgICAgICAgICAgc29hcEVudmVsb3BlID0gc2l0ZURhdGFGaXhTT0FQRW52ZWxvcGUoc29hcEVudmVsb3BlLCBvcHQub3BlcmF0aW9uKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ1NpdGVEYXRhR2V0V2ViJzpcbiAgICAgICAgICAgICAgICAvLyBCZWNhdXNlIHRoaXMgb3BlcmF0aW9uIGhhcyBhIG5hbWUgd2hpY2ggZHVwbGljYXRlcyB0aGUgTGlzdHMgV1MsIG5lZWQgdG8gaGFuZGxlXG4gICAgICAgICAgICAgICAgc29hcEVudmVsb3BlID0gc2l0ZURhdGFGaXhTT0FQRW52ZWxvcGUoc29hcEVudmVsb3BlLCBvcHQub3BlcmF0aW9uKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgLy8gU0lURVMgT1BFUkFUSU9OU1xuICAgICAgICAgICAgY2FzZSAnQ3JlYXRlV2ViJzpcbiAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbJ3VybCcsICd0aXRsZScsICdkZXNjcmlwdGlvbicsICd0ZW1wbGF0ZU5hbWUnLCAnbGFuZ3VhZ2UnLCAnbGFuZ3VhZ2VTcGVjaWZpZWQnLFxuICAgICAgICAgICAgICAgICAgICAnbG9jYWxlJywgJ2xvY2FsZVNwZWNpZmllZCcsICdjb2xsYXRpb25Mb2NhbGUnLCAnY29sbGF0aW9uTG9jYWxlU3BlY2lmaWVkJywgJ3VuaXF1ZVBlcm1pc3Npb25zJyxcbiAgICAgICAgICAgICAgICAgICAgJ3VuaXF1ZVBlcm1pc3Npb25zU3BlY2lmaWVkJywgJ2Fub255bW91cycsICdhbm9ueW1vdXNTcGVjaWZpZWQnLCAncHJlc2VuY2UnLCAncHJlc2VuY2VTcGVjaWZpZWQnXG4gICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdEZWxldGVXZWInOlxuICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFsndXJsJ10pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnR2V0U2l0ZSc6XG4gICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgWydTaXRlVXJsJ10pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnR2V0U2l0ZVRlbXBsYXRlcyc6XG4gICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgWydMQ0lEJywgJ1RlbXBsYXRlTGlzdCddKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgLy8gU09DSUFMREFUQVNFUlZJQ0UgT1BFUkFUSU9OU1xuICAgICAgICAgICAgY2FzZSAnQWRkQ29tbWVudCc6XG4gICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgWyd1cmwnLCAnY29tbWVudCcsICdpc0hpZ2hQcmlvcml0eScsICd0aXRsZSddKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0FkZFRhZyc6XG4gICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgWyd1cmwnLCAndGVybUlEJywgJ3RpdGxlJywgJ2lzUHJpdmF0ZSddKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0FkZFRhZ0J5S2V5d29yZCc6XG4gICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgWyd1cmwnLCAna2V5d29yZCcsICd0aXRsZScsICdpc1ByaXZhdGUnXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdDb3VudENvbW1lbnRzT2ZVc2VyJzpcbiAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbJ3VzZXJBY2NvdW50TmFtZSddKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0NvdW50Q29tbWVudHNPZlVzZXJPblVybCc6XG4gICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgWyd1c2VyQWNjb3VudE5hbWUnLCAndXJsJ10pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnQ291bnRDb21tZW50c09uVXJsJzpcbiAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbJ3VybCddKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0NvdW50UmF0aW5nc09uVXJsJzpcbiAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbJ3VybCddKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0NvdW50VGFnc09mVXNlcic6XG4gICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgWyd1c2VyQWNjb3VudE5hbWUnXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdEZWxldGVDb21tZW50JzpcbiAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbJ3VybCcsICdsYXN0TW9kaWZpZWRUaW1lJ10pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnRGVsZXRlUmF0aW5nJzpcbiAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbJ3VybCddKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0RlbGV0ZVRhZyc6XG4gICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgWyd1cmwnLCAndGVybUlEJ10pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnRGVsZXRlVGFnQnlLZXl3b3JkJzpcbiAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbJ3VybCcsICdrZXl3b3JkJ10pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnRGVsZXRlVGFncyc6XG4gICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgWyd1cmwnXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdHZXRBbGxUYWdUZXJtcyc6XG4gICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgWydtYXhpbXVtSXRlbXNUb1JldHVybiddKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0dldEFsbFRhZ1Rlcm1zRm9yVXJsRm9sZGVyJzpcbiAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbJ3VybEZvbGRlcicsICdtYXhpbXVtSXRlbXNUb1JldHVybiddKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0dldEFsbFRhZ1VybHMnOlxuICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFsndGVybUlEJ10pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnR2V0QWxsVGFnVXJsc0J5S2V5d29yZCc6XG4gICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgWydrZXl3b3JkJ10pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnR2V0Q29tbWVudHNPZlVzZXInOlxuICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFsndXNlckFjY291bnROYW1lJywgJ21heGltdW1JdGVtc1RvUmV0dXJuJywgJ3N0YXJ0SW5kZXgnXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdHZXRDb21tZW50c09mVXNlck9uVXJsJzpcbiAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbJ3VzZXJBY2NvdW50TmFtZScsICd1cmwnXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdHZXRDb21tZW50c09uVXJsJzpcbiAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbJ3VybCcsICdtYXhpbXVtSXRlbXNUb1JldHVybicsICdzdGFydEluZGV4J10pO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb3B0LmV4Y2x1ZGVJdGVtc1RpbWUgIT09ICd1bmRlZmluZWQnICYmIG9wdC5leGNsdWRlSXRlbXNUaW1lLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgc29hcEVudmVsb3BlLnBheWxvYWQgKz0gd3JhcE5vZGUoJ2V4Y2x1ZGVJdGVtc1RpbWUnLCBvcHQuZXhjbHVkZUl0ZW1zVGltZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnR2V0UmF0aW5nQXZlcmFnZU9uVXJsJzpcbiAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbJ3VybCddKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0dldFJhdGluZ09mVXNlck9uVXJsJzpcbiAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbJ3VzZXJBY2NvdW50TmFtZScsICd1cmwnXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdHZXRSYXRpbmdPblVybCc6XG4gICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgWyd1cmwnXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdHZXRSYXRpbmdzT2ZVc2VyJzpcbiAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbJ3VzZXJBY2NvdW50TmFtZSddKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0dldFJhdGluZ3NPblVybCc6XG4gICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgWyd1cmwnXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdHZXRTb2NpYWxEYXRhRm9yRnVsbFJlcGxpY2F0aW9uJzpcbiAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbJ3VzZXJBY2NvdW50TmFtZSddKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0dldFRhZ3MnOlxuICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFsndXJsJ10pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnR2V0VGFnc09mVXNlcic6XG4gICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgWyd1c2VyQWNjb3VudE5hbWUnLCAnbWF4aW11bUl0ZW1zVG9SZXR1cm4nLCAnc3RhcnRJbmRleCddKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0dldFRhZ1Rlcm1zJzpcbiAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbJ21heGltdW1JdGVtc1RvUmV0dXJuJ10pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnR2V0VGFnVGVybXNPZlVzZXInOlxuICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFsndXNlckFjY291bnROYW1lJywgJ21heGltdW1JdGVtc1RvUmV0dXJuJ10pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnR2V0VGFnVGVybXNPblVybCc6XG4gICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgWyd1cmwnLCAnbWF4aW11bUl0ZW1zVG9SZXR1cm4nXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdHZXRUYWdVcmxzJzpcbiAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbJ3Rlcm1JRCddKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0dldFRhZ1VybHNCeUtleXdvcmQnOlxuICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFsna2V5d29yZCddKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0dldFRhZ1VybHNPZlVzZXInOlxuICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFsndGVybUlEJywgJ3VzZXJBY2NvdW50TmFtZSddKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0dldFRhZ1VybHNPZlVzZXJCeUtleXdvcmQnOlxuICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFsna2V5d29yZCcsICd1c2VyQWNjb3VudE5hbWUnXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdTZXRSYXRpbmcnOlxuICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFsndXJsJywgJ3JhdGluZycsICd0aXRsZScsICdhbmFseXNpc0RhdGFFbnRyeSddKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ1VwZGF0ZUNvbW1lbnQnOlxuICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFsndXJsJywgJ2xhc3RNb2RpZmllZFRpbWUnLCAnY29tbWVudCcsICdpc0hpZ2hQcmlvcml0eSddKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgLy8gU1BFTExDSEVDSyBPUEVSQVRJT05TXG4gICAgICAgICAgICBjYXNlICdTcGVsbENoZWNrJzpcbiAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbJ2NodW5rc1RvU3BlbGwnLCAnZGVjbGFyZWRMYW5ndWFnZScsICd1c2VMYWQnXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIC8vIFRBWE9OT01ZIE9QRVJBVElPTlNcbiAgICAgICAgICAgIGNhc2UgJ0FkZFRlcm1zJzpcbiAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbJ3NoYXJlZFNlcnZpY2VJZCcsICd0ZXJtU2V0SWQnLCAnbGNpZCcsICduZXdUZXJtcyddKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0dldENoaWxkVGVybXNJblRlcm0nOlxuICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFsnc3NwSWQnLCAnbGNpZCcsICd0ZXJtSWQnLCAndGVybVNldElkJ10pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnR2V0Q2hpbGRUZXJtc0luVGVybVNldCc6XG4gICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgWydzc3BJZCcsICdsY2lkJywgJ3Rlcm1TZXRJZCddKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0dldEtleXdvcmRUZXJtc0J5R3VpZHMnOlxuICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFsndGVybUlkcycsICdsY2lkJ10pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnR2V0VGVybXNCeUxhYmVsJzpcbiAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbJ2xhYmVsJywgJ2xjaWQnLCAnbWF0Y2hPcHRpb24nLCAncmVzdWx0Q29sbGVjdGlvblNpemUnLCAndGVybUlkcycsICdhZGRJZk5vdEZvdW5kJ10pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnR2V0VGVybVNldHMnOlxuICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFsnc2hhcmVkU2VydmljZUlkJywgJ3Rlcm1TZXRJZCcsICdsY2lkJywgJ2NsaWVudFRpbWVTdGFtcHMnLCAnY2xpZW50VmVyc2lvbnMnXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIC8vIFVTRVJTIEFORCBHUk9VUFMgT1BFUkFUSU9OU1xuICAgICAgICAgICAgY2FzZSAnQWRkR3JvdXAnOlxuICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFsnZ3JvdXBOYW1lJywgJ293bmVySWRlbnRpZmllcicsICdvd25lclR5cGUnLCAnZGVmYXVsdFVzZXJMb2dpbk5hbWUnLCAnZGVzY3JpcHRpb24nXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdBZGRHcm91cFRvUm9sZSc6XG4gICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgWydncm91cE5hbWUnLCAncm9sZU5hbWUnXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdBZGRSb2xlJzpcbiAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbJ3JvbGVOYW1lJywgJ2Rlc2NyaXB0aW9uJywgJ3Blcm1pc3Npb25NYXNrJ10pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnQWRkUm9sZURlZic6XG4gICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgWydyb2xlTmFtZScsICdkZXNjcmlwdGlvbicsICdwZXJtaXNzaW9uTWFzayddKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0FkZFVzZXJDb2xsZWN0aW9uVG9Hcm91cCc6XG4gICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgWydncm91cE5hbWUnLCAndXNlcnNJbmZvWG1sJ10pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnQWRkVXNlckNvbGxlY3Rpb25Ub1JvbGUnOlxuICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFsncm9sZU5hbWUnLCAndXNlcnNJbmZvWG1sJ10pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnQWRkVXNlclRvR3JvdXAnOlxuICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFsnZ3JvdXBOYW1lJywgJ3VzZXJOYW1lJywgJ3VzZXJMb2dpbk5hbWUnLCAndXNlckVtYWlsJywgJ3VzZXJOb3RlcyddKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0FkZFVzZXJUb1JvbGUnOlxuICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFsncm9sZU5hbWUnLCAndXNlck5hbWUnLCAndXNlckxvZ2luTmFtZScsICd1c2VyRW1haWwnLCAndXNlck5vdGVzJ10pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnR2V0QWxsVXNlckNvbGxlY3Rpb25Gcm9tV2ViJzpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0dldEdyb3VwQ29sbGVjdGlvbic6XG4gICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgWydncm91cE5hbWVzWG1sJ10pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnR2V0R3JvdXBDb2xsZWN0aW9uRnJvbVJvbGUnOlxuICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFsncm9sZU5hbWUnXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdHZXRHcm91cENvbGxlY3Rpb25Gcm9tU2l0ZSc6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdHZXRHcm91cENvbGxlY3Rpb25Gcm9tVXNlcic6XG4gICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgWyd1c2VyTG9naW5OYW1lJ10pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnR2V0R3JvdXBDb2xsZWN0aW9uRnJvbVdlYic6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdHZXRHcm91cEluZm8nOlxuICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFsnZ3JvdXBOYW1lJ10pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnR2V0Um9sZUNvbGxlY3Rpb24nOlxuICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFsncm9sZU5hbWVzWG1sJ10pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnR2V0Um9sZUNvbGxlY3Rpb25Gcm9tR3JvdXAnOlxuICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFsnZ3JvdXBOYW1lJ10pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnR2V0Um9sZUNvbGxlY3Rpb25Gcm9tVXNlcic6XG4gICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgWyd1c2VyTG9naW5OYW1lJ10pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnR2V0Um9sZUNvbGxlY3Rpb25Gcm9tV2ViJzpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0dldFJvbGVJbmZvJzpcbiAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbJ3JvbGVOYW1lJ10pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnR2V0Um9sZXNBbmRQZXJtaXNzaW9uc0ZvckN1cnJlbnRVc2VyJzpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0dldFJvbGVzQW5kUGVybWlzc2lvbnNGb3JTaXRlJzpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0dldFVzZXJDb2xsZWN0aW9uJzpcbiAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbJ3VzZXJMb2dpbk5hbWVzWG1sJ10pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnR2V0VXNlckNvbGxlY3Rpb25Gcm9tR3JvdXAnOlxuICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFsnZ3JvdXBOYW1lJ10pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnR2V0VXNlckNvbGxlY3Rpb25Gcm9tUm9sZSc6XG4gICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgWydyb2xlTmFtZSddKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0dldFVzZXJDb2xsZWN0aW9uRnJvbVNpdGUnOlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnR2V0VXNlckNvbGxlY3Rpb25Gcm9tV2ViJzpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0dldFVzZXJJbmZvJzpcbiAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbJ3VzZXJMb2dpbk5hbWUnXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdHZXRVc2VyTG9naW5Gcm9tRW1haWwnOlxuICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFsnZW1haWxYbWwnXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdSZW1vdmVHcm91cCc6XG4gICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgWydncm91cE5hbWUnXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdSZW1vdmVHcm91cEZyb21Sb2xlJzpcbiAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbJ3JvbGVOYW1lJywgJ2dyb3VwTmFtZSddKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ1JlbW92ZVJvbGUnOlxuICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFsncm9sZU5hbWUnXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdSZW1vdmVVc2VyQ29sbGVjdGlvbkZyb21Hcm91cCc6XG4gICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgWydncm91cE5hbWUnLCAndXNlckxvZ2luTmFtZXNYbWwnXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdSZW1vdmVVc2VyQ29sbGVjdGlvbkZyb21Sb2xlJzpcbiAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbJ3JvbGVOYW1lJywgJ3VzZXJMb2dpbk5hbWVzWG1sJ10pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnUmVtb3ZlVXNlckNvbGxlY3Rpb25Gcm9tU2l0ZSc6XG4gICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgWyd1c2VyTG9naW5OYW1lc1htbCddKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ1JlbW92ZVVzZXJGcm9tR3JvdXAnOlxuICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFsnZ3JvdXBOYW1lJywgJ3VzZXJMb2dpbk5hbWUnXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdSZW1vdmVVc2VyRnJvbVJvbGUnOlxuICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFsncm9sZU5hbWUnLCAndXNlckxvZ2luTmFtZSddKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ1JlbW92ZVVzZXJGcm9tU2l0ZSc6XG4gICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgWyd1c2VyTG9naW5OYW1lJ10pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnUmVtb3ZlVXNlckZyb21XZWInOlxuICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFsndXNlckxvZ2luTmFtZSddKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ1VwZGF0ZUdyb3VwSW5mbyc6XG4gICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgWydvbGRHcm91cE5hbWUnLCAnZ3JvdXBOYW1lJywgJ293bmVySWRlbnRpZmllcicsICdvd25lclR5cGUnLCAnZGVzY3JpcHRpb24nXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdVcGRhdGVSb2xlRGVmSW5mbyc6XG4gICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgWydvbGRSb2xlTmFtZScsICdyb2xlTmFtZScsICdkZXNjcmlwdGlvbicsICdwZXJtaXNzaW9uTWFzayddKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ1VwZGF0ZVJvbGVJbmZvJzpcbiAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbJ29sZFJvbGVOYW1lJywgJ3JvbGVOYW1lJywgJ2Rlc2NyaXB0aW9uJywgJ3Blcm1pc3Npb25NYXNrJ10pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnVXBkYXRlVXNlckluZm8nOlxuICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFsndXNlckxvZ2luTmFtZScsICd1c2VyTmFtZScsICd1c2VyRW1haWwnLCAndXNlck5vdGVzJ10pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAvLyBVU0VSUFJPRklMRVNFUlZJQ0UgT1BFUkFUSU9OU1xuICAgICAgICAgICAgY2FzZSAnQWRkQ29sbGVhZ3VlJzpcbiAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbJ2FjY291bnROYW1lJywgJ2NvbGxlYWd1ZUFjY291bnROYW1lJywgJ2dyb3VwJywgJ3ByaXZhY3knLCAnaXNJbldvcmtHcm91cCddKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0FkZExpbmsnOlxuICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFsnYWNjb3VudE5hbWUnLCAnbmFtZScsICd1cmwnLCAnZ3JvdXAnLCAncHJpdmFjeSddKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0FkZE1lbWJlcnNoaXAnOlxuICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFsnYWNjb3VudE5hbWUnLCAnbWVtYmVyc2hpcEluZm8nLCAnZ3JvdXAnLCAncHJpdmFjeSddKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0FkZFBpbm5lZExpbmsnOlxuICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFsnYWNjb3VudE5hbWUnLCAnbmFtZScsICd1cmwnXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdDcmVhdGVNZW1iZXJHcm91cCc6XG4gICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgWydtZW1iZXJzaGlwSW5mbyddKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0NyZWF0ZVVzZXJQcm9maWxlQnlBY2NvdW50TmFtZSc6XG4gICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgWydhY2NvdW50TmFtZSddKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0dldENvbW1vbkNvbGxlYWd1ZXMnOlxuICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFsnYWNjb3VudE5hbWUnXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdHZXRDb21tb25NYW5hZ2VyJzpcbiAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbJ2FjY291bnROYW1lJ10pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnR2V0Q29tbW9uTWVtYmVyc2hpcHMnOlxuICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFsnYWNjb3VudE5hbWUnXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdHZXRJbkNvbW1vbic6XG4gICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgWydhY2NvdW50TmFtZSddKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0dldFByb3BlcnR5Q2hvaWNlTGlzdCc6XG4gICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgWydwcm9wZXJ0eU5hbWUnXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdHZXRVc2VyQ29sbGVhZ3Vlcyc6XG4gICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgWydhY2NvdW50TmFtZSddKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0dldFVzZXJMaW5rcyc6XG4gICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgWydhY2NvdW50TmFtZSddKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0dldFVzZXJNZW1iZXJzaGlwcyc6XG4gICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgWydhY2NvdW50TmFtZSddKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0dldFVzZXJQaW5uZWRMaW5rcyc6XG4gICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgWydhY2NvdW50TmFtZSddKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0dldFVzZXJQcm9maWxlQnlHdWlkJzpcbiAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbJ2d1aWQnXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdHZXRVc2VyUHJvZmlsZUJ5SW5kZXgnOlxuICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFsnaW5kZXgnXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdHZXRVc2VyUHJvZmlsZUJ5TmFtZSc6XG4gICAgICAgICAgICAgICAgLy8gTm90ZSB0aGF0IHRoaXMgb3BlcmF0aW9uIGlzIGluY29uc2lzdGVudCB3aXRoIHRoZSBvdGhlcnMsIHVzaW5nIEFjY291bnROYW1lIHJhdGhlciB0aGFuIGFjY291bnROYW1lXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvcHQuYWNjb3VudE5hbWUgIT09ICd1bmRlZmluZWQnICYmIG9wdC5hY2NvdW50TmFtZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgIFsnQWNjb3VudE5hbWUnLCAnYWNjb3VudE5hbWUnXVxuICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbJ0FjY291bnROYW1lJ10pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0dldFVzZXJQcm9maWxlQ291bnQnOlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnR2V0VXNlclByb2ZpbGVTY2hlbWEnOlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnR2V0VXNlclByb3BlcnR5QnlBY2NvdW50TmFtZSc6XG4gICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgWydhY2NvdW50TmFtZScsICdwcm9wZXJ0eU5hbWUnXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdNb2RpZnlVc2VyUHJvcGVydHlCeUFjY291bnROYW1lJzpcbiAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbJ2FjY291bnROYW1lJywgJ25ld0RhdGEnXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdSZW1vdmVBbGxDb2xsZWFndWVzJzpcbiAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbJ2FjY291bnROYW1lJ10pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnUmVtb3ZlQWxsTGlua3MnOlxuICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFsnYWNjb3VudE5hbWUnXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdSZW1vdmVBbGxNZW1iZXJzaGlwcyc6XG4gICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgWydhY2NvdW50TmFtZSddKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ1JlbW92ZUFsbFBpbm5lZExpbmtzJzpcbiAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbJ2FjY291bnROYW1lJ10pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnUmVtb3ZlQ29sbGVhZ3VlJzpcbiAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbJ2FjY291bnROYW1lJywgJ2NvbGxlYWd1ZUFjY291bnROYW1lJ10pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnUmVtb3ZlTGluayc6XG4gICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgWydhY2NvdW50TmFtZScsICdpZCddKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ1JlbW92ZU1lbWJlcnNoaXAnOlxuICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFsnYWNjb3VudE5hbWUnLCAnc291cmNlSW50ZXJuYWwnLCAnc291cmNlUmVmZXJlbmNlJ10pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnUmVtb3ZlUGlubmVkTGluayc6XG4gICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgWydhY2NvdW50TmFtZScsICdpZCddKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ1VwZGF0ZUNvbGxlYWd1ZVByaXZhY3knOlxuICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFsnYWNjb3VudE5hbWUnLCAnY29sbGVhZ3VlQWNjb3VudE5hbWUnLCAnbmV3UHJpdmFjeSddKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ1VwZGF0ZUxpbmsnOlxuICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFsnYWNjb3VudE5hbWUnLCAnZGF0YSddKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ1VwZGF0ZU1lbWJlcnNoaXBQcml2YWN5JzpcbiAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbJ2FjY291bnROYW1lJywgJ3NvdXJjZUludGVybmFsJywgJ3NvdXJjZVJlZmVyZW5jZScsICduZXdQcml2YWN5J10pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnVXBkYXRlUGlubmVkTGluayAnOlxuICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFsnYWNjb3VudE5hbWUnLCAnZGF0YSddKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgLy8gVkVSU0lPTlMgT1BFUkFUSU9OU1xuICAgICAgICAgICAgY2FzZSAnRGVsZXRlQWxsVmVyc2lvbnMnOlxuICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFsnZmlsZU5hbWUnXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdEZWxldGVWZXJzaW9uJzpcbiAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbJ2ZpbGVOYW1lJywgJ2ZpbGVWZXJzaW9uJ10pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnR2V0VmVyc2lvbnMnOlxuICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFsnZmlsZU5hbWUnXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdSZXN0b3JlVmVyc2lvbic6XG4gICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgWydmaWxlTmFtZScsICdmaWxlVmVyc2lvbiddKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgLy8gVklFVyBPUEVSQVRJT05TXG4gICAgICAgICAgICBjYXNlICdBZGRWaWV3JzpcbiAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbJ2xpc3ROYW1lJywgJ3ZpZXdOYW1lJywgJ3ZpZXdGaWVsZHMnLCAncXVlcnknLCAncm93TGltaXQnLCAncm93TGltaXQnLCAndHlwZScsICdtYWtlVmlld0RlZmF1bHQnXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdEZWxldGVWaWV3JzpcbiAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbJ2xpc3ROYW1lJywgJ3ZpZXdOYW1lJ10pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnR2V0Vmlldyc6XG4gICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgWydsaXN0TmFtZScsICd2aWV3TmFtZSddKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0dldFZpZXdDb2xsZWN0aW9uJzpcbiAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbJ2xpc3ROYW1lJ10pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnR2V0Vmlld0h0bWwnOlxuICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFsnbGlzdE5hbWUnLCAndmlld05hbWUnXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdVcGRhdGVWaWV3JzpcbiAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbJ2xpc3ROYW1lJywgJ3ZpZXdOYW1lJywgJ3ZpZXdQcm9wZXJ0aWVzJywgJ3F1ZXJ5JywgJ3ZpZXdGaWVsZHMnLCAnYWdncmVnYXRpb25zJywgJ2Zvcm1hdHMnLCAncm93TGltaXQnXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdVcGRhdGVWaWV3SHRtbCc6XG4gICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgWydsaXN0TmFtZScsICd2aWV3TmFtZScsICd2aWV3UHJvcGVydGllcycsICd0b29sYmFyJywgJ3ZpZXdIZWFkZXInLCAndmlld0JvZHknLCAndmlld0Zvb3RlcicsICd2aWV3RW1wdHknLCAncm93TGltaXRFeGNlZWRlZCcsXG4gICAgICAgICAgICAgICAgICAgICdxdWVyeScsICd2aWV3RmllbGRzJywgJ2FnZ3JlZ2F0aW9ucycsICdmb3JtYXRzJywgJ3Jvd0xpbWl0J1xuICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAvLyBXRUJQQVJUUEFHRVMgT1BFUkFUSU9OU1xuICAgICAgICAgICAgY2FzZSAnQWRkV2ViUGFydCc6XG4gICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgWydwYWdlVXJsJywgJ3dlYlBhcnRYbWwnLCAnc3RvcmFnZSddKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0FkZFdlYlBhcnRUb1pvbmUnOlxuICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFsncGFnZVVybCcsICd3ZWJQYXJ0WG1sJywgJ3N0b3JhZ2UnLCAnem9uZUlkJywgJ3pvbmVJbmRleCddKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0dldFdlYlBhcnQyJzpcbiAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbJ3BhZ2VVcmwnLCAnc3RvcmFnZUtleScsICdzdG9yYWdlJywgJ2JlaGF2aW9yJ10pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnR2V0V2ViUGFydFBhZ2UnOlxuICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFsnZG9jdW1lbnROYW1lJywgJ2JlaGF2aW9yJ10pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnR2V0V2ViUGFydFByb3BlcnRpZXMnOlxuICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFsncGFnZVVybCcsICdzdG9yYWdlJ10pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnR2V0V2ViUGFydFByb3BlcnRpZXMyJzpcbiAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbJ3BhZ2VVcmwnLCAnc3RvcmFnZScsICdiZWhhdmlvciddKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgLy8gV0VCUyBPUEVSQVRJT05TXG4gICAgICAgICAgICBjYXNlICdXZWJzLkNyZWF0ZUNvbnRlbnRUeXBlJzpcbiAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbJ2Rpc3BsYXlOYW1lJywgJ3BhcmVudFR5cGUnLCAnbmV3RmllbGRzJywgJ2NvbnRlbnRUeXBlUHJvcGVydGllcyddKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0dldENvbHVtbnMnOlxuICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFsnd2ViVXJsJ10pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnR2V0Q29udGVudFR5cGUnOlxuICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFsnY29udGVudFR5cGVJZCddKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0dldENvbnRlbnRUeXBlcyc6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdHZXRDdXN0b21pemVkUGFnZVN0YXR1cyc6XG4gICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgWydmaWxlVXJsJ10pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnR2V0TGlzdFRlbXBsYXRlcyc6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdHZXRPYmplY3RJZEZyb21VcmwnOlxuICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFsnb2JqZWN0VXJsJ10pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnR2V0V2ViJzpcbiAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXG4gICAgICAgICAgICAgICAgICAgIFsnd2ViVXJsJywgJ3dlYlVSTCddXG4gICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdHZXRXZWJDb2xsZWN0aW9uJzpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0dldEFsbFN1YldlYkNvbGxlY3Rpb24nOlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnVXBkYXRlQ29sdW1ucyc6XG4gICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgWyduZXdGaWVsZHMnLCAndXBkYXRlRmllbGRzJywgJ2RlbGV0ZUZpZWxkcyddKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ1dlYnMuVXBkYXRlQ29udGVudFR5cGUnOlxuICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFsnY29udGVudFR5cGVJZCcsICdjb250ZW50VHlwZVByb3BlcnRpZXMnLCAnbmV3RmllbGRzJywgJ3VwZGF0ZUZpZWxkcycsICdkZWxldGVGaWVsZHMnXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdXZWJVcmxGcm9tUGFnZVVybCc6XG4gICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1xuICAgICAgICAgICAgICAgICAgICBbJ3BhZ2VVcmwnLCAncGFnZVVSTCddXG4gICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIC8vIFdPUktGTE9XIE9QRVJBVElPTlNcbiAgICAgICAgICAgIGNhc2UgJ0FsdGVyVG9Ebyc6XG4gICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgWydpdGVtJywgJ3RvZG9JZCcsICd0b2RvTGlzdElkJywgJ3Rhc2tEYXRhJ10pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnQ2xhaW1SZWxlYXNlVGFzayc6XG4gICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgWydpdGVtJywgJ3Rhc2tJZCcsICdsaXN0SWQnLCAnZkNsYWltJ10pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnR2V0VGVtcGxhdGVzRm9ySXRlbSc6XG4gICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgWydpdGVtJ10pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnR2V0VG9Eb3NGb3JJdGVtJzpcbiAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbJ2l0ZW0nXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdHZXRXb3JrZmxvd0RhdGFGb3JJdGVtJzpcbiAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbJ2l0ZW0nXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdHZXRXb3JrZmxvd1Rhc2tEYXRhJzpcbiAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbJ2l0ZW0nLCAnbGlzdElkJywgJ3Rhc2tJZCddKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ1N0YXJ0V29ya2Zsb3cnOlxuICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFsnaXRlbScsICd0ZW1wbGF0ZUlkJywgJ3dvcmtmbG93UGFyYW1ldGVycyddKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEdsdWUgdG9nZXRoZXIgdGhlIHBpZWNlcyBvZiB0aGUgU09BUCBtZXNzYWdlXG4gICAgICAgIGNvbnN0IG1zZyA9IHNvYXBFbnZlbG9wZS5oZWFkZXIgKyBzb2FwRW52ZWxvcGUub3BoZWFkZXIgKyBzb2FwRW52ZWxvcGUucGF5bG9hZCArIHNvYXBFbnZlbG9wZS5vcGZvb3RlciArIHNvYXBFbnZlbG9wZS5mb290ZXI7XG4gICAgICAgIGNvbnN0IHNvYXBBY3Rpb24gPSBhcFdlYlNlcnZpY2VPcGVyYXRpb25Db25zdGFudHNbb3B0Lm9wZXJhdGlvbl1bMV0gPyBTT0FQQWN0aW9uIDogZmFsc2U7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1zZzogbXNnLFxuICAgICAgICAgICAgU09BUEVudmVsb3BlOiBzb2FwRW52ZWxvcGUsXG4gICAgICAgICAgICBTT0FQQWN0aW9uOiBzb2FwQWN0aW9uXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gQWRkIHRoZSBvcHRpb24gdmFsdWVzIHRvIHRoZSBzb2FwRW52ZWxvcGUucGF5bG9hZCBmb3IgdGhlIG9wZXJhdGlvblxuICAgICAgICAvLyAgb3B0ID0gb3B0aW9ucyBmb3IgdGhlIGNhbGxcbiAgICAgICAgLy8gIHBhcmFtQXJyYXkgPSBhbiBhcnJheSBvZiBvcHRpb24gbmFtZXMgdG8gYWRkIHRvIHRoZSBwYXlsb2FkXG4gICAgICAgIC8vICAgICAgJ3BhcmFtTmFtZScgaWYgdGhlIHBhcmFtZXRlciBuYW1lIGFuZCB0aGUgb3B0aW9uIG5hbWUgbWF0Y2hcbiAgICAgICAgLy8gICAgICBbJ3BhcmFtTmFtZScsICdvcHRpb25OYW1lJ10gaWYgdGhlIHBhcmFtZXRlciBuYW1lIGFuZCB0aGUgb3B0aW9uIG5hbWUgYXJlIGRpZmZlcmVudCAodGhpcyBoYW5kbGVzIGVhcmx5ICd3cmFwcGluZ3MnIHdpdGggaW5jb25zaXN0ZW50IG5hbWluZylcbiAgICAgICAgLy8gICAgICB7bmFtZTogJ3BhcmFtTmFtZScsIHNlbmROdWxsOiBmYWxzZX0gaW5kaWNhdGVzIHRoZSBlbGVtZW50IGlzIG1hcmtlZCBhcyAnYWRkIHRvIHBheWxvYWQgb25seSBpZiBub24tbnVsbCdcbiAgICAgICAgZnVuY3Rpb24gYWRkVG9QYXlsb2FkKG9wdCwgcGFyYW1BcnJheSkge1xuXG4gICAgICAgICAgICBsZXQgaTtcblxuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHBhcmFtQXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAvLyB0aGUgcGFyYW1ldGVyIG5hbWUgYW5kIHRoZSBvcHRpb24gbmFtZSBtYXRjaFxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcGFyYW1BcnJheVtpXSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgc29hcEVudmVsb3BlLnBheWxvYWQgKz0gd3JhcE5vZGUocGFyYW1BcnJheVtpXSwgb3B0W3BhcmFtQXJyYXlbaV1dKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlIHBhcmFtZXRlciBuYW1lIGFuZCB0aGUgb3B0aW9uIG5hbWUgYXJlIGRpZmZlcmVudFxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXy5pc0FycmF5KHBhcmFtQXJyYXlbaV0pICYmIHBhcmFtQXJyYXlbaV0ubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICAgICAgICAgIHNvYXBFbnZlbG9wZS5wYXlsb2FkICs9IHdyYXBOb2RlKHBhcmFtQXJyYXlbaV1bMF0sIG9wdFtwYXJhbUFycmF5W2ldWzFdXSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoZSBlbGVtZW50IG5vdCBhIHN0cmluZyBvciBhbiBhcnJheSBhbmQgaXMgbWFya2VkIGFzIFwiYWRkIHRvIHBheWxvYWQgb25seSBpZiBub24tbnVsbCdcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCh0eXBlb2YgcGFyYW1BcnJheVtpXSA9PT0gJ29iamVjdCcpICYmIChwYXJhbUFycmF5W2ldLnNlbmROdWxsICE9PSB1bmRlZmluZWQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHNvYXBFbnZlbG9wZS5wYXlsb2FkICs9ICgob3B0W3BhcmFtQXJyYXlbaV0ubmFtZV0gPT09IHVuZGVmaW5lZCkgfHwgKG9wdFtwYXJhbUFycmF5W2ldLm5hbWVdLmxlbmd0aCA9PT0gMCkpID8gJycgOiB3cmFwTm9kZShwYXJhbUFycmF5W2ldLm5hbWUsIG9wdFtwYXJhbUFycmF5W2ldLm5hbWVdKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gc29tZXRoaW5nIGlzbid0IHJpZ2h0LCBzbyByZXBvcnQgaXRcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKG9wdC5vcGVyYXRpb24sICdwYXJhbUFycmF5WycgKyBpICsgJ106ICcgKyBwYXJhbUFycmF5W2ldLCAnSW52YWxpZCBwYXJhbUFycmF5IGVsZW1lbnQgcGFzc2VkIHRvIGFkZFRvUGF5bG9hZCgpJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IC8vIEVuZCBvZiBmdW5jdGlvbiBhZGRUb1BheWxvYWRcblxuICAgICAgICAvLyBUaGUgU2l0ZURhdGEgb3BlcmF0aW9ucyBoYXZlIHRoZSBzYW1lIG5hbWVzIGFzIG90aGVyIFdlYiBTUFNlcnZpY2VzQ29yZSBvcGVyYXRpb25zLiBUbyBtYWtlIHRoZW0gZWFzeSB0byBjYWxsIGFuZCB1bmlxdWUsIEknbSB1c2luZ1xuICAgICAgICAvLyB0aGUgU2l0ZURhdGEgcHJlZml4IG9uIHRoZWlyIG5hbWVzLiBUaGlzIGZ1bmN0aW9uIHJlcGxhY2VzIHRoYXQgbmFtZSB3aXRoIHRoZSByaWdodCBuYW1lIGluIHRoZSBzb2FwRW52ZWxvcGUuXG4gICAgICAgIGZ1bmN0aW9uIHNpdGVEYXRhRml4U09BUEVudmVsb3BlKFNPQVBFbnZlbG9wZSwgc2l0ZURhdGFPcGVyYXRpb24pIHtcbiAgICAgICAgICAgIGNvbnN0IHNpdGVEYXRhT3AgPSBzaXRlRGF0YU9wZXJhdGlvbi5zdWJzdHJpbmcoOCk7XG4gICAgICAgICAgICBTT0FQRW52ZWxvcGUub3BoZWFkZXIgPSBTT0FQRW52ZWxvcGUub3BoZWFkZXIucmVwbGFjZShzaXRlRGF0YU9wZXJhdGlvbiwgc2l0ZURhdGFPcCk7XG4gICAgICAgICAgICBTT0FQRW52ZWxvcGUub3Bmb290ZXIgPSBTT0FQRW52ZWxvcGUub3Bmb290ZXIucmVwbGFjZShzaXRlRGF0YU9wZXJhdGlvbiwgc2l0ZURhdGFPcCk7XG4gICAgICAgICAgICByZXR1cm4gU09BUEVudmVsb3BlO1xuICAgICAgICB9IC8vIEVuZCBvZiBmdW5jdGlvbiBzaXRlRGF0YUZpeFNPQVBFbnZlbG9wZVxuXG5cbiAgICB9IC8vIEVuZCBTUFNlcnZpY2VzLmdlbmVyYXRlWE1MQ29tcG9uZW50c1xuXG5cbiAgICAvLy8vLy8gUFJJVkFURSBGVU5DVElPTlMgLy8vLy8vLy9cbiAgICAvLyBXcmFwIGFuIFhNTCBub2RlIChuKSBhcm91bmQgYSB2YWx1ZSAodilcbiAgICBmdW5jdGlvbiB3cmFwTm9kZShuLCB2KSB7XG4gICAgICAgIGNvbnN0IHRoaXNWYWx1ZSA9IHR5cGVvZiB2ICE9PSAndW5kZWZpbmVkJyA/IHYgOiAnJztcbiAgICAgICAgcmV0dXJuICc8JyArIG4gKyAnPicgKyB0aGlzVmFsdWUgKyAnPC8nICsgbiArICc+JztcbiAgICB9XG5cbiAgICAvLyBHZXQgdGhlIGZpbGVuYW1lIGZyb20gdGhlIGZ1bGwgVVJMXG4gICAgZnVuY3Rpb24gZmlsZU5hbWUocykge1xuICAgICAgICByZXR1cm4gcy5zdWJzdHJpbmcocy5sYXN0SW5kZXhPZignLycpICsgMSwgcy5sZW5ndGgpO1xuICAgIH1cblxuICAgIC8qIFRha2VuIGZyb20gaHR0cDovL2RyYWNvYmx1ZS5uZXQvZGV2L2VuY29kZWRlY29kZS1zcGVjaWFsLXhtbC1jaGFyYWN0ZXJzLWluLWphdmFzY3JpcHQvMTU1LyAqL1xuICAgIGNvbnN0IHhtbF9zcGVjaWFsX3RvX2VzY2FwZWRfb25lX21hcCA9IHtcbiAgICAgICAgJyYnOiAnJmFtcDsnLFxuICAgICAgICAnXCInOiAnJnF1b3Q7JyxcbiAgICAgICAgJzwnOiAnJmx0OycsXG4gICAgICAgICc+JzogJyZndDsnXG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGVuY29kZVhtbChzdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKC8oW1xcJlwiPD5dKS9nLCBmdW5jdGlvbiAoc3RyLCBpdGVtKSB7XG4gICAgICAgICAgICByZXR1cm4geG1sX3NwZWNpYWxfdG9fZXNjYXBlZF9vbmVfbWFwW2l0ZW1dO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKiBUYWtlbiBmcm9tIGh0dHA6Ly9kcmFjb2JsdWUubmV0L2Rldi9lbmNvZGVkZWNvZGUtc3BlY2lhbC14bWwtY2hhcmFjdGVycy1pbi1qYXZhc2NyaXB0LzE1NS8gKi9cbiAgICAvLyBFc2NhcGUgY29sdW1uIHZhbHVlc1xuICAgIGZ1bmN0aW9uIGVzY2FwZUNvbHVtblZhbHVlKHMpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBzID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIHMucmVwbGFjZSgvJig/IVthLXpBLVpdezEsOH07KS9nLCAnJmFtcDsnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBzO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gSmFtZXMgUGFkb2xzZXkncyBSZWdleCBTZWxlY3RvciBmb3IgalF1ZXJ5IGh0dHA6Ly9qYW1lcy5wYWRvbHNleS5jb20vamF2YXNjcmlwdC9yZWdleC1zZWxlY3Rvci1mb3ItanF1ZXJ5L1xuICAgIC8vIGpRdWVyeS5leHByWyc6J10ucmVnZXggPSBmdW5jdGlvbiAoZWxlbSwgaW5kZXgsIG1hdGNoKSB7XG4gICAgLy8gICAgIHZhciBtYXRjaFBhcmFtcyA9IG1hdGNoWzNdLnNwbGl0KCcsJyksXG4gICAgLy8gICAgICAgICB2YWxpZExhYmVscyA9IC9eKGRhdGF8Y3NzKTovLFxuICAgIC8vICAgICAgICAgYXR0ciA9IHtcbiAgICAvLyAgICAgICAgICAgICBtZXRob2Q6IG1hdGNoUGFyYW1zWzBdLm1hdGNoKHZhbGlkTGFiZWxzKSA/XG4gICAgLy8gICAgICAgICAgICAgICAgIG1hdGNoUGFyYW1zWzBdLnNwbGl0KCc6JylbMF0gOiAnYXR0cicsXG4gICAgLy8gICAgICAgICAgICAgcHJvcGVydHk6IG1hdGNoUGFyYW1zLnNoaWZ0KCkucmVwbGFjZSh2YWxpZExhYmVscywgJycpXG4gICAgLy8gICAgICAgICB9LFxuICAgIC8vICAgICAgICAgcmVnZXhGbGFncyA9ICdpZycsXG4gICAgLy8gICAgICAgICByZWdleCA9IG5ldyBSZWdFeHAobWF0Y2hQYXJhbXMuam9pbignJykucmVwbGFjZSgvXlxccyt8XFxzKyQvZywgJycpLCByZWdleEZsYWdzKTtcbiAgICAvLyAgICAgY29uc3QgbWV0aG9kID0gPGFueT4galF1ZXJ5KGVsZW0pW2F0dHIubWV0aG9kXTtcbiAgICAvLyAgICAgcmV0dXJuIHJlZ2V4LnRlc3QobWV0aG9kKGF0dHIucHJvcGVydHkpKTtcbiAgICAvLyB9O1xuXG4gICAgcmV0dXJuIFNQU2VydmljZXM7XG5cbn1cblxuXG5cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlciEuL3NyYy9zZXJ2aWNlcy9hcFNQU2VydmljZXMudHMiLCJjb25zdCBTQ0hFTUFTaGFyZVBvaW50ID0gXCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3NoYXJlcG9pbnRcIjtcbmNvbnN0IHNlcnZpY2VEZWZpbml0aW9ucyA9IHtcbiAgICBBbGVydHM6IHtcbiAgICAgICAgYWN0aW9uOiBTQ0hFTUFTaGFyZVBvaW50ICsgJy9zb2FwLzIwMDIvMS9hbGVydHMvJyxcbiAgICAgICAgeG1sbnM6IFNDSEVNQVNoYXJlUG9pbnQgKyAnL3NvYXAvMjAwMi8xL2FsZXJ0cy8nXG4gICAgfSxcbiAgICBNZWV0aW5nczoge1xuICAgICAgICBhY3Rpb246IFNDSEVNQVNoYXJlUG9pbnQgKyAnL3NvYXAvbWVldGluZ3MvJyxcbiAgICAgICAgeG1sbnM6IFNDSEVNQVNoYXJlUG9pbnQgKyAnL3NvYXAvbWVldGluZ3MvJ1xuICAgIH0sXG4gICAgUGVybWlzc2lvbnM6IHtcbiAgICAgICAgYWN0aW9uOiBTQ0hFTUFTaGFyZVBvaW50ICsgJy9zb2FwL2RpcmVjdG9yeS8nLFxuICAgICAgICB4bWxuczogU0NIRU1BU2hhcmVQb2ludCArICcvc29hcC9kaXJlY3RvcnkvJ1xuICAgIH0sXG4gICAgUHVibGlzaGVkTGlua3NTZXJ2aWNlOiB7XG4gICAgICAgIGFjdGlvbjogJ2h0dHA6Ly9taWNyb3NvZnQuY29tL3dlYnNlcnZpY2VzL1NoYXJlUG9pbnRQb3J0YWxTZXJ2ZXIvUHVibGlzaGVkTGlua3NTZXJ2aWNlLycsXG4gICAgICAgIHhtbG5zOiAnaHR0cDovL21pY3Jvc29mdC5jb20vd2Vic2VydmljZXMvU2hhcmVQb2ludFBvcnRhbFNlcnZlci9QdWJsaXNoZWRMaW5rc1NlcnZpY2UvJ1xuICAgIH0sXG4gICAgU2VhcmNoOiB7XG4gICAgICAgIGFjdGlvbjogJ3VybjpNaWNyb3NvZnQuU2VhcmNoLycsXG4gICAgICAgIHhtbG5zOiAndXJuOk1pY3Jvc29mdC5TZWFyY2gnXG4gICAgfSxcbiAgICBTaGFyZVBvaW50RGlhZ25vc3RpY3M6IHtcbiAgICAgICAgYWN0aW9uOiAnaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS9zaGFyZXBvaW50L2RpYWdub3N0aWNzLycsXG4gICAgICAgIHhtbG5zOiBTQ0hFTUFTaGFyZVBvaW50ICsgJy9kaWFnbm9zdGljcy8nXG4gICAgfSxcbiAgICBTb2NpYWxEYXRhU2VydmljZToge1xuICAgICAgICBhY3Rpb246ICdodHRwOi8vbWljcm9zb2Z0LmNvbS93ZWJzZXJ2aWNlcy9TaGFyZVBvaW50UG9ydGFsU2VydmVyL1NvY2lhbERhdGFTZXJ2aWNlLycsXG4gICAgICAgIHhtbG5zOiAnaHR0cDovL21pY3Jvc29mdC5jb20vd2Vic2VydmljZXMvU2hhcmVQb2ludFBvcnRhbFNlcnZlci9Tb2NpYWxEYXRhU2VydmljZSdcbiAgICB9LFxuICAgIFNwZWxsQ2hlY2s6IHtcbiAgICAgICAgYWN0aW9uOiAnaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS9zaGFyZXBvaW50L3B1Ymxpc2hpbmcvc3BlbGxpbmcvU3BlbGxDaGVjaycsXG4gICAgICAgIHhtbG5zOiAnaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS9zaGFyZXBvaW50L3B1Ymxpc2hpbmcvc3BlbGxpbmcvJ1xuICAgIH0sXG4gICAgVGF4b25vbXlDbGllbnRTZXJ2aWNlOiB7XG4gICAgICAgIGFjdGlvbjogU0NIRU1BU2hhcmVQb2ludCArICcvdGF4b25vbXkvc29hcC8nLFxuICAgICAgICB4bWxuczogU0NIRU1BU2hhcmVQb2ludCArICcvdGF4b25vbXkvc29hcC8nXG4gICAgfSxcbiAgICB1c2VyZ3JvdXA6IHtcbiAgICAgICAgYWN0aW9uOiBTQ0hFTUFTaGFyZVBvaW50ICsgJy9zb2FwL2RpcmVjdG9yeS8nLFxuICAgICAgICB4bWxuczogU0NIRU1BU2hhcmVQb2ludCArICcvc29hcC9kaXJlY3RvcnkvJ1xuICAgIH0sXG4gICAgVXNlclByb2ZpbGVTZXJ2aWNlOiB7XG4gICAgICAgIGFjdGlvbjogJ2h0dHA6Ly9taWNyb3NvZnQuY29tL3dlYnNlcnZpY2VzL1NoYXJlUG9pbnRQb3J0YWxTZXJ2ZXIvVXNlclByb2ZpbGVTZXJ2aWNlLycsXG4gICAgICAgIHhtbG5zOiAnaHR0cDovL21pY3Jvc29mdC5jb20vd2Vic2VydmljZXMvU2hhcmVQb2ludFBvcnRhbFNlcnZlci9Vc2VyUHJvZmlsZVNlcnZpY2UnXG4gICAgfSxcbiAgICBXZWJQYXJ0UGFnZXM6IHtcbiAgICAgICAgYWN0aW9uOiAnaHR0cDovL21pY3Jvc29mdC5jb20vc2hhcmVwb2ludC93ZWJwYXJ0cGFnZXMvJyxcbiAgICAgICAgeG1sbnM6ICdodHRwOi8vbWljcm9zb2Z0LmNvbS9zaGFyZXBvaW50L3dlYnBhcnRwYWdlcydcbiAgICB9LFxuICAgIFdvcmtmbG93OiB7XG4gICAgICAgIGFjdGlvbjogU0NIRU1BU2hhcmVQb2ludCArICcvc29hcC93b3JrZmxvdy8nLFxuICAgICAgICB4bWxuczogU0NIRU1BU2hhcmVQb2ludCArICcvc29hcC93b3JrZmxvdy8nXG4gICAgfVxufTtcblxuZXhwb3J0IGNsYXNzIFdlYlNlcnZpY2VTZXJ2aWNlIHtcbiAgICBhY3Rpb24oc2VydmljZSkge1xuICAgICAgICByZXR1cm4gc2VydmljZURlZmluaXRpb25zW3NlcnZpY2VdID8gc2VydmljZURlZmluaXRpb25zW3NlcnZpY2VdLmFjdGlvbiA6IFNDSEVNQVNoYXJlUG9pbnQgKyAnL3NvYXAvJztcbiAgICB9XG5cbiAgICB3ZWJTZXJ2aWNlcyA9IFtcbiAgICAgICAgJ0FsZXJ0cycsXG4gICAgICAgICdBdXRoZW50aWNhdGlvbicsXG4gICAgICAgICdDb3B5JyxcbiAgICAgICAgJ0Zvcm1zJyxcbiAgICAgICAgJ0xpc3RzJyxcbiAgICAgICAgJ01lZXRpbmdzJyxcbiAgICAgICAgJ1Blb3BsZScsXG4gICAgICAgICdQZXJtaXNzaW9ucycsXG4gICAgICAgICdQdWJsaXNoZWRMaW5rc1NlcnZpY2UnLFxuICAgICAgICAnU2VhcmNoJyxcbiAgICAgICAgJ1NoYXJlUG9pbnREaWFnbm9zdGljcycsXG4gICAgICAgICdTaXRlRGF0YScsXG4gICAgICAgICdTaXRlcycsXG4gICAgICAgICdTb2NpYWxEYXRhU2VydmljZScsXG4gICAgICAgICdTcGVsbENoZWNrJyxcbiAgICAgICAgJ1RheG9ub215Q2xpZW50U2VydmljZScsXG4gICAgICAgICd1c2VyZ3JvdXAnLFxuICAgICAgICAnVXNlclByb2ZpbGVTZXJ2aWNlJyxcbiAgICAgICAgJ1ZlcnNpb25zJyxcbiAgICAgICAgJ1ZpZXdzJyxcbiAgICAgICAgJ1dlYlBhcnRQYWdlcycsXG4gICAgICAgICdXZWJzJyxcbiAgICAgICAgJ1dvcmtmbG93J1xuICAgIF07XG5cbiAgICB4bWxucyhzZXJ2aWNlKSB7XG4gICAgICAgIHJldHVybiBzZXJ2aWNlRGVmaW5pdGlvbnNbc2VydmljZV0gPyBzZXJ2aWNlRGVmaW5pdGlvbnNbc2VydmljZV0ueG1sbnMgOiBTQ0hFTUFTaGFyZVBvaW50ICsgJy9zb2FwLyc7XG4gICAgfVxufVxuXG5cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlciEuL3NyYy9zZXJ2aWNlcy9hcFdlYlNlcnZpY2VTZXJ2aWNlLnRzIiwiaW1wb3J0IHthdXRvfSBmcm9tICdhbmd1bGFyJztcbmltcG9ydCAqIGFzIF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCB7RGVjb2RlU2VydmljZX0gZnJvbSAnLi9hcERlY29kZVNlcnZpY2UnO1xuXG5cbi8qKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lIGFwWE1MVG9KU09OU2VydmljZVxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGlzIGZ1bmN0aW9uIGNvbnZlcnRzIGFuIFhNTCBub2RlIHNldCBpbnRvIGFuIGFycmF5IG9mIEpTIG9iamVjdHMuXG4gKiBUaGlzIGlzIGVzc2VudGlhbGx5IE1hcmMgQW5kZXJzb24ncyBbU1BTZXJ2aWNlc10oaHR0cDovL3Nwc2VydmljZXMuY29kZXBsZXguY29tLykgU1BYbWxUT0pzb24gZnVuY3Rpb24gd3JhcHBlZCBpblxuICogYW4gQW5ndWxhciBzZXJ2aWNlIHRvIG1ha2UgaXQgbW9yZSBtb2R1bGFyIGFuZCBhbGxvdyBmb3IgdGVzdGluZy5cbiAqXG4gKi9cbmV4cG9ydCBjbGFzcyBYTUxUb0pTT05TZXJ2aWNlIHtcbiAgICBzdGF0aWMgJGluamVjdCA9IFsnJGluamVjdG9yJ107XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlICRpbmplY3RvcjogYXV0by5JSW5qZWN0b3JTZXJ2aWNlKSB7XG5cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBhcFhNTFRvSlNPTlNlcnZpY2UuZmlsdGVyWE1MTm9kZVNlcnZpY2VcbiAgICAgKiBAbWV0aG9kT2YgYXBYTUxUb0pTT05TZXJ2aWNlXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSB4bWxPYmplY3QgT2JqZWN0IHRvIHBhcnNlLCBjYW4gZWl0aGVyIGJlIGEgalF1ZXJ5IG9iamVjdCBvciBhbiB4bWwgcmVzcG9uc2UuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgTmFtZSBvZiBub2RlIHdlJ3JlIGxvb2tpbmcgZm9yLlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFRoaXMgbWV0aG9kIGZvciBmaW5kaW5nIHNwZWNpZmljIG5vZGVzIGluIHRoZSByZXR1cm5lZCBYTUwgd2FzIGRldmVsb3BlZCBieSBTdGV2ZSBXb3JrbWFuLiBTZWUgaGlzIGJsb2cgcG9zdFxuICAgICAqIGh0dHA6Ly93d3cuc3RldmV3b3JrbWFuLmNvbS9odG1sNS0yL2phdmFzY3JpcHQvMjAxMS9pbXByb3ZpbmctamF2YXNjcmlwdC14bWwtbm9kZS1maW5kaW5nLXBlcmZvcm1hbmNlLWJ5LTIwMDAvXG4gICAgICogZm9yIHBlcmZvcm1hbmNlIGRldGFpbHMuXG4gICAgICogQHJldHVybnMge05vZGVMaXN0fSBMaXN0IG9mIGZpbHRlcmVkIG5vZGVzLlxuICAgICAqL1xuICAgIGZpbHRlck5vZGVzKHhtbE9iamVjdDogRWxlbWVudCwgbmFtZTogc3RyaW5nKTogTm9kZUxpc3Qge1xuXG4gICAgICAgIGlmIChuYW1lLmluZGV4T2YoJzonKSA+IC0xKSB7XG4gICAgICAgICAgICAvLyBTb21ldGhpbmcgbGlrZSB6OnJvdyBzbyBuZWVkIHRvIGZpbHRlciBmb3IgbmFtZXNwYWNlXG4gICAgICAgICAgICBjb25zdCB0YWdOYW1lID0gbmFtZS5zcGxpdCgnOicpWzFdOyAvLyBcInJvd1wiXG4gICAgICAgICAgICByZXR1cm4geG1sT2JqZWN0LmdldEVsZW1lbnRzQnlUYWdOYW1lTlMoJyonLCB0YWdOYW1lKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIE5vcm1hbCB0YWdcbiAgICAgICAgICAgIHJldHVybiB4bWxPYmplY3QuZ2V0RWxlbWVudHNCeVRhZ05hbWUobmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ29udmVydCB0byBqUXVlcnkgb2JqZWN0IGlmIG5vdCBhbHJlYWR5XG4gICAgICAgIC8vIHZhciBqUXVlcnlPYmplY3Q6IEpRdWVyeSA9IHhtbE9iamVjdCBpbnN0YW5jZW9mIGpRdWVyeSA/IHhtbE9iamVjdCA6IGpRdWVyeSh4bWxPYmplY3QpO1xuXG4gICAgICAgIC8vIHJldHVybiBqUXVlcnlPYmplY3QuZmluZCgnKicpLmZpbHRlcihmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIHJldHVybiB4bWxPYmplY3QuZ2V0RWxlbWVudHNCeVRhZ05hbWUobmFtZSk7XG4gICAgICAgIC8vIHJldHVybiB4bWxPYmplY3QuZmluZCgnKicpLmZpbHRlcihmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vICAgICAvLyBJZiBqUXVlcnkgcGFyc2VkIGFzIEhUTUwgdGhlIG5vZGVOYW1lIHdpbGwgYmUgaW4gYWxsIGNhcHMgYW5kIHdlIG5lZWQgbG93ZXIgY2FzZVxuICAgICAgICAvLyAgICAgcmV0dXJuIHRoaXMubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gbmFtZTtcbiAgICAgICAgLy8gfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgYXBYTUxUb0pTT05TZXJ2aWNlLnBhcnNlXG4gICAgICogQG1ldGhvZE9mIGFwWE1MVG9KU09OU2VydmljZVxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0geG1sTm9kZVNldCBPYmplY3QgdG8gcGFyc2UsIGNhbiBlaXRoZXIgYmUgYSBqUXVlcnkgb2JqZWN0IG9yIGFuIHhtbCByZXNwb25zZS5cbiAgICAgKiBAcGFyYW0ge0lQYXJzZU9wdGlvbnN9IFtvcHRpb25zXSBPdmVycmlkZSBkZWZhdWx0cy5cbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBUaGlzIG1ldGhvZCBmb3IgZmluZGluZyBzcGVjaWZpYyBub2RlcyBpbiB0aGUgcmV0dXJuZWQgWE1MIHdhcyBkZXZlbG9wZWQgYnkgU3RldmUgV29ya21hbi4gU2VlIGhpcyBibG9nIHBvc3RcbiAgICAgKiBodHRwOi8vd3d3LnN0ZXZld29ya21hbi5jb20vaHRtbDUtMi9qYXZhc2NyaXB0LzIwMTEvaW1wcm92aW5nLWphdmFzY3JpcHQteG1sLW5vZGUtZmluZGluZy1wZXJmb3JtYW5jZS1ieS0yMDAwL1xuICAgICAqIGZvciBwZXJmb3JtYW5jZSBkZXRhaWxzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3RbXX0gT2JqZWN0IHdpdGggalF1ZXJ5IHZhbHVlcy5cbiAgICAgKi9cbiAgICBwYXJzZSh4bWxOb2RlU2V0OiBOb2RlTGlzdCwgb3B0aW9ucz86IElQYXJzZU9wdGlvbnMpOiBPYmplY3RbXSB7XG4gICAgICAgIC8vTmVlZCB0byB1c2UgaW5qZWN0b3IgYmVjYXVzZSBhcERlY29kZSBzZXJ2aWNlIGFsc28gcmVsaWVzIG9uIHRoaXMgc2VydmljZSBzbyB3ZSdkIG90aGVyd2lzZSBoYXZlIGEgY2lyY3VsYXIgZGVwZW5kZW5jeS5cbiAgICAgICAgdmFyIGFwRGVjb2RlU2VydmljZSA9IHRoaXMuJGluamVjdG9yLmdldDxEZWNvZGVTZXJ2aWNlPignYXBEZWNvZGVTZXJ2aWNlJyk7XG4gICAgICAgIHZhciBkZWZhdWx0cyA9IHtcbiAgICAgICAgICAgIGluY2x1ZGVBbGxBdHRyczogZmFsc2UsIC8vIElmIHRydWUsIHJldHVybiBhbGwgYXR0cmlidXRlcywgcmVnYXJkbGVzcyB3aGV0aGVyIHRoZXkgYXJlIGluIHRoZSBtYXBwaW5nXG4gICAgICAgICAgICBtYXBwaW5nOiB7fSwgLy8gY29sdW1uTmFtZTogbWFwcGVkTmFtZTogXCJtYXBwZWROYW1lXCIsIG9iamVjdFR5cGU6IFwib2JqZWN0VHlwZVwiXG4gICAgICAgICAgICByZW1vdmVPd3M6IHRydWUsIC8vIFNwZWNpZmljYWxseSBmb3IgR2V0TGlzdEl0ZW1zLCBpZiB0cnVlLCB0aGUgbGVhZGluZyBvd3NfIHdpbGwgYmUgc3RyaXBwZWQgb2ZmIHRoZSBmaWVsZCBuYW1lXG4gICAgICAgICAgICBzcGFyc2U6IGZhbHNlIC8vIElmIHRydWUsIGVtcHR5IChcIlwiKSB2YWx1ZXMgd2lsbCBub3QgYmUgcmV0dXJuZWRcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgb3B0czogSVBhcnNlT3B0aW9ucyA9IF8uYXNzaWduKHt9LCBkZWZhdWx0cywgb3B0aW9ucyk7XG5cbiAgICAgICAgdmFyIGpzb25PYmplY3RBcnJheSA9IFtdO1xuXG4gICAgICAgIF8uZWFjaCh4bWxOb2RlU2V0LCAobm9kZTogRWxlbWVudCB8IGFueSkgPT4ge1xuICAgICAgICAgICAgdmFyIHJvdyA9IHt9O1xuICAgICAgICAgICAgdmFyIHJvd0F0dHJzID0gbm9kZS5hdHRyaWJ1dGVzO1xuXG4gICAgICAgICAgICBpZiAoIW9wdHMuc3BhcnNlKSB7XG4gICAgICAgICAgICAgICAgLy8gQnJpbmcgYmFjayBhbGwgbWFwcGVkIGNvbHVtbnMsIGV2ZW4gdGhvc2Ugd2l0aCBubyB2YWx1ZVxuICAgICAgICAgICAgICAgIF8uZWFjaChvcHRzLm1hcHBpbmcsIChjb2x1bW4pID0+IHJvd1tjb2x1bW4ubWFwcGVkTmFtZV0gPSAnJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIF8uZWFjaChyb3dBdHRycywgKHJvd0F0dHJpYnV0ZSkgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBhdHRyaWJ1dGVOYW1lID0gcm93QXR0cmlidXRlLm5hbWU7XG4gICAgICAgICAgICAgICAgdmFyIGNvbHVtbk1hcHBpbmcgPSBvcHRzLm1hcHBpbmdbYXR0cmlidXRlTmFtZV07XG4gICAgICAgICAgICAgICAgdmFyIG9iamVjdE5hbWUgPSB0eXBlb2YgY29sdW1uTWFwcGluZyAhPT0gXCJ1bmRlZmluZWRcIiA/IGNvbHVtbk1hcHBpbmcubWFwcGVkTmFtZSA6IG9wdHMucmVtb3ZlT3dzID8gYXR0cmlidXRlTmFtZS5zcGxpdChcIm93c19cIilbMV0gOiBhdHRyaWJ1dGVOYW1lO1xuICAgICAgICAgICAgICAgIHZhciBvYmplY3RUeXBlID0gdHlwZW9mIGNvbHVtbk1hcHBpbmcgIT09IFwidW5kZWZpbmVkXCIgPyBjb2x1bW5NYXBwaW5nLm9iamVjdFR5cGUgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgaWYgKG9wdHMuaW5jbHVkZUFsbEF0dHJzIHx8IGNvbHVtbk1hcHBpbmcgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICByb3dbb2JqZWN0TmFtZV0gPSBhcERlY29kZVNlcnZpY2UucGFyc2VTdHJpbmdWYWx1ZShyb3dBdHRyaWJ1dGUudmFsdWUsIG9iamVjdFR5cGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBQdXNoIHRoaXMgaXRlbSBpbnRvIHRoZSBKU09OIE9iamVjdFxuICAgICAgICAgICAganNvbk9iamVjdEFycmF5LnB1c2gocm93KTtcblxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBSZXR1cm4gdGhlIEpTT04gb2JqZWN0XG4gICAgICAgIHJldHVybiBqc29uT2JqZWN0QXJyYXk7XG5cbiAgICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVBhcnNlT3B0aW9ucyB7XG4gICAgaW5jbHVkZUFsbEF0dHJzPzogYm9vbGVhbjtcbiAgICBtYXBwaW5nPzogT2JqZWN0O1xuICAgIHJlbW92ZU93cz86IGJvb2xlYW47XG4gICAgc3BhcnNlPzogYm9vbGVhbjtcbn1cblxuXG5cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlciEuL3NyYy9zZXJ2aWNlcy9hcFhNTFRvSlNPTlNlcnZpY2UudHMiLCJpbXBvcnQgKiBhcyBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQge0ZpZWxkRmFjdG9yeSwgSUZpZWxkQ29uZmlndXJhdGlvbk9iamVjdCwgSUZpZWxkRGVmaW5pdGlvbn0gZnJvbSAnLi9hcEZpZWxkRmFjdG9yeSc7XG4vLyBpbXBvcnQge0lBUENvbmZpZ30gZnJvbSAnLi4vY29uc3RhbnRzL2FwQ29uZmlnJztcbmltcG9ydCB7SVVzZXJQZXJtaXNzaW9uc09iamVjdH0gZnJvbSAnLi4vY29uc3RhbnRzL2FwUGVybWlzc2lvbk9iamVjdCc7XG5pbXBvcnQge0RlZmF1bHRGaWVsZHN9IGZyb20gJy4uL2NvbnN0YW50cy9hcERlZmF1bHRGaWVsZHMnO1xuaW1wb3J0IHtMaXN0SXRlbX0gZnJvbSAnLi9hcExpc3RJdGVtRmFjdG9yeSc7XG5pbXBvcnQgeyRBUF9JTkpFQ1RPUiwgRU5WfSBmcm9tICcuLi9hcHAubW9kdWxlJztcblxuLy8gdmFyIGFwRGVmYXVsdEZpZWxkcywgYXBGaWVsZEZhY3Rvcnk6IEZpZWxkRmFjdG9yeTtcbi8vIHZhciBhcENvbmZpZzogSUFQQ29uZmlnLCBhcERlZmF1bHRGaWVsZHMsIGFwRmllbGRGYWN0b3J5OiBGaWVsZEZhY3Rvcnk7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVVuaW5zdGFudGlhdGVkTGlzdCB7XG4gICAgY3VzdG9tRmllbGRzOiBJRmllbGRDb25maWd1cmF0aW9uT2JqZWN0W107XG4gICAgZW52aXJvbm1lbnRzPzoge1trZXk6IHN0cmluZ106IHN0cmluZ307XG4gICAgZ3VpZD86IHN0cmluZztcbiAgICB0aXRsZTogc3RyaW5nO1xuICAgIHZpZXdGaWVsZHM/OiBzdHJpbmc7XG4gICAgd2ViVVJMPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElMaXN0RmllbGRNYXBwaW5nIHtcbiAgICBba2V5OiBzdHJpbmddOiB7XG4gICAgICAgIG1hcHBlZE5hbWU6IHN0cmluZztcbiAgICAgICAgb2JqZWN0VHlwZTogc3RyaW5nO1xuICAgIH1cbn1cblxuLyoqXG4gKiBYTUwgTGlzdCBPYmplY3QgZ2V0cyBjb252ZXJ0ZWQgaW50byBKU09OIG9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllcy5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJWE1MTGlzdCB7XG4gICAgQWxsb3dEZWxldGlvbj86IHN0cmluZztcbiAgICBBbGxvd011bHRpUmVzcG9uc2VzPzogc3RyaW5nO1xuICAgIEFub255bW91c1Blcm1NYXNrPzogc3RyaW5nO1xuICAgIEF1dGhvcj86IHN0cmluZztcbiAgICBCYXNlVHlwZT86IHN0cmluZztcbiAgICBDcmVhdGVkPzogc3RyaW5nO1xuICAgIERlZmF1bHRWaWV3VXJsPzogc3RyaW5nO1xuICAgIERlc2NyaXB0aW9uPzogc3RyaW5nO1xuICAgIERpcmVjdGlvbj86IHN0cmluZztcbiAgICBEb2NUZW1wbGF0ZVVybD86IHN0cmluZztcbiAgICBFbWFpbEFsaWFzPzogc3RyaW5nO1xuICAgIEVuYWJsZUF0dGFjaG1lbnRzPzogc3RyaW5nO1xuICAgIEVuYWJsZUZvbGRlckNyZWF0aW9uPzogc3RyaW5nO1xuICAgIEVuYWJsZU1pbm9yVmVyc2lvbj86IHN0cmluZztcbiAgICBFbmFibGVNb2RlcmF0aW9uPzogc3RyaW5nO1xuICAgIEVuYWJsZVBlb3BsZVNlbGVjdG9yPzogc3RyaW5nO1xuICAgIEVuYWJsZVJlc291cmNlU2VsZWN0b3I/OiBzdHJpbmc7XG4gICAgRW5hYmxlVmVyc2lvbmluZz86IHN0cmluZztcbiAgICBFbmZvcmNlRGF0YVZhbGlkYXRpb24/OiBzdHJpbmc7XG4gICAgRXZlbnRTaW5rQXNzZW1ibHk/OiBzdHJpbmc7XG4gICAgRXZlbnRTaW5rQ2xhc3M/OiBzdHJpbmc7XG4gICAgRXZlbnRTaW5rRGF0YT86IHN0cmluZztcbiAgICBFeGNsdWRlRnJvbU9mZmxpbmVDbGllbnQ/OiBzdHJpbmc7XG4gICAgRmVhdHVyZUlkPzogc3RyaW5nO1xuICAgIEZsYWdzPzogc3RyaW5nO1xuICAgIEhhc0V4dGVybmFsRGF0YVNvdXJjZT86IHN0cmluZztcbiAgICBIYXNSZWxhdGVkTGlzdHM/OiBzdHJpbmc7XG4gICAgSGFzVW5pcXVlU2NvcGVzPzogc3RyaW5nO1xuICAgIEhpZGRlbj86IHN0cmluZztcbiAgICBJRD86IHN0cmluZztcbiAgICBJbWFnZVVybD86IHN0cmluZztcbiAgICBJcm1FbmFibGVkPzogc3RyaW5nO1xuICAgIElzQXBwbGljYXRpb25MaXN0Pzogc3RyaW5nO1xuICAgIEl0ZW1Db3VudD86IHN0cmluZztcbiAgICBMYXN0RGVsZXRlZD86IHN0cmluZztcbiAgICBNYWpvclZlcnNpb25MaW1pdD86IHN0cmluZztcbiAgICBNYWpvcldpdGhNaW5vclZlcnNpb25zTGltaXQ/OiBzdHJpbmc7XG4gICAgTWF4SXRlbXNQZXJUaHJvdHRsZWRPcGVyYXRpb24/OiBzdHJpbmc7XG4gICAgTW9kaWZpZWQ/OiBzdHJpbmc7XG4gICAgTXVsdGlwbGVEYXRhTGlzdD86IHN0cmluZztcbiAgICBOYW1lPzogc3RyaW5nO1xuICAgIE5vVGhyb3R0bGVMaXN0T3BlcmF0aW9ucz86IHN0cmluZztcbiAgICBPcmRlcmVkPzogc3RyaW5nO1xuICAgIFByZXNlcnZlRW1wdHlWYWx1ZXM/OiBzdHJpbmc7XG4gICAgUmVhZFNlY3VyaXR5Pzogc3RyaW5nO1xuICAgIFJlcXVpcmVDaGVja291dD86IHN0cmluZztcbiAgICBSb290Rm9sZGVyPzogc3RyaW5nO1xuICAgIFNjb3BlSWQ/OiBzdHJpbmc7XG4gICAgU2VuZFRvTG9jYXRpb24/OiBzdHJpbmc7XG4gICAgU2VydmVyVGVtcGxhdGU/OiBzdHJpbmc7XG4gICAgU2hvd1VzZXI/OiBzdHJpbmc7XG4gICAgU3RyaWN0VHlwZUNvZXJjaW9uPzogc3RyaW5nO1xuICAgIFRocm90dGxlTGlzdE9wZXJhdGlvbnM/OiBzdHJpbmc7XG4gICAgVGh1bWJuYWlsU2l6ZT86IHN0cmluZztcbiAgICBUaXRsZT86IHN0cmluZztcbiAgICBWZXJzaW9uPzogc3RyaW5nO1xuICAgIFdlYkZ1bGxVcmw/OiBzdHJpbmc7XG4gICAgV2ViSWQ/OiBzdHJpbmc7XG4gICAgV2ViSW1hZ2VIZWlnaHQ/OiBzdHJpbmc7XG4gICAgV2ViSW1hZ2VXaWR0aD86IHN0cmluZztcbiAgICBXb3JrRmxvd0lkPzogc3RyaW5nO1xuICAgIFdyaXRlU2VjdXJpdHk/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUxpc3QgZXh0ZW5kcyBJVW5pbnN0YW50aWF0ZWRMaXN0LCBJWE1MTGlzdCB7XG4gICAgY3VzdG9tRmllbGRzOiBJRmllbGREZWZpbml0aW9uW107XG4gICAgZW52aXJvbm1lbnRzOiB7W2tleTogc3RyaW5nXTogc3RyaW5nfTtcbiAgICBmaWVsZHM6IElGaWVsZERlZmluaXRpb25bXTtcbiAgICBnZXRMaXN0SWQoKTogc3RyaW5nO1xuICAgIGd1aWQ6IHN0cmluZztcbiAgICBpZGVudGlmeVdlYlVSTCgpOiBzdHJpbmc7XG4gICAgaXNSZWFkeTogYm9vbGVhbjtcbiAgICBtYXBwaW5nPzogSUxpc3RGaWVsZE1hcHBpbmc7XG4gICAgcGVybWlzc2lvbnM/OiBJVXNlclBlcm1pc3Npb25zT2JqZWN0O1xuICAgIHRpdGxlOiBzdHJpbmc7XG4gICAgdmlld0ZpZWxkcz86IHN0cmluZztcbiAgICB3ZWJVUkw/OiBzdHJpbmc7XG59XG4vKipcbiAqIEBuZ2RvYyBvYmplY3RcbiAqIEBuYW1lIExpc3RcbiAqIEBkZXNjcmlwdGlvblxuICogTGlzdCBPYmplY3QgQ29uc3RydWN0b3IuICBUaGlzIGlzIGhhbmRsZWQgYXV0b21hdGljYWxseSB3aGVuIGNyZWF0aW5nIGEgbmV3IG1vZGVsIHNvIHRoZXJlIHNob3VsZG4ndCBiZVxuICogYW55IHJlYXNvbiB0byBtYW51YWxseSBjYWxsLlxuICogQHBhcmFtIHtvYmplY3R9IGNvbmZpZyBJbml0aWFsaXphdGlvbiBwYXJhbWV0ZXJzLlxuICogQHBhcmFtIHtzdHJpbmd9IGNvbmZpZy5ndWlkIFVuaXF1ZSBTaGFyZVBvaW50IEdVSUQgZm9yIHRoZSBsaXN0IHdlJ2xsIGJlIGJhc2luZyB0aGUgbW9kZWwgb25cbiAqIGV4Oid7NEQ3NDgzMUEtNDJCMi00NTU4LUE2N0YtQjBCNUFEQkMwRUFDfSdcbiAqIEBwYXJhbSB7c3RyaW5nfSBjb25maWcudGl0bGUgTWFwcyB0byB0aGUgb2ZmbGluZSBYTUwgZmlsZSBpbiBkZXYgZm9sZGVyIChubyBzcGFjZXMpXG4gKiBleDogJ1Byb2plY3RzTGlzdCcgc28gdGhlIG9mZmxpbmUgWE1MIGZpbGUgd291bGQgYmUgbG9jYXRlZCBhdCBhcENvbmZpZy5vZmZsaW5lWE1MICsgJ1Byb2plY3RzTGlzdC54bWwnXG4gKiBAcGFyYW0ge29iamVjdFtdfSBbY29uZmlnLmN1c3RvbUZpZWxkc10gTWFwcGluZyBvZiBTaGFyZVBvaW50IGZpZWxkIG5hbWVzIHRvIHRoZSBpbnRlcm5hbCBuYW1lcyB3ZSdsbCBiZSB1c2luZ1xuICogaW4gb3VyIGFwcGxpY2F0aW9uLiAgQWxzbyBjb250YWlucyBmaWVsZCB0eXBlLCByZWFkb25seSBhdHRyaWJ1dGUsIGFuZCBhbnkgb3RoZXIgbm9uLXN0YW5kYXJkIHNldHRpbmdzLlxuICogPHByZT5cbiAqIFtcbiAqICAge1xuICAgICAgICAgKiAgICAgICBzdGF0aWNOYW1lOiBcIlRpdGxlXCIsXG4gICAgICAgICAqICAgICAgIG9iamVjdFR5cGU6IFwiVGV4dFwiLFxuICAgICAgICAgKiAgICAgICBtYXBwZWROYW1lOiBcImxhc3ROYW1lXCIsXG4gICAgICAgICAqICAgICAgIHJlYWRPbmx5OmZhbHNlXG4gICAgICAgICAqICAgfSxcbiAqICAge1xuICAgICAgICAgKiAgICAgICBzdGF0aWNOYW1lOiBcIkZpcnN0TmFtZVwiLFxuICAgICAgICAgKiAgICAgICBvYmplY3RUeXBlOiBcIlRleHRcIixcbiAgICAgICAgICogICAgICAgbWFwcGVkTmFtZTogXCJmaXJzdE5hbWVcIixcbiAgICAgICAgICogICAgICAgcmVhZE9ubHk6ZmFsc2VcbiAgICAgICAgICogICB9LFxuICogICB7XG4gICAgICAgICAqICAgICAgIHN0YXRpY05hbWU6IFwiT3JnYW5pemF0aW9uXCIsXG4gICAgICAgICAqICAgICAgIG9iamVjdFR5cGU6IFwiTG9va3VwXCIsXG4gICAgICAgICAqICAgICAgIG1hcHBlZE5hbWU6IFwib3JnYW5pemF0aW9uXCIsXG4gICAgICAgICAqICAgICAgIHJlYWRPbmx5OmZhbHNlXG4gICAgICAgICAqICAgfSxcbiAqICAge1xuICAgICAgICAgKiAgICAgICBzdGF0aWNOYW1lOiBcIkFjY291bnRcIixcbiAgICAgICAgICogICAgICAgb2JqZWN0VHlwZTogXCJVc2VyXCIsXG4gICAgICAgICAqICAgICAgIG1hcHBlZE5hbWU6IFwiYWNjb3VudFwiLFxuICAgICAgICAgKiAgICAgICByZWFkT25seTpmYWxzZVxuICAgICAgICAgKiAgIH0sXG4gKiAgIHtcbiAgICAgICAgICogICAgICAgc3RhdGljTmFtZTogXCJEZXRhaWxzXCIsXG4gICAgICAgICAqICAgICAgIG9iamVjdFR5cGU6IFwiVGV4dFwiLFxuICAgICAgICAgKiAgICAgICBtYXBwZWROYW1lOiBcImRldGFpbHNcIixcbiAgICAgICAgICogICAgICAgcmVhZE9ubHk6ZmFsc2VcbiAgICAgICAgICogICB9XG4gKiBdXG4gKiA8L3ByZT5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSB2aWV3RmllbGRzIFhNTCBzdHJpbmcgZGVmaW5pbmcgZWFjaCBvZiB0aGUgZmllbGRzIHRvIGluY2x1ZGUgaW4gYWxsIENSVUQgcmVxdWVzdHMsXG4gKiBnZW5lcmF0ZWQgd2hlbiB0aGUgTW9kZWwuTGlzdCBpcyBpbnN0YW50aWF0ZWQuXG4gKiA8cHJlPlxuICogICAgIDxWaWV3RmllbGRzPi4uLjwvVmlld0ZpZWxkcz5cbiAqIDwvcHJlPlxuICogQHByb3BlcnR5IHtGaWVsZFtdfSBmaWVsZHMgR2VuZXJhdGVkIHdoZW4gdGhlIE1vZGVsLkxpc3QgaXMgaW5zdGFudGlhdGVkLiAgQ29tYmluZXMgdGhlIHN0YW5kYXJkXG4gKiBkZWZhdWx0IGZpZWxkcyBmb3IgYWxsIGxpc3RzIHdpdGggdGhlIGZpZWxkcyBpZGVudGlmaWVkIGluIHRoZSBjb25maWcuY3VzdG9tRmllbGRzIGFuZCBpbnN0YW50aWF0ZXMgZWFjaFxuICogd2l0aCB0aGUgRmllbGQgY29uc3RydWN0b3IuXG4gKiBAcmVxdWlyZXMgYW5ndWxhclBvaW50LmFwTGlzdEZhY3RvcnlcbiAqIEBjb25zdHJ1Y3RvclxuICovXG5leHBvcnQgY2xhc3MgTGlzdCBpbXBsZW1lbnRzIElMaXN0IHtcbiAgICBCYXNlVHlwZT86IHN0cmluZzsgLy8gT25seSBhZGRlZCBvbmNlIGEgbGlzdCBoYXMgYmVlbiBleHRlbmRlZCB3aXRoIGxpc3QgZGVmaW5pdGlvbiBmcm9tIHNlcnZlclxuICAgIGN1c3RvbUZpZWxkczogSUZpZWxkRGVmaW5pdGlvbltdID0gW107XG4gICAgZW52aXJvbm1lbnRzOiB7W2tleTogc3RyaW5nXTogc3RyaW5nfTtcbiAgICBmaWVsZHM6IElGaWVsZERlZmluaXRpb25bXSA9IFtdO1xuICAgIGd1aWQ6IHN0cmluZztcbiAgICBpc1JlYWR5ID0gZmFsc2U7XG4gICAgbWFwcGluZzogSUxpc3RGaWVsZE1hcHBpbmcgPSB7fTtcbiAgICBwZXJtaXNzaW9uczogSVVzZXJQZXJtaXNzaW9uc09iamVjdDtcbiAgICB0aXRsZTogc3RyaW5nO1xuICAgIHZpZXdGaWVsZHM6IHN0cmluZztcbiAgICBXZWJGdWxsVXJsOyAvL09ubHkgYXBwZWFycyBpZiBleHRlbmRlZCBmcm9tIGxpc3QgZGVmaW5pdGlvblxuICAgIHdlYlVSTDogc3RyaW5nO1xuXG4gICAgY29uc3RydWN0b3IoY29uZmlnOiBJVW5pbnN0YW50aWF0ZWRMaXN0KSB7XG4gICAgICAgIHRoaXMud2ViVVJMID0gRU5WLnNpdGU7XG4gICAgICAgIF8uYXNzaWduKHRoaXMsIGNvbmZpZyk7XG4gICAgICAgIHRoaXMuZW52aXJvbm1lbnRzID0gdGhpcy5lbnZpcm9ubWVudHMgfHwge3Byb2R1Y3Rpb246IHRoaXMuZ3VpZH07XG4gICAgICAgIHRoaXMuZXh0ZW5kRmllbGREZWZpbml0aW9ucygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIDEuIFBvcHVsYXRlcyB0aGUgZmllbGRzIGFycmF5IHdoaWNoIHVzZXMgdGhlIEZpZWxkIGNvbnN0cnVjdG9yIHRvIGNvbWJpbmUgdGhlIGRlZmF1bHRcbiAgICAgKiBTaGFyZVBvaW50IGZpZWxkcyB3aXRoIHRob3NlIGRlZmluZWQgaW4gdGhlIGxpc3QgZGVmaW5pdGlvbiBvbiB0aGUgbW9kZWxcbiAgICAgKiAyLiBDcmVhdGVzIHRoZSBsaXN0LnZpZXdGaWVsZHMgWE1MIHN0cmluZyB0aGF0IGRlZmluZXMgdGhlIGZpZWxkcyB0byBiZSByZXF1ZXN0ZWQgb24gYSBxdWVyeVxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGxpc3QgUmVmZXJlbmNlIHRvIHRoZSBsaXN0IHdpdGhpbiBhIG1vZGVsLlxuICAgICAqL1xuICAgIGV4dGVuZEZpZWxkRGVmaW5pdGlvbnMoKSB7XG4gICAgICAgIC8vQ2xlYXIgb3V0XG4gICAgICAgIHRoaXMudmlld0ZpZWxkcyA9ICcnO1xuXG4gICAgICAgIGNvbnN0IGFwRmllbGRGYWN0b3J5ID0gJEFQX0lOSkVDVE9SLmdldDxGaWVsZEZhY3Rvcnk+KCdhcEZpZWxkRmFjdG9yeScpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb25zdHJ1Y3RzIHRoZSBmaWVsZFxuICAgICAgICAgKiAtIGFkZHMgdG8gdmlld0ZpZWxkXG4gICAgICAgICAqIC0gY3JlYXRlIG93c18gbWFwcGluZ1xuICAgICAgICAgKiBAcGFyYW0gZmllbGREZWZpbml0aW9uXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgYnVpbGRGaWVsZCA9IChmaWVsZERlZmluaXRpb24pID0+IHtcbiAgICAgICAgICAgIHZhciBmaWVsZCA9IG5ldyBhcEZpZWxkRmFjdG9yeS5GaWVsZERlZmluaXRpb24oZmllbGREZWZpbml0aW9uKTtcbiAgICAgICAgICAgIHRoaXMuZmllbGRzLnB1c2goZmllbGQpO1xuICAgICAgICAgICAgdGhpcy52aWV3RmllbGRzICs9ICc8RmllbGRSZWYgTmFtZT1cIicgKyBmaWVsZC5zdGF0aWNOYW1lICsgJ1wiLz4nO1xuICAgICAgICAgICAgdGhpcy5tYXBwaW5nWydvd3NfJyArIGZpZWxkLnN0YXRpY05hbWVdID0ge1xuICAgICAgICAgICAgICAgIG1hcHBlZE5hbWU6IGZpZWxkLm1hcHBlZE5hbWUsXG4gICAgICAgICAgICAgICAgb2JqZWN0VHlwZTogZmllbGQub2JqZWN0VHlwZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcblxuICAgICAgICAvKiogT3BlbiB2aWV3RmllbGRzICovXG4gICAgICAgIHRoaXMudmlld0ZpZWxkcyArPSAnPFZpZXdGaWVsZHM+JztcblxuICAgICAgICAvKiogQWRkIHRoZSBkZWZhdWx0IGZpZWxkcyAqL1xuICAgICAgICBfLmVhY2goRGVmYXVsdEZpZWxkcywgKGZpZWxkKSA9PiBidWlsZEZpZWxkKGZpZWxkKSk7XG5cbiAgICAgICAgLyoqIEFkZCBlYWNoIG9mIHRoZSBmaWVsZHMgZGVmaW5lZCBpbiB0aGUgbW9kZWwgKi9cbiAgICAgICAgXy5lYWNoKHRoaXMuY3VzdG9tRmllbGRzLCAoZmllbGQpID0+IGJ1aWxkRmllbGQoZmllbGQpKTtcblxuICAgICAgICAvKiogQ2xvc2Ugdmlld0ZpZWxkcyAqL1xuICAgICAgICB0aGlzLnZpZXdGaWVsZHMgKz0gJzwvVmlld0ZpZWxkcz4nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIExpc3Q6ZXh0ZW5kUGVybWlzc2lvbnNGcm9tTGlzdEl0ZW1cbiAgICAgKiBAbWV0aG9kT2YgTGlzdFxuICAgICAqIEBwYXJhbSB7TGlzdEl0ZW19IGxpc3RJdGVtIExpc3QgaXRlbSB0byB1c2UgYXMgc2FtcGxlIG9mIHVzZXIncyBwZXJtaXNzc2lvbnMgZm9yIGxpc3QuXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogSWYgdGhlIHVzZXIgcGVybWlzc2lvbnMgaGF2ZW4ndCBiZWVuIHJlc29sdmVkIGZvciB0aGUgbGlzdCwgdXNlIHRoZSBwZXJtaXNzaW9ucyBmcm9tIGFcbiAgICAgKiBzYW1wbGUgbGlzdCBpdGVtIGFuZCBhc3N1bWUgdGhleSdyZSB0aGUgc2FtZSBmb3IgdGhlIGVudGlyZSBsaXN0XG4gICAgICogQHJldHVybnMge0lVc2VyUGVybWlzc2lvbnNPYmplY3R9IFJlc29sdmVkIHBlcm1pc3Npb25zIGZvciB0aGUgbGlzdCBpdGVtLlxuICAgICAqL1xuICAgIGV4dGVuZFBlcm1pc3Npb25zRnJvbUxpc3RJdGVtKGxpc3RJdGVtOiBMaXN0SXRlbTxhbnk+KTogSVVzZXJQZXJtaXNzaW9uc09iamVjdCB7XG4gICAgICAgIGlmICghbGlzdEl0ZW0pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQSB2YWxpZCBsaXN0IGl0ZW0gaXMgcmVxdWlyZWQgaW4gb3JkZXIgdG8gZXh0ZW5kIGxpc3QgcGVybWlzc2lvbnMuJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wZXJtaXNzaW9ucyA9IGxpc3RJdGVtLnJlc29sdmVQZXJtaXNzaW9ucygpO1xuICAgICAgICByZXR1cm4gdGhpcy5wZXJtaXNzaW9ucztcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIExpc3Q6Z2V0TGlzdElkXG4gICAgICogQG1ldGhvZE9mIExpc3RcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBEZWZhdWx0cyB0byBsaXN0Lmd1aWQuICBGb3IgYSBtdWx0aS1lbnZpcm9ubWVudCBzZXR1cCwgd2UgYWNjZXB0IGEgbGlzdC5lbnZpcm9ubWVudHMgb2JqZWN0IHdpdGggYSBwcm9wZXJ0eSBmb3IgZWFjaCBuYW1lZFxuICAgICAqIGVudmlyb25tZW50IHdpdGggYSBjb3JyZXNwb25kaW5nIHZhbHVlIG9mIHRoZSBsaXN0IGd1aWQuICBUaGUgYWN0aXZlIGVudmlyb25tZW50IGNhbiBiZSBzZWxlY3RlZFxuICAgICAqIGJ5IHNldHRpbmcgYXBDb25maWcuZW52aXJvbm1lbnQgdG8gdGhlIHN0cmluZyBuYW1lIG9mIHRoZSBkZXNpcmVkIGVudmlyb25tZW50LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IExpc3QgSUQuXG4gICAgICovXG4gICAgZ2V0TGlzdElkKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBFTlYuTElTVF9JRFNbdGhpcy50aXRsZV07XG4gICAgICAgIC8vIGlmIChfLmlzU3RyaW5nKHRoaXMuZW52aXJvbm1lbnRzW2FwQ29uZmlnLmVudmlyb25tZW50XSkpIHtcbiAgICAgICAgLy8gICAgIC8qKlxuICAgICAgICAvLyAgICAgICogRm9yIGEgbXVsdGktZW52aXJvbm1lbnQgc2V0dXAsIHdlIGFjY2VwdCBhIGxpc3QuZW52aXJvbm1lbnRzIG9iamVjdCB3aXRoIGEgcHJvcGVydHkgZm9yIGVhY2ggbmFtZWRcbiAgICAgICAgLy8gICAgICAqIGVudmlyb25tZW50IHdpdGggYSBjb3JyZXNwb25kaW5nIHZhbHVlIG9mIHRoZSBsaXN0IGd1aWQuICBUaGUgYWN0aXZlIGVudmlyb25tZW50IGNhbiBiZSBzZWxlY3RlZFxuICAgICAgICAvLyAgICAgICogYnkgc2V0dGluZyBhcENvbmZpZy5lbnZpcm9ubWVudCB0byB0aGUgc3RyaW5nIG5hbWUgb2YgdGhlIGRlc2lyZWQgZW52aXJvbm1lbnQuXG4gICAgICAgIC8vICAgICAgKi9cbiAgICAgICAgLy8gICAgIHJldHVybiB0aGlzLmVudmlyb25tZW50c1thcENvbmZpZy5lbnZpcm9ubWVudF07XG4gICAgICAgIC8vIH0gZWxzZSB7XG4gICAgICAgIC8vICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZXJlIGlzblxcJ3QgYSB2YWxpZCBlbnZpcm9ubWVudCBkZWZpbml0aW9uIGZvciBhcENvbmZpZy5lbnZpcm9ubWVudD0nICsgYXBDb25maWcuZW52aXJvbm1lbnQgKyAnICAnICtcbiAgICAgICAgLy8gICAgICAgICAnUGxlYXNlIGNvbmZpcm0gdGhhdCB0aGUgbGlzdCBcIicgKyB0aGlzLnRpdGxlICsgJ1wiIGhhcyB0aGUgbmVjZXNzYXJ5IGVudmlyb25tZW50YWwgY29uZmlndXJhdGlvbi4nKTtcbiAgICAgICAgLy8gfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIExpc3Q6aWRlbnRpZnlXZWJVUkxcbiAgICAgKiBAbWV0aG9kT2YgTGlzdFxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIElmIGEgbGlzdCBpcyBleHRlbmRlZCwgdXNlIHRoZSBwcm92aWRlZCB3ZWJVUkwsIG90aGVyd2lzZSB1c2UgbGlzdC53ZWJVUkwuICBJZiBuZXZlciBzZXQgaXQgd2lsbCBkZWZhdWx0XG4gICAgICogdG8gYXBDb25maWcuZGVmYXVsdFVybC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSB3ZWJVUkwgcGFyYW0uXG4gICAgICovXG4gICAgaWRlbnRpZnlXZWJVUkwoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2ViVVJMO1xuICAgICAgICAvLyByZXR1cm4gdGhpcy5XZWJGdWxsVXJsID8gdGhpcy5XZWJGdWxsVXJsIDogdGhpcy53ZWJVUkw7XG4gICAgfVxuXG5cbn1cblxuXG4vKipcbiAqIEBuZ2RvYyBzZXJ2aWNlXG4gKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBMaXN0RmFjdG9yeVxuICogQGRlc2NyaXB0aW9uXG4gKiBFeHBvc2VzIHRoZSBMaXN0IHByb3RvdHlwZSBhbmQgYSBjb25zdHJ1Y3RvciB0byBpbnN0YW50aWF0ZSBhIG5ldyBMaXN0LlxuICpcbiAqIEBwcm9wZXJ0eSB7Y29uc3RydWN0b3J9IExpc3QgVGhlIExpc3QgY29uc3RydWN0b3IuXG4gKlxuICogQHJlcXVpcmVzIGFuZ3VsYXJQb2ludC5hcENvbmZpZ1xuICogQHJlcXVpcmVzIGFuZ3VsYXJQb2ludC5hcERlZmF1bHRGaWVsZHNcbiAqIEByZXF1aXJlcyBhbmd1bGFyUG9pbnQuYXBGaWVsZEZhY3RvcnlcbiAqL1xuZXhwb3J0IGNsYXNzIExpc3RGYWN0b3J5IHtcbiAgICBMaXN0ID0gTGlzdDtcbiAgICAvLyBzdGF0aWMgJGluamVjdCA9IFsnYXBEZWZhdWx0RmllbGRzJywgJ2FwRmllbGRGYWN0b3J5J107XG4gICAgLy9cbiAgICAvLyBjb25zdHJ1Y3RvcihfYXBEZWZhdWx0RmllbGRzXywgX2FwRmllbGRGYWN0b3J5Xykge1xuICAgIC8vXG4gICAgLy8gICAgIC8vIGFwQ29uZmlnID0gX2FwQ29uZmlnXztcbiAgICAvLyAgICAgYXBEZWZhdWx0RmllbGRzID0gX2FwRGVmYXVsdEZpZWxkc187XG4gICAgLy8gICAgIGFwRmllbGRGYWN0b3J5ID0gX2FwRmllbGRGYWN0b3J5XztcbiAgICAvL1xuICAgIC8vIH1cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcExpc3RGYWN0b3J5OmNyZWF0ZVxuICAgICAqIEBtZXRob2RPZiBhbmd1bGFyUG9pbnQuYXBMaXN0RmFjdG9yeVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBjb25maWcgT3B0aW9ucyBvYmplY3QuXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogSW5zdGFudGlhdGVzIGFuZCByZXR1cm5zIGEgbmV3IExpc3QuXG4gICAgICovXG4gICAgY3JlYXRlKGNvbmZpZykge1xuICAgICAgICByZXR1cm4gbmV3IExpc3QoY29uZmlnKTtcbiAgICB9XG59XG5cblxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyIS4vc3JjL2ZhY3Rvcmllcy9hcExpc3RGYWN0b3J5LnRzIiwiZXhwb3J0ICogZnJvbSAnLi9hcERlZmF1bHRGaWVsZHMnO1xuZXhwb3J0ICogZnJvbSAnLi9hcERlZmF1bHRMaXN0SXRlbVF1ZXJ5T3B0aW9ucyc7XG5leHBvcnQgKiBmcm9tICcuL2FwUGVybWlzc2lvbk9iamVjdCc7XG5leHBvcnQgKiBmcm9tICcuL2FwV2ViU2VydmljZU9wZXJhdGlvbkNvbnN0YW50cyc7XG5leHBvcnQgKiBmcm9tICcuL2FwWE1MRmllbGRBdHRyaWJ1dGVUeXBlcyc7XG5leHBvcnQgKiBmcm9tICcuL2FwWE1MTGlzdEF0dHJpYnV0ZVR5cGVzJztcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlciEuL3NyYy9jb25zdGFudHMvaW5kZXgudHMiLCJleHBvcnQgKiBmcm9tICcuL2FwQ2FtbEZhY3RvcnknO1xuZXhwb3J0ICogZnJvbSAnLi9hcEZpZWxkRmFjdG9yeSc7XG5leHBvcnQgKiBmcm9tICcuL2FwSW5kZXhlZENhY2hlRmFjdG9yeSc7XG5leHBvcnQgKiBmcm9tICcuL2FwTGlzdEZhY3RvcnknO1xuZXhwb3J0ICogZnJvbSAnLi9hcExpc3RJdGVtRmFjdG9yeSc7XG5leHBvcnQgKiBmcm9tICcuL2FwTGlzdEl0ZW1WZXJzaW9uRmFjdG9yeSc7XG5leHBvcnQgKiBmcm9tICcuL2FwTG9va3VwRmFjdG9yeSc7XG5leHBvcnQgKiBmcm9tICcuL2FwTW9kZWxGYWN0b3J5JztcbmV4cG9ydCAqIGZyb20gJy4vYXBRdWVyeUZhY3RvcnknO1xuZXhwb3J0ICogZnJvbSAnLi9hcFVzZXJGYWN0b3J5JztcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlciEuL3NyYy9mYWN0b3JpZXMvaW5kZXgudHMiLCJleHBvcnQgKiBmcm9tICcuL2FwVXNlck1vZGVsJztcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXIhLi9zcmMvbW9kZWxzL2luZGV4LnRzIiwiZXhwb3J0ICogZnJvbSAnLi9hcENhY2hlU2VydmljZSc7XG5leHBvcnQgKiBmcm9tICcuL2FwQ2hhbmdlU2VydmljZSc7XG5leHBvcnQgKiBmcm9tICcuL2FwRGF0YVNlcnZpY2UnO1xuZXhwb3J0ICogZnJvbSAnLi9hcERlY29kZVNlcnZpY2UnO1xuZXhwb3J0ICogZnJvbSAnLi9hcEVuY29kZVNlcnZpY2UnO1xuZXhwb3J0ICogZnJvbSAnLi9hcEV4Y2VwdGlvbkhhbmRsZXJTZXJ2aWNlJztcbmV4cG9ydCAqIGZyb20gJy4vYXBFeHBvcnRTZXJ2aWNlJztcbmV4cG9ydCAqIGZyb20gJy4vYXBGaWVsZFNlcnZpY2UnO1xuZXhwb3J0ICogZnJvbSAnLi9hcEZvcm1hdHRlZEZpZWxkVmFsdWVTZXJ2aWNlJztcbmV4cG9ydCAqIGZyb20gJy4vYXBMb2dnZXInO1xuZXhwb3J0ICogZnJvbSAnLi9hcFNQU2VydmljZXMnO1xuZXhwb3J0ICogZnJvbSAnLi9hcFV0aWxpdHlTZXJ2aWNlJztcbmV4cG9ydCAqIGZyb20gJy4vYXBXZWJTZXJ2aWNlU2VydmljZSc7XG5leHBvcnQgKiBmcm9tICcuL2FwWE1MVG9KU09OU2VydmljZSc7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXIhLi9zcmMvc2VydmljZXMvaW5kZXgudHMiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJhbmd1bGFyXCIpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIFwiYW5ndWxhclwiXG4vLyBtb2R1bGUgaWQgPSAzN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9