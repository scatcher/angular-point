/// <reference path="../typings/ap.d.ts" />
var ap;
(function (ap) {
    'use strict';
    try {
        angular.module('toastr');
    }
    catch (e) {
        /** Toastr wasn't found so redirect all toastr requests to $log */
        angular.module('toastr', []).factory('toastr', function ($log) {
            return {
                error: $log.error,
                info: $log.info,
                success: $log.info,
                warning: $log.warn
            };
        });
    }
    /**
     * @ngdoc overview
     * @module
     * @name angularPoint
     * @description
     * This is the primary angularPoint module and needs to be listed in your app.js dependencies to gain use of AngularPoint
     * functionality in your project.
     * @installModule
     */
    angular.module('angularPoint', [
        'toastr'
    ]);
})(ap || (ap = {}));

/// <reference path="../typings/ap.d.ts" />
var ap;
(function (ap) {
    'use strict';
    angular.module('angularPoint').config(Config);
    function Config(apConfig) {
        /** Add a convenience flag, inverse of offline */
        apConfig.online = !apConfig.offline;
    }
})(ap || (ap = {}));

/// <reference path="../../typings/ap.d.ts" />
/**
 * @ngdoc object
 * @name angularPoint.apConfig
 * @description
 * Basic config for the application (unique for each environment).  Update to change for your environment.
 *
 * @param {string} appTitle Name of the application in case you need to reference.
 * @param {boolean} debug Determines if we should show debug code.
 * @param {string} defaultUrl Automatically sets the defaultUrl for web service calls so we don't need to make the
 * initial blocking call by SPServices.
 * @param {string} [defaultQueryName='primary'] The name that a query is registered with on a model if a name isn't specified.
 * @param {string} [firebaseUrl] Necessary if you're using apSyncService.  Look there for more details.
 * @param {boolean} [offline] Automatically set based on the URL of the site.  Pulls offline XML when hosted locally.
 * @param {string} [offlineXML='dev/'] The location to look for offline xml files.
 * @example
 * <h4>Default Configuration</h4>
 * <pre>
 * .constant('apConfig', {
 *     appTitle: 'Angular-Point',
 *     debugEnabled: true,
 *     firebaseURL: "The optional url of your firebase source",
 *     offline: window.location.href.indexOf('localhost') > -1 ||
 *         window.location.href.indexOf('http://0.') > -1 ||
 *         window.location.href.indexOf('http://10.') > -1 ||
 *         window.location.href.indexOf('http://192.') > -1
 * })
 * </pre>
 *
 * <h4>To Override</h4>
 * <pre>
 * angular.module('MyApp', ['my dependencies'])
 *      .config(function ($stateProvider, $urlRouterProvider) {
 *          //My routes
 *      })
 *      .run(function(apConfig) {
 *          //To set the default site root
 *          apConfig.defaultUrl =
 *            '//sharepoint.myserver.com/siteRoot';
 *
 *          //To set the default location to look for
 *          //offline xml files.
 *          apConfig.offlineXML = 'myCachedQueries/';
 *      });
 * </pre>
 */
var ap;
(function (ap) {
    'use strict';
    ap.APConfig = {
        appTitle: 'Angular-Point',
        debug: false,
        defaultQueryName: 'primary',
        defaultUrl: '',
        environment: 'production',
        firebaseURL: "The optional url of your firebase source",
        offline: window.location.href.indexOf('localhost') > -1 || window.location.href.indexOf('http://0.') > -1 || window.location.href.indexOf('http://10.') > -1 || window.location.href.indexOf('http://127.') > -1 || window.location.href.indexOf('http://192.') > -1,
        offlineXML: 'dev/'
    };
    angular.module('angularPoint').constant('apConfig', ap.APConfig);
})(ap || (ap = {}));

/// <reference path="../../typings/ap.d.ts" />
var ap;
(function (ap) {
    'use strict';
    ap.DefaultFields = [
        { staticName: 'ID', objectType: 'Counter', mappedName: 'id', readOnly: true },
        { staticName: 'Modified', objectType: 'DateTime', mappedName: 'modified', readOnly: true },
        { staticName: 'Created', objectType: 'DateTime', mappedName: 'created', readOnly: true },
        { staticName: 'Author', objectType: 'User', mappedName: 'author', readOnly: true },
        { staticName: 'Editor', objectType: 'User', mappedName: 'editor', readOnly: true },
        { staticName: 'PermMask', objectType: 'Mask', mappedName: 'permMask', readOnly: true },
        { staticName: 'UniqueId', objectType: 'String', mappedName: 'uniqueId', readOnly: true },
        { staticName: 'FileRef', objectType: 'Lookup', mappedName: 'fileRef', readOnly: true }
    ];
    /**
     * @ngdoc object
     * @name angularPoint.apDefaultFields
     * @description
     * Read only fields that should be included in all lists
     */
    angular.module('angularPoint').constant('apDefaultFields', ap.DefaultFields);
})(ap || (ap = {}));

/// <reference path="../../typings/ap.d.ts" />
var ap;
(function (ap) {
    'use strict';
    ap.DefaultListItemQueryOptions = '' + '<QueryOptions>' + '   <IncludeMandatoryColumns>FALSE</IncludeMandatoryColumns>' + '   <IncludeAttachmentUrls>TRUE</IncludeAttachmentUrls>' + '   <IncludeAttachmentVersion>FALSE</IncludeAttachmentVersion>' + '   <ExpandUserField>FALSE</ExpandUserField>' + '</QueryOptions>';
    angular.module('angularPoint').constant('apDefaultListItemQueryOptions', ap.DefaultListItemQueryOptions);
})(ap || (ap = {}));

/// <reference path="../../typings/ap.d.ts" />
var ap;
(function (ap) {
    'use strict';
    angular.module('angularPoint').constant('_', _);
})(ap || (ap = {}));

//  apWebServiceOperationConstants.OpName = [WebService, needs_SOAPAction];
//      OpName              The name of the Web Service operation -> These names are unique
//      WebService          The name of the WebService this operation belongs to
//      needs_SOAPAction    Boolean indicating whether the operation needs to have the SOAPAction passed in the setRequestHeaderfunction.
//                          true if the operation does a write, else false
/// <reference path='../../typings/ap.d.ts' />
var ap;
(function (ap) {
    'use strict';
    ap.WebServiceOperationConstants = {
        GetAlerts: ['Alerts', false],
        DeleteAlerts: ['Alerts', true],
        Mode: ['Authentication', false],
        Login: ['Authentication', false],
        CopyIntoItems: ['Copy', true],
        CopyIntoItemsLocal: ['Copy', true],
        GetItem: ['Copy', false],
        GetForm: ['Forms', false],
        GetFormCollection: ['Forms', false],
        AddAttachment: ['Lists', true],
        AddDiscussionBoardItem: ['Lists', true],
        AddList: ['Lists', true],
        AddListFromFeature: ['Lists', true],
        ApplyContentTypeToList: ['Lists', true],
        CheckInFile: ['Lists', true],
        CheckOutFile: ['Lists', true],
        CreateContentType: ['Webs', true],
        DeleteAttachment: ['Lists', true],
        DeleteContentType: ['Lists', true],
        DeleteContentTypeXmlDocument: ['Lists', true],
        DeleteList: ['Lists', true],
        GetAttachmentCollection: ['Lists', false],
        GetList: ['Lists', false],
        GetListAndView: ['Lists', false],
        GetListCollection: ['Lists', false],
        GetListContentType: ['Lists', false],
        GetListContentTypes: ['Lists', false],
        GetListItemChanges: ['Lists', false],
        GetListItemChangesSinceToken: ['Lists', false],
        GetListItems: ['Lists', false],
        GetVersionCollection: ['Lists', false],
        UndoCheckOut: ['Lists', true],
        UpdateContentType: ['Webs', true],
        UpdateContentTypesXmlDocument: ['Lists', true],
        UpdateContentTypeXmlDocument: ['Lists', true],
        UpdateList: ['Lists', true],
        UpdateListItems: ['Lists', true],
        AddMeeting: ['Meetings', true],
        CreateWorkspace: ['Meetings', true],
        RemoveMeeting: ['Meetings', true],
        SetWorkSpaceTitle: ['Meetings', true],
        ResolvePrincipals: ['People', false],
        SearchPrincipals: ['People', false],
        AddPermission: ['Permissions', true],
        AddPermissionCollection: ['Permissions', true],
        GetPermissionCollection: ['Permissions', true],
        RemovePermission: ['Permissions', true],
        RemovePermissionCollection: ['Permissions', true],
        UpdatePermission: ['Permissions', true],
        GetLinks: ['PublishedLinksService', true],
        GetPortalSearchInfo: ['Search', false],
        GetQuerySuggestions: ['Search', false],
        GetSearchMetadata: ['Search', false],
        Query: ['Search', false],
        QueryEx: ['Search', false],
        Registration: ['Search', false],
        Status: ['Search', false],
        SendClientScriptErrorReport: ['SharePointDiagnostics', true],
        GetAttachments: ['SiteData', false],
        EnumerateFolder: ['SiteData', false],
        SiteDataGetList: ['SiteData', false],
        SiteDataGetListCollection: ['SiteData', false],
        SiteDataGetSite: ['SiteData', false],
        SiteDataGetSiteUrl: ['SiteData', false],
        SiteDataGetWeb: ['SiteData', false],
        CreateWeb: ['Sites', true],
        DeleteWeb: ['Sites', true],
        GetSite: ['Sites', false],
        GetSiteTemplates: ['Sites', false],
        AddComment: ['SocialDataService', true],
        AddTag: ['SocialDataService', true],
        AddTagByKeyword: ['SocialDataService', true],
        CountCommentsOfUser: ['SocialDataService', false],
        CountCommentsOfUserOnUrl: ['SocialDataService', false],
        CountCommentsOnUrl: ['SocialDataService', false],
        CountRatingsOnUrl: ['SocialDataService', false],
        CountTagsOfUser: ['SocialDataService', false],
        DeleteComment: ['SocialDataService', true],
        DeleteRating: ['SocialDataService', true],
        DeleteTag: ['SocialDataService', true],
        DeleteTagByKeyword: ['SocialDataService', true],
        DeleteTags: ['SocialDataService', true],
        GetAllTagTerms: ['SocialDataService', false],
        GetAllTagTermsForUrlFolder: ['SocialDataService', false],
        GetAllTagUrls: ['SocialDataService', false],
        GetAllTagUrlsByKeyword: ['SocialDataService', false],
        GetCommentsOfUser: ['SocialDataService', false],
        GetCommentsOfUserOnUrl: ['SocialDataService', false],
        GetCommentsOnUrl: ['SocialDataService', false],
        GetRatingAverageOnUrl: ['SocialDataService', false],
        GetRatingOfUserOnUrl: ['SocialDataService', false],
        GetRatingOnUrl: ['SocialDataService', false],
        GetRatingsOfUser: ['SocialDataService', false],
        GetRatingsOnUrl: ['SocialDataService', false],
        GetSocialDataForFullReplication: ['SocialDataService', false],
        GetTags: ['SocialDataService', true],
        GetTagsOfUser: ['SocialDataService', true],
        GetTagTerms: ['SocialDataService', true],
        GetTagTermsOfUser: ['SocialDataService', true],
        GetTagTermsOnUrl: ['SocialDataService', true],
        GetTagUrlsOfUser: ['SocialDataService', true],
        GetTagUrlsOfUserByKeyword: ['SocialDataService', true],
        GetTagUrls: ['SocialDataService', true],
        GetTagUrlsByKeyword: ['SocialDataService', true],
        SetRating: ['SocialDataService', true],
        UpdateComment: ['SocialDataService', true],
        SpellCheck: ['SpellCheck', false],
        AddTerms: ['TaxonomyClientService', true],
        GetChildTermsInTerm: ['TaxonomyClientService', false],
        GetChildTermsInTermSet: ['TaxonomyClientService', false],
        GetKeywordTermsByGuids: ['TaxonomyClientService', false],
        GetTermsByLabel: ['TaxonomyClientService', false],
        GetTermSets: ['TaxonomyClientService', false],
        AddGroup: ['usergroup', true],
        AddGroupToRole: ['usergroup', true],
        AddRole: ['usergroup', true],
        AddRoleDef: ['usergroup', true],
        AddUserCollectionToGroup: ['usergroup', true],
        AddUserCollectionToRole: ['usergroup', true],
        AddUserToGroup: ['usergroup', true],
        AddUserToRole: ['usergroup', true],
        GetAllUserCollectionFromWeb: ['usergroup', false],
        GetGroupCollection: ['usergroup', false],
        GetGroupCollectionFromRole: ['usergroup', false],
        GetGroupCollectionFromSite: ['usergroup', false],
        GetGroupCollectionFromUser: ['usergroup', false],
        GetGroupCollectionFromWeb: ['usergroup', false],
        GetGroupInfo: ['usergroup', false],
        GetRoleCollection: ['usergroup', false],
        GetRoleCollectionFromGroup: ['usergroup', false],
        GetRoleCollectionFromUser: ['usergroup', false],
        GetRoleCollectionFromWeb: ['usergroup', false],
        GetRoleInfo: ['usergroup', false],
        GetRolesAndPermissionsForCurrentUser: ['usergroup', false],
        GetRolesAndPermissionsForSite: ['usergroup', false],
        GetUserCollection: ['usergroup', false],
        GetUserCollectionFromGroup: ['usergroup', false],
        GetUserCollectionFromRole: ['usergroup', false],
        GetUserCollectionFromSite: ['usergroup', false],
        GetUserCollectionFromWeb: ['usergroup', false],
        GetUserInfo: ['usergroup', false],
        GetUserLoginFromEmail: ['usergroup', false],
        RemoveGroup: ['usergroup', true],
        RemoveGroupFromRole: ['usergroup', true],
        RemoveRole: ['usergroup', true],
        RemoveUserCollectionFromGroup: ['usergroup', true],
        RemoveUserCollectionFromRole: ['usergroup', true],
        RemoveUserCollectionFromSite: ['usergroup', true],
        RemoveUserFromGroup: ['usergroup', true],
        RemoveUserFromRole: ['usergroup', true],
        RemoveUserFromSite: ['usergroup', true],
        RemoveUserFromWeb: ['usergroup', true],
        UpdateGroupInfo: ['usergroup', true],
        UpdateRoleDefInfo: ['usergroup', true],
        UpdateRoleInfo: ['usergroup', true],
        UpdateUserInfo: ['usergroup', true],
        AddColleague: ['UserProfileService', true],
        AddLink: ['UserProfileService', true],
        AddMembership: ['UserProfileService', true],
        AddPinnedLink: ['UserProfileService', true],
        CreateMemberGroup: ['UserProfileService', true],
        CreateUserProfileByAccountName: ['UserProfileService', true],
        GetCommonColleagues: ['UserProfileService', false],
        GetCommonManager: ['UserProfileService', false],
        GetCommonMemberships: ['UserProfileService', false],
        GetInCommon: ['UserProfileService', false],
        GetPropertyChoiceList: ['UserProfileService', false],
        GetUserColleagues: ['UserProfileService', false],
        GetUserLinks: ['UserProfileService', false],
        GetUserMemberships: ['UserProfileService', false],
        GetUserPinnedLinks: ['UserProfileService', false],
        GetUserProfileByGuid: ['UserProfileService', false],
        GetUserProfileByIndex: ['UserProfileService', false],
        GetUserProfileByName: ['UserProfileService', false],
        GetUserProfileCount: ['UserProfileService', false],
        GetUserProfileSchema: ['UserProfileService', false],
        GetUserPropertyByAccountName: ['UserProfileService', false],
        ModifyUserPropertyByAccountName: ['UserProfileService', true],
        RemoveAllColleagues: ['UserProfileService', true],
        RemoveAllLinks: ['UserProfileService', true],
        RemoveAllMemberships: ['UserProfileService', true],
        RemoveAllPinnedLinks: ['UserProfileService', true],
        RemoveColleague: ['UserProfileService', true],
        RemoveLink: ['UserProfileService', true],
        RemoveMembership: ['UserProfileService', true],
        RemovePinnedLink: ['UserProfileService', true],
        UpdateColleaguePrivacy: ['UserProfileService', true],
        UpdateLink: ['UserProfileService', true],
        UpdateMembershipPrivacy: ['UserProfileService', true],
        UpdatePinnedLink: ['UserProfileService', true],
        DeleteAllVersions: ['Versions', true],
        DeleteVersion: ['Versions', true],
        GetVersions: ['Versions', false],
        RestoreVersion: ['Versions', true],
        AddView: ['Views', true],
        DeleteView: ['Views', true],
        GetView: ['Views', false],
        GetViewHtml: ['Views', false],
        GetViewCollection: ['Views', false],
        UpdateView: ['Views', true],
        UpdateViewHtml: ['Views', true],
        AddWebPart: ['WebPartPages', true],
        AddWebPartToZone: ['WebPartPages', true],
        GetWebPart2: ['WebPartPages', false],
        GetWebPartPage: ['WebPartPages', false],
        GetWebPartProperties: ['WebPartPages', false],
        GetWebPartProperties2: ['WebPartPages', false],
        GetColumns: ['Webs', false],
        GetContentType: ['Webs', false],
        GetContentTypes: ['Webs', false],
        GetCustomizedPageStatus: ['Webs', false],
        GetListTemplates: ['Webs', false],
        GetObjectIdFromUrl: ['Webs', false],
        GetWeb: ['Webs', false],
        GetWebCollection: ['Webs', false],
        GetAllSubWebCollection: ['Webs', false],
        UpdateColumns: ['Webs', true],
        WebUrlFromPageUrl: ['Webs', false],
        AlterToDo: ['Workflow', true],
        ClaimReleaseTask: ['Workflow', true],
        GetTemplatesForItem: ['Workflow', false],
        GetToDosForItem: ['Workflow', false],
        GetWorkflowDataForItem: ['Workflow', false],
        GetWorkflowTaskData: ['Workflow', false],
        StartWorkflow: ['Workflow', true]
    };
    angular.module('angularPoint').constant('apWebServiceOperationConstants', ap.WebServiceOperationConstants);
})(ap || (ap = {}));

/// <reference path="../../typings/ap.d.ts" />
var ap;
(function (ap) {
    'use strict';
    ap.XMLFieldAttributeTypes = {
        Decimals: 'Number',
        EnforceUniqueValues: 'Boolean',
        Filterable: 'Boolean',
        FromBaseType: 'Boolean',
        Hidden: 'Boolean',
        Indexed: 'Boolean',
        NumLines: 'Number',
        ReadOnly: 'Boolean',
        Required: 'Boolean',
        Sortable: 'Boolean'
    };
    /**
     * @ngdoc object
     * @name angularPoint.apXMLListAttributeTypes
     * @description Constant object map which contains many common XML attributes found on a field definition with their
     * corresponding type.
     */
    angular.module('angularPoint').constant('apXMLFieldAttributeTypes', ap.XMLFieldAttributeTypes);
})(ap || (ap = {}));

/// <reference path="../../typings/ap.d.ts" />
var ap;
(function (ap) {
    'use strict';
    ap.XMLListAttributeTypes = {
        BaseType: 'Number',
        ServerTemplate: 'Number',
        Created: 'DateTime',
        Modified: 'DateTime',
        LastDeleted: 'DateTime',
        Version: 'Number',
        ThumbnailSize: 'Number',
        WebImageWidth: 'Number',
        WebImageHeight: 'Number',
        Flags: 'Number',
        ItemCount: 'Number',
        ReadSecurity: 'Number',
        WriteSecurity: 'Number',
        Author: 'Number',
        MajorWithMinorVersionsLimit: 'Number',
        HasUniqueScopes: 'Boolean',
        NoThrottleListOperations: 'Boolean',
        HasRelatedLists: 'Boolean',
        AllowDeletion: 'Boolean',
        AllowMultiResponses: 'Boolean',
        EnableAttachments: 'Boolean',
        EnableModeration: 'Boolean',
        EnableVersioning: 'Boolean',
        HasExternalDataSource: 'Boolean',
        Hidden: 'Boolean',
        MultipleDataList: 'Boolean',
        Ordered: 'Boolean',
        ShowUser: 'Boolean',
        EnablePeopleSelector: 'Boolean',
        EnableResourceSelector: 'Boolean',
        EnableMinorVersion: 'Boolean',
        RequireCheckout: 'Boolean',
        ThrottleListOperations: 'Boolean',
        ExcludeFromOfflineClient: 'Boolean',
        EnableFolderCreation: 'Boolean',
        IrmEnabled: 'Boolean',
        IsApplicationList: 'Boolean',
        PreserveEmptyValues: 'Boolean',
        StrictTypeCoercion: 'Boolean',
        EnforceDataValidation: 'Boolean',
        MaxItemsPerThrottledOperation: 'Number'
    };
    /**
     * @ngdoc object
     * @name angularPoint.apXMLListAttributeTypes
     * @description Constant object map which contains many common XML attributes found on a list definition with their
     * corresponding type.
     */
    angular.module('angularPoint').constant('apXMLListAttributeTypes', ap.XMLListAttributeTypes);
})(ap || (ap = {}));

/// <reference path="../../typings/ap.d.ts" />
var ap;
(function (ap) {
    'use strict';
    var CamlFactory = (function () {
        function CamlFactory() {
        }
        /**
         * @ngdoc function
         * @name angularPoint.apCamlFactory:camlContainsQuery
         * @methodOf angularPoint.apCamlFactory
         * @parameter {object[]} fieldDefinitionsArray Array of fields to search for a given search string.
         * @parameter {string} searchString String of text to search records for.
         * @description
         * Returns a combination of selectors using CAML '<Or></Or>' elements
         * @returns {string} Caml select string.
         * @example
         * <pre>
         *
         * var testHTML = {objectType: 'HTML', staticName: 'HTML'};
         * var testJSON = {objectType: 'JSON', staticName: 'JSON'};
         * var testText = {objectType: 'Text', staticName: 'Text'};
         * var testText2 = {objectType: 'Text', staticName: 'Text'};
         *
         * var testCaml = camlContainsQuery([testHTML, testText, testJSON, testText2], 'Test Query');
         * console.log(testCaml);
         *
         * //Returns
         * <Or><Contains><FieldRef Name=\"HTML\" /><Value Type=\"Text\"><![CDATA[Test Query]]>
         * </Value></Contains><Or><Contains><FieldRef Name=\"Text\" /><Value Type=\"Text\">Test Query</Value>
         * </Contains><Or><Contains><FieldRef Name=\"JSON\" /><Value Type=\"Text\"><![CDATA[Test Query]]>
         * </Value></Contains><Contains><FieldRef Name=\"Text\" /><Value Type=\"Text\">Test Query</Value>
         * </Contains></Or></Or></Or>
         * </pre>
         */
        CamlFactory.prototype.camlContainsQuery = function (fieldDefinitionsArray, searchString) {
            var _this = this;
            var selectStatements = [];
            /** Create a select statement for each field */
            _.each(fieldDefinitionsArray, function (fieldDefinition, definitionIndex) {
                selectStatements.push(_this.createCamlContainsSelector(fieldDefinition, searchString));
            });
            return this.chainCamlSelects(selectStatements, 'And');
        };
        /**
         * @ngdoc function
         * @name angularPoint.apCamlFactory:chainCamlSelects
         * @methodOf angularPoint.apCamlFactory
         * @description
         * Used to combine multiple caml selectors into a single CAML query string wrapped properly.
         * @param {object[]} selectStatements An array of select statements to wrap in "<Or>".
         * @param {string} joinType Valid caml join type ('Or', 'And', ...).
         * @returns {string} CAML query string.
         */
        CamlFactory.prototype.chainCamlSelects = function (selectStatements, joinType) {
            var camlQuery = '', camlQueryClosure = '';
            _.each(selectStatements, function (statement, statementIndex) {
                /** Add an or clause if we still have additional fields to process */
                if (statementIndex < selectStatements.length - 1) {
                    camlQuery += '<' + joinType + '>';
                    camlQueryClosure = '</' + joinType + '>' + camlQueryClosure;
                }
                camlQuery += statement;
            });
            return camlQuery + camlQueryClosure;
        };
        /**
         * @ngdoc function
         * @name angularPoint.apCamlFactory:createCamlContainsSelector
         * @methodOf angularPoint.apCamlFactory
         * @description
         * Escapes characters that SharePoint gets upset about based on field type.
         * @example
         * <pre>
         * var testHTML = {objectType: 'HTML', staticName: 'HTML'};
         *
         * var testCaml = createCamlContainsSelector(testHTML, 'Test Query');
         * console.log(testCaml);
         *
         * //Returns
         * <Contains>
         *   <FieldRef Name=\"HTML\" />
         *   <Value Type=\"Text\"><![CDATA[Test Query]]></Value>
         * </Contains>
         * </pre>
         */
        CamlFactory.prototype.createCamlContainsSelector = function (fieldDefinition, searchString) {
            var camlSelector;
            switch (fieldDefinition.objectType) {
                case 'HTML':
                case 'JSON':
                    camlSelector = '' + '<Contains>' + '<FieldRef Name="' + fieldDefinition.staticName + '" />' + '<Value Type="Text"><![CDATA[' + searchString + ']]></Value>' + '</Contains>';
                    break;
                default:
                    camlSelector = '' + '<Contains>' + '<FieldRef Name="' + fieldDefinition.staticName + '" />' + '<Value Type="Text">' + searchString + '</Value>' + '</Contains>';
            }
            return camlSelector;
        };
        return CamlFactory;
    })();
    ap.CamlFactory = CamlFactory;
    /**
     * @ngdoc function
     * @name angularPoint.apCamlFactory
     * @description
     * Tools to assist with the creation of CAML queries.
     *
     */
    angular.module('angularPoint').service('apCamlFactory', CamlFactory);
})(ap || (ap = {}));

/// <reference path="../../typings/ap.d.ts" />
var ap;
(function (ap) {
    'use strict';
    var apFieldService, apUtilityService;
    /**
     * @ngdoc object
     * @name Field
     * @description
     * Defined in the MODEL.list.fieldDefinitions array.  Each field definition object maps an internal field
     * in a SharePoint list/library to a JavaScript object using the internal SharePoint field name, the field
     * type, and the desired JavaScript property name to add onto the parsed list item object. Ignore shown usage,
     * each field definition is just an object within the fieldDefinitions array.
     * @param {object} obj Field definition.
     * @param {string} obj.staticName The actual SharePoint field name.
     * @param {string} [obj.objectType='Text']
     * <dl>
     *     <dt>Boolean</dt>
     *     <dd>Used to store a TRUE/FALSE value (stored in SharePoint as 0 or 1).</dd>
     *     <dt>Calc</dt>
     *     <dd>";#" Delimited String: The first value will be the calculated column value
     *     type, the second will be the value</dd>
     *     <dt>Choice</dt>
     *     <dd>Simple text string but when processing the initial list definition, we
     *     look for a Choices XML element within the field definition and store each
     *     value.  We can then retrieve the valid Choices with one of the following:
     *     ```var fieldDefinition = LISTITEM.getFieldDefinition('CHOICE_FIELD_NAME');```
     *                                      or
     *     ```var fieldDefinition = MODELNAME.getFieldDefinition('CHOICE_FIELD_NAME');```
     *     ```var choices = fieldDefinition.Choices;```

     *     </dd>
     *     <dt>Counter</dt>
     *     <dd>Same as Integer. Generally used only for the internal ID field. Its integer
     *     value is set automatically to be unique with respect to every other item in the
     *     current list. The Counter type is always read-only and cannot be set through a
     *     form post.</dd>
     *     <dt>Currency</dt>
     *     <dd>Floating point number.</dd>
     *     <dt>DateTime</dt>
     *     <dd>Replace dashes with slashes and the "T" deliminator with a space if found.  Then
     *     converts into a valid JS date object.</dd>
     *     <dt>Float</dt>
     *     <dd>Floating point number.</dd>
     *     <dt>HTML</dt>
     *     <dd>```_.unescape(STRING)```</dd>
     *     <dt>Integer</dt>
     *     <dd>Parses the string to a base 10 int.</dd>
     *     <dt>JSON</dt>
     *     <dd>Parses JSON if valid and converts into a a JS object.  If not valid, an error is
     *     thrown with additional info on specifically what is invalid.</dd>
     *     <dt>Lookup</dt>
     *     <dd>Passes string to Lookup constructor where it is broken into an object containing
     *     a "lookupValue" and "lookupId" attribute.  Inherits additional prototype methods from
     *     Lookup.  See [Lookup](#/api/Lookup) for more information.
     *     </dd>
     *     <dt>LookupMulti</dt>
     *     <dd>Converts multiple delimited ";#" strings into an array of Lookup objects.</dd>
     *     <dt>MultiChoice</dt>
     *     <dd>Converts delimited ";#" string into an array of strings representing each of the
     *     selected choices.  Similar to the single "Choice", the XML Choices are stored in the
     *     field definition after the initial call is returned from SharePoint so we can reference
     *     later.
     *     </dd>
     *     <dt>Number</dt>
     *     <dd>Treats as a float.</dd>
     *     <dt>Text</dt>
     *     <dd>**Default** No processing of the text string from XML.</dd>
     *     <dt>User</dt>
     *     <dd>Similar to Lookup but uses the "User" prototype as a constructor to convert into a
     *     User object with "lookupId" and "lookupValue" attributes.  The lookupId is the site collection
     *     ID for the user and the lookupValue is typically the display name.
     *     See [User](#/api/User) for more information.
     *     </dd>
     *     <dt>UserMulti</dt>
     *     <dd>Parses delimited string to returns an array of User objects.</dd>
     * </dl>
     * @param {string} obj.mappedName The attribute name we'd like to use
     * for this field on the newly created JS object.
     * @param {boolean} [obj.readOnly=false] When saving, we only push fields
     * that are mapped and not read only.
     * @param {boolean} [obj.required=false] Allows us to validate the field to ensure it is valid based
     * on field type.
     * @returns {object} Field
     *
     * @requires angularPoint.apFieldFactory
     * @constructor
     */
    var Field = (function () {
        function Field(obj) {
            var self = this;
            var defaults = {
                readOnly: false,
                objectType: 'Text'
            };
            _.extend(self, defaults, obj);
            self.displayName = self.displayName ? self.displayName : apUtilityService.fromCamelCase(self.mappedName);
            /** Deprecated internal name and replace with staticName but maintain compatibility */
            self.staticName = self.staticName || self.internalName;
        }
        /**
         * @ngdoc function
         * @name Field:getDefaultValueForType
         * @methodOf Field
         * @description
         * Returns an object defining a specific field type
         * @returns {object} { defaultValue: '...':string, staticMock: '...':string, dynamicMock: ...:Function}
         */
        Field.prototype.getDefinition = function () {
            return apFieldService.getDefinition(this.objectType);
        };
        /**
         * @ngdoc function
         * @name Field:getDefaultValueForType
         * @methodOf Field
         * @description
         * Can return mock data appropriate for the field type, by default it dynamically generates data but
         * the staticValue param will instead return a hard coded type specific value.
         */
        Field.prototype.getDefaultValueForType = function () {
            return apFieldService.getDefaultValueForType(this.objectType);
        };
        /**
         * @ngdoc function
         * @name Field:getMockData
         * @methodOf Field
         * @param {object} [options] Optional params passed to apFieldService.getMockData.
         * @param {boolean} [options.staticValue=false] Default to dynamically build mock data.
         * @returns {*} mockData
         */
        Field.prototype.getMockData = function (options) {
            return apFieldService.getMockData(this.objectType, options);
        };
        return Field;
    })();
    ap.Field = Field;
    /**
     * @ngdoc service
     * @name angularPoint.apFieldFactory
     * @description
     * Contains the Field constructor and prototype definitions.
     * @property {constructor} Field The Field constructor.
     *
     * @requires angularPoint.apFieldService
     * @requires angularPoint.apUtilityService
     *
     */
    var FieldFactory = (function () {
        function FieldFactory($injector) {
            this.Field = Field;
            apFieldService = $injector.get('apFieldService');
            apUtilityService = $injector.get('apUtilityService');
        }
        return FieldFactory;
    })();
    ap.FieldFactory = FieldFactory;
    angular.module('angularPoint').service('apFieldFactory', FieldFactory);
})(ap || (ap = {}));

/// <reference path="../../typings/ap.d.ts" />
var ap;
(function (ap) {
    'use strict';
    /**
     * @ngdoc object
     * @name IndexedCache
     * @description
     * Cache constructor that is extended to make it easier to work with via prototype methods.  Located in
     * apIndexedCacheFactory.
     * @param {object} [object] Optionally extend new cache with provided object.
     * @requires angularPoint.apIndexedCacheFactory
     * @constructor
     */
    var IndexedCache = (function () {
        function IndexedCache(object) {
            if (object) {
                _.extend(this, object);
            }
        }
        /**
         * @ngdoc function
         * @name IndexedCache.addEntity
         * @methodOf IndexedCache
         * @description
         * Adds a new key to the cache if not already there with a value of the new listItem.
         * @param {object} listItem Entity to add to the cache.
         */
        IndexedCache.prototype.addEntity = function (listItem) {
            if (_.isObject(listItem) && !!listItem.id) {
                /** Only add the listItem to the cache if it's not already there */
                if (!this[listItem.id]) {
                    this[listItem.id] = listItem;
                }
            }
            else {
                throw 'A valid listItem wasn\'t found: ' + JSON.stringify(listItem);
            }
        };
        /**
         * @ngdoc function
         * @name IndexedCache.clear
         * @methodOf IndexedCache
         * @description
         * Clears all cached elements from the containing cache object.
         */
        IndexedCache.prototype.clear = function () {
            var _this = this;
            _.each(this, function (listItem, key) { return delete _this[key]; });
        };
        /**
         * @ngdoc function
         * @name IndexedCache.count
         * @methodOf IndexedCache
         * @description
         * Returns the number of entities in the cache.
         * @returns {number} Number of entities in the cache.
         */
        IndexedCache.prototype.count = function () {
            return this.keys().length;
        };
        /**
         * @ngdoc function
         * @name IndexedCache.first
         * @methodOf IndexedCache
         * @description
         * Returns the first listItem in the index (smallest ID).
         * @returns {object} First listItem in cache.
         */
        IndexedCache.prototype.first = function () {
            return this.nthEntity(0);
        };
        /**
         * @ngdoc function
         * @name IndexedCache.keys
         * @methodOf IndexedCache
         * @description
         * Returns the array of keys (listItem ID's) for the cache.
         * @returns {string[]} Array of listItem id's as strings.
         */
        IndexedCache.prototype.keys = function () {
            return _.keys(this);
        };
        /**
         * @ngdoc function
         * @name IndexedCache.last
         * @methodOf IndexedCache
         * @description
         * Returns the last listItem in the index (largest ID).
         * @returns {object} Last listItem in cache.
         */
        IndexedCache.prototype.last = function () {
            var keys = this.keys();
            return this[keys[keys.length - 1]];
        };
        /**
         * @ngdoc function
         * @name IndexedCache.nthEntity
         * @methodOf IndexedCache
         * @description
         * Based on the
         * @param {number} index The index of the item requested.
         * @returns {object} First listItem in cache.
         */
        IndexedCache.prototype.nthEntity = function (index) {
            var keys = this.keys();
            return this[keys[index]];
        };
        /**
         * @ngdoc function
         * @name IndexedCache.removeEntity
         * @methodOf IndexedCache
         * @description
         * Removes a listItem from the cache.
         * @param {object|number} listItem Entity to remove or ID of listItem to be removed.
         */
        IndexedCache.prototype.removeEntity = function (listItem) {
            if (_.isObject && listItem.id && this[listItem.id]) {
                delete this[listItem.id];
            }
            else if (_.isNumber(listItem)) {
                /** Allow listItem ID to be used instead of then listItem */
                delete this[listItem];
            }
        };
        /**
         * @ngdoc function
         * @name IndexedCache.toArray
         * @methodOf IndexedCache
         * @description
         * Turns the cache object into an array of entities.
         * @returns {object[]} Returns the array of entities currently in the cache.
         */
        IndexedCache.prototype.toArray = function () {
            return _.toArray(this);
        };
        return IndexedCache;
    })();
    ap.IndexedCache = IndexedCache;
    /**
     * @ngdoc object
     * @name angularPoint.apIndexedCacheFactory
     * @description
     * Exposes the EntityFactory prototype and a constructor to instantiate a new Entity Factory in apCacheService.
     *
     */
    var IndexedCacheFactory = (function () {
        function IndexedCacheFactory() {
            this.IndexedCache = IndexedCache;
        }
        /**
         * @ngdoc function
         * @name angularPoint.apIndexedCacheFactory:create
         * @methodOf angularPoint.apIndexedCacheFactory
         * @description
         * Instantiates and returns a new Indexed Cache.grunt
         */
        IndexedCacheFactory.prototype.create = function (overrides) {
            return new IndexedCache(overrides);
        };
        return IndexedCacheFactory;
    })();
    ap.IndexedCacheFactory = IndexedCacheFactory;
    angular.module('angularPoint').service('apIndexedCacheFactory', IndexedCacheFactory);
})(ap || (ap = {}));

/// <reference path="../../typings/ap.d.ts" />
var ap;
(function (ap) {
    'use strict';
    var apConfig, apDefaultFields, apFieldFactory;
    /**
     * @ngdoc object
     * @name List
     * @description
     * List Object Constructor.  This is handled automatically when creating a new model so there shouldn't be
     * any reason to manually call.
     * @param {object} config Initialization parameters.
     * @param {string} config.guid Unique SharePoint GUID for the list we'll be basing the model on
     * ex:'{4D74831A-42B2-4558-A67F-B0B5ADBC0EAC}'
     * @param {string} config.title Maps to the offline XML file in dev folder (no spaces)
     * ex: 'ProjectsList' so the offline XML file would be located at apConfig.offlineXML + 'ProjectsList.xml'
     * @param {object[]} [config.customFields] Mapping of SharePoint field names to the internal names we'll be using
     * in our application.  Also contains field type, readonly attribute, and any other non-standard settings.
     * <pre>
     * [
     *   {
         *       staticName: "Title",
         *       objectType: "Text",
         *       mappedName: "lastName",
         *       readOnly:false
         *   },
     *   {
         *       staticName: "FirstName",
         *       objectType: "Text",
         *       mappedName: "firstName",
         *       readOnly:false
         *   },
     *   {
         *       staticName: "Organization",
         *       objectType: "Lookup",
         *       mappedName: "organization",
         *       readOnly:false
         *   },
     *   {
         *       staticName: "Account",
         *       objectType: "User",
         *       mappedName: "account",
         *       readOnly:false
         *   },
     *   {
         *       staticName: "Details",
         *       objectType: "Text",
         *       mappedName: "details",
         *       readOnly:false
         *   }
     * ]
     * </pre>
     * @property {string} viewFields XML string defining each of the fields to include in all CRUD requests,
     * generated when the Model.List is instantiated.
     * <pre>
     *     <ViewFields>...</ViewFields>
     * </pre>
     * @property {Field[]} fields Generated when the Model.List is instantiated.  Combines the standard
     * default fields for all lists with the fields identified in the config.customFields and instantiates each
     * with the Field constructor.
     * @requires angularPoint.apListFactory
     * @constructor
     */
    var List = (function () {
        function List(config) {
            this.customFields = [];
            this.fields = [];
            this.guid = '';
            this.isReady = false;
            this.mapping = {};
            this.title = '';
            this.viewFields = '';
            this.webURL = apConfig.defaultUrl;
            _.extend(this, config);
            this.environments = this.environments || { production: this.guid };
            this.extendFieldDefinitions();
        }
        /**
         * @description
         * 1. Populates the fields array which uses the Field constructor to combine the default
         * SharePoint fields with those defined in the list definition on the model
         * 2. Creates the list.viewFields XML string that defines the fields to be requested on a query
         *
         * @param {object} list Reference to the list within a model.
         */
        List.prototype.extendFieldDefinitions = function () {
            var _this = this;
            /**
             * Constructs the field
             * - adds to viewField
             * - create ows_ mapping
             * @param fieldDefinition
             */
            var buildField = function (fieldDefinition) {
                var field = new apFieldFactory.Field(fieldDefinition);
                _this.fields.push(field);
                _this.viewFields += '<FieldRef Name="' + field.staticName + '"/>';
                _this.mapping['ows_' + field.staticName] = {
                    mappedName: field.mappedName,
                    objectType: field.objectType
                };
            };
            /** Open viewFields */
            this.viewFields += '<ViewFields>';
            /** Add the default fields */
            _.each(apDefaultFields, function (field) { return buildField(field); });
            /** Add each of the fields defined in the model */
            _.each(this.customFields, function (field) { return buildField(field); });
            /** Close viewFields */
            this.viewFields += '</ViewFields>';
        };
        /**
         * @ngdoc function
         * @name List:getListId
         * @methodOf List
         * @description
         * Defaults to list.guid.  For a multi-environment setup, we accept a list.environments object with a property for each named
         * environment with a corresponding value of the list guid.  The active environment can be selected
         * by setting apConfig.environment to the string name of the desired environment.
         * @returns {string} List ID.
         */
        List.prototype.getListId = function () {
            if (_.isString(this.environments[apConfig.environment])) {
                /**
                 * For a multi-environment setup, we accept a list.environments object with a property for each named
                 * environment with a corresponding value of the list guid.  The active environment can be selected
                 * by setting apConfig.environment to the string name of the desired environment.
                 */
                return this.environments[apConfig.environment];
            }
            else {
                throw new Error('There isn\'t a valid environment definition for apConfig.environment=' + apConfig.environment + '  ' + 'Please confirm that the list "' + this.title + '" has the necessary environmental configuration.');
            }
        };
        /**
         * @ngdoc function
         * @name List:identifyWebURL
         * @methodOf List
         * @description
         * If a list is extended, use the provided webURL, otherwise use list.webURL.  If never set it will default
         * to apConfig.defaultUrl.
         * @returns {string} webURL param.
         */
        List.prototype.identifyWebURL = function () {
            return this.WebFullUrl ? this.WebFullUrl : this.webURL;
        };
        return List;
    })();
    ap.List = List;
    /**
     * @ngdoc service
     * @name angularPoint.apListFactory
     * @description
     * Exposes the List prototype and a constructor to instantiate a new List.
     *
     * @property {constructor} List The List constructor.
     *
     * @requires angularPoint.apConfig
     * @requires angularPoint.apDefaultFields
     * @requires angularPoint.apFieldFactory
     */
    var ListFactory = (function () {
        function ListFactory($injector) {
            this.List = List;
            apConfig = $injector.get('apConfig');
            apDefaultFields = $injector.get('apDefaultFields');
            apFieldFactory = $injector.get('apFieldFactory');
        }
        /**
         * @ngdoc function
         * @name angularPoint.apListFactory:create
         * @methodOf angularPoint.apListFactory
         * @param {object} config Options object.
         * @description
         * Instantiates and returns a new List.
         */
        ListFactory.prototype.create = function (config) {
            return new List(config);
        };
        return ListFactory;
    })();
    ap.ListFactory = ListFactory;
    angular.module('angularPoint').service('apListFactory', ListFactory);
})(ap || (ap = {}));

/// <reference path="../../typings/ap.d.ts" />
var ap;
(function (ap) {
    'use strict';
    var $q, toastr, apCacheService, apDataService, apEncodeService, apUtilityService, apFormattedFieldValueService, apConfig;
    /**
     * @ngdoc object
     * @name ListItem
     * @description
     * Base prototype which all list items inherit from.  All methods can be accessed through this prototype so all CRUD
     * functionality can be called directly from a given list item.
     * @constructor
     */
    var ListItem = (function () {
        function ListItem() {
        }
        /**
         * @ngdoc function
         * @name ListItem.saveChanges
         * @methodOf ListItem
         * @description
         * Updates record directly from the object
         * @param {object} [options] Optionally pass params to the data service.
         * @param {boolean} [options.updateAllCaches=false] Search through the cache for each query to ensure listItem is
         * updated everywhere.  This is more process intensive so by default we only update the cached listItem in the
         * cache where this listItem is currently stored.
         * @returns {object} Promise which resolved with the updated list item from the server.
         * @example
         * <pre>
         * // Example of save function on a fictitious
         * // app/modules/tasks/TaskDetailsCtrl.js modal form.
         * $scope.saveChanges = function(task) {
         *      task.saveChanges().then(function() {
         *          // Successfully saved so we can do something
         *          // like close form
         *
         *          }, function() {
         *          // Failure
         *
         *          });
         * }
         * </pre>
         */
        ListItem.prototype.saveChanges = function (options) {
            var listItem = this;
            var model = listItem.getModel();
            var deferred = $q.defer();
            /** Redirect if the request is actually creating a new list item.  This can occur if we create
             * an empty item that is instantiated from the model and then attempt to save instead of using
             * model.addNewItem */
            if (!listItem.id) {
                return model.addNewItem(listItem, options);
            }
            apDataService.updateListItem(model, listItem, options).then(function (updatedListItem) {
                deferred.resolve(updatedListItem);
                /** Optionally broadcast change event */
                apUtilityService.registerChange(model, 'update', updatedListItem.id);
            });
            return deferred.promise;
        };
        /**
         * @ngdoc function
         * @name ListItem.saveFields
         * @methodOf ListItem
         * @description
         * Saves a named subset of fields back to SharePoint.  This is an alternative to saving all fields.
         * @param {array|string} fieldArray Array of internal field names that should be saved to SharePoint or a single
         * string to save an individual field.
         * @param {object} [options] Optionally pass params to the data service.
         * @param {boolean} [options.updateAllCaches=false] Search through the cache for each query to ensure listItem is
         * updated everywhere.  This is more process intensive so by default we only update the cached listItem in the
         * cache where this listItem is currently stored.
         * @returns {object} Promise which resolves with the updated list item from the server.
         * @example
         * <pre>
         * // Example of saveFields function on a fictitious
         * // app/modules/tasks/TaskDetailsCtrl.js modal form.
         * // Similar to saveChanges but instead we only save
         * // specified fields instead of pushing everything.
         * $scope.updateStatus = function(task) {
         *      task.saveFields(['status', 'notes']).then(function() {
         *          // Successfully updated the status and
         *          // notes fields for the given task
         *
         *          }, function() {
         *          // Failure to update the field
         *
         *          });
         * }
         * </pre>
         */
        ListItem.prototype.saveFields = function (fieldArray, options) {
            var listItem = this;
            var model = listItem.getModel();
            var deferred = $q.defer();
            var definitions = [];
            /** Allow a string to be passed in to save a single field */
            var fieldNames = _.isString(fieldArray) ? [fieldArray] : fieldArray;
            /** Find the field definition for each of the requested fields */
            _.each(fieldNames, function (field) {
                var match = _.find(model.list.customFields, { mappedName: field });
                if (match) {
                    definitions.push(match);
                }
            });
            /** Generate value pairs for specified fields */
            var valuePairs = apEncodeService.generateValuePairs(definitions, listItem);
            var defaults = { buildValuePairs: false, valuePairs: valuePairs };
            /** Extend defaults with any provided options */
            var opts = _.extend({}, defaults, options);
            apDataService.updateListItem(model, listItem, opts).then(function (updatedListItem) {
                deferred.resolve(updatedListItem);
                /** Optionally broadcast change event */
                apUtilityService.registerChange(model, 'update', updatedListItem.id);
            });
            return deferred.promise;
        };
        /**
         * @ngdoc function
         * @name ListItem.deleteItem
         * @methodOf ListItem
         * @description
         * Deletes record directly from the object and removes record from user cache.
         * @param {object} [options] Optionally pass params to the dataService.
         * @param {boolean} [options.updateAllCaches=false] Iterate over each of the query cache's and ensure the listItem is
         * removed everywhere.  This is more process intensive so by default we only remove the cached listItem in the
         * cache where this listItem is currently stored.
         * @returns {object} Promise which really only lets us know the request is complete.
         * @example
         * ```
         * <ul>
         *    <li ng-repeat="task in tasks">
         *        {{task.title}} <a href ng-click="task.deleteItem()>delete</a>
         *    </li>
         * </ul>
         * ```
         * List of tasks.  When the delete link is clicked, the list item item is removed from the local cache and
         * the view is updated to no longer show the task.
         */
        ListItem.prototype.deleteItem = function (options) {
            var listItem = this;
            var model = listItem.getModel();
            var deferred = $q.defer();
            apDataService.deleteListItem(model, listItem, options).then(function (response) {
                deferred.resolve(response);
                /** Optionally broadcast change event */
                apUtilityService.registerChange(model, 'delete', listItem.id);
            });
            return deferred.promise;
        };
        /**
         * @ngdoc function
         * @name ListItem.getLookupReference
         * @methodOf ListItem
         * @description
         * Allows us to retrieve the listItem being referenced in a given lookup field.
         * @param {string} fieldName Name of the lookup property on the list item that references a listItem.
         * @param {number} [lookupId=listItem.fieldName.lookupId] The listItem.lookupId of the lookup object.  This allows us to also use this logic
         * on a multi-select by iterating over each of the lookups.
         * @example
         * <pre>
         * var project = {
             *    title: 'Project 1',
             *    location: {
             *        lookupId: 5,
             *        lookupValue: 'Some Building'
             *    }
             * };
         *
         * //To get the location listItem
         * var listItem = project.getLookupReference('location');
         * </pre>
         * @returns {object} The listItem the lookup is referencing or undefined if not in the cache.
         */
        ListItem.prototype.getLookupReference = function (fieldName, lookupId) {
            var listItem = this;
            var lookupReference;
            if (_.isUndefined(fieldName)) {
                throw new Error('A field name is required.');
            }
            else if (_.isEmpty(listItem[fieldName])) {
                lookupReference = '';
            }
            else {
                var model = listItem.getModel();
                var fieldDefinition = model.getFieldDefinition(fieldName);
                /** Ensure the field definition has the List attribute which contains the GUID of the list
                 *  that a lookup is referencing. */
                if (fieldDefinition && fieldDefinition.List) {
                    var targetId = lookupId || listItem[fieldName].lookupId;
                    lookupReference = apCacheService.getCachedEntity(fieldDefinition.List, targetId);
                }
                else {
                    throw new Error('This isn\'t a valid Lookup field or the field definitions need to be extended ' + 'before we can complete this request.');
                }
            }
            return lookupReference;
        };
        /**
         * @ngdoc function
         * @name ListItem.getFormattedValue
         * @methodOf ListItem
         * @description
         * Given the attribute name on a listItem, we can lookup the field type and from there return a formatted
         * string representation of that value.
         * @param {string} fieldName Attribute name on the object that contains the value to stringify.
         * @param {object} [options] Pass through to apFormattedFieldValueService.getFormattedFieldValue.
         * @returns {string} Formatted string representing the field value.
         */
        ListItem.prototype.getFormattedValue = function (fieldName, options) {
            var listItem = this;
            var fieldDefinition = listItem.getFieldDefinition(fieldName);
            if (!fieldDefinition) {
                throw 'A field definition for a field named ' + fieldName + ' wasn\'t found.';
            }
            return apFormattedFieldValueService.getFormattedFieldValue(listItem[fieldName], fieldDefinition.objectType, options);
        };
        /**
         * @ngdoc function
         * @name ListItem.validateEntity
         * @methodOf ListItem
         * @description
         * Helper function that passes the current item to Model.validateEntity
         * @param {object} [options] Optionally pass params to the dataService.
         * @param {boolean} [options.toast=true] Set to false to prevent toastr messages from being displayed.
         * @returns {boolean} Evaluation of validity.
         */
        ListItem.prototype.validateEntity = function (options) {
            var listItem = this, model = listItem.getModel();
            return model.validateEntity(listItem, options);
        };
        /**
         * @ngdoc function
         * @name ListItem.getFieldDefinition
         * @methodOf ListItem
         * @description
         * Returns the field definition from the definitions defined in the custom fields array within a model.
         * @example
         * <pre>
         * var project = {
             *    title: 'Project 1',
             *    location: {
             *        lookupId: 5,
             *        lookupValue: 'Some Building'
             *    }
             * };
         *
         * //To get field metadata
         * var locationDefinition = project.getFieldDefinition('location');
         * </pre>
         * @param {string} fieldName Internal field name.
         * @returns {object} Field definition.
         */
        ListItem.prototype.getFieldDefinition = function (fieldName) {
            var listItem = this;
            return listItem.getModel().getFieldDefinition(fieldName);
        };
        /**
         * @ngdoc function
         * @name ListItem.getFieldLabel
         * @methodOf ListItem
         * @param {string} fieldName Internal field name.
         * @description
         * Uses the field definition defined in the model to attempt to find the label for a given field.  The default
         * value is fieldDefinition.label.  If not available it will then use fieldDefinition.DisplayName which is
         * populated after a GetListItemsSinceToken operation or a Model.extendListMetadata operation.  If this isn't
         * available it will fallback to the the fieldDefinition.DisplayName which is a best guess at converting the
         * caml case version of the mapped name using apUtilityService.fromCamelCase.
         * @returns {string} The label for a given field object.
         */
        ListItem.prototype.getFieldLabel = function (fieldName) {
            var listItem = this;
            var fieldDefinition = listItem.getFieldDefinition(fieldName);
            return fieldDefinition.label || fieldDefinition.DisplayName || fieldDefinition.displayName;
        };
        /**
         * @ngdoc function
         * @name ListItem.getFieldDescription
         * @methodOf ListItem
         * @param {string} fieldName Internal field name.
         * @description
         * Uses the field definition defined in the model to attempt to find the description for a given field.  The default
         * value is fieldDefinition.Description which is populated after a GetListItemsSinceToken operation or a
         * Model.extendListMetadata operation.  If this isn't available we look for an optional attribute of a field
         * fieldDefinition.description.  Finally if that have anything it returns an empty string.
         * @returns {string} The description for a given field object.
         */
        ListItem.prototype.getFieldDescription = function (fieldName) {
            var listItem = this;
            var fieldDefinition = listItem.getFieldDefinition(fieldName);
            return fieldDefinition.description || fieldDefinition.Description || '';
        };
        /**
         * @ngdoc function
         * @name ListItem.getFieldChoices
         * @methodOf ListItem
         * @param {string} fieldName Internal field name.
         * @description
         * Uses the field definition defined in the model to attempt to find the choices array for a given Lookup or
         * MultiLookup type field.  The default value is fieldDefinition.choices which can optionally be added to a
         * given field definition.  If this isn't found, we check fieldDefinition.Choices which is populated after a
         * GetListItemsSinceToken operation or a Model.extendListMetadata operation.  Finally if that isn't available
         * we return an empty array.
         * @returns {string[]} An array of choices for a Choice or MultiChoice type field.
         */
        ListItem.prototype.getFieldChoices = function (fieldName) {
            var listItem = this;
            var fieldDefinition = listItem.getFieldDefinition(fieldName);
            return fieldDefinition.choices || fieldDefinition.Choices || [];
        };
        /**
         * @ngdoc function
         * @name ListItem.getAvailableWorkflows
         * @methodOf ListItem
         * @description
         * Wrapper for apDataService.getAvailableWorkflows.  Simply passes the current item in.
         * @returns {promise} Array of objects defining each of the available workflows.
         */
        ListItem.prototype.getAvailableWorkflows = function () {
            var listItem = this;
            return apDataService.getAvailableWorkflows(listItem.fileRef.lookupValue);
        };
        /**
         * @ngdoc function
         * @name ListItem.getListId
         * @description
         * Allows us to reference the list ID directly from the list item.  This is added to the
         * model.factory prototype in apModelFactory.
         * @returns {string} List ID.
         */
        ListItem.prototype.getListId = function () {
            var model = this.getModel();
            return model.getListId();
        };
        /**
         * @ngdoc function
         * @name ListItem.getList
         * @description
         * Abstraction to allow logic in model to be used instead of defining the list location in more than one place.
         * @returns {object} List for the list item.
         */
        ListItem.prototype.getList = function () {
            var model = this.getModel();
            return model.getList();
        };
        /**
         * @ngdoc function
         * @name ListItem.startWorkflow
         * @methodOf ListItem
         * @description
         * Given a workflow name or templateId we initiate a given workflow using apDataService.startWorkflow.
         * @param {object} options Params for method and pass through options to apDataService.startWorkflow.
         * @param {string} [options.templateId] Used to directly start the workflow without looking up the templateId.
         * @param {string} [options.workflowName] Use this value to lookup the templateId and then start the workflow.
         * @returns {promise} Resolves with server response.
         */
        ListItem.prototype.startWorkflow = function (options) {
            var listItem = this, deferred = $q.defer();
            /** Set the relative file reference */
            options.fileRef = listItem.fileRef.lookupValue;
            if (!options.templateId && !options.workflowName) {
                throw 'Either a templateId or workflowName is required to initiate a workflow.';
            }
            else if (options.templateId) {
                /** The templateId is already provided so we don't need to look for it */
                initiateRequest();
            }
            else {
                /** We first need to get the template GUID for the workflow */
                listItem.getAvailableWorkflows().then(function (workflows) {
                    var targetWorklow = _.findWhere(workflows, { name: options.workflowName });
                    if (!targetWorklow) {
                        throw 'A workflow with the specified name wasn\'t found.';
                    }
                    /** Create an extended set of options to pass any overrides to apDataService */
                    options.templateId = targetWorklow.templateId;
                    initiateRequest();
                });
            }
            return deferred.promise;
            function initiateRequest() {
                apDataService.startWorkflow(options).then(function (xmlResponse) {
                    deferred.resolve(xmlResponse);
                });
            }
        };
        /**
         * @ngdoc function
         * @name ListItem.getAttachmentCollection
         * @methodOf ListItem
         * @description
         * Requests all attachments for a given list item.
         * @returns {object} Promise which resolves with all attachments for a list item.
         * @example
         * <pre>
         * //Pull down all attachments for the current list item
         * var fetchAttachments = function (listItem) {
             *     listItem.getAttachmentCollection()
             *         .then(function (attachments) {
             *             scope.attachments = attachments;
             *         });
             * };
         * </pre>
         */
        ListItem.prototype.getAttachmentCollection = function () {
            var listItem = this;
            return apDataService.getCollection({
                operation: 'GetAttachmentCollection',
                listName: listItem.getModel().list.getListId(),
                webURL: listItem.getModel().list.webURL,
                ID: listItem.id,
                filterNode: 'Attachment'
            });
        };
        /**
         * @ngdoc function
         * @name ListItem.deleteAttachment
         * @methodOf ListItem
         * @description
         * Delete an attachment from a list item.
         * @param {string} url Requires the URL for the attachment we want to delete.
         * @returns {object} Promise which resolves with the updated attachment collection.
         * @example
         * <pre>
         * $scope.deleteAttachment = function (attachment) {
             *     var confirmation = window.confirm("Are you sure you want to delete this file?");
             *     if (confirmation) {
             *         scope.listItem.deleteAttachment(attachment).then(function () {
             *             alert("Attachment successfully deleted");
             *         });
             *     }
             * };
         * </pre>
         */
        ListItem.prototype.deleteAttachment = function (url) {
            var listItem = this;
            return apDataService.deleteAttachment({
                listItemID: listItem.id,
                url: url,
                listName: listItem.getModel().list.getListId()
            });
        };
        /**
         * @ngdoc function
         * @name ListItem.resolvePermissions
         * @methodOf ListItem
         * @description
         * See apModelService.resolvePermissions for details on what we expect to have returned.
         * @returns {Object} Contains properties for each permission level evaluated for current user.
         * @example
         * Lets assume we're checking to see if a user has edit rights for a given task list item.
         * <pre>
         * var canUserEdit = function(task) {
             *      var userPermissions = task.resolvePermissions();
             *      return userPermissions.EditListItems;
             * };
         * </pre>
         * Example of what the returned object would look like
         * for a site admin.
         * <pre>
         * userPermissions = {
             *    "ViewListItems": true,
             *    "AddListItems": true,
             *    "EditListItems": true,
             *    "DeleteListItems": true,
             *    "ApproveItems": true,
             *    "OpenItems": true,
             *    "ViewVersions": true,
             *    "DeleteVersions": true,
             *    "CancelCheckout": true,
             *    "PersonalViews": true,
             *    "ManageLists": true,
             *    "ViewFormPages": true,
             *    "Open": true,
             *    "ViewPages": true,
             *    "AddAndCustomizePages": true,
             *    "ApplyThemeAndBorder": true,
             *    "ApplyStyleSheets": true,
             *    "ViewUsageData": true,
             *    "CreateSSCSite": true,
             *    "ManageSubwebs": true,
             *    "CreateGroups": true,
             *    "ManagePermissions": true,
             *    "BrowseDirectories": true,
             *    "BrowseUserInfo": true,
             *    "AddDelPrivateWebParts": true,
             *    "UpdatePersonalWebParts": true,
             *    "ManageWeb": true,
             *    "UseRemoteAPIs": true,
             *    "ManageAlerts": true,
             *    "CreateAlerts": true,
             *    "EditMyUserInfo": true,
             *    "EnumeratePermissions": true,
             *    "FullMask": true
             * }
         * </pre>
         */
        ListItem.prototype.resolvePermissions = function () {
            return apUtilityService.resolvePermissions(this.permMask);
        };
        /**
         * @ngdoc function
         * @name ListItem.getFieldVersionHistory
         * @methodOf ListItem
         * @description
         * Takes an array of field names, finds the version history for field, and returns a snapshot of the object at each
         * version.  If no fields are provided, we look at the field definitions in the model and pull all non-readonly
         * fields.  The only way to do this that I've been able to get working is to get the version history for each
         * field independently and then build the history by combining the server responses for each requests into a
         * snapshot of the object.
         * @param {string[]} [fieldNames] An array of field names that we're interested in.
         * @returns {object} promise - containing array of changes
         * @example
         * Assuming we have a modal form where we want to display each version of the title and project fields
         * of a given list item.
         * <pre>
         * myGenericListItem.getFieldVersionHistory(['title', 'project'])
         *     .then(function(versionHistory) {
             *            // We now have an array of every version of these fields
             *            $scope.versionHistory = versionHistory;
             *      };
         * </pre>
         */
        ListItem.prototype.getFieldVersionHistory = function (fieldNames) {
            var deferred = $q.defer();
            var promiseArray = [];
            var listItem = this;
            var model = listItem.getModel();
            /** Constructor that creates a promise for each field */
            var createPromise = function (fieldName) {
                var fieldDefinition = _.find(model.list.fields, { mappedName: fieldName });
                var payload = {
                    operation: 'GetVersionCollection',
                    strlistID: model.list.getListId(),
                    strlistItemID: listItem.id,
                    strFieldName: fieldDefinition.staticName,
                    webURL: undefined
                };
                /** Manually set site url if defined, prevents SPServices from making a blocking call to fetch it. */
                if (apConfig.defaultUrl) {
                    payload.webURL = apConfig.defaultUrl;
                }
                promiseArray.push(apDataService.getFieldVersionHistory(payload, fieldDefinition));
            };
            if (!fieldNames) {
                /** If fields aren't provided, pull the version history for all NON-readonly fields */
                var targetFields = _.where(model.list.fields, { readOnly: false });
                fieldNames = [];
                _.each(targetFields, function (field) {
                    fieldNames.push(field.mappedName);
                });
            }
            else if (_.isString(fieldNames)) {
                /** If a single field name is provided, add it to an array so we can process it more easily */
                fieldNames = [fieldNames];
            }
            /** Generate promises for each field */
            _.each(fieldNames, function (fieldName) {
                createPromise(fieldName);
            });
            /** Pause until all requests are resolved */
            $q.all(promiseArray).then(function (changes) {
                var versionHistory = {};
                /** All fields should have the same number of versions */
                _.each(changes, function (fieldVersions) {
                    _.each(fieldVersions, function (fieldVersion) {
                        versionHistory[fieldVersion.modified.toJSON()] = versionHistory[fieldVersion.modified.toJSON()] || {};
                        /** Add field to the version history for this version */
                        _.extend(versionHistory[fieldVersion.modified.toJSON()], fieldVersion);
                    });
                });
                var versionArray = [];
                /** Add a version prop on each version to identify the numeric sequence */
                _.each(versionHistory, function (ver, num) {
                    ver.version = num;
                    versionArray.push(ver);
                });
                deferred.resolve(versionArray);
            });
            return deferred.promise;
        };
        return ListItem;
    })();
    ap.ListItem = ListItem;
    /** In the event that a factory isn't specified, just use a
     * standard constructor to allow it to inherit from ListItem */
    var StandardListItem = (function () {
        function StandardListItem(obj) {
            _.assign(this, obj);
        }
        return StandardListItem;
    })();
    ap.StandardListItem = StandardListItem;
    /**
     * @ngdoc object
     * @name apListItemFactory
     * @description
     * Exposes the ListItem prototype and a constructor to instantiate a new ListItem.
     * See [ListItem](#/api/ListItem) for details of the methods available on the prototype.
     *
     * @requires ListItem
     * @requires apCacheService
     * @requires apDataService
     * @requires apUtilityService
     */
    var ListItemFactory = (function () {
        function ListItemFactory($injector) {
            this.ListItem = ListItem;
            $q = $injector.get("$q");
            apCacheService = $injector.get("apCacheService");
            apConfig = $injector.get("apConfig");
            apDataService = $injector.get("apDataService");
            apEncodeService = $injector.get("apEncodeService");
            apFormattedFieldValueService = $injector.get("apFormattedFieldValueService");
            apUtilityService = $injector.get("apUtilityService");
            toastr = $injector.get("toastr");
        }
        /**
         * @ngdoc function
         * @name apListItemFactory: create
         * @methodOf apListItemFactory
         * @description
         * Instantiates and returns a new ListItem.
         */
        ListItemFactory.prototype.create = function () {
            return new ListItem();
        };
        /**
         * @ngdoc function
         * @name apListItemFactory: createGenericFactory
         * @methodOf apListItemFactory
         * @description
         * In the event that a factory isn't specified, just use a
         * standard constructor to allow it to inherit from ListItem
         */
        ListItemFactory.prototype.createGenericFactory = function () {
            return new StandardListItem();
        };
        return ListItemFactory;
    })();
    ap.ListItemFactory = ListItemFactory;
    angular.module('angularPoint').service('apListItemFactory', ListItemFactory);
})(ap || (ap = {}));

/// <reference path="../../typings/ap.d.ts" />
var ap;
(function (ap) {
    'use strict';
    var $q, apUtilityService;
    /**
     * @ngdoc function
     * @name Lookup
     * @description
     * Allows for easier distinction when debugging if object type is shown as either Lookup or User.  Also allows us
     * to create an async request for the entity being referenced by the lookup
     * @param {string} s String to split into lookupValue and lookupId
     * @param {object} options Contains a reference to the parent list item and the property name.
     * @param {object} options.entity Reference to parent list item.
     * @param {object} options.propertyName Key on list item object.
     * @constructor
     */
    var Lookup = (function () {
        function Lookup(s, options) {
            var lookup = this;
            var thisLookup = new apUtilityService.SplitIndex(s);
            lookup.lookupId = thisLookup.id;
            lookup.lookupValue = thisLookup.value || '';
        }
        return Lookup;
    })();
    ap.Lookup = Lookup;
    var LookupFactory = (function () {
        function LookupFactory($injector) {
            this.Lookup = Lookup;
            $q = $injector.get('$q');
            apUtilityService = $injector.get('apUtilityService');
        }
        /**
         * @ngdoc function
         * @name angularPoint.apLookupFactory:create
         * @methodOf angularPoint.apLookupFactory
         * @description
         * Instantiates and returns a new Lookup field.
         */
        LookupFactory.prototype.create = function (s, options) {
            return new Lookup(s, options);
        };
        return LookupFactory;
    })();
    ap.LookupFactory = LookupFactory;
    /**
     * @ngdoc function
     * @name angularPoint.apLookupFactory
     * @description
     * Tools to assist with the creation of CAML queries.
     *
     */
    angular.module('angularPoint').service('apLookupFactory', LookupFactory);
})(ap || (ap = {}));

/// <reference path="../../typings/ap.d.ts" />
var ap;
(function (ap) {
    'use strict';
    var apCacheService, apDataService, apListFactory, ListItemFactory, apQueryFactory, apUtilityService, apFieldService, apConfig, apIndexedCacheFactory, apDecodeService, $q, toastr;
    var Model = (function () {
        function Model(config) {
            var _this = this;
            this.data = [];
            this.fieldDefinitionsExtended = false;
            this.queries = {};
            var model = this;
            _.assign(model, config);
            model.factory.prototype.getModel = function () { return _this; };
            /** Use list constructor to decorate */
            model.list = apListFactory.create(model.list);
            /** Register cache name with cache service so we can map factory name with list GUID */
            apCacheService.registerModel(model);
            /** Convenience query that simply returns all list items within a list. */
            model.registerQuery({
                name: 'getAllListItems',
                operation: 'GetListItems'
            });
        }
        /**
         * @ngdoc function
         * @name ListItem.getModel
         * @description
         * Allows us to reference the parent model directly from the list item.  This is added to the
         * model.factory prototype in apModelFactory.  See the [List](#/api/List) documentation for more info.
         * @returns {object} Model for the list item.
         */
        Model.prototype.getModel = function () {
            return this;
        };
        /**
         * @ngdoc function
         * @name ListItem.getListId
         * @description
         * Allows us to reference the list ID directly from the model.
         * @returns {string} List ID.
         */
        Model.prototype.getListId = function () {
            return this.list.getListId();
        };
        /**
         * @ngdoc function
         * @name ListItem.getList
         * @description
         * Allows us to reference the list definition directly from the list item.  This is added to the
         * model.factory prototype in apModelFactory.  See the [List](#/api/List) documentation for more info.
         * @returns {object} List for the list item.
         */
        Model.prototype.getList = function () {
            return this.list;
        };
        /**
         * @ngdoc function
         * @name Model.addNewItem
         * @module Model
         * @description
         * Using the definition of a list stored in a model, create a new list item in SharePoint.
         * @param {object} entity An object that will be converted into key/value pairs based on the field definitions
         * defined in the model.
         * @param {object} [options] - Pass additional options to the data service.
         * @returns {object} A promise which when resolved will returned the newly created list item from there server.
         * This allows us to update the view with a valid new object that contains a unique list item id.
         *
         * @example
         * <pre>
         * <file name="app/modules/project/projectsModel.js">
         * projectModel.addNewItem({
             *        title: 'A Project',
             *        customer: {lookupValue: 'My Customer', lookupId: 123},
             *        description: 'This is the project description'
             *     }).then(function(newEntityFromServer) {
             *         //The local query cache is automatically updated but
             *         //any other dependent logic can go here
             * };
         * </file>
         * </pre>
         */
        Model.prototype.addNewItem = function (entity, options) {
            var model = this, deferred = $q.defer();
            apDataService.createListItem(model, entity, options).then(function (listItem) {
                deferred.resolve(listItem);
                /** Optionally broadcast change event */
                apUtilityService.registerChange(model, 'create', listItem.id);
            });
            return deferred.promise;
        };
        /**
         * @ngdoc function
         * @name Model.createEmptyItem
         * @module Model
         * @description
         * Creates an object using the editable fields from the model, all attributes are empty based on the field
         * type unless an overrides object is passed in.  The overrides object extends the defaults.  A benefit to this
         * approach is the returned object inherits from the ListItem prototype so we have the ability to call
         * entity.saveChanges instead of calling the model.addNewItem(entity).
         *
         * @param {object} [overrides] - Optionally extend the new empty item with specific values.
         * @returns {object} Newly created list item.
         */
        Model.prototype.createEmptyItem = function (overrides) {
            var model = this;
            var newItem = {};
            _.each(model.list.customFields, function (fieldDefinition) {
                /** Create attributes for each non-readonly field definition */
                if (!fieldDefinition.readOnly) {
                    /** Create an attribute with the expected empty value based on field definition type */
                    newItem[fieldDefinition.mappedName] = apFieldService.getDefaultValueForType(fieldDefinition.objectType);
                }
            });
            /** Extend any values that should override the default empty values */
            var rawObject = _.assign({}, newItem, overrides);
            return new model.factory(rawObject);
        };
        /**
         * @ngdoc function
         * @name Model.executeQuery
         * @module Model
         * @description
         * The primary method for retrieving data from a query registered on a model.  It returns a promise
         * which resolves to the local cache after post processing entities with constructors.
         *
         * @param {string} [queryName=apConfig.defaultQueryName] A unique key to identify this query
         * @param {object} [options] Pass options to the data service.
         * @returns {object} Promise that when resolves returns an array of list items which inherit from ListItem and
         * optionally go through a defined constructor on the model.
         *
         * @example To call the query or check for changes since the last call.
         * <pre>
         * projectModel.executeQuery('MyCustomQuery').then(function(entities) {
             *      //We now have a reference to array of entities stored in the local cache
             *      //These inherit from the ListItem prototype as well as the Project prototype on the model
             *      $scope.subsetOfProjects = entities;
             *  });
         * </pre>
         */
        Model.prototype.executeQuery = function (queryName, options) {
            var model = this;
            var query = model.getQuery(queryName);
            if (query) {
                return query.execute(options);
            }
        };
        /**
         * @ngdoc function
         * @name Model.extendListMetadata
         * @module Model
         * @description
         * Extends the List and Fields with list information returned from the server.  Only runs once and after that
         * returns the existing promise.
         * @param {object} [options] Pass-through options to apDataService.getList
         * @returns {object} Promise that is resolved once the information has been added.
         */
        Model.prototype.extendListMetadata = function (options) {
            var model = this, deferred = $q.defer(), defaults = { listName: model.list.getListId() };
            /** Only request information if the list hasn't already been extended and is not currently being requested */
            if (!model.deferredListDefinition) {
                /** All Future Requests get this */
                model.deferredListDefinition = deferred.promise;
                var opts = _.extend({}, defaults, options);
                apDataService.getList(opts).then(function (responseXML) {
                    apDecodeService.extendListMetadata(model, responseXML);
                    deferred.resolve(model);
                });
            }
            return model.deferredListDefinition;
        };
        /**
         * @ngdoc function
         * @name Model.generateMockData
         * @module Model
         * @description
         * Generates 'n' mock records for testing using the field types defined in the model to provide something to visualize.
         *
         * @param {object} [options] Object containing optional parameters.
         * @param {number} [options.quantity=10] The requested number of mock records to return.
         * @param {string} [options.permissionLevel=FullMask] Sets the mask on the mock records to simulate desired
         * permission level.
         * @param {boolean} [options.staticValue=false] By default all mock data is dynamically created but if set,
         * this will cause static data to be used instead.
         */
        Model.prototype.generateMockData = function (options) {
            var mockData = [], model = this;
            var defaults = {
                quantity: 10,
                staticValue: false,
                permissionLevel: 'FullMask'
            };
            /** Extend defaults with any provided options */
            var opts = _.extend({}, defaults, options);
            _.times(opts.quantity, function (count) {
                var mock = {
                    id: count + 1
                };
                /** Create an attribute with mock data for each field */
                _.each(model.list.fields, function (field) {
                    mock[field.mappedName] = field.getMockData(opts);
                });
                /** Use the factory on the model to extend the object */
                mockData.push(new model.factory(mock));
            });
            return mockData;
        };
        /**
         * @ngdoc function
         * @name Model.getAllListItems
         * @description
         * Inherited from Model constructor
         * Gets all list items in the current list, processes the xml, and caches the data in model.
         * @returns {object} Promise returning all list items when resolved.
         * @example
         * <pre>
         * //Taken from a fictitious projectsModel.js
         * projectModel.getAllListItems().then(function(entities) {
             *     //Do something with all of the returned entities
             *     $scope.projects = entities;
             * };
         * </pre>
         */
        Model.prototype.getAllListItems = function () {
            var model = this;
            return apDataService.executeQuery(model, model.queries.getAllListItems);
        };
        /**
         * @ngdoc function
         * @name Model.getCache
         * @module Model
         * @description
         * Helper function that return the local cache for a named query if provided, otherwise
         * it returns the cache for the primary query for the model.  Useful if you know the query
         * has already been resolved and there's no need to check SharePoint for changes.
         *
         * @param {string} [queryName=apConfig.defaultQueryName] A unique key to identify this query.
         * @returns {Array} Returns the contents of the current cache for a named query.
         *
         * @example
         * <pre>
         * var primaryQueryCache = projectModel.getCache();
         * </pre>
         *
         * <pre>
         * var primaryQueryCache = projectModel.getCache('primary');
         * </pre>
         *
         * <pre>
         * var namedQueryCache = projectModel.getCache('customQuery');
         * </pre>
         */
        Model.prototype.getCache = function (queryName) {
            var model = this, query, cache;
            query = model.getQuery(queryName);
            if (query && query.indexedCache) {
                cache = query.indexedCache;
            }
            return cache;
        };
        /**
         * @ngdoc function
         * @name Model.getCachedEntity
         * @module Model
         * @description
         * Attempts to locate a model listItem by id.
         * @param {number} listItemId The ID of the requested listItem.
         * @returns {object} Returns either the requested listItem or undefined if it's not found.
         */
        Model.prototype.getCachedEntity = function (listItemId) {
            var model = this;
            return apCacheService.getCachedEntity(model.list.getListId(), listItemId);
        };
        /**
         * @ngdoc function
         * @name Model.getCachedEntities
         * @module Model
         * @description
         * Returns all entities registered for this model regardless of query.
         * @returns {object[]} All registered entities for this model.
         */
        Model.prototype.getCachedEntities = function () {
            var model = this;
            return apCacheService.getCachedEntities(model.list.getListId());
        };
        /**
         * @ngdoc function
         * @name Model.getFieldDefinition
         * @module Model
         * @description
         * Returns the field definition from the definitions defined in the custom fields array within a model.
         * <pre>
         * var project = {
             *    title: 'Project 1',
             *    location: {
             *        lookupId: 5,
             *        lookupValue: 'Some Building'
             *    }
             * };
         *
         * //To get field metadata
         * var locationDefinition = projectsModel.getFieldDefinition('location');
         * </pre>
         * @param {string} fieldName Internal field name.
         * @returns {object} Field definition.
         */
        Model.prototype.getFieldDefinition = function (fieldName) {
            var model = this;
            return _.find(model.list.fields, { mappedName: fieldName });
        };
        /**
         * @ngdoc function
         * @name Model.getListItemById
         * @param {number} listItemId Id of the item being requested.
         * @param {object} options Used to override apDataService defaults.
         * @description
         * Inherited from Model constructor
         * Attempts to retrieve the requested list item from the server.
         * @returns {object} Promise that resolves with the requested list item if found.  Otherwise it returns undefined.
         * @example
         * <pre>
         * //Taken from a fictitious projectsModel.js
         * projectModel.getListItemById(12).then(function(listItem) {
             *     //Do something with the located listItem
             *     $scope.project = listItem;
             * };
         * </pre>
         */
        Model.prototype.getListItemById = function (listItemId, options) {
            var deferred = $q.defer(), model = this, 
            /** Unique Query Name */
            queryKey = 'GetListItemById-' + listItemId;
            /** Register a new Query if it doesn't already exist */
            if (!model.getQuery(queryKey)) {
                var defaults = {
                    name: queryKey,
                    operation: 'GetListItems',
                    CAMLRowLimit: 1,
                    CAMLQuery: '' + '<Query>' + ' <Where>' + '   <Eq>' + '     <FieldRef Name="ID"/>' + '     <Value Type="Number">' + listItemId + '</Value>' + '   </Eq>' + ' </Where>' + '</Query>'
                };
                /** Allows us to override defaults */
                var opts = _.extend({}, defaults, options);
                model.registerQuery(opts);
            }
            model.executeQuery(queryKey).then(function (indexedCache) {
                /** Should return an indexed cache object with a single listItem so just return the requested listItem */
                deferred.resolve(indexedCache.first());
            }, function (err) {
                deferred.reject(err);
            });
            return deferred.promise;
        };
        /**
         * @ngdoc function
         * @name Model.getQuery
         * @module Model
         * @description
         * Helper function that attempts to locate and return a reference to the requested or catchall query.
         * @param {string} [queryName=apConfig.defaultQueryName] A unique key to identify this query.
         * @returns {object} See Query prototype for additional details on what a Query looks like.
         *
         * @example
         * <pre>
         * var primaryQuery = projectModel.getQuery();
         * </pre>
         *
         * <pre>
         * var primaryQuery = projectModel.getQuery('primary');
         * </pre>
         *
         * <pre>
         * var namedQuery = projectModel.getQuery('customQuery');
         * </pre>
         */
        Model.prototype.getQuery = function (queryName) {
            var model = this, query;
            if (_.isObject(model.queries[queryName])) {
                /** The named query exists */
                query = model.queries[queryName];
            }
            else if (_.isObject(model.queries[apConfig.defaultQueryName]) && !queryName) {
                /** A named query wasn't specified and the catchall query exists */
                query = model.queries[apConfig.defaultQueryName];
            }
            else {
                /** Requested query not found */
                query = undefined;
            }
            return query;
        };
        /**
         * @ngdoc function
         * @name Model.resolvePermissions
         * @module Model
         * @description
         * See apModelFactory.resolvePermissions for details on what we expect to have returned.
         * @returns {Object} Contains properties for each permission level evaluated for current user.
         * @example
         * Lets assume we're checking to see if a user has edit rights for a given list.
         * <pre>
         * var userPermissions = tasksModel.resolvePermissions();
         * var userCanEdit = userPermissions.EditListItems;
         * </pre>
         * Example of what the returned object would look like
         * for a site admin.
         * <pre>
         * perm = {
            *    "ViewListItems": true,
            *    "AddListItems": true,
            *    "EditListItems": true,
            *    "DeleteListItems": true,
            *    "ApproveItems": true,
            *    "OpenItems": true,
            *    "ViewVersions": true,
            *    "DeleteVersions": true,
            *    "CancelCheckout": true,
            *    "PersonalViews": true,
            *    "ManageLists": true,
            *    "ViewFormPages": true,
            *    "Open": true,
            *    "ViewPages": true,
            *    "AddAndCustomizePages": true,
            *    "ApplyThemeAndBorder": true,
            *    "ApplyStyleSheets": true,
            *    "ViewUsageData": true,
            *    "CreateSSCSite": true,
            *    "ManageSubwebs": true,
            *    "CreateGroups": true,
            *    "ManagePermissions": true,
            *    "BrowseDirectories": true,
            *    "BrowseUserInfo": true,
            *    "AddDelPrivateWebParts": true,
            *    "UpdatePersonalWebParts": true,
            *    "ManageWeb": true,
            *    "UseRemoteAPIs": true,
            *    "ManageAlerts": true,
            *    "CreateAlerts": true,
            *    "EditMyUserInfo": true,
            *    "EnumeratePermissions": true,
            *    "FullMask": true
            * }
         * </pre>
         */
        Model.prototype.resolvePermissions = function () {
            var model = this;
            if (model.list && model.list.effectivePermMask) {
                /** Get the permission mask from the permission mask name */
                var permissionMask = apUtilityService.convertEffectivePermMask(model.list.effectivePermMask);
                return apUtilityService.resolvePermissions(permissionMask);
            }
            else {
                window.console.error('Attempted to resolve permissions of a model that hasn\'t been initialized.', model);
                return apUtilityService.resolvePermissions(null);
            }
        };
        /**
         * @ngdoc function
         * @name Model.isInitialised
         * @module Model
         * @description
         * Methods which allows us to easily determine if we've successfully made any queries this session.
         * @returns {boolean} Returns evaluation.
         */
        Model.prototype.isInitialised = function () {
            var model = this;
            return _.isDate(model.lastServerUpdate);
        };
        /**
         * @ngdoc function
         * @name Model.registerQuery
         * @module Model
         * @description
         * Constructor that allows us create a static query with the option to build dynamic queries as seen in the
         * third example.  This construct is a passthrough to [SPServices](http: //spservices.codeplex.com/)
         * @param {object} [queryOptions] Optional options to pass through to the
         * [dataService](#/api/dataService.executeQuery).
         * @param {string} [queryOptions.name=apConfig.defaultQueryName] Optional name of the new query (recommended but will
         * default to 'Primary' if not specified)
         * @param {string} [queryOptions.operation="GetListItemChangesSinceToken"] Defaults to
         * [GetListItemChangesSinceToken](http: //msdn.microsoft.com/en-us/library/lists.lists.getlistitemchangessincetoken%28v=office.12%29.aspx)
         * but for a smaller payload and faster response you can use
         * [GetListItems](http: //spservices.codeplex.com/wikipage?title=GetListItems&referringTitle=Lists).
         * @param {boolean} [queryOptions.cacheXML=false] Typically don't need to store the XML response because it
         * has already been parsed into JS objects.
         * @param {string} [queryOptions.offlineXML] Optionally reference a specific XML file to use for this query instead
         * of using the shared XML file used by all queries on this model.  Useful to mock custom query results.
         * @param {string} [queryOptions.query] CAML Query - Josh McCarty has a good quick reference
         * [here](http: //joshmccarty.com/2012/06/a-caml-query-quick-reference)
         * @param {string} [queryOptions.queryOptions]
         * <pre>
         * // Default options
         * '<QueryOptions>' +
         * '   <IncludeMandatoryColumns>' +
         *      'FALSE' +
         *     '</IncludeMandatoryColumns>' +
         * '   <IncludeAttachmentUrls>' +
         *      'TRUE' +
         *     '</IncludeAttachmentUrls>' +
         * '   <IncludeAttachmentVersion>' +
         *      'FALSE' +
         *     '</IncludeAttachmentVersion>' +
         * '   <ExpandUserField>' +
         *      'FALSE' +
         *     '</ExpandUserField>' +
         * '</QueryOptions>',
         * </pre>
         *
         *
         * @returns {object} Query Returns a new query object.
         *
         * @example
         * <h4>Example #1</h4>
         * <pre>
         * // Query to retrieve the most recent 25 modifications
         * model.registerQuery({
     *    name: 'recentChanges',
     *    CAMLRowLimit: 25,
     *    query: '' +
     *        '<Query>' +
     *        '   <OrderBy>' +
     *        '       <FieldRef Name="Modified" Ascending="FALSE"/>' +
     *        '   </OrderBy>' +
     *            //Prevents any records from being returned if user doesn't
     *            // have permissions on project
     *        '   <Where>' +
     *        '       <IsNotNull>' +
     *        '           <FieldRef Name="Project"/>' +
     *        '       </IsNotNull>' +
     *        '   </Where>' +
     *        '</Query>'
     * });
         * </pre>
         *
         * <h4>Example #2</h4>
         * <pre>
         * // Could be placed on the projectModel and creates the query but doesn't
         * // call it
         * projectModel.registerQuery({
     *     name: 'primary',
     *     query: '' +
     *         '<Query>' +
     *         '   <OrderBy>' +
     *         '       <FieldRef Name="Title" Ascending="TRUE"/>' +
     *         '   </OrderBy>' +
     *         '</Query>'
     * });
         *
         * //To call the query or check for changes since the last call
         * projectModel.executeQuery('primary').then(function(entities) {
     *     // We now have a reference to array of entities stored in the local
     *     // cache.  These inherit from the ListItem prototype as well as the
     *     // Project prototype on the model
     *     $scope.projects = entities;
     * });
         * </pre>
         *

         * <h4>Example #3</h4>
         * <pre>
         * // Advanced functionality that would allow us to dynamically create
         * // queries for list items with a lookup field associated with a specific
         * // project id.  Let's assume this is on the projectTasksModel.
         * model.queryByProjectId(projectId) {
     *     // Unique query name
     *     var queryKey = 'pid' + projectId;
     *
     *     // Register project query if it doesn't exist
     *     if (!_.isObject(model.queries[queryKey])) {
     *         model.registerQuery({
     *             name: queryKey,
     *             query: '' +
     *                 '<Query>' +
     *                 '   <OrderBy>' +
     *                 '       <FieldRef Name="ID" Ascending="TRUE"/>' +
     *                 '   </OrderBy>' +
     *                 '   <Where>' +
     *                 '       <And>' +
     *                              // Prevents any records from being returned
     *                              //if user doesn't have permissions on project
     *                 '           <IsNotNull>' +
     *                 '               <FieldRef Name="Project"/>' +
     *                 '           </IsNotNull>' +
     *                              // Return all records for the project matching
     *                              // param projectId
     *                 '           <Eq>' +
     *                 '               <FieldRef Name="Project" LookupId="TRUE"/>' +
     *                 '               <Value Type="Lookup">' + projectId + '</Value>' +
     *                 '           </Eq>' +
     *                 '       </And>' +
     *                 '   </Where>' +
     *                 '</Query>'
     *         });
     *     }
     *     //Still using execute query but now we have a custom query
     *     return model.executeQuery(queryKey);
     * };
         pre>
         */
        Model.prototype.registerQuery = function (queryOptions) {
            var model = this;
            var defaults = {
                /** If name isn't set, assume this is the only model and designate as primary */
                name: apConfig.defaultQueryName
            };
            queryOptions = _.extend({}, defaults, queryOptions);
            model.queries[queryOptions.name] = apQueryFactory.create(queryOptions, model);
            /** Return the newly created query */
            return model.queries[queryOptions.name];
        };
        /**
         * @ngdoc function
         * @name Model.validateEntity
         * @module Model
         * @description
         * Uses the custom fields defined in an model to ensure each field (required = true) is evaluated
         * based on field type
         *
         * @param {object} listItem SharePoint list item.
         * @param {object} [options] Object containing optional parameters.
         * @param {boolean} [options.toast=true] Should toasts be generated to alert the user of issues.
         * @returns {boolean} Evaluation of validity.
         */
        Model.prototype.validateEntity = function (listItem, options) {
            var valid = true, model = this;
            var defaults = {
                toast: true
            };
            /** Extend defaults with any provided options */
            var opts = _.extend({}, defaults, options);
            var checkObject = function (fieldValue) {
                return _.isObject(fieldValue) && _.isNumber(fieldValue.lookupId);
            };
            _.each(model.list.customFields, function (fieldDefinition) {
                var fieldValue = listItem[fieldDefinition.mappedName];
                var fieldDescriptor = '"' + fieldDefinition.objectType + '" value.';
                /** Only evaluate required fields */
                if ((fieldDefinition.required || fieldDefinition.Required) && valid) {
                    switch (fieldDefinition.objectType) {
                        case 'Boolean':
                            valid = _.isBoolean(fieldValue);
                            break;
                        case 'DateTime':
                            valid = _.isDate(fieldValue);
                            break;
                        case 'Lookup':
                        case 'User':
                            valid = checkObject(fieldValue);
                            break;
                        case 'LookupMulti':
                        case 'UserMulti':
                            /** Ensure it's a valid array containing objects */
                            valid = _.isArray(fieldValue) && fieldValue.length > 0;
                            if (valid) {
                                /** Additionally check that each lookup/person contains a lookupId */
                                _.each(fieldValue, function (fieldObject) {
                                    if (valid) {
                                        valid = checkObject(fieldObject);
                                    }
                                    else {
                                        /** Short circuit */
                                        return false;
                                    }
                                });
                            }
                            break;
                        default:
                            /** Evaluate everything else as a string */
                            valid = !_.isEmpty(fieldValue);
                    }
                    if (!valid && opts.toast) {
                        var fieldName = fieldDefinition.label || fieldDefinition.staticName;
                        toastr.error(fieldName + ' does not appear to be a valid ' + fieldDescriptor);
                    }
                }
                if (!valid) {
                    return false;
                }
            });
            return valid;
        };
        return Model;
    })();
    ap.Model = Model;
    var ModelFactory = (function () {
        function ModelFactory($injector) {
            this.Model = Model;
            $q = $injector.get('$q');
            apCacheService = $injector.get('apCacheService');
            apConfig = $injector.get('apConfig');
            apDataService = $injector.get('apDataService');
            apDecodeService = $injector.get('apDecodeService');
            apFieldService = $injector.get('apFieldService');
            apIndexedCacheFactory = $injector.get('apIndexedCacheFactory');
            apListFactory = $injector.get('apListFactory');
            apQueryFactory = $injector.get('apQueryFactory');
            apUtilityService = $injector.get('apUtilityService');
            ListItemFactory = $injector.get('apListItemFactory');
            toastr = $injector.get('toastr');
        }
        ModelFactory.prototype.create = function (config) {
            return new Model(config);
        };
        return ModelFactory;
    })();
    angular.module('angularPoint').service('apModelFactory', ModelFactory);
})(ap || (ap = {}));

/// <reference path="../../typings/ap.d.ts" />
var ap;
(function (ap) {
    'use strict';
    var $q, apIndexedCacheFactory, apConfig, apDefaultListItemQueryOptions, apDataService;
    /**
     * @ngdoc function
     * @name Query
     * @description
     * Primary constructor that all queries inherit from.
     * @param {object} config Initialization parameters.
     * @param {string} [config.operation=GetListItemChangesSinceToken] Optionally use 'GetListItems' to
     * receive a more efficient response, just don't have the ability to check for changes since the last time
     * the query was called.
     * @param {boolean} [config.cacheXML=true] Set to false if you want a fresh request.
     * @param {string} [config.offlineXML] Optionally reference a specific XML file to use for this query instead
     * of using the shared XML file for this list.
     * @param {string} [config.query=Ordered ascending by ID] CAML query passed to SharePoint to control
     * the data SharePoint returns.
     * @param {string} [config.queryOptions] SharePoint options.
     * <pre>
     * //Default
     * queryOptions: '' +
     * '<QueryOptions>' +
     * '   <IncludeMandatoryColumns>' +
     *      'FALSE' +
     *     '</IncludeMandatoryColumns>' +
     * '   <IncludeAttachmentUrls>' +
     *      'TRUE' +
     *     '</IncludeAttachmentUrls>' +
     * '   <IncludeAttachmentVersion>' +
     *      'FALSE' +
     *     '</IncludeAttachmentVersion>' +
     * '   <ExpandUserField>' +
     *      'FALSE' +
     *     '</ExpandUserField>' +
     * '</QueryOptions>',
     * </pre>
     * @param {object} model Reference to the parent model for the query.  Allows us to reference when out of
     * scope.
     * @constructor
     *
     * @example
     * <pre>
     * // Query to retrieve the most recent 25 modifications
     * model.registerQuery({
         *    name: 'recentChanges',
         *    CAMLRowLimit: 25,
         *    query: '' +
         *        '<Query>' +
         *        '   <OrderBy>' +
         *        '       <FieldRef Name="Modified" Ascending="FALSE"/>' +
         *        '   </OrderBy>' +
         *            // Prevents any records from being returned if user
         *            // doesn't have permissions on project
         *        '   <Where>' +
         *        '       <IsNotNull>' +
         *        '           <FieldRef Name="Project"/>' +
         *        '       </IsNotNull>' +
         *        '   </Where>' +
         *        '</Query>'
         * });
     * </pre>
     */
    var Query = (function () {
        function Query(config, model) {
            /** Very memory intensive to enable cacheXML which is disabled by default*/
            this.cacheXML = false;
            /** Reference to the most recent query when performing GetListItemChangesSinceToken */
            this.changeToken = undefined;
            /** Flag to prevent us from makeing concurrent requests */
            this.negotiatingWithServer = false;
            /** Every time we run we want to check to update our cached data with
             * any changes made on the server */
            this.operation = 'GetListItemChangesSinceToken';
            /** Default query returns list items in ascending ID order */
            this.query = "\n        <Query>\n           <OrderBy>\n               <FieldRef Name=\"ID\" Ascending=\"TRUE\"/>\n           </OrderBy>\n        </Query>";
            this.indexedCache = apIndexedCacheFactory.create();
            this.initialized = $q.defer();
            this.listName = model.list.getListId();
            this.queryOptions = apDefaultListItemQueryOptions;
            this.viewFields = model.list.viewFields;
            /** Set the default url if the config param is defined, otherwise let SPServices handle it */
            if (apConfig.defaultUrl) {
                this.webURL = apConfig.defaultUrl;
            }
            _.extend(this, config);
            /** Allow the model to be referenced at a later time */
            this.getModel = function () { return model; };
        }
        /**
         * @ngdoc function
         * @name Query.execute
         * @methodOf Query
         * @description
         * Query SharePoint, pull down all initial records on first call along with list definition if using
         * "GetListItemChangesSinceToken".  Note: this is  substantially larger than "GetListItems" on first call.
         * Subsequent calls pulls down changes (Assuming operation: "GetListItemChangesSinceToken").
         * @param {object} [options] Any options that should be passed to dataService.executeQuery.
         * @returns {object[]} Array of list item objects.
         */
        Query.prototype.execute = function (options) {
            var query = this;
            var model = query.getModel();
            var deferred = $q.defer();
            /** Return existing promise if request is already underway or has been previously executed in the past
             * 1/10th of a second */
            if (query.negotiatingWithServer || (_.isDate(query.lastRun) && query.lastRun.getTime() + 100 > new Date().getTime())) {
                return query.promise;
            }
            else {
                /** Set flag to prevent another call while this query is active */
                query.negotiatingWithServer = true;
                /** Set flag if this if the first time this query has been run */
                var firstRunQuery = _.isNull(query.lastRun);
                var defaults = {
                    /** Designate the central cache for this query if not already set */
                    target: query.getCache()
                };
                /** Extend defaults with any options */
                var queryOptions = _.extend({}, defaults, options);
                apDataService.executeQuery(model, query, queryOptions).then(function (results) {
                    if (firstRunQuery) {
                        /** Promise resolved the first time query is completed */
                        query.initialized.resolve(queryOptions.target);
                    }
                    /** Remove lock to allow for future requests */
                    query.negotiatingWithServer = false;
                    /** Store query completion date/time on model to allow us to identify age of data */
                    model.lastServerUpdate = new Date();
                    deferred.resolve(queryOptions.target);
                });
                /** Save reference on the query **/
                query.promise = deferred.promise;
                return deferred.promise;
            }
        };
        Query.prototype.getCache = function () {
            return this.indexedCache;
        };
        return Query;
    })();
    ap.Query = Query;
    var QueryFactory = (function () {
        function QueryFactory($injector) {
            this.Query = Query;
            $q = $injector.get('$q');
            apConfig = $injector.get('apConfig');
            apDataService = $injector.get('apDataService');
            apDefaultListItemQueryOptions = $injector.get('apDefaultListItemQueryOptions');
            apIndexedCacheFactory = $injector.get('apIndexedCacheFactory');
        }
        /**
         * @ngdoc function
         * @name angularPoint.apQueryFactory:create
         * @methodOf angularPoint.apQueryFactory
         * @param {object} config Options object.
         * @param {object} model Reference to the model.
         * @description
         * Instantiates and returns a new Query.
         */
        QueryFactory.prototype.create = function (config, model) {
            return new Query(config, model);
        };
        return QueryFactory;
    })();
    ap.QueryFactory = QueryFactory;
    /**
     * @ngdoc object
     * @name angularPoint.apQueryFactory
     * @description
     * Exposes the Query prototype and a constructor to instantiate a new Query.
     *
     * @requires angularPoint.apDataService
     * @requires angularPoint.apConfig
     */
    angular.module('angularPoint').service('apQueryFactory', QueryFactory);
})(ap || (ap = {}));

/// <reference path="../../typings/ap.d.ts" />
var ap;
(function (ap) {
    'use strict';
    var apUtilityService;
    /**
     * @ngdoc function
     * @name User
     * @description
     * Allows for easier distinction when debugging if object type is shown as a User.  Turns a delimited ";#"
     * string into an object shown below depeinding on field settings:
     * <pre>
     * {
         *      lookupId: 1,
         *      lookupValue: 'Joe User'
         * }
     * </pre>
     * or
     * <pre>
     * {
         *      lookupId: 1,
         *      lookupValue: 'Joe User',
         *      loginName: 'joe.user',
         *      email: 'joe@company.com',
         *      sipAddress: 'whatever',
         *      title: 'Sr. Widget Maker'
         * }
     * </pre>
     * @param {string} s Delimited string used to create a User object.
     * @constructor
     */
    var User = (function () {
        function User(str) {
            var self = this;
            var thisUser = new apUtilityService.SplitIndex(str);
            var thisUserExpanded = thisUser.value.split(',#');
            if (thisUserExpanded.length === 1) {
                //Standard user columns only return a id,#value pair
                self.lookupId = thisUser.id;
                self.lookupValue = thisUser.value;
            }
            else {
                //Allow for case where user adds additional properties when setting up field
                self.lookupId = thisUser.id;
                self.lookupValue = thisUserExpanded[0].replace(/(,,)/g, ',');
                self.loginName = thisUserExpanded[1].replace(/(,,)/g, ',');
                self.email = thisUserExpanded[2].replace(/(,,)/g, ',');
                self.sipAddress = thisUserExpanded[3].replace(/(,,)/g, ',');
                self.title = thisUserExpanded[4].replace(/(,,)/g, ',');
            }
        }
        return User;
    })();
    var UserFactory = (function () {
        function UserFactory($injector) {
            this.User = User;
            apUtilityService = $injector.get('apUtilityService');
        }
        /**
         * @ngdoc function
         * @name angularPoint.apUserFactory:create
         * @methodOf angularPoint.apUserFactory
         * @description
         * Instantiates and returns a new User field.
         */
        UserFactory.prototype.create = function (s) {
            return new User(s);
        };
        return UserFactory;
    })();
    ap.UserFactory = UserFactory;
    /**
     * @ngdoc function
     * @name angularPoint.apUserFactory
     * @description
     * Tools to assist with the creation of CAML queries.
     *
     */
    angular.module('angularPoint').service('apUserFactory', UserFactory);
})(ap || (ap = {}));

/// <reference path="../../typings/angularjs/angular.d.ts" />

/// <reference path="../../typings/ap.d.ts" />
var ap;
(function (ap) {
    'use strict';
    /** Local references to cached promises */
    var _getGroupCollection, _getUserProfile;
    var UserModel = (function () {
        function UserModel($q, apDataService) {
            this.$q = $q;
            this.apDataService = apDataService;
        }
        /**
         * @ngdoc function
         * @name angularPoint.apUserModel:checkIfMember
         * @methodOf angularPoint.apUserModel
         * @description
         * Checks to see if current user is a member of the specified group.
         * @param {string} groupName Name of the group.
         * @param {boolean} [force=false] Ignore any cached value.
         * @returns {{ID:string, Name:string, Description:string, OwnerId:string, OwnerIsUser:string}} Is the user a member of the group?
         * @example
         * <pre>{ID: "190", Name: "Blog Contributors", Description: "We are bloggers...", OwnerID: "126", OwnerIsUser: "False"}</pre>
         */
        UserModel.prototype.checkIfMember = function (groupName, force) {
            //Allow function to be called before group collection is ready
            var deferred = this.$q.defer();
            //Initially ensure groups are ready, any future calls will receive the return
            this.getGroupCollection(force).then(function (groupCollection) {
                var groupDefinition = _.find(groupCollection, { Name: groupName });
                deferred.resolve(groupDefinition);
            });
            return deferred.promise;
        };
        /**
         * @ngdoc function
         * @name angularPoint.apUserModel:getGroupCollection
         * @methodOf angularPoint.apUserModel
         * @description
         * Returns the group names for the current user and caches results.
         * @param {boolean} [force=false] Ignore any cached value.
         * @returns {string[]} Promise which resolves with the array of groups the user belongs to.
         */
        UserModel.prototype.getGroupCollection = function (force) {
            var _this = this;
            if (!_getGroupCollection || force) {
                /** Create a new deferred object if not already defined */
                var deferred = this.$q.defer();
                this.getUserProfile(force).then(function (userProfile) {
                    _this.apDataService.getGroupCollectionFromUser(userProfile.userLoginName).then(function (groupCollection) {
                        deferred.resolve(groupCollection);
                    });
                });
                _getGroupCollection = deferred.promise;
            }
            return _getGroupCollection;
        };
        /**
         * @ngdoc function
         * @name angularPoint.apUserModel:getUserProfile
         * @methodOf angularPoint.apUserModel
         * @description
         * Returns the user profile for the current user and caches results.
         * Pull user profile info and parse into a profile object
         * http://spservices.codeplex.com/wikipage?title=GetUserProfileByName
         * @param {boolean} [force=false] Ignore any cached value.
         * @returns {object} Promise which resolves with the requested user profile.
         */
        UserModel.prototype.getUserProfile = function (force) {
            if (!_getUserProfile || force) {
                /** Create a new deferred object if not already defined */
                _getUserProfile = this.apDataService.getUserProfileByName();
            }
            return _getUserProfile;
        };
        return UserModel;
    })();
    /**
     * @ngdoc service
     * @name angularPoint.apUserModel
     * @description
     * Simple service that allows us to request and cache both the current user and their group memberships.
     *
     * @requires apDataService
     *
     */
    angular.module('angularPoint').service('apUserModel', UserModel);
})(ap || (ap = {}));

/// <reference path="../../typings/ap.d.ts" />
var __extends = this.__extends || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    __.prototype = b.prototype;
    d.prototype = new __();
};
var ap;
(function (ap) {
    'use strict';
    var service, $q, $log, apIndexedCacheFactory;
    /**
     * @description Stores list names when a new model is registered along with the GUID to allow us to
     *     retrieve the GUID in future
     * @example
     * <pre>
     *     listNameToIdMap = {
         *          list1Name: {
         *              model: list1Model,
         *              listId: list1GUID
         *          },
         *          list2Name: {
         *              model: list2Model,
         *              listId: list2GUID
         *          }
         *          ...
         *     }
     * </pre>
     */
    var listNameToIdMap = {}, 
    /**
     * @description Stores list GUID when a new model is registered with a reference to the model for
     *     future reference.
     * @example
     * <pre>
     *     listsMappedByListId = {
     *          list1GUID: {
     *              model: list1Model
     *          },
     *          list2GUID: {
     *              model: list2Model
     *          }
     *          ...
     *     }
     * </pre>
     */
    listsMappedByListId = {}, 
    /**
     * @description The Main cache object which stores ModelCache objects.  Keys being the model GUID and
     *     value being an a ModelCache object
     * @example
     * <pre>
     *     entityCache = {
     *          list1GUID: {
     *              item1ID: { //EnityCache for entity 1
     *                  associationQueue: [],
     *                  updateCount: 3,
     *                  listId: list1GUID,
     *                  entityId: item1ID,
     *                  entityLocations: [],
     *                  entity: {} //This is where the actual entity is referenced
     *              }
     *              item2ID: { //EnityCache for entity 2
     *                  ...
     *              }
     *          },
     *          list2GUID: {
     *              item1ID: ...
     *          }
     *          ...
     *     }
     * </pre>
     */
    entityCache = {};
    /**
     * @name EntityCache
     * @description
     * Cache constructor that maintains a queue of all requests for a list item, counter for the number of times
     * the cache has been updated, timestamp of last update, and add/update/remove functionality.
     * @constructor apCacheService
     * @param {string} listId GUID for list the list item belongs to.
     * @param {number} entityId The entity.id.
     */
    var EntityContainer = (function () {
        function EntityContainer(listId, entityId) {
            this.entityId = entityId;
            this.associationQueue = [];
            this.entityLocations = [];
            this.updateCount = 0;
            this.listId = service.getListId(listId);
        }
        /**
         * @name EntityContainer.getEntity
         * @description
         * Promise which returns the requested entity once it has been registered in the cache.
         */
        EntityContainer.prototype.getEntity = function () {
            var entityContainer = this;
            var deferred = $q.defer();
            if (entityContainer.entity) {
                /** Entity already exists so resolve immediately */
                deferred.resolve(entityContainer.entity);
            }
            else {
                entityContainer.associationQueue.push(deferred);
            }
            return deferred.promise;
        };
        EntityContainer.prototype.removeEntity = function () {
            var entityContainer = this;
            service.removeEntity(entityContainer.listId, entityContainer.entityId);
        };
        return EntityContainer;
    })();
    /**
     * @name ModelCache
     * @description
     * Cache of Entity Containers for each registered entity retrieved by the model.
     * @constructor
     */
    var ModelCache = (function (_super) {
        __extends(ModelCache, _super);
        function ModelCache() {
            _super.apply(this, arguments);
        }
        return ModelCache;
    })(ap.IndexedCache);
    var CacheService = (function () {
        function CacheService($injector) {
            this.entityCache = entityCache;
            $q = $injector.get('$q');
            $log = $injector.get('$log');
            apIndexedCacheFactory = $injector.get('apIndexedCacheFactory');
            service = this;
        }
        /**
         * @ngdoc function
         * @name angularPoint.apCacheService:deleteEntity
         * @methodOf angularPoint.apCacheService
         * @description
         * Deletes all references to an entity.
         * @param {string} listId GUID for list the list item belongs to.
         * @param {number} entityId The entity.id.
         */
        CacheService.prototype.deleteEntity = function (listId, entityId) {
            var entityTypeKey = this.getListId(listId);
            this.removeEntity(entityTypeKey, entityId);
            var model = this.getModel(entityTypeKey);
            _.each(model.queries, function (query) {
                var cache = query.getCache();
                cache.removeEntity(entityId);
            });
        };
        /**
         * @ngdoc function
         * @name angularPoint.apCacheService:getCachedEntities
         * @methodOf angularPoint.apCacheService
         * @description
         * Returns all entities for a given model as an indexed cache with keys being the entity id's.
         * @param {string} listId GUID for list the list item belongs to.
         * @returns {object} Indexed cache containing all entities for a model.
         */
        CacheService.prototype.getCachedEntities = function (listId) {
            var modelCache = this.getModelCache(listId), allEntities = apIndexedCacheFactory.create();
            _.each(modelCache, function (entityContainer) {
                if (entityContainer.entity && entityContainer.entity.id) {
                    allEntities.addEntity(entityContainer.entity);
                }
            });
            return allEntities;
        };
        /**
         * @ngdoc function
         * @name angularPoint.apCacheService:getCachedEntity
         * @methodOf angularPoint.apCacheService
         * @description
         * Synchronise call to return a cached entity;
         * @param {string} listId GUID for list the list item belongs to.
         * @param {number} entityId The entity.id.
         * @returns {object} entity || undefined
         */
        CacheService.prototype.getCachedEntity = function (listId, entityId) {
            return this.getEntityContainer(listId, entityId).entity;
        };
        /**
         * @ngdoc function
         * @name angularPoint.apCacheService:getEntity
         * @methodOf angularPoint.apCacheService
         * @description
         * Returns a deferred object that resolves with the requested entity immediately if already present or at
         *     some point in the future assuming the entity is eventually registered.
         * @param {string} listId GUID for list the list item belongs to.
         * @param {number} entityId The entity.id.
         * @returns {promise} entity
         */
        CacheService.prototype.getEntity = function (listId, entityId) {
            var entityContainer = this.getEntityContainer(listId, entityId);
            return entityContainer.getEntity();
        };
        CacheService.prototype.getEntityContainer = function (listId, entityId) {
            var entityTypeKey = this.getListId(listId);
            var modelCache = this.getModelCache(entityTypeKey);
            /** Create the object structure if it doesn't already exist */
            modelCache[entityId] = modelCache[entityId] || new EntityContainer(entityTypeKey, entityId);
            return modelCache[entityId];
        };
        /**
         * @ngdoc function
         * @name angularPoint.apCacheService:getListId
         * @methodOf angularPoint.apCacheService
         * @description
         * Allows us to use either the List Name or the list GUID and returns the lowercase GUID
         * @param {string} keyString List GUID or name.
         * @returns {string} Lowercase list GUID.
         */
        CacheService.prototype.getListId = function (keyString) {
            if (_.isGuid(keyString)) {
                /** GUID */
                return keyString.toLowerCase();
            }
            else {
                /** List Title */
                return this.getListIdFromListName(keyString);
            }
        };
        /**
         * @ngdoc function
         * @name angularPoint.apCacheService:getListIdFromListName
         * @methodOf angularPoint.apCacheService
         * @description
         * Allows us to lookup an entity cache using the name of the list instead of the GUID.
         * @param {string} name The name of the list.
         * @returns {string} GUID for the list.
         */
        CacheService.prototype.getListIdFromListName = function (name) {
            var guid;
            if (listNameToIdMap[name] && listNameToIdMap[name].listId) {
                guid = listNameToIdMap[name].listId;
            }
            return guid;
        };
        /**
         * @ngdoc function
         * @name angularPoint.apCacheService:getModel
         * @methodOf angularPoint.apCacheService
         * @description
         * Allows us to retrieve a reference to a given model by either the list title or list GUID.
         * @param {string} listId List title or list GUID.
         * @returns {object} A reference to the requested model.
         */
        CacheService.prototype.getModel = function (listId) {
            var model, entityTypeKey = this.getListId(listId);
            if (listsMappedByListId[entityTypeKey]) {
                model = listsMappedByListId[entityTypeKey].model;
            }
            return model;
        };
        /** Locates the stored cache for a model */
        CacheService.prototype.getModelCache = function (listId) {
            var entityTypeKey = this.getListId(listId);
            entityCache[entityTypeKey] = entityCache[entityTypeKey] || new ModelCache();
            return entityCache[entityTypeKey];
        };
        /**
         * @ngdoc function
         * @name angularPoint.apCacheService:registerEntity
         * @methodOf angularPoint.apCacheService
         * @description
         * Registers an entity in the cache and fulfills any pending deferred requests for the entity. If the
         * entity already exists in the cache, we extend the existing object with the updated entity and return a
         * reference to this updated object so the there is only a single instance of this entity withing the cache.
         * @param {object} entity Pass in a newly created entity to add to the cache.
         * @param {object} [targetCache] Optionally pass in a secondary cache to add a reference to this entity.
         */
        CacheService.prototype.registerEntity = function (entity, targetCache) {
            var model = entity.getModel();
            var entityContainer = this.getEntityContainer(model.list.getListId(), entity.id);
            /** Maintain a single object in cache for this entity */
            if (!_.isObject(entityContainer.entity)) {
                /** Entity isn't currently in the cache */
                entityContainer.entity = entity;
            }
            else {
                /** Already exists so update to maintain any other references being used for this entity. */
                //TODO Look at performance hit from extending and see if it would be acceptable just to replace
                _.assign(entityContainer.entity, entity);
            }
            /** Counter to keep track of the number of updates for this entity */
            entityContainer.updateCount++;
            if (_.isObject(targetCache) && !_.isArray(targetCache) && !targetCache[entity.id]) {
                /** Entity hasn't been added to the target cache yet */
                targetCache[entity.id] = entityContainer.entity;
            }
            /** Resolve any requests for this entity */
            _.each(entityContainer.associationQueue, function (deferredRequest) {
                deferredRequest.resolve(entityContainer.entity);
                /** Remove request from queue */
                entityContainer.associationQueue.shift();
            });
            return entityContainer.entity;
        };
        /**
         * @ngdoc function
         * @name angularPoint.apCacheService:registerModel
         * @methodOf angularPoint.apCacheService
         * @description
         * Creates a new ModelCache for the provide model where all list items will be stored with the key equaling
         * the entity id's and value being a EntityContainer.  The entity is stored at EntityContainer.entity.
         * @param {object} model Model to create the cache for.
         */
        CacheService.prototype.registerModel = function (model) {
            if (model.list && model.list.getListId() && model.list.title) {
                var listId = model.list.getListId().toLowerCase();
                /** Store a reference to the model by list title */
                listNameToIdMap[model.list.title] = {
                    model: model,
                    listId: listId
                };
                /** Store a reference to the model by list guid */
                listsMappedByListId[listId] = {
                    model: model
                };
            }
        };
        /**
         * @ngdoc function
         * @name angularPoint.apCacheService:removeEntity
         * @methodOf angularPoint.apCacheService
         * @description
         * Removes the entity from the local entity cache.
         * @param {string} listId GUID for list the list item belongs to.
         * @param {number} entityId The entity.id.
         */
        CacheService.prototype.removeEntity = function (listId, entityId) {
            var modelCache = this.getModelCache(listId);
            if (modelCache[entityId]) {
                delete modelCache[entityId];
            }
        };
        return CacheService;
    })();
    ap.CacheService = CacheService;
    /**
     * @ngdoc service
     * @name angularPoint.apCacheService
     * @description
     * Stores a reference for all list items based on list GUID and list item id.  Allows us to then register promises
     *     that resolve once a requested list item is registered in the future.
     */
    angular.module('angularPoint').service('apCacheService', CacheService);
})(ap || (ap = {}));

/// <reference path="../../typings/ap.d.ts" />
var ap;
(function (ap) {
    'use strict';
    /**
     * @ngdoc service
     * @name apChangeService
     * @description
     * Primarily used for apMockBackend so we can know what to expect before an attempt to update a list
     * item is intercepted.
     */
    var ChangeService = (function () {
        function ChangeService() {
            this.callbackQueue = [];
        }
        ChangeService.prototype.registerListItemUpdate = function (entity, options, promise) {
            _.each(this.callbackQueue, function (callback) {
                callback(entity, options, promise);
            });
        };
        ChangeService.prototype.subscribeToUpdates = function (callback) {
            this.callbackQueue.push(callback);
        };
        return ChangeService;
    })();
    ap.ChangeService = ChangeService;
    angular.module('angularPoint').service('apChangeService', ChangeService);
})(ap || (ap = {}));

/// <reference path="../../typings/ap.d.ts" />
var ap;
(function (ap) {
    'use strict';
    var service, $q, $timeout, $http, apConfig, apUtilityService, apCacheService, apDecodeService, apEncodeService, apFieldService, apIndexedCacheFactory, toastr, SPServices, apDefaultListItemQueryOptions, apWebServiceOperationConstants, apXMLToJSONService, apChangeService;
    var DataService = (function () {
        function DataService($injector) {
            service = this;
            $http = $injector.get('$http');
            $q = $injector.get('$q');
            $timeout = $injector.get('$timeout');
            apCacheService = $injector.get('apCacheService');
            apChangeService = $injector.get('apChangeService');
            apConfig = $injector.get('apConfig');
            apDecodeService = $injector.get('apDecodeService');
            apDefaultListItemQueryOptions = $injector.get('apDefaultListItemQueryOptions');
            apEncodeService = $injector.get('apEncodeService');
            apFieldService = $injector.get('apFieldService');
            apIndexedCacheFactory = $injector.get('apIndexedCacheFactory');
            apUtilityService = $injector.get('apUtilityService');
            apWebServiceOperationConstants = $injector.get('apWebServiceOperationConstants');
            apXMLToJSONService = $injector.get('apXMLToJSONService');
            SPServices = $injector.get('SPServices');
            toastr = $injector.get('toastr');
        }
        /**
         * @ngdoc function
         * @name DataService.createListItem
         * @description
         * Creates a new list item for the provided model.
         * @param {object} model Reference to the entities model.
         * @param {object} listItem JavaScript object representing the SharePoint list item.
         * @param {object} [options] Optional configuration params.
         * @param {boolean} [options.buildValuePairs=true] Automatically generate pairs based on fields defined in model.
         * @param {Array[]} [options.valuePairs] Precomputed value pairs to use instead of generating them for each
         * field identified in the model.
         * @returns {object} Promise which resolves with the newly created item.
         */
        DataService.prototype.createListItem = function (model, listItem, options) {
            var defaults = {
                batchCmd: 'New',
                buildValuePairs: true,
                indexedCache: apIndexedCacheFactory.create({}),
                listName: model.list.getListId(),
                operation: 'UpdateListItems',
                target: undefined,
                valuePairs: [],
                webURL: model.list.identifyWebURL()
            }, deferred = $q.defer();
            defaults.target = defaults.indexedCache;
            var opts = _.extend({}, defaults, options);
            if (opts.buildValuePairs === true) {
                var editableFields = _.where(model.list.fields, { readOnly: false });
                opts.valuePairs = apEncodeService.generateValuePairs(editableFields, listItem);
            }
            opts.getCache = function () { return opts.indexedCache; };
            /** Overload the function then pass anything past the first parameter to the supporting methods */
            this.serviceWrapper(opts).then(function (response) {
                /** Online this should return an XML object */
                var indexedCache = apDecodeService.processListItems(model, opts, response, opts);
                /** Return reference to last listItem in cache because it will have the new highest id */
                deferred.resolve(indexedCache.last());
            }, function (err) {
                deferred.reject(err);
            });
            return deferred.promise;
        };
        DataService.prototype.createItemUrlFromFileRef = function (fileRefString) {
            return window.location.protocol + '//' + window.location.hostname + '/' + fileRefString;
        };
        /**
         * @ngdoc function
         * @name DataService.deleteAttachment
         * @description
         * Deletes and attachment on a list item.  Most commonly used by ListItem.deleteAttachment which is shown
         * in the example.
         *
         * @param {object} options Configuration parameters.
         * @param {string} options.listItemId ID of the list item with the attachment.
         * @param {string} options.url Requires the URL for the attachment we want to delete.
         * @param {string} options.listName Best option is the GUID of the list.
         * <pre>'{37388A98-534C-4A28-BFFA-22429276897B}'</pre>
         *
         * @returns {object} Promise which resolves with the updated attachment collection.
         *
         * @example
         * <pre>
         * ListItem.prototype.deleteAttachment = function (url) {
         *    var listItem = this;
         *    return DataService.deleteAttachment({
         *        listItemId: listItem.id,
         *        url: url,
         *        listName: listItem.getModel().list.getListId()
         *    });
         * };
         * </pre>
         */
        DataService.prototype.deleteAttachment = function (options) {
            var defaults = {
                operation: 'DeleteAttachment',
                filterNode: 'Field'
            };
            var opts = _.extend({}, defaults, options);
            return this.serviceWrapper(opts);
        };
        /**
         * @ngdoc function
         * @name DataService.deleteListItem
         * @description
         * Typically called directly from a list item, removes the list item from SharePoint
         * and the local cache.
         * @param {object} model Reference to the entities model.
         * @param {object} listItem JavaScript object representing the SharePoint list item.
         * @param {object} [options] Optional configuration params.
         * @param {Array} [options.target=item.getCache()] Optional location to search through and remove the
         * local cached copy.
         * @returns {object} Promise which resolves when the operation is complete.  Nothing of importance is returned.
         */
        DataService.prototype.deleteListItem = function (model, listItem, options) {
            var defaults = {
                target: _.isFunction(listItem.getCache) ? listItem.getCache() : model.getCache(),
                operation: 'UpdateListItems',
                listName: model.list.getListId(),
                batchCmd: 'Delete',
                ID: listItem.id,
                webURL: model.list.identifyWebURL()
            };
            var opts = _.extend({}, defaults, options);
            var deferred = $q.defer();
            this.serviceWrapper(opts).then(function () {
                /** Success */
                apCacheService.deleteEntity(opts.listName, listItem.id);
                deferred.resolve();
            }, function (outcome) {
                //In the event of an error, display toast
                toastr.error('There was an error deleting a list item from ' + model.list.title);
                deferred.reject(outcome);
            });
            return deferred.promise;
        };
        /**
         * @ngdoc function
         * @name DataService.executeQuery
         * @description
         * Primary method of retrieving list items from SharePoint.  Look at Query and Model for specifics.
         * @param {object} model Reference to the model where the Query resides.
         * @param {object} query Reference to the Query making the call.
         * @param {object} [options] Optional configuration parameters.
         * @param {Array} [options.target=model.getCache()] The target destination for returned entities
         * @returns {object} - Key value hash containing all list item id's as keys with the listItem as the value.
         */
        DataService.prototype.executeQuery = function (model, query, options) {
            var _this = this;
            var defaults = {
                target: model.getCache()
            };
            var deferred = $q.defer();
            /** Extend defaults **/
            var opts = _.extend({}, defaults, options);
            this.serviceWrapper(query).then(function (response) {
                if (query.operation === 'GetListItemChangesSinceToken') {
                    _this.processChangeTokenXML(model, query, response, opts);
                }
                /** Convert the XML into JS objects */
                var entities = apDecodeService.processListItems(model, query, response, opts);
                deferred.resolve(entities);
                /** Set date time to allow for time based updates */
                query.lastRun = new Date();
            });
            return deferred.promise;
        };
        /**
         * @ngdoc function
         * @name DataService.generateWebServiceUrl
         * @description
         * Builds the appropriate SharePoint resource URL.  If a URL isn't provided and it hasn't already been cached
         * we make a call to the server to find the root URL.  All future requests will then use this cached value.
         * @param {string} service The name of the service the SOAP operation is using.
         * @param {string} [webURL] Optionally provide the URL so we don't need to make a call to the server.
         * @returns {promise} Resolves with the url for the service.
         */
        DataService.prototype.generateWebServiceUrl = function (service, webURL) {
            var ajaxURL = "_vti_bin/" + service + ".asmx", deferred = $q.defer();
            if (webURL) {
                ajaxURL = webURL.charAt(webURL.length - 1) === '/' ? webURL + ajaxURL : webURL + '/' + ajaxURL;
                deferred.resolve(ajaxURL);
            }
            else {
                this.getCurrentSite().then(function (thisSite) {
                    ajaxURL = thisSite + ((thisSite.charAt(thisSite.length - 1) === '/') ? ajaxURL : ('/' + ajaxURL));
                    deferred.resolve(ajaxURL);
                });
            }
            return deferred.promise;
        };
        /**
         * @ngdoc function
         * @name DataService.getAvailableWorkflows
         * @description
         * Given a list item or document, return an array of all available workflows.  This is used in combination with
         * DataService.startWorkflow because it requires the template GUID for the target workflow.
         * @example
         * <pre>
         * DataService.getAvailableWorkflows(listItem.fileRef.lookupValue)
         *     .then(function(templateArray) {
         *          ....templateArray = [{
         *              "name": "WidgetApproval",
         *              "instantiationUrl": "https: //sharepoint.mycompany.com/_layouts/IniWrkflIP.aspx?List=fc17890e-8c0…311-cea9-40d1-a183-6edde9333815}&Web={ec744d8e-ae0a-45dd-bcd1-8a63b9b399bd}",
         *              "templateId": "59062311-cea9-40d1-a183-6edde9333815"
         *          }]
         *     });
         * </pre>
         * @param {string} fileRefString Relative or static url referencing the item.
         * @returns {object} Resolves with an array of objects defining each of the available workflows for the item.
         */
        DataService.prototype.getAvailableWorkflows = function (fileRefString) {
            var deferred = $q.defer();
            /** Build the full url for the fileRef if not already provided.  FileRef for an item defaults to a relative url */
            var itemUrl = fileRefString.indexOf(': //') > -1 ? fileRefString : this.createItemUrlFromFileRef(fileRefString);
            this.serviceWrapper({
                operation: 'GetTemplatesForItem',
                item: itemUrl
            }).then(function (responseXML) {
                var workflowTemplates = [];
                var xmlTemplates = $(responseXML).SPFilterNode('WorkflowTemplate');
                _.each(xmlTemplates, function (xmlTemplate) {
                    var template = {
                        name: $(xmlTemplate).attr('Name'),
                        instantiationUrl: $(xmlTemplate).attr('InstantiationUrl'),
                        templateId: '{' + $(xmlTemplate).find('WorkflowTemplateIdSet').attr('TemplateId') + '}'
                    };
                    workflowTemplates.push(template);
                });
                deferred.resolve(workflowTemplates);
            });
            return deferred.promise;
        };
        /**
         * @ngdoc function
         * @name DataService.getCollection
         * @description
         * Used to handle any of the Get[filterNode]Collection calls to SharePoint
         *
         * @param {Object} options - object used to extend payload and needs to include all SPServices required attributes
         * @param {string} [options.operation] GetUserCollectionFromSite
         * @param {string} [options.operation] GetGroupCollectionFromSite
         * @param {string} [options.operation] GetGroupCollectionFromUser @requires options.userLoginName
         * @param {string} [options.operation] GetUserCollectionFromGroup @requires options.groupName
         * @param {string} [options.operation] GetListCollection
         * @param {string} [options.operation] GetViewCollection @requires options.listName
         * @param {string} [options.operation] GetAttachmentCollection @requires options.listName & options.ID
         * @param {string} [options.filterNode] - Value to iterate over in returned XML
         *         if not provided it's extracted from the name of the operation
         *         ex: Get[User]CollectionFromSite, "User" is used as the filterNode
         *
         * @returns {object[]} Promise which when resolved will contain an array of objects representing the
         * requested collection.
         *
         * @example
         * <pre>
         * DataService.getCollection({
         *        operation: "GetGroupCollectionFromUser",
         *        userLoginName: $scope.state.selectedUser.LoginName
         *        }).then(function (response) {
         *            postProcessFunction(response);
         *       });
         * </pre>
         */
        DataService.prototype.getCollection = function (options) {
            var defaults = {
                postProcess: processXML
            };
            var opts = _.extend({}, defaults, options);
            /** Determine the XML node to iterate over if filterNode isn't provided */
            var filterNode = opts.filterNode || opts.operation.split('Get')[1].split('Collection')[0];
            var deferred = $q.defer();
            /** Convert the xml returned from the server into an array of js objects */
            function processXML(serverResponse) {
                var convertedItems = [];
                /** Get attachments only returns the links associated with a list item */
                if (opts.operation === 'GetAttachmentCollection') {
                    /** Unlike other call, get attachments only returns strings instead of an object with attributes */
                    $(serverResponse).SPFilterNode(filterNode).each(function () {
                        convertedItems.push($(this).text());
                    });
                }
                else {
                    var nodes = $(serverResponse).SPFilterNode(filterNode);
                    convertedItems = apXMLToJSONService.parse(nodes, { includeAllAttrs: true, removeOws: false });
                }
                return convertedItems;
            }
            var validPayload = this.validateCollectionPayload(opts);
            if (validPayload) {
                this.serviceWrapper(opts).then(function (response) {
                    deferred.resolve(response);
                });
            }
            else {
                toastr.error('Invalid payload: ', opts);
                deferred.reject();
            }
            return deferred.promise;
        };
        /**
         * @ngdoc function
         * @name DataService.getCurrentSite
         * @description
         * Requests and caches the root url for the current site.  It caches the response so any future calls receive
         * the cached promise.
         * @returns {promise} Resolves with the current site root url.
         */
        DataService.prototype.getCurrentSite = function () {
            var deferred = $q.defer();
            //var self = this.getCurrentSite;
            if (!this.queryForCurrentSite) {
                /** We only want to run this once so cache the promise the first time and just reference it in the future */
                this.queryForCurrentSite = deferred.promise;
                var msg = SPServices.SOAPEnvelope.header + "<WebUrlFromPageUrl xmlns='" + SPServices.SCHEMASharePoint + "/soap/' ><pageUrl>" + ((location.href.indexOf("?") > 0) ? location.href.substr(0, location.href.indexOf("?")) : location.href) + "</pageUrl></WebUrlFromPageUrl>" + SPServices.SOAPEnvelope.footer;
                $http({
                    method: 'POST',
                    url: '/_vti_bin/Webs.asmx',
                    data: msg,
                    responseType: "document",
                    headers: {
                        "Content-Type": "text/xml;charset='utf-8'"
                    }
                }).then(function (response) {
                    /** Success */
                    apConfig.defaultUrl = $(response.data).find("WebUrlFromPageUrlResult").text();
                    deferred.resolve(apConfig.defaultUrl);
                }, function (response) {
                    /** Error */
                    var error = apDecodeService.checkResponseForErrors(response.data);
                    deferred.reject(error);
                });
            }
            return this.queryForCurrentSite;
        };
        /**
         * @ngdoc function
         * @name DataService.getFieldVersionHistory
         * @description
         * Returns the version history for a field in a list item.
         * @param {object} options Configuration object passed to SPServices.
         * <pre>
         * var options = {
         *        operation: 'GetVersionCollection',
         *        webURL: apConfig.defaultUrl,
         *        strlistID: model.list.getListId(),
         *        strlistItemID: listItem.id,
         *        strFieldName: fieldDefinition.staticName
         *    };
         * </pre>
         * @param {object} fieldDefinition Field definition object from the model.
         * @returns {object[]} Promise which resolves with an array of list item changes for the specified field.
         */
        DataService.prototype.getFieldVersionHistory = function (options, fieldDefinition) {
            var defaults = {
                operation: 'GetVersionCollection'
            };
            var opts = _.extend({}, defaults, options);
            var deferred = $q.defer();
            this.serviceWrapper(opts).then(function (response) {
                /** Parse XML response */
                var versions = apDecodeService.parseFieldVersions(response, fieldDefinition);
                /** Resolve with an array of all field versions */
                deferred.resolve(versions);
            }, function (outcome) {
                /** Failure */
                toastr.error('Failed to fetch version history.');
                deferred.reject(outcome);
            });
            return deferred.promise;
        };
        /**
         * @ngdoc function
         * @name DataService.getGroupCollectionFromUser
         * @description
         * Fetches an array of group names the user is a member of.  If no user is provided we use the current user.
         * @param {string} [login=CurrentUser] Optional param of another user's login to return the profile for.
         * @returns {string[]} Promise which resolves with the array of groups the user belongs to.
         */
        DataService.prototype.getGroupCollectionFromUser = function (login) {
            var _this = this;
            /** Create a new deferred object if not already defined */
            var deferred = $q.defer();
            var getGroupCollection = function (userLoginName) {
                _this.serviceWrapper({
                    operation: 'GetGroupCollectionFromUser',
                    userLoginName: userLoginName,
                    filterNode: 'Group'
                }).then(function (groupCollection) { return deferred.resolve(groupCollection); });
            };
            if (!login) {
                /** No login name provided so lookup profile for current user */
                this.getUserProfileByName().then(function (userProfile) { return getGroupCollection(userProfile.userLoginName); });
            }
            else {
                getGroupCollection(login);
            }
            return deferred.promise;
        };
        /**
         * @ngdoc function
         * @name DataService.getList
         * @description
         * Returns all list details including field and list config.
         * @param {object} options Configuration parameters.
         * @param {string} options.listName GUID of the list.
         * @returns {object} Promise which resolves with an object defining field and list config.
         */
        DataService.prototype.getList = function (options) {
            var defaults = {
                operation: 'GetList'
            };
            var opts = _.extend({}, defaults, options);
            return this.serviceWrapper(opts);
        };
        /**
         * @ngdoc function
         * @name DataService.getListFields
         * @description
         * Returns field definitions for a specified list.
         * @param {object} options Configuration parameters.
         * @param {string} options.listName GUID of the list.
         * @returns {object} Promise which resolves with an array of field definitions for the list.
         */
        DataService.prototype.getListFields = function (options) {
            var deferred = $q.defer();
            this.getList(options).then(function (responseXml) {
                var nodes = $(responseXml).SPFilterNode('Field');
                var fields = apXMLToJSONService.parse(nodes, { includeAllAttrs: true, removeOws: false });
                deferred.resolve(fields);
            });
            return deferred.promise;
        };
        /**
         * @ngdoc function
         * @name DataService.getUserProfile
         * @description
         * Returns the profile for an optional user, but defaults the the current user if one isn't provided.
         * Pull user profile info and parse into a profile object
         * http: //spservices.codeplex.com/wikipage?title=GetUserProfileByName
         * @param {string} [login=CurrentUser] Optional param of another user's login to return the profile for.
         * @returns {object} Promise which resolves with the requested user profile.
         */
        DataService.prototype.getUserProfileByName = function (login) {
            var deferred = $q.defer();
            var payload = {
                accountName: undefined,
                operation: 'GetUserProfileByName'
            };
            if (login) {
                payload.accountName = login;
            }
            this.serviceWrapper(payload).then(function (serverResponse) {
                var userProfile = {
                    AccountName: undefined,
                    userLoginName: undefined
                };
                //Not formatted like a normal SP response so need to manually parse
                $(serverResponse).SPFilterNode('PropertyData').each(function () {
                    var nodeName = $(this).SPFilterNode('Name');
                    var nodeValue = $(this).SPFilterNode('Value');
                    if (nodeName.length > 0 && nodeValue.length > 0) {
                        userProfile[nodeName.text().trim()] = nodeValue.text().trim();
                    }
                });
                /** Optionally specify a necessary prefix that should appear before the user login */
                userProfile.userLoginName = apConfig.userLoginNamePrefix ? (apConfig.userLoginNamePrefix + userProfile.AccountName) : userProfile.AccountName;
                deferred.resolve(userProfile);
            });
            return deferred.promise;
        };
        /**
         * @ngdoc function
         * @name DataService.processChangeTokenXML
         * @description
         * The initial call to GetListItemChangesSinceToken also includes the field definitions for the
         * list so extend the existing field definitions and list defined in the model.  After that, store
         * the change token and make any changes to the user's permissions for the list.
         * @param {Model} model List model.
         * @param {IQuery} query Valid query object.
         * @param {XMLDocument} responseXML XML response from the server.
         * @param {object} opts Config options built up along the way.
         */
        DataService.prototype.processChangeTokenXML = function (model, query, responseXML, opts) {
            if (!model.deferredListDefinition) {
                /** Replace the null placeholder with this promise so we don't have to process in the future and also
                 * don't have to query again if we run Model.extendListMetadata. */
                model.deferredListDefinition = query.initialized.promise;
                apDecodeService.extendListMetadata(model, responseXML);
            }
            /** Store token for future web service calls to return changes */
            query.changeToken = this.retrieveChangeToken(responseXML);
            /** Update the user permissions for this list */
            var effectivePermissionMask = this.retrievePermMask(responseXML);
            if (effectivePermissionMask) {
                model.list.effectivePermMask = effectivePermissionMask;
            }
            /** Change token query includes deleted items as well so we need to process them separately */
            this.processDeletionsSinceToken(responseXML, opts.target);
        };
        /**
         * @ngdoc function
         * @name DataService.processDeletionsSinceToken
         * @description
         * GetListItemChangesSinceToken returns items that have been added as well as deleted so we need
         * to remove the deleted items from the local cache.
         * @param {XMLDocument} responseXML XML response from the server.
         * @param {Object} indexedCache Cached object of key value pairs.
         */
        DataService.prototype.processDeletionsSinceToken = function (responseXML, indexedCache) {
            /** Remove any locally cached entities that were deleted from the server */
            $(responseXML).SPFilterNode('Id').each(function () {
                /** Check for the type of change */
                var changeType = $(this).attr('ChangeType');
                if (changeType === 'Delete') {
                    var listItemId = parseInt($(this).text(), 10);
                    /** Remove from local data array */
                    indexedCache.removeEntity(listItemId);
                }
            });
        };
        /**
         * @ngdoc function
         * @name DataService.requestData
         * @description
         * The primary function that handles all communication with the server.  This is very low level and isn't
         * intended to be called directly.
         * @param {object} opts Payload object containing the details of the request.
         * @returns {promise} Promise that resolves with the server response.
         */
        DataService.prototype.requestData = function (opts) {
            var deferred = $q.defer();
            var soapData = SPServices.generateXMLComponents(opts);
            var service = apWebServiceOperationConstants[opts.operation][0];
            this.generateWebServiceUrl(service, opts.webURL).then(function (url) {
                $http.post(url, soapData.msg, {
                    responseType: "document",
                    headers: {
                        "Content-Type": "text/xml;charset='utf-8'",
                        SOAPAction: function () { return soapData.SOAPAction ? soapData.SOAPAction : null; }
                    },
                    transformResponse: function (data, headersGetter) {
                        if (_.isString(data)) {
                            data = $.parseXML(data);
                        }
                        return data;
                    }
                }).then(function (response) {
                    /** Success */
                    /** Errors can still be resolved without throwing an error so check the XML */
                    var error = apDecodeService.checkResponseForErrors(response.data);
                    if (error) {
                        console.error(error, opts);
                        deferred.reject(error);
                    }
                    else {
                        deferred.resolve(response.data);
                    }
                }, function (response) {
                    /** Failure */
                    var error = apDecodeService.checkResponseForErrors(response.data);
                    console.error(response.statusText, opts);
                    deferred.reject(response.statusText + ': ' + error);
                });
            });
            return deferred.promise;
        };
        /**
         * @ngdoc function
         * @name DataService.retrieveChangeToken
         * @description
         * Returns the change token from the xml response of a GetListItemChangesSinceToken query
         * Note: this attribute is only found when using 'GetListItemChangesSinceToken'
         * @param {XMLDocument} responseXML XML response from the server.
         */
        DataService.prototype.retrieveChangeToken = function (responseXML) {
            return $(responseXML).find('Changes').attr('LastChangeToken');
        };
        /**
         * @ngdoc function
         * @name DataService.retrievePermMask
         * @description
         * Returns the text representation of the users permission mask
         * Note: this attribute is only found when using 'GetListItemChangesSinceToken'
         * @param {XMLDocument} responseXML XML response from the server.
         */
        DataService.prototype.retrievePermMask = function (responseXML) {
            return $(responseXML).find('listitems').attr('EffectivePermMask');
        };
        /**
         * @ngdoc function
         * @name DataService.serviceWrapper
         * @description
         * Generic wrapper for any SPServices web service call.  The big benefit to this function is it allows us
         * to continue to use the $q promise model throughout the application instead of using the promise
         * implementation used in SPServices so we have a more consistent experience.
         * Check http: //spservices.codeplex.com/documentation for details on expected parameters for each operation.
         *
         * @param {object} options Payload params that is directly passed to SPServices.
         * @param {string} [options.webURL] XML filter string used to find the elements to iterate over.
         * @param {string} [options.filterNode] XML filter string used to find the elements to iterate over.
         * This is typically 'z: row' for list items.
         * @returns {object} Returns a promise which when resolved either returns clean objects parsed by the value
         * in options.filterNode or the raw XML response if a options.filterNode
         *
         *      If options.filterNode is provided, returns XML parsed by node name
         *      Otherwise returns the server response
         */
        DataService.prototype.serviceWrapper = function (options) {
            var defaults = {
                postProcess: processXML,
                webURL: apConfig.defaultUrl
            };
            var opts = _.extend({}, defaults, options);
            var deferred = $q.defer();
            /** Convert the xml returned from the server into an array of js objects */
            function processXML(serverResponse) {
                if (opts.filterNode) {
                    var nodes = $(serverResponse).SPFilterNode(opts.filterNode);
                    return apXMLToJSONService.parse(nodes, { includeAllAttrs: true, removeOws: false });
                }
                else {
                    return serverResponse;
                }
            }
            this.requestData(opts).then(function (response) {
                /** Failure */
                var data = opts.postProcess(response);
                deferred.resolve(data);
            }, function (response) {
                /** Failure */
                toastr.error('Failed to complete the requested ' + opts.operation + ' operation.');
                deferred.reject(response);
            });
            return deferred.promise;
        };
        /**
         * @ngdoc function
         * @name DataService.startWorkflow
         * @description
         * Initiate a workflow for a given list item or document.  You can view additional info at
         * [StartWorkflow](http: //spservices.codeplex.com/wikipage?title=StartWorkflow&referringTitle=Workflow).
         * @param {object} options Configuration options.
         * @param {string} options.item Full fileRef for the given list item/document.
         * @param {string} options.templateId The workflow template GUID.  You can use dataService.getAvailableWorkflows
         * to locate to appropriate one.
         * @param {string} [options.workflowParameters='<root />'] Optionally provide paramaters to the workflow.
         * @param {string} [options.fileRef] Optionally pass in the relative fileRef of an listItem and then we can
         * convert it to options.item.
         * @returns {object} Deferred object that resolves once complete.
         * @example
         * <pre>
         * DataService.startWorkflow({
         *     item: "https: //server/site/Lists/item" + idData + "_.000",
         *     templateId: "{c29c1291-a25c-47d7-9345-8fb1de2a1fa3}",
         *     workflowParameters: "<Data><monthName>" + txtBox.value + "</monthName></Data>",
         *   ...}).then(function() {
         *       //Success
         *   }, function(err) {
         *       //Error
         *   })
         * </pre>
         */
        DataService.prototype.startWorkflow = function (options) {
            var defaults = {
                operation: 'StartWorkflow',
                item: '',
                fileRef: '',
                templateId: '',
                workflowParameters: '<root />'
            }, opts = _.extend({}, defaults, options);
            /** We have the relative file reference but we need to create the fully qualified reference */
            if (!opts.item && opts.fileRef) {
                opts.item = this.createItemUrlFromFileRef(opts.fileRef);
            }
            return this.serviceWrapper(opts);
        };
        /**
         * @ngdoc function
         * @name DataService.updateListItem
         * @description
         * Updates an existing list item.
         * @param {object} model Reference to the entities model.
         * @param {object} listItem JavaScript object representing the SharePoint list item.
         * @param {object} [options] Optional configuration params.
         * @param {boolean} [options.buildValuePairs=true] Automatically generate pairs based on fields defined in model.
         * @param {Array[]} [options.valuePairs] Precomputed value pairs to use instead of generating them for each
         * field identified in the model.
         * @returns {object} Promise which resolves with the newly created item.
         */
        DataService.prototype.updateListItem = function (model, listItem, options) {
            var defaults = {
                batchCmd: 'Update',
                buildValuePairs: true,
                ID: listItem.id,
                listName: model.list.getListId(),
                operation: 'UpdateListItems',
                target: listItem.getCache(),
                valuePairs: [],
                webURL: model.list.identifyWebURL()
            }, deferred = $q.defer(), opts = _.extend({}, defaults, options);
            if (opts.buildValuePairs === true) {
                var editableFields = _.where(model.list.fields, { readOnly: false });
                opts.valuePairs = apEncodeService.generateValuePairs(editableFields, listItem);
            }
            if (model.list.webURL && !opts.webURL) {
                opts.webURL = model.list.webURL;
            }
            /** Notify any listeners to expect a change */
            apChangeService.registerListItemUpdate(listItem, opts, deferred.promise);
            ///** Overload the function then pass anything past the first parameter to the supporting methods */
            //this.serviceWrapper(opts, listItem, model)
            this.serviceWrapper(opts).then(function (response) {
                var indexedCache = apDecodeService.processListItems(model, listItem.getQuery(), response, opts);
                /** Return reference to updated listItem  */
                deferred.resolve(indexedCache[listItem.id]);
            }, function (err) {
                deferred.reject(err);
            });
            return deferred.promise;
        };
        /**
         * @description
         * Simply verifies that all components of the payload are present.
         * @param {object} opts Payload config.
         * @returns {boolean} Collection is valid.
         */
        DataService.prototype.validateCollectionPayload = function (opts) {
            var validPayload = true;
            var verifyParams = function (params) {
                _.each(params, function (param) {
                    if (!opts[param]) {
                        toastr.error('options' + param + ' is required to complete this operation');
                        validPayload = false;
                    }
                });
            };
            switch (opts.operation) {
                case 'GetGroupCollectionFromUser':
                    verifyParams(['userLoginName']);
                    break;
                case 'GetUserCollectionFromGroup':
                    verifyParams(['groupName']);
                    break;
                case 'GetViewCollection':
                    verifyParams(['listName']);
                    break;
                case 'GetAttachmentCollection':
                    verifyParams(['listName', 'ID']);
                    break;
            }
            return validPayload;
        };
        return DataService;
    })();
    ap.DataService = DataService;
    angular.module('angularPoint').service('apDataService', DataService);
})(ap || (ap = {}));

/// <reference path="../../typings/ap.d.ts" />
var ap;
(function (ap) {
    'use strict';
    /**
     * @ngdoc service
     * @name angularPoint.apDecodeService
     * @description
     * Processes the XML received from SharePoint and converts it into JavaScript objects based on predefined field types.
     *
     * @requires angularPoint.apUtilityService
     * @requires angularPoint.apConfig
     * @requires angularPoint.apCacheService
     */
    var DecodeService = (function () {
        function DecodeService(apCacheService, apLookupFactory, apUserFactory, apFieldService, apXMLListAttributeTypes, apXMLFieldAttributeTypes) {
            this.apCacheService = apCacheService;
            this.apLookupFactory = apLookupFactory;
            this.apUserFactory = apUserFactory;
            this.apFieldService = apFieldService;
            this.apXMLListAttributeTypes = apXMLListAttributeTypes;
            this.apXMLFieldAttributeTypes = apXMLFieldAttributeTypes;
        }
        /**
         * @ngdoc function
         * @name angularPoint.apDecodeService:checkResponseForErrors
         * @methodOf angularPoint.apDecodeService
         * @description
         * Errors don't always throw correctly from SPServices so this function checks to see if part
         * of the XHR response contains an "errorstring" element.
         * @param {object} responseXML XHR response from the server.
         * @returns {string|null} Returns an error string if present, otherwise returns null.
         */
        DecodeService.prototype.checkResponseForErrors = function (responseXML) {
            var error = null;
            /** Look for <errorstring></errorstring> or <ErrorText></ErrorText> for details on any errors */
            var errorElements = ['ErrorText', 'errorstring'];
            _.each(errorElements, function (element) {
                $(responseXML).find(element).each(function () {
                    error = $(this).text();
                    /** Break early if found */
                    return false;
                });
            });
            return error;
        };
        /** Converts UTC date to a localized date
         * Taken from: http://stackoverflow.com/questions/6525538/convert-utc-date-time-to-local-date-time-using-javascript
         * */
        DecodeService.prototype.convertUTCDateToLocalDate = function (date) {
            var newDate = new Date(date.getTime() + date.getTimezoneOffset() * 60 * 1000);
            var offset = date.getTimezoneOffset() / 60;
            var hours = date.getHours();
            newDate.setHours(hours - offset);
            return newDate;
        };
        /**
         * @ngdoc function
         * @name angularPoint.apDecodeService:createListItemProvider
         * @methodOf angularPoint.apDecodeService
         * @description
         * The initial constructor for a list item that references the array where the entity exists and the
         * query used to fetch the entity.  From there it extends the entity using the factory defined in the
         * model for the list item.
         * @param {object} model Reference to the model for the list item.
         * @param {object} query Reference to the query object used to retrieve the entity.
         * @param {object} indexedCache Location where we'll be pushing the new entity.
         * @returns {Function} Returns a function that takes the new list item while keeping model, query,
         * and container in scope for future reference.
         */
        DecodeService.prototype.createListItemProvider = function (model, query, indexedCache) {
            var _this = this;
            return function (rawObject) {
                /** Create Reference to the indexed cache */
                rawObject.getCache = function () { return indexedCache; };
                /** Allow us to reference the originating query that generated this object */
                rawObject.getQuery = function () { return query; };
                /** Allow us to reference the parent model for any list item */
                //rawObject.getModel = () => model;
                var listItem = new model.factory(rawObject);
                /** Register in global application listItem cache and extends the existing listItem if it
                 * already exists */
                return _this.apCacheService.registerEntity(listItem, indexedCache);
            };
        };
        /**
         * @ngdoc function
         * @name angularPoint.apDecodeService:extendFieldDefinitionsFromXML
         * @methodOf angularPoint.apDecodeService
         * @description
         * Takes the XML response from a web service call and extends any field definitions in the model
         * with additional field metadata.  Important to note that all properties will coming from the XML start
         * with a capital letter.
         * @param {object[]} fieldDefinitions Field definitions from the model.
         * @param {object} responseXML XML response from the server.
         */
        DecodeService.prototype.extendFieldDefinitionsFromXML = function (fieldDefinitions, responseXML) {
            var _this = this;
            var fieldMap = {};
            /** Map all custom fields with keys of the staticName and values = field definition */
            _.each(fieldDefinitions, function (field) {
                if (field.staticName) {
                    fieldMap[field.staticName] = field;
                }
            });
            /** Iterate over each of the field nodes */
            var fields = $(responseXML).SPFilterNode('Field');
            _.each(fields, function (xmlField) {
                var staticName = $(xmlField).attr('StaticName');
                var fieldDefinition = fieldMap[staticName];
                /** If we've defined this field then we should extend it */
                if (fieldDefinition) {
                    _this.extendObjectWithXMLAttributes(xmlField, fieldDefinition, _this.apXMLFieldAttributeTypes);
                    /** Additional processing for Choice fields to include the default value and choices */
                    if (fieldDefinition.objectType === 'Choice' || fieldDefinition.objectType === 'MultiChoice') {
                        fieldDefinition.Choices = [];
                        /** Convert XML Choices object to an array of choices */
                        var xmlChoices = $(xmlField).find('CHOICE');
                        _.each(xmlChoices, function (xmlChoice) {
                            fieldDefinition.Choices.push($(xmlChoice).text());
                        });
                        fieldDefinition.Default = $(xmlField).find('Default').text();
                    }
                }
            });
            return fieldDefinitions;
        };
        /**
         * @ngdoc function
         * @name angularPoint.apDecodeService:extendListDefinitionFromXML
         * @methodOf angularPoint.apDecodeService
         * @description
         * Takes the XML response from a web service call and extends the list definition in the model
         * with additional field metadata.  Important to note that all properties will coming from the XML start
         * with a capital letter.
         * @param {object} list model.list
         * @param {object} responseXML XML response from the server.
         * @returns {object} Extended list object.
         */
        DecodeService.prototype.extendListDefinitionFromXML = function (list, responseXML) {
            var service = this;
            $(responseXML).find("List").each(function () {
                service.extendObjectWithXMLAttributes(this, list, service.apXMLListAttributeTypes);
            });
            return list;
        };
        /**
         * @ngdoc function
         * @name angularPoint.apDecodeService:extendListMetadata
         * @methodOf angularPoint.apDecodeService
         * @description
         * Convenience method that extends the list definition and the field definitions from an xml list response
         * from the server.  Can be used specifically with GetListItemsSinceToken and GetList operations.
         * @param {object} model Model for a given list.
         * @param {object} responseXML XML response from the server.
         */
        DecodeService.prototype.extendListMetadata = function (model, responseXML) {
            this.extendListDefinitionFromXML(model.list, responseXML);
            this.extendFieldDefinitionsFromXML(model.list.fields, responseXML);
        };
        /**
         * @ngdoc function
         * @name angularPoint.apDecodeService:extendObjectWithXMLAttributes
         * @methodOf angularPoint.apDecodeService
         * @description
         * Takes an XML element and copies all attributes over to a given JS object with corresponding values.  If
         * no JS Object is provided, it extends an empty object and returns it.  If an attributeTypes object is provided
         * we parse each of the defined field so they are typed correctly instead of being a simple string.
         * Note: Properties are not necessarily CAMLCase.
         * @param {object} xmlObject An XML element.
         * @param {object} [jsObject={}] An optional JS Object to extend XML attributes to.
         * @param {object} [attributeTypes={}] Key/Val object with keys being the name of the field and val being the
         * type of field.
         * @returns {object} JS Object
         */
        DecodeService.prototype.extendObjectWithXMLAttributes = function (xmlObject, jsObject, attributeTypes) {
            var _this = this;
            var objectToExtend = jsObject || {};
            var attributeMap = attributeTypes || {};
            var xmlAttributes = xmlObject.attributes;
            _.each(xmlAttributes, function (attr, attrNum) {
                var attrName = xmlAttributes[attrNum].name;
                objectToExtend[attrName] = $(xmlObject).attr(attrName);
                if (attributeMap[attrName]) {
                    objectToExtend[attrName] = _this.parseStringValue(objectToExtend[attrName], attributeMap[attrName]);
                }
            });
            return objectToExtend;
        };
        DecodeService.prototype.jsAttachments = function (str) {
            /* Depending on CAMLQueryOptions Config an attachment can be formatted in 1 of the below 3 ways:
             1. {number} The number of attachments for a given list item.
             CAMLQueryOptions
             <IncludeAttachmentUrls>FALSE</IncludeAttachmentUrls>
             <IncludeAttachmentVersion>FALSE</IncludeAttachmentVersion>

             Example
             ows_Attachments="2"

             2. {string}
             CAMLQueryOptions
             <IncludeAttachmentUrls>TRUE</IncludeAttachmentUrls>
             <IncludeAttachmentVersion>FALSE</IncludeAttachmentVersion>

             Format
             ;#[ListUrl]/Attachments/[ListItemId]/[FileName];#

             Example:
             ows_Attachments=";#https://SharePointSite.com/Lists/Widgets/Attachments/4/DocumentName.xlsx;#"

             //Todo Check to see if there is any value in this option
             3. {string} NOTE: We don't currently handle this format.
             CAMLQueryOptions
             <IncludeAttachmentUrls>TRUE</IncludeAttachmentUrls>
             <IncludeAttachmentVersion>TRUE</IncludeAttachmentVersion>

             Format
             ;#[ListUrl]/Attachments/[ListItemId]/[FileName];#[AttachmentGUID],[Version Number];#

             Example:
             ows_Attachments=";#https://SharePointSite.com/Lists/Widgets/Attachments/4/DocumentName.xlsx;#{4378D394-8601-480D-ABD0-0A0505E726FB},1;#"
             */
            if (!isNaN(str)) {
                /** Value is a number current stored as a string */
                var int = parseInt(str);
                if (int > 0) {
                    return int;
                }
                else {
                    return '';
                }
            }
            else {
                /** Split into an array of attachment URLs */
                return this.jsChoiceMulti(str);
            }
        };
        DecodeService.prototype.jsBoolean = function (str) {
            /** SharePoint uses different string representations for booleans in different places so account for each */
            return str === '1' || str === 'True' || str === 'TRUE';
        };
        DecodeService.prototype.jsCalc = function (str) {
            if (str.length === 0) {
                return null;
            }
            else {
                var thisCalc = str.split(';#');
                // The first value will be the calculated column value type, the second will be the value
                return this.parseStringValue(thisCalc[1], thisCalc[0]);
            }
        };
        DecodeService.prototype.jsChoiceMulti = function (str) {
            if (str.length === 0) {
                return [];
            }
            else {
                var thisChoiceMultiObject = [];
                var thisChoiceMulti = str.split(';#');
                for (var i = 0; i < thisChoiceMulti.length; i++) {
                    if (thisChoiceMulti[i].length !== 0) {
                        thisChoiceMultiObject.push(thisChoiceMulti[i]);
                    }
                }
                return thisChoiceMultiObject;
            }
        };
        DecodeService.prototype.jsDate = function (str) {
            if (!str) {
                return null;
            }
            else {
                /** Replace dashes with slashes and the "T" deliminator with a space if found */
                var dt = str.split("T")[0] !== str ? str.split("T") : str.split(" ");
                var d = dt[0].split("-");
                var t = dt[1].split(":");
                var t3 = t[2].split("Z");
                return new Date(d[0], (d[1] - 1), d[2], t[0], t[1], t3[0]);
            }
        };
        DecodeService.prototype.jsFloat = function (str) {
            if (!str) {
                return str;
            }
            else {
                return parseFloat(str);
            }
        };
        DecodeService.prototype.jsInt = function (str) {
            if (!str) {
                return str;
            }
            else {
                return parseInt(str, 10);
            }
        };
        DecodeService.prototype.jsLookup = function (str, options) {
            if (str.length === 0) {
                return null;
            }
            else {
                //Send to constructor
                return this.apLookupFactory.create(str, options);
            }
        };
        DecodeService.prototype.jsLookupMulti = function (str, options) {
            if (str.length === 0) {
                return [];
            }
            else {
                var thisLookupMultiObject = [];
                var thisLookupMulti = str.split(';#');
                for (var i = 0; i < thisLookupMulti.length; i = i + 2) {
                    /** Ensure a lookup id is present before attempting to push a new lookup */
                    if (thisLookupMulti[i]) {
                        var thisLookup = this.jsLookup(thisLookupMulti[i] + ';#' + thisLookupMulti[i + 1], options);
                        thisLookupMultiObject.push(thisLookup);
                    }
                }
                return thisLookupMultiObject;
            }
        };
        DecodeService.prototype.jsObject = function (str) {
            if (!str) {
                return str;
            }
            else {
                /** Ensure JSON is valid and if not throw error with additional detail */
                var json = null;
                try {
                    json = JSON.parse(str);
                }
                catch (err) {
                    console.error('Invalid JSON: ', str);
                }
                return json;
            }
        };
        DecodeService.prototype.jsString = function (str) {
            return str;
        };
        DecodeService.prototype.jsUser = function (str) {
            if (str.length === 0) {
                return null;
            }
            //Send to constructor
            return this.apUserFactory.create(str);
        };
        DecodeService.prototype.jsUserMulti = function (str) {
            if (str.length === 0) {
                return [];
            }
            else {
                var thisUserMultiObject = [];
                var thisUserMulti = str.split(';#');
                for (var i = 0; i < thisUserMulti.length; i = i + 2) {
                    var thisUser = this.jsUser(thisUserMulti[i] + ';#' + thisUserMulti[i + 1]);
                    thisUserMultiObject.push(thisUser);
                }
                return thisUserMultiObject;
            }
        };
        /**
         * @ngdoc function
         * @name angularPoint.apDecodeService:parseFieldVersions
         * @methodOf angularPoint.apDecodeService
         * @description
         * Takes an XML response from SharePoint webservice and returns an array of field versions.
         *
         * @param {xml} responseXML Returned XML from web service call.
         * @param {object} fieldDefinition Field definition from the model.
         *
         * @returns {Array} Array objects containing the various version of a field for each change.
         */
        DecodeService.prototype.parseFieldVersions = function (responseXML, fieldDefinition) {
            var _this = this;
            var versions = [];
            var xmlVersions = $(responseXML).find('Version');
            var versionCount = xmlVersions.length;
            _.each(xmlVersions, function (xmlVersion, index) {
                /** Bug in SOAP Web Service returns time in UTC time for version history
                 *  Details: https://spservices.codeplex.com/discussions/391879
                 */
                var utcDate = _this.parseStringValue($(xmlVersion).attr('Modified'), 'DateTime');
                /** Parse the xml and create a representation of the version as a js object */
                var version = {
                    editor: _this.parseStringValue($(xmlVersion).attr('Editor'), 'User'),
                    /** Turn the SharePoint formatted date into a valid date object */
                    modified: _this.convertUTCDateToLocalDate(utcDate),
                    /** Returns records in desc order so compute the version number from index */
                    version: versionCount - index
                };
                /** Properly format field based on definition from model */
                version[fieldDefinition.mappedName] = _this.parseStringValue($(xmlVersion).attr(fieldDefinition.staticName), fieldDefinition.objectType);
                /** Push to beginning of array */
                versions.unshift(version);
            });
            return versions;
        };
        /**
         * @ngdoc function
         * @name angularPoint.apDecodeService:parseStringValue
         * @methodOf angularPoint.apDecodeService
         * @description
         * Converts a SharePoint string representation of a field into the correctly formatted JavaScript version
         * based on object type.  A majority of this code is directly taken from Marc Anderson's incredible
         * [SPServices](http://spservices.codeplex.com/) project but it needed some minor tweaking to work here.
         * @param {string} str SharePoint string representing the value.
         * @param {string} [objectType='Text'] The type based on field definition.  See
         * See [List.customFields](#/api/List.FieldDefinition) for additional info on how to define a field type.
         * @param {object} [options] Options to pass to the object constructor.
         * @param {object} [options.entity] Reference to the parent list item which can be used by child constructors.
         * @param {object} [options.propertyName] Name of property on the list item.
         * @returns {*} The newly instantiated JavaScript value based on field type.
         */
        DecodeService.prototype.parseStringValue = function (str, objectType, options) {
            var unescapedValue = _.unescape(str);
            var colValue;
            switch (objectType) {
                case 'Attachments':
                    colValue = this.jsAttachments(unescapedValue);
                    break;
                case 'Boolean':
                    colValue = this.jsBoolean(unescapedValue);
                    break;
                case 'Calculated':
                    colValue = this.jsCalc(unescapedValue);
                    break;
                case 'datetime':
                case 'DateTime':
                    // Dates have dashes instead of slashes: ows_Created='2009-08-25 14:24:48'
                    colValue = this.jsDate(unescapedValue);
                    break;
                case 'Lookup':
                    colValue = this.jsLookup(unescapedValue, options);
                    break;
                case 'User':
                    colValue = this.jsUser(unescapedValue);
                    break;
                case 'LookupMulti':
                    colValue = this.jsLookupMulti(unescapedValue, options);
                    break;
                case 'UserMulti':
                    colValue = this.jsUserMulti(unescapedValue);
                    break;
                case 'Integer':
                case 'Counter':
                    colValue = this.jsInt(unescapedValue);
                    break;
                case 'Number':
                case 'Currency':
                case 'float':
                case 'Float':
                    colValue = this.jsFloat(unescapedValue);
                    break;
                case 'MultiChoice':
                    colValue = this.jsChoiceMulti(unescapedValue);
                    break;
                case 'JSON':
                    colValue = this.jsObject(unescapedValue);
                    break;
                case 'Choice':
                case 'HTML':
                case 'Note':
                default:
                    // All other objectTypes will be simple strings
                    colValue = this.jsString(unescapedValue);
                    break;
            }
            return colValue;
        };
        /**
         * @ngdoc function
         * @name angularPoint.apDecodeService:parseXMLEntity
         * @methodOf angularPoint.apDecodeService
         * @description
         * Convert an XML list item into a JS object using the fields defined in the model for the given list item.
         * @param {object} xmlEntity XML Object.
         * @param {function} listItemProvider Constructor function that instantiates a new object.
         * @param {object} options Configuration options.
         * @param {string} options.mapping Mapping of fields we'd like to extend on our JS object.
         * @param {boolean} [options.includeAllAttrs=false] If true, return all attributes, regardless whether
         * @param {boolean} [options.listItemProvider] List item constructor.
         * @param {boolean} [options.removeOws=true] Specifically for GetListItems, if true, the leading ows_ will
         * @returns {object} New entity using the factory on the model.
         */
        DecodeService.prototype.parseXMLEntity = function (xmlEntity, listItemProvider, options) {
            var _this = this;
            var entity = {};
            var rowAttrs = xmlEntity.attributes;
            /** Bring back all mapped columns, even those with no value */
            _.each(options.mapping, function (fieldDefinition) {
                entity[fieldDefinition.mappedName] = _this.apFieldService.getDefaultValueForType(fieldDefinition.objectType);
                //entity[fieldDefinition.mappedName] = '';
            });
            /** Parse through the element's attributes */
            _.each(rowAttrs, function (attr) {
                var thisAttrName = attr.name;
                var thisMapping = options.mapping[thisAttrName];
                var thisObjectName = typeof thisMapping !== 'undefined' ? thisMapping.mappedName : options.removeOws ? thisAttrName.split('ows_')[1] : thisAttrName;
                var thisObjectType = typeof thisMapping !== 'undefined' ? thisMapping.objectType : undefined;
                if (options.includeAllAttrs || thisMapping !== undefined) {
                    entity[thisObjectName] = _this.parseStringValue(attr.value, thisObjectType, {
                        entity: entity,
                        propertyName: thisObjectName
                    });
                }
            });
            return listItemProvider(entity);
        };
        /**
         * @ngdoc function
         * @name angularPoint.apDecodeService:processListItems
         * @methodOf angularPoint.apDecodeService
         * @description
         * Post processing of data after returning list items from server.  Returns a promise that resolves with
         * the processed entities.  Promise allows us to batch conversions of large lists to prevent ui slowdowns.
         * @param {object} model Reference to allow updating of model.
         * @param {object} query Reference to the query responsible for requesting entities.
         * @param {xml} responseXML Resolved promise from SPServices web service call.
         * @param {object} [options] Optional configuration object.
         * @param {function} [options.factory=model.factory] Constructor function typically stored on the model.
         * @param {string} [options.filter='z:row'] XML filter string used to find the elements to iterate over.
         * @param {Array} [options.mapping=model.list.mapping] Field definitions, typically stored on the model.
         * @param {Array} [options.target=model.getCache()] Optionally pass in array to update after processing.
         * @returns {Object} Inedexed Cache.
         */
        DecodeService.prototype.processListItems = function (model, query, responseXML, options) {
            var defaults = {
                factory: model.factory,
                filter: 'z:row',
                mapping: model.list.mapping,
                target: model.getCache()
            };
            var opts = _.extend({}, defaults, options);
            /** Map returned XML to JS objects based on mapping from model */
            var filteredNodes = $(responseXML).SPFilterNode(opts.filter);
            /** Prepare constructor for XML entities with references to the query and cached container */
            var listItemProvider = this.createListItemProvider(model, query, opts.target);
            /** Convert XML entities into JS objects and register in cache with listItemProvider, this returns an
             * array of entities but at this point we're not using them because the indexed cache should be more
             * performant. */
            this.xmlToJson(filteredNodes, listItemProvider, opts);
            return opts.target;
        };
        /**
         * @ngdoc function
         * @name angularPoint.apDecodeService:xmlToJson
         * @methodOf angularPoint.apDecodeService
         * @description
         * Converts an XML node set to Javascript object array. This is a modified version of the SPServices
         * "SPXmlToJson" function.
         * @param {array} xmlEntities ["z:rows"] XML rows that need to be parsed.
         * @param {function} listItemProvider Constructor function used to build the list item with references to
         * the query, cached container, and registers each list item in the apCacheService.
         * @param {object} options Options object.
         * @param {object[]} options.mapping [columnName: "mappedName", objectType: "objectType"]
         * @param {boolean} [options.includeAllAttrs=false] If true, return all attributes, regardless whether
         * @param {boolean} [options.listItemProvider] List item constructor.
         * @param {boolean} [options.removeOws=true] Specifically for GetListItems, if true, the leading ows_ will
         * be stripped off the field name.
         * @param {array} [options.target] Optional location to push parsed entities.
         * @returns {object[]} An array of JavaScript objects.
         */
        DecodeService.prototype.xmlToJson = function (xmlEntities, listItemProvider, options) {
            var _this = this;
            var defaults = {
                mapping: {},
                includeAllAttrs: false,
                removeOws: true
            };
            var opts = _.extend({}, defaults, options);
            var parsedEntities = [];
            _.each(xmlEntities, function (xmlEntity) {
                var parsedEntity = _this.parseXMLEntity(xmlEntity, listItemProvider, opts);
                parsedEntities.push(parsedEntity);
            });
            return parsedEntities;
        };
        return DecodeService;
    })();
    ap.DecodeService = DecodeService;
    /**********************PRIVATE*********************/
    /**Constructors for user and lookup fields*/
    /**Allows for easier distinction when debugging if object type is shown as either Lookup or User**/
    angular.module('angularPoint').service('apDecodeService', DecodeService);
})(ap || (ap = {}));

/// <reference path="../../typings/ap.d.ts" />
var ap;
(function (ap) {
    'use strict';
    var EncodeService = (function () {
        function EncodeService(apUtilityService, SPServices) {
            this.apUtilityService = apUtilityService;
            this.SPServices = SPServices;
        }
        /**
         * Converts an array of selected values into a SharePoint MultiChoice string
         * @param {string[]} arr
         * @returns {string}
         */
        EncodeService.prototype.choiceMultiToString = function (arr) {
            var str = '';
            var delim = ';#';
            if (arr.length > 0) {
                /** String is required to begin with deliminator */
                str += delim;
                /** Append each item in the supplied array followed by deliminator */
                _.each(arr, function (choice) { return str += choice + delim; });
            }
            return str;
        };
        /**
         * @ngdoc function
         * @name angularPoint.apEncodeService:createValuePair
         * @methodOf angularPoint.apEncodeService
         * @description
         * Uses a field definition from a model to properly format a value for submission to SharePoint.  Typically
         * used prior to saving a list item, we iterate over each of the non-readonly properties defined in the model
         * for a list item and convert those value into value pairs that we can then hand off to SPServices.
         * @param {object} fieldDefinition The field definition, typically defined in the model.
         * <pre>
         * {
             *  staticName: "Title",
             *  objectType: "Text",
             *  mappedName: "lastName",
             *  readOnly:false
             * }
         * </pre>
         * @param {*} value Current field value.
         * @returns {Array} [fieldName, fieldValue]
         */
        EncodeService.prototype.createValuePair = function (fieldDefinition, value) {
            var encodedValue = this.encodeValue(fieldDefinition.objectType, value);
            return [fieldDefinition.staticName, encodedValue];
        };
        /**
         * @ngdoc function
         * @name angularPoint.apEncodeService:encodeValue
         * @methodOf angularPoint.apEncodeService
         * @param {string} fieldType One of the valid field types.
         * @param {*} value Value to be encoded.
         * @returns {string} Encoded value ready to be sent to the server.
         */
        EncodeService.prototype.encodeValue = function (fieldType, value) {
            var str = '';
            /** Only process if note empty, undefined, or null.  Allow false. */
            if (value !== '' && !_.isUndefined(value) && !_.isNull(value)) {
                switch (fieldType) {
                    case 'Lookup':
                    case 'User':
                        if (value.lookupId) {
                            /** Only include lookupValue if defined */
                            str = value.lookupId + ';#' + (value.lookupValue || '');
                        }
                        break;
                    case 'LookupMulti':
                    case 'UserMulti':
                        str = this.stringifySharePointMultiSelect(value, 'lookupId');
                        break;
                    case 'MultiChoice':
                        str = this.choiceMultiToString(value);
                        break;
                    case 'Boolean':
                        str = value ? 1 : 0;
                        break;
                    case 'DateTime':
                        //A string date in ISO8601 format, e.g., '2013-05-08T01:20:29Z-05:00'
                        str = this.stringifySharePointDate(value);
                        break;
                    case 'JSON':
                        str = JSON.stringify(value);
                        break;
                    case 'HTML':
                    case 'Note':
                    default:
                        str = value;
                }
            }
            if (_.isString(str)) {
                /** Ensure we encode before sending to server (replace ", <, >)*/
                str = this.SPServices.encodeXml(str);
            }
            return str;
        };
        /**
         * @ngdoc function
         * @name angularPoint.apEncodeService:generateValuePairs
         * @methodOf angularPoint.apEncodeService
         * @description
         * Typically used to iterate over the non-readonly field definitions stored in a model and convert a
         * given list item entity into value pairs that we can pass to SPServices for saving.
         * @param {Array} fieldDefinitions Definitions from the model.
         * @param {object} listItem list item that we'll attempt to iterate over to find the properties that we need to
         * save it to SharePoint.
         * @returns {Array[]} Value pairs of all non-readonly fields. [[fieldName, fieldValue]]
         */
        EncodeService.prototype.generateValuePairs = function (fieldDefinitions, listItem) {
            var _this = this;
            var pairs = [];
            _.each(fieldDefinitions, function (field) {
                /** Check to see if item contains data for this field */
                if (_.has(listItem, field.mappedName)) {
                    pairs.push(_this.createValuePair(field, listItem[field.mappedName]));
                }
            });
            return pairs;
        };
        /**
         * @ngdoc function
         * @name angularPoint.apEncodeService:stringifySharePointDate
         * @methodOf angularPoint.apEncodeService
         * @description
         * Converts a JavaScript date into a modified ISO8601 date string using the TimeZone
         * offset for the current user.
         * @example
         * <pre>'2014-05-08T08:12:18Z-07:00'</pre>
         * @param {Date} date Valid JS date.
         * @returns {string} ISO8601 date string.
         */
        EncodeService.prototype.stringifySharePointDate = function (date) {
            var jsDate;
            if (!_.isDate(date) && _.isString(date) && date.split('-').length === 3) {
                /** Date string formatted YYYY-MM-DD */
                var dateComponents = date.split('-');
                jsDate = new Date(dateComponents[0], dateComponents[1] - 1, dateComponents[2], 0, 0, 0);
            }
            else if (!_.isDate(date)) {
                throw new Error('Invalid Date Provided: ' + date.toString());
            }
            else {
                jsDate = date;
            }
            var dateString = '';
            dateString += jsDate.getFullYear();
            dateString += '-';
            dateString += this.apUtilityService.doubleDigit(jsDate.getMonth() + 1);
            dateString += '-';
            dateString += this.apUtilityService.doubleDigit(jsDate.getDate());
            dateString += 'T';
            dateString += this.apUtilityService.doubleDigit(jsDate.getHours());
            dateString += ':';
            dateString += this.apUtilityService.doubleDigit(jsDate.getMinutes());
            dateString += ':';
            dateString += this.apUtilityService.doubleDigit(jsDate.getSeconds());
            dateString += 'Z-';
            if (!this.savedTimeZone) {
                //Get difference between UTC time and local time in minutes and convert to hours
                //Store so we only need to do this once
                this.savedTimeZone = new Date().getTimezoneOffset() / 60;
            }
            dateString += this.apUtilityService.doubleDigit(this.savedTimeZone);
            dateString += ':00';
            return dateString;
        };
        /**
         * @ngdoc function
         * @name angularPoint.apEncodeService:stringifySharePointMultiSelect
         * @methodOf angularPoint.apEncodeService
         * @description
         * Turns an array of, typically {lookupId: someId, lookupValue: someValue}, objects into a string
         * of delimited id's that can be passed to SharePoint for a multi select lookup or multi user selection
         * field.  SharePoint doesn't need the lookup values so we only need to pass the ID's back.
         *
         * @param {object[]} multiSelectValue Array of {lookupId: #, lookupValue: 'Some Value'} objects.
         * @param {string} [idProperty='lookupId'] Property name where we'll find the ID value on each of the objects.
         * @param {string} [valueProperty='lookupValue'] Property name where we'll find the value for this object.
         * @returns {string} Need to format string of id's in following format [ID0];#;#[ID1];#;#[ID1]
         */
        EncodeService.prototype.stringifySharePointMultiSelect = function (multiSelectValue, idProperty, valueProperty) {
            if (idProperty === void 0) { idProperty = 'lookupId'; }
            if (valueProperty === void 0) { valueProperty = 'lookupValue'; }
            var stringifiedValues = '';
            var idProp = idProperty || 'lookupId';
            var valProp = valueProperty || 'lookupValue';
            _.each(multiSelectValue, function (lookupObject, iteration) {
                /** Need to format string of id's in following format [ID0];#[VAL0];#[ID1];#[VAL1];# */
                stringifiedValues += lookupObject[idProp] + ';#' + (lookupObject[valProp] || '');
                if (iteration < multiSelectValue.length) {
                    stringifiedValues += ';#';
                }
            });
            return stringifiedValues;
        };
        return EncodeService;
    })();
    ap.EncodeService = EncodeService;
    /**
     * @ngdoc service
     * @name angularPoint.apEncodeService
     * @description
     * Processes JavaScript objects and converts them to a format SharePoint expects.
     *
     * @requires angularPoint.apUtilityService
     */
    angular.module('angularPoint').service('apEncodeService', EncodeService);
})(ap || (ap = {}));

/// <reference path="../../typings/ap.d.ts" />
var ap;
(function (ap) {
    'use strict';
    var ExportService = (function () {
        function ExportService(apUtilityService, apFormattedFieldValueService) {
            this.apUtilityService = apUtilityService;
            this.apFormattedFieldValueService = apFormattedFieldValueService;
        }
        /**
         * @ngdoc function
         * @name angularPoint.apExportService:generateCSV
         * @methodOf angularPoint.apExportService
         * @description
         * Converts an array of objects into a parsed array of arrays based on a field config object.
         * @param {object[]} entities Array of objects to convert.
         * @param {object|string[]} fields Array of objects defining the fields to parse.  Can also pass in strings representing the name of the field which will then be parsed based on field type.
         * FieldDefinition:
         * {string} object.field Property name on the object that we want to parse.
         * {string} [object.label=object.field capitalized] Column Label
         * {function} [object.getVal] Custom function that overrides the default method of parsing based on field type.
         * @param {object} [options] Optional config settings.
         * @param {string} [options.delim='; '] Delimiter used to separate fields that potentially contain multiple values that will be concatenated into a string.
         * @returns {array[]} Return array of arrays, with the first array being the column names and every subsequent array representing a row in the csv dataset.
         * @example
         * <pre>
         * var customDelimiter = ' | ';
         * var saveCSV = function() {
             *    var parsedCSV = apExportService.generateCSV(entities, [
             *     //Field definition
             *     { label: 'ID', field: 'id' },
             *     //Field as simple string
             *     'title',
             *     'project',
             *     { label: 'Project:ID', field: 'project.lookupId' },
             *     { label: 'Type', field: 'eventType' },
             *     { label: 'Start Date', field: 'startDate' },
             *     { label: 'End Date', field: 'endDate' },
             *     'location',
             *     'description',
             *     //Field definition with custom parse logic
             *     { label: 'Comments', field: 'comments', stringify: function (comments) {
             *       var str = '';
             *       _.each(comments, function (comment, i) {
             *         if (i > 0) {
             *           str += '\n';
             *         }
             *         str += comment.text + '\n';
             *       });
             *       return str;
             *     }}
             *   ]);
             *
             *   //Save to user's machine
             *   apExportService.saveCSV(parsedCSV, 'MyFile', {delim: customDelimiter});
             * }
         * </pre>
         *
         */
        ExportService.prototype.generateCSV = function (entities, fields, options) {
            var _this = this;
            var defaults = {
                dateFormat: 'json',
                delim: '; ',
                includeTitleRow: true
            }, opts = _.extend({}, defaults, options), entitiesArray = [
                []
            ];
            /** Process each of the entities in the data source */
            _.each(entities, function (entity, entityIndex) {
                var entityArray = [];
                /** Process each of the specified fields */
                _.each(fields, function (f) {
                    /** Handle both string and object definition */
                    var fieldDefinition = _.isString(f) ? { field: f } : f;
                    /** Split the field name from the property if provided */
                    var fieldComponents = fieldDefinition.field.split('.');
                    var propertyName = fieldComponents[0];
                    /** First array has the field names */
                    if (entityIndex === 0 && opts.includeTitleRow) {
                        /** Take a best guess if a column label isn't specified by capitalizing and inserting spaces between camel humps*/
                        var label = fieldDefinition.label ? fieldDefinition.label : _this.apUtilityService.fromCamelCase(propertyName);
                        entitiesArray[0].push(label);
                    }
                    var val = '';
                    if (_.isFunction(fieldDefinition.stringify)) {
                        /** Allows us to override standard field logic for special cases */
                        val = fieldDefinition.stringify(entity[fieldDefinition.field]);
                    }
                    else if (fieldComponents.length > 1) {
                        /** Allow user to specify dot separated property path */
                        if (_.deepIn(entity, fieldDefinition.field)) {
                            val = _.deepGet(entity, fieldDefinition.field).toString();
                        }
                    }
                    else {
                        /** Get the value based on field type defined in the model for the entity*/
                        var modelDefinition = entity.getFieldDefinition(propertyName);
                        val = _this.apFormattedFieldValueService.getFormattedFieldValue(entity[fieldDefinition.field], modelDefinition.objectType, opts);
                    }
                    /** Add string to column */
                    entityArray.push(val);
                });
                /** Add row */
                entitiesArray.push(entityArray);
            });
            return entitiesArray;
        };
        /**
         * @description Replaces commonly-used Windows 1252 encoded chars that do not exist in ASCII or
         *  ISO-8859-1 with ISO-8859-1 cognates.
         * @param {string} text Text to be validated and cleaned.
         * @returns {string}
         */
        ExportService.prototype.replaceWordChars = function (text) {
            var s = text;
            // smart single quotes and apostrophe
            s = s.replace(/[\u2018|\u2019|\u201A]/g, "\'");
            // smart double quotes
            s = s.replace(/[\u201C|\u201D|\u201E]/g, "\"");
            // ellipsis
            s = s.replace(/\u2026/g, "...");
            // dashes
            s = s.replace(/[\u2013|\u2014]/g, "-");
            // circumflex
            s = s.replace(/\u02C6/g, "^");
            // open angle bracket
            s = s.replace(/\u2039/g, "<");
            // close angle bracket
            s = s.replace(/\u203A/g, ">");
            // spaces
            s = s.replace(/[\u02DC|\u00A0]/g, " ");
            return s;
        };
        /**
         * @ngdoc function
         * @name angularPoint.apExportService:saveCSV
         * @methodOf angularPoint.apExportService
         * @description
         * Converts an array of arrays into a valid CSV file that is then downloaded to the users machine
         * @requires angularPoint.apExportService:saveFile
         * @param {array[]} data Array of arrays that we'd like to dump to a CSV file and save to the local machine.
         * @param {string} [filename=debug.csv] Optionally name the file.
         * @example
         * <pre>
         * //Lets assume we want to looks at an object that is too big to be easily viewed in the console.
         * apExportService.saveCSV(objectToSave, 'MyFile');
         * //This would download a file named MyFile.csv
         * </pre>
         *
         */
        ExportService.prototype.saveCSV = function (data, filename) {
            if (filename === void 0) { filename = 'debug.csv'; }
            var csvString = '';
            _.each(data, function (row) {
                _.each(row, function (column, columnIndex) {
                    var result = column === null ? '' : this.replaceWordChars(column);
                    if (columnIndex > 0) {
                        csvString += ',';
                    }
                    /** Escape single quotes with doubles in within the string */
                    result = result.replace(/"/g, '""');
                    /** Surround string with quotes so we can have line breaks */
                    csvString += '"' + result + '"';
                });
                csvString += '\n';
            });
            this.saveFile(csvString, 'csv;charset=utf-8;', filename);
        };
        /**
         * @ngdoc function
         * @name angularPoint.apExportService:saveFile
         * @methodOf angularPoint.apExportService
         * @description
         * Used to convert a JS object or XML document into a file that is then downloaded on the users
         * local machine.  Original work located:
         * [here](http://bgrins.github.io/devtools-snippets/#console-save).
         * @param {object} data JS object that we'd like to dump to a JSON file and save to the local machine.
         * @param {string} fileType Can be either 'xml' or 'json'.
         * @param {string} [filename=debug.json] Optionally name the file.
         * @example
         * <pre>
         * //Lets assume we want to looks at an object that is too big to be easily viewed in the console.
         * apExportService.saveJSON(objectToSave, 'myobject.json');
         * </pre>
         *
         */
        ExportService.prototype.saveFile = function (data, fileType, filename) {
            if (filename === void 0) { filename = 'debug.json'; }
            if (!data) {
                console.error('apExportService.save' + fileType.toUpperCase() + ': No data');
                return;
            }
            /** If passed in fileType="csv;charset=utf-8;" we just want to use "csv" */
            var fileExtension = fileType.split(';')[0];
            if (!filename) {
                filename = 'debug.' + fileExtension;
            }
            if (fileType === 'json' && typeof data === 'object') {
                data = JSON.stringify(data, undefined, 4);
            }
            var blob = new Blob([data], { type: 'text/' + fileType }), e = document.createEvent('MouseEvents'), a = document.createElement('a');
            a.download = filename;
            a.href = window.URL.createObjectURL(blob);
            a.dataset.downloadurl = ['text/' + fileType, a.download, a.href].join(':');
            e.initMouseEvent('click', true, false, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);
            a.dispatchEvent(e);
        };
        /**
         * @ngdoc function
         * @name angularPoint.apExportService:saveJSON
         * @methodOf angularPoint.apExportService
         * @description
         * Simple convenience function that uses angularPoint.apExportService:saveFile to download json to the local machine.
         * @requires angularPoint.apExportService:saveFile
         * @param {object} data JS object that we'd like to dump to a JSON file and save to the local machine.
         * @param {string} [filename=debug.json] Optionally name the file.
         * @example
         * <pre>
         * //Lets assume we want to looks at an object that is too big to be easily viewed in the console.
         * apExportService.saveJSON(objectToSave, 'myobject.json');
         * </pre>
         *
         */
        ExportService.prototype.saveJSON = function (data, filename) {
            if (filename === void 0) { filename = 'debug.json'; }
            this.saveFile(data, 'json', filename);
        };
        /**
         * @ngdoc function
         * @name angularPoint.apExportService:saveXML
         * @methodOf angularPoint.apExportService
         * @description
         * Simple convenience function that uses angularPoint.apExportService:saveFile to download xml to the local machine.
         * @requires angularPoint.apExportService:saveFile
         * @param {object} data XML object that we'd like to dump to a XML file and save to the local machine.
         * @param {string} [filename=debug.xml] Optionally name the file.
         * @example
         * <pre>
         * //Lets assume we want to looks at an object that is too big to be easily viewed in the console.
         * apExportService.saveXML(objectToSave, 'myobject.xml');
         * </pre>
         *
         */
        ExportService.prototype.saveXML = function (data, filename) {
            if (filename === void 0) { filename = 'debug.xml'; }
            this.saveFile(data, 'xml', filename);
        };
        return ExportService;
    })();
    ap.ExportService = ExportService;
    /**
     * @ngdoc service
     * @name angularPoint.apExportService
     * @description
     * Tools to assist with development.
     * @requires angularPoint.apUtilityService
     */
    angular.module('angularPoint').service('apExportService', ExportService);
})(ap || (ap = {}));

/// <reference path="../../typings/ap.d.ts" />
var ap;
(function (ap) {
    'use strict';
    var uniqueCount = 0;
    var FieldService = (function () {
        function FieldService() {
            this.getDefaultValueForType = getDefaultValueForType;
            this.getDefinition = getDefinition;
            this.getMockData = getMockData;
            this.mockPermMask = mockPermMask;
            this.resolveValueForEffectivePermMask = resolveValueForEffectivePermMask;
            this.fieldTypes = getFieldTypes();
        }
        return FieldService;
    })();
    ap.FieldService = FieldService;
    /** Store as a function to ensure we instantiate new objects for default values instead
     *  of having all blank field that have an array for a default value share the same array */
    function getFieldTypes() {
        /** Field types used on the models to create a field definition */
        return {
            Text: {
                defaultValue: '',
                staticMock: 'Test String',
                dynamicMock: randomString
            },
            Note: {
                defaultValue: '',
                staticMock: 'This is a sentence.',
                dynamicMock: randomParagraph
            },
            Boolean: {
                defaultValue: null,
                staticMock: true,
                dynamicMock: randomBoolean
            },
            Calculated: {
                defaultValue: null,
                staticMock: 'float;#123.45',
                dynamicMock: randomCalc
            },
            Choice: {
                defaultValue: '',
                staticMock: 'My Choice',
                dynamicMock: randomString
            },
            Counter: {
                defaultValue: null,
                staticMock: getUniqueCounter(),
                dynamicMock: getUniqueCounter
            },
            Currency: {
                defaultValue: null,
                staticMock: 120.50,
                dynamicMock: randomCurrency
            },
            DateTime: {
                defaultValue: null,
                staticMock: new Date(2014, 5, 4, 11, 33, 25),
                dynamicMock: randomDate
            },
            Integer: {
                defaultValue: null,
                staticMock: 14,
                dynamicMock: randomInteger
            },
            JSON: {
                defaultValue: '',
                staticMock: [
                    { id: 1, title: 'test' },
                    { id: 2 }
                ],
                dynamicMock: randomString
            },
            Lookup: {
                defaultValue: '',
                staticMock: { lookupId: 49, lookupValue: 'Static Lookup' },
                dynamicMock: randomLookup
            },
            LookupMulti: {
                defaultValue: [],
                staticMock: [
                    { lookupId: 50, lookupValue: 'Static Multi 1' },
                    { lookupId: 51, lookupValue: 'Static Multi 2' }
                ],
                dynamicMock: randomLookupMulti
            },
            Mask: {
                defaultValue: mockPermMask(),
                staticMock: mockPermMask(),
                dynamicMock: mockPermMask
            },
            MultiChoice: {
                defaultValue: [],
                staticMock: ['A Good Choice', 'A Bad Choice'],
                dynamicMock: randomStringArray
            },
            User: {
                defaultValue: '',
                staticMock: { lookupId: 52, lookupValue: 'Static User' },
                dynamicMock: randomUser
            },
            UserMulti: {
                defaultValue: [],
                staticMock: [
                    { lookupId: 53, lookupValue: 'Static User 1' },
                    { lookupId: 54, lookupValue: 'Static User 2' }
                ],
                dynamicMock: randomUserMulti
            }
        };
    }
    /**=================PRIVATE===================*/
    function getUniqueCounter() {
        uniqueCount++;
        return uniqueCount;
    }
    function randomBoolean() {
        return chance.bool();
    }
    function randomCalc() {
        return 'float;#' + chance.floating({ min: 0, max: 10000 });
    }
    function randomString() {
        return chance.word() + ' ' + chance.word();
    }
    function randomStringArray() {
        var randomArr = [];
        /** Create a random (1-4) number of strings and add to array */
        _.times(_.random(1, 4), function () {
            randomArr.push(randomString());
        });
        return randomArr;
    }
    function randomParagraph() {
        return chance.paragraph();
    }
    function randomCurrency() {
        return parseInt(_.random(10000000, true) * 100) / 100;
    }
    function randomDate() {
        return chance.date();
    }
    function randomInteger() {
        return chance.integer();
    }
    /**
     * @ngdoc function
     * @name angularPoint.apFieldService:resolveValueForEffectivePermMask
     * @methodOf angularPoint.apFieldService
     * @description
     * Takes the name of a permission mask and returns a permission value which can then be used
     * to generate a permission object using modelService.resolvePermissions(outputfromthis)
     * @param {string} perMask Options:
     *  - AddListItems
     *  - EditListItems
     *  - DeleteListItems
     *  - ApproveItems
     *  - FullMask
     *  - ViewListItems
     * @returns {string} value
     */
    function resolveValueForEffectivePermMask(perMask) {
        var permissionValue;
        switch (perMask) {
            case 'AddListItems':
                permissionValue = '0x0000000000000002';
                break;
            case 'EditListItems':
                permissionValue = '0x0000000000000004';
                break;
            case 'DeleteListItems':
                permissionValue = '0x0000000000000008';
                break;
            case 'ApproveItems':
                permissionValue = '0x0000000000000010';
                break;
            case 'FullMask':
                permissionValue = '0x7FFFFFFFFFFFFFFF';
                break;
            case 'ViewListItems':
            default:
                permissionValue = '0x0000000000000001';
                break;
        }
        return permissionValue;
    }
    /**
     * @ngdoc function
     * @name angularPoint.apFieldService:mockPermMask
     * @methodOf angularPoint.apFieldService
     * @description
     * Defaults to a full mask but allows simulation of each of main permission levels
     * @param {object} [options] Options container.
     * @param {string} [options.permissionLevel=FullMask] Optional mask.
     * @returns {string} Values for mask.
     */
    function mockPermMask(options) {
        var mask = 'FullMask';
        if (options && options.permissionLevel) {
            mask = options.permissionLevel;
        }
        return resolveValueForEffectivePermMask(mask);
    }
    function randomLookup() {
        return {
            lookupId: getUniqueCounter(),
            lookupValue: chance.word()
        };
    }
    function randomUser() {
        return {
            lookupId: getUniqueCounter(),
            lookupValue: chance.name()
        };
    }
    function randomLookupMulti() {
        var mockData = [];
        _.each(_.random(10), function () {
            mockData.push(randomLookup());
        });
        return mockData;
    }
    function randomUserMulti() {
        var mockData = [];
        _.each(_.random(10), function () {
            mockData.push(randomUser());
        });
        return mockData;
    }
    /**
     * Returns an object defining a specific field type
     * @param {string} fieldType
     * @returns {object} fieldTypeDefinition
     */
    function getDefinition(fieldType) {
        var fieldTypes = getFieldTypes();
        return fieldTypes[fieldType] ? fieldTypes[fieldType] : fieldTypes['Text'];
    }
    /**
     * @ngdoc function
     * @name angularPoint.apFieldService:getDefaultValueForType
     * @methodOf angularPoint.apFieldService
     * @description
     * Returns the empty value expected for a field type
     * @param {string} fieldType Type of field.
     * @returns {*} Default value based on field type.
     */
    function getDefaultValueForType(fieldType) {
        var fieldDefinition = getDefinition(fieldType), defaultValue;
        if (fieldDefinition) {
            defaultValue = fieldDefinition.defaultValue;
        }
        return defaultValue;
    }
    /**
     * @ngdoc function
     * @name angularPoint.apFieldService:getMockData
     * @methodOf angularPoint.apFieldService
     * @description
     * Can return mock data appropriate for the field type, by default it dynamically generates data but
     * the staticValue param will instead return a hard coded type specific value
     *
     * @requires ChanceJS to produce dynamic data.
     * https://github.com/victorquinn/chancejs
     * @param {string} fieldType Field type from the field definition.
     * @param {object} [options] Optional params.
     * @param {boolean} [options.staticValue=false] Default to dynamically build mock data.
     * @returns {*} mockData
     */
    function getMockData(fieldType, options) {
        var mock;
        var fieldDefinition = getDefinition(fieldType);
        if (fieldDefinition) {
            if (_.isFunction(window.Chance) && options && !options.staticValue) {
                /** Return dynamic data if ChanceJS is available and flag isn't set requiring static data */
                mock = fieldDefinition.dynamicMock(options);
            }
            else {
                /** Return static data if the flag is set or ChanceJS isn't available */
                mock = fieldDefinition.staticMock;
            }
        }
        return mock;
    }
    /**
     * @ngdoc service
     * @name angularPoint.apFieldService
     * @description
     * Handles the mapping of the various types of fields used within a SharePoint list
     */
    angular.module('angularPoint').service('apFieldService', FieldService);
})(ap || (ap = {}));

/// <reference path="../../typings/ap.d.ts" />
var ap;
(function (ap) {
    'use strict';
    var $filter;
    /**
     * @ngdoc service
     * @name angularPoint.apFormattedFieldValueService
     * @description
     * Returns the formatted string value for a field based on field type.
     */
    var FormattedFieldValueService = (function () {
        function FormattedFieldValueService($injector) {
            this.getFormattedFieldValue = getFormattedFieldValue;
            this.stringifyBoolean = stringifyBoolean;
            this.stringifyCalc = stringifyCalc;
            this.stringifyCurrency = stringifyCurrency;
            this.stringifyDate = stringifyDate;
            this.stringifyLookup = stringifyLookup;
            this.stringifyMultiChoice = stringifyMultiChoice;
            this.stringifyMultiLookup = stringifyMultiLookup;
            this.stringifyNumber = stringifyNumber;
            $filter = $injector.get('$filter');
        }
        return FormattedFieldValueService;
    })();
    ap.FormattedFieldValueService = FormattedFieldValueService;
    /**==================PRIVATE==================*/
    /**
     * @ngdoc function
     * @name angularPoint.apFormattedFieldValueService:getFormattedFieldValue
     * @methodOf angularPoint.apFormattedFieldValueService
     * @param {object|array|string|integer|boolean} prop Target that we'd like to stringify.
     * @param {string} [propertyType='String'] Assumes by default that it's already a string.  Most of the normal field
     * types identified in the model field definitions are supported.
     *
     * - Lookup
     * - User
     * - Boolean
     * - DateTime
     * - Integer
     * - Number
     * - Counter
     * - MultiChoice
     * - UserMulti
     * - LookupMulti
     * @param {object} options Optional config.
     * @param {string} [options.delim=', '] Optional delimiter to split concatenated strings.
     * @param {string} [options.dateFormat='short'] Either 'json' which converts a date into ISO8601 date string
     * or a mask for the angular date filter.
     * @example
     * <pre>
     *  var project = {
     *    title: 'Super Project',
     *   members: [
     *     { lookupId: 12, lookupValue: 'Joe' },
     *     { lookupId: 19, lookupValue: 'Beth' }
     *   ]
     * };
     *
     * var membersAsString = apFormattedFieldValueService:getFormattedFieldValue({
     *    project.members,
     *    'UserMulti',
     *    { delim: ' | '} //Custom Delimiter
     * });
     *
     * // membersAsString = 'Joe | Beth';
     *
     * </pre>
     * @returns {string} Stringified property on the object based on the field type.
     */
    function getFormattedFieldValue(prop, propertyType, options) {
        if (propertyType === void 0) { propertyType = 'String'; }
        var defaults = {
            delim: ', ',
            dateFormat: 'short'
        }, opts = _.extend({}, defaults, options);
        var str = '';
        /** Only process if prop is defined */
        if (prop) {
            switch (propertyType) {
                case 'Boolean':
                    str = stringifyBoolean(prop);
                    break;
                case 'Calculated':
                    str = stringifyCalc(prop);
                    break;
                case 'Lookup':
                case 'User':
                    str = stringifyLookup(prop);
                    break;
                case 'DateTime':
                    str = stringifyDate(prop, opts.dateFormat);
                    break;
                case 'Integer':
                case 'Number':
                case 'Float':
                case 'Counter':
                    str = stringifyNumber(prop);
                    break;
                case 'Currency':
                    str = stringifyCurrency(prop);
                    break;
                case 'MultiChoice':
                    str = stringifyMultiChoice(prop, opts.delim);
                    break;
                case 'UserMulti':
                case 'LookupMulti':
                    str = stringifyMultiLookup(prop, opts.delim);
                    break;
                default:
                    str = prop;
            }
        }
        return str;
    }
    function stringifyCalc(prop) {
        if (prop.length === 0) {
            return '';
        }
        else if (_.isNumber(prop)) {
            return getFormattedFieldValue(prop, 'Number');
        }
        else if (_.isDate(prop)) {
            return getFormattedFieldValue(prop, 'DateTime');
        }
        else {
            return getFormattedFieldValue(prop, 'Text');
        }
    }
    /**
     * @ngdoc function
     * @name angularPoint.apFormattedFieldValueService:stringifyNumber
     * @methodOf angularPoint.apFormattedFieldValueService
     * @param {number} prop Property on object to parse.
     * @description
     * Converts a number to a string representation.
     * @returns {string} Stringified number.
     */
    function stringifyNumber(prop) {
        var str = '';
        if (_.isNumber(prop)) {
            str = prop.toString();
        }
        return str;
    }
    /**
     * @ngdoc function
     * @name angularPoint.apFormattedFieldValueService:stringifyCurrency
     * @methodOf angularPoint.apFormattedFieldValueService
     * @description
     * Converts a numeric value into a formatted currency string.
     * @param {number} prop Property on object to parse.
     * @returns {string} Stringified currency.
     */
    function stringifyCurrency(prop) {
        return $filter('currency')(prop, '$');
    }
    /**
     * @ngdoc function
     * @name angularPoint.apFormattedFieldValueService:stringifyLookup
     * @methodOf angularPoint.apFormattedFieldValueService
     * @param {obj} prop Property on object to parse.
     * @description
     * Returns the property.lookupValue if present.
     * @returns {string} Property.lookupValue.
     */
    function stringifyLookup(prop) {
        var str = '';
        if (prop && prop.lookupValue) {
            str = prop.lookupValue;
        }
        return str;
    }
    /**
     * @ngdoc function
     * @name angularPoint.apFormattedFieldValueService:stringifyBoolean
     * @methodOf angularPoint.apFormattedFieldValueService
     * @param {boolean} prop Boolean to stringify.
     * @description
     * Returns the stringified boolean if it is set.
     * @returns {string} Stringified boolean.
     */
    function stringifyBoolean(prop) {
        var str = '';
        if (_.isBoolean(prop)) {
            str = prop.toString();
        }
        return str;
    }
    /**
     * @ngdoc function
     * @name angularPoint.apFormattedFieldValueService:stringifyDate
     * @methodOf angularPoint.apFormattedFieldValueService
     * @param {date} prop Date object.
     * @param {string} dateFormat Either 'json' which converts a date into ISO8601 date string or a mask for
     * the angular date filter.
     * @description
     * Returns JSON date.
     * @returns {string} JSON date.
     */
    function stringifyDate(prop, dateFormat) {
        var str = '';
        if (_.isDate(prop)) {
            str = dateFormat === 'json' ? prop.toJSON() : $filter('date')(prop, dateFormat);
        }
        return str;
    }
    /**
     * @ngdoc function
     * @name angularPoint.apFormattedFieldValueService:stringifyMultiChoice
     * @methodOf angularPoint.apFormattedFieldValueService
     * @param {string[]} prop Array of selected choices.
     * @param {string} [delim='; '] Custom delimiter used between the concatenated values.
     * @description
     * Converts an array of strings into a single concatenated string.
     * @returns {string} Concatenated string representation.
     */
    function stringifyMultiChoice(prop, delim) {
        var str = '', d = delim || '; ';
        _.each(prop, function (choice, i) {
            if (i > 0) {
                str += d;
            }
            str += choice;
        });
        return str;
    }
    /**
     * @ngdoc function
     * @name angularPoint.apFormattedFieldValueService:stringifyMultiLookup
     * @methodOf angularPoint.apFormattedFieldValueService
     * @param {object[]} prop Array of lookup objects.
     * @param {string} [delim='; '] Custom delimiter used between the concatenated values.
     * @description
     * Converts an array of selected lookup values into a single concatenated string.
     * @returns {string} Concatenated string representation.
     */
    function stringifyMultiLookup(prop, delim) {
        var str = '', d = delim || '; ';
        _.each(prop, function (val, valIndex) {
            /** Add artificial delim */
            if (valIndex > 0) {
                str += d;
            }
            str += stringifyLookup(val);
        });
        return str;
    }
    angular.module('angularPoint').service('apFormattedFieldValueService', FormattedFieldValueService);
})(ap || (ap = {}));

/// <reference path="../../typings/ap.d.ts" />
var ap;
(function (ap) {
    'use strict';
    /**
     * @ngdoc service
     * @name angularPoint.SPServices
     * @description
     * This is just a trimmed down version of Marc Anderson's awesome [SPServices](http://spservices.codeplex.com/) library.
     * We're primarily looking for the ability to create the SOAP envelope and let AngularJS's $http service handle all
     * communication with the server.
     *
     * */
    angular.module('angularPoint').factory('SPServices', Service);
    //TODO Cleanup and convert to TS
    function Service(apWebServiceOperationConstants, apWebServiceService) {
        /*
         * SPServices - Work with SharePoint's Web Services using jQuery
         * Version 2014.02a
         * @requires jQuery v1.8 or greater - jQuery 1.10.x recommended
         *
         * Copyright (c) 2009-2013 Sympraxis Consulting LLC
         * Examples and docs at:
         * http://spservices.codeplex.com
         * Licensed under the MIT license:
         * http://www.opensource.org/licenses/mit-license.php
         */
        /*
         * @description Work with SharePoint's Web Services using jQuery
         * @type jQuery
         * @name SPServices
         * @category Plugins/SPServices
         * @author Sympraxis Consulting LLC/marc.anderson@sympraxisconsulting.com
         */
        /* jshint undef: true */
        /* global L_Menu_BaseUrl, _spUserId, _spPageContextInfo, GipAddSelectedItems, GipRemoveSelectedItems, GipGetGroupData */
        // Global variables
        var SCHEMASharePoint = "http://schemas.microsoft.com/sharepoint";
        var i = 0; // Generic loop counter
        var encodeOptionList = ["listName", "description"]; // Used to encode options which may contain special characters
        // Defaults added as a function in our library means that the caller can override the defaults
        // for their session by calling this function.  Each operation requires a different set of options;
        // we allow for all in a standardized way.
        var defaults = {
            operation: "",
            webURL: "",
            makeViewDefault: false,
            // For operations requiring CAML, these options will override any abstractions
            CAMLViewName: "",
            CAMLQuery: "",
            CAMLViewFields: "",
            CAMLRowLimit: 0,
            CAMLQueryOptions: "<QueryOptions></QueryOptions>",
            // Abstractions for CAML syntax
            batchCmd: "Update",
            valuePairs: [],
            // As of v0.7.1, removed all options which were assigned an empty string ("")
            DestinationUrls: [],
            behavior: "Version3",
            storage: "Shared",
            objectType: "List",
            cancelMeeting: true,
            nonGregorian: false,
            fClaim: false,
            recurrenceId: 0,
            sequence: 0,
            maximumItemsToReturn: 0,
            startIndex: 0,
            isHighPriority: false,
            isPrivate: false,
            rating: 1,
            maxResults: 10,
            principalType: "User",
            async: true,
            completefunc: null // Function to call on completion
        }; // End SPServices.defaults
        // Set up SOAP envelope
        function SOAPEnvelope() {
            return {
                header: "<soap:Envelope xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' " + "xmlns:xsd='http://www.w3.org/2001/XMLSchema' " + "xmlns:soap='http://schemas.xmlsoap.org/soap/envelope/'><soap:Body>",
                footer: "</soap:Body></soap:Envelope>",
                payload: ""
            };
        }
        // Main function, which calls SharePoint's Web Services directly.
        var SPServices = {
            defaults: defaults,
            encodeXml: encodeXml,
            generateXMLComponents: generateXMLComponents,
            SCHEMASharePoint: SCHEMASharePoint,
            SOAPEnvelope: new SOAPEnvelope()
        };
        function generateXMLComponents(options) {
            /** Key/Value mapping of SharePoint properties to SPServices properties */
            var mapping = [
                ['query', 'CAMLQuery'],
                ['viewFields', 'CAMLViewFields'],
                ['rowLimit', 'CAMLRowLimit'],
                ['queryOptions', 'CAMLQueryOptions'],
                ['listItemID', 'ID']
            ];
            /** Ensure the SharePoint properties are available prior to extending with defaults */
            _.each(mapping, function (map) {
                if (options[map[0]] && !options[map[1]]) {
                    /** Ensure SPServices properties are added in the event the true property name is used */
                    options[map[1]] = options[map[0]];
                }
            });
            var soapEnvelope = new SOAPEnvelope();
            var SOAPAction;
            // If there are no options passed in, use the defaults.  Extend replaces each default with the passed option.
            var opt = _.extend({}, defaults, options);
            // Encode options which may contain special character, esp. ampersand
            _.each(encodeOptionList, function (optionName) {
                if (_.isString(opt[optionName])) {
                    opt[optionName] = encodeXml(opt[optionName]);
                }
            });
            var service = apWebServiceOperationConstants[opt.operation][0];
            // Put together operation header and SOAPAction for the SOAP call based on which Web Service we're calling
            soapEnvelope.opheader = "<" + opt.operation + " xmlns='" + apWebServiceService.xmlns(service) + "' >";
            SOAPAction = apWebServiceService.action(service);
            // Add the operation to the SOAPAction and opfooter
            SOAPAction += opt.operation;
            soapEnvelope.opfooter = "</" + opt.operation + ">";
            switch (opt.operation) {
                case "GetAlerts":
                    break;
                case "DeleteAlerts":
                    soapEnvelope.payload += "<IDs>";
                    for (i = 0; i < opt.IDs.length; i++) {
                        soapEnvelope.payload += wrapNode("string", opt.IDs[i]);
                    }
                    soapEnvelope.payload += "</IDs>";
                    break;
                case "Mode":
                    break;
                case "Login":
                    addToPayload(opt, ["username", "password"]);
                    break;
                case "CopyIntoItems":
                    addToPayload(opt, ["SourceUrl"]);
                    soapEnvelope.payload += "<DestinationUrls>";
                    for (i = 0; i < opt.DestinationUrls.length; i++) {
                        soapEnvelope.payload += wrapNode("string", opt.DestinationUrls[i]);
                    }
                    soapEnvelope.payload += "</DestinationUrls>";
                    addToPayload(opt, ["Fields", "Stream", "Results"]);
                    break;
                case "CopyIntoItemsLocal":
                    addToPayload(opt, ["SourceUrl"]);
                    soapEnvelope.payload += "<DestinationUrls>";
                    for (i = 0; i < opt.DestinationUrls.length; i++) {
                        soapEnvelope.payload += wrapNode("string", opt.DestinationUrls[i]);
                    }
                    soapEnvelope.payload += "</DestinationUrls>";
                    break;
                case "GetItem":
                    addToPayload(opt, ["Url", "Fields", "Stream"]);
                    break;
                case "GetForm":
                    addToPayload(opt, ["listName", "formUrl"]);
                    break;
                case "GetFormCollection":
                    addToPayload(opt, ["listName"]);
                    break;
                case "AddAttachment":
                    addToPayload(opt, ["listName", "listItemID", "fileName", "attachment"]);
                    break;
                case "AddDiscussionBoardItem":
                    addToPayload(opt, ["listName", "message"]);
                    break;
                case "AddList":
                    addToPayload(opt, ["listName", "description", "templateID"]);
                    break;
                case "AddListFromFeature":
                    addToPayload(opt, ["listName", "description", "featureID", "templateID"]);
                    break;
                case "ApplyContentTypeToList":
                    addToPayload(opt, ["webUrl", "contentTypeId", "listName"]);
                    break;
                case "CheckInFile":
                    addToPayload(opt, ["pageUrl", "comment", "CheckinType"]);
                    break;
                case "CheckOutFile":
                    addToPayload(opt, ["pageUrl", "checkoutToLocal", "lastmodified"]);
                    break;
                case "CreateContentType":
                    addToPayload(opt, ["listName", "displayName", "parentType", "fields", "contentTypeProperties", "addToView"]);
                    break;
                case "DeleteAttachment":
                    addToPayload(opt, ["listName", "listItemID", "url"]);
                    break;
                case "DeleteContentType":
                    addToPayload(opt, ["listName", "contentTypeId"]);
                    break;
                case "DeleteContentTypeXmlDocument":
                    addToPayload(opt, ["listName", "contentTypeId", "documentUri"]);
                    break;
                case "DeleteList":
                    addToPayload(opt, ["listName"]);
                    break;
                case "GetAttachmentCollection":
                    addToPayload(opt, ["listName", ["listItemID", "ID"]]);
                    break;
                case "GetList":
                    addToPayload(opt, ["listName"]);
                    break;
                case "GetListAndView":
                    addToPayload(opt, ["listName", "viewName"]);
                    break;
                case "GetListCollection":
                    break;
                case "GetListContentType":
                    addToPayload(opt, ["listName", "contentTypeId"]);
                    break;
                case "GetListContentTypes":
                    addToPayload(opt, ["listName"]);
                    break;
                case "GetListItems":
                    addToPayload(opt, ["listName", "viewName", ["query", "CAMLQuery"], ["viewFields", "CAMLViewFields"], ["rowLimit", "CAMLRowLimit"], ["queryOptions", "CAMLQueryOptions"]]);
                    break;
                case "GetListItemChanges":
                    addToPayload(opt, ["listName", "viewFields", "since", "contains"]);
                    break;
                case "GetListItemChangesSinceToken":
                    addToPayload(opt, ["listName", "viewName", ["query", "CAMLQuery"], ["viewFields", "CAMLViewFields"], ["rowLimit", "CAMLRowLimit"], ["queryOptions", "CAMLQueryOptions"], {
                        name: "changeToken",
                        sendNull: false
                    }, {
                        name: "contains",
                        sendNull: false
                    }]);
                    break;
                case "GetVersionCollection":
                    addToPayload(opt, ["strlistID", "strlistItemID", "strFieldName"]);
                    break;
                case "UndoCheckOut":
                    addToPayload(opt, ["pageUrl"]);
                    break;
                case "UpdateContentType":
                    addToPayload(opt, ["listName", "contentTypeId", "contentTypeProperties", "newFields", "updateFields", "deleteFields", "addToView"]);
                    break;
                case "UpdateContentTypesXmlDocument":
                    addToPayload(opt, ["listName", "newDocument"]);
                    break;
                case "UpdateContentTypeXmlDocument":
                    addToPayload(opt, ["listName", "contentTypeId", "newDocument"]);
                    break;
                case "UpdateList":
                    addToPayload(opt, ["listName", "listProperties", "newFields", "updateFields", "deleteFields", "listVersion"]);
                    break;
                case "UpdateListItems":
                    addToPayload(opt, ["listName"]);
                    if (typeof opt.updates !== "undefined" && opt.updates.length > 0) {
                        addToPayload(opt, ["updates"]);
                    }
                    else {
                        soapEnvelope.payload += "<updates><Batch OnError='Continue'><Method ID='1' Cmd='" + opt.batchCmd + "'>";
                        for (i = 0; i < opt.valuePairs.length; i++) {
                            soapEnvelope.payload += "<Field Name='" + opt.valuePairs[i][0] + "'>" + escapeColumnValue(opt.valuePairs[i][1]) + "</Field>";
                        }
                        if (opt.batchCmd !== "New") {
                            soapEnvelope.payload += "<Field Name='ID'>" + opt.ID + "</Field>";
                        }
                        soapEnvelope.payload += "</Method></Batch></updates>";
                    }
                    break;
                case "AddMeeting":
                    addToPayload(opt, ["organizerEmail", "uid", "sequence", "utcDateStamp", "title", "location", "utcDateStart", "utcDateEnd", "nonGregorian"]);
                    break;
                case "CreateWorkspace":
                    addToPayload(opt, ["title", "templateName", "lcid", "timeZoneInformation"]);
                    break;
                case "RemoveMeeting":
                    addToPayload(opt, ["recurrenceId", "uid", "sequence", "utcDateStamp", "cancelMeeting"]);
                    break;
                case "SetWorkspaceTitle":
                    addToPayload(opt, ["title"]);
                    break;
                case "ResolvePrincipals":
                    addToPayload(opt, ["principalKeys", "principalType", "addToUserInfoList"]);
                    break;
                case "SearchPrincipals":
                    addToPayload(opt, ["searchText", "maxResults", "principalType"]);
                    break;
                case "AddPermission":
                    addToPayload(opt, ["objectName", "objectType", "permissionIdentifier", "permissionType", "permissionMask"]);
                    break;
                case "AddPermissionCollection":
                    addToPayload(opt, ["objectName", "objectType", "permissionsInfoXml"]);
                    break;
                case "GetPermissionCollection":
                    addToPayload(opt, ["objectName", "objectType"]);
                    break;
                case "RemovePermission":
                    addToPayload(opt, ["objectName", "objectType", "permissionIdentifier", "permissionType"]);
                    break;
                case "RemovePermissionCollection":
                    addToPayload(opt, ["objectName", "objectType", "memberIdsXml"]);
                    break;
                case "UpdatePermission":
                    addToPayload(opt, ["objectName", "objectType", "permissionIdentifier", "permissionType", "permissionMask"]);
                    break;
                case "GetLinks":
                    break;
                case "GetPortalSearchInfo":
                    soapEnvelope.opheader = "<" + opt.operation + " xmlns='http://microsoft.com/webservices/OfficeServer/QueryService'>";
                    SOAPAction = "http://microsoft.com/webservices/OfficeServer/QueryService/" + opt.operation;
                    break;
                case "GetQuerySuggestions":
                    soapEnvelope.opheader = "<" + opt.operation + " xmlns='http://microsoft.com/webservices/OfficeServer/QueryService'>";
                    SOAPAction = "http://microsoft.com/webservices/OfficeServer/QueryService/" + opt.operation;
                    soapEnvelope.payload += wrapNode("queryXml", encodeXml(opt.queryXml));
                    break;
                case "GetSearchMetadata":
                    soapEnvelope.opheader = "<" + opt.operation + " xmlns='http://microsoft.com/webservices/OfficeServer/QueryService'>";
                    SOAPAction = "http://microsoft.com/webservices/OfficeServer/QueryService/" + opt.operation;
                    break;
                case "Query":
                    soapEnvelope.payload += wrapNode("queryXml", encodeXml(opt.queryXml));
                    break;
                case "QueryEx":
                    soapEnvelope.opheader = "<" + opt.operation + " xmlns='http://microsoft.com/webservices/OfficeServer/QueryService'>";
                    SOAPAction = "http://microsoft.com/webservices/OfficeServer/QueryService/" + opt.operation;
                    soapEnvelope.payload += wrapNode("queryXml", encodeXml(opt.queryXml));
                    break;
                case "Registration":
                    soapEnvelope.payload += wrapNode("registrationXml", encodeXml(opt.registrationXml));
                    break;
                case "Status":
                    break;
                case "SendClientScriptErrorReport":
                    addToPayload(opt, ["message", "file", "line", "client", "stack", "team", "originalFile"]);
                    break;
                case "EnumerateFolder":
                    addToPayload(opt, ["strFolderUrl"]);
                    break;
                case "GetAttachments":
                    addToPayload(opt, ["strListName", "strItemId"]);
                    break;
                case "SiteDataGetList":
                    addToPayload(opt, ["strListName"]);
                    // Because this operation has a name which duplicates the Lists WS, need to handle
                    soapEnvelope = siteDataFixSOAPEnvelope(soapEnvelope, opt.operation);
                    break;
                case "SiteDataGetListCollection":
                    // Because this operation has a name which duplicates the Lists WS, need to handle
                    soapEnvelope = siteDataFixSOAPEnvelope(soapEnvelope, opt.operation);
                    break;
                case "SiteDataGetSite":
                    // Because this operation has a name which duplicates the Lists WS, need to handle
                    soapEnvelope = siteDataFixSOAPEnvelope(soapEnvelope, opt.operation);
                    break;
                case "SiteDataGetSiteUrl":
                    addToPayload(opt, ["Url"]);
                    // Because this operation has a name which duplicates the Lists WS, need to handle
                    soapEnvelope = siteDataFixSOAPEnvelope(soapEnvelope, opt.operation);
                    break;
                case "SiteDataGetWeb":
                    // Because this operation has a name which duplicates the Lists WS, need to handle
                    soapEnvelope = siteDataFixSOAPEnvelope(soapEnvelope, opt.operation);
                    break;
                case "CreateWeb":
                    addToPayload(opt, ["url", "title", "description", "templateName", "language", "languageSpecified", "locale", "localeSpecified", "collationLocale", "collationLocaleSpecified", "uniquePermissions", "uniquePermissionsSpecified", "anonymous", "anonymousSpecified", "presence", "presenceSpecified"]);
                    break;
                case "DeleteWeb":
                    addToPayload(opt, ["url"]);
                    break;
                case "GetSite":
                    addToPayload(opt, ["SiteUrl"]);
                    break;
                case "GetSiteTemplates":
                    addToPayload(opt, ["LCID", "TemplateList"]);
                    break;
                case "AddComment":
                    addToPayload(opt, ["url", "comment", "isHighPriority", "title"]);
                    break;
                case "AddTag":
                    addToPayload(opt, ["url", "termID", "title", "isPrivate"]);
                    break;
                case "AddTagByKeyword":
                    addToPayload(opt, ["url", "keyword", "title", "isPrivate"]);
                    break;
                case "CountCommentsOfUser":
                    addToPayload(opt, ["userAccountName"]);
                    break;
                case "CountCommentsOfUserOnUrl":
                    addToPayload(opt, ["userAccountName", "url"]);
                    break;
                case "CountCommentsOnUrl":
                    addToPayload(opt, ["url"]);
                    break;
                case "CountRatingsOnUrl":
                    addToPayload(opt, ["url"]);
                    break;
                case "CountTagsOfUser":
                    addToPayload(opt, ["userAccountName"]);
                    break;
                case "DeleteComment":
                    addToPayload(opt, ["url", "lastModifiedTime"]);
                    break;
                case "DeleteRating":
                    addToPayload(opt, ["url"]);
                    break;
                case "DeleteTag":
                    addToPayload(opt, ["url", "termID"]);
                    break;
                case "DeleteTagByKeyword":
                    addToPayload(opt, ["url", "keyword"]);
                    break;
                case "DeleteTags":
                    addToPayload(opt, ["url"]);
                    break;
                case "GetAllTagTerms":
                    addToPayload(opt, ["maximumItemsToReturn"]);
                    break;
                case "GetAllTagTermsForUrlFolder":
                    addToPayload(opt, ["urlFolder", "maximumItemsToReturn"]);
                    break;
                case "GetAllTagUrls":
                    addToPayload(opt, ["termID"]);
                    break;
                case "GetAllTagUrlsByKeyword":
                    addToPayload(opt, ["keyword"]);
                    break;
                case "GetCommentsOfUser":
                    addToPayload(opt, ["userAccountName", "maximumItemsToReturn", "startIndex"]);
                    break;
                case "GetCommentsOfUserOnUrl":
                    addToPayload(opt, ["userAccountName", "url"]);
                    break;
                case "GetCommentsOnUrl":
                    addToPayload(opt, ["url", "maximumItemsToReturn", "startIndex"]);
                    if (typeof opt.excludeItemsTime !== "undefined" && opt.excludeItemsTime.length > 0) {
                        soapEnvelope.payload += wrapNode("excludeItemsTime", opt.excludeItemsTime);
                    }
                    break;
                case "GetRatingAverageOnUrl":
                    addToPayload(opt, ["url"]);
                    break;
                case "GetRatingOfUserOnUrl":
                    addToPayload(opt, ["userAccountName", "url"]);
                    break;
                case "GetRatingOnUrl":
                    addToPayload(opt, ["url"]);
                    break;
                case "GetRatingsOfUser":
                    addToPayload(opt, ["userAccountName"]);
                    break;
                case "GetRatingsOnUrl":
                    addToPayload(opt, ["url"]);
                    break;
                case "GetSocialDataForFullReplication":
                    addToPayload(opt, ["userAccountName"]);
                    break;
                case "GetTags":
                    addToPayload(opt, ["url"]);
                    break;
                case "GetTagsOfUser":
                    addToPayload(opt, ["userAccountName", "maximumItemsToReturn", "startIndex"]);
                    break;
                case "GetTagTerms":
                    addToPayload(opt, ["maximumItemsToReturn"]);
                    break;
                case "GetTagTermsOfUser":
                    addToPayload(opt, ["userAccountName", "maximumItemsToReturn"]);
                    break;
                case "GetTagTermsOnUrl":
                    addToPayload(opt, ["url", "maximumItemsToReturn"]);
                    break;
                case "GetTagUrls":
                    addToPayload(opt, ["termID"]);
                    break;
                case "GetTagUrlsByKeyword":
                    addToPayload(opt, ["keyword"]);
                    break;
                case "GetTagUrlsOfUser":
                    addToPayload(opt, ["termID", "userAccountName"]);
                    break;
                case "GetTagUrlsOfUserByKeyword":
                    addToPayload(opt, ["keyword", "userAccountName"]);
                    break;
                case "SetRating":
                    addToPayload(opt, ["url", "rating", "title", "analysisDataEntry"]);
                    break;
                case "UpdateComment":
                    addToPayload(opt, ["url", "lastModifiedTime", "comment", "isHighPriority"]);
                    break;
                case "SpellCheck":
                    addToPayload(opt, ["chunksToSpell", "declaredLanguage", "useLad"]);
                    break;
                case "AddTerms":
                    addToPayload(opt, ["sharedServiceId", "termSetId", "lcid", "newTerms"]);
                    break;
                case "GetChildTermsInTerm":
                    addToPayload(opt, ["sspId", "lcid", "termId", "termSetId"]);
                    break;
                case "GetChildTermsInTermSet":
                    addToPayload(opt, ["sspId", "lcid", "termSetId"]);
                    break;
                case "GetKeywordTermsByGuids":
                    addToPayload(opt, ["termIds", "lcid"]);
                    break;
                case "GetTermsByLabel":
                    addToPayload(opt, ["label", "lcid", "matchOption", "resultCollectionSize", "termIds", "addIfNotFound"]);
                    break;
                case "GetTermSets":
                    addToPayload(opt, ["sharedServiceId", "termSetId", "lcid", "clientTimeStamps", "clientVersions"]);
                    break;
                case "AddGroup":
                    addToPayload(opt, ["groupName", "ownerIdentifier", "ownerType", "defaultUserLoginName", "description"]);
                    break;
                case "AddGroupToRole":
                    addToPayload(opt, ["groupName", "roleName"]);
                    break;
                case "AddRole":
                    addToPayload(opt, ["roleName", "description", "permissionMask"]);
                    break;
                case "AddRoleDef":
                    addToPayload(opt, ["roleName", "description", "permissionMask"]);
                    break;
                case "AddUserCollectionToGroup":
                    addToPayload(opt, ["groupName", "usersInfoXml"]);
                    break;
                case "AddUserCollectionToRole":
                    addToPayload(opt, ["roleName", "usersInfoXml"]);
                    break;
                case "AddUserToGroup":
                    addToPayload(opt, ["groupName", "userName", "userLoginName", "userEmail", "userNotes"]);
                    break;
                case "AddUserToRole":
                    addToPayload(opt, ["roleName", "userName", "userLoginName", "userEmail", "userNotes"]);
                    break;
                case "GetAllUserCollectionFromWeb":
                    break;
                case "GetGroupCollection":
                    addToPayload(opt, ["groupNamesXml"]);
                    break;
                case "GetGroupCollectionFromRole":
                    addToPayload(opt, ["roleName"]);
                    break;
                case "GetGroupCollectionFromSite":
                    break;
                case "GetGroupCollectionFromUser":
                    addToPayload(opt, ["userLoginName"]);
                    break;
                case "GetGroupCollectionFromWeb":
                    break;
                case "GetGroupInfo":
                    addToPayload(opt, ["groupName"]);
                    break;
                case "GetRoleCollection":
                    addToPayload(opt, ["roleNamesXml"]);
                    break;
                case "GetRoleCollectionFromGroup":
                    addToPayload(opt, ["groupName"]);
                    break;
                case "GetRoleCollectionFromUser":
                    addToPayload(opt, ["userLoginName"]);
                    break;
                case "GetRoleCollectionFromWeb":
                    break;
                case "GetRoleInfo":
                    addToPayload(opt, ["roleName"]);
                    break;
                case "GetRolesAndPermissionsForCurrentUser":
                    break;
                case "GetRolesAndPermissionsForSite":
                    break;
                case "GetUserCollection":
                    addToPayload(opt, ["userLoginNamesXml"]);
                    break;
                case "GetUserCollectionFromGroup":
                    addToPayload(opt, ["groupName"]);
                    break;
                case "GetUserCollectionFromRole":
                    addToPayload(opt, ["roleName"]);
                    break;
                case "GetUserCollectionFromSite":
                    break;
                case "GetUserCollectionFromWeb":
                    break;
                case "GetUserInfo":
                    addToPayload(opt, ["userLoginName"]);
                    break;
                case "GetUserLoginFromEmail":
                    addToPayload(opt, ["emailXml"]);
                    break;
                case "RemoveGroup":
                    addToPayload(opt, ["groupName"]);
                    break;
                case "RemoveGroupFromRole":
                    addToPayload(opt, ["roleName", "groupName"]);
                    break;
                case "RemoveRole":
                    addToPayload(opt, ["roleName"]);
                    break;
                case "RemoveUserCollectionFromGroup":
                    addToPayload(opt, ["groupName", "userLoginNamesXml"]);
                    break;
                case "RemoveUserCollectionFromRole":
                    addToPayload(opt, ["roleName", "userLoginNamesXml"]);
                    break;
                case "RemoveUserCollectionFromSite":
                    addToPayload(opt, ["userLoginNamesXml"]);
                    break;
                case "RemoveUserFromGroup":
                    addToPayload(opt, ["groupName", "userLoginName"]);
                    break;
                case "RemoveUserFromRole":
                    addToPayload(opt, ["roleName", "userLoginName"]);
                    break;
                case "RemoveUserFromSite":
                    addToPayload(opt, ["userLoginName"]);
                    break;
                case "RemoveUserFromWeb":
                    addToPayload(opt, ["userLoginName"]);
                    break;
                case "UpdateGroupInfo":
                    addToPayload(opt, ["oldGroupName", "groupName", "ownerIdentifier", "ownerType", "description"]);
                    break;
                case "UpdateRoleDefInfo":
                    addToPayload(opt, ["oldRoleName", "roleName", "description", "permissionMask"]);
                    break;
                case "UpdateRoleInfo":
                    addToPayload(opt, ["oldRoleName", "roleName", "description", "permissionMask"]);
                    break;
                case "UpdateUserInfo":
                    addToPayload(opt, ["userLoginName", "userName", "userEmail", "userNotes"]);
                    break;
                case "AddColleague":
                    addToPayload(opt, ["accountName", "colleagueAccountName", "group", "privacy", "isInWorkGroup"]);
                    break;
                case "AddLink":
                    addToPayload(opt, ["accountName", "name", "url", "group", "privacy"]);
                    break;
                case "AddMembership":
                    addToPayload(opt, ["accountName", "membershipInfo", "group", "privacy"]);
                    break;
                case "AddPinnedLink":
                    addToPayload(opt, ["accountName", "name", "url"]);
                    break;
                case "CreateMemberGroup":
                    addToPayload(opt, ["membershipInfo"]);
                    break;
                case "CreateUserProfileByAccountName":
                    addToPayload(opt, ["accountName"]);
                    break;
                case "GetCommonColleagues":
                    addToPayload(opt, ["accountName"]);
                    break;
                case "GetCommonManager":
                    addToPayload(opt, ["accountName"]);
                    break;
                case "GetCommonMemberships":
                    addToPayload(opt, ["accountName"]);
                    break;
                case "GetInCommon":
                    addToPayload(opt, ["accountName"]);
                    break;
                case "GetPropertyChoiceList":
                    addToPayload(opt, ["propertyName"]);
                    break;
                case "GetUserColleagues":
                    addToPayload(opt, ["accountName"]);
                    break;
                case "GetUserLinks":
                    addToPayload(opt, ["accountName"]);
                    break;
                case "GetUserMemberships":
                    addToPayload(opt, ["accountName"]);
                    break;
                case "GetUserPinnedLinks":
                    addToPayload(opt, ["accountName"]);
                    break;
                case "GetUserProfileByGuid":
                    addToPayload(opt, ["guid"]);
                    break;
                case "GetUserProfileByIndex":
                    addToPayload(opt, ["index"]);
                    break;
                case "GetUserProfileByName":
                    // Note that this operation is inconsistent with the others, using AccountName rather than accountName
                    if (typeof opt.accountName !== "undefined" && opt.accountName.length > 0) {
                        addToPayload(opt, [
                            ["AccountName", "accountName"]
                        ]);
                    }
                    else {
                        addToPayload(opt, ["AccountName"]);
                    }
                    break;
                case "GetUserProfileCount":
                    break;
                case "GetUserProfileSchema":
                    break;
                case "GetUserPropertyByAccountName":
                    addToPayload(opt, ["accountName", "propertyName"]);
                    break;
                case "ModifyUserPropertyByAccountName":
                    addToPayload(opt, ["accountName", "newData"]);
                    break;
                case "RemoveAllColleagues":
                    addToPayload(opt, ["accountName"]);
                    break;
                case "RemoveAllLinks":
                    addToPayload(opt, ["accountName"]);
                    break;
                case "RemoveAllMemberships":
                    addToPayload(opt, ["accountName"]);
                    break;
                case "RemoveAllPinnedLinks":
                    addToPayload(opt, ["accountName"]);
                    break;
                case "RemoveColleague":
                    addToPayload(opt, ["accountName", "colleagueAccountName"]);
                    break;
                case "RemoveLink":
                    addToPayload(opt, ["accountName", "id"]);
                    break;
                case "RemoveMembership":
                    addToPayload(opt, ["accountName", "sourceInternal", "sourceReference"]);
                    break;
                case "RemovePinnedLink":
                    addToPayload(opt, ["accountName", "id"]);
                    break;
                case "UpdateColleaguePrivacy":
                    addToPayload(opt, ["accountName", "colleagueAccountName", "newPrivacy"]);
                    break;
                case "UpdateLink":
                    addToPayload(opt, ["accountName", "data"]);
                    break;
                case "UpdateMembershipPrivacy":
                    addToPayload(opt, ["accountName", "sourceInternal", "sourceReference", "newPrivacy"]);
                    break;
                case "UpdatePinnedLink ":
                    addToPayload(opt, ["accountName", "data"]);
                    break;
                case "DeleteAllVersions":
                    addToPayload(opt, ["fileName"]);
                    break;
                case "DeleteVersion":
                    addToPayload(opt, ["fileName", "fileVersion"]);
                    break;
                case "GetVersions":
                    addToPayload(opt, ["fileName"]);
                    break;
                case "RestoreVersion":
                    addToPayload(opt, ["fileName", "fileVersion"]);
                    break;
                case "AddView":
                    addToPayload(opt, ["listName", "viewName", "viewFields", "query", "rowLimit", "rowLimit", "type", "makeViewDefault"]);
                    break;
                case "DeleteView":
                    addToPayload(opt, ["listName", "viewName"]);
                    break;
                case "GetView":
                    addToPayload(opt, ["listName", "viewName"]);
                    break;
                case "GetViewCollection":
                    addToPayload(opt, ["listName"]);
                    break;
                case "GetViewHtml":
                    addToPayload(opt, ["listName", "viewName"]);
                    break;
                case "UpdateView":
                    addToPayload(opt, ["listName", "viewName", "viewProperties", "query", "viewFields", "aggregations", "formats", "rowLimit"]);
                    break;
                case "UpdateViewHtml":
                    addToPayload(opt, ["listName", "viewName", "viewProperties", "toolbar", "viewHeader", "viewBody", "viewFooter", "viewEmpty", "rowLimitExceeded", "query", "viewFields", "aggregations", "formats", "rowLimit"]);
                    break;
                case "AddWebPart":
                    addToPayload(opt, ["pageUrl", "webPartXml", "storage"]);
                    break;
                case "AddWebPartToZone":
                    addToPayload(opt, ["pageUrl", "webPartXml", "storage", "zoneId", "zoneIndex"]);
                    break;
                case "GetWebPart2":
                    addToPayload(opt, ["pageUrl", "storageKey", "storage", "behavior"]);
                    break;
                case "GetWebPartPage":
                    addToPayload(opt, ["documentName", "behavior"]);
                    break;
                case "GetWebPartProperties":
                    addToPayload(opt, ["pageUrl", "storage"]);
                    break;
                case "GetWebPartProperties2":
                    addToPayload(opt, ["pageUrl", "storage", "behavior"]);
                    break;
                case "Webs.CreateContentType":
                    addToPayload(opt, ["displayName", "parentType", "newFields", "contentTypeProperties"]);
                    break;
                case "GetColumns":
                    addToPayload(opt, ["webUrl"]);
                    break;
                case "GetContentType":
                    addToPayload(opt, ["contentTypeId"]);
                    break;
                case "GetContentTypes":
                    break;
                case "GetCustomizedPageStatus":
                    addToPayload(opt, ["fileUrl"]);
                    break;
                case "GetListTemplates":
                    break;
                case "GetObjectIdFromUrl":
                    addToPayload(opt, ["objectUrl"]);
                    break;
                case "GetWeb":
                    addToPayload(opt, [
                        ["webUrl", "webURL"]
                    ]);
                    break;
                case "GetWebCollection":
                    break;
                case "GetAllSubWebCollection":
                    break;
                case "UpdateColumns":
                    addToPayload(opt, ["newFields", "updateFields", "deleteFields"]);
                    break;
                case "Webs.UpdateContentType":
                    addToPayload(opt, ["contentTypeId", "contentTypeProperties", "newFields", "updateFields", "deleteFields"]);
                    break;
                case "WebUrlFromPageUrl":
                    addToPayload(opt, [
                        ["pageUrl", "pageURL"]
                    ]);
                    break;
                case "AlterToDo":
                    addToPayload(opt, ["item", "todoId", "todoListId", "taskData"]);
                    break;
                case "ClaimReleaseTask":
                    addToPayload(opt, ["item", "taskId", "listId", "fClaim"]);
                    break;
                case "GetTemplatesForItem":
                    addToPayload(opt, ["item"]);
                    break;
                case "GetToDosForItem":
                    addToPayload(opt, ["item"]);
                    break;
                case "GetWorkflowDataForItem":
                    addToPayload(opt, ["item"]);
                    break;
                case "GetWorkflowTaskData":
                    addToPayload(opt, ["item", "listId", "taskId"]);
                    break;
                case "StartWorkflow":
                    addToPayload(opt, ["item", "templateId", "workflowParameters"]);
                    break;
                default:
                    break;
            }
            // Glue together the pieces of the SOAP message
            var msg = soapEnvelope.header + soapEnvelope.opheader + soapEnvelope.payload + soapEnvelope.opfooter + soapEnvelope.footer;
            var soapAction = apWebServiceOperationConstants[opt.operation][1] ? SOAPAction : false;
            return {
                msg: msg,
                SOAPEnvelope: soapEnvelope,
                SOAPAction: soapAction
            };
            // Add the option values to the soapEnvelope.payload for the operation
            //  opt = options for the call
            //  paramArray = an array of option names to add to the payload
            //      "paramName" if the parameter name and the option name match
            //      ["paramName", "optionName"] if the parameter name and the option name are different (this handles early "wrappings" with inconsistent naming)
            //      {name: "paramName", sendNull: false} indicates the element is marked as "add to payload only if non-null"
            function addToPayload(opt, paramArray) {
                var i;
                for (i = 0; i < paramArray.length; i++) {
                    // the parameter name and the option name match
                    if (typeof paramArray[i] === "string") {
                        soapEnvelope.payload += wrapNode(paramArray[i], opt[paramArray[i]]);
                    }
                    else if (_.isArray(paramArray[i]) && paramArray[i].length === 2) {
                        soapEnvelope.payload += wrapNode(paramArray[i][0], opt[paramArray[i][1]]);
                    }
                    else if ((typeof paramArray[i] === "object") && (paramArray[i].sendNull !== undefined)) {
                        soapEnvelope.payload += ((opt[paramArray[i].name] === undefined) || (opt[paramArray[i].name].length === 0)) ? "" : wrapNode(paramArray[i].name, opt[paramArray[i].name]);
                    }
                    else {
                        errBox(opt.operation, "paramArray[" + i + "]: " + paramArray[i], "Invalid paramArray element passed to addToPayload()");
                    }
                }
            } // End of function addToPayload
            // The SiteData operations have the same names as other Web Service operations. To make them easy to call and unique, I'm using
            // the SiteData prefix on their names. This function replaces that name with the right name in the soapEnvelope.
            function siteDataFixSOAPEnvelope(SOAPEnvelope, siteDataOperation) {
                var siteDataOp = siteDataOperation.substring(8);
                SOAPEnvelope.opheader = SOAPEnvelope.opheader.replace(siteDataOperation, siteDataOp);
                SOAPEnvelope.opfooter = SOAPEnvelope.opfooter.replace(siteDataOperation, siteDataOp);
                return SOAPEnvelope;
            } // End of function siteDataFixSOAPEnvelope
        }
        ;
        //TODO Move this somewhere else, it's too buried down here
        // This method for finding specific nodes in the returned XML was developed by Steve Workman. See his blog post
        // http://www.steveworkman.com/html5-2/javascript/2011/improving-javascript-xml-node-finding-performance-by-2000/
        // for performance details.
        $.fn.SPFilterNode = function (name) {
            return this.find('*').filter(function () {
                return this.nodeName === name;
            });
        }; // End $.fn.SPFilterNode
        ////// PRIVATE FUNCTIONS ////////
        // Wrap an XML node (n) around a value (v)
        function wrapNode(n, v) {
            var thisValue = typeof v !== "undefined" ? v : "";
            return "<" + n + ">" + thisValue + "</" + n + ">";
        }
        // Get the filename from the full URL
        function fileName(s) {
            return s.substring(s.lastIndexOf("/") + 1, s.length);
        }
        /* Taken from http://dracoblue.net/dev/encodedecode-special-xml-characters-in-javascript/155/ */
        var xml_special_to_escaped_one_map = {
            '&': '&amp;',
            '"': '&quot;',
            '<': '&lt;',
            '>': '&gt;'
        };
        function encodeXml(string) {
            return string.replace(/([\&"<>])/g, function (str, item) {
                return xml_special_to_escaped_one_map[item];
            });
        }
        /* Taken from http://dracoblue.net/dev/encodedecode-special-xml-characters-in-javascript/155/ */
        // Escape column values
        function escapeColumnValue(s) {
            if (typeof s === "string") {
                return s.replace(/&(?![a-zA-Z]{1,8};)/g, "&amp;");
            }
            else {
                return s;
            }
        }
        function errBox(msg) {
            console.error(msg);
        }
        // James Padolsey's Regex Selector for jQuery http://james.padolsey.com/javascript/regex-selector-for-jquery/
        $.expr[':'].regex = function (elem, index, match) {
            var matchParams = match[3].split(','), validLabels = /^(data|css):/, attr = {
                method: matchParams[0].match(validLabels) ? matchParams[0].split(':')[0] : 'attr',
                property: matchParams.shift().replace(validLabels, '')
            }, regexFlags = 'ig', regex = new RegExp(matchParams.join('').replace(/^\s+|\s+$/g, ''), regexFlags);
            return regex.test(jQuery(elem)[attr.method](attr.property));
        };
        return SPServices;
        //// Known list field types
        //var spListFieldTypes = [
        //    "Text",
        //    "DateTime",
        //    "datetime",
        //    "User",
        //    "UserMulti",
        //    "Lookup",
        //    "LookupMulti",
        //    "Boolean",
        //    "Integer",
        //    "Counter",
        //    "MultiChoice",
        //    "Currency",
        //    "float",
        //    "Calc",
        //    "Attachments",
        //    "Calculated",
        //    "ContentTypeId",
        //    "Note",
        //    //          "Computed",
        //    "URL",
        //    "Number",
        //    "Choice",
        //    "ModStat",
        //    "Guid",
        //    "File"
        //];
        // Convert a JavaScript date to the ISO 8601 format required by SharePoint to update list items
        //function SPConvertDateToISO(options) {
        //
        //    var opt = $.extend({}, {
        //        dateToConvert: new Date(), // The JavaScript date we'd like to convert. If no date is passed, the function returns the current date/time
        //        dateOffset: "-05:00" // The time zone offset requested. Default is EST
        //    }, options);
        //
        //    //Generate ISO 8601 date/time formatted string
        //    var s = "";
        //    var d = opt.dateToConvert;
        //    s += d.getFullYear() + "-";
        //    s += pad(d.getMonth() + 1) + "-";
        //    s += pad(d.getDate());
        //    s += "T" + pad(d.getHours()) + ":";
        //    s += pad(d.getMinutes()) + ":";
        //    s += pad(d.getSeconds()) + "Z" + opt.dateOffset;
        //    //Return the ISO8601 date string
        //    return s;
        //
        //} // End SPServices.SPConvertDateToISO
        // Split values like 1;#value into id and value
        //function SplitIndex(s) {
        //    var spl = s.split(";#");
        //    this.id = spl[0];
        //    this.value = spl[1];
        //}
        //function pad(n) {
        //    return n < 10 ? "0" + n : n;
        //}
        //var escaped_one_to_xml_special_map = {
        //    '&amp;': '&',
        //    '&quot;': '"',
        //    '&lt;': '<',
        //    '&gt;': '>'
        //};
        //
        //function decodeXml(string) {
        //    return string.replace(/(&quot;|&lt;|&gt;|&amp;)/g,
        //        function (str, item) {
        //            return escaped_one_to_xml_special_map[item];
        //        });
        //}
        // Escape Url
        //function escapeUrl(u) {
        //    return u.replace(/&/g, '%26');
        //}
        // Return the current version of SPServices as a string
        //SPServices.Version = function () {
        //
        //    return VERSION;
        //
        //}; // End SPServices.Version
        //// This function converts an XML node set to JSON
        //// Initial implementation focuses only on GetListItems
        //$.fn.SPXmlToJson = function (options) {
        //
        //    var opt = $.extend({}, {
        //        mapping: {}, // columnName: mappedName: "mappedName", objectType: "objectType"
        //        includeAllAttrs: false, // If true, return all attributes, regardless whether they are in the mapping
        //        removeOws: true, // Specifically for GetListItems, if true, the leading ows_ will be stripped off the field name
        //        sparse: false // If true, empty ("") values will not be returned
        //    }, options);
        //
        //    var attrNum;
        //    var jsonObject = [];
        //
        //    this.each(function () {
        //        var row = {};
        //        var rowAttrs = this.attributes;
        //
        //        if (!opt.sparse) {
        //            // Bring back all mapped columns, even those with no value
        //            $.each(opt.mapping, function () {
        //                row[this.mappedName] = "";
        //            });
        //        }
        //
        //        // Parse through the element's attributes
        //        for (attrNum = 0; attrNum < rowAttrs.length; attrNum++) {
        //            var thisAttrName = rowAttrs[attrNum].name;
        //            var thisMapping = opt.mapping[thisAttrName];
        //            var thisObjectName = typeof thisMapping !== "undefined" ? thisMapping.mappedName : opt.removeOws ? thisAttrName.split("ows_")[1] : thisAttrName;
        //            var thisObjectType = typeof thisMapping !== "undefined" ? thisMapping.objectType : undefined;
        //            if (opt.includeAllAttrs || thisMapping !== undefined) {
        //                row[thisObjectName] = apDecodeService.attrToJson(rowAttrs[attrNum].value, thisObjectType);
        //            }
        //        }
        //        // Push this item into the JSON Object
        //        jsonObject.push(row);
        //
        //    });
        //
        //    // Return the JSON object
        //    return jsonObject;
        //
        //}; // End SPServices.SPXmlToJson
        //function attrToJson(v, objectType) {
        //
        //    var colValue;
        //
        //    switch (objectType) {
        //        case "Text":
        //            colValue = stringToJsonObject(v);
        //            break;
        //        case "DateTime":
        //        case "datetime": // For calculated columns, stored as datetime;#value
        //            // Dates have dashes instead of slashes: ows_Created="2009-08-25 14:24:48"
        //            colValue = dateToJsonObject(v);
        //            break;
        //        case "User":
        //            colValue = userToJsonObject(v);
        //            break;
        //        case "UserMulti":
        //            colValue = userMultiToJsonObject(v);
        //            break;
        //        case "Lookup":
        //            colValue = lookupToJsonObject(v);
        //            break;
        //        case "LookupMulti":
        //            colValue = lookupMultiToJsonObject(v);
        //            break;
        //        case "Boolean":
        //            colValue = booleanToJsonObject(v);
        //            break;
        //        case "Integer":
        //            colValue = intToJsonObject(v);
        //            break;
        //        case "Counter":
        //            colValue = intToJsonObject(v);
        //            break;
        //        case "MultiChoice":
        //            colValue = choiceMultiToJsonObject(v);
        //            break;
        //        case "Number":
        //        case "Currency":
        //        case "float": // For calculated columns, stored as float;#value
        //            colValue = floatToJsonObject(v);
        //            break;
        //        case "Calculated":
        //            colValue = calcToJsonObject(v);
        //            break;
        //        case "Attachments":
        //            colValue = lookupToJsonObject(v);
        //            break;
        //        case "JSON":
        //            colValue = jsonToJsonObject(v); // Special case for text JSON stored in text columns
        //            break;
        //        default:
        //            // All other objectTypes will be simple strings
        //            colValue = stringToJsonObject(v);
        //            break;
        //    }
        //    return colValue;
        //}
        //
        //function stringToJsonObject(s) {
        //    return s;
        //}
        //
        //function intToJsonObject(s) {
        //    return parseInt(s, 10);
        //}
        //
        //function floatToJsonObject(s) {
        //    return parseFloat(s);
        //}
        //
        //function booleanToJsonObject(s) {
        //    var out = s === "0" ? false : true;
        //    return out;
        //}
        //
        //function dateToJsonObject(s) {
        //
        //    var dt = s.split("T")[0] !== s ? s.split("T") : s.split(" ");
        //    var d = dt[0].split("-");
        //    var t = dt[1].split(":");
        //    var t3 = t[2].split("Z");
        //    var date = new Date(d[0], (d[1] - 1), d[2], t[0], t[1], t3[0]);
        //    return date;
        //}
        //
        //function userToJsonObject(s) {
        //    if (s.length === 0) {
        //        return null;
        //    } else {
        //        var thisUser = new SplitIndex(s);
        //        var thisUserExpanded = thisUser.value.split(",#");
        //        if (thisUserExpanded.length === 1) {
        //            return {
        //                userId: thisUser.id,
        //                userName: thisUser.value
        //            };
        //        } else {
        //            return {
        //                userId: thisUser.id,
        //                userName: thisUserExpanded[0].replace(/(,,)/g, ","),
        //                loginName: thisUserExpanded[1].replace(/(,,)/g, ","),
        //                email: thisUserExpanded[2].replace(/(,,)/g, ","),
        //                sipAddress: thisUserExpanded[3].replace(/(,,)/g, ","),
        //                title: thisUserExpanded[4].replace(/(,,)/g, ",")
        //            };
        //        }
        //    }
        //}
        //// Get the current context (as much as we can) on startup
        //// See: http://johnliu.net/blog/2012/2/3/sharepoint-javascript-current-page-context-info.html
        //function SPServicesContext() {
        //
        //    // SharePoint 2010 gives us a context variable
        //    if (typeof _spPageContextInfo !== "undefined") {
        //        this.thisSite = _spPageContextInfo.webServerRelativeUrl;
        //        this.thisList = _spPageContextInfo.pageListId;
        //        this.thisUserId = _spPageContextInfo.userId;
        //        // In SharePoint 2007, we know the UserID only
        //    } else {
        //        this.thisSite = (typeof L_Menu_BaseUrl !== "undefined") ? L_Menu_BaseUrl : "";
        //        this.thisList = "";
        //        this.thisUserId = (typeof _spUserId !== "undefined") ? _spUserId : undefined;
        //    }
        //
        //} // End of function SPServicesContext
        //
        //function userMultiToJsonObject(s) {
        //    if (s.length === 0) {
        //        return null;
        //    } else {
        //        var thisUserMultiObject = [];
        //        var thisUserMulti = s.split(";#");
        //        for (i = 0; i < thisUserMulti.length; i = i + 2) {
        //            var thisUser = userToJsonObject(thisUserMulti[i] + ";#" + thisUserMulti[i + 1]);
        //            thisUserMultiObject.push(thisUser);
        //        }
        //        return thisUserMultiObject;
        //    }
        //}
        //
        //function lookupToJsonObject(s) {
        //    if (s.length === 0) {
        //        return null;
        //    } else {
        //        var thisLookup = new SplitIndex(s);
        //        return {
        //            lookupId: thisLookup.id,
        //            lookupValue: thisLookup.value
        //        };
        //    }
        //}
        //
        //function lookupMultiToJsonObject(s) {
        //    if (s.length === 0) {
        //        return null;
        //    } else {
        //        var thisLookupMultiObject = [];
        //        var thisLookupMulti = s.split(";#");
        //        for (i = 0; i < thisLookupMulti.length; i = i + 2) {
        //            var thisLookup = lookupToJsonObject(thisLookupMulti[i] + ";#" + thisLookupMulti[i + 1]);
        //            thisLookupMultiObject.push(thisLookup);
        //        }
        //        return thisLookupMultiObject;
        //    }
        //}
        //
        //function choiceMultiToJsonObject(s) {
        //    if (s.length === 0) {
        //        return null;
        //    } else {
        //        var thisChoiceMultiObject = [];
        //        var thisChoiceMulti = s.split(";#");
        //        for (i = 0; i < thisChoiceMulti.length; i++) {
        //            if (thisChoiceMulti[i].length !== 0) {
        //                thisChoiceMultiObject.push(thisChoiceMulti[i]);
        //            }
        //        }
        //        return thisChoiceMultiObject;
        //    }
        //}
        //
        //function calcToJsonObject(s) {
        //    if (s.length === 0) {
        //        return null;
        //    } else {
        //        var thisCalc = s.split(";#");
        //        // The first value will be the calculated column value type, the second will be the value
        //        return attrToJson(thisCalc[1], thisCalc[0]);
        //    }
        //}
        //
        //function jsonToJsonObject(s) {
        //    if (s.length === 0) {
        //        return null;
        //    } else {
        //        return $.parseJSON(s);
        //    }
        //}
        // Build the URL for the Ajax call based on which operation we're calling
        // If the webURL has been provided, then use it, else use the current site
        //var ajaxURL = generateWebServiceUrl(service, opt.webURL);
        //var ajaxURL = "_vti_bin/" + service + ".asmx";
        //if (opt.webURL) {
        //    ajaxURL = opt.webURL.charAt(opt.webURL.length - 1) === SLASH ?
        //    opt.webURL + ajaxURL : opt.webURL + SLASH + ajaxURL;
        //} else {
        //    var thisSite = SPServices.SPGetCurrentSite();
        //    ajaxURL = thisSite + ((thisSite.charAt(thisSite.length - 1) === SLASH) ? ajaxURL : (SLASH + ajaxURL));
        //}
        // If a string is a URL, format it as a link, else return the string as-is
        //function checkLink(s) {
        //    return ((s.indexOf("http") === 0) || (s.indexOf(SLASH) === 0)) ? "<a href='" + s + "'>" + s + "</a>" : s;
        //}
        //SPServices.generateWebServiceUrl = generateWebServiceUrl;
        // Function to determine the current Web's URL.  We need this for successful Ajax calls.
        // The function is also available as a public function.
        //function SPGetCurrentSite() {
        //
        //    // We've already determined the current site...
        //    if (currentContext.thisSite.length > 0) {
        //        return currentContext.thisSite;
        //    }
        //
        //    // If we still don't know the current site, we call WebUrlFromPageUrlResult.
        //    var msg = SOAPEnvelope.header +
        //        "<WebUrlFromPageUrl xmlns='" + SCHEMASharePoint + "/soap/' ><pageUrl>" +
        //        ((location.href.indexOf("?") > 0) ? location.href.substr(0, location.href.indexOf("?")) : location.href) +
        //        "</pageUrl></WebUrlFromPageUrl>" +
        //        SOAPEnvelope.footer;
        //    $.ajax({
        //        async: false, // Need this to be synchronous so we're assured of a valid value
        //        url: "/_vti_bin/Webs.asmx",
        //        type: "POST",
        //        data: msg,
        //        dataType: "xml",
        //        contentType: "text/xml;charset=\"utf-8\"",
        //        complete: function (xData) {
        //            currentContext.thisSite = $(xData.responseXML).find("WebUrlFromPageUrlResult").text();
        //        }
        //    });
        //
        //    return currentContext.thisSite; // Return the URL
        //
        //} // End SPServices.SPGetCurrentSite
        //function generateWebServiceUrl(service, webURL) {
        //    var ajaxURL = "_vti_bin/" + service + ".asmx";
        //    if (webURL) {
        //        ajaxURL = webURL.charAt(webURL.length - 1) === SLASH ?
        //        webURL + ajaxURL : webURL + SLASH + ajaxURL;
        //    } else {
        //        var thisSite = SPServices.SPGetCurrentSite();
        //        ajaxURL = thisSite + ((thisSite.charAt(thisSite.length - 1) === SLASH) ? ajaxURL : (SLASH + ajaxURL));
        //    }
        //    return ajaxURL;
        //}
        //switch (apWebServiceOperationConstants[opt.operation][0]) {
        //    case "Alerts":
        //        SOAPEnvelope.opheader += "xmlns='" + SCHEMASharePoint + "/soap/2002/1/alerts/' >";
        //        SOAPAction = SCHEMASharePoint + "/soap/2002/1/alerts/";
        //        break;
        //    case "Meetings":
        //        SOAPEnvelope.opheader += "xmlns='" + SCHEMASharePoint + "/soap/meetings/' >";
        //        SOAPAction = SCHEMASharePoint + "/soap/meetings/";
        //        break;
        //    case "Permissions":
        //        SOAPEnvelope.opheader += "xmlns='" + SCHEMASharePoint + "/soap/directory/' >";
        //        SOAPAction = SCHEMASharePoint + "/soap/directory/";
        //        break;
        //    case "PublishedLinksService":
        //        SOAPEnvelope.opheader += "xmlns='http://microsoft.com/webservices/SharePointPortalServer/PublishedLinksService/' >";
        //        SOAPAction = "http://microsoft.com/webservices/SharePointPortalServer/PublishedLinksService/";
        //        break;
        //    case "Search":
        //        SOAPEnvelope.opheader += "xmlns='urn:Microsoft.Search' >";
        //        SOAPAction = "urn:Microsoft.Search/";
        //        break;
        //    case "SharePointDiagnostics":
        //        SOAPEnvelope.opheader += "xmlns='" + SCHEMASharePoint + "/diagnostics/' >";
        //        SOAPAction = "http://schemas.microsoft.com/sharepoint/diagnostics/";
        //        break;
        //    case "SocialDataService":
        //        SOAPEnvelope.opheader += "xmlns='http://microsoft.com/webservices/SharePointPortalServer/SocialDataService' >";
        //        SOAPAction = "http://microsoft.com/webservices/SharePointPortalServer/SocialDataService/";
        //        break;
        //    case "SpellCheck":
        //        SOAPEnvelope.opheader += "xmlns='http://schemas.microsoft.com/sharepoint/publishing/spelling/' >";
        //        SOAPAction = "http://schemas.microsoft.com/sharepoint/publishing/spelling/SpellCheck";
        //        break;
        //    case "TaxonomyClientService":
        //        SOAPEnvelope.opheader += "xmlns='" + SCHEMASharePoint + "/taxonomy/soap/' >";
        //        SOAPAction = SCHEMASharePoint + "/taxonomy/soap/";
        //        break;
        //    case "usergroup":
        //        SOAPEnvelope.opheader += "xmlns='" + SCHEMASharePoint + "/soap/directory/' >";
        //        SOAPAction = SCHEMASharePoint + "/soap/directory/";
        //        break;
        //    case "UserProfileService":
        //        SOAPEnvelope.opheader += "xmlns='http://microsoft.com/webservices/SharePointPortalServer/UserProfileService' >";
        //        SOAPAction = "http://microsoft.com/webservices/SharePointPortalServer/UserProfileService/";
        //        break;
        //    case "WebPartPages":
        //        SOAPEnvelope.opheader += "xmlns='http://microsoft.com/sharepoint/webpartpages' >";
        //        SOAPAction = "http://microsoft.com/sharepoint/webpartpages/";
        //        break;
        //    case "Workflow":
        //        SOAPEnvelope.opheader += "xmlns='" + SCHEMASharePoint + "/soap/workflow/' >";
        //        SOAPAction = SCHEMASharePoint + "/soap/workflow/";
        //        break;
        //    default:
        //        SOAPEnvelope.opheader += "xmlns='" + SCHEMASharePoint + "/soap/'>";
        //        SOAPAction = SCHEMASharePoint + "/soap/";
        //        break;
        //}
        // Utility function to show the results of a Web Service call formatted well in the browser.
        //SPServices.SPDebugXMLHttpResult = function (options) {
        //
        //    var opt = $.extend({}, {
        //        node: null, // An XMLHttpResult object from an ajax call
        //        indent: 0 // Number of indents
        //    }, options);
        //
        //    var i;
        //    var NODE_TEXT = 3;
        //    var NODE_CDATA_SECTION = 4;
        //
        //    var outString = "";
        //    // For each new subnode, begin rendering a new TABLE
        //    outString += "<table class='ms-vb' style='margin-left:" + opt.indent * 3 + "px;' width='100%'>";
        //    // DisplayPatterns are a bit unique, so let's handle them differently
        //    if (opt.node.nodeName === "DisplayPattern") {
        //        outString += "<tr><td width='100px' style='font-weight:bold;'>" + opt.node.nodeName +
        //        "</td><td><textarea readonly='readonly' rows='5' cols='50'>" + opt.node.xml + "</textarea></td></tr>";
        //        // A node which has no children
        //    } else if (!opt.node.hasChildNodes()) {
        //        outString += "<tr><td width='100px' style='font-weight:bold;'>" + opt.node.nodeName +
        //        "</td><td>" + ((opt.node.nodeValue !== null) ? checkLink(opt.node.nodeValue) : "&nbsp;") + "</td></tr>";
        //        if (opt.node.attributes) {
        //            outString += "<tr><td colspan='99'>" + showAttrs(opt.node) + "</td></tr>";
        //        }
        //        // A CDATA_SECTION node
        //    } else if (opt.node.hasChildNodes() && opt.node.firstChild.nodeType === NODE_CDATA_SECTION) {
        //        outString += "<tr><td width='100px' style='font-weight:bold;'>" + opt.node.nodeName +
        //        "</td><td><textarea readonly='readonly' rows='5' cols='50'>" + opt.node.parentNode.text + "</textarea></td></tr>";
        //        // A TEXT node
        //    } else if (opt.node.hasChildNodes() && opt.node.firstChild.nodeType === NODE_TEXT) {
        //        outString += "<tr><td width='100px' style='font-weight:bold;'>" + opt.node.nodeName +
        //        "</td><td>" + checkLink(opt.node.firstChild.nodeValue) + "</td></tr>";
        //        // Handle child nodes
        //    } else {
        //        outString += "<tr><td width='100px' style='font-weight:bold;' colspan='99'>" + opt.node.nodeName + "</td></tr>";
        //        if (opt.node.attributes) {
        //            outString += "<tr><td colspan='99'>" + showAttrs(opt.node) + "</td></tr>";
        //        }
        //        // Since the node has child nodes, recurse
        //        outString += "<tr><td>";
        //        for (i = 0; i < opt.node.childNodes.length; i++) {
        //            outString += SPServices.SPDebugXMLHttpResult({
        //                node: opt.node.childNodes.item(i),
        //                indent: opt.indent + 1
        //            });
        //        }
        //        outString += "</td></tr>";
        //    }
        //    outString += "</table>";
        //    // Return the HTML which we have built up
        //    return outString;
        //}; // End SPServices.SPDebugXMLHttpResult
        // Show a single attribute of a node, enclosed in a table
        //   node               The XML node
        //   opt                The current set of options
        //function showAttrs(node) {
        //    var i;
        //    var out = "<table class='ms-vb' width='100%'>";
        //    for (i = 0; i < node.attributes.length; i++) {
        //        out += "<tr><td width='10px' style='font-weight:bold;'>" + i + "</td><td width='100px'>" +
        //        node.attributes.item(i).nodeName + "</td><td>" + checkLink(node.attributes.item(i).nodeValue) + "</td></tr>";
        //    }
        //    out += "</table>";
        //    return out;
        //} // End of function showAttrs
        // Function which returns the account name for the current user in DOMAIN\username format
        //SPServices.SPGetCurrentUser = function (options) {
        //
        //    var opt = $.extend({}, {
        //        webURL: "", // URL of the target Site Collection.  If not specified, the current Web is used.
        //        fieldName: "Name", // Specifies which field to return from the userdisp.aspx page
        //        fieldNames: {}, // Specifies which fields to return from the userdisp.aspx page - added in v0.7.2 to allow multiple columns
        //        debug: false // If true, show error messages; if false, run silent
        //    }, options);
        //
        //    // The current user's ID is reliably available in an existing JavaScript variable
        //    if (opt.fieldName === "ID" && typeof currentContext.thisUserId !== "undefined") {
        //        return currentContext.thisUserId;
        //    }
        //
        //    var thisField = "";
        //    var theseFields = {};
        //    var fieldCount = opt.fieldNames.length > 0 ? opt.fieldNames.length : 1;
        //    var thisUserDisp;
        //    var thisWeb = opt.webURL.length > 0 ? opt.webURL : SPServices.SPGetCurrentSite();
        //
        //    // Get the UserDisp.aspx page using AJAX
        //    $.ajax({
        //        // Need this to be synchronous so we're assured of a valid value
        //        async: false,
        //        // Force parameter forces redirection to a page that displays the information as stored in the UserInfo table rather than My Site.
        //        // Adding the extra Query String parameter with the current date/time forces the server to view this as a new request.
        //        url: thisWeb + "/_layouts/userdisp.aspx?Force=True&" + new Date().getTime(),
        //        complete: function (xData) {
        //            thisUserDisp = xData;
        //        }
        //    });
        //
        //    for (i = 0; i < fieldCount; i++) {
        //
        //        // The current user's ID is reliably available in an existing JavaScript variable
        //        if (opt.fieldNames[i] === "ID") {
        //            thisField = currentContext.thisUserId;
        //        } else {
        //            var thisTextValue;
        //            if (fieldCount > 1) {
        //                thisTextValue = RegExp("FieldInternalName=\"" + opt.fieldNames[i] + "\"", "gi");
        //            } else {
        //                thisTextValue = RegExp("FieldInternalName=\"" + opt.fieldName + "\"", "gi");
        //            }
        //            $(thisUserDisp.responseText).find("table.ms-formtable td[id^='SPField']").each(function () {
        //                if (thisTextValue.test($(this).html())) {
        //                    // Each fieldtype contains a different data type, as indicated by the id
        //                    switch ($(this).attr("id")) {
        //                        case "SPFieldText":
        //                            thisField = $(this).text();
        //                            break;
        //                        case "SPFieldNote":
        //                            thisField = $(this).find("div").html();
        //                            break;
        //                        case "SPFieldURL":
        //                            thisField = $(this).find("img").attr("src");
        //                            break;
        //                        // Just in case
        //                        default:
        //                            thisField = $(this).text();
        //                            break;
        //                    }
        //                    // Stop looking; we're done
        //                    return false;
        //                }
        //            });
        //        }
        //        if (opt.fieldNames[i] !== "ID") {
        //            thisField = (typeof thisField !== "undefined") ? thisField.replace(/(^[\s\xA0]+|[\s\xA0]+$)/g, '') : null;
        //        }
        //        if (fieldCount > 1) {
        //            theseFields[opt.fieldNames[i]] = thisField;
        //        }
        //    }
        //
        //    return (fieldCount > 1) ? theseFields : thisField;
        //
        //}; // End SPServices.SPGetCurrentUser
        // SPUpdateMultipleListItems allows you to update multiple items in a list based upon some common characteristic or metadata criteria.
        //function SPUpdateMultipleListItems (options) {
        //
        //    var opt = $.extend({}, {
        //        webURL: "", // [Optional] URL of the target Web.  If not specified, the current Web is used.
        //        listName: "", // The list to operate on.
        //        CAMLQuery: "", // A CAML fragment specifying which items in the list will be selected and updated
        //        batchCmd: "Update", // The operation to perform. By default, Update.
        //        valuePairs: [], // valuePairs for the update in the form [[fieldname1, fieldvalue1], [fieldname2, fieldvalue2]...]
        //        completefunc: null, // Function to call on completion of rendering the change.
        //        debug: false // If true, show error messages;if false, run silent
        //    }, options);
        //
        //    var i;
        //    var itemsToUpdate = [];
        //    var documentsToUpdate = [];
        //
        //    // Call GetListItems to find all of the items matching the CAMLQuery
        //    SPServices({
        //        operation: "GetListItems",
        //        async: false,
        //        webURL: opt.webURL,
        //        listName: opt.listName,
        //        CAMLQuery: opt.CAMLQuery,
        //        CAMLQueryOptions: "<QueryOptions><ViewAttributes Scope='Recursive' /></QueryOptions>",
        //        completefunc: function (xData) {
        //            $(xData.responseXML).SPFilterNode("z:row").each(function () {
        //                itemsToUpdate.push($(this).attr("ows_ID"));
        //                var fileRef = $(this).attr("ows_FileRef");
        //                fileRef = "/" + fileRef.substring(fileRef.indexOf(";#") + 2);
        //                documentsToUpdate.push(fileRef);
        //            });
        //        }
        //    });
        //
        //    var fieldNum;
        //    var batch = "<Batch OnError='Continue'>";
        //    for (i = 0; i < itemsToUpdate.length; i++) {
        //        batch += "<Method ID='" + i + "' Cmd='" + opt.batchCmd + "'>";
        //        for (fieldNum = 0; fieldNum < opt.valuePairs.length; fieldNum++) {
        //            batch += "<Field Name='" + opt.valuePairs[fieldNum][0] + "'>" + escapeColumnValue(opt.valuePairs[fieldNum][1]) + "</Field>";
        //        }
        //        batch += "<Field Name='ID'>" + itemsToUpdate[i] + "</Field>";
        //        if (documentsToUpdate[i].length > 0) {
        //            batch += "<Field Name='FileRef'>" + documentsToUpdate[i] + "</Field>";
        //        }
        //        batch += "</Method>";
        //    }
        //    batch += "</Batch>";
        //
        //    // Call UpdateListItems to update all of the items matching the CAMLQuery
        //    SPServices({
        //        operation: "UpdateListItems",
        //        async: false,
        //        webURL: opt.webURL,
        //        listName: opt.listName,
        //        updates: batch,
        //        completefunc: function (xData) {
        //            // If present, call completefunc when all else is done
        //            if (opt.completefunc !== null) {
        //                opt.completefunc(xData);
        //            }
        //        }
        //    });
        //
        //} // End SPServices.SPUpdateMultipleListItems
    }
})(ap || (ap = {}));

/// <reference path="../../typings/ap.d.ts" />
var ap;
(function (ap) {
    'use strict';
    var $q, apConfig, $timeout;
    var UtilityService = (function () {
        function UtilityService($injector) {
            this.batchProcess = batchProcess;
            this.convertEffectivePermMask = convertEffectivePermMask;
            this.dateWithinRange = dateWithinRange;
            this.doubleDigit = doubleDigit;
            this.fromCamelCase = fromCamelCase;
            this.registerChange = registerChange;
            this.resolvePermissions = resolvePermissions;
            this.SplitIndex = SplitIndex;
            this.stringifyXML = stringifyXML;
            this.toCamelCase = toCamelCase;
            this.yyyymmdd = yyyymmdd;
            $q = $injector.get('$q');
            apConfig = $injector.get('apConfig');
            $timeout = $injector.get('$timeout');
        }
        return UtilityService;
    })();
    ap.UtilityService = UtilityService;
    /** Extend underscore with a simple helper function */
    _.mixin({
        isDefined: function (value) {
            return !_.isUndefined(value);
        },
        /** Based on functionality in Breeze.js */
        isGuid: function (value) {
            return (typeof value === "string") && /[a-fA-F\d]{8}-(?:[a-fA-F\d]{4}-){3}[a-fA-F\d]{12}/.test(value);
        }
    });
    /**
     * @ngdoc function
     * @name angularPoint.apUtilityService:doubleDigit
     * @methodOf angularPoint.apUtilityService
     * @description Add a leading zero if a number/string only contains a single character.  So in the case
     * where the number 9 is passed in the string '09' is returned.
     * @param {(number|string)} val A number or string to evaluate.
     * @returns {string} Two digit string.
     */
    function doubleDigit(val) {
        if (typeof val === 'number') {
            return val > 9 ? val.toString() : '0' + val;
        }
        else {
            return doubleDigit(parseInt(val));
        }
    }
    /**
     * @ngdoc function
     * @name angularPoint.apUtilityService:yyyymmdd
     * @methodOf angularPoint.apUtilityService
     * @description
     * Convert date into a int formatted as yyyymmdd
     * We don't need the time portion of comparison so an int makes this easier to evaluate
     */
    function yyyymmdd(date) {
        var yyyy = date.getFullYear();
        var mm = date.getMonth() + 1;
        var dd = date.getDate();
        /** Add leading 0's to month and day if necessary */
        return parseInt(yyyy + doubleDigit(mm) + doubleDigit(dd));
    }
    /**
     * @ngdoc function
     * @name angularPoint.apUtilityService:dateWithinRange
     * @methodOf angularPoint.apUtilityService
     * @description
     * Converts dates into yyyymmdd formatted ints and evaluates to determine if the dateToCheck
     * falls within the date range provided
     * @param {Date} startDate Starting date.
     * @param {Date} endDate Ending date.
     * @param {Date} [dateToCheck=new Date()] Defaults to the current date.
     * @returns {boolean} Does the date fall within the range?
     */
    function dateWithinRange(startDate, endDate, dateToCheck) {
        if (dateToCheck === void 0) { dateToCheck = new Date(); }
        /** Ensure both a start and end date are provided **/
        if (!startDate || !endDate) {
            return false;
        }
        /** Create an int representation of each of the dates */
        var startInt = yyyymmdd(startDate);
        var endInt = yyyymmdd(endDate);
        var dateToCheckInt = yyyymmdd(dateToCheck);
        return startInt <= dateToCheckInt && dateToCheckInt <= endInt;
    }
    /**
     * @ngdoc function
     * @name angularPoint.apUtilityService:batchProcess
     * @methodOf angularPoint.apUtilityService
     * @description
     * We REALLY don't want to lock the user's browser (blocking the UI thread) while iterating over an array of
     * entities and performing some process on them.  This function cuts the process into as many 50ms chunks as are
     * necessary. Based on example found in the following article:
     * [Timed array processing in JavaScript](http://www.nczonline.net/blog/2009/08/11/timed-array-processing-in-javascript/);
     * @param {Object[]} entities The entities that need to be processed.
     * @param {Function} process Reference to the process to be executed for each of the entities.
     * @param {Object} context this
     * @param {Number} [delay=25] Number of milliseconds to delay between batches.
     * @param {Number} [maxItems=entities.length] Maximum number of entities to process before pausing.
     * @returns {Object} Promise
     * @example
     * <pre>
     * function buildProjectSummary = function() {
         *    var deferred = $q.defer();
         *
         *    // Taken from a fictitious projectsModel.js
         *    projectModel.getAllListItems().then(function(entities) {
         *      var summaryObject = {};
         *      var extendProjectSummary = function(project) {
         *          // Do some process intensive stuff here
         *
         *      };
         *
         *      // Now that we have all of our projects we want to iterate
         *      // over each to create our summary object. The problem is
         *      // this could easily cause the page to hang with a sufficient
         *      // number of entities.
         *      apUtilityService.batchProcess(entities, extendProjectSummary, function() {
         *          // Long running process is complete so resolve promise
         *          deferred.resolve(summaryObject);
         *      }, 25, 1000);
         *    };
         *
         *    return deferred.promise;
         * }
     *
     * </pre>
     */
    function batchProcess(entities, process, context, delay, maxItems) {
        var itemCount = entities.length, batchCount = 0, chunkMax = maxItems || itemCount, delay = delay || 25, index = 0, deferred = $q.defer();
        function chunkTimer() {
            batchCount++;
            var start = +new Date(), chunkIndex = index;
            while (index < itemCount && (index - chunkIndex) < chunkMax && (new Date() - start < 100)) {
                process.call(context, entities[index], index, batchCount);
                index += 1;
            }
            if (index < itemCount) {
                $timeout(chunkTimer, delay);
            }
            else {
                deferred.resolve(entities);
            }
        }
        chunkTimer();
        return deferred.promise;
    }
    //function batchProcess(items, process, context, delay, maxItems) {
    //    var n = items.length,
    //        delay = delay || 25,
    //        maxItems = maxItems || n,
    //        i = 0,
    //        deferred = $q.defer();
    //
    //    chunkTimer(i, n, deferred, items, process, context, delay, maxItems);
    //    return deferred.promise;
    //}
    //
    //function chunkTimer(i, n, deferred, items, process, context, delay, maxItems) {
    //    var start = +new Date(),
    //        j = i;
    //
    //    while (i < n && (i - j) < maxItems && (new Date() - start < 100)) {
    //        process.call(context, items[i]);
    //        i += 1;
    //    }
    //
    //    if (i < n) {
    //        setTimeout(function () {
    //            chunkTimer(j, n, deferred, items, process, context, delay, maxItems);
    //        }, delay);
    //    }
    //    else {
    //        deferred.resolve(items);
    //    }
    //}
    /**
     * @ngdoc function
     * @name angularPoint.apUtilityService:resolvePermissions
     * @methodOf angularPoint.apUtilityService
     * @param {string} permissionsMask The WSS Rights Mask is an 8-byte, unsigned integer that specifies
     * the rights that can be assigned to a user or site group. This bit mask can have zero or more flags set.
     * @description
     * Converts permMask into something usable to determine permission level for current user.  Typically used
     * directly from a list item.  See ListItem.resolvePermissions.
     *
     * <h3>Additional Info</h3>
     *
     * -   [PermMask in SharePoint DVWPs](http://sympmarc.com/2009/02/03/permmask-in-sharepoint-dvwps/)
     * -   [$().SPServices.SPLookupAddNew and security trimming](http://spservices.codeplex.com/discussions/208708)
     *
     * @returns {object} Object with properties for each permission level identifying if current user has rights (true || false)
     * @example
     * <pre>
     * var perm = apUtilityService.resolvePermissions('0x0000000000000010');
     * </pre>
     * Example of what the returned object would look like
     * for a site admin.
     * <pre>
     * perm = {
         *    "ViewListItems":true,
         *    "AddListItems":true,
         *    "EditListItems":true,
         *    "DeleteListItems":true,
         *    "ApproveItems":true,
         *    "OpenItems":true,
         *    "ViewVersions":true,
         *    "DeleteVersions":true,
         *    "CancelCheckout":true,
         *    "PersonalViews":true,
         *    "ManageLists":true,
         *    "ViewFormPages":true,
         *    "Open":true,
         *    "ViewPages":true,
         *    "AddAndCustomizePages":true,
         *    "ApplyThemeAndBorder":true,
         *    "ApplyStyleSheets":true,
         *    "ViewUsageData":true,
         *    "CreateSSCSite":true,
         *    "ManageSubwebs":true,
         *    "CreateGroups":true,
         *    "ManagePermissions":true,
         *    "BrowseDirectories":true,
         *    "BrowseUserInfo":true,
         *    "AddDelPrivateWebParts":true,
         *    "UpdatePersonalWebParts":true,
         *    "ManageWeb":true,
         *    "UseRemoteAPIs":true,
         *    "ManageAlerts":true,
         *    "CreateAlerts":true,
         *    "EditMyUserInfo":true,
         *    "EnumeratePermissions":true,
         *    "FullMask":true
         * }
     * </pre>
     */
    function resolvePermissions(permissionsMask) {
        var permissionSet = {
            ViewListItems: (1 & permissionsMask) > 0,
            AddListItems: (2 & permissionsMask) > 0,
            EditListItems: (4 & permissionsMask) > 0,
            DeleteListItems: (8 & permissionsMask) > 0,
            ApproveItems: (16 & permissionsMask) > 0,
            OpenItems: (32 & permissionsMask) > 0,
            ViewVersions: (64 & permissionsMask) > 0,
            DeleteVersions: (128 & permissionsMask) > 0,
            CancelCheckout: (256 & permissionsMask) > 0,
            PersonalViews: (512 & permissionsMask) > 0,
            ManageLists: (2048 & permissionsMask) > 0,
            ViewFormPages: (4096 & permissionsMask) > 0,
            Open: (permissionsMask & 65536) > 0,
            ViewPages: (permissionsMask & 131072) > 0,
            AddAndCustomizePages: (permissionsMask & 262144) > 0,
            ApplyThemeAndBorder: (permissionsMask & 524288) > 0,
            ApplyStyleSheets: (1048576 & permissionsMask) > 0,
            ViewUsageData: (permissionsMask & 2097152) > 0,
            CreateSSCSite: (permissionsMask & 4194314) > 0,
            ManageSubwebs: (permissionsMask & 8388608) > 0,
            CreateGroups: (permissionsMask & 16777216) > 0,
            ManagePermissions: (permissionsMask & 33554432) > 0,
            BrowseDirectories: (permissionsMask & 67108864) > 0,
            BrowseUserInfo: (permissionsMask & 134217728) > 0,
            AddDelPrivateWebParts: (permissionsMask & 268435456) > 0,
            UpdatePersonalWebParts: (permissionsMask & 536870912) > 0,
            ManageWeb: (permissionsMask & 1073741824) > 0,
            UseRemoteAPIs: (permissionsMask & 137438953472) > 0,
            ManageAlerts: (permissionsMask & 274877906944) > 0,
            CreateAlerts: (permissionsMask & 549755813888) > 0,
            EditMyUserInfo: (permissionsMask & 1099511627776) > 0,
            EnumeratePermissions: (permissionsMask & 4611686018427387904) > 0,
            FullMask: (permissionsMask == 9223372036854775807)
        };
        /**
         * Full Mask only resolves correctly for the Full Mask level
         * so in that case, set everything to true
         */
        if (permissionSet.FullMask) {
            _.each(permissionSet, function (perm, key) {
                permissionSet[key] = true;
            });
        }
        return permissionSet;
    }
    /**
     * @ngdoc function
     * @name angularPoint.apUtilityService:convertEffectivePermMask
     * @methodOf angularPoint.apUtilityService
     * @description
     * GetListItemsSinceToken operation returns the list element with an EffectivePermMask attribute which is the
     * name of the PermissionMask.  We then need to convert the name into an actual mask so this function contains
     * the known permission names with their masks.  If a provided mask name is found, the cooresponding mask
     * is returned.  Otherwise returns null.  [MSDN Source](http://msdn.microsoft.com/en-us/library/jj575178(v=office.12).aspx)
     * @param {string} permMaskName Permission mask name.
     * @returns {string|null} Return the mask for the name.
     */
    function convertEffectivePermMask(permMaskName) {
        var permissionMask = null;
        var permissions = {
            //General
            EmptyMask: '0x0000000000000000',
            FullMask: '0x7FFFFFFFFFFFFFFF',
            //List and document permissions
            ViewListItems: '0x0000000000000001',
            AddListItems: '',
            EditListItems: '0x0000000000000004',
            DeleteListItems: '0x0000000000000008',
            ApproveItems: '0x0000000000000010',
            OpenItems: '0x0000000000000020',
            ViewVersions: '0x0000000000000040',
            DeleteVersions: '0x0000000000000080',
            CancelCheckout: '0x0000000000000100',
            ManagePersonalViews: '0x0000000000000200',
            ManageLists: '0x0000000000000800',
            ViewFormPages: '0x0000000000001000',
            //Web level permissions
            Open: '0x0000000000010000',
            ViewPages: '0x0000000000020000',
            AddAndCustomizePages: '0x0000000000040000',
            ApplyThemeAndBorder: '0x0000000000080000',
            ApplyStyleSheets: '0x0000000000100000',
            ViewUsageData: '0x0000000000200000',
            CreateSSCSite: '0x0000000000400000',
            ManageSubwebs: '0x0000000000800000',
            CreateGroups: '0x0000000001000000',
            ManagePermissions: '0x0000000002000000',
            BrowseDirectories: '0x0000000004000000',
            BrowseUserInfo: '0x0000000008000000',
            AddDelPrivateWebParts: '0x0000000010000000',
            UpdatePersonalWebParts: '0x0000000020000000',
            ManageWeb: '0x0000000040000000',
            UseClientIntegration: '0x0000001000000000',
            UseRemoteAPIs: '0x0000002000000000',
            ManageAlerts: '0x0000004000000000',
            CreateAlerts: '0x0000008000000000',
            EditMyUserInfo: '0x0000010000000000',
            //Special Permissions
            EnumeratePermissions: '0x4000000000000000'
        };
        if (permissions[permMaskName]) {
            permissionMask = permissions[permMaskName];
        }
        return permissionMask;
    }
    function toCamelCase(str) {
        return str.replace(/(?:^\w|[A-Z]|\b\w)/g, function (letter, index) {
            return index == 0 ? letter.toLowerCase() : letter.toUpperCase();
        }).replace(/\s+/g, '');
    }
    /**
     * @ngdoc function
     * @name angularPoint.apUtilityService:fromCamelCase
     * @methodOf angularPoint.apUtilityService
     * @param {string} str String to convert.
     * @description
     * Converts a camel case string into a space delimited string with each word having a capitalized first letter.
     * @returns {string} Humanized string.
     */
    function fromCamelCase(str) {
        // insert a space before all caps
        return str.replace(/([A-Z])/g, ' $1').replace(/^./, function (str) {
            return str.toUpperCase();
        });
    }
    // Split values like 1;#value into id and value
    var SplitIndex = (function () {
        function SplitIndex(str) {
            var spl = str.split(';#');
            this.id = parseInt(spl[0], 10);
            this.value = spl[1];
        }
        return SplitIndex;
    })();
    /**
     * @ngdoc function
     * @name angularPoint.apUtilityService:stringifyXML
     * @methodOf angularPoint.apUtilityService
     * @description Simple utility to convert an XML object into a string and remove unnecessary whitespace.
     * @param {object} xml XML object.
     * @returns {string} Stringified version of the XML object.
     */
    function stringifyXML(xml) {
        var str;
        if (_.isObject(xml)) {
            str = xmlToString(xml).replace(/\s+/g, ' ');
        }
        else if (_.isString(xml)) {
            str = xml;
        }
        return str;
    }
    function xmlToString(xmlData) {
        var xmlString;
        if (typeof XMLSerializer !== 'undefined') {
            /** Modern Browsers */
            xmlString = (new XMLSerializer()).serializeToString(xmlData);
        }
        else {
            /** Old versions of IE */
            xmlString = xmlData.xml;
        }
        return xmlString;
    }
    /**
     * @ngdoc function
     * @name angularPoint.apUtilityService:registerChange
     * @methodOf angularPoint.apUtilityService
     * @description
     * If online and sync is being used, notify all online users that a change has been made.
     * //Todo Break this functionality into FireBase module that can be used if desired.
     * @param {object} model event
     */
    function registerChange(model, changeType, listItemId) {
        /** Disabled this functionality until I can spend the necessary time to test */
        if (model.sync && _.isFunction(model.sync.registerChange)) {
            /** Register change after successful update */
            model.sync.registerChange(changeType, listItemId);
        }
    }
    /**
     * @ngdoc service
     * @name angularPoint.apUtilityService
     * @description
     * Provides shared utility functionality across the application.
     *
     * @requires angularPoint.apConfig
     */
    angular.module('angularPoint').service('apUtilityService', UtilityService);
})(ap || (ap = {}));

/// <reference path="../../typings/ap.d.ts" />
var ap;
(function (ap) {
    'use strict';
    var SCHEMASharePoint = "http://schemas.microsoft.com/sharepoint";
    var serviceDefinitions = {
        Alerts: {
            action: SCHEMASharePoint + '/soap/2002/1/alerts/',
            xmlns: SCHEMASharePoint + '/soap/2002/1/alerts/'
        },
        Meetings: {
            action: SCHEMASharePoint + '/soap/meetings/',
            xmlns: SCHEMASharePoint + '/soap/meetings/'
        },
        Permissions: {
            action: SCHEMASharePoint + '/soap/directory/',
            xmlns: SCHEMASharePoint + '/soap/directory/'
        },
        PublishedLinksService: {
            action: 'http://microsoft.com/webservices/SharePointPortalServer/PublishedLinksService/',
            xmlns: 'http://microsoft.com/webservices/SharePointPortalServer/PublishedLinksService/'
        },
        Search: {
            action: 'urn:Microsoft.Search/',
            xmlns: 'urn:Microsoft.Search'
        },
        SharePointDiagnostics: {
            action: 'http://schemas.microsoft.com/sharepoint/diagnostics/',
            xmlns: SCHEMASharePoint + '/diagnostics/'
        },
        SocialDataService: {
            action: 'http://microsoft.com/webservices/SharePointPortalServer/SocialDataService/',
            xmlns: 'http://microsoft.com/webservices/SharePointPortalServer/SocialDataService'
        },
        SpellCheck: {
            action: 'http://schemas.microsoft.com/sharepoint/publishing/spelling/SpellCheck',
            xmlns: 'http://schemas.microsoft.com/sharepoint/publishing/spelling/'
        },
        TaxonomyClientService: {
            action: SCHEMASharePoint + '/taxonomy/soap/',
            xmlns: SCHEMASharePoint + '/taxonomy/soap/'
        },
        usergroup: {
            action: SCHEMASharePoint + '/soap/directory/',
            xmlns: SCHEMASharePoint + '/soap/directory/'
        },
        UserProfileService: {
            action: 'http://microsoft.com/webservices/SharePointPortalServer/UserProfileService/',
            xmlns: 'http://microsoft.com/webservices/SharePointPortalServer/UserProfileService'
        },
        WebPartPages: {
            action: 'http://microsoft.com/sharepoint/webpartpages/',
            xmlns: 'http://microsoft.com/sharepoint/webpartpages'
        },
        Workflow: {
            action: SCHEMASharePoint + '/soap/workflow/',
            xmlns: SCHEMASharePoint + '/soap/workflow/'
        }
    };
    var WebServiceService = (function () {
        function WebServiceService() {
            this.webServices = [
                'Alerts',
                'Authentication',
                'Copy',
                'Forms',
                'Lists',
                'Meetings',
                'People',
                'Permissions',
                'PublishedLinksService',
                'Search',
                'SharePointDiagnostics',
                'SiteData',
                'Sites',
                'SocialDataService',
                'SpellCheck',
                'TaxonomyClientService',
                'usergroup',
                'UserProfileService',
                'Versions',
                'Views',
                'WebPartPages',
                'Webs',
                'Workflow'
            ];
        }
        WebServiceService.prototype.action = function (service) {
            return serviceDefinitions[service] ? serviceDefinitions[service].action : SCHEMASharePoint + '/soap/';
        };
        WebServiceService.prototype.xmlns = function (service) {
            return serviceDefinitions[service] ? serviceDefinitions[service].xmlns : SCHEMASharePoint + '/soap/';
        };
        return WebServiceService;
    })();
    ap.WebServiceService = WebServiceService;
    //  apWebServiceOperationConstants.OpName = [WebService, needs_SOAPAction];
    //      OpName              The name of the Web Service operation -> These names are unique
    //      WebService          The name of the WebService this operation belongs to
    //      needs_SOAPAction    Boolean indicating whether the operation needs to have the SOAPAction passed in the
    // setRequestHeaderfunction. true if the operation does a write, else false
    angular.module('angularPoint').service('apWebServiceService', WebServiceService);
})(ap || (ap = {}));

/// <reference path="../../typings/ap.d.ts" />
var ap;
(function (ap) {
    'use strict';
    var XMLToJSONService = (function () {
        function XMLToJSONService(apDecodeService) {
            this.apDecodeService = apDecodeService;
        }
        XMLToJSONService.prototype.parse = function (xmlNodeSet, options) {
            var _this = this;
            var defaults = {
                includeAllAttrs: false,
                mapping: {},
                removeOws: true,
                sparse: false // If true, empty ("") values will not be returned
            };
            var opts = _.extend({}, defaults, options);
            var jsonObjectArray = [];
            _.each(xmlNodeSet, function (node) {
                var row = {};
                var rowAttrs = node.attributes;
                if (!opts.sparse) {
                    // Bring back all mapped columns, even those with no value
                    _.each(opts.mapping, function (column) { return row[column.mappedName] = ''; });
                }
                _.each(rowAttrs, function (rowAttribute) {
                    var attributeName = rowAttribute.name;
                    var columnMapping = opts.mapping[attributeName];
                    var objectName = typeof columnMapping !== "undefined" ? columnMapping.mappedName : opts.removeOws ? attributeName.split("ows_")[1] : attributeName;
                    var objectType = typeof columnMapping !== "undefined" ? columnMapping.objectType : undefined;
                    if (opts.includeAllAttrs || columnMapping !== undefined) {
                        row[objectName] = _this.apDecodeService.parseStringValue(rowAttribute.value, objectType);
                    }
                });
                // Push this item into the JSON Object
                jsonObjectArray.push(row);
            });
            // Return the JSON object
            return jsonObjectArray;
        };
        return XMLToJSONService;
    })();
    ap.XMLToJSONService = XMLToJSONService;
    /**
     * @ngdoc service
     * @name angularPoint.apXMLToJSONService
     * @description
     * This function converts an XML node set into an array of JS objects.
     * This is essentially Marc Anderson's [SPServices](http://spservices.codeplex.com/) SPXmlTOJson function wrapped in
     * an Angular service to make it more modular and allow for testing.
     *
     */
    angular.module('angularPoint').service('apXMLToJSONService', XMLToJSONService);
})(ap || (ap = {}));

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9zY290dGhhdGNoZXIvZGV2L2FuZ3VsYXItcG9pbnQvYXBwLm1vZHVsZS50cyIsIi9Vc2Vycy9zY290dGhhdGNoZXIvZGV2L2FuZ3VsYXItcG9pbnQvY29uZmlnLnRzIiwiL1VzZXJzL3Njb3R0aGF0Y2hlci9kZXYvYW5ndWxhci1wb2ludC9jb25zdGFudHMvYXBDb25maWcudHMiLCIvVXNlcnMvc2NvdHRoYXRjaGVyL2Rldi9hbmd1bGFyLXBvaW50L2NvbnN0YW50cy9hcERlZmF1bHRGaWVsZHMudHMiLCIvVXNlcnMvc2NvdHRoYXRjaGVyL2Rldi9hbmd1bGFyLXBvaW50L2NvbnN0YW50cy9hcERlZmF1bHRMaXN0SXRlbVF1ZXJ5T3B0aW9ucy50cyIsIi9Vc2Vycy9zY290dGhhdGNoZXIvZGV2L2FuZ3VsYXItcG9pbnQvY29uc3RhbnRzL2FwVGhpcmRQYXJ0eUNvbnN0YW50cy50cyIsIi9Vc2Vycy9zY290dGhhdGNoZXIvZGV2L2FuZ3VsYXItcG9pbnQvY29uc3RhbnRzL2FwV2ViU2VydmljZU9wZXJhdGlvbkNvbnN0YW50cy50cyIsIi9Vc2Vycy9zY290dGhhdGNoZXIvZGV2L2FuZ3VsYXItcG9pbnQvY29uc3RhbnRzL2FwWE1MRmllbGRBdHRyaWJ1dGVUeXBlcy50cyIsIi9Vc2Vycy9zY290dGhhdGNoZXIvZGV2L2FuZ3VsYXItcG9pbnQvY29uc3RhbnRzL2FwWE1MTGlzdEF0dHJpYnV0ZVR5cGVzLnRzIiwiL1VzZXJzL3Njb3R0aGF0Y2hlci9kZXYvYW5ndWxhci1wb2ludC9mYWN0b3JpZXMvYXBDYW1sRmFjdG9yeS50cyIsIi9Vc2Vycy9zY290dGhhdGNoZXIvZGV2L2FuZ3VsYXItcG9pbnQvZmFjdG9yaWVzL2FwRmllbGRGYWN0b3J5LnRzIiwiL1VzZXJzL3Njb3R0aGF0Y2hlci9kZXYvYW5ndWxhci1wb2ludC9mYWN0b3JpZXMvYXBJbmRleGVkQ2FjaGVGYWN0b3J5LnRzIiwiL1VzZXJzL3Njb3R0aGF0Y2hlci9kZXYvYW5ndWxhci1wb2ludC9mYWN0b3JpZXMvYXBMaXN0RmFjdG9yeS50cyIsIi9Vc2Vycy9zY290dGhhdGNoZXIvZGV2L2FuZ3VsYXItcG9pbnQvZmFjdG9yaWVzL2FwTGlzdEl0ZW1GYWN0b3J5LnRzIiwiL1VzZXJzL3Njb3R0aGF0Y2hlci9kZXYvYW5ndWxhci1wb2ludC9mYWN0b3JpZXMvYXBMb29rdXBGYWN0b3J5LnRzIiwiL1VzZXJzL3Njb3R0aGF0Y2hlci9kZXYvYW5ndWxhci1wb2ludC9mYWN0b3JpZXMvYXBNb2RlbEZhY3RvcnkudHMiLCIvVXNlcnMvc2NvdHRoYXRjaGVyL2Rldi9hbmd1bGFyLXBvaW50L2ZhY3Rvcmllcy9hcFF1ZXJ5RmFjdG9yeS50cyIsIi9Vc2Vycy9zY290dGhhdGNoZXIvZGV2L2FuZ3VsYXItcG9pbnQvZmFjdG9yaWVzL2FwVXNlckZhY3RvcnkudHMiLCIvVXNlcnMvc2NvdHRoYXRjaGVyL2Rldi9hbmd1bGFyLXBvaW50L2ludGVyZmFjZXMvbWFpbi50cyIsIi9Vc2Vycy9zY290dGhhdGNoZXIvZGV2L2FuZ3VsYXItcG9pbnQvbW9kZWxzL2FwVXNlck1vZGVsLnRzIiwiL1VzZXJzL3Njb3R0aGF0Y2hlci9kZXYvYW5ndWxhci1wb2ludC9zZXJ2aWNlcy9hcENhY2hlU2VydmljZS50cyIsIi9Vc2Vycy9zY290dGhhdGNoZXIvZGV2L2FuZ3VsYXItcG9pbnQvc2VydmljZXMvYXBDaGFuZ2VTZXJ2aWNlLnRzIiwiL1VzZXJzL3Njb3R0aGF0Y2hlci9kZXYvYW5ndWxhci1wb2ludC9zZXJ2aWNlcy9hcERhdGFTZXJ2aWNlLnRzIiwiL1VzZXJzL3Njb3R0aGF0Y2hlci9kZXYvYW5ndWxhci1wb2ludC9zZXJ2aWNlcy9hcERlY29kZVNlcnZpY2UudHMiLCIvVXNlcnMvc2NvdHRoYXRjaGVyL2Rldi9hbmd1bGFyLXBvaW50L3NlcnZpY2VzL2FwRW5jb2RlU2VydmljZS50cyIsIi9Vc2Vycy9zY290dGhhdGNoZXIvZGV2L2FuZ3VsYXItcG9pbnQvc2VydmljZXMvYXBFeHBvcnRTZXJ2aWNlLnRzIiwiL1VzZXJzL3Njb3R0aGF0Y2hlci9kZXYvYW5ndWxhci1wb2ludC9zZXJ2aWNlcy9hcEZpZWxkU2VydmljZS50cyIsIi9Vc2Vycy9zY290dGhhdGNoZXIvZGV2L2FuZ3VsYXItcG9pbnQvc2VydmljZXMvYXBGb3JtYXR0ZWRGaWVsZFZhbHVlU2VydmljZS50cyIsIi9Vc2Vycy9zY290dGhhdGNoZXIvZGV2L2FuZ3VsYXItcG9pbnQvc2VydmljZXMvYXBTUFNlcnZpY2VzLnRzIiwiL1VzZXJzL3Njb3R0aGF0Y2hlci9kZXYvYW5ndWxhci1wb2ludC9zZXJ2aWNlcy9hcFV0aWxpdHlTZXJ2aWNlLnRzIiwiL1VzZXJzL3Njb3R0aGF0Y2hlci9kZXYvYW5ndWxhci1wb2ludC9zZXJ2aWNlcy9hcFdlYlNlcnZpY2VTZXJ2aWNlLnRzIiwiL1VzZXJzL3Njb3R0aGF0Y2hlci9kZXYvYW5ndWxhci1wb2ludC9zZXJ2aWNlcy9hcFhNTFRvSlNPTlNlcnZpY2UudHMiXSwibmFtZXMiOlsiYXAiLCJhcC5Db25maWciLCJhcC5DYW1sRmFjdG9yeSIsImFwLkNhbWxGYWN0b3J5LmNvbnN0cnVjdG9yIiwiYXAuQ2FtbEZhY3RvcnkuY2FtbENvbnRhaW5zUXVlcnkiLCJhcC5DYW1sRmFjdG9yeS5jaGFpbkNhbWxTZWxlY3RzIiwiYXAuQ2FtbEZhY3RvcnkuY3JlYXRlQ2FtbENvbnRhaW5zU2VsZWN0b3IiLCJhcC5GaWVsZCIsImFwLkZpZWxkLmNvbnN0cnVjdG9yIiwiYXAuRmllbGQuZ2V0RGVmaW5pdGlvbiIsImFwLkZpZWxkLmdldERlZmF1bHRWYWx1ZUZvclR5cGUiLCJhcC5GaWVsZC5nZXRNb2NrRGF0YSIsImFwLkZpZWxkRmFjdG9yeSIsImFwLkZpZWxkRmFjdG9yeS5jb25zdHJ1Y3RvciIsImFwLkluZGV4ZWRDYWNoZSIsImFwLkluZGV4ZWRDYWNoZS5jb25zdHJ1Y3RvciIsImFwLkluZGV4ZWRDYWNoZS5hZGRFbnRpdHkiLCJhcC5JbmRleGVkQ2FjaGUuY2xlYXIiLCJhcC5JbmRleGVkQ2FjaGUuY291bnQiLCJhcC5JbmRleGVkQ2FjaGUuZmlyc3QiLCJhcC5JbmRleGVkQ2FjaGUua2V5cyIsImFwLkluZGV4ZWRDYWNoZS5sYXN0IiwiYXAuSW5kZXhlZENhY2hlLm50aEVudGl0eSIsImFwLkluZGV4ZWRDYWNoZS5yZW1vdmVFbnRpdHkiLCJhcC5JbmRleGVkQ2FjaGUudG9BcnJheSIsImFwLkluZGV4ZWRDYWNoZUZhY3RvcnkiLCJhcC5JbmRleGVkQ2FjaGVGYWN0b3J5LmNvbnN0cnVjdG9yIiwiYXAuSW5kZXhlZENhY2hlRmFjdG9yeS5jcmVhdGUiLCJhcC5MaXN0IiwiYXAuTGlzdC5jb25zdHJ1Y3RvciIsImFwLkxpc3QuZXh0ZW5kRmllbGREZWZpbml0aW9ucyIsImFwLkxpc3QuZ2V0TGlzdElkIiwiYXAuTGlzdC5pZGVudGlmeVdlYlVSTCIsImFwLkxpc3RGYWN0b3J5IiwiYXAuTGlzdEZhY3RvcnkuY29uc3RydWN0b3IiLCJhcC5MaXN0RmFjdG9yeS5jcmVhdGUiLCJhcC5MaXN0SXRlbSIsImFwLkxpc3RJdGVtLmNvbnN0cnVjdG9yIiwiYXAuTGlzdEl0ZW0uc2F2ZUNoYW5nZXMiLCJhcC5MaXN0SXRlbS5zYXZlRmllbGRzIiwiYXAuTGlzdEl0ZW0uZGVsZXRlSXRlbSIsImFwLkxpc3RJdGVtLmdldExvb2t1cFJlZmVyZW5jZSIsImFwLkxpc3RJdGVtLmdldEZvcm1hdHRlZFZhbHVlIiwiYXAuTGlzdEl0ZW0udmFsaWRhdGVFbnRpdHkiLCJhcC5MaXN0SXRlbS5nZXRGaWVsZERlZmluaXRpb24iLCJhcC5MaXN0SXRlbS5nZXRGaWVsZExhYmVsIiwiYXAuTGlzdEl0ZW0uZ2V0RmllbGREZXNjcmlwdGlvbiIsImFwLkxpc3RJdGVtLmdldEZpZWxkQ2hvaWNlcyIsImFwLkxpc3RJdGVtLmdldEF2YWlsYWJsZVdvcmtmbG93cyIsImFwLkxpc3RJdGVtLmdldExpc3RJZCIsImFwLkxpc3RJdGVtLmdldExpc3QiLCJhcC5MaXN0SXRlbS5zdGFydFdvcmtmbG93IiwiYXAuTGlzdEl0ZW0uc3RhcnRXb3JrZmxvdy5pbml0aWF0ZVJlcXVlc3QiLCJhcC5MaXN0SXRlbS5nZXRBdHRhY2htZW50Q29sbGVjdGlvbiIsImFwLkxpc3RJdGVtLmRlbGV0ZUF0dGFjaG1lbnQiLCJhcC5MaXN0SXRlbS5yZXNvbHZlUGVybWlzc2lvbnMiLCJhcC5MaXN0SXRlbS5nZXRGaWVsZFZlcnNpb25IaXN0b3J5IiwiYXAuU3RhbmRhcmRMaXN0SXRlbSIsImFwLlN0YW5kYXJkTGlzdEl0ZW0uY29uc3RydWN0b3IiLCJhcC5MaXN0SXRlbUZhY3RvcnkiLCJhcC5MaXN0SXRlbUZhY3RvcnkuY29uc3RydWN0b3IiLCJhcC5MaXN0SXRlbUZhY3RvcnkuY3JlYXRlIiwiYXAuTGlzdEl0ZW1GYWN0b3J5LmNyZWF0ZUdlbmVyaWNGYWN0b3J5IiwiYXAuTG9va3VwIiwiYXAuTG9va3VwLmNvbnN0cnVjdG9yIiwiYXAuTG9va3VwRmFjdG9yeSIsImFwLkxvb2t1cEZhY3RvcnkuY29uc3RydWN0b3IiLCJhcC5Mb29rdXBGYWN0b3J5LmNyZWF0ZSIsImFwLk1vZGVsIiwiYXAuTW9kZWwuY29uc3RydWN0b3IiLCJhcC5Nb2RlbC5nZXRNb2RlbCIsImFwLk1vZGVsLmdldExpc3RJZCIsImFwLk1vZGVsLmdldExpc3QiLCJhcC5Nb2RlbC5hZGROZXdJdGVtIiwiYXAuTW9kZWwuY3JlYXRlRW1wdHlJdGVtIiwiYXAuTW9kZWwuZXhlY3V0ZVF1ZXJ5IiwiYXAuTW9kZWwuZXh0ZW5kTGlzdE1ldGFkYXRhIiwiYXAuTW9kZWwuZ2VuZXJhdGVNb2NrRGF0YSIsImFwLk1vZGVsLmdldEFsbExpc3RJdGVtcyIsImFwLk1vZGVsLmdldENhY2hlIiwiYXAuTW9kZWwuZ2V0Q2FjaGVkRW50aXR5IiwiYXAuTW9kZWwuZ2V0Q2FjaGVkRW50aXRpZXMiLCJhcC5Nb2RlbC5nZXRGaWVsZERlZmluaXRpb24iLCJhcC5Nb2RlbC5nZXRMaXN0SXRlbUJ5SWQiLCJhcC5Nb2RlbC5nZXRRdWVyeSIsImFwLk1vZGVsLnJlc29sdmVQZXJtaXNzaW9ucyIsImFwLk1vZGVsLmlzSW5pdGlhbGlzZWQiLCJhcC5Nb2RlbC5yZWdpc3RlclF1ZXJ5IiwiYXAuTW9kZWwudmFsaWRhdGVFbnRpdHkiLCJhcC5Nb2RlbEZhY3RvcnkiLCJhcC5Nb2RlbEZhY3RvcnkuY29uc3RydWN0b3IiLCJhcC5Nb2RlbEZhY3RvcnkuY3JlYXRlIiwiYXAuUXVlcnkiLCJhcC5RdWVyeS5jb25zdHJ1Y3RvciIsImFwLlF1ZXJ5LmV4ZWN1dGUiLCJhcC5RdWVyeS5nZXRDYWNoZSIsImFwLlF1ZXJ5RmFjdG9yeSIsImFwLlF1ZXJ5RmFjdG9yeS5jb25zdHJ1Y3RvciIsImFwLlF1ZXJ5RmFjdG9yeS5jcmVhdGUiLCJhcC5Vc2VyIiwiYXAuVXNlci5jb25zdHJ1Y3RvciIsImFwLlVzZXJGYWN0b3J5IiwiYXAuVXNlckZhY3RvcnkuY29uc3RydWN0b3IiLCJhcC5Vc2VyRmFjdG9yeS5jcmVhdGUiLCJhcC5Vc2VyTW9kZWwiLCJhcC5Vc2VyTW9kZWwuY29uc3RydWN0b3IiLCJhcC5Vc2VyTW9kZWwuY2hlY2tJZk1lbWJlciIsImFwLlVzZXJNb2RlbC5nZXRHcm91cENvbGxlY3Rpb24iLCJhcC5Vc2VyTW9kZWwuZ2V0VXNlclByb2ZpbGUiLCJhcC5FbnRpdHlDb250YWluZXIiLCJhcC5FbnRpdHlDb250YWluZXIuY29uc3RydWN0b3IiLCJhcC5FbnRpdHlDb250YWluZXIuZ2V0RW50aXR5IiwiYXAuRW50aXR5Q29udGFpbmVyLnJlbW92ZUVudGl0eSIsImFwLk1vZGVsQ2FjaGUiLCJhcC5Nb2RlbENhY2hlLmNvbnN0cnVjdG9yIiwiYXAuQ2FjaGVTZXJ2aWNlIiwiYXAuQ2FjaGVTZXJ2aWNlLmNvbnN0cnVjdG9yIiwiYXAuQ2FjaGVTZXJ2aWNlLmRlbGV0ZUVudGl0eSIsImFwLkNhY2hlU2VydmljZS5nZXRDYWNoZWRFbnRpdGllcyIsImFwLkNhY2hlU2VydmljZS5nZXRDYWNoZWRFbnRpdHkiLCJhcC5DYWNoZVNlcnZpY2UuZ2V0RW50aXR5IiwiYXAuQ2FjaGVTZXJ2aWNlLmdldEVudGl0eUNvbnRhaW5lciIsImFwLkNhY2hlU2VydmljZS5nZXRMaXN0SWQiLCJhcC5DYWNoZVNlcnZpY2UuZ2V0TGlzdElkRnJvbUxpc3ROYW1lIiwiYXAuQ2FjaGVTZXJ2aWNlLmdldE1vZGVsIiwiYXAuQ2FjaGVTZXJ2aWNlLmdldE1vZGVsQ2FjaGUiLCJhcC5DYWNoZVNlcnZpY2UucmVnaXN0ZXJFbnRpdHkiLCJhcC5DYWNoZVNlcnZpY2UucmVnaXN0ZXJNb2RlbCIsImFwLkNhY2hlU2VydmljZS5yZW1vdmVFbnRpdHkiLCJhcC5DaGFuZ2VTZXJ2aWNlIiwiYXAuQ2hhbmdlU2VydmljZS5jb25zdHJ1Y3RvciIsImFwLkNoYW5nZVNlcnZpY2UucmVnaXN0ZXJMaXN0SXRlbVVwZGF0ZSIsImFwLkNoYW5nZVNlcnZpY2Uuc3Vic2NyaWJlVG9VcGRhdGVzIiwiYXAuRGF0YVNlcnZpY2UiLCJhcC5EYXRhU2VydmljZS5jb25zdHJ1Y3RvciIsImFwLkRhdGFTZXJ2aWNlLmNyZWF0ZUxpc3RJdGVtIiwiYXAuRGF0YVNlcnZpY2UuY3JlYXRlSXRlbVVybEZyb21GaWxlUmVmIiwiYXAuRGF0YVNlcnZpY2UuZGVsZXRlQXR0YWNobWVudCIsImFwLkRhdGFTZXJ2aWNlLmRlbGV0ZUxpc3RJdGVtIiwiYXAuRGF0YVNlcnZpY2UuZXhlY3V0ZVF1ZXJ5IiwiYXAuRGF0YVNlcnZpY2UuZ2VuZXJhdGVXZWJTZXJ2aWNlVXJsIiwiYXAuRGF0YVNlcnZpY2UuZ2V0QXZhaWxhYmxlV29ya2Zsb3dzIiwiYXAuRGF0YVNlcnZpY2UuZ2V0Q29sbGVjdGlvbiIsImFwLkRhdGFTZXJ2aWNlLmdldENvbGxlY3Rpb24ucHJvY2Vzc1hNTCIsImFwLkRhdGFTZXJ2aWNlLmdldEN1cnJlbnRTaXRlIiwiYXAuRGF0YVNlcnZpY2UuZ2V0RmllbGRWZXJzaW9uSGlzdG9yeSIsImFwLkRhdGFTZXJ2aWNlLmdldEdyb3VwQ29sbGVjdGlvbkZyb21Vc2VyIiwiYXAuRGF0YVNlcnZpY2UuZ2V0TGlzdCIsImFwLkRhdGFTZXJ2aWNlLmdldExpc3RGaWVsZHMiLCJhcC5EYXRhU2VydmljZS5nZXRVc2VyUHJvZmlsZUJ5TmFtZSIsImFwLkRhdGFTZXJ2aWNlLnByb2Nlc3NDaGFuZ2VUb2tlblhNTCIsImFwLkRhdGFTZXJ2aWNlLnByb2Nlc3NEZWxldGlvbnNTaW5jZVRva2VuIiwiYXAuRGF0YVNlcnZpY2UucmVxdWVzdERhdGEiLCJhcC5EYXRhU2VydmljZS5yZXRyaWV2ZUNoYW5nZVRva2VuIiwiYXAuRGF0YVNlcnZpY2UucmV0cmlldmVQZXJtTWFzayIsImFwLkRhdGFTZXJ2aWNlLnNlcnZpY2VXcmFwcGVyIiwiYXAuRGF0YVNlcnZpY2Uuc2VydmljZVdyYXBwZXIucHJvY2Vzc1hNTCIsImFwLkRhdGFTZXJ2aWNlLnN0YXJ0V29ya2Zsb3ciLCJhcC5EYXRhU2VydmljZS51cGRhdGVMaXN0SXRlbSIsImFwLkRhdGFTZXJ2aWNlLnZhbGlkYXRlQ29sbGVjdGlvblBheWxvYWQiLCJhcC5EZWNvZGVTZXJ2aWNlIiwiYXAuRGVjb2RlU2VydmljZS5jb25zdHJ1Y3RvciIsImFwLkRlY29kZVNlcnZpY2UuY2hlY2tSZXNwb25zZUZvckVycm9ycyIsImFwLkRlY29kZVNlcnZpY2UuY29udmVydFVUQ0RhdGVUb0xvY2FsRGF0ZSIsImFwLkRlY29kZVNlcnZpY2UuY3JlYXRlTGlzdEl0ZW1Qcm92aWRlciIsImFwLkRlY29kZVNlcnZpY2UuZXh0ZW5kRmllbGREZWZpbml0aW9uc0Zyb21YTUwiLCJhcC5EZWNvZGVTZXJ2aWNlLmV4dGVuZExpc3REZWZpbml0aW9uRnJvbVhNTCIsImFwLkRlY29kZVNlcnZpY2UuZXh0ZW5kTGlzdE1ldGFkYXRhIiwiYXAuRGVjb2RlU2VydmljZS5leHRlbmRPYmplY3RXaXRoWE1MQXR0cmlidXRlcyIsImFwLkRlY29kZVNlcnZpY2UuanNBdHRhY2htZW50cyIsImFwLkRlY29kZVNlcnZpY2UuanNCb29sZWFuIiwiYXAuRGVjb2RlU2VydmljZS5qc0NhbGMiLCJhcC5EZWNvZGVTZXJ2aWNlLmpzQ2hvaWNlTXVsdGkiLCJhcC5EZWNvZGVTZXJ2aWNlLmpzRGF0ZSIsImFwLkRlY29kZVNlcnZpY2UuanNGbG9hdCIsImFwLkRlY29kZVNlcnZpY2UuanNJbnQiLCJhcC5EZWNvZGVTZXJ2aWNlLmpzTG9va3VwIiwiYXAuRGVjb2RlU2VydmljZS5qc0xvb2t1cE11bHRpIiwiYXAuRGVjb2RlU2VydmljZS5qc09iamVjdCIsImFwLkRlY29kZVNlcnZpY2UuanNTdHJpbmciLCJhcC5EZWNvZGVTZXJ2aWNlLmpzVXNlciIsImFwLkRlY29kZVNlcnZpY2UuanNVc2VyTXVsdGkiLCJhcC5EZWNvZGVTZXJ2aWNlLnBhcnNlRmllbGRWZXJzaW9ucyIsImFwLkRlY29kZVNlcnZpY2UucGFyc2VTdHJpbmdWYWx1ZSIsImFwLkRlY29kZVNlcnZpY2UucGFyc2VYTUxFbnRpdHkiLCJhcC5EZWNvZGVTZXJ2aWNlLnByb2Nlc3NMaXN0SXRlbXMiLCJhcC5EZWNvZGVTZXJ2aWNlLnhtbFRvSnNvbiIsImFwLkVuY29kZVNlcnZpY2UiLCJhcC5FbmNvZGVTZXJ2aWNlLmNvbnN0cnVjdG9yIiwiYXAuRW5jb2RlU2VydmljZS5jaG9pY2VNdWx0aVRvU3RyaW5nIiwiYXAuRW5jb2RlU2VydmljZS5jcmVhdGVWYWx1ZVBhaXIiLCJhcC5FbmNvZGVTZXJ2aWNlLmVuY29kZVZhbHVlIiwiYXAuRW5jb2RlU2VydmljZS5nZW5lcmF0ZVZhbHVlUGFpcnMiLCJhcC5FbmNvZGVTZXJ2aWNlLnN0cmluZ2lmeVNoYXJlUG9pbnREYXRlIiwiYXAuRW5jb2RlU2VydmljZS5zdHJpbmdpZnlTaGFyZVBvaW50TXVsdGlTZWxlY3QiLCJhcC5FeHBvcnRTZXJ2aWNlIiwiYXAuRXhwb3J0U2VydmljZS5jb25zdHJ1Y3RvciIsImFwLkV4cG9ydFNlcnZpY2UuZ2VuZXJhdGVDU1YiLCJhcC5FeHBvcnRTZXJ2aWNlLnJlcGxhY2VXb3JkQ2hhcnMiLCJhcC5FeHBvcnRTZXJ2aWNlLnNhdmVDU1YiLCJhcC5FeHBvcnRTZXJ2aWNlLnNhdmVGaWxlIiwiYXAuRXhwb3J0U2VydmljZS5zYXZlSlNPTiIsImFwLkV4cG9ydFNlcnZpY2Uuc2F2ZVhNTCIsImFwLkZpZWxkU2VydmljZSIsImFwLkZpZWxkU2VydmljZS5jb25zdHJ1Y3RvciIsImFwLmdldEZpZWxkVHlwZXMiLCJhcC5nZXRVbmlxdWVDb3VudGVyIiwiYXAucmFuZG9tQm9vbGVhbiIsImFwLnJhbmRvbUNhbGMiLCJhcC5yYW5kb21TdHJpbmciLCJhcC5yYW5kb21TdHJpbmdBcnJheSIsImFwLnJhbmRvbVBhcmFncmFwaCIsImFwLnJhbmRvbUN1cnJlbmN5IiwiYXAucmFuZG9tRGF0ZSIsImFwLnJhbmRvbUludGVnZXIiLCJhcC5yZXNvbHZlVmFsdWVGb3JFZmZlY3RpdmVQZXJtTWFzayIsImFwLm1vY2tQZXJtTWFzayIsImFwLnJhbmRvbUxvb2t1cCIsImFwLnJhbmRvbVVzZXIiLCJhcC5yYW5kb21Mb29rdXBNdWx0aSIsImFwLnJhbmRvbVVzZXJNdWx0aSIsImFwLmdldERlZmluaXRpb24iLCJhcC5nZXREZWZhdWx0VmFsdWVGb3JUeXBlIiwiYXAuZ2V0TW9ja0RhdGEiLCJhcC5Gb3JtYXR0ZWRGaWVsZFZhbHVlU2VydmljZSIsImFwLkZvcm1hdHRlZEZpZWxkVmFsdWVTZXJ2aWNlLmNvbnN0cnVjdG9yIiwiYXAuZ2V0Rm9ybWF0dGVkRmllbGRWYWx1ZSIsImFwLnN0cmluZ2lmeUNhbGMiLCJhcC5zdHJpbmdpZnlOdW1iZXIiLCJhcC5zdHJpbmdpZnlDdXJyZW5jeSIsImFwLnN0cmluZ2lmeUxvb2t1cCIsImFwLnN0cmluZ2lmeUJvb2xlYW4iLCJhcC5zdHJpbmdpZnlEYXRlIiwiYXAuc3RyaW5naWZ5TXVsdGlDaG9pY2UiLCJhcC5zdHJpbmdpZnlNdWx0aUxvb2t1cCIsImFwLlNlcnZpY2UiLCJhcC5TZXJ2aWNlLlNPQVBFbnZlbG9wZSIsImFwLlNlcnZpY2UuZ2VuZXJhdGVYTUxDb21wb25lbnRzIiwiYXAuU2VydmljZS5nZW5lcmF0ZVhNTENvbXBvbmVudHMuYWRkVG9QYXlsb2FkIiwiYXAuU2VydmljZS5nZW5lcmF0ZVhNTENvbXBvbmVudHMuc2l0ZURhdGFGaXhTT0FQRW52ZWxvcGUiLCJhcC5TZXJ2aWNlLndyYXBOb2RlIiwiYXAuU2VydmljZS5maWxlTmFtZSIsImFwLlNlcnZpY2UuZW5jb2RlWG1sIiwiYXAuU2VydmljZS5lc2NhcGVDb2x1bW5WYWx1ZSIsImFwLlNlcnZpY2UuZXJyQm94IiwiYXAuVXRpbGl0eVNlcnZpY2UiLCJhcC5VdGlsaXR5U2VydmljZS5jb25zdHJ1Y3RvciIsImFwLmRvdWJsZURpZ2l0IiwiYXAueXl5eW1tZGQiLCJhcC5kYXRlV2l0aGluUmFuZ2UiLCJhcC5iYXRjaFByb2Nlc3MiLCJhcC5iYXRjaFByb2Nlc3MuY2h1bmtUaW1lciIsImFwLnJlc29sdmVQZXJtaXNzaW9ucyIsImFwLmNvbnZlcnRFZmZlY3RpdmVQZXJtTWFzayIsImFwLnRvQ2FtZWxDYXNlIiwiYXAuZnJvbUNhbWVsQ2FzZSIsImFwLlNwbGl0SW5kZXgiLCJhcC5TcGxpdEluZGV4LmNvbnN0cnVjdG9yIiwiYXAuc3RyaW5naWZ5WE1MIiwiYXAueG1sVG9TdHJpbmciLCJhcC5yZWdpc3RlckNoYW5nZSIsImFwLldlYlNlcnZpY2VTZXJ2aWNlIiwiYXAuV2ViU2VydmljZVNlcnZpY2UuY29uc3RydWN0b3IiLCJhcC5XZWJTZXJ2aWNlU2VydmljZS5hY3Rpb24iLCJhcC5XZWJTZXJ2aWNlU2VydmljZS54bWxucyIsImFwLlhNTFRvSlNPTlNlcnZpY2UiLCJhcC5YTUxUb0pTT05TZXJ2aWNlLmNvbnN0cnVjdG9yIiwiYXAuWE1MVG9KU09OU2VydmljZS5wYXJzZSJdLCJtYXBwaW5ncyI6IkFBQUEsMkNBQTJDO0FBRTNDLElBQU8sRUFBRSxDQWlDUjtBQWpDRCxXQUFPLEVBQUUsRUFBQyxDQUFDO0lBQ1BBLFlBQVlBLENBQUNBO0lBSWJBLElBQUFBLENBQUNBO1FBQ0dBLE9BQU9BLENBQUNBLE1BQU1BLENBQUNBLFFBQVFBLENBQUNBLENBQUNBO0lBQzdCQSxDQUNBQTtJQUFBQSxLQUFLQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUNQQSxBQUNBQSxr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QUFVQSxFQUFFQSxTQUFTQSxFQUFFQSxVQUFVQSxFQUFFQSxJQUFJQSxFQUFFQSxRQUFRQSxFQUFFQSxJQUFJQSxFQUFDQTtRQUMzRUEsRUFBQ0EsVUFBVUEsRUFBRUEsVUFBVUEsRUFBRUEsVUFBVUEsRUFBRUEsVUFBVUEsRUFBRUEsVUFBVUEsRUFBRUEsVUFBVUEsRUFBRUEsUUFBUUEsRUFBRUEsSUFBSUEsRUFBQ0E7UUFDeEZBLEVBQUNBLFVBQVVBLEVBQUVBLFNBQVNBLEVBQUVBLFVBQVVBLEVBQUVBLFVBQVVBLEVBQUVBLFVBQVVBLEVBQUVBLFNBQVNBLEVBQUVBLFFBQVFBLEVBQUVBLElBQUlBLEVBQUNBO1FBQ3RGQSxFQUFDQSxVQUFVQSxFQUFFQSxRQUFRQSxFQUFFQSxVQUFVQSxFQUFFQSxNQUFNQSxFQUFFQSxVQUFVQSxFQUFFQSxRQUFRQSxFQUFFQSxRQUFRQSxFQUFFQSxJQUFJQSxFQUFDQTtRQUNoRkEsRUFBQ0EsVUFBVUEsRUFBRUEsUUFBUUEsRUFBRUEsVUFBVUEsRUFBRUEsTUFBTUEsRUFBRUEsVUFBVUEsRUFBRUEsUUFBUUEsRUFBRUEsUUFBUUEsRUFBRUEsSUFBSUEsRUFBQ0E7UUFDaEZBLEVBQUNBLFVBQVVBLEVBQUVBLFVBQVVBLEVBQUVBLFVBQVVBLEVBQUVBLE1BQU1BLEVBQUVBLFVBQVVBLEVBQUVBLFVBQVVBLEVBQUVBLFFBQVFBLEVBQUVBLElBQUlBLEVBQUNBO1FBQ3BGQSxFQUFDQSxVQUFVQSxFQUFFQSxVQUFVQSxFQUFFQSxVQUFVQSxFQUFFQSxRQUFRQSxFQUFFQSxVQUFVQSxFQUFFQSxVQUFVQSxFQUFFQSxRQUFRQSxFQUFFQSxJQUFJQSxFQUFDQTtRQUN0RkEsRUFBQ0EsVUFBVUEsRUFBRUEsU0FBU0EsRUFBRUEsVUFBVUEsRUFBRUEsUUFBUUEsRUFBRUEsVUFBVUEsRUFBRUEsU0FBU0EsRUFBRUEsUUFBUUEsRUFBRUEsSUFBSUEsRUFBQ0E7S0FDdkZBLENBQUNBO0lBRUZBLEFBTUFBOzs7OztPQURHQTtJQUNIQSxPQUFPQSxDQUNGQSxNQUFNQSxDQUFDQSxj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QSxFQUFFQSxVQUFVQTthQUMxQkE7WUFDREEsTUFBTUEsRUFBRUE7Z0JBQ0pBLFlBQVlBLEVBQUVBLEVBQUVBO2dCQUNoQkEsVUFBVUEsRUFBRUEsV0FBV0E7Z0JBQ3ZCQSxXQUFXQSxFQUFFQSxZQUFZQTthQUM1QkE7WUFDREEsT0FBT0EsRUFBRUE7Z0JBQ0xBLFlBQVlBLEVBQUVBLElBQUlBO2dCQUNsQkEsVUFBVUEsRUFBRUEsZ0JBQWdCQSxFQUFFQTtnQkFDOUJBLFdBQVdBLEVBQUVBLGdCQUFnQkE7YUFDaENBO1lBQ0RBLFFBQVFBLEVBQUVBO2dCQUNOQSxZQUFZQSxFQUFFQSxJQUFJQTtnQkFDbEJBLFVBQVVBLEVBQUVBLE1BQU1BO2dCQUNsQkEsV0FBV0EsRUFBRUEsY0FBY0E7YUFDOUJBO1lBQ0RBLFFBQVFBLEVBQUVBO2dCQUNOQSxZQUFZQSxFQUFFQSxJQUFJQTtnQkFDbEJBLFVBQVVBLEVBQUVBLElBQUlBLElBQUlBLENBQUNBLElBQUlBLEVBQUVBLENBQUNBLEVBQUVBLENBQUNBLEVBQUVBLEVBQUVBLEVBQUVBLEVBQUVBLEVBQUVBLEVBQUVBLENBQUNBO2dCQUM1Q0EsV0FBV0EsRUFBRUEsVUFBVUE7YUFDMUJBO1lBQ0RBLE9BQU9BLEVBQUVBO2dCQUNMQSxZQUFZQSxFQUFFQSxJQUFJQTtnQkFDbEJBLFVBQVVBLEVBQUVBLEVBQUVBO2dCQUNkQSxXQUFXQSxFQUFFQSxhQUFhQTthQUM3QkE7WUFDREEsSUFBSUEsRUFBRUE7Z0JBQ0ZBLFlBQVlBLEVBQUVBLEVBQUVBO2dCQUNoQkEsVUFBVUEsRUFBRUE7b0JBQ1JBLEVBQUNBLEVBQUVBLEVBQUVBLENBQUNBLEVBQUVBLEtBQUtBLEVBQUVBLE1BQU1BLEVBQUNBO29CQUN0QkEsRUFBQ0EsRUFBRUEsRUFBRUEsQ0FBQ0EsRUFBQ0E7aUJBQ1ZBO2dCQUNEQSxXQUFXQSxFQUFFQSxZQUFZQTthQUM1QkE7WUFDREEsTUFBTUEsRUFBRUE7Z0JBQ0pBLFlBQVlBLEVBQUVBLEVBQUVBO2dCQUNoQkEsVUFBVUEsRUFBRUEsRUFBQ0EsUUFBUUEs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QUFDQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFHQSxhQUFhQSxDQUFDQTtvQkFDbkpBLElBQUlBLFVBQVVBLEdBQUdBLE9BQU9BLGFBQWFBLEtBQUtBLFdBQVdBLEdBQUdBLGFBQWFBLENBQUNBLFVBQVVBLEdBQUdBLFNBQVNBLENBQUNBO29CQUM3RkEsRUFBRUEsQ0FBQ0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsZUFBZUEsSUFBSUEsYUFBYUEsS0FBS0EsU0FBU0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7d0JBQ3REQSxHQUFHQSxDQUFDQSxVQUFVQSxDQUFDQSxHQUFHQSxLQUFJQSxDQUFDQSxlQUFlQSxDQUFDQSxnQkFBZ0JBLENBQUNBLFlBQVlBLENBQUNBLEtBQUtBLEVBQUVBLFVBQVVBLENBQUNBLENBQUNBO29CQUM1RkEsQ0FBQ0E7Z0JBQ0xBLENBQUNBLENBQUNBLENBQUNBO2dCQUVIQSxBQUNBQSxzQ0FEc0NBO2dCQUN0Q0EsZUFBZUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsR0FBR0EsQ0FBQ0EsQ0FBQ0E7WUFDOUJBLENBQUNBLENBQUNBLENBQUNBO1lBRUhBLEFBQ0FBLHlCQUR5QkE7WUFDekJBLE1BQU1BLENBQUNBLGVBQWVBLENBQUNBO1FBRTNCQSxDQUFDQTtRQUNMRix1QkFBQ0E7SUFBREEsQ0EzQ0F6USxBQTJDQ3lRLElBQUF6UTtJQTNDWUEsbUJBQWdCQSxHQUFoQkEsZ0JBMkNaQSxDQUFBQTtJQUVEQSxBQVNBQTs7Ozs7Ozs7T0FER0E7SUFDSEEsT0FBT0EsQ0FBQ0EsTUFBTUEsQ0FBQ0EsY0FBY0EsQ0FBQ0EsQ0FDekJBLE9BQU9BLENBQUNBLG9CQUFvQkEsRUFBRUEsZ0JBQWdCQSxDQUFDQSxDQUFDQTtBQUd6REEsQ0FBQ0EsRUE3RE0sRUFBRSxLQUFGLEVBQUUsUUE2RFIiLCJmaWxlIjoiYW5ndWxhci1wb2ludC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi90eXBpbmdzL2FwLmQudHNcIiAvPlxuXG5tb2R1bGUgYXAge1xuICAgICd1c2Ugc3RyaWN0JztcblxuLy9UT0RPOiBSZW1vdmUgZGVwZW5kZW5jeSBvbiB0b2FzdHJcbiAgICAvKiogQ2hlY2sgdG8gc2VlIGlmIGRlcGVuZGVudCBtb2R1bGVzIGV4aXN0ICovXG4gICAgdHJ5IHtcbiAgICAgICAgYW5ndWxhci5tb2R1bGUoJ3RvYXN0cicpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICAvKiogVG9hc3RyIHdhc24ndCBmb3VuZCBzbyByZWRpcmVjdCBhbGwgdG9hc3RyIHJlcXVlc3RzIHRvICRsb2cgKi9cbiAgICAgICAgYW5ndWxhci5tb2R1bGUoJ3RvYXN0cicsIFtdKVxuICAgICAgICAgICAgLmZhY3RvcnkoJ3RvYXN0cicsIGZ1bmN0aW9uICgkbG9nKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I6ICRsb2cuZXJyb3IsXG4gICAgICAgICAgICAgICAgICAgIGluZm86ICRsb2cuaW5mbyxcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogJGxvZy5pbmZvLFxuICAgICAgICAgICAgICAgICAgICB3YXJuaW5nOiAkbG9nLndhcm5cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG92ZXJ2aWV3XG4gICAgICogQG1vZHVsZVxuICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludFxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFRoaXMgaXMgdGhlIHByaW1hcnkgYW5ndWxhclBvaW50IG1vZHVsZSBhbmQgbmVlZHMgdG8gYmUgbGlzdGVkIGluIHlvdXIgYXBwLmpzIGRlcGVuZGVuY2llcyB0byBnYWluIHVzZSBvZiBBbmd1bGFyUG9pbnRcbiAgICAgKiBmdW5jdGlvbmFsaXR5IGluIHlvdXIgcHJvamVjdC5cbiAgICAgKiBAaW5zdGFsbE1vZHVsZVxuICAgICAqL1xuICAgIGFuZ3VsYXIubW9kdWxlKCdhbmd1bGFyUG9pbnQnLCBbXG4gICAgICAgICd0b2FzdHInXG4gICAgXSk7XG59XG4iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vdHlwaW5ncy9hcC5kLnRzXCIgLz5cblxubW9kdWxlIGFwIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnYW5ndWxhclBvaW50JylcbiAgICAgICAgLmNvbmZpZyhDb25maWcpO1xuXG4gICAgZnVuY3Rpb24gQ29uZmlnKGFwQ29uZmlnKSB7XG5cbiAgICAgICAgLyoqIEFkZCBhIGNvbnZlbmllbmNlIGZsYWcsIGludmVyc2Ugb2Ygb2ZmbGluZSAqL1xuICAgICAgICBhcENvbmZpZy5vbmxpbmUgPSAhYXBDb25maWcub2ZmbGluZTtcbiAgICB9XG59XG4iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy9hcC5kLnRzXCIgLz5cblxuLyoqXG4gKiBAbmdkb2Mgb2JqZWN0XG4gKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBDb25maWdcbiAqIEBkZXNjcmlwdGlvblxuICogQmFzaWMgY29uZmlnIGZvciB0aGUgYXBwbGljYXRpb24gKHVuaXF1ZSBmb3IgZWFjaCBlbnZpcm9ubWVudCkuICBVcGRhdGUgdG8gY2hhbmdlIGZvciB5b3VyIGVudmlyb25tZW50LlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBhcHBUaXRsZSBOYW1lIG9mIHRoZSBhcHBsaWNhdGlvbiBpbiBjYXNlIHlvdSBuZWVkIHRvIHJlZmVyZW5jZS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gZGVidWcgRGV0ZXJtaW5lcyBpZiB3ZSBzaG91bGQgc2hvdyBkZWJ1ZyBjb2RlLlxuICogQHBhcmFtIHtzdHJpbmd9IGRlZmF1bHRVcmwgQXV0b21hdGljYWxseSBzZXRzIHRoZSBkZWZhdWx0VXJsIGZvciB3ZWIgc2VydmljZSBjYWxscyBzbyB3ZSBkb24ndCBuZWVkIHRvIG1ha2UgdGhlXG4gKiBpbml0aWFsIGJsb2NraW5nIGNhbGwgYnkgU1BTZXJ2aWNlcy5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbZGVmYXVsdFF1ZXJ5TmFtZT0ncHJpbWFyeSddIFRoZSBuYW1lIHRoYXQgYSBxdWVyeSBpcyByZWdpc3RlcmVkIHdpdGggb24gYSBtb2RlbCBpZiBhIG5hbWUgaXNuJ3Qgc3BlY2lmaWVkLlxuICogQHBhcmFtIHtzdHJpbmd9IFtmaXJlYmFzZVVybF0gTmVjZXNzYXJ5IGlmIHlvdSdyZSB1c2luZyBhcFN5bmNTZXJ2aWNlLiAgTG9vayB0aGVyZSBmb3IgbW9yZSBkZXRhaWxzLlxuICogQHBhcmFtIHtib29sZWFufSBbb2ZmbGluZV0gQXV0b21hdGljYWxseSBzZXQgYmFzZWQgb24gdGhlIFVSTCBvZiB0aGUgc2l0ZS4gIFB1bGxzIG9mZmxpbmUgWE1MIHdoZW4gaG9zdGVkIGxvY2FsbHkuXG4gKiBAcGFyYW0ge3N0cmluZ30gW29mZmxpbmVYTUw9J2Rldi8nXSBUaGUgbG9jYXRpb24gdG8gbG9vayBmb3Igb2ZmbGluZSB4bWwgZmlsZXMuXG4gKiBAZXhhbXBsZVxuICogPGg0PkRlZmF1bHQgQ29uZmlndXJhdGlvbjwvaDQ+XG4gKiA8cHJlPlxuICogLmNvbnN0YW50KCdhcENvbmZpZycsIHtcbiAqICAgICBhcHBUaXRsZTogJ0FuZ3VsYXItUG9pbnQnLFxuICogICAgIGRlYnVnRW5hYmxlZDogdHJ1ZSxcbiAqICAgICBmaXJlYmFzZVVSTDogXCJUaGUgb3B0aW9uYWwgdXJsIG9mIHlvdXIgZmlyZWJhc2Ugc291cmNlXCIsXG4gKiAgICAgb2ZmbGluZTogd2luZG93LmxvY2F0aW9uLmhyZWYuaW5kZXhPZignbG9jYWxob3N0JykgPiAtMSB8fFxuICogICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZi5pbmRleE9mKCdodHRwOi8vMC4nKSA+IC0xIHx8XG4gKiAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluZGV4T2YoJ2h0dHA6Ly8xMC4nKSA+IC0xIHx8XG4gKiAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluZGV4T2YoJ2h0dHA6Ly8xOTIuJykgPiAtMVxuICogfSlcbiAqIDwvcHJlPlxuICpcbiAqIDxoND5UbyBPdmVycmlkZTwvaDQ+XG4gKiA8cHJlPlxuICogYW5ndWxhci5tb2R1bGUoJ015QXBwJywgWydteSBkZXBlbmRlbmNpZXMnXSlcbiAqICAgICAgLmNvbmZpZyhmdW5jdGlvbiAoJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlcikge1xuICogICAgICAgICAgLy9NeSByb3V0ZXNcbiAqICAgICAgfSlcbiAqICAgICAgLnJ1bihmdW5jdGlvbihhcENvbmZpZykge1xuICogICAgICAgICAgLy9UbyBzZXQgdGhlIGRlZmF1bHQgc2l0ZSByb290XG4gKiAgICAgICAgICBhcENvbmZpZy5kZWZhdWx0VXJsID1cbiAqICAgICAgICAgICAgJy8vc2hhcmVwb2ludC5teXNlcnZlci5jb20vc2l0ZVJvb3QnO1xuICpcbiAqICAgICAgICAgIC8vVG8gc2V0IHRoZSBkZWZhdWx0IGxvY2F0aW9uIHRvIGxvb2sgZm9yXG4gKiAgICAgICAgICAvL29mZmxpbmUgeG1sIGZpbGVzLlxuICogICAgICAgICAgYXBDb25maWcub2ZmbGluZVhNTCA9ICdteUNhY2hlZFF1ZXJpZXMvJztcbiAqICAgICAgfSk7XG4gKiA8L3ByZT5cbiAqL1xubW9kdWxlIGFwIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBleHBvcnQgaW50ZXJmYWNlIElBUENvbmZpZ3tcbiAgICAgICAgYXBwVGl0bGU6IHN0cmluZztcbiAgICAgICAgZGVidWc6IGJvb2xlYW47XG4gICAgICAgIGRlZmF1bHRRdWVyeU5hbWU6IHN0cmluZztcbiAgICAgICAgZGVmYXVsdFVybDogc3RyaW5nO1xuICAgICAgICBlbnZpcm9ubWVudD86IHN0cmluZztcbiAgICAgICAgZmlyZWJhc2VVUkw/OiBzdHJpbmc7XG4gICAgICAgIG9mZmxpbmU6IGJvb2xlYW47XG4gICAgICAgIHVzZXJMb2dpbk5hbWVQcmVmaXg/OnN0cmluZztcbiAgICB9XG5cbiAgICBleHBvcnQgdmFyIEFQQ29uZmlnOklBUENvbmZpZyA9IHtcbiAgICAgICAgYXBwVGl0bGU6ICdBbmd1bGFyLVBvaW50JyxcbiAgICAgICAgZGVidWc6IGZhbHNlLFxuICAgICAgICBkZWZhdWx0UXVlcnlOYW1lOiAncHJpbWFyeScsXG4gICAgICAgIGRlZmF1bHRVcmw6ICcnLFxuICAgICAgICBlbnZpcm9ubWVudDogJ3Byb2R1Y3Rpb24nLFxuICAgICAgICBmaXJlYmFzZVVSTDogXCJUaGUgb3B0aW9uYWwgdXJsIG9mIHlvdXIgZmlyZWJhc2Ugc291cmNlXCIsXG4gICAgICAgIG9mZmxpbmU6IHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluZGV4T2YoJ2xvY2FsaG9zdCcpID4gLTEgfHxcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluZGV4T2YoJ2h0dHA6Ly8wLicpID4gLTEgfHxcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluZGV4T2YoJ2h0dHA6Ly8xMC4nKSA+IC0xIHx8XG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZi5pbmRleE9mKCdodHRwOi8vMTI3LicpID4gLTEgfHxcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluZGV4T2YoJ2h0dHA6Ly8xOTIuJykgPiAtMSxcbiAgICAgICAgb2ZmbGluZVhNTDogJ2Rldi8nXG4gICAgfTtcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnYW5ndWxhclBvaW50JylcbiAgICAgICAgLmNvbnN0YW50KCdhcENvbmZpZycsIEFQQ29uZmlnKTtcbn1cbiIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90eXBpbmdzL2FwLmQudHNcIiAvPlxuXG5tb2R1bGUgYXAge1xuICAgICd1c2Ugc3RyaWN0JztcblxuXG4gICAgZXhwb3J0IHZhciBEZWZhdWx0RmllbGRzOkZpZWxkW10gPSBbXG4gICAgICAgIHtzdGF0aWNOYW1lOiAnSUQnLCBvYmplY3RUeXBlOiAnQ291bnRlcicsIG1hcHBlZE5hbWU6ICdpZCcsIHJlYWRPbmx5OiB0cnVlfSxcbiAgICAgICAge3N0YXRpY05hbWU6ICdNb2RpZmllZCcsIG9iamVjdFR5cGU6ICdEYXRlVGltZScsIG1hcHBlZE5hbWU6ICdtb2RpZmllZCcsIHJlYWRPbmx5OiB0cnVlfSxcbiAgICAgICAge3N0YXRpY05hbWU6ICdDcmVhdGVkJywgb2JqZWN0VHlwZTogJ0RhdGVUaW1lJywgbWFwcGVkTmFtZTogJ2NyZWF0ZWQnLCByZWFkT25seTogdHJ1ZX0sXG4gICAgICAgIHtzdGF0aWNOYW1lOiAnQXV0aG9yJywgb2JqZWN0VHlwZTogJ1VzZXInLCBtYXBwZWROYW1lOiAnYXV0aG9yJywgcmVhZE9ubHk6IHRydWV9LFxuICAgICAgICB7c3RhdGljTmFtZTogJ0VkaXRvcicsIG9iamVjdFR5cGU6ICdVc2VyJywgbWFwcGVkTmFtZTogJ2VkaXRvcicsIHJlYWRPbmx5OiB0cnVlfSxcbiAgICAgICAge3N0YXRpY05hbWU6ICdQZXJtTWFzaycsIG9iamVjdFR5cGU6ICdNYXNrJywgbWFwcGVkTmFtZTogJ3Blcm1NYXNrJywgcmVhZE9ubHk6IHRydWV9LFxuICAgICAgICB7c3RhdGljTmFtZTogJ1VuaXF1ZUlkJywgb2JqZWN0VHlwZTogJ1N0cmluZycsIG1hcHBlZE5hbWU6ICd1bmlxdWVJZCcsIHJlYWRPbmx5OiB0cnVlfSxcbiAgICAgICAge3N0YXRpY05hbWU6ICdGaWxlUmVmJywgb2JqZWN0VHlwZTogJ0xvb2t1cCcsIG1hcHBlZE5hbWU6ICdmaWxlUmVmJywgcmVhZE9ubHk6IHRydWV9XG4gICAgXTtcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBvYmplY3RcbiAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBEZWZhdWx0RmllbGRzXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogUmVhZCBvbmx5IGZpZWxkcyB0aGF0IHNob3VsZCBiZSBpbmNsdWRlZCBpbiBhbGwgbGlzdHNcbiAgICAgKi9cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2FuZ3VsYXJQb2ludCcpXG4gICAgICAgIC5jb25zdGFudCgnYXBEZWZhdWx0RmllbGRzJywgRGVmYXVsdEZpZWxkcyk7XG5cbn1cbiIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90eXBpbmdzL2FwLmQudHNcIiAvPlxuXG5tb2R1bGUgYXAge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGV4cG9ydCB2YXIgRGVmYXVsdExpc3RJdGVtUXVlcnlPcHRpb25zOnN0cmluZyA9ICcnICtcbiAgICAgICAgJzxRdWVyeU9wdGlvbnM+JyArXG4gICAgICAgICcgICA8SW5jbHVkZU1hbmRhdG9yeUNvbHVtbnM+RkFMU0U8L0luY2x1ZGVNYW5kYXRvcnlDb2x1bW5zPicgK1xuICAgICAgICAnICAgPEluY2x1ZGVBdHRhY2htZW50VXJscz5UUlVFPC9JbmNsdWRlQXR0YWNobWVudFVybHM+JyArXG4gICAgICAgICcgICA8SW5jbHVkZUF0dGFjaG1lbnRWZXJzaW9uPkZBTFNFPC9JbmNsdWRlQXR0YWNobWVudFZlcnNpb24+JyArXG4gICAgICAgICcgICA8RXhwYW5kVXNlckZpZWxkPkZBTFNFPC9FeHBhbmRVc2VyRmllbGQ+JyArXG4gICAgICAgICc8L1F1ZXJ5T3B0aW9ucz4nO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdhbmd1bGFyUG9pbnQnKVxuICAgICAgICAuY29uc3RhbnQoJ2FwRGVmYXVsdExpc3RJdGVtUXVlcnlPcHRpb25zJywgRGVmYXVsdExpc3RJdGVtUXVlcnlPcHRpb25zKTtcblxufVxuIiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3MvYXAuZC50c1wiIC8+XG5cbm1vZHVsZSBhcCB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2FuZ3VsYXJQb2ludCcpXG4gICAgLyoqIGxvZGFzaCAqL1xuICAgICAgICAuY29uc3RhbnQoJ18nLCBfKTtcbn1cbiIsIi8vICBhcFdlYlNlcnZpY2VPcGVyYXRpb25Db25zdGFudHMuT3BOYW1lID0gW1dlYlNlcnZpY2UsIG5lZWRzX1NPQVBBY3Rpb25dO1xuLy8gICAgICBPcE5hbWUgICAgICAgICAgICAgIFRoZSBuYW1lIG9mIHRoZSBXZWIgU2VydmljZSBvcGVyYXRpb24gLT4gVGhlc2UgbmFtZXMgYXJlIHVuaXF1ZVxuLy8gICAgICBXZWJTZXJ2aWNlICAgICAgICAgIFRoZSBuYW1lIG9mIHRoZSBXZWJTZXJ2aWNlIHRoaXMgb3BlcmF0aW9uIGJlbG9uZ3MgdG9cbi8vICAgICAgbmVlZHNfU09BUEFjdGlvbiAgICBCb29sZWFuIGluZGljYXRpbmcgd2hldGhlciB0aGUgb3BlcmF0aW9uIG5lZWRzIHRvIGhhdmUgdGhlIFNPQVBBY3Rpb24gcGFzc2VkIGluIHRoZSBzZXRSZXF1ZXN0SGVhZGVyZnVuY3Rpb24uXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ1ZSBpZiB0aGUgb3BlcmF0aW9uIGRvZXMgYSB3cml0ZSwgZWxzZSBmYWxzZVxuXG4vLy8gPHJlZmVyZW5jZSBwYXRoPScuLi8uLi90eXBpbmdzL2FwLmQudHMnIC8+XG5tb2R1bGUgYXAge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICBleHBvcnQgdmFyIFdlYlNlcnZpY2VPcGVyYXRpb25Db25zdGFudHM6e1trZXk6c3RyaW5nXTpbc3RyaW5nLCBib29sZWFuXX0gPSB7XG4gICAgICAgIEdldEFsZXJ0czogWydBbGVydHMnLCBmYWxzZV0sXG4gICAgICAgIERlbGV0ZUFsZXJ0czogWydBbGVydHMnLCB0cnVlXSxcbiAgICAgICAgTW9kZTogWydBdXRoZW50aWNhdGlvbicsIGZhbHNlXSxcbiAgICAgICAgTG9naW46IFsnQXV0aGVudGljYXRpb24nLCBmYWxzZV0sXG4gICAgICAgIENvcHlJbnRvSXRlbXM6IFsnQ29weScsIHRydWVdLFxuICAgICAgICBDb3B5SW50b0l0ZW1zTG9jYWw6IFsnQ29weScsIHRydWVdLFxuICAgICAgICBHZXRJdGVtOiBbJ0NvcHknLCBmYWxzZV0sXG4gICAgICAgIEdldEZvcm06IFsnRm9ybXMnLCBmYWxzZV0sXG4gICAgICAgIEdldEZvcm1Db2xsZWN0aW9uOiBbJ0Zvcm1zJywgZmFsc2VdLFxuICAgICAgICBBZGRBdHRhY2htZW50OiBbJ0xpc3RzJywgdHJ1ZV0sXG4gICAgICAgIEFkZERpc2N1c3Npb25Cb2FyZEl0ZW06IFsnTGlzdHMnLCB0cnVlXSxcbiAgICAgICAgQWRkTGlzdDogWydMaXN0cycsIHRydWVdLFxuICAgICAgICBBZGRMaXN0RnJvbUZlYXR1cmU6IFsnTGlzdHMnLCB0cnVlXSxcbiAgICAgICAgQXBwbHlDb250ZW50VHlwZVRvTGlzdDogWydMaXN0cycsIHRydWVdLFxuICAgICAgICBDaGVja0luRmlsZTogWydMaXN0cycsIHRydWVdLFxuICAgICAgICBDaGVja091dEZpbGU6IFsnTGlzdHMnLCB0cnVlXSxcbiAgICAgICAgQ3JlYXRlQ29udGVudFR5cGU6IFsnV2VicycsIHRydWVdLFxuICAgICAgICBEZWxldGVBdHRhY2htZW50OiBbJ0xpc3RzJywgdHJ1ZV0sXG4gICAgICAgIERlbGV0ZUNvbnRlbnRUeXBlOiBbJ0xpc3RzJywgdHJ1ZV0sXG4gICAgICAgIERlbGV0ZUNvbnRlbnRUeXBlWG1sRG9jdW1lbnQ6IFsnTGlzdHMnLCB0cnVlXSxcbiAgICAgICAgRGVsZXRlTGlzdDogWydMaXN0cycsIHRydWVdLFxuICAgICAgICBHZXRBdHRhY2htZW50Q29sbGVjdGlvbjogWydMaXN0cycsIGZhbHNlXSxcbiAgICAgICAgR2V0TGlzdDogWydMaXN0cycsIGZhbHNlXSxcbiAgICAgICAgR2V0TGlzdEFuZFZpZXc6IFsnTGlzdHMnLCBmYWxzZV0sXG4gICAgICAgIEdldExpc3RDb2xsZWN0aW9uOiBbJ0xpc3RzJywgZmFsc2VdLFxuICAgICAgICBHZXRMaXN0Q29udGVudFR5cGU6IFsnTGlzdHMnLCBmYWxzZV0sXG4gICAgICAgIEdldExpc3RDb250ZW50VHlwZXM6IFsnTGlzdHMnLCBmYWxzZV0sXG4gICAgICAgIEdldExpc3RJdGVtQ2hhbmdlczogWydMaXN0cycsIGZhbHNlXSxcbiAgICAgICAgR2V0TGlzdEl0ZW1DaGFuZ2VzU2luY2VUb2tlbjogWydMaXN0cycsIGZhbHNlXSxcbiAgICAgICAgR2V0TGlzdEl0ZW1zOiBbJ0xpc3RzJywgZmFsc2VdLFxuICAgICAgICBHZXRWZXJzaW9uQ29sbGVjdGlvbjogWydMaXN0cycsIGZhbHNlXSxcbiAgICAgICAgVW5kb0NoZWNrT3V0OiBbJ0xpc3RzJywgdHJ1ZV0sXG4gICAgICAgIFVwZGF0ZUNvbnRlbnRUeXBlOiBbJ1dlYnMnLCB0cnVlXSxcbiAgICAgICAgVXBkYXRlQ29udGVudFR5cGVzWG1sRG9jdW1lbnQ6IFsnTGlzdHMnLCB0cnVlXSxcbiAgICAgICAgVXBkYXRlQ29udGVudFR5cGVYbWxEb2N1bWVudDogWydMaXN0cycsIHRydWVdLFxuICAgICAgICBVcGRhdGVMaXN0OiBbJ0xpc3RzJywgdHJ1ZV0sXG4gICAgICAgIFVwZGF0ZUxpc3RJdGVtczogWydMaXN0cycsIHRydWVdLFxuICAgICAgICBBZGRNZWV0aW5nOiBbJ01lZXRpbmdzJywgdHJ1ZV0sXG4gICAgICAgIENyZWF0ZVdvcmtzcGFjZTogWydNZWV0aW5ncycsIHRydWVdLFxuICAgICAgICBSZW1vdmVNZWV0aW5nOiBbJ01lZXRpbmdzJywgdHJ1ZV0sXG4gICAgICAgIFNldFdvcmtTcGFjZVRpdGxlOiBbJ01lZXRpbmdzJywgdHJ1ZV0sXG4gICAgICAgIFJlc29sdmVQcmluY2lwYWxzOiBbJ1Blb3BsZScsIGZhbHNlXSxcbiAgICAgICAgU2VhcmNoUHJpbmNpcGFsczogWydQZW9wbGUnLCBmYWxzZV0sXG4gICAgICAgIEFkZFBlcm1pc3Npb246IFsnUGVybWlzc2lvbnMnLCB0cnVlXSxcbiAgICAgICAgQWRkUGVybWlzc2lvbkNvbGxlY3Rpb246IFsnUGVybWlzc2lvbnMnLCB0cnVlXSxcbiAgICAgICAgR2V0UGVybWlzc2lvbkNvbGxlY3Rpb246IFsnUGVybWlzc2lvbnMnLCB0cnVlXSxcbiAgICAgICAgUmVtb3ZlUGVybWlzc2lvbjogWydQZXJtaXNzaW9ucycsIHRydWVdLFxuICAgICAgICBSZW1vdmVQZXJtaXNzaW9uQ29sbGVjdGlvbjogWydQZXJtaXNzaW9ucycsIHRydWVdLFxuICAgICAgICBVcGRhdGVQZXJtaXNzaW9uOiBbJ1Blcm1pc3Npb25zJywgdHJ1ZV0sXG4gICAgICAgIEdldExpbmtzOiBbJ1B1Ymxpc2hlZExpbmtzU2VydmljZScsIHRydWVdLFxuICAgICAgICBHZXRQb3J0YWxTZWFyY2hJbmZvOiBbJ1NlYXJjaCcsIGZhbHNlXSxcbiAgICAgICAgR2V0UXVlcnlTdWdnZXN0aW9uczogWydTZWFyY2gnLCBmYWxzZV0sXG4gICAgICAgIEdldFNlYXJjaE1ldGFkYXRhOiBbJ1NlYXJjaCcsIGZhbHNlXSxcbiAgICAgICAgUXVlcnk6IFsnU2VhcmNoJywgZmFsc2VdLFxuICAgICAgICBRdWVyeUV4OiBbJ1NlYXJjaCcsIGZhbHNlXSxcbiAgICAgICAgUmVnaXN0cmF0aW9uOiBbJ1NlYXJjaCcsIGZhbHNlXSxcbiAgICAgICAgU3RhdHVzOiBbJ1NlYXJjaCcsIGZhbHNlXSxcbiAgICAgICAgU2VuZENsaWVudFNjcmlwdEVycm9yUmVwb3J0OiBbJ1NoYXJlUG9pbnREaWFnbm9zdGljcycsIHRydWVdLFxuICAgICAgICBHZXRBdHRhY2htZW50czogWydTaXRlRGF0YScsIGZhbHNlXSxcbiAgICAgICAgRW51bWVyYXRlRm9sZGVyOiBbJ1NpdGVEYXRhJywgZmFsc2VdLFxuICAgICAgICBTaXRlRGF0YUdldExpc3Q6IFsnU2l0ZURhdGEnLCBmYWxzZV0sXG4gICAgICAgIFNpdGVEYXRhR2V0TGlzdENvbGxlY3Rpb246IFsnU2l0ZURhdGEnLCBmYWxzZV0sXG4gICAgICAgIFNpdGVEYXRhR2V0U2l0ZTogWydTaXRlRGF0YScsIGZhbHNlXSxcbiAgICAgICAgU2l0ZURhdGFHZXRTaXRlVXJsOiBbJ1NpdGVEYXRhJywgZmFsc2VdLFxuICAgICAgICBTaXRlRGF0YUdldFdlYjogWydTaXRlRGF0YScsIGZhbHNlXSxcbiAgICAgICAgQ3JlYXRlV2ViOiBbJ1NpdGVzJywgdHJ1ZV0sXG4gICAgICAgIERlbGV0ZVdlYjogWydTaXRlcycsIHRydWVdLFxuICAgICAgICBHZXRTaXRlOiBbJ1NpdGVzJywgZmFsc2VdLFxuICAgICAgICBHZXRTaXRlVGVtcGxhdGVzOiBbJ1NpdGVzJywgZmFsc2VdLFxuICAgICAgICBBZGRDb21tZW50OiBbJ1NvY2lhbERhdGFTZXJ2aWNlJywgdHJ1ZV0sXG4gICAgICAgIEFkZFRhZzogWydTb2NpYWxEYXRhU2VydmljZScsIHRydWVdLFxuICAgICAgICBBZGRUYWdCeUtleXdvcmQ6IFsnU29jaWFsRGF0YVNlcnZpY2UnLCB0cnVlXSxcbiAgICAgICAgQ291bnRDb21tZW50c09mVXNlcjogWydTb2NpYWxEYXRhU2VydmljZScsIGZhbHNlXSxcbiAgICAgICAgQ291bnRDb21tZW50c09mVXNlck9uVXJsOiBbJ1NvY2lhbERhdGFTZXJ2aWNlJywgZmFsc2VdLFxuICAgICAgICBDb3VudENvbW1lbnRzT25Vcmw6IFsnU29jaWFsRGF0YVNlcnZpY2UnLCBmYWxzZV0sXG4gICAgICAgIENvdW50UmF0aW5nc09uVXJsOiBbJ1NvY2lhbERhdGFTZXJ2aWNlJywgZmFsc2VdLFxuICAgICAgICBDb3VudFRhZ3NPZlVzZXI6IFsnU29jaWFsRGF0YVNlcnZpY2UnLCBmYWxzZV0sXG4gICAgICAgIERlbGV0ZUNvbW1lbnQ6IFsnU29jaWFsRGF0YVNlcnZpY2UnLCB0cnVlXSxcbiAgICAgICAgRGVsZXRlUmF0aW5nOiBbJ1NvY2lhbERhdGFTZXJ2aWNlJywgdHJ1ZV0sXG4gICAgICAgIERlbGV0ZVRhZzogWydTb2NpYWxEYXRhU2VydmljZScsIHRydWVdLFxuICAgICAgICBEZWxldGVUYWdCeUtleXdvcmQ6IFsnU29jaWFsRGF0YVNlcnZpY2UnLCB0cnVlXSxcbiAgICAgICAgRGVsZXRlVGFnczogWydTb2NpYWxEYXRhU2VydmljZScsIHRydWVdLFxuICAgICAgICBHZXRBbGxUYWdUZXJtczogWydTb2NpYWxEYXRhU2VydmljZScsIGZhbHNlXSxcbiAgICAgICAgR2V0QWxsVGFnVGVybXNGb3JVcmxGb2xkZXI6IFsnU29jaWFsRGF0YVNlcnZpY2UnLCBmYWxzZV0sXG4gICAgICAgIEdldEFsbFRhZ1VybHM6IFsnU29jaWFsRGF0YVNlcnZpY2UnLCBmYWxzZV0sXG4gICAgICAgIEdldEFsbFRhZ1VybHNCeUtleXdvcmQ6IFsnU29jaWFsRGF0YVNlcnZpY2UnLCBmYWxzZV0sXG4gICAgICAgIEdldENvbW1lbnRzT2ZVc2VyOiBbJ1NvY2lhbERhdGFTZXJ2aWNlJywgZmFsc2VdLFxuICAgICAgICBHZXRDb21tZW50c09mVXNlck9uVXJsOiBbJ1NvY2lhbERhdGFTZXJ2aWNlJywgZmFsc2VdLFxuICAgICAgICBHZXRDb21tZW50c09uVXJsOiBbJ1NvY2lhbERhdGFTZXJ2aWNlJywgZmFsc2VdLFxuICAgICAgICBHZXRSYXRpbmdBdmVyYWdlT25Vcmw6IFsnU29jaWFsRGF0YVNlcnZpY2UnLCBmYWxzZV0sXG4gICAgICAgIEdldFJhdGluZ09mVXNlck9uVXJsOiBbJ1NvY2lhbERhdGFTZXJ2aWNlJywgZmFsc2VdLFxuICAgICAgICBHZXRSYXRpbmdPblVybDogWydTb2NpYWxEYXRhU2VydmljZScsIGZhbHNlXSxcbiAgICAgICAgR2V0UmF0aW5nc09mVXNlcjogWydTb2NpYWxEYXRhU2VydmljZScsIGZhbHNlXSxcbiAgICAgICAgR2V0UmF0aW5nc09uVXJsOiBbJ1NvY2lhbERhdGFTZXJ2aWNlJywgZmFsc2VdLFxuICAgICAgICBHZXRTb2NpYWxEYXRhRm9yRnVsbFJlcGxpY2F0aW9uOiBbJ1NvY2lhbERhdGFTZXJ2aWNlJywgZmFsc2VdLFxuICAgICAgICBHZXRUYWdzOiBbJ1NvY2lhbERhdGFTZXJ2aWNlJywgdHJ1ZV0sXG4gICAgICAgIEdldFRhZ3NPZlVzZXI6IFsnU29jaWFsRGF0YVNlcnZpY2UnLCB0cnVlXSxcbiAgICAgICAgR2V0VGFnVGVybXM6IFsnU29jaWFsRGF0YVNlcnZpY2UnLCB0cnVlXSxcbiAgICAgICAgR2V0VGFnVGVybXNPZlVzZXI6IFsnU29jaWFsRGF0YVNlcnZpY2UnLCB0cnVlXSxcbiAgICAgICAgR2V0VGFnVGVybXNPblVybDogWydTb2NpYWxEYXRhU2VydmljZScsIHRydWVdLFxuICAgICAgICBHZXRUYWdVcmxzT2ZVc2VyOiBbJ1NvY2lhbERhdGFTZXJ2aWNlJywgdHJ1ZV0sXG4gICAgICAgIEdldFRhZ1VybHNPZlVzZXJCeUtleXdvcmQ6IFsnU29jaWFsRGF0YVNlcnZpY2UnLCB0cnVlXSxcbiAgICAgICAgR2V0VGFnVXJsczogWydTb2NpYWxEYXRhU2VydmljZScsIHRydWVdLFxuICAgICAgICBHZXRUYWdVcmxzQnlLZXl3b3JkOiBbJ1NvY2lhbERhdGFTZXJ2aWNlJywgdHJ1ZV0sXG4gICAgICAgIFNldFJhdGluZzogWydTb2NpYWxEYXRhU2VydmljZScsIHRydWVdLFxuICAgICAgICBVcGRhdGVDb21tZW50OiBbJ1NvY2lhbERhdGFTZXJ2aWNlJywgdHJ1ZV0sXG4gICAgICAgIFNwZWxsQ2hlY2s6IFsnU3BlbGxDaGVjaycsIGZhbHNlXSxcbiAgICAgICAgQWRkVGVybXM6IFsnVGF4b25vbXlDbGllbnRTZXJ2aWNlJywgdHJ1ZV0sXG4gICAgICAgIEdldENoaWxkVGVybXNJblRlcm06IFsnVGF4b25vbXlDbGllbnRTZXJ2aWNlJywgZmFsc2VdLFxuICAgICAgICBHZXRDaGlsZFRlcm1zSW5UZXJtU2V0OiBbJ1RheG9ub215Q2xpZW50U2VydmljZScsIGZhbHNlXSxcbiAgICAgICAgR2V0S2V5d29yZFRlcm1zQnlHdWlkczogWydUYXhvbm9teUNsaWVudFNlcnZpY2UnLCBmYWxzZV0sXG4gICAgICAgIEdldFRlcm1zQnlMYWJlbDogWydUYXhvbm9teUNsaWVudFNlcnZpY2UnLCBmYWxzZV0sXG4gICAgICAgIEdldFRlcm1TZXRzOiBbJ1RheG9ub215Q2xpZW50U2VydmljZScsIGZhbHNlXSxcbiAgICAgICAgQWRkR3JvdXA6IFsndXNlcmdyb3VwJywgdHJ1ZV0sXG4gICAgICAgIEFkZEdyb3VwVG9Sb2xlOiBbJ3VzZXJncm91cCcsIHRydWVdLFxuICAgICAgICBBZGRSb2xlOiBbJ3VzZXJncm91cCcsIHRydWVdLFxuICAgICAgICBBZGRSb2xlRGVmOiBbJ3VzZXJncm91cCcsIHRydWVdLFxuICAgICAgICBBZGRVc2VyQ29sbGVjdGlvblRvR3JvdXA6IFsndXNlcmdyb3VwJywgdHJ1ZV0sXG4gICAgICAgIEFkZFVzZXJDb2xsZWN0aW9uVG9Sb2xlOiBbJ3VzZXJncm91cCcsIHRydWVdLFxuICAgICAgICBBZGRVc2VyVG9Hcm91cDogWyd1c2VyZ3JvdXAnLCB0cnVlXSxcbiAgICAgICAgQWRkVXNlclRvUm9sZTogWyd1c2VyZ3JvdXAnLCB0cnVlXSxcbiAgICAgICAgR2V0QWxsVXNlckNvbGxlY3Rpb25Gcm9tV2ViOiBbJ3VzZXJncm91cCcsIGZhbHNlXSxcbiAgICAgICAgR2V0R3JvdXBDb2xsZWN0aW9uOiBbJ3VzZXJncm91cCcsIGZhbHNlXSxcbiAgICAgICAgR2V0R3JvdXBDb2xsZWN0aW9uRnJvbVJvbGU6IFsndXNlcmdyb3VwJywgZmFsc2VdLFxuICAgICAgICBHZXRHcm91cENvbGxlY3Rpb25Gcm9tU2l0ZTogWyd1c2VyZ3JvdXAnLCBmYWxzZV0sXG4gICAgICAgIEdldEdyb3VwQ29sbGVjdGlvbkZyb21Vc2VyOiBbJ3VzZXJncm91cCcsIGZhbHNlXSxcbiAgICAgICAgR2V0R3JvdXBDb2xsZWN0aW9uRnJvbVdlYjogWyd1c2VyZ3JvdXAnLCBmYWxzZV0sXG4gICAgICAgIEdldEdyb3VwSW5mbzogWyd1c2VyZ3JvdXAnLCBmYWxzZV0sXG4gICAgICAgIEdldFJvbGVDb2xsZWN0aW9uOiBbJ3VzZXJncm91cCcsIGZhbHNlXSxcbiAgICAgICAgR2V0Um9sZUNvbGxlY3Rpb25Gcm9tR3JvdXA6IFsndXNlcmdyb3VwJywgZmFsc2VdLFxuICAgICAgICBHZXRSb2xlQ29sbGVjdGlvbkZyb21Vc2VyOiBbJ3VzZXJncm91cCcsIGZhbHNlXSxcbiAgICAgICAgR2V0Um9sZUNvbGxlY3Rpb25Gcm9tV2ViOiBbJ3VzZXJncm91cCcsIGZhbHNlXSxcbiAgICAgICAgR2V0Um9sZUluZm86IFsndXNlcmdyb3VwJywgZmFsc2VdLFxuICAgICAgICBHZXRSb2xlc0FuZFBlcm1pc3Npb25zRm9yQ3VycmVudFVzZXI6IFsndXNlcmdyb3VwJywgZmFsc2VdLFxuICAgICAgICBHZXRSb2xlc0FuZFBlcm1pc3Npb25zRm9yU2l0ZTogWyd1c2VyZ3JvdXAnLCBmYWxzZV0sXG4gICAgICAgIEdldFVzZXJDb2xsZWN0aW9uOiBbJ3VzZXJncm91cCcsIGZhbHNlXSxcbiAgICAgICAgR2V0VXNlckNvbGxlY3Rpb25Gcm9tR3JvdXA6IFsndXNlcmdyb3VwJywgZmFsc2VdLFxuICAgICAgICBHZXRVc2VyQ29sbGVjdGlvbkZyb21Sb2xlOiBbJ3VzZXJncm91cCcsIGZhbHNlXSxcbiAgICAgICAgR2V0VXNlckNvbGxlY3Rpb25Gcm9tU2l0ZTogWyd1c2VyZ3JvdXAnLCBmYWxzZV0sXG4gICAgICAgIEdldFVzZXJDb2xsZWN0aW9uRnJvbVdlYjogWyd1c2VyZ3JvdXAnLCBmYWxzZV0sXG4gICAgICAgIEdldFVzZXJJbmZvOiBbJ3VzZXJncm91cCcsIGZhbHNlXSxcbiAgICAgICAgR2V0VXNlckxvZ2luRnJvbUVtYWlsOiBbJ3VzZXJncm91cCcsIGZhbHNlXSxcbiAgICAgICAgUmVtb3ZlR3JvdXA6IFsndXNlcmdyb3VwJywgdHJ1ZV0sXG4gICAgICAgIFJlbW92ZUdyb3VwRnJvbVJvbGU6IFsndXNlcmdyb3VwJywgdHJ1ZV0sXG4gICAgICAgIFJlbW92ZVJvbGU6IFsndXNlcmdyb3VwJywgdHJ1ZV0sXG4gICAgICAgIFJlbW92ZVVzZXJDb2xsZWN0aW9uRnJvbUdyb3VwOiBbJ3VzZXJncm91cCcsIHRydWVdLFxuICAgICAgICBSZW1vdmVVc2VyQ29sbGVjdGlvbkZyb21Sb2xlOiBbJ3VzZXJncm91cCcsIHRydWVdLFxuICAgICAgICBSZW1vdmVVc2VyQ29sbGVjdGlvbkZyb21TaXRlOiBbJ3VzZXJncm91cCcsIHRydWVdLFxuICAgICAgICBSZW1vdmVVc2VyRnJvbUdyb3VwOiBbJ3VzZXJncm91cCcsIHRydWVdLFxuICAgICAgICBSZW1vdmVVc2VyRnJvbVJvbGU6IFsndXNlcmdyb3VwJywgdHJ1ZV0sXG4gICAgICAgIFJlbW92ZVVzZXJGcm9tU2l0ZTogWyd1c2VyZ3JvdXAnLCB0cnVlXSxcbiAgICAgICAgUmVtb3ZlVXNlckZyb21XZWI6IFsndXNlcmdyb3VwJywgdHJ1ZV0sXG4gICAgICAgIFVwZGF0ZUdyb3VwSW5mbzogWyd1c2VyZ3JvdXAnLCB0cnVlXSxcbiAgICAgICAgVXBkYXRlUm9sZURlZkluZm86IFsndXNlcmdyb3VwJywgdHJ1ZV0sXG4gICAgICAgIFVwZGF0ZVJvbGVJbmZvOiBbJ3VzZXJncm91cCcsIHRydWVdLFxuICAgICAgICBVcGRhdGVVc2VySW5mbzogWyd1c2VyZ3JvdXAnLCB0cnVlXSxcbiAgICAgICAgQWRkQ29sbGVhZ3VlOiBbJ1VzZXJQcm9maWxlU2VydmljZScsIHRydWVdLFxuICAgICAgICBBZGRMaW5rOiBbJ1VzZXJQcm9maWxlU2VydmljZScsIHRydWVdLFxuICAgICAgICBBZGRNZW1iZXJzaGlwOiBbJ1VzZXJQcm9maWxlU2VydmljZScsIHRydWVdLFxuICAgICAgICBBZGRQaW5uZWRMaW5rOiBbJ1VzZXJQcm9maWxlU2VydmljZScsIHRydWVdLFxuICAgICAgICBDcmVhdGVNZW1iZXJHcm91cDogWydVc2VyUHJvZmlsZVNlcnZpY2UnLCB0cnVlXSxcbiAgICAgICAgQ3JlYXRlVXNlclByb2ZpbGVCeUFjY291bnROYW1lOiBbJ1VzZXJQcm9maWxlU2VydmljZScsIHRydWVdLFxuICAgICAgICBHZXRDb21tb25Db2xsZWFndWVzOiBbJ1VzZXJQcm9maWxlU2VydmljZScsIGZhbHNlXSxcbiAgICAgICAgR2V0Q29tbW9uTWFuYWdlcjogWydVc2VyUHJvZmlsZVNlcnZpY2UnLCBmYWxzZV0sXG4gICAgICAgIEdldENvbW1vbk1lbWJlcnNoaXBzOiBbJ1VzZXJQcm9maWxlU2VydmljZScsIGZhbHNlXSxcbiAgICAgICAgR2V0SW5Db21tb246IFsnVXNlclByb2ZpbGVTZXJ2aWNlJywgZmFsc2VdLFxuICAgICAgICBHZXRQcm9wZXJ0eUNob2ljZUxpc3Q6IFsnVXNlclByb2ZpbGVTZXJ2aWNlJywgZmFsc2VdLFxuICAgICAgICBHZXRVc2VyQ29sbGVhZ3VlczogWydVc2VyUHJvZmlsZVNlcnZpY2UnLCBmYWxzZV0sXG4gICAgICAgIEdldFVzZXJMaW5rczogWydVc2VyUHJvZmlsZVNlcnZpY2UnLCBmYWxzZV0sXG4gICAgICAgIEdldFVzZXJNZW1iZXJzaGlwczogWydVc2VyUHJvZmlsZVNlcnZpY2UnLCBmYWxzZV0sXG4gICAgICAgIEdldFVzZXJQaW5uZWRMaW5rczogWydVc2VyUHJvZmlsZVNlcnZpY2UnLCBmYWxzZV0sXG4gICAgICAgIEdldFVzZXJQcm9maWxlQnlHdWlkOiBbJ1VzZXJQcm9maWxlU2VydmljZScsIGZhbHNlXSxcbiAgICAgICAgR2V0VXNlclByb2ZpbGVCeUluZGV4OiBbJ1VzZXJQcm9maWxlU2VydmljZScsIGZhbHNlXSxcbiAgICAgICAgR2V0VXNlclByb2ZpbGVCeU5hbWU6IFsnVXNlclByb2ZpbGVTZXJ2aWNlJywgZmFsc2VdLFxuICAgICAgICBHZXRVc2VyUHJvZmlsZUNvdW50OiBbJ1VzZXJQcm9maWxlU2VydmljZScsIGZhbHNlXSxcbiAgICAgICAgR2V0VXNlclByb2ZpbGVTY2hlbWE6IFsnVXNlclByb2ZpbGVTZXJ2aWNlJywgZmFsc2VdLFxuICAgICAgICBHZXRVc2VyUHJvcGVydHlCeUFjY291bnROYW1lOiBbJ1VzZXJQcm9maWxlU2VydmljZScsIGZhbHNlXSxcbiAgICAgICAgTW9kaWZ5VXNlclByb3BlcnR5QnlBY2NvdW50TmFtZTogWydVc2VyUHJvZmlsZVNlcnZpY2UnLCB0cnVlXSxcbiAgICAgICAgUmVtb3ZlQWxsQ29sbGVhZ3VlczogWydVc2VyUHJvZmlsZVNlcnZpY2UnLCB0cnVlXSxcbiAgICAgICAgUmVtb3ZlQWxsTGlua3M6IFsnVXNlclByb2ZpbGVTZXJ2aWNlJywgdHJ1ZV0sXG4gICAgICAgIFJlbW92ZUFsbE1lbWJlcnNoaXBzOiBbJ1VzZXJQcm9maWxlU2VydmljZScsIHRydWVdLFxuICAgICAgICBSZW1vdmVBbGxQaW5uZWRMaW5rczogWydVc2VyUHJvZmlsZVNlcnZpY2UnLCB0cnVlXSxcbiAgICAgICAgUmVtb3ZlQ29sbGVhZ3VlOiBbJ1VzZXJQcm9maWxlU2VydmljZScsIHRydWVdLFxuICAgICAgICBSZW1vdmVMaW5rOiBbJ1VzZXJQcm9maWxlU2VydmljZScsIHRydWVdLFxuICAgICAgICBSZW1vdmVNZW1iZXJzaGlwOiBbJ1VzZXJQcm9maWxlU2VydmljZScsIHRydWVdLFxuICAgICAgICBSZW1vdmVQaW5uZWRMaW5rOiBbJ1VzZXJQcm9maWxlU2VydmljZScsIHRydWVdLFxuICAgICAgICBVcGRhdGVDb2xsZWFndWVQcml2YWN5OiBbJ1VzZXJQcm9maWxlU2VydmljZScsIHRydWVdLFxuICAgICAgICBVcGRhdGVMaW5rOiBbJ1VzZXJQcm9maWxlU2VydmljZScsIHRydWVdLFxuICAgICAgICBVcGRhdGVNZW1iZXJzaGlwUHJpdmFjeTogWydVc2VyUHJvZmlsZVNlcnZpY2UnLCB0cnVlXSxcbiAgICAgICAgVXBkYXRlUGlubmVkTGluazogWydVc2VyUHJvZmlsZVNlcnZpY2UnLCB0cnVlXSxcbiAgICAgICAgRGVsZXRlQWxsVmVyc2lvbnM6IFsnVmVyc2lvbnMnLCB0cnVlXSxcbiAgICAgICAgRGVsZXRlVmVyc2lvbjogWydWZXJzaW9ucycsIHRydWVdLFxuICAgICAgICBHZXRWZXJzaW9uczogWydWZXJzaW9ucycsIGZhbHNlXSxcbiAgICAgICAgUmVzdG9yZVZlcnNpb246IFsnVmVyc2lvbnMnLCB0cnVlXSxcbiAgICAgICAgQWRkVmlldzogWydWaWV3cycsIHRydWVdLFxuICAgICAgICBEZWxldGVWaWV3OiBbJ1ZpZXdzJywgdHJ1ZV0sXG4gICAgICAgIEdldFZpZXc6IFsnVmlld3MnLCBmYWxzZV0sXG4gICAgICAgIEdldFZpZXdIdG1sOiBbJ1ZpZXdzJywgZmFsc2VdLFxuICAgICAgICBHZXRWaWV3Q29sbGVjdGlvbjogWydWaWV3cycsIGZhbHNlXSxcbiAgICAgICAgVXBkYXRlVmlldzogWydWaWV3cycsIHRydWVdLFxuICAgICAgICBVcGRhdGVWaWV3SHRtbDogWydWaWV3cycsIHRydWVdLFxuICAgICAgICBBZGRXZWJQYXJ0OiBbJ1dlYlBhcnRQYWdlcycsIHRydWVdLFxuICAgICAgICBBZGRXZWJQYXJ0VG9ab25lOiBbJ1dlYlBhcnRQYWdlcycsIHRydWVdLFxuICAgICAgICBHZXRXZWJQYXJ0MjogWydXZWJQYXJ0UGFnZXMnLCBmYWxzZV0sXG4gICAgICAgIEdldFdlYlBhcnRQYWdlOiBbJ1dlYlBhcnRQYWdlcycsIGZhbHNlXSxcbiAgICAgICAgR2V0V2ViUGFydFByb3BlcnRpZXM6IFsnV2ViUGFydFBhZ2VzJywgZmFsc2VdLFxuICAgICAgICBHZXRXZWJQYXJ0UHJvcGVydGllczI6IFsnV2ViUGFydFBhZ2VzJywgZmFsc2VdLFxuICAgICAgICBHZXRDb2x1bW5zOiBbJ1dlYnMnLCBmYWxzZV0sXG4gICAgICAgIEdldENvbnRlbnRUeXBlOiBbJ1dlYnMnLCBmYWxzZV0sXG4gICAgICAgIEdldENvbnRlbnRUeXBlczogWydXZWJzJywgZmFsc2VdLFxuICAgICAgICBHZXRDdXN0b21pemVkUGFnZVN0YXR1czogWydXZWJzJywgZmFsc2VdLFxuICAgICAgICBHZXRMaXN0VGVtcGxhdGVzOiBbJ1dlYnMnLCBmYWxzZV0sXG4gICAgICAgIEdldE9iamVjdElkRnJvbVVybDogWydXZWJzJywgZmFsc2VdLFxuICAgICAgICBHZXRXZWI6IFsnV2VicycsIGZhbHNlXSxcbiAgICAgICAgR2V0V2ViQ29sbGVjdGlvbjogWydXZWJzJywgZmFsc2VdLFxuICAgICAgICBHZXRBbGxTdWJXZWJDb2xsZWN0aW9uOiBbJ1dlYnMnLCBmYWxzZV0sXG4gICAgICAgIFVwZGF0ZUNvbHVtbnM6IFsnV2VicycsIHRydWVdLFxuICAgICAgICBXZWJVcmxGcm9tUGFnZVVybDogWydXZWJzJywgZmFsc2VdLFxuICAgICAgICBBbHRlclRvRG86IFsnV29ya2Zsb3cnLCB0cnVlXSxcbiAgICAgICAgQ2xhaW1SZWxlYXNlVGFzazogWydXb3JrZmxvdycsIHRydWVdLFxuICAgICAgICBHZXRUZW1wbGF0ZXNGb3JJdGVtOiBbJ1dvcmtmbG93JywgZmFsc2VdLFxuICAgICAgICBHZXRUb0Rvc0Zvckl0ZW06IFsnV29ya2Zsb3cnLCBmYWxzZV0sXG4gICAgICAgIEdldFdvcmtmbG93RGF0YUZvckl0ZW06IFsnV29ya2Zsb3cnLCBmYWxzZV0sXG4gICAgICAgIEdldFdvcmtmbG93VGFza0RhdGE6IFsnV29ya2Zsb3cnLCBmYWxzZV0sXG4gICAgICAgIFN0YXJ0V29ya2Zsb3c6IFsnV29ya2Zsb3cnLCB0cnVlXVxuICAgIH07XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnYW5ndWxhclBvaW50JylcbiAgICAgICAgLmNvbnN0YW50KCdhcFdlYlNlcnZpY2VPcGVyYXRpb25Db25zdGFudHMnLCBXZWJTZXJ2aWNlT3BlcmF0aW9uQ29uc3RhbnRzKTtcblxufVxuIiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3MvYXAuZC50c1wiIC8+XG5cbm1vZHVsZSBhcCB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgZXhwb3J0IHZhciBYTUxGaWVsZEF0dHJpYnV0ZVR5cGVzID0ge1xuICAgICAgICBEZWNpbWFsczogJ051bWJlcicsXG4gICAgICAgIEVuZm9yY2VVbmlxdWVWYWx1ZXM6ICdCb29sZWFuJyxcbiAgICAgICAgRmlsdGVyYWJsZTogJ0Jvb2xlYW4nLFxuICAgICAgICBGcm9tQmFzZVR5cGU6ICdCb29sZWFuJyxcbiAgICAgICAgSGlkZGVuOiAnQm9vbGVhbicsXG4gICAgICAgIEluZGV4ZWQ6ICdCb29sZWFuJyxcbiAgICAgICAgTnVtTGluZXM6ICdOdW1iZXInLFxuICAgICAgICBSZWFkT25seTogJ0Jvb2xlYW4nLFxuICAgICAgICBSZXF1aXJlZDogJ0Jvb2xlYW4nLFxuICAgICAgICBTb3J0YWJsZTogJ0Jvb2xlYW4nXG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBvYmplY3RcbiAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBYTUxMaXN0QXR0cmlidXRlVHlwZXNcbiAgICAgKiBAZGVzY3JpcHRpb24gQ29uc3RhbnQgb2JqZWN0IG1hcCB3aGljaCBjb250YWlucyBtYW55IGNvbW1vbiBYTUwgYXR0cmlidXRlcyBmb3VuZCBvbiBhIGZpZWxkIGRlZmluaXRpb24gd2l0aCB0aGVpclxuICAgICAqIGNvcnJlc3BvbmRpbmcgdHlwZS5cbiAgICAgKi9cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2FuZ3VsYXJQb2ludCcpXG4gICAgICAgIC5jb25zdGFudCgnYXBYTUxGaWVsZEF0dHJpYnV0ZVR5cGVzJywgWE1MRmllbGRBdHRyaWJ1dGVUeXBlcyk7XG5cbn1cbiIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90eXBpbmdzL2FwLmQudHNcIiAvPlxuXG5tb2R1bGUgYXAge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGV4cG9ydCB2YXIgWE1MTGlzdEF0dHJpYnV0ZVR5cGVzID0ge1xuICAgICAgICBCYXNlVHlwZTogJ051bWJlcicsXG4gICAgICAgIFNlcnZlclRlbXBsYXRlOiAnTnVtYmVyJyxcbiAgICAgICAgQ3JlYXRlZDogJ0RhdGVUaW1lJyxcbiAgICAgICAgTW9kaWZpZWQ6ICdEYXRlVGltZScsXG4gICAgICAgIExhc3REZWxldGVkOiAnRGF0ZVRpbWUnLFxuICAgICAgICBWZXJzaW9uOiAnTnVtYmVyJyxcbiAgICAgICAgVGh1bWJuYWlsU2l6ZTogJ051bWJlcicsXG4gICAgICAgIFdlYkltYWdlV2lkdGg6ICdOdW1iZXInLFxuICAgICAgICBXZWJJbWFnZUhlaWdodDogJ051bWJlcicsXG4gICAgICAgIEZsYWdzOiAnTnVtYmVyJyxcbiAgICAgICAgSXRlbUNvdW50OiAnTnVtYmVyJyxcbiAgICAgICAgUmVhZFNlY3VyaXR5OiAnTnVtYmVyJyxcbiAgICAgICAgV3JpdGVTZWN1cml0eTogJ051bWJlcicsXG4gICAgICAgIEF1dGhvcjogJ051bWJlcicsXG4gICAgICAgIE1ham9yV2l0aE1pbm9yVmVyc2lvbnNMaW1pdDogJ051bWJlcicsXG4gICAgICAgIEhhc1VuaXF1ZVNjb3BlczogJ0Jvb2xlYW4nLFxuICAgICAgICBOb1Rocm90dGxlTGlzdE9wZXJhdGlvbnM6ICdCb29sZWFuJyxcbiAgICAgICAgSGFzUmVsYXRlZExpc3RzOiAnQm9vbGVhbicsXG4gICAgICAgIEFsbG93RGVsZXRpb246ICdCb29sZWFuJyxcbiAgICAgICAgQWxsb3dNdWx0aVJlc3BvbnNlczogJ0Jvb2xlYW4nLFxuICAgICAgICBFbmFibGVBdHRhY2htZW50czogJ0Jvb2xlYW4nLFxuICAgICAgICBFbmFibGVNb2RlcmF0aW9uOiAnQm9vbGVhbicsXG4gICAgICAgIEVuYWJsZVZlcnNpb25pbmc6ICdCb29sZWFuJyxcbiAgICAgICAgSGFzRXh0ZXJuYWxEYXRhU291cmNlOiAnQm9vbGVhbicsXG4gICAgICAgIEhpZGRlbjogJ0Jvb2xlYW4nLFxuICAgICAgICBNdWx0aXBsZURhdGFMaXN0OiAnQm9vbGVhbicsXG4gICAgICAgIE9yZGVyZWQ6ICdCb29sZWFuJyxcbiAgICAgICAgU2hvd1VzZXI6ICdCb29sZWFuJyxcbiAgICAgICAgRW5hYmxlUGVvcGxlU2VsZWN0b3I6ICdCb29sZWFuJyxcbiAgICAgICAgRW5hYmxlUmVzb3VyY2VTZWxlY3RvcjogJ0Jvb2xlYW4nLFxuICAgICAgICBFbmFibGVNaW5vclZlcnNpb246ICdCb29sZWFuJyxcbiAgICAgICAgUmVxdWlyZUNoZWNrb3V0OiAnQm9vbGVhbicsXG4gICAgICAgIFRocm90dGxlTGlzdE9wZXJhdGlvbnM6ICdCb29sZWFuJyxcbiAgICAgICAgRXhjbHVkZUZyb21PZmZsaW5lQ2xpZW50OiAnQm9vbGVhbicsXG4gICAgICAgIEVuYWJsZUZvbGRlckNyZWF0aW9uOiAnQm9vbGVhbicsXG4gICAgICAgIElybUVuYWJsZWQ6ICdCb29sZWFuJyxcbiAgICAgICAgSXNBcHBsaWNhdGlvbkxpc3Q6ICdCb29sZWFuJyxcbiAgICAgICAgUHJlc2VydmVFbXB0eVZhbHVlczogJ0Jvb2xlYW4nLFxuICAgICAgICBTdHJpY3RUeXBlQ29lcmNpb246ICdCb29sZWFuJyxcbiAgICAgICAgRW5mb3JjZURhdGFWYWxpZGF0aW9uOiAnQm9vbGVhbicsXG4gICAgICAgIE1heEl0ZW1zUGVyVGhyb3R0bGVkT3BlcmF0aW9uOiAnTnVtYmVyJ1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2Mgb2JqZWN0XG4gICAgICogQG5hbWUgYW5ndWxhclBvaW50LmFwWE1MTGlzdEF0dHJpYnV0ZVR5cGVzXG4gICAgICogQGRlc2NyaXB0aW9uIENvbnN0YW50IG9iamVjdCBtYXAgd2hpY2ggY29udGFpbnMgbWFueSBjb21tb24gWE1MIGF0dHJpYnV0ZXMgZm91bmQgb24gYSBsaXN0IGRlZmluaXRpb24gd2l0aCB0aGVpclxuICAgICAqIGNvcnJlc3BvbmRpbmcgdHlwZS5cbiAgICAgKi9cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2FuZ3VsYXJQb2ludCcpXG4gICAgICAgIC5jb25zdGFudCgnYXBYTUxMaXN0QXR0cmlidXRlVHlwZXMnLCBYTUxMaXN0QXR0cmlidXRlVHlwZXMpO1xuXG59XG4iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy9hcC5kLnRzXCIgLz5cblxubW9kdWxlIGFwIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBleHBvcnQgY2xhc3MgQ2FtbEZhY3Rvcnkge1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAgICogQG5hbWUgYW5ndWxhclBvaW50LmFwQ2FtbEZhY3Rvcnk6Y2FtbENvbnRhaW5zUXVlcnlcbiAgICAgICAgICogQG1ldGhvZE9mIGFuZ3VsYXJQb2ludC5hcENhbWxGYWN0b3J5XG4gICAgICAgICAqIEBwYXJhbWV0ZXIge29iamVjdFtdfSBmaWVsZERlZmluaXRpb25zQXJyYXkgQXJyYXkgb2YgZmllbGRzIHRvIHNlYXJjaCBmb3IgYSBnaXZlbiBzZWFyY2ggc3RyaW5nLlxuICAgICAgICAgKiBAcGFyYW1ldGVyIHtzdHJpbmd9IHNlYXJjaFN0cmluZyBTdHJpbmcgb2YgdGV4dCB0byBzZWFyY2ggcmVjb3JkcyBmb3IuXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBSZXR1cm5zIGEgY29tYmluYXRpb24gb2Ygc2VsZWN0b3JzIHVzaW5nIENBTUwgJzxPcj48L09yPicgZWxlbWVudHNcbiAgICAgICAgICogQHJldHVybnMge3N0cmluZ30gQ2FtbCBzZWxlY3Qgc3RyaW5nLlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiA8cHJlPlxuICAgICAgICAgKlxuICAgICAgICAgKiB2YXIgdGVzdEhUTUwgPSB7b2JqZWN0VHlwZTogJ0hUTUwnLCBzdGF0aWNOYW1lOiAnSFRNTCd9O1xuICAgICAgICAgKiB2YXIgdGVzdEpTT04gPSB7b2JqZWN0VHlwZTogJ0pTT04nLCBzdGF0aWNOYW1lOiAnSlNPTid9O1xuICAgICAgICAgKiB2YXIgdGVzdFRleHQgPSB7b2JqZWN0VHlwZTogJ1RleHQnLCBzdGF0aWNOYW1lOiAnVGV4dCd9O1xuICAgICAgICAgKiB2YXIgdGVzdFRleHQyID0ge29iamVjdFR5cGU6ICdUZXh0Jywgc3RhdGljTmFtZTogJ1RleHQnfTtcbiAgICAgICAgICpcbiAgICAgICAgICogdmFyIHRlc3RDYW1sID0gY2FtbENvbnRhaW5zUXVlcnkoW3Rlc3RIVE1MLCB0ZXN0VGV4dCwgdGVzdEpTT04sIHRlc3RUZXh0Ml0sICdUZXN0IFF1ZXJ5Jyk7XG4gICAgICAgICAqIGNvbnNvbGUubG9nKHRlc3RDYW1sKTtcbiAgICAgICAgICpcbiAgICAgICAgICogLy9SZXR1cm5zXG4gICAgICAgICAqIDxPcj48Q29udGFpbnM+PEZpZWxkUmVmIE5hbWU9XFxcIkhUTUxcXFwiIC8+PFZhbHVlIFR5cGU9XFxcIlRleHRcXFwiPjwhW0NEQVRBW1Rlc3QgUXVlcnldXT5cbiAgICAgICAgICogPC9WYWx1ZT48L0NvbnRhaW5zPjxPcj48Q29udGFpbnM+PEZpZWxkUmVmIE5hbWU9XFxcIlRleHRcXFwiIC8+PFZhbHVlIFR5cGU9XFxcIlRleHRcXFwiPlRlc3QgUXVlcnk8L1ZhbHVlPlxuICAgICAgICAgKiA8L0NvbnRhaW5zPjxPcj48Q29udGFpbnM+PEZpZWxkUmVmIE5hbWU9XFxcIkpTT05cXFwiIC8+PFZhbHVlIFR5cGU9XFxcIlRleHRcXFwiPjwhW0NEQVRBW1Rlc3QgUXVlcnldXT5cbiAgICAgICAgICogPC9WYWx1ZT48L0NvbnRhaW5zPjxDb250YWlucz48RmllbGRSZWYgTmFtZT1cXFwiVGV4dFxcXCIgLz48VmFsdWUgVHlwZT1cXFwiVGV4dFxcXCI+VGVzdCBRdWVyeTwvVmFsdWU+XG4gICAgICAgICAqIDwvQ29udGFpbnM+PC9Pcj48L09yPjwvT3I+XG4gICAgICAgICAqIDwvcHJlPlxuICAgICAgICAgKi9cbiAgICAgICAgY2FtbENvbnRhaW5zUXVlcnkoZmllbGREZWZpbml0aW9uc0FycmF5OklGaWVsZERlZmluaXRpb25bXSwgc2VhcmNoU3RyaW5nOnN0cmluZyk6c3RyaW5nIHtcbiAgICAgICAgICAgIHZhciBzZWxlY3RTdGF0ZW1lbnRzID0gW107XG5cbiAgICAgICAgICAgIC8qKiBDcmVhdGUgYSBzZWxlY3Qgc3RhdGVtZW50IGZvciBlYWNoIGZpZWxkICovXG4gICAgICAgICAgICBfLmVhY2goZmllbGREZWZpbml0aW9uc0FycmF5LCAoZmllbGREZWZpbml0aW9uLCBkZWZpbml0aW9uSW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICBzZWxlY3RTdGF0ZW1lbnRzLnB1c2godGhpcy5jcmVhdGVDYW1sQ29udGFpbnNTZWxlY3RvcihmaWVsZERlZmluaXRpb24sIHNlYXJjaFN0cmluZykpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNoYWluQ2FtbFNlbGVjdHMoc2VsZWN0U3RhdGVtZW50cywgJ0FuZCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBDYW1sRmFjdG9yeTpjaGFpbkNhbWxTZWxlY3RzXG4gICAgICAgICAqIEBtZXRob2RPZiBhbmd1bGFyUG9pbnQuYXBDYW1sRmFjdG9yeVxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogVXNlZCB0byBjb21iaW5lIG11bHRpcGxlIGNhbWwgc2VsZWN0b3JzIGludG8gYSBzaW5nbGUgQ0FNTCBxdWVyeSBzdHJpbmcgd3JhcHBlZCBwcm9wZXJseS5cbiAgICAgICAgICogQHBhcmFtIHtvYmplY3RbXX0gc2VsZWN0U3RhdGVtZW50cyBBbiBhcnJheSBvZiBzZWxlY3Qgc3RhdGVtZW50cyB0byB3cmFwIGluIFwiPE9yPlwiLlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gam9pblR5cGUgVmFsaWQgY2FtbCBqb2luIHR5cGUgKCdPcicsICdBbmQnLCAuLi4pLlxuICAgICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBDQU1MIHF1ZXJ5IHN0cmluZy5cbiAgICAgICAgICovXG4gICAgICAgIGNoYWluQ2FtbFNlbGVjdHMoc2VsZWN0U3RhdGVtZW50czpPYmplY3RbXSwgam9pblR5cGU6c3RyaW5nKTpzdHJpbmcge1xuICAgICAgICAgICAgdmFyIGNhbWxRdWVyeSA9ICcnLFxuICAgICAgICAgICAgICAgIGNhbWxRdWVyeUNsb3N1cmUgPSAnJztcbiAgICAgICAgICAgIF8uZWFjaChzZWxlY3RTdGF0ZW1lbnRzLCBmdW5jdGlvbiAoc3RhdGVtZW50LCBzdGF0ZW1lbnRJbmRleCkge1xuICAgICAgICAgICAgICAgIC8qKiBBZGQgYW4gb3IgY2xhdXNlIGlmIHdlIHN0aWxsIGhhdmUgYWRkaXRpb25hbCBmaWVsZHMgdG8gcHJvY2VzcyAqL1xuICAgICAgICAgICAgICAgIGlmIChzdGF0ZW1lbnRJbmRleCA8IHNlbGVjdFN0YXRlbWVudHMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgICAgICBjYW1sUXVlcnkgKz0gJzwnICsgam9pblR5cGUgKyAnPic7XG4gICAgICAgICAgICAgICAgICAgIGNhbWxRdWVyeUNsb3N1cmUgPSAnPC8nICsgam9pblR5cGUgKyAnPicgKyBjYW1sUXVlcnlDbG9zdXJlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYW1sUXVlcnkgKz0gc3RhdGVtZW50O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gY2FtbFF1ZXJ5ICsgY2FtbFF1ZXJ5Q2xvc3VyZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAgICogQG5hbWUgYW5ndWxhclBvaW50LmFwQ2FtbEZhY3Rvcnk6Y3JlYXRlQ2FtbENvbnRhaW5zU2VsZWN0b3JcbiAgICAgICAgICogQG1ldGhvZE9mIGFuZ3VsYXJQb2ludC5hcENhbWxGYWN0b3J5XG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBFc2NhcGVzIGNoYXJhY3RlcnMgdGhhdCBTaGFyZVBvaW50IGdldHMgdXBzZXQgYWJvdXQgYmFzZWQgb24gZmllbGQgdHlwZS5cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogPHByZT5cbiAgICAgICAgICogdmFyIHRlc3RIVE1MID0ge29iamVjdFR5cGU6ICdIVE1MJywgc3RhdGljTmFtZTogJ0hUTUwnfTtcbiAgICAgICAgICpcbiAgICAgICAgICogdmFyIHRlc3RDYW1sID0gY3JlYXRlQ2FtbENvbnRhaW5zU2VsZWN0b3IodGVzdEhUTUwsICdUZXN0IFF1ZXJ5Jyk7XG4gICAgICAgICAqIGNvbnNvbGUubG9nKHRlc3RDYW1sKTtcbiAgICAgICAgICpcbiAgICAgICAgICogLy9SZXR1cm5zXG4gICAgICAgICAqIDxDb250YWlucz5cbiAgICAgICAgICogICA8RmllbGRSZWYgTmFtZT1cXFwiSFRNTFxcXCIgLz5cbiAgICAgICAgICogICA8VmFsdWUgVHlwZT1cXFwiVGV4dFxcXCI+PCFbQ0RBVEFbVGVzdCBRdWVyeV1dPjwvVmFsdWU+XG4gICAgICAgICAqIDwvQ29udGFpbnM+XG4gICAgICAgICAqIDwvcHJlPlxuICAgICAgICAgKi9cbiAgICAgICAgY3JlYXRlQ2FtbENvbnRhaW5zU2VsZWN0b3IoZmllbGREZWZpbml0aW9uOklGaWVsZERlZmluaXRpb24sIHNlYXJjaFN0cmluZzpzdHJpbmcpOnN0cmluZyB7XG4gICAgICAgICAgICB2YXIgY2FtbFNlbGVjdG9yO1xuICAgICAgICAgICAgc3dpdGNoIChmaWVsZERlZmluaXRpb24ub2JqZWN0VHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ0hUTUwnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ0pTT04nOlxuICAgICAgICAgICAgICAgICAgICBjYW1sU2VsZWN0b3IgPSAnJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnPENvbnRhaW5zPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJzxGaWVsZFJlZiBOYW1lPVwiJyArIGZpZWxkRGVmaW5pdGlvbi5zdGF0aWNOYW1lICsgJ1wiIC8+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAvKiogVXNlIENEQVRBIHdyYXBwZXIgdG8gZXNjYXBlIFsmLCA8LCA+IF0gKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICc8VmFsdWUgVHlwZT1cIlRleHRcIj48IVtDREFUQVsnICsgc2VhcmNoU3RyaW5nICsgJ11dPjwvVmFsdWU+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnPC9Db250YWlucz4nO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBjYW1sU2VsZWN0b3IgPSAnJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnPENvbnRhaW5zPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJzxGaWVsZFJlZiBOYW1lPVwiJyArIGZpZWxkRGVmaW5pdGlvbi5zdGF0aWNOYW1lICsgJ1wiIC8+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnPFZhbHVlIFR5cGU9XCJUZXh0XCI+JyArIHNlYXJjaFN0cmluZyArICc8L1ZhbHVlPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJzwvQ29udGFpbnM+JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjYW1sU2VsZWN0b3I7XG4gICAgICAgIH1cblxuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgYW5ndWxhclBvaW50LmFwQ2FtbEZhY3RvcnlcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBUb29scyB0byBhc3Npc3Qgd2l0aCB0aGUgY3JlYXRpb24gb2YgQ0FNTCBxdWVyaWVzLlxuICAgICAqXG4gICAgICovXG4gICAgYW5ndWxhci5tb2R1bGUoJ2FuZ3VsYXJQb2ludCcpXG4gICAgICAgIC5zZXJ2aWNlKCdhcENhbWxGYWN0b3J5JywgQ2FtbEZhY3RvcnkpO1xufVxuIiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3MvYXAuZC50c1wiIC8+XG5cbm1vZHVsZSBhcCB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIGFwRmllbGRTZXJ2aWNlOiBGaWVsZFNlcnZpY2UsIGFwVXRpbGl0eVNlcnZpY2U6IFV0aWxpdHlTZXJ2aWNlO1xuXG4gICAgZXhwb3J0IGludGVyZmFjZSBJRmllbGREZWZpbml0aW9uIHtcbiAgICAgICAgY2hvaWNlcz86IHN0cmluZ1tdO1xuICAgICAgICBDaG9pY2VzPzogc3RyaW5nW107XG4gICAgICAgIGRlc2NyaXB0aW9uPzogc3RyaW5nO1xuICAgICAgICBEZXNjcmlwdGlvbj86IHN0cmluZztcbiAgICAgICAgZGlzcGxheU5hbWU/OiBzdHJpbmc7XG4gICAgICAgIERpc3BsYXlOYW1lPzogc3RyaW5nO1xuICAgICAgICBnZXREZWZhdWx0VmFsdWVGb3JUeXBlPygpOiBzdHJpbmc7XG4gICAgICAgIGdldERlZmluaXRpb24/KCk6IHN0cmluZztcbiAgICAgICAgZ2V0TW9ja0RhdGE/KG9wdGlvbnM/OiBPYmplY3QpOiBhbnk7XG4gICAgICAgIGxhYmVsOiBzdHJpbmc7XG4gICAgICAgIG1hcHBlZE5hbWU6IHN0cmluZztcbiAgICAgICAgb2JqZWN0VHlwZTogc3RyaW5nO1xuICAgICAgICByZWFkT25seT86IGJvb2xlYW47XG4gICAgICAgIHJlcXVpcmVkPzogYm9vbGVhbjtcbiAgICAgICAgUmVxdWlyZWQ/OiBib29sZWFuO1xuICAgICAgICBzdGF0aWNOYW1lOiBzdHJpbmc7XG4gICAgICAgIExpc3Q/OnN0cmluZztcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBvYmplY3RcbiAgICAgKiBAbmFtZSBGaWVsZFxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIERlZmluZWQgaW4gdGhlIE1PREVMLmxpc3QuZmllbGREZWZpbml0aW9ucyBhcnJheS4gIEVhY2ggZmllbGQgZGVmaW5pdGlvbiBvYmplY3QgbWFwcyBhbiBpbnRlcm5hbCBmaWVsZFxuICAgICAqIGluIGEgU2hhcmVQb2ludCBsaXN0L2xpYnJhcnkgdG8gYSBKYXZhU2NyaXB0IG9iamVjdCB1c2luZyB0aGUgaW50ZXJuYWwgU2hhcmVQb2ludCBmaWVsZCBuYW1lLCB0aGUgZmllbGRcbiAgICAgKiB0eXBlLCBhbmQgdGhlIGRlc2lyZWQgSmF2YVNjcmlwdCBwcm9wZXJ0eSBuYW1lIHRvIGFkZCBvbnRvIHRoZSBwYXJzZWQgbGlzdCBpdGVtIG9iamVjdC4gSWdub3JlIHNob3duIHVzYWdlLFxuICAgICAqIGVhY2ggZmllbGQgZGVmaW5pdGlvbiBpcyBqdXN0IGFuIG9iamVjdCB3aXRoaW4gdGhlIGZpZWxkRGVmaW5pdGlvbnMgYXJyYXkuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9iaiBGaWVsZCBkZWZpbml0aW9uLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBvYmouc3RhdGljTmFtZSBUaGUgYWN0dWFsIFNoYXJlUG9pbnQgZmllbGQgbmFtZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29iai5vYmplY3RUeXBlPSdUZXh0J11cbiAgICAgKiA8ZGw+XG4gICAgICogICAgIDxkdD5Cb29sZWFuPC9kdD5cbiAgICAgKiAgICAgPGRkPlVzZWQgdG8gc3RvcmUgYSBUUlVFL0ZBTFNFIHZhbHVlIChzdG9yZWQgaW4gU2hhcmVQb2ludCBhcyAwIG9yIDEpLjwvZGQ+XG4gICAgICogICAgIDxkdD5DYWxjPC9kdD5cbiAgICAgKiAgICAgPGRkPlwiOyNcIiBEZWxpbWl0ZWQgU3RyaW5nOiBUaGUgZmlyc3QgdmFsdWUgd2lsbCBiZSB0aGUgY2FsY3VsYXRlZCBjb2x1bW4gdmFsdWVcbiAgICAgKiAgICAgdHlwZSwgdGhlIHNlY29uZCB3aWxsIGJlIHRoZSB2YWx1ZTwvZGQ+XG4gICAgICogICAgIDxkdD5DaG9pY2U8L2R0PlxuICAgICAqICAgICA8ZGQ+U2ltcGxlIHRleHQgc3RyaW5nIGJ1dCB3aGVuIHByb2Nlc3NpbmcgdGhlIGluaXRpYWwgbGlzdCBkZWZpbml0aW9uLCB3ZVxuICAgICAqICAgICBsb29rIGZvciBhIENob2ljZXMgWE1MIGVsZW1lbnQgd2l0aGluIHRoZSBmaWVsZCBkZWZpbml0aW9uIGFuZCBzdG9yZSBlYWNoXG4gICAgICogICAgIHZhbHVlLiAgV2UgY2FuIHRoZW4gcmV0cmlldmUgdGhlIHZhbGlkIENob2ljZXMgd2l0aCBvbmUgb2YgdGhlIGZvbGxvd2luZzpcbiAgICAgKiAgICAgYGBgdmFyIGZpZWxkRGVmaW5pdGlvbiA9IExJU1RJVEVNLmdldEZpZWxkRGVmaW5pdGlvbignQ0hPSUNFX0ZJRUxEX05BTUUnKTtgYGBcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JcbiAgICAgKiAgICAgYGBgdmFyIGZpZWxkRGVmaW5pdGlvbiA9IE1PREVMTkFNRS5nZXRGaWVsZERlZmluaXRpb24oJ0NIT0lDRV9GSUVMRF9OQU1FJyk7YGBgXG4gICAgICogICAgIGBgYHZhciBjaG9pY2VzID0gZmllbGREZWZpbml0aW9uLkNob2ljZXM7YGBgXG5cbiAgICAgKiAgICAgPC9kZD5cbiAgICAgKiAgICAgPGR0PkNvdW50ZXI8L2R0PlxuICAgICAqICAgICA8ZGQ+U2FtZSBhcyBJbnRlZ2VyLiBHZW5lcmFsbHkgdXNlZCBvbmx5IGZvciB0aGUgaW50ZXJuYWwgSUQgZmllbGQuIEl0cyBpbnRlZ2VyXG4gICAgICogICAgIHZhbHVlIGlzIHNldCBhdXRvbWF0aWNhbGx5IHRvIGJlIHVuaXF1ZSB3aXRoIHJlc3BlY3QgdG8gZXZlcnkgb3RoZXIgaXRlbSBpbiB0aGVcbiAgICAgKiAgICAgY3VycmVudCBsaXN0LiBUaGUgQ291bnRlciB0eXBlIGlzIGFsd2F5cyByZWFkLW9ubHkgYW5kIGNhbm5vdCBiZSBzZXQgdGhyb3VnaCBhXG4gICAgICogICAgIGZvcm0gcG9zdC48L2RkPlxuICAgICAqICAgICA8ZHQ+Q3VycmVuY3k8L2R0PlxuICAgICAqICAgICA8ZGQ+RmxvYXRpbmcgcG9pbnQgbnVtYmVyLjwvZGQ+XG4gICAgICogICAgIDxkdD5EYXRlVGltZTwvZHQ+XG4gICAgICogICAgIDxkZD5SZXBsYWNlIGRhc2hlcyB3aXRoIHNsYXNoZXMgYW5kIHRoZSBcIlRcIiBkZWxpbWluYXRvciB3aXRoIGEgc3BhY2UgaWYgZm91bmQuICBUaGVuXG4gICAgICogICAgIGNvbnZlcnRzIGludG8gYSB2YWxpZCBKUyBkYXRlIG9iamVjdC48L2RkPlxuICAgICAqICAgICA8ZHQ+RmxvYXQ8L2R0PlxuICAgICAqICAgICA8ZGQ+RmxvYXRpbmcgcG9pbnQgbnVtYmVyLjwvZGQ+XG4gICAgICogICAgIDxkdD5IVE1MPC9kdD5cbiAgICAgKiAgICAgPGRkPmBgYF8udW5lc2NhcGUoU1RSSU5HKWBgYDwvZGQ+XG4gICAgICogICAgIDxkdD5JbnRlZ2VyPC9kdD5cbiAgICAgKiAgICAgPGRkPlBhcnNlcyB0aGUgc3RyaW5nIHRvIGEgYmFzZSAxMCBpbnQuPC9kZD5cbiAgICAgKiAgICAgPGR0PkpTT048L2R0PlxuICAgICAqICAgICA8ZGQ+UGFyc2VzIEpTT04gaWYgdmFsaWQgYW5kIGNvbnZlcnRzIGludG8gYSBhIEpTIG9iamVjdC4gIElmIG5vdCB2YWxpZCwgYW4gZXJyb3IgaXNcbiAgICAgKiAgICAgdGhyb3duIHdpdGggYWRkaXRpb25hbCBpbmZvIG9uIHNwZWNpZmljYWxseSB3aGF0IGlzIGludmFsaWQuPC9kZD5cbiAgICAgKiAgICAgPGR0Pkxvb2t1cDwvZHQ+XG4gICAgICogICAgIDxkZD5QYXNzZXMgc3RyaW5nIHRvIExvb2t1cCBjb25zdHJ1Y3RvciB3aGVyZSBpdCBpcyBicm9rZW4gaW50byBhbiBvYmplY3QgY29udGFpbmluZ1xuICAgICAqICAgICBhIFwibG9va3VwVmFsdWVcIiBhbmQgXCJsb29rdXBJZFwiIGF0dHJpYnV0ZS4gIEluaGVyaXRzIGFkZGl0aW9uYWwgcHJvdG90eXBlIG1ldGhvZHMgZnJvbVxuICAgICAqICAgICBMb29rdXAuICBTZWUgW0xvb2t1cF0oIy9hcGkvTG9va3VwKSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAgICAgKiAgICAgPC9kZD5cbiAgICAgKiAgICAgPGR0Pkxvb2t1cE11bHRpPC9kdD5cbiAgICAgKiAgICAgPGRkPkNvbnZlcnRzIG11bHRpcGxlIGRlbGltaXRlZCBcIjsjXCIgc3RyaW5ncyBpbnRvIGFuIGFycmF5IG9mIExvb2t1cCBvYmplY3RzLjwvZGQ+XG4gICAgICogICAgIDxkdD5NdWx0aUNob2ljZTwvZHQ+XG4gICAgICogICAgIDxkZD5Db252ZXJ0cyBkZWxpbWl0ZWQgXCI7I1wiIHN0cmluZyBpbnRvIGFuIGFycmF5IG9mIHN0cmluZ3MgcmVwcmVzZW50aW5nIGVhY2ggb2YgdGhlXG4gICAgICogICAgIHNlbGVjdGVkIGNob2ljZXMuICBTaW1pbGFyIHRvIHRoZSBzaW5nbGUgXCJDaG9pY2VcIiwgdGhlIFhNTCBDaG9pY2VzIGFyZSBzdG9yZWQgaW4gdGhlXG4gICAgICogICAgIGZpZWxkIGRlZmluaXRpb24gYWZ0ZXIgdGhlIGluaXRpYWwgY2FsbCBpcyByZXR1cm5lZCBmcm9tIFNoYXJlUG9pbnQgc28gd2UgY2FuIHJlZmVyZW5jZVxuICAgICAqICAgICBsYXRlci5cbiAgICAgKiAgICAgPC9kZD5cbiAgICAgKiAgICAgPGR0Pk51bWJlcjwvZHQ+XG4gICAgICogICAgIDxkZD5UcmVhdHMgYXMgYSBmbG9hdC48L2RkPlxuICAgICAqICAgICA8ZHQ+VGV4dDwvZHQ+XG4gICAgICogICAgIDxkZD4qKkRlZmF1bHQqKiBObyBwcm9jZXNzaW5nIG9mIHRoZSB0ZXh0IHN0cmluZyBmcm9tIFhNTC48L2RkPlxuICAgICAqICAgICA8ZHQ+VXNlcjwvZHQ+XG4gICAgICogICAgIDxkZD5TaW1pbGFyIHRvIExvb2t1cCBidXQgdXNlcyB0aGUgXCJVc2VyXCIgcHJvdG90eXBlIGFzIGEgY29uc3RydWN0b3IgdG8gY29udmVydCBpbnRvIGFcbiAgICAgKiAgICAgVXNlciBvYmplY3Qgd2l0aCBcImxvb2t1cElkXCIgYW5kIFwibG9va3VwVmFsdWVcIiBhdHRyaWJ1dGVzLiAgVGhlIGxvb2t1cElkIGlzIHRoZSBzaXRlIGNvbGxlY3Rpb25cbiAgICAgKiAgICAgSUQgZm9yIHRoZSB1c2VyIGFuZCB0aGUgbG9va3VwVmFsdWUgaXMgdHlwaWNhbGx5IHRoZSBkaXNwbGF5IG5hbWUuXG4gICAgICogICAgIFNlZSBbVXNlcl0oIy9hcGkvVXNlcikgZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gICAgICogICAgIDwvZGQ+XG4gICAgICogICAgIDxkdD5Vc2VyTXVsdGk8L2R0PlxuICAgICAqICAgICA8ZGQ+UGFyc2VzIGRlbGltaXRlZCBzdHJpbmcgdG8gcmV0dXJucyBhbiBhcnJheSBvZiBVc2VyIG9iamVjdHMuPC9kZD5cbiAgICAgKiA8L2RsPlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBvYmoubWFwcGVkTmFtZSBUaGUgYXR0cmlidXRlIG5hbWUgd2UnZCBsaWtlIHRvIHVzZVxuICAgICAqIGZvciB0aGlzIGZpZWxkIG9uIHRoZSBuZXdseSBjcmVhdGVkIEpTIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvYmoucmVhZE9ubHk9ZmFsc2VdIFdoZW4gc2F2aW5nLCB3ZSBvbmx5IHB1c2ggZmllbGRzXG4gICAgICogdGhhdCBhcmUgbWFwcGVkIGFuZCBub3QgcmVhZCBvbmx5LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29iai5yZXF1aXJlZD1mYWxzZV0gQWxsb3dzIHVzIHRvIHZhbGlkYXRlIHRoZSBmaWVsZCB0byBlbnN1cmUgaXQgaXMgdmFsaWQgYmFzZWRcbiAgICAgKiBvbiBmaWVsZCB0eXBlLlxuICAgICAqIEByZXR1cm5zIHtvYmplY3R9IEZpZWxkXG4gICAgICpcbiAgICAgKiBAcmVxdWlyZXMgYW5ndWxhclBvaW50LmFwRmllbGRGYWN0b3J5XG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICovXG4gICAgZXhwb3J0IGNsYXNzIEZpZWxkIGltcGxlbWVudHMgSUZpZWxkRGVmaW5pdGlvbntcbiAgICAgICAgZGlzcGxheU5hbWU7XG4gICAgICAgIGludGVybmFsTmFtZTtcbiAgICAgICAgbGFiZWw7XG4gICAgICAgIG1hcHBlZE5hbWU7XG4gICAgICAgIG9iamVjdFR5cGU7XG4gICAgICAgIHN0YXRpY05hbWU7XG4gICAgICAgIGNvbnN0cnVjdG9yKG9iaikge1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICAgICAgdmFyIGRlZmF1bHRzID0ge1xuICAgICAgICAgICAgICAgIHJlYWRPbmx5OiBmYWxzZSxcbiAgICAgICAgICAgICAgICBvYmplY3RUeXBlOiAnVGV4dCdcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBfLmV4dGVuZChzZWxmLCBkZWZhdWx0cywgb2JqKTtcbiAgICAgICAgICAgIHNlbGYuZGlzcGxheU5hbWUgPSBzZWxmLmRpc3BsYXlOYW1lID8gc2VsZi5kaXNwbGF5TmFtZSA6IGFwVXRpbGl0eVNlcnZpY2UuZnJvbUNhbWVsQ2FzZShzZWxmLm1hcHBlZE5hbWUpO1xuICAgICAgICAgICAgLyoqIERlcHJlY2F0ZWQgaW50ZXJuYWwgbmFtZSBhbmQgcmVwbGFjZSB3aXRoIHN0YXRpY05hbWUgYnV0IG1haW50YWluIGNvbXBhdGliaWxpdHkgKi9cbiAgICAgICAgICAgIHNlbGYuc3RhdGljTmFtZSA9IHNlbGYuc3RhdGljTmFtZSB8fCBzZWxmLmludGVybmFsTmFtZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAgICogQG5hbWUgRmllbGQ6Z2V0RGVmYXVsdFZhbHVlRm9yVHlwZVxuICAgICAgICAgKiBAbWV0aG9kT2YgRmllbGRcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIFJldHVybnMgYW4gb2JqZWN0IGRlZmluaW5nIGEgc3BlY2lmaWMgZmllbGQgdHlwZVxuICAgICAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSB7IGRlZmF1bHRWYWx1ZTogJy4uLic6c3RyaW5nLCBzdGF0aWNNb2NrOiAnLi4uJzpzdHJpbmcsIGR5bmFtaWNNb2NrOiAuLi46RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICBnZXREZWZpbml0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIGFwRmllbGRTZXJ2aWNlLmdldERlZmluaXRpb24odGhpcy5vYmplY3RUeXBlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAgICogQG5hbWUgRmllbGQ6Z2V0RGVmYXVsdFZhbHVlRm9yVHlwZVxuICAgICAgICAgKiBAbWV0aG9kT2YgRmllbGRcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIENhbiByZXR1cm4gbW9jayBkYXRhIGFwcHJvcHJpYXRlIGZvciB0aGUgZmllbGQgdHlwZSwgYnkgZGVmYXVsdCBpdCBkeW5hbWljYWxseSBnZW5lcmF0ZXMgZGF0YSBidXRcbiAgICAgICAgICogdGhlIHN0YXRpY1ZhbHVlIHBhcmFtIHdpbGwgaW5zdGVhZCByZXR1cm4gYSBoYXJkIGNvZGVkIHR5cGUgc3BlY2lmaWMgdmFsdWUuXG4gICAgICAgICAqL1xuICAgICAgICBnZXREZWZhdWx0VmFsdWVGb3JUeXBlKCkge1xuICAgICAgICAgICAgcmV0dXJuIGFwRmllbGRTZXJ2aWNlLmdldERlZmF1bHRWYWx1ZUZvclR5cGUodGhpcy5vYmplY3RUeXBlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAgICogQG5hbWUgRmllbGQ6Z2V0TW9ja0RhdGFcbiAgICAgICAgICogQG1ldGhvZE9mIEZpZWxkXG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gT3B0aW9uYWwgcGFyYW1zIHBhc3NlZCB0byBhcEZpZWxkU2VydmljZS5nZXRNb2NrRGF0YS5cbiAgICAgICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5zdGF0aWNWYWx1ZT1mYWxzZV0gRGVmYXVsdCB0byBkeW5hbWljYWxseSBidWlsZCBtb2NrIGRhdGEuXG4gICAgICAgICAqIEByZXR1cm5zIHsqfSBtb2NrRGF0YVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0TW9ja0RhdGEgKG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBhcEZpZWxkU2VydmljZS5nZXRNb2NrRGF0YSh0aGlzLm9iamVjdFR5cGUsIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIHNlcnZpY2VcbiAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBGaWVsZEZhY3RvcnlcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBDb250YWlucyB0aGUgRmllbGQgY29uc3RydWN0b3IgYW5kIHByb3RvdHlwZSBkZWZpbml0aW9ucy5cbiAgICAgKiBAcHJvcGVydHkge2NvbnN0cnVjdG9yfSBGaWVsZCBUaGUgRmllbGQgY29uc3RydWN0b3IuXG4gICAgICpcbiAgICAgKiBAcmVxdWlyZXMgYW5ndWxhclBvaW50LmFwRmllbGRTZXJ2aWNlXG4gICAgICogQHJlcXVpcmVzIGFuZ3VsYXJQb2ludC5hcFV0aWxpdHlTZXJ2aWNlXG4gICAgICpcbiAgICAgKi9cbiAgICBleHBvcnQgY2xhc3MgRmllbGRGYWN0b3J5e1xuICAgICAgICBGaWVsZCA9IEZpZWxkO1xuICAgICAgICBjb25zdHJ1Y3RvcigkaW5qZWN0b3IpIHtcbiAgICAgICAgICAgIGFwRmllbGRTZXJ2aWNlID0gJGluamVjdG9yLmdldCgnYXBGaWVsZFNlcnZpY2UnKTtcbiAgICAgICAgICAgIGFwVXRpbGl0eVNlcnZpY2UgPSAkaW5qZWN0b3IuZ2V0KCdhcFV0aWxpdHlTZXJ2aWNlJyk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnYW5ndWxhclBvaW50JylcbiAgICAgICAgLnNlcnZpY2UoJ2FwRmllbGRGYWN0b3J5JywgRmllbGRGYWN0b3J5KTtcblxufVxuIiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3MvYXAuZC50c1wiIC8+XG5cbm1vZHVsZSBhcCB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgZXhwb3J0IGludGVyZmFjZSBJSW5kZXhlZENhY2hlIDxUPiB7XG4gICAgICAgIGFkZEVudGl0eShlbnRpdHk6VCk6IHZvaWQ7XG4gICAgICAgIGNsZWFyKCk6IHZvaWQ7XG4gICAgICAgIGNvdW50KCk6IG51bWJlcjtcbiAgICAgICAgZmlyc3QoKTogVDtcbiAgICAgICAga2V5cygpOiBzdHJpbmdbXTtcbiAgICAgICAgbGFzdCgpOiBUO1xuICAgICAgICBudGhFbnRpdHkoaW5kZXg6bnVtYmVyKTogVDtcbiAgICAgICAgcmVtb3ZlRW50aXR5KGxpc3RJdGVtOlR8bnVtYmVyKTogdm9pZDtcbiAgICAgICAgdG9BcnJheSgpOiBUW107XG4gICAgICAgIC8vT2JqZWN0IHdpdGgga2V5cyBlcXVhbGluZyBJRCBhbmQgdmFsdWVzIGJlaW5nIHRoZSBpbmRpdmlkdWFsIGxpc3QgaXRlbVxuICAgICAgICBba2V5OiBudW1iZXJdOiBUO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBvYmplY3RcbiAgICAgKiBAbmFtZSBJbmRleGVkQ2FjaGVcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBDYWNoZSBjb25zdHJ1Y3RvciB0aGF0IGlzIGV4dGVuZGVkIHRvIG1ha2UgaXQgZWFzaWVyIHRvIHdvcmsgd2l0aCB2aWEgcHJvdG90eXBlIG1ldGhvZHMuICBMb2NhdGVkIGluXG4gICAgICogYXBJbmRleGVkQ2FjaGVGYWN0b3J5LlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb2JqZWN0XSBPcHRpb25hbGx5IGV4dGVuZCBuZXcgY2FjaGUgd2l0aCBwcm92aWRlZCBvYmplY3QuXG4gICAgICogQHJlcXVpcmVzIGFuZ3VsYXJQb2ludC5hcEluZGV4ZWRDYWNoZUZhY3RvcnlcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKi9cbiAgICBleHBvcnQgY2xhc3MgSW5kZXhlZENhY2hlIGltcGxlbWVudHMgSUluZGV4ZWRDYWNoZSB7XG4gICAgICAgIGNvbnN0cnVjdG9yKG9iamVjdD86T2JqZWN0KSB7XG4gICAgICAgICAgICBpZiAob2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgXy5leHRlbmQodGhpcywgb2JqZWN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAgICogQG5hbWUgSW5kZXhlZENhY2hlLmFkZEVudGl0eVxuICAgICAgICAgKiBAbWV0aG9kT2YgSW5kZXhlZENhY2hlXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBBZGRzIGEgbmV3IGtleSB0byB0aGUgY2FjaGUgaWYgbm90IGFscmVhZHkgdGhlcmUgd2l0aCBhIHZhbHVlIG9mIHRoZSBuZXcgbGlzdEl0ZW0uXG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBsaXN0SXRlbSBFbnRpdHkgdG8gYWRkIHRvIHRoZSBjYWNoZS5cbiAgICAgICAgICovXG4gICAgICAgIGFkZEVudGl0eShsaXN0SXRlbTpMaXN0SXRlbSkge1xuICAgICAgICAgICAgaWYgKF8uaXNPYmplY3QobGlzdEl0ZW0pICYmICEhbGlzdEl0ZW0uaWQpIHtcbiAgICAgICAgICAgICAgICAvKiogT25seSBhZGQgdGhlIGxpc3RJdGVtIHRvIHRoZSBjYWNoZSBpZiBpdCdzIG5vdCBhbHJlYWR5IHRoZXJlICovXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzW2xpc3RJdGVtLmlkXSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzW2xpc3RJdGVtLmlkXSA9IGxpc3RJdGVtO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgJ0EgdmFsaWQgbGlzdEl0ZW0gd2FzblxcJ3QgZm91bmQ6ICcgKyBKU09OLnN0cmluZ2lmeShsaXN0SXRlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIEluZGV4ZWRDYWNoZS5jbGVhclxuICAgICAgICAgKiBAbWV0aG9kT2YgSW5kZXhlZENhY2hlXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBDbGVhcnMgYWxsIGNhY2hlZCBlbGVtZW50cyBmcm9tIHRoZSBjb250YWluaW5nIGNhY2hlIG9iamVjdC5cbiAgICAgICAgICovXG4gICAgICAgIGNsZWFyKCkge1xuICAgICAgICAgICAgXy5lYWNoKHRoaXMsIChsaXN0SXRlbSwga2V5KSA9PiBkZWxldGUgdGhpc1trZXldKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAgICogQG5hbWUgSW5kZXhlZENhY2hlLmNvdW50XG4gICAgICAgICAqIEBtZXRob2RPZiBJbmRleGVkQ2FjaGVcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIFJldHVybnMgdGhlIG51bWJlciBvZiBlbnRpdGllcyBpbiB0aGUgY2FjaGUuXG4gICAgICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IE51bWJlciBvZiBlbnRpdGllcyBpbiB0aGUgY2FjaGUuXG4gICAgICAgICAqL1xuICAgICAgICBjb3VudCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmtleXMoKS5sZW5ndGg7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIEluZGV4ZWRDYWNoZS5maXJzdFxuICAgICAgICAgKiBAbWV0aG9kT2YgSW5kZXhlZENhY2hlXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBSZXR1cm5zIHRoZSBmaXJzdCBsaXN0SXRlbSBpbiB0aGUgaW5kZXggKHNtYWxsZXN0IElEKS5cbiAgICAgICAgICogQHJldHVybnMge29iamVjdH0gRmlyc3QgbGlzdEl0ZW0gaW4gY2FjaGUuXG4gICAgICAgICAqL1xuICAgICAgICBmaXJzdCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm50aEVudGl0eSgwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAgICogQG5hbWUgSW5kZXhlZENhY2hlLmtleXNcbiAgICAgICAgICogQG1ldGhvZE9mIEluZGV4ZWRDYWNoZVxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogUmV0dXJucyB0aGUgYXJyYXkgb2Yga2V5cyAobGlzdEl0ZW0gSUQncykgZm9yIHRoZSBjYWNoZS5cbiAgICAgICAgICogQHJldHVybnMge3N0cmluZ1tdfSBBcnJheSBvZiBsaXN0SXRlbSBpZCdzIGFzIHN0cmluZ3MuXG4gICAgICAgICAqL1xuICAgICAgICBrZXlzKCkge1xuICAgICAgICAgICAgcmV0dXJuIF8ua2V5cyh0aGlzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAgICogQG5hbWUgSW5kZXhlZENhY2hlLmxhc3RcbiAgICAgICAgICogQG1ldGhvZE9mIEluZGV4ZWRDYWNoZVxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogUmV0dXJucyB0aGUgbGFzdCBsaXN0SXRlbSBpbiB0aGUgaW5kZXggKGxhcmdlc3QgSUQpLlxuICAgICAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSBMYXN0IGxpc3RJdGVtIGluIGNhY2hlLlxuICAgICAgICAgKi9cbiAgICAgICAgbGFzdCgpIHtcbiAgICAgICAgICAgIHZhciBrZXlzID0gdGhpcy5rZXlzKCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpc1trZXlzW2tleXMubGVuZ3RoIC0gMV1dO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBJbmRleGVkQ2FjaGUubnRoRW50aXR5XG4gICAgICAgICAqIEBtZXRob2RPZiBJbmRleGVkQ2FjaGVcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIEJhc2VkIG9uIHRoZVxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggVGhlIGluZGV4IG9mIHRoZSBpdGVtIHJlcXVlc3RlZC5cbiAgICAgICAgICogQHJldHVybnMge29iamVjdH0gRmlyc3QgbGlzdEl0ZW0gaW4gY2FjaGUuXG4gICAgICAgICAqL1xuICAgICAgICBudGhFbnRpdHkoaW5kZXgpIHtcbiAgICAgICAgICAgIHZhciBrZXlzID0gdGhpcy5rZXlzKCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpc1trZXlzW2luZGV4XV07XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIEluZGV4ZWRDYWNoZS5yZW1vdmVFbnRpdHlcbiAgICAgICAgICogQG1ldGhvZE9mIEluZGV4ZWRDYWNoZVxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogUmVtb3ZlcyBhIGxpc3RJdGVtIGZyb20gdGhlIGNhY2hlLlxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdHxudW1iZXJ9IGxpc3RJdGVtIEVudGl0eSB0byByZW1vdmUgb3IgSUQgb2YgbGlzdEl0ZW0gdG8gYmUgcmVtb3ZlZC5cbiAgICAgICAgICovXG4gICAgICAgIHJlbW92ZUVudGl0eShsaXN0SXRlbSkge1xuICAgICAgICAgICAgaWYgKF8uaXNPYmplY3QgJiYgbGlzdEl0ZW0uaWQgJiYgdGhpc1tsaXN0SXRlbS5pZF0pIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpc1tsaXN0SXRlbS5pZF07XG4gICAgICAgICAgICB9IGVsc2UgaWYgKF8uaXNOdW1iZXIobGlzdEl0ZW0pKSB7XG4gICAgICAgICAgICAgICAgLyoqIEFsbG93IGxpc3RJdGVtIElEIHRvIGJlIHVzZWQgaW5zdGVhZCBvZiB0aGVuIGxpc3RJdGVtICovXG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXNbbGlzdEl0ZW1dO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBJbmRleGVkQ2FjaGUudG9BcnJheVxuICAgICAgICAgKiBAbWV0aG9kT2YgSW5kZXhlZENhY2hlXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBUdXJucyB0aGUgY2FjaGUgb2JqZWN0IGludG8gYW4gYXJyYXkgb2YgZW50aXRpZXMuXG4gICAgICAgICAqIEByZXR1cm5zIHtvYmplY3RbXX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgZW50aXRpZXMgY3VycmVudGx5IGluIHRoZSBjYWNoZS5cbiAgICAgICAgICovXG4gICAgICAgIHRvQXJyYXkoKSB7XG4gICAgICAgICAgICByZXR1cm4gXy50b0FycmF5KHRoaXMpO1xuICAgICAgICB9XG5cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBvYmplY3RcbiAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBJbmRleGVkQ2FjaGVGYWN0b3J5XG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogRXhwb3NlcyB0aGUgRW50aXR5RmFjdG9yeSBwcm90b3R5cGUgYW5kIGEgY29uc3RydWN0b3IgdG8gaW5zdGFudGlhdGUgYSBuZXcgRW50aXR5IEZhY3RvcnkgaW4gYXBDYWNoZVNlcnZpY2UuXG4gICAgICpcbiAgICAgKi9cblxuICAgIGV4cG9ydCBjbGFzcyBJbmRleGVkQ2FjaGVGYWN0b3J5IHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBJbmRleGVkQ2FjaGVGYWN0b3J5OmNyZWF0ZVxuICAgICAgICAgKiBAbWV0aG9kT2YgYW5ndWxhclBvaW50LmFwSW5kZXhlZENhY2hlRmFjdG9yeVxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogSW5zdGFudGlhdGVzIGFuZCByZXR1cm5zIGEgbmV3IEluZGV4ZWQgQ2FjaGUuZ3J1bnRcbiAgICAgICAgICovXG4gICAgICAgIGNyZWF0ZShvdmVycmlkZXM/Ok9iamVjdCk6IElJbmRleGVkQ2FjaGUge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBJbmRleGVkQ2FjaGUob3ZlcnJpZGVzKTtcbiAgICAgICAgfVxuICAgICAgICBJbmRleGVkQ2FjaGUgPSBJbmRleGVkQ2FjaGU7XG5cbiAgICB9XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnYW5ndWxhclBvaW50JylcbiAgICAgICAgLnNlcnZpY2UoJ2FwSW5kZXhlZENhY2hlRmFjdG9yeScsIEluZGV4ZWRDYWNoZUZhY3RvcnkgKTtcbn1cbiIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90eXBpbmdzL2FwLmQudHNcIiAvPlxuXG5tb2R1bGUgYXAge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBhcENvbmZpZzpJQVBDb25maWcsIGFwRGVmYXVsdEZpZWxkcywgYXBGaWVsZEZhY3Rvcnk6RmllbGRGYWN0b3J5O1xuXG4gICAgZXhwb3J0IGludGVyZmFjZSBJTGlzdCB7XG4gICAgICAgIGN1c3RvbUZpZWxkczogSUZpZWxkRGVmaW5pdGlvbltdO1xuICAgICAgICBlZmZlY3RpdmVQZXJtTWFzaz86IHN0cmluZztcbiAgICAgICAgZW52aXJvbm1lbnRzO1xuICAgICAgICBmaWVsZHM6IElGaWVsZERlZmluaXRpb25bXTtcbiAgICAgICAgZ2V0TGlzdElkKCk6IHN0cmluZztcbiAgICAgICAgZ3VpZDogc3RyaW5nO1xuICAgICAgICBpZGVudGlmeVdlYlVSTCgpOiBzdHJpbmc7XG4gICAgICAgIGlzUmVhZHk6IGJvb2xlYW47XG4gICAgICAgIG1hcHBpbmc6IE9iamVjdDtcbiAgICAgICAgdGl0bGU6IHN0cmluZztcbiAgICAgICAgdmlld0ZpZWxkczogc3RyaW5nO1xuICAgICAgICB3ZWJVUkw6IHN0cmluZztcbiAgICAgICAgV2ViRnVsbFVybD86c3RyaW5nO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAbmdkb2Mgb2JqZWN0XG4gICAgICogQG5hbWUgTGlzdFxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIExpc3QgT2JqZWN0IENvbnN0cnVjdG9yLiAgVGhpcyBpcyBoYW5kbGVkIGF1dG9tYXRpY2FsbHkgd2hlbiBjcmVhdGluZyBhIG5ldyBtb2RlbCBzbyB0aGVyZSBzaG91bGRuJ3QgYmVcbiAgICAgKiBhbnkgcmVhc29uIHRvIG1hbnVhbGx5IGNhbGwuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGNvbmZpZyBJbml0aWFsaXphdGlvbiBwYXJhbWV0ZXJzLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb25maWcuZ3VpZCBVbmlxdWUgU2hhcmVQb2ludCBHVUlEIGZvciB0aGUgbGlzdCB3ZSdsbCBiZSBiYXNpbmcgdGhlIG1vZGVsIG9uXG4gICAgICogZXg6J3s0RDc0ODMxQS00MkIyLTQ1NTgtQTY3Ri1CMEI1QURCQzBFQUN9J1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb25maWcudGl0bGUgTWFwcyB0byB0aGUgb2ZmbGluZSBYTUwgZmlsZSBpbiBkZXYgZm9sZGVyIChubyBzcGFjZXMpXG4gICAgICogZXg6ICdQcm9qZWN0c0xpc3QnIHNvIHRoZSBvZmZsaW5lIFhNTCBmaWxlIHdvdWxkIGJlIGxvY2F0ZWQgYXQgYXBDb25maWcub2ZmbGluZVhNTCArICdQcm9qZWN0c0xpc3QueG1sJ1xuICAgICAqIEBwYXJhbSB7b2JqZWN0W119IFtjb25maWcuY3VzdG9tRmllbGRzXSBNYXBwaW5nIG9mIFNoYXJlUG9pbnQgZmllbGQgbmFtZXMgdG8gdGhlIGludGVybmFsIG5hbWVzIHdlJ2xsIGJlIHVzaW5nXG4gICAgICogaW4gb3VyIGFwcGxpY2F0aW9uLiAgQWxzbyBjb250YWlucyBmaWVsZCB0eXBlLCByZWFkb25seSBhdHRyaWJ1dGUsIGFuZCBhbnkgb3RoZXIgbm9uLXN0YW5kYXJkIHNldHRpbmdzLlxuICAgICAqIDxwcmU+XG4gICAgICogW1xuICAgICAqICAge1xuICAgICAgICAgKiAgICAgICBzdGF0aWNOYW1lOiBcIlRpdGxlXCIsXG4gICAgICAgICAqICAgICAgIG9iamVjdFR5cGU6IFwiVGV4dFwiLFxuICAgICAgICAgKiAgICAgICBtYXBwZWROYW1lOiBcImxhc3ROYW1lXCIsXG4gICAgICAgICAqICAgICAgIHJlYWRPbmx5OmZhbHNlXG4gICAgICAgICAqICAgfSxcbiAgICAgKiAgIHtcbiAgICAgICAgICogICAgICAgc3RhdGljTmFtZTogXCJGaXJzdE5hbWVcIixcbiAgICAgICAgICogICAgICAgb2JqZWN0VHlwZTogXCJUZXh0XCIsXG4gICAgICAgICAqICAgICAgIG1hcHBlZE5hbWU6IFwiZmlyc3ROYW1lXCIsXG4gICAgICAgICAqICAgICAgIHJlYWRPbmx5OmZhbHNlXG4gICAgICAgICAqICAgfSxcbiAgICAgKiAgIHtcbiAgICAgICAgICogICAgICAgc3RhdGljTmFtZTogXCJPcmdhbml6YXRpb25cIixcbiAgICAgICAgICogICAgICAgb2JqZWN0VHlwZTogXCJMb29rdXBcIixcbiAgICAgICAgICogICAgICAgbWFwcGVkTmFtZTogXCJvcmdhbml6YXRpb25cIixcbiAgICAgICAgICogICAgICAgcmVhZE9ubHk6ZmFsc2VcbiAgICAgICAgICogICB9LFxuICAgICAqICAge1xuICAgICAgICAgKiAgICAgICBzdGF0aWNOYW1lOiBcIkFjY291bnRcIixcbiAgICAgICAgICogICAgICAgb2JqZWN0VHlwZTogXCJVc2VyXCIsXG4gICAgICAgICAqICAgICAgIG1hcHBlZE5hbWU6IFwiYWNjb3VudFwiLFxuICAgICAgICAgKiAgICAgICByZWFkT25seTpmYWxzZVxuICAgICAgICAgKiAgIH0sXG4gICAgICogICB7XG4gICAgICAgICAqICAgICAgIHN0YXRpY05hbWU6IFwiRGV0YWlsc1wiLFxuICAgICAgICAgKiAgICAgICBvYmplY3RUeXBlOiBcIlRleHRcIixcbiAgICAgICAgICogICAgICAgbWFwcGVkTmFtZTogXCJkZXRhaWxzXCIsXG4gICAgICAgICAqICAgICAgIHJlYWRPbmx5OmZhbHNlXG4gICAgICAgICAqICAgfVxuICAgICAqIF1cbiAgICAgKiA8L3ByZT5cbiAgICAgKiBAcHJvcGVydHkge3N0cmluZ30gdmlld0ZpZWxkcyBYTUwgc3RyaW5nIGRlZmluaW5nIGVhY2ggb2YgdGhlIGZpZWxkcyB0byBpbmNsdWRlIGluIGFsbCBDUlVEIHJlcXVlc3RzLFxuICAgICAqIGdlbmVyYXRlZCB3aGVuIHRoZSBNb2RlbC5MaXN0IGlzIGluc3RhbnRpYXRlZC5cbiAgICAgKiA8cHJlPlxuICAgICAqICAgICA8Vmlld0ZpZWxkcz4uLi48L1ZpZXdGaWVsZHM+XG4gICAgICogPC9wcmU+XG4gICAgICogQHByb3BlcnR5IHtGaWVsZFtdfSBmaWVsZHMgR2VuZXJhdGVkIHdoZW4gdGhlIE1vZGVsLkxpc3QgaXMgaW5zdGFudGlhdGVkLiAgQ29tYmluZXMgdGhlIHN0YW5kYXJkXG4gICAgICogZGVmYXVsdCBmaWVsZHMgZm9yIGFsbCBsaXN0cyB3aXRoIHRoZSBmaWVsZHMgaWRlbnRpZmllZCBpbiB0aGUgY29uZmlnLmN1c3RvbUZpZWxkcyBhbmQgaW5zdGFudGlhdGVzIGVhY2hcbiAgICAgKiB3aXRoIHRoZSBGaWVsZCBjb25zdHJ1Y3Rvci5cbiAgICAgKiBAcmVxdWlyZXMgYW5ndWxhclBvaW50LmFwTGlzdEZhY3RvcnlcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKi9cbiAgICBleHBvcnQgY2xhc3MgTGlzdCBpbXBsZW1lbnRzIElMaXN0IHtcbiAgICAgICAgY3VzdG9tRmllbGRzID0gW107XG4gICAgICAgIGVudmlyb25tZW50cztcbiAgICAgICAgZmllbGRzID0gW107XG4gICAgICAgIGd1aWQgPSAnJztcbiAgICAgICAgaXNSZWFkeSA9IGZhbHNlO1xuICAgICAgICBtYXBwaW5nID0ge307XG4gICAgICAgIHRpdGxlID0gJyc7XG4gICAgICAgIHZpZXdGaWVsZHMgPSAnJztcbiAgICAgICAgV2ViRnVsbFVybDsgLy9Pbmx5IGFwcGVhcnMgaWYgZXh0ZW5kZWQgZnJvbSBsaXN0IGRlZmluaXRpb25cbiAgICAgICAgd2ViVVJMOnN0cmluZztcbiAgICAgICAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgICAgICAgICB0aGlzLndlYlVSTCA9IGFwQ29uZmlnLmRlZmF1bHRVcmw7XG4gICAgICAgICAgICBfLmV4dGVuZCh0aGlzLCBjb25maWcpO1xuICAgICAgICAgICAgdGhpcy5lbnZpcm9ubWVudHMgPSB0aGlzLmVudmlyb25tZW50cyB8fCB7cHJvZHVjdGlvbjogdGhpcy5ndWlkfTtcbiAgICAgICAgICAgIHRoaXMuZXh0ZW5kRmllbGREZWZpbml0aW9ucygpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiAxLiBQb3B1bGF0ZXMgdGhlIGZpZWxkcyBhcnJheSB3aGljaCB1c2VzIHRoZSBGaWVsZCBjb25zdHJ1Y3RvciB0byBjb21iaW5lIHRoZSBkZWZhdWx0XG4gICAgICAgICAqIFNoYXJlUG9pbnQgZmllbGRzIHdpdGggdGhvc2UgZGVmaW5lZCBpbiB0aGUgbGlzdCBkZWZpbml0aW9uIG9uIHRoZSBtb2RlbFxuICAgICAgICAgKiAyLiBDcmVhdGVzIHRoZSBsaXN0LnZpZXdGaWVsZHMgWE1MIHN0cmluZyB0aGF0IGRlZmluZXMgdGhlIGZpZWxkcyB0byBiZSByZXF1ZXN0ZWQgb24gYSBxdWVyeVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gbGlzdCBSZWZlcmVuY2UgdG8gdGhlIGxpc3Qgd2l0aGluIGEgbW9kZWwuXG4gICAgICAgICAqL1xuICAgICAgICBleHRlbmRGaWVsZERlZmluaXRpb25zKCkge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBDb25zdHJ1Y3RzIHRoZSBmaWVsZFxuICAgICAgICAgICAgICogLSBhZGRzIHRvIHZpZXdGaWVsZFxuICAgICAgICAgICAgICogLSBjcmVhdGUgb3dzXyBtYXBwaW5nXG4gICAgICAgICAgICAgKiBAcGFyYW0gZmllbGREZWZpbml0aW9uXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHZhciBidWlsZEZpZWxkID0gKGZpZWxkRGVmaW5pdGlvbikgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBmaWVsZCA9IG5ldyBhcEZpZWxkRmFjdG9yeS5GaWVsZChmaWVsZERlZmluaXRpb24pO1xuICAgICAgICAgICAgICAgIHRoaXMuZmllbGRzLnB1c2goZmllbGQpO1xuICAgICAgICAgICAgICAgIHRoaXMudmlld0ZpZWxkcyArPSAnPEZpZWxkUmVmIE5hbWU9XCInICsgZmllbGQuc3RhdGljTmFtZSArICdcIi8+JztcbiAgICAgICAgICAgICAgICB0aGlzLm1hcHBpbmdbJ293c18nICsgZmllbGQuc3RhdGljTmFtZV0gPSB7XG4gICAgICAgICAgICAgICAgICAgIG1hcHBlZE5hbWU6IGZpZWxkLm1hcHBlZE5hbWUsXG4gICAgICAgICAgICAgICAgICAgIG9iamVjdFR5cGU6IGZpZWxkLm9iamVjdFR5cGVcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLyoqIE9wZW4gdmlld0ZpZWxkcyAqL1xuICAgICAgICAgICAgdGhpcy52aWV3RmllbGRzICs9ICc8Vmlld0ZpZWxkcz4nO1xuXG4gICAgICAgICAgICAvKiogQWRkIHRoZSBkZWZhdWx0IGZpZWxkcyAqL1xuICAgICAgICAgICAgXy5lYWNoKGFwRGVmYXVsdEZpZWxkcywgKGZpZWxkKSA9PiBidWlsZEZpZWxkKGZpZWxkKSApO1xuXG4gICAgICAgICAgICAvKiogQWRkIGVhY2ggb2YgdGhlIGZpZWxkcyBkZWZpbmVkIGluIHRoZSBtb2RlbCAqL1xuICAgICAgICAgICAgXy5lYWNoKHRoaXMuY3VzdG9tRmllbGRzLCAoZmllbGQpID0+IGJ1aWxkRmllbGQoZmllbGQpICk7XG5cbiAgICAgICAgICAgIC8qKiBDbG9zZSB2aWV3RmllbGRzICovXG4gICAgICAgICAgICB0aGlzLnZpZXdGaWVsZHMgKz0gJzwvVmlld0ZpZWxkcz4nO1xuICAgICAgICB9XG5cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIExpc3Q6Z2V0TGlzdElkXG4gICAgICAgICAqIEBtZXRob2RPZiBMaXN0XG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBEZWZhdWx0cyB0byBsaXN0Lmd1aWQuICBGb3IgYSBtdWx0aS1lbnZpcm9ubWVudCBzZXR1cCwgd2UgYWNjZXB0IGEgbGlzdC5lbnZpcm9ubWVudHMgb2JqZWN0IHdpdGggYSBwcm9wZXJ0eSBmb3IgZWFjaCBuYW1lZFxuICAgICAgICAgKiBlbnZpcm9ubWVudCB3aXRoIGEgY29ycmVzcG9uZGluZyB2YWx1ZSBvZiB0aGUgbGlzdCBndWlkLiAgVGhlIGFjdGl2ZSBlbnZpcm9ubWVudCBjYW4gYmUgc2VsZWN0ZWRcbiAgICAgICAgICogYnkgc2V0dGluZyBhcENvbmZpZy5lbnZpcm9ubWVudCB0byB0aGUgc3RyaW5nIG5hbWUgb2YgdGhlIGRlc2lyZWQgZW52aXJvbm1lbnQuXG4gICAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IExpc3QgSUQuXG4gICAgICAgICAqL1xuICAgICAgICBnZXRMaXN0SWQoKSB7XG4gICAgICAgICAgICBpZiAoXy5pc1N0cmluZyh0aGlzLmVudmlyb25tZW50c1thcENvbmZpZy5lbnZpcm9ubWVudF0pKSB7XG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogRm9yIGEgbXVsdGktZW52aXJvbm1lbnQgc2V0dXAsIHdlIGFjY2VwdCBhIGxpc3QuZW52aXJvbm1lbnRzIG9iamVjdCB3aXRoIGEgcHJvcGVydHkgZm9yIGVhY2ggbmFtZWRcbiAgICAgICAgICAgICAgICAgKiBlbnZpcm9ubWVudCB3aXRoIGEgY29ycmVzcG9uZGluZyB2YWx1ZSBvZiB0aGUgbGlzdCBndWlkLiAgVGhlIGFjdGl2ZSBlbnZpcm9ubWVudCBjYW4gYmUgc2VsZWN0ZWRcbiAgICAgICAgICAgICAgICAgKiBieSBzZXR0aW5nIGFwQ29uZmlnLmVudmlyb25tZW50IHRvIHRoZSBzdHJpbmcgbmFtZSBvZiB0aGUgZGVzaXJlZCBlbnZpcm9ubWVudC5cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lbnZpcm9ubWVudHNbYXBDb25maWcuZW52aXJvbm1lbnRdO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZXJlIGlzblxcJ3QgYSB2YWxpZCBlbnZpcm9ubWVudCBkZWZpbml0aW9uIGZvciBhcENvbmZpZy5lbnZpcm9ubWVudD0nICsgYXBDb25maWcuZW52aXJvbm1lbnQgKyAnICAnICtcbiAgICAgICAgICAgICAgICAgICAgJ1BsZWFzZSBjb25maXJtIHRoYXQgdGhlIGxpc3QgXCInICsgdGhpcy50aXRsZSArICdcIiBoYXMgdGhlIG5lY2Vzc2FyeSBlbnZpcm9ubWVudGFsIGNvbmZpZ3VyYXRpb24uJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIExpc3Q6aWRlbnRpZnlXZWJVUkxcbiAgICAgICAgICogQG1ldGhvZE9mIExpc3RcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIElmIGEgbGlzdCBpcyBleHRlbmRlZCwgdXNlIHRoZSBwcm92aWRlZCB3ZWJVUkwsIG90aGVyd2lzZSB1c2UgbGlzdC53ZWJVUkwuICBJZiBuZXZlciBzZXQgaXQgd2lsbCBkZWZhdWx0XG4gICAgICAgICAqIHRvIGFwQ29uZmlnLmRlZmF1bHRVcmwuXG4gICAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IHdlYlVSTCBwYXJhbS5cbiAgICAgICAgICovXG4gICAgICAgIGlkZW50aWZ5V2ViVVJMKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuV2ViRnVsbFVybCA/IHRoaXMuV2ViRnVsbFVybCA6IHRoaXMud2ViVVJMO1xuICAgICAgICB9XG5cblxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIHNlcnZpY2VcbiAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBMaXN0RmFjdG9yeVxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIEV4cG9zZXMgdGhlIExpc3QgcHJvdG90eXBlIGFuZCBhIGNvbnN0cnVjdG9yIHRvIGluc3RhbnRpYXRlIGEgbmV3IExpc3QuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkge2NvbnN0cnVjdG9yfSBMaXN0IFRoZSBMaXN0IGNvbnN0cnVjdG9yLlxuICAgICAqXG4gICAgICogQHJlcXVpcmVzIGFuZ3VsYXJQb2ludC5hcENvbmZpZ1xuICAgICAqIEByZXF1aXJlcyBhbmd1bGFyUG9pbnQuYXBEZWZhdWx0RmllbGRzXG4gICAgICogQHJlcXVpcmVzIGFuZ3VsYXJQb2ludC5hcEZpZWxkRmFjdG9yeVxuICAgICAqL1xuICAgIGV4cG9ydCBjbGFzcyBMaXN0RmFjdG9yeSB7XG4gICAgICAgIGNvbnN0cnVjdG9yKCRpbmplY3Rvcikge1xuXG4gICAgICAgICAgICBhcENvbmZpZyA9ICRpbmplY3Rvci5nZXQoJ2FwQ29uZmlnJyk7XG4gICAgICAgICAgICBhcERlZmF1bHRGaWVsZHMgPSAkaW5qZWN0b3IuZ2V0KCdhcERlZmF1bHRGaWVsZHMnKTtcbiAgICAgICAgICAgIGFwRmllbGRGYWN0b3J5ID0gJGluamVjdG9yLmdldCgnYXBGaWVsZEZhY3RvcnknKTtcblxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBMaXN0RmFjdG9yeTpjcmVhdGVcbiAgICAgICAgICogQG1ldGhvZE9mIGFuZ3VsYXJQb2ludC5hcExpc3RGYWN0b3J5XG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBjb25maWcgT3B0aW9ucyBvYmplY3QuXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBJbnN0YW50aWF0ZXMgYW5kIHJldHVybnMgYSBuZXcgTGlzdC5cbiAgICAgICAgICovXG4gICAgICAgIGNyZWF0ZShjb25maWcpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgTGlzdChjb25maWcpO1xuICAgICAgICB9XG5cbiAgICAgICAgTGlzdCA9IExpc3Q7XG4gICAgfVxuXG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnYW5ndWxhclBvaW50JylcbiAgICAgICAgLnNlcnZpY2UoJ2FwTGlzdEZhY3RvcnknLCBMaXN0RmFjdG9yeSk7XG5cblxuICAgIC8qKioqKioqKioqKioqKioqKioqKioqIFBSSVZBVEUgKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxufVxuIiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3MvYXAuZC50c1wiIC8+XG5cbm1vZHVsZSBhcCB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyICRxLCB0b2FzdHIsIGFwQ2FjaGVTZXJ2aWNlOiBDYWNoZVNlcnZpY2UsIGFwRGF0YVNlcnZpY2U6IERhdGFTZXJ2aWNlLCBhcEVuY29kZVNlcnZpY2U6IEVuY29kZVNlcnZpY2UsXG4gICAgICAgIGFwVXRpbGl0eVNlcnZpY2U6IFV0aWxpdHlTZXJ2aWNlLCBhcEZvcm1hdHRlZEZpZWxkVmFsdWVTZXJ2aWNlOiBGb3JtYXR0ZWRGaWVsZFZhbHVlU2VydmljZSwgYXBDb25maWc6IElBUENvbmZpZztcblxuICAgIGV4cG9ydCBpbnRlcmZhY2UgSUxpc3RJdGVtIHtcbiAgICAgICAgYXV0aG9yPzogSVVzZXI7XG4gICAgICAgIGNyZWF0ZWQ/OiBEYXRlO1xuICAgICAgICBlZGl0b3I/OiBJVXNlcjtcbiAgICAgICAgZmlsZVJlZj86IElMb29rdXA7XG4gICAgICAgIGlkPzogbnVtYmVyO1xuICAgICAgICBtb2RpZmllZD86IERhdGU7XG4gICAgICAgIHBlcm1NYXNrPzogc3RyaW5nO1xuICAgICAgICB1bmlxdWVJZD86IHN0cmluZztcblxuICAgICAgICBkZWxldGVBdHRhY2htZW50KHVybDogc3RyaW5nKTogbmcuSVByb21pc2U8YW55PjtcbiAgICAgICAgZGVsZXRlSXRlbShvcHRpb25zPzogSUxpc3RJdGVtQ3J1ZE9wdGlvbnMpOiBuZy5JUHJvbWlzZTxhbnk+O1xuICAgICAgICBnZXRBdHRhY2htZW50Q29sbGVjdGlvbigpOiBuZy5JUHJvbWlzZTxzdHJpbmdbXT47XG4gICAgICAgIGdldEF2YWlsYWJsZVdvcmtmbG93cygpOiBuZy5JUHJvbWlzZTxJV29ya2Zsb3dEZWZpbml0aW9uW10+O1xuICAgICAgICBnZXRDYWNoZT8oKTogSUNhY2hlO1xuICAgICAgICBnZXRGaWVsZENob2ljZXMoZmllbGROYW1lOiBzdHJpbmcpOiBzdHJpbmdbXTtcbiAgICAgICAgZ2V0RmllbGREZWZpbml0aW9uKGZpZWxkTmFtZTogc3RyaW5nKTogSUZpZWxkRGVmaW5pdGlvbjtcbiAgICAgICAgZ2V0RmllbGREZXNjcmlwdGlvbihmaWVsZE5hbWU6IHN0cmluZyk6IHN0cmluZztcbiAgICAgICAgZ2V0RmllbGRMYWJlbChmaWVsZE5hbWU6IHN0cmluZyk6IHN0cmluZztcbiAgICAgICAgZ2V0RmllbGRWZXJzaW9uSGlzdG9yeShmaWVsZE5hbWVzOiBzdHJpbmdbXSk6IG5nLklQcm9taXNlPElMaXN0SXRlbVZlcnNpb24+O1xuICAgICAgICBnZXRGb3JtYXR0ZWRWYWx1ZShmaWVsZE5hbWU6IHN0cmluZywgb3B0aW9uczogT2JqZWN0KTogc3RyaW5nO1xuICAgICAgICBnZXRMb29rdXBSZWZlcmVuY2UoZmllbGROYW1lOiBzdHJpbmcsIGxvb2t1cElkOiBudW1iZXIpOiBJTGlzdEl0ZW07XG4gICAgICAgIGdldFF1ZXJ5PygpOklRdWVyeTtcbiAgICAgICAgcmVzb2x2ZVBlcm1pc3Npb25zKCk6IElVc2VyUGVybWlzc2lvbnNPYmplY3Q7XG4gICAgICAgIHNhdmVDaGFuZ2VzKG9wdGlvbnM/OiBJTGlzdEl0ZW1DcnVkT3B0aW9ucyk6IG5nLklQcm9taXNlPElMaXN0SXRlbT47XG4gICAgICAgIHNhdmVGaWVsZHMoZmllbGRBcnJheTogc3RyaW5nW10sIG9wdGlvbnM/OiBJTGlzdEl0ZW1DcnVkT3B0aW9ucyk6IG5nLklQcm9taXNlPElMaXN0SXRlbT47XG4gICAgICAgIHN0YXJ0V29ya2Zsb3cob3B0aW9uczogSVN0YXJ0V29ya2Zsb3dQYXJhbXMpOiBuZy5JUHJvbWlzZTxhbnk+O1xuICAgICAgICB2YWxpZGF0ZUVudGl0eShvcHRpb25zPzogT2JqZWN0KTogYm9vbGVhbjtcblxuICAgICAgICAvL0FkZGVkIGJ5IE1vZGVsIEluc3RhbnRpYXRpb25cbiAgICAgICAgZ2V0TW9kZWwoKTogSU1vZGVsO1xuICAgICAgICBnZXRMaXN0SWQoKTogc3RyaW5nO1xuICAgICAgICBnZXRMaXN0PygpOiBJTGlzdDtcblxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG9iamVjdFxuICAgICAqIEBuYW1lIExpc3RJdGVtXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogQmFzZSBwcm90b3R5cGUgd2hpY2ggYWxsIGxpc3QgaXRlbXMgaW5oZXJpdCBmcm9tLiAgQWxsIG1ldGhvZHMgY2FuIGJlIGFjY2Vzc2VkIHRocm91Z2ggdGhpcyBwcm90b3R5cGUgc28gYWxsIENSVURcbiAgICAgKiBmdW5jdGlvbmFsaXR5IGNhbiBiZSBjYWxsZWQgZGlyZWN0bHkgZnJvbSBhIGdpdmVuIGxpc3QgaXRlbS5cbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKi9cbiAgICBleHBvcnQgY2xhc3MgTGlzdEl0ZW0gaW1wbGVtZW50cyBJTGlzdEl0ZW0ge1xuICAgICAgICBhdXRob3I6IElVc2VyO1xuICAgICAgICBjcmVhdGVkOiBEYXRlO1xuICAgICAgICBlZGl0b3I6IElVc2VyO1xuICAgICAgICBmaWxlUmVmOiBJTG9va3VwO1xuICAgICAgICBnZXRDYWNoZTpGdW5jdGlvbjtcbiAgICAgICAgZ2V0TW9kZWwoKTogSU1vZGVsO1xuICAgICAgICBnZXRRdWVyeSgpOklRdWVyeTtcbiAgICAgICAgaWQ6IG51bWJlcjtcbiAgICAgICAgbW9kaWZpZWQ6IERhdGU7XG4gICAgICAgIHBlcm1NYXNrOiBzdHJpbmc7XG4gICAgICAgIHVuaXF1ZUlkOiBzdHJpbmc7XG4gICAgICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBMaXN0SXRlbS5zYXZlQ2hhbmdlc1xuICAgICAgICAgKiBAbWV0aG9kT2YgTGlzdEl0ZW1cbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIFVwZGF0ZXMgcmVjb3JkIGRpcmVjdGx5IGZyb20gdGhlIG9iamVjdFxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIE9wdGlvbmFsbHkgcGFzcyBwYXJhbXMgdG8gdGhlIGRhdGEgc2VydmljZS5cbiAgICAgICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy51cGRhdGVBbGxDYWNoZXM9ZmFsc2VdIFNlYXJjaCB0aHJvdWdoIHRoZSBjYWNoZSBmb3IgZWFjaCBxdWVyeSB0byBlbnN1cmUgbGlzdEl0ZW0gaXNcbiAgICAgICAgICogdXBkYXRlZCBldmVyeXdoZXJlLiAgVGhpcyBpcyBtb3JlIHByb2Nlc3MgaW50ZW5zaXZlIHNvIGJ5IGRlZmF1bHQgd2Ugb25seSB1cGRhdGUgdGhlIGNhY2hlZCBsaXN0SXRlbSBpbiB0aGVcbiAgICAgICAgICogY2FjaGUgd2hlcmUgdGhpcyBsaXN0SXRlbSBpcyBjdXJyZW50bHkgc3RvcmVkLlxuICAgICAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSBQcm9taXNlIHdoaWNoIHJlc29sdmVkIHdpdGggdGhlIHVwZGF0ZWQgbGlzdCBpdGVtIGZyb20gdGhlIHNlcnZlci5cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogPHByZT5cbiAgICAgICAgICogLy8gRXhhbXBsZSBvZiBzYXZlIGZ1bmN0aW9uIG9uIGEgZmljdGl0aW91c1xuICAgICAgICAgKiAvLyBhcHAvbW9kdWxlcy90YXNrcy9UYXNrRGV0YWlsc0N0cmwuanMgbW9kYWwgZm9ybS5cbiAgICAgICAgICogJHNjb3BlLnNhdmVDaGFuZ2VzID0gZnVuY3Rpb24odGFzaykge1xuICAgICAgICAgKiAgICAgIHRhc2suc2F2ZUNoYW5nZXMoKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgKiAgICAgICAgICAvLyBTdWNjZXNzZnVsbHkgc2F2ZWQgc28gd2UgY2FuIGRvIHNvbWV0aGluZ1xuICAgICAgICAgKiAgICAgICAgICAvLyBsaWtlIGNsb3NlIGZvcm1cbiAgICAgICAgICpcbiAgICAgICAgICogICAgICAgICAgfSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAqICAgICAgICAgIC8vIEZhaWx1cmVcbiAgICAgICAgICpcbiAgICAgICAgICogICAgICAgICAgfSk7XG4gICAgICAgICAqIH1cbiAgICAgICAgICogPC9wcmU+XG4gICAgICAgICAqL1xuICAgICAgICBzYXZlQ2hhbmdlcyggb3B0aW9ucz86IElMaXN0SXRlbUNydWRPcHRpb25zICk6IG5nLklQcm9taXNlPExpc3RJdGVtPiB7XG4gICAgICAgICAgICB2YXIgbGlzdEl0ZW0gPSB0aGlzO1xuICAgICAgICAgICAgdmFyIG1vZGVsID0gbGlzdEl0ZW0uZ2V0TW9kZWwoKTtcbiAgICAgICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgICAgICAgIC8qKiBSZWRpcmVjdCBpZiB0aGUgcmVxdWVzdCBpcyBhY3R1YWxseSBjcmVhdGluZyBhIG5ldyBsaXN0IGl0ZW0uICBUaGlzIGNhbiBvY2N1ciBpZiB3ZSBjcmVhdGVcbiAgICAgICAgICAgICAqIGFuIGVtcHR5IGl0ZW0gdGhhdCBpcyBpbnN0YW50aWF0ZWQgZnJvbSB0aGUgbW9kZWwgYW5kIHRoZW4gYXR0ZW1wdCB0byBzYXZlIGluc3RlYWQgb2YgdXNpbmdcbiAgICAgICAgICAgICAqIG1vZGVsLmFkZE5ld0l0ZW0gKi9cbiAgICAgICAgICAgIGlmICghbGlzdEl0ZW0uaWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbW9kZWwuYWRkTmV3SXRlbShsaXN0SXRlbSwgb3B0aW9ucyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGFwRGF0YVNlcnZpY2UudXBkYXRlTGlzdEl0ZW0obW9kZWwsIGxpc3RJdGVtLCBvcHRpb25zKVxuICAgICAgICAgICAgICAgIC50aGVuKCAodXBkYXRlZExpc3RJdGVtKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUodXBkYXRlZExpc3RJdGVtKTtcbiAgICAgICAgICAgICAgICAgICAgLyoqIE9wdGlvbmFsbHkgYnJvYWRjYXN0IGNoYW5nZSBldmVudCAqL1xuICAgICAgICAgICAgICAgICAgICBhcFV0aWxpdHlTZXJ2aWNlLnJlZ2lzdGVyQ2hhbmdlKG1vZGVsLCAndXBkYXRlJywgdXBkYXRlZExpc3RJdGVtLmlkKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIExpc3RJdGVtLnNhdmVGaWVsZHNcbiAgICAgICAgICogQG1ldGhvZE9mIExpc3RJdGVtXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBTYXZlcyBhIG5hbWVkIHN1YnNldCBvZiBmaWVsZHMgYmFjayB0byBTaGFyZVBvaW50LiAgVGhpcyBpcyBhbiBhbHRlcm5hdGl2ZSB0byBzYXZpbmcgYWxsIGZpZWxkcy5cbiAgICAgICAgICogQHBhcmFtIHthcnJheXxzdHJpbmd9IGZpZWxkQXJyYXkgQXJyYXkgb2YgaW50ZXJuYWwgZmllbGQgbmFtZXMgdGhhdCBzaG91bGQgYmUgc2F2ZWQgdG8gU2hhcmVQb2ludCBvciBhIHNpbmdsZVxuICAgICAgICAgKiBzdHJpbmcgdG8gc2F2ZSBhbiBpbmRpdmlkdWFsIGZpZWxkLlxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIE9wdGlvbmFsbHkgcGFzcyBwYXJhbXMgdG8gdGhlIGRhdGEgc2VydmljZS5cbiAgICAgICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy51cGRhdGVBbGxDYWNoZXM9ZmFsc2VdIFNlYXJjaCB0aHJvdWdoIHRoZSBjYWNoZSBmb3IgZWFjaCBxdWVyeSB0byBlbnN1cmUgbGlzdEl0ZW0gaXNcbiAgICAgICAgICogdXBkYXRlZCBldmVyeXdoZXJlLiAgVGhpcyBpcyBtb3JlIHByb2Nlc3MgaW50ZW5zaXZlIHNvIGJ5IGRlZmF1bHQgd2Ugb25seSB1cGRhdGUgdGhlIGNhY2hlZCBsaXN0SXRlbSBpbiB0aGVcbiAgICAgICAgICogY2FjaGUgd2hlcmUgdGhpcyBsaXN0SXRlbSBpcyBjdXJyZW50bHkgc3RvcmVkLlxuICAgICAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSBQcm9taXNlIHdoaWNoIHJlc29sdmVzIHdpdGggdGhlIHVwZGF0ZWQgbGlzdCBpdGVtIGZyb20gdGhlIHNlcnZlci5cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogPHByZT5cbiAgICAgICAgICogLy8gRXhhbXBsZSBvZiBzYXZlRmllbGRzIGZ1bmN0aW9uIG9uIGEgZmljdGl0aW91c1xuICAgICAgICAgKiAvLyBhcHAvbW9kdWxlcy90YXNrcy9UYXNrRGV0YWlsc0N0cmwuanMgbW9kYWwgZm9ybS5cbiAgICAgICAgICogLy8gU2ltaWxhciB0byBzYXZlQ2hhbmdlcyBidXQgaW5zdGVhZCB3ZSBvbmx5IHNhdmVcbiAgICAgICAgICogLy8gc3BlY2lmaWVkIGZpZWxkcyBpbnN0ZWFkIG9mIHB1c2hpbmcgZXZlcnl0aGluZy5cbiAgICAgICAgICogJHNjb3BlLnVwZGF0ZVN0YXR1cyA9IGZ1bmN0aW9uKHRhc2spIHtcbiAgICAgICAgICogICAgICB0YXNrLnNhdmVGaWVsZHMoWydzdGF0dXMnLCAnbm90ZXMnXSkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICogICAgICAgICAgLy8gU3VjY2Vzc2Z1bGx5IHVwZGF0ZWQgdGhlIHN0YXR1cyBhbmRcbiAgICAgICAgICogICAgICAgICAgLy8gbm90ZXMgZmllbGRzIGZvciB0aGUgZ2l2ZW4gdGFza1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgICAgICB9LCBmdW5jdGlvbigpIHtcbiAgICAgICAgICogICAgICAgICAgLy8gRmFpbHVyZSB0byB1cGRhdGUgdGhlIGZpZWxkXG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAgICAgIH0pO1xuICAgICAgICAgKiB9XG4gICAgICAgICAqIDwvcHJlPlxuICAgICAgICAgKi9cbiAgICAgICAgc2F2ZUZpZWxkcyggZmllbGRBcnJheTogc3RyaW5nW10sIG9wdGlvbnM/OiBJTGlzdEl0ZW1DcnVkT3B0aW9ucyApOiBuZy5JUHJvbWlzZTxMaXN0SXRlbT4ge1xuXG4gICAgICAgICAgICB2YXIgbGlzdEl0ZW0gPSB0aGlzO1xuICAgICAgICAgICAgdmFyIG1vZGVsID0gbGlzdEl0ZW0uZ2V0TW9kZWwoKTtcbiAgICAgICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG4gICAgICAgICAgICB2YXIgZGVmaW5pdGlvbnMgPSBbXTtcbiAgICAgICAgICAgIC8qKiBBbGxvdyBhIHN0cmluZyB0byBiZSBwYXNzZWQgaW4gdG8gc2F2ZSBhIHNpbmdsZSBmaWVsZCAqL1xuICAgICAgICAgICAgdmFyIGZpZWxkTmFtZXMgPSBfLmlzU3RyaW5nKGZpZWxkQXJyYXkpID8gW2ZpZWxkQXJyYXldIDogZmllbGRBcnJheTtcbiAgICAgICAgICAgIC8qKiBGaW5kIHRoZSBmaWVsZCBkZWZpbml0aW9uIGZvciBlYWNoIG9mIHRoZSByZXF1ZXN0ZWQgZmllbGRzICovXG4gICAgICAgICAgICBfLmVhY2goZmllbGROYW1lcywgKGZpZWxkKSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIG1hdGNoID0gXy5maW5kKG1vZGVsLmxpc3QuY3VzdG9tRmllbGRzLCB7bWFwcGVkTmFtZTogZmllbGR9KTtcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVmaW5pdGlvbnMucHVzaChtYXRjaCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8qKiBHZW5lcmF0ZSB2YWx1ZSBwYWlycyBmb3Igc3BlY2lmaWVkIGZpZWxkcyAqL1xuICAgICAgICAgICAgdmFyIHZhbHVlUGFpcnMgPSBhcEVuY29kZVNlcnZpY2UuZ2VuZXJhdGVWYWx1ZVBhaXJzKGRlZmluaXRpb25zLCBsaXN0SXRlbSk7XG5cbiAgICAgICAgICAgIHZhciBkZWZhdWx0cyA9IHtidWlsZFZhbHVlUGFpcnM6IGZhbHNlLCB2YWx1ZVBhaXJzOiB2YWx1ZVBhaXJzfTtcblxuICAgICAgICAgICAgLyoqIEV4dGVuZCBkZWZhdWx0cyB3aXRoIGFueSBwcm92aWRlZCBvcHRpb25zICovXG4gICAgICAgICAgICB2YXIgb3B0cyA9IF8uZXh0ZW5kKHt9LCBkZWZhdWx0cywgb3B0aW9ucyk7XG5cbiAgICAgICAgICAgIGFwRGF0YVNlcnZpY2UudXBkYXRlTGlzdEl0ZW0obW9kZWwsIGxpc3RJdGVtLCBvcHRzKVxuICAgICAgICAgICAgICAgIC50aGVuKCAodXBkYXRlZExpc3RJdGVtKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUodXBkYXRlZExpc3RJdGVtKTtcbiAgICAgICAgICAgICAgICAgICAgLyoqIE9wdGlvbmFsbHkgYnJvYWRjYXN0IGNoYW5nZSBldmVudCAqL1xuICAgICAgICAgICAgICAgICAgICBhcFV0aWxpdHlTZXJ2aWNlLnJlZ2lzdGVyQ2hhbmdlKG1vZGVsLCAndXBkYXRlJywgdXBkYXRlZExpc3RJdGVtLmlkKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIExpc3RJdGVtLmRlbGV0ZUl0ZW1cbiAgICAgICAgICogQG1ldGhvZE9mIExpc3RJdGVtXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBEZWxldGVzIHJlY29yZCBkaXJlY3RseSBmcm9tIHRoZSBvYmplY3QgYW5kIHJlbW92ZXMgcmVjb3JkIGZyb20gdXNlciBjYWNoZS5cbiAgICAgICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSBPcHRpb25hbGx5IHBhc3MgcGFyYW1zIHRvIHRoZSBkYXRhU2VydmljZS5cbiAgICAgICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy51cGRhdGVBbGxDYWNoZXM9ZmFsc2VdIEl0ZXJhdGUgb3ZlciBlYWNoIG9mIHRoZSBxdWVyeSBjYWNoZSdzIGFuZCBlbnN1cmUgdGhlIGxpc3RJdGVtIGlzXG4gICAgICAgICAqIHJlbW92ZWQgZXZlcnl3aGVyZS4gIFRoaXMgaXMgbW9yZSBwcm9jZXNzIGludGVuc2l2ZSBzbyBieSBkZWZhdWx0IHdlIG9ubHkgcmVtb3ZlIHRoZSBjYWNoZWQgbGlzdEl0ZW0gaW4gdGhlXG4gICAgICAgICAqIGNhY2hlIHdoZXJlIHRoaXMgbGlzdEl0ZW0gaXMgY3VycmVudGx5IHN0b3JlZC5cbiAgICAgICAgICogQHJldHVybnMge29iamVjdH0gUHJvbWlzZSB3aGljaCByZWFsbHkgb25seSBsZXRzIHVzIGtub3cgdGhlIHJlcXVlc3QgaXMgY29tcGxldGUuXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIGBgYFxuICAgICAgICAgKiA8dWw+XG4gICAgICAgICAqICAgIDxsaSBuZy1yZXBlYXQ9XCJ0YXNrIGluIHRhc2tzXCI+XG4gICAgICAgICAqICAgICAgICB7e3Rhc2sudGl0bGV9fSA8YSBocmVmIG5nLWNsaWNrPVwidGFzay5kZWxldGVJdGVtKCk+ZGVsZXRlPC9hPlxuICAgICAgICAgKiAgICA8L2xpPlxuICAgICAgICAgKiA8L3VsPlxuICAgICAgICAgKiBgYGBcbiAgICAgICAgICogTGlzdCBvZiB0YXNrcy4gIFdoZW4gdGhlIGRlbGV0ZSBsaW5rIGlzIGNsaWNrZWQsIHRoZSBsaXN0IGl0ZW0gaXRlbSBpcyByZW1vdmVkIGZyb20gdGhlIGxvY2FsIGNhY2hlIGFuZFxuICAgICAgICAgKiB0aGUgdmlldyBpcyB1cGRhdGVkIHRvIG5vIGxvbmdlciBzaG93IHRoZSB0YXNrLlxuICAgICAgICAgKi9cbiAgICAgICAgZGVsZXRlSXRlbSggb3B0aW9ucz86IElMaXN0SXRlbUNydWRPcHRpb25zICk6IG5nLklQcm9taXNlPGFueT4ge1xuICAgICAgICAgICAgdmFyIGxpc3RJdGVtID0gdGhpcztcbiAgICAgICAgICAgIHZhciBtb2RlbCA9IGxpc3RJdGVtLmdldE1vZGVsKCk7XG4gICAgICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICAgICAgICBhcERhdGFTZXJ2aWNlLmRlbGV0ZUxpc3RJdGVtKG1vZGVsLCBsaXN0SXRlbSwgb3B0aW9ucykudGhlbiggKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgLyoqIE9wdGlvbmFsbHkgYnJvYWRjYXN0IGNoYW5nZSBldmVudCAqL1xuICAgICAgICAgICAgICAgIGFwVXRpbGl0eVNlcnZpY2UucmVnaXN0ZXJDaGFuZ2UobW9kZWwsICdkZWxldGUnLCBsaXN0SXRlbS5pZCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgICAgIH1cblxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAgICogQG5hbWUgTGlzdEl0ZW0uZ2V0TG9va3VwUmVmZXJlbmNlXG4gICAgICAgICAqIEBtZXRob2RPZiBMaXN0SXRlbVxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogQWxsb3dzIHVzIHRvIHJldHJpZXZlIHRoZSBsaXN0SXRlbSBiZWluZyByZWZlcmVuY2VkIGluIGEgZ2l2ZW4gbG9va3VwIGZpZWxkLlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gZmllbGROYW1lIE5hbWUgb2YgdGhlIGxvb2t1cCBwcm9wZXJ0eSBvbiB0aGUgbGlzdCBpdGVtIHRoYXQgcmVmZXJlbmNlcyBhIGxpc3RJdGVtLlxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xvb2t1cElkPWxpc3RJdGVtLmZpZWxkTmFtZS5sb29rdXBJZF0gVGhlIGxpc3RJdGVtLmxvb2t1cElkIG9mIHRoZSBsb29rdXAgb2JqZWN0LiAgVGhpcyBhbGxvd3MgdXMgdG8gYWxzbyB1c2UgdGhpcyBsb2dpY1xuICAgICAgICAgKiBvbiBhIG11bHRpLXNlbGVjdCBieSBpdGVyYXRpbmcgb3ZlciBlYWNoIG9mIHRoZSBsb29rdXBzLlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiA8cHJlPlxuICAgICAgICAgKiB2YXIgcHJvamVjdCA9IHtcbiAgICAgICAgICAgICAqICAgIHRpdGxlOiAnUHJvamVjdCAxJyxcbiAgICAgICAgICAgICAqICAgIGxvY2F0aW9uOiB7XG4gICAgICAgICAgICAgKiAgICAgICAgbG9va3VwSWQ6IDUsXG4gICAgICAgICAgICAgKiAgICAgICAgbG9va3VwVmFsdWU6ICdTb21lIEJ1aWxkaW5nJ1xuICAgICAgICAgICAgICogICAgfVxuICAgICAgICAgICAgICogfTtcbiAgICAgICAgICpcbiAgICAgICAgICogLy9UbyBnZXQgdGhlIGxvY2F0aW9uIGxpc3RJdGVtXG4gICAgICAgICAqIHZhciBsaXN0SXRlbSA9IHByb2plY3QuZ2V0TG9va3VwUmVmZXJlbmNlKCdsb2NhdGlvbicpO1xuICAgICAgICAgKiA8L3ByZT5cbiAgICAgICAgICogQHJldHVybnMge29iamVjdH0gVGhlIGxpc3RJdGVtIHRoZSBsb29rdXAgaXMgcmVmZXJlbmNpbmcgb3IgdW5kZWZpbmVkIGlmIG5vdCBpbiB0aGUgY2FjaGUuXG4gICAgICAgICAqL1xuICAgICAgICBnZXRMb29rdXBSZWZlcmVuY2UoIGZpZWxkTmFtZTogc3RyaW5nLCBsb29rdXBJZD86IG51bWJlciApOiBMaXN0SXRlbXtcbiAgICAgICAgICAgIHZhciBsaXN0SXRlbSA9IHRoaXM7XG4gICAgICAgICAgICB2YXIgbG9va3VwUmVmZXJlbmNlO1xuICAgICAgICAgICAgaWYgKF8uaXNVbmRlZmluZWQoZmllbGROYW1lKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQSBmaWVsZCBuYW1lIGlzIHJlcXVpcmVkLicpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChfLmlzRW1wdHkobGlzdEl0ZW1bZmllbGROYW1lXSkpIHtcbiAgICAgICAgICAgICAgICBsb29rdXBSZWZlcmVuY2UgPSAnJztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIG1vZGVsID0gbGlzdEl0ZW0uZ2V0TW9kZWwoKTtcbiAgICAgICAgICAgICAgICB2YXIgZmllbGREZWZpbml0aW9uID0gbW9kZWwuZ2V0RmllbGREZWZpbml0aW9uKGZpZWxkTmFtZSk7XG4gICAgICAgICAgICAgICAgLyoqIEVuc3VyZSB0aGUgZmllbGQgZGVmaW5pdGlvbiBoYXMgdGhlIExpc3QgYXR0cmlidXRlIHdoaWNoIGNvbnRhaW5zIHRoZSBHVUlEIG9mIHRoZSBsaXN0XG4gICAgICAgICAgICAgICAgICogIHRoYXQgYSBsb29rdXAgaXMgcmVmZXJlbmNpbmcuICovXG4gICAgICAgICAgICAgICAgaWYgKGZpZWxkRGVmaW5pdGlvbiAmJiBmaWVsZERlZmluaXRpb24uTGlzdCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0SWQgPSBsb29rdXBJZCB8fCBsaXN0SXRlbVtmaWVsZE5hbWVdLmxvb2t1cElkO1xuICAgICAgICAgICAgICAgICAgICBsb29rdXBSZWZlcmVuY2UgPSBhcENhY2hlU2VydmljZS5nZXRDYWNoZWRFbnRpdHkoZmllbGREZWZpbml0aW9uLkxpc3QsIHRhcmdldElkKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoaXMgaXNuXFwndCBhIHZhbGlkIExvb2t1cCBmaWVsZCBvciB0aGUgZmllbGQgZGVmaW5pdGlvbnMgbmVlZCB0byBiZSBleHRlbmRlZCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdiZWZvcmUgd2UgY2FuIGNvbXBsZXRlIHRoaXMgcmVxdWVzdC4nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbG9va3VwUmVmZXJlbmNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBMaXN0SXRlbS5nZXRGb3JtYXR0ZWRWYWx1ZVxuICAgICAgICAgKiBAbWV0aG9kT2YgTGlzdEl0ZW1cbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIEdpdmVuIHRoZSBhdHRyaWJ1dGUgbmFtZSBvbiBhIGxpc3RJdGVtLCB3ZSBjYW4gbG9va3VwIHRoZSBmaWVsZCB0eXBlIGFuZCBmcm9tIHRoZXJlIHJldHVybiBhIGZvcm1hdHRlZFxuICAgICAgICAgKiBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhhdCB2YWx1ZS5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGZpZWxkTmFtZSBBdHRyaWJ1dGUgbmFtZSBvbiB0aGUgb2JqZWN0IHRoYXQgY29udGFpbnMgdGhlIHZhbHVlIHRvIHN0cmluZ2lmeS5cbiAgICAgICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSBQYXNzIHRocm91Z2ggdG8gYXBGb3JtYXR0ZWRGaWVsZFZhbHVlU2VydmljZS5nZXRGb3JtYXR0ZWRGaWVsZFZhbHVlLlxuICAgICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBGb3JtYXR0ZWQgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgZmllbGQgdmFsdWUuXG4gICAgICAgICAqL1xuICAgICAgICBnZXRGb3JtYXR0ZWRWYWx1ZSggZmllbGROYW1lOiBzdHJpbmcsIG9wdGlvbnM/OiBPYmplY3QgKTogc3RyaW5nIHtcbiAgICAgICAgICAgIHZhciBsaXN0SXRlbSA9IHRoaXM7XG4gICAgICAgICAgICB2YXIgZmllbGREZWZpbml0aW9uID0gbGlzdEl0ZW0uZ2V0RmllbGREZWZpbml0aW9uKGZpZWxkTmFtZSk7XG4gICAgICAgICAgICBpZiAoIWZpZWxkRGVmaW5pdGlvbikge1xuICAgICAgICAgICAgICAgIHRocm93ICdBIGZpZWxkIGRlZmluaXRpb24gZm9yIGEgZmllbGQgbmFtZWQgJyArIGZpZWxkTmFtZSArICcgd2FzblxcJ3QgZm91bmQuJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhcEZvcm1hdHRlZEZpZWxkVmFsdWVTZXJ2aWNlXG4gICAgICAgICAgICAgICAgLmdldEZvcm1hdHRlZEZpZWxkVmFsdWUobGlzdEl0ZW1bZmllbGROYW1lXSwgZmllbGREZWZpbml0aW9uLm9iamVjdFR5cGUsIG9wdGlvbnMpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBMaXN0SXRlbS52YWxpZGF0ZUVudGl0eVxuICAgICAgICAgKiBAbWV0aG9kT2YgTGlzdEl0ZW1cbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IHBhc3NlcyB0aGUgY3VycmVudCBpdGVtIHRvIE1vZGVsLnZhbGlkYXRlRW50aXR5XG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gT3B0aW9uYWxseSBwYXNzIHBhcmFtcyB0byB0aGUgZGF0YVNlcnZpY2UuXG4gICAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudG9hc3Q9dHJ1ZV0gU2V0IHRvIGZhbHNlIHRvIHByZXZlbnQgdG9hc3RyIG1lc3NhZ2VzIGZyb20gYmVpbmcgZGlzcGxheWVkLlxuICAgICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gRXZhbHVhdGlvbiBvZiB2YWxpZGl0eS5cbiAgICAgICAgICovXG4gICAgICAgIHZhbGlkYXRlRW50aXR5KCBvcHRpb25zPzogT2JqZWN0ICk6IGJvb2xlYW4ge1xuICAgICAgICAgICAgdmFyIGxpc3RJdGVtID0gdGhpcyxcbiAgICAgICAgICAgICAgICBtb2RlbCA9IGxpc3RJdGVtLmdldE1vZGVsKCk7XG4gICAgICAgICAgICByZXR1cm4gbW9kZWwudmFsaWRhdGVFbnRpdHkobGlzdEl0ZW0sIG9wdGlvbnMpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBMaXN0SXRlbS5nZXRGaWVsZERlZmluaXRpb25cbiAgICAgICAgICogQG1ldGhvZE9mIExpc3RJdGVtXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBSZXR1cm5zIHRoZSBmaWVsZCBkZWZpbml0aW9uIGZyb20gdGhlIGRlZmluaXRpb25zIGRlZmluZWQgaW4gdGhlIGN1c3RvbSBmaWVsZHMgYXJyYXkgd2l0aGluIGEgbW9kZWwuXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIDxwcmU+XG4gICAgICAgICAqIHZhciBwcm9qZWN0ID0ge1xuICAgICAgICAgICAgICogICAgdGl0bGU6ICdQcm9qZWN0IDEnLFxuICAgICAgICAgICAgICogICAgbG9jYXRpb246IHtcbiAgICAgICAgICAgICAqICAgICAgICBsb29rdXBJZDogNSxcbiAgICAgICAgICAgICAqICAgICAgICBsb29rdXBWYWx1ZTogJ1NvbWUgQnVpbGRpbmcnXG4gICAgICAgICAgICAgKiAgICB9XG4gICAgICAgICAgICAgKiB9O1xuICAgICAgICAgKlxuICAgICAgICAgKiAvL1RvIGdldCBmaWVsZCBtZXRhZGF0YVxuICAgICAgICAgKiB2YXIgbG9jYXRpb25EZWZpbml0aW9uID0gcHJvamVjdC5nZXRGaWVsZERlZmluaXRpb24oJ2xvY2F0aW9uJyk7XG4gICAgICAgICAqIDwvcHJlPlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gZmllbGROYW1lIEludGVybmFsIGZpZWxkIG5hbWUuXG4gICAgICAgICAqIEByZXR1cm5zIHtvYmplY3R9IEZpZWxkIGRlZmluaXRpb24uXG4gICAgICAgICAqL1xuICAgICAgICBnZXRGaWVsZERlZmluaXRpb24oIGZpZWxkTmFtZTogc3RyaW5nICk6IElGaWVsZERlZmluaXRpb24ge1xuICAgICAgICAgICAgdmFyIGxpc3RJdGVtID0gdGhpcztcbiAgICAgICAgICAgIHJldHVybiBsaXN0SXRlbS5nZXRNb2RlbCgpLmdldEZpZWxkRGVmaW5pdGlvbihmaWVsZE5hbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBMaXN0SXRlbS5nZXRGaWVsZExhYmVsXG4gICAgICAgICAqIEBtZXRob2RPZiBMaXN0SXRlbVxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gZmllbGROYW1lIEludGVybmFsIGZpZWxkIG5hbWUuXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBVc2VzIHRoZSBmaWVsZCBkZWZpbml0aW9uIGRlZmluZWQgaW4gdGhlIG1vZGVsIHRvIGF0dGVtcHQgdG8gZmluZCB0aGUgbGFiZWwgZm9yIGEgZ2l2ZW4gZmllbGQuICBUaGUgZGVmYXVsdFxuICAgICAgICAgKiB2YWx1ZSBpcyBmaWVsZERlZmluaXRpb24ubGFiZWwuICBJZiBub3QgYXZhaWxhYmxlIGl0IHdpbGwgdGhlbiB1c2UgZmllbGREZWZpbml0aW9uLkRpc3BsYXlOYW1lIHdoaWNoIGlzXG4gICAgICAgICAqIHBvcHVsYXRlZCBhZnRlciBhIEdldExpc3RJdGVtc1NpbmNlVG9rZW4gb3BlcmF0aW9uIG9yIGEgTW9kZWwuZXh0ZW5kTGlzdE1ldGFkYXRhIG9wZXJhdGlvbi4gIElmIHRoaXMgaXNuJ3RcbiAgICAgICAgICogYXZhaWxhYmxlIGl0IHdpbGwgZmFsbGJhY2sgdG8gdGhlIHRoZSBmaWVsZERlZmluaXRpb24uRGlzcGxheU5hbWUgd2hpY2ggaXMgYSBiZXN0IGd1ZXNzIGF0IGNvbnZlcnRpbmcgdGhlXG4gICAgICAgICAqIGNhbWwgY2FzZSB2ZXJzaW9uIG9mIHRoZSBtYXBwZWQgbmFtZSB1c2luZyBhcFV0aWxpdHlTZXJ2aWNlLmZyb21DYW1lbENhc2UuXG4gICAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBsYWJlbCBmb3IgYSBnaXZlbiBmaWVsZCBvYmplY3QuXG4gICAgICAgICAqL1xuICAgICAgICBnZXRGaWVsZExhYmVsKCBmaWVsZE5hbWU6IHN0cmluZyApOiBzdHJpbmcge1xuICAgICAgICAgICAgdmFyIGxpc3RJdGVtID0gdGhpcztcbiAgICAgICAgICAgIHZhciBmaWVsZERlZmluaXRpb24gPSBsaXN0SXRlbS5nZXRGaWVsZERlZmluaXRpb24oZmllbGROYW1lKTtcbiAgICAgICAgICAgIHJldHVybiBmaWVsZERlZmluaXRpb24ubGFiZWwgfHwgZmllbGREZWZpbml0aW9uLkRpc3BsYXlOYW1lIHx8IGZpZWxkRGVmaW5pdGlvbi5kaXNwbGF5TmFtZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAgICogQG5hbWUgTGlzdEl0ZW0uZ2V0RmllbGREZXNjcmlwdGlvblxuICAgICAgICAgKiBAbWV0aG9kT2YgTGlzdEl0ZW1cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGZpZWxkTmFtZSBJbnRlcm5hbCBmaWVsZCBuYW1lLlxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogVXNlcyB0aGUgZmllbGQgZGVmaW5pdGlvbiBkZWZpbmVkIGluIHRoZSBtb2RlbCB0byBhdHRlbXB0IHRvIGZpbmQgdGhlIGRlc2NyaXB0aW9uIGZvciBhIGdpdmVuIGZpZWxkLiAgVGhlIGRlZmF1bHRcbiAgICAgICAgICogdmFsdWUgaXMgZmllbGREZWZpbml0aW9uLkRlc2NyaXB0aW9uIHdoaWNoIGlzIHBvcHVsYXRlZCBhZnRlciBhIEdldExpc3RJdGVtc1NpbmNlVG9rZW4gb3BlcmF0aW9uIG9yIGFcbiAgICAgICAgICogTW9kZWwuZXh0ZW5kTGlzdE1ldGFkYXRhIG9wZXJhdGlvbi4gIElmIHRoaXMgaXNuJ3QgYXZhaWxhYmxlIHdlIGxvb2sgZm9yIGFuIG9wdGlvbmFsIGF0dHJpYnV0ZSBvZiBhIGZpZWxkXG4gICAgICAgICAqIGZpZWxkRGVmaW5pdGlvbi5kZXNjcmlwdGlvbi4gIEZpbmFsbHkgaWYgdGhhdCBoYXZlIGFueXRoaW5nIGl0IHJldHVybnMgYW4gZW1wdHkgc3RyaW5nLlxuICAgICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgZGVzY3JpcHRpb24gZm9yIGEgZ2l2ZW4gZmllbGQgb2JqZWN0LlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0RmllbGREZXNjcmlwdGlvbihmaWVsZE5hbWU6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgICAgICB2YXIgbGlzdEl0ZW0gPSB0aGlzO1xuICAgICAgICAgICAgdmFyIGZpZWxkRGVmaW5pdGlvbiA9IGxpc3RJdGVtLmdldEZpZWxkRGVmaW5pdGlvbihmaWVsZE5hbWUpO1xuICAgICAgICAgICAgcmV0dXJuIGZpZWxkRGVmaW5pdGlvbi5kZXNjcmlwdGlvbiB8fCBmaWVsZERlZmluaXRpb24uRGVzY3JpcHRpb24gfHwgJyc7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIExpc3RJdGVtLmdldEZpZWxkQ2hvaWNlc1xuICAgICAgICAgKiBAbWV0aG9kT2YgTGlzdEl0ZW1cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGZpZWxkTmFtZSBJbnRlcm5hbCBmaWVsZCBuYW1lLlxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogVXNlcyB0aGUgZmllbGQgZGVmaW5pdGlvbiBkZWZpbmVkIGluIHRoZSBtb2RlbCB0byBhdHRlbXB0IHRvIGZpbmQgdGhlIGNob2ljZXMgYXJyYXkgZm9yIGEgZ2l2ZW4gTG9va3VwIG9yXG4gICAgICAgICAqIE11bHRpTG9va3VwIHR5cGUgZmllbGQuICBUaGUgZGVmYXVsdCB2YWx1ZSBpcyBmaWVsZERlZmluaXRpb24uY2hvaWNlcyB3aGljaCBjYW4gb3B0aW9uYWxseSBiZSBhZGRlZCB0byBhXG4gICAgICAgICAqIGdpdmVuIGZpZWxkIGRlZmluaXRpb24uICBJZiB0aGlzIGlzbid0IGZvdW5kLCB3ZSBjaGVjayBmaWVsZERlZmluaXRpb24uQ2hvaWNlcyB3aGljaCBpcyBwb3B1bGF0ZWQgYWZ0ZXIgYVxuICAgICAgICAgKiBHZXRMaXN0SXRlbXNTaW5jZVRva2VuIG9wZXJhdGlvbiBvciBhIE1vZGVsLmV4dGVuZExpc3RNZXRhZGF0YSBvcGVyYXRpb24uICBGaW5hbGx5IGlmIHRoYXQgaXNuJ3QgYXZhaWxhYmxlXG4gICAgICAgICAqIHdlIHJldHVybiBhbiBlbXB0eSBhcnJheS5cbiAgICAgICAgICogQHJldHVybnMge3N0cmluZ1tdfSBBbiBhcnJheSBvZiBjaG9pY2VzIGZvciBhIENob2ljZSBvciBNdWx0aUNob2ljZSB0eXBlIGZpZWxkLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0RmllbGRDaG9pY2VzKGZpZWxkTmFtZTogc3RyaW5nKTogc3RyaW5nW10ge1xuICAgICAgICAgICAgdmFyIGxpc3RJdGVtID0gdGhpcztcbiAgICAgICAgICAgIHZhciBmaWVsZERlZmluaXRpb24gPSBsaXN0SXRlbS5nZXRGaWVsZERlZmluaXRpb24oZmllbGROYW1lKTtcbiAgICAgICAgICAgIHJldHVybiBmaWVsZERlZmluaXRpb24uY2hvaWNlcyB8fCBmaWVsZERlZmluaXRpb24uQ2hvaWNlcyB8fCBbXTtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBMaXN0SXRlbS5nZXRBdmFpbGFibGVXb3JrZmxvd3NcbiAgICAgICAgICogQG1ldGhvZE9mIExpc3RJdGVtXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBXcmFwcGVyIGZvciBhcERhdGFTZXJ2aWNlLmdldEF2YWlsYWJsZVdvcmtmbG93cy4gIFNpbXBseSBwYXNzZXMgdGhlIGN1cnJlbnQgaXRlbSBpbi5cbiAgICAgICAgICogQHJldHVybnMge3Byb21pc2V9IEFycmF5IG9mIG9iamVjdHMgZGVmaW5pbmcgZWFjaCBvZiB0aGUgYXZhaWxhYmxlIHdvcmtmbG93cy5cbiAgICAgICAgICovXG4gICAgICAgIGdldEF2YWlsYWJsZVdvcmtmbG93cygpOiBuZy5JUHJvbWlzZTxJV29ya2Zsb3dEZWZpbml0aW9uW10+IHtcbiAgICAgICAgICAgIHZhciBsaXN0SXRlbSA9IHRoaXM7XG4gICAgICAgICAgICByZXR1cm4gYXBEYXRhU2VydmljZS5nZXRBdmFpbGFibGVXb3JrZmxvd3MobGlzdEl0ZW0uZmlsZVJlZi5sb29rdXBWYWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIExpc3RJdGVtLmdldExpc3RJZFxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogQWxsb3dzIHVzIHRvIHJlZmVyZW5jZSB0aGUgbGlzdCBJRCBkaXJlY3RseSBmcm9tIHRoZSBsaXN0IGl0ZW0uICBUaGlzIGlzIGFkZGVkIHRvIHRoZVxuICAgICAgICAgKiBtb2RlbC5mYWN0b3J5IHByb3RvdHlwZSBpbiBhcE1vZGVsRmFjdG9yeS5cbiAgICAgICAgICogQHJldHVybnMge3N0cmluZ30gTGlzdCBJRC5cbiAgICAgICAgICovXG4gICAgICAgIGdldExpc3RJZCgpOiBzdHJpbmcge1xuICAgICAgICAgICAgdmFyIG1vZGVsID0gdGhpcy5nZXRNb2RlbCgpO1xuICAgICAgICAgICAgcmV0dXJuIG1vZGVsLmdldExpc3RJZCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBMaXN0SXRlbS5nZXRMaXN0XG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBBYnN0cmFjdGlvbiB0byBhbGxvdyBsb2dpYyBpbiBtb2RlbCB0byBiZSB1c2VkIGluc3RlYWQgb2YgZGVmaW5pbmcgdGhlIGxpc3QgbG9jYXRpb24gaW4gbW9yZSB0aGFuIG9uZSBwbGFjZS5cbiAgICAgICAgICogQHJldHVybnMge29iamVjdH0gTGlzdCBmb3IgdGhlIGxpc3QgaXRlbS5cbiAgICAgICAgICovXG4gICAgICAgIGdldExpc3QoKTogSUxpc3Qge1xuICAgICAgICAgICAgdmFyIG1vZGVsOiBJTW9kZWwgPSB0aGlzLmdldE1vZGVsKCk7XG4gICAgICAgICAgICByZXR1cm4gbW9kZWwuZ2V0TGlzdCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBMaXN0SXRlbS5zdGFydFdvcmtmbG93XG4gICAgICAgICAqIEBtZXRob2RPZiBMaXN0SXRlbVxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogR2l2ZW4gYSB3b3JrZmxvdyBuYW1lIG9yIHRlbXBsYXRlSWQgd2UgaW5pdGlhdGUgYSBnaXZlbiB3b3JrZmxvdyB1c2luZyBhcERhdGFTZXJ2aWNlLnN0YXJ0V29ya2Zsb3cuXG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIFBhcmFtcyBmb3IgbWV0aG9kIGFuZCBwYXNzIHRocm91Z2ggb3B0aW9ucyB0byBhcERhdGFTZXJ2aWNlLnN0YXJ0V29ya2Zsb3cuXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy50ZW1wbGF0ZUlkXSBVc2VkIHRvIGRpcmVjdGx5IHN0YXJ0IHRoZSB3b3JrZmxvdyB3aXRob3V0IGxvb2tpbmcgdXAgdGhlIHRlbXBsYXRlSWQuXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy53b3JrZmxvd05hbWVdIFVzZSB0aGlzIHZhbHVlIHRvIGxvb2t1cCB0aGUgdGVtcGxhdGVJZCBhbmQgdGhlbiBzdGFydCB0aGUgd29ya2Zsb3cuXG4gICAgICAgICAqIEByZXR1cm5zIHtwcm9taXNlfSBSZXNvbHZlcyB3aXRoIHNlcnZlciByZXNwb25zZS5cbiAgICAgICAgICovXG4gICAgICAgIHN0YXJ0V29ya2Zsb3cob3B0aW9uczogSVN0YXJ0V29ya2Zsb3dQYXJhbXMpOiBuZy5JUHJvbWlzZTxhbnk+IHtcbiAgICAgICAgICAgIHZhciBsaXN0SXRlbSA9IHRoaXMsXG4gICAgICAgICAgICAgICAgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICAgICAgICAvKiogU2V0IHRoZSByZWxhdGl2ZSBmaWxlIHJlZmVyZW5jZSAqL1xuICAgICAgICAgICAgb3B0aW9ucy5maWxlUmVmID0gbGlzdEl0ZW0uZmlsZVJlZi5sb29rdXBWYWx1ZTtcblxuICAgICAgICAgICAgaWYgKCFvcHRpb25zLnRlbXBsYXRlSWQgJiYgIW9wdGlvbnMud29ya2Zsb3dOYW1lKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgJ0VpdGhlciBhIHRlbXBsYXRlSWQgb3Igd29ya2Zsb3dOYW1lIGlzIHJlcXVpcmVkIHRvIGluaXRpYXRlIGEgd29ya2Zsb3cuJztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy50ZW1wbGF0ZUlkKSB7XG4gICAgICAgICAgICAgICAgLyoqIFRoZSB0ZW1wbGF0ZUlkIGlzIGFscmVhZHkgcHJvdmlkZWQgc28gd2UgZG9uJ3QgbmVlZCB0byBsb29rIGZvciBpdCAqL1xuICAgICAgICAgICAgICAgIGluaXRpYXRlUmVxdWVzdCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvKiogV2UgZmlyc3QgbmVlZCB0byBnZXQgdGhlIHRlbXBsYXRlIEdVSUQgZm9yIHRoZSB3b3JrZmxvdyAqL1xuICAgICAgICAgICAgICAgIGxpc3RJdGVtLmdldEF2YWlsYWJsZVdvcmtmbG93cygpXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKCAod29ya2Zsb3dzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0V29ya2xvdyA9IF8uZmluZFdoZXJlKHdvcmtmbG93cywge25hbWU6IG9wdGlvbnMud29ya2Zsb3dOYW1lfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRhcmdldFdvcmtsb3cpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyAnQSB3b3JrZmxvdyB3aXRoIHRoZSBzcGVjaWZpZWQgbmFtZSB3YXNuXFwndCBmb3VuZC4nO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLyoqIENyZWF0ZSBhbiBleHRlbmRlZCBzZXQgb2Ygb3B0aW9ucyB0byBwYXNzIGFueSBvdmVycmlkZXMgdG8gYXBEYXRhU2VydmljZSAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy50ZW1wbGF0ZUlkID0gdGFyZ2V0V29ya2xvdy50ZW1wbGF0ZUlkO1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5pdGlhdGVSZXF1ZXN0KCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcblxuICAgICAgICAgICAgZnVuY3Rpb24gaW5pdGlhdGVSZXF1ZXN0KCkge1xuICAgICAgICAgICAgICAgIGFwRGF0YVNlcnZpY2Uuc3RhcnRXb3JrZmxvdyhvcHRpb25zKVxuICAgICAgICAgICAgICAgICAgICAudGhlbiggKHhtbFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHhtbFJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAgICogQG5hbWUgTGlzdEl0ZW0uZ2V0QXR0YWNobWVudENvbGxlY3Rpb25cbiAgICAgICAgICogQG1ldGhvZE9mIExpc3RJdGVtXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBSZXF1ZXN0cyBhbGwgYXR0YWNobWVudHMgZm9yIGEgZ2l2ZW4gbGlzdCBpdGVtLlxuICAgICAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSBQcm9taXNlIHdoaWNoIHJlc29sdmVzIHdpdGggYWxsIGF0dGFjaG1lbnRzIGZvciBhIGxpc3QgaXRlbS5cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogPHByZT5cbiAgICAgICAgICogLy9QdWxsIGRvd24gYWxsIGF0dGFjaG1lbnRzIGZvciB0aGUgY3VycmVudCBsaXN0IGl0ZW1cbiAgICAgICAgICogdmFyIGZldGNoQXR0YWNobWVudHMgPSBmdW5jdGlvbiAobGlzdEl0ZW0pIHtcbiAgICAgICAgICAgICAqICAgICBsaXN0SXRlbS5nZXRBdHRhY2htZW50Q29sbGVjdGlvbigpXG4gICAgICAgICAgICAgKiAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChhdHRhY2htZW50cykge1xuICAgICAgICAgICAgICogICAgICAgICAgICAgc2NvcGUuYXR0YWNobWVudHMgPSBhdHRhY2htZW50cztcbiAgICAgICAgICAgICAqICAgICAgICAgfSk7XG4gICAgICAgICAgICAgKiB9O1xuICAgICAgICAgKiA8L3ByZT5cbiAgICAgICAgICovXG4gICAgICAgIGdldEF0dGFjaG1lbnRDb2xsZWN0aW9uKCk6IG5nLklQcm9taXNlPHN0cmluZ1tdPiB7XG4gICAgICAgICAgICB2YXIgbGlzdEl0ZW0gPSB0aGlzO1xuICAgICAgICAgICAgcmV0dXJuIGFwRGF0YVNlcnZpY2UuZ2V0Q29sbGVjdGlvbih7XG4gICAgICAgICAgICAgICAgb3BlcmF0aW9uOiAnR2V0QXR0YWNobWVudENvbGxlY3Rpb24nLFxuICAgICAgICAgICAgICAgIGxpc3ROYW1lOiBsaXN0SXRlbS5nZXRNb2RlbCgpLmxpc3QuZ2V0TGlzdElkKCksXG4gICAgICAgICAgICAgICAgd2ViVVJMOiBsaXN0SXRlbS5nZXRNb2RlbCgpLmxpc3Qud2ViVVJMLFxuICAgICAgICAgICAgICAgIElEOiBsaXN0SXRlbS5pZCxcbiAgICAgICAgICAgICAgICBmaWx0ZXJOb2RlOiAnQXR0YWNobWVudCdcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBMaXN0SXRlbS5kZWxldGVBdHRhY2htZW50XG4gICAgICAgICAqIEBtZXRob2RPZiBMaXN0SXRlbVxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogRGVsZXRlIGFuIGF0dGFjaG1lbnQgZnJvbSBhIGxpc3QgaXRlbS5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCBSZXF1aXJlcyB0aGUgVVJMIGZvciB0aGUgYXR0YWNobWVudCB3ZSB3YW50IHRvIGRlbGV0ZS5cbiAgICAgICAgICogQHJldHVybnMge29iamVjdH0gUHJvbWlzZSB3aGljaCByZXNvbHZlcyB3aXRoIHRoZSB1cGRhdGVkIGF0dGFjaG1lbnQgY29sbGVjdGlvbi5cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogPHByZT5cbiAgICAgICAgICogJHNjb3BlLmRlbGV0ZUF0dGFjaG1lbnQgPSBmdW5jdGlvbiAoYXR0YWNobWVudCkge1xuICAgICAgICAgICAgICogICAgIHZhciBjb25maXJtYXRpb24gPSB3aW5kb3cuY29uZmlybShcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgdGhpcyBmaWxlP1wiKTtcbiAgICAgICAgICAgICAqICAgICBpZiAoY29uZmlybWF0aW9uKSB7XG4gICAgICAgICAgICAgKiAgICAgICAgIHNjb3BlLmxpc3RJdGVtLmRlbGV0ZUF0dGFjaG1lbnQoYXR0YWNobWVudCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgKiAgICAgICAgICAgICBhbGVydChcIkF0dGFjaG1lbnQgc3VjY2Vzc2Z1bGx5IGRlbGV0ZWRcIik7XG4gICAgICAgICAgICAgKiAgICAgICAgIH0pO1xuICAgICAgICAgICAgICogICAgIH1cbiAgICAgICAgICAgICAqIH07XG4gICAgICAgICAqIDwvcHJlPlxuICAgICAgICAgKi9cbiAgICAgICAgZGVsZXRlQXR0YWNobWVudCh1cmw6IHN0cmluZyk6IG5nLklQcm9taXNlPGFueT4ge1xuICAgICAgICAgICAgdmFyIGxpc3RJdGVtID0gdGhpcztcbiAgICAgICAgICAgIHJldHVybiBhcERhdGFTZXJ2aWNlLmRlbGV0ZUF0dGFjaG1lbnQoe1xuICAgICAgICAgICAgICAgIGxpc3RJdGVtSUQ6IGxpc3RJdGVtLmlkLFxuICAgICAgICAgICAgICAgIHVybDogdXJsLFxuICAgICAgICAgICAgICAgIGxpc3ROYW1lOiBsaXN0SXRlbS5nZXRNb2RlbCgpLmxpc3QuZ2V0TGlzdElkKClcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBMaXN0SXRlbS5yZXNvbHZlUGVybWlzc2lvbnNcbiAgICAgICAgICogQG1ldGhvZE9mIExpc3RJdGVtXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBTZWUgYXBNb2RlbFNlcnZpY2UucmVzb2x2ZVBlcm1pc3Npb25zIGZvciBkZXRhaWxzIG9uIHdoYXQgd2UgZXhwZWN0IHRvIGhhdmUgcmV0dXJuZWQuXG4gICAgICAgICAqIEByZXR1cm5zIHtPYmplY3R9IENvbnRhaW5zIHByb3BlcnRpZXMgZm9yIGVhY2ggcGVybWlzc2lvbiBsZXZlbCBldmFsdWF0ZWQgZm9yIGN1cnJlbnQgdXNlci5cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogTGV0cyBhc3N1bWUgd2UncmUgY2hlY2tpbmcgdG8gc2VlIGlmIGEgdXNlciBoYXMgZWRpdCByaWdodHMgZm9yIGEgZ2l2ZW4gdGFzayBsaXN0IGl0ZW0uXG4gICAgICAgICAqIDxwcmU+XG4gICAgICAgICAqIHZhciBjYW5Vc2VyRWRpdCA9IGZ1bmN0aW9uKHRhc2spIHtcbiAgICAgICAgICAgICAqICAgICAgdmFyIHVzZXJQZXJtaXNzaW9ucyA9IHRhc2sucmVzb2x2ZVBlcm1pc3Npb25zKCk7XG4gICAgICAgICAgICAgKiAgICAgIHJldHVybiB1c2VyUGVybWlzc2lvbnMuRWRpdExpc3RJdGVtcztcbiAgICAgICAgICAgICAqIH07XG4gICAgICAgICAqIDwvcHJlPlxuICAgICAgICAgKiBFeGFtcGxlIG9mIHdoYXQgdGhlIHJldHVybmVkIG9iamVjdCB3b3VsZCBsb29rIGxpa2VcbiAgICAgICAgICogZm9yIGEgc2l0ZSBhZG1pbi5cbiAgICAgICAgICogPHByZT5cbiAgICAgICAgICogdXNlclBlcm1pc3Npb25zID0ge1xuICAgICAgICAgICAgICogICAgXCJWaWV3TGlzdEl0ZW1zXCI6IHRydWUsXG4gICAgICAgICAgICAgKiAgICBcIkFkZExpc3RJdGVtc1wiOiB0cnVlLFxuICAgICAgICAgICAgICogICAgXCJFZGl0TGlzdEl0ZW1zXCI6IHRydWUsXG4gICAgICAgICAgICAgKiAgICBcIkRlbGV0ZUxpc3RJdGVtc1wiOiB0cnVlLFxuICAgICAgICAgICAgICogICAgXCJBcHByb3ZlSXRlbXNcIjogdHJ1ZSxcbiAgICAgICAgICAgICAqICAgIFwiT3Blbkl0ZW1zXCI6IHRydWUsXG4gICAgICAgICAgICAgKiAgICBcIlZpZXdWZXJzaW9uc1wiOiB0cnVlLFxuICAgICAgICAgICAgICogICAgXCJEZWxldGVWZXJzaW9uc1wiOiB0cnVlLFxuICAgICAgICAgICAgICogICAgXCJDYW5jZWxDaGVja291dFwiOiB0cnVlLFxuICAgICAgICAgICAgICogICAgXCJQZXJzb25hbFZpZXdzXCI6IHRydWUsXG4gICAgICAgICAgICAgKiAgICBcIk1hbmFnZUxpc3RzXCI6IHRydWUsXG4gICAgICAgICAgICAgKiAgICBcIlZpZXdGb3JtUGFnZXNcIjogdHJ1ZSxcbiAgICAgICAgICAgICAqICAgIFwiT3BlblwiOiB0cnVlLFxuICAgICAgICAgICAgICogICAgXCJWaWV3UGFnZXNcIjogdHJ1ZSxcbiAgICAgICAgICAgICAqICAgIFwiQWRkQW5kQ3VzdG9taXplUGFnZXNcIjogdHJ1ZSxcbiAgICAgICAgICAgICAqICAgIFwiQXBwbHlUaGVtZUFuZEJvcmRlclwiOiB0cnVlLFxuICAgICAgICAgICAgICogICAgXCJBcHBseVN0eWxlU2hlZXRzXCI6IHRydWUsXG4gICAgICAgICAgICAgKiAgICBcIlZpZXdVc2FnZURhdGFcIjogdHJ1ZSxcbiAgICAgICAgICAgICAqICAgIFwiQ3JlYXRlU1NDU2l0ZVwiOiB0cnVlLFxuICAgICAgICAgICAgICogICAgXCJNYW5hZ2VTdWJ3ZWJzXCI6IHRydWUsXG4gICAgICAgICAgICAgKiAgICBcIkNyZWF0ZUdyb3Vwc1wiOiB0cnVlLFxuICAgICAgICAgICAgICogICAgXCJNYW5hZ2VQZXJtaXNzaW9uc1wiOiB0cnVlLFxuICAgICAgICAgICAgICogICAgXCJCcm93c2VEaXJlY3Rvcmllc1wiOiB0cnVlLFxuICAgICAgICAgICAgICogICAgXCJCcm93c2VVc2VySW5mb1wiOiB0cnVlLFxuICAgICAgICAgICAgICogICAgXCJBZGREZWxQcml2YXRlV2ViUGFydHNcIjogdHJ1ZSxcbiAgICAgICAgICAgICAqICAgIFwiVXBkYXRlUGVyc29uYWxXZWJQYXJ0c1wiOiB0cnVlLFxuICAgICAgICAgICAgICogICAgXCJNYW5hZ2VXZWJcIjogdHJ1ZSxcbiAgICAgICAgICAgICAqICAgIFwiVXNlUmVtb3RlQVBJc1wiOiB0cnVlLFxuICAgICAgICAgICAgICogICAgXCJNYW5hZ2VBbGVydHNcIjogdHJ1ZSxcbiAgICAgICAgICAgICAqICAgIFwiQ3JlYXRlQWxlcnRzXCI6IHRydWUsXG4gICAgICAgICAgICAgKiAgICBcIkVkaXRNeVVzZXJJbmZvXCI6IHRydWUsXG4gICAgICAgICAgICAgKiAgICBcIkVudW1lcmF0ZVBlcm1pc3Npb25zXCI6IHRydWUsXG4gICAgICAgICAgICAgKiAgICBcIkZ1bGxNYXNrXCI6IHRydWVcbiAgICAgICAgICAgICAqIH1cbiAgICAgICAgICogPC9wcmU+XG4gICAgICAgICAqL1xuICAgICAgICByZXNvbHZlUGVybWlzc2lvbnMoKTogSVVzZXJQZXJtaXNzaW9uc09iamVjdCB7XG4gICAgICAgICAgICByZXR1cm4gYXBVdGlsaXR5U2VydmljZS5yZXNvbHZlUGVybWlzc2lvbnModGhpcy5wZXJtTWFzayk7XG4gICAgICAgIH1cblxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAgICogQG5hbWUgTGlzdEl0ZW0uZ2V0RmllbGRWZXJzaW9uSGlzdG9yeVxuICAgICAgICAgKiBAbWV0aG9kT2YgTGlzdEl0ZW1cbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIFRha2VzIGFuIGFycmF5IG9mIGZpZWxkIG5hbWVzLCBmaW5kcyB0aGUgdmVyc2lvbiBoaXN0b3J5IGZvciBmaWVsZCwgYW5kIHJldHVybnMgYSBzbmFwc2hvdCBvZiB0aGUgb2JqZWN0IGF0IGVhY2hcbiAgICAgICAgICogdmVyc2lvbi4gIElmIG5vIGZpZWxkcyBhcmUgcHJvdmlkZWQsIHdlIGxvb2sgYXQgdGhlIGZpZWxkIGRlZmluaXRpb25zIGluIHRoZSBtb2RlbCBhbmQgcHVsbCBhbGwgbm9uLXJlYWRvbmx5XG4gICAgICAgICAqIGZpZWxkcy4gIFRoZSBvbmx5IHdheSB0byBkbyB0aGlzIHRoYXQgSSd2ZSBiZWVuIGFibGUgdG8gZ2V0IHdvcmtpbmcgaXMgdG8gZ2V0IHRoZSB2ZXJzaW9uIGhpc3RvcnkgZm9yIGVhY2hcbiAgICAgICAgICogZmllbGQgaW5kZXBlbmRlbnRseSBhbmQgdGhlbiBidWlsZCB0aGUgaGlzdG9yeSBieSBjb21iaW5pbmcgdGhlIHNlcnZlciByZXNwb25zZXMgZm9yIGVhY2ggcmVxdWVzdHMgaW50byBhXG4gICAgICAgICAqIHNuYXBzaG90IG9mIHRoZSBvYmplY3QuXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nW119IFtmaWVsZE5hbWVzXSBBbiBhcnJheSBvZiBmaWVsZCBuYW1lcyB0aGF0IHdlJ3JlIGludGVyZXN0ZWQgaW4uXG4gICAgICAgICAqIEByZXR1cm5zIHtvYmplY3R9IHByb21pc2UgLSBjb250YWluaW5nIGFycmF5IG9mIGNoYW5nZXNcbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogQXNzdW1pbmcgd2UgaGF2ZSBhIG1vZGFsIGZvcm0gd2hlcmUgd2Ugd2FudCB0byBkaXNwbGF5IGVhY2ggdmVyc2lvbiBvZiB0aGUgdGl0bGUgYW5kIHByb2plY3QgZmllbGRzXG4gICAgICAgICAqIG9mIGEgZ2l2ZW4gbGlzdCBpdGVtLlxuICAgICAgICAgKiA8cHJlPlxuICAgICAgICAgKiBteUdlbmVyaWNMaXN0SXRlbS5nZXRGaWVsZFZlcnNpb25IaXN0b3J5KFsndGl0bGUnLCAncHJvamVjdCddKVxuICAgICAgICAgKiAgICAgLnRoZW4oZnVuY3Rpb24odmVyc2lvbkhpc3RvcnkpIHtcbiAgICAgICAgICAgICAqICAgICAgICAgICAgLy8gV2Ugbm93IGhhdmUgYW4gYXJyYXkgb2YgZXZlcnkgdmVyc2lvbiBvZiB0aGVzZSBmaWVsZHNcbiAgICAgICAgICAgICAqICAgICAgICAgICAgJHNjb3BlLnZlcnNpb25IaXN0b3J5ID0gdmVyc2lvbkhpc3Rvcnk7XG4gICAgICAgICAgICAgKiAgICAgIH07XG4gICAgICAgICAqIDwvcHJlPlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0RmllbGRWZXJzaW9uSGlzdG9yeShmaWVsZE5hbWVzOiBzdHJpbmdbXSk6IG5nLklQcm9taXNlPElMaXN0SXRlbVZlcnNpb25bXT4ge1xuICAgICAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAgICAgICAgICAgIHZhciBwcm9taXNlQXJyYXkgPSBbXTtcbiAgICAgICAgICAgIHZhciBsaXN0SXRlbSA9IHRoaXM7XG4gICAgICAgICAgICB2YXIgbW9kZWwgPSBsaXN0SXRlbS5nZXRNb2RlbCgpO1xuXG4gICAgICAgICAgICAvKiogQ29uc3RydWN0b3IgdGhhdCBjcmVhdGVzIGEgcHJvbWlzZSBmb3IgZWFjaCBmaWVsZCAqL1xuICAgICAgICAgICAgdmFyIGNyZWF0ZVByb21pc2UgPSAoZmllbGROYW1lKSA9PiB7XG5cbiAgICAgICAgICAgICAgICB2YXIgZmllbGREZWZpbml0aW9uID0gXy5maW5kKG1vZGVsLmxpc3QuZmllbGRzLCB7bWFwcGVkTmFtZTogZmllbGROYW1lfSk7XG5cbiAgICAgICAgICAgICAgICB2YXIgcGF5bG9hZCA9IHtcbiAgICAgICAgICAgICAgICAgICAgb3BlcmF0aW9uOiAnR2V0VmVyc2lvbkNvbGxlY3Rpb24nLFxuICAgICAgICAgICAgICAgICAgICBzdHJsaXN0SUQ6IG1vZGVsLmxpc3QuZ2V0TGlzdElkKCksXG4gICAgICAgICAgICAgICAgICAgIHN0cmxpc3RJdGVtSUQ6IGxpc3RJdGVtLmlkLFxuICAgICAgICAgICAgICAgICAgICBzdHJGaWVsZE5hbWU6IGZpZWxkRGVmaW5pdGlvbi5zdGF0aWNOYW1lLFxuICAgICAgICAgICAgICAgICAgICB3ZWJVUkw6IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKiogTWFudWFsbHkgc2V0IHNpdGUgdXJsIGlmIGRlZmluZWQsIHByZXZlbnRzIFNQU2VydmljZXMgZnJvbSBtYWtpbmcgYSBibG9ja2luZyBjYWxsIHRvIGZldGNoIGl0LiAqL1xuICAgICAgICAgICAgICAgIGlmIChhcENvbmZpZy5kZWZhdWx0VXJsKSB7XG4gICAgICAgICAgICAgICAgICAgIHBheWxvYWQud2ViVVJMID0gYXBDb25maWcuZGVmYXVsdFVybDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBwcm9taXNlQXJyYXkucHVzaChhcERhdGFTZXJ2aWNlLmdldEZpZWxkVmVyc2lvbkhpc3RvcnkocGF5bG9hZCwgZmllbGREZWZpbml0aW9uKSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBpZiAoIWZpZWxkTmFtZXMpIHtcbiAgICAgICAgICAgICAgICAvKiogSWYgZmllbGRzIGFyZW4ndCBwcm92aWRlZCwgcHVsbCB0aGUgdmVyc2lvbiBoaXN0b3J5IGZvciBhbGwgTk9OLXJlYWRvbmx5IGZpZWxkcyAqL1xuICAgICAgICAgICAgICAgIHZhciB0YXJnZXRGaWVsZHMgPSBfLndoZXJlKG1vZGVsLmxpc3QuZmllbGRzLCB7cmVhZE9ubHk6IGZhbHNlfSk7XG4gICAgICAgICAgICAgICAgZmllbGROYW1lcyA9IFtdO1xuICAgICAgICAgICAgICAgIF8uZWFjaCh0YXJnZXRGaWVsZHMsIChmaWVsZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBmaWVsZE5hbWVzLnB1c2goZmllbGQubWFwcGVkTmFtZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKF8uaXNTdHJpbmcoZmllbGROYW1lcykpIHtcbiAgICAgICAgICAgICAgICAvKiogSWYgYSBzaW5nbGUgZmllbGQgbmFtZSBpcyBwcm92aWRlZCwgYWRkIGl0IHRvIGFuIGFycmF5IHNvIHdlIGNhbiBwcm9jZXNzIGl0IG1vcmUgZWFzaWx5ICovXG4gICAgICAgICAgICAgICAgZmllbGROYW1lcyA9IFtmaWVsZE5hbWVzXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLyoqIEdlbmVyYXRlIHByb21pc2VzIGZvciBlYWNoIGZpZWxkICovXG4gICAgICAgICAgICBfLmVhY2goZmllbGROYW1lcywgKGZpZWxkTmFtZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNyZWF0ZVByb21pc2UoZmllbGROYW1lKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvKiogUGF1c2UgdW50aWwgYWxsIHJlcXVlc3RzIGFyZSByZXNvbHZlZCAqL1xuICAgICAgICAgICAgJHEuYWxsKHByb21pc2VBcnJheSkudGhlbiggKGNoYW5nZXMpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgdmVyc2lvbkhpc3RvcnkgPSB7fTtcblxuICAgICAgICAgICAgICAgIC8qKiBBbGwgZmllbGRzIHNob3VsZCBoYXZlIHRoZSBzYW1lIG51bWJlciBvZiB2ZXJzaW9ucyAqL1xuICAgICAgICAgICAgICAgIF8uZWFjaChjaGFuZ2VzLCAoZmllbGRWZXJzaW9ucykgPT4ge1xuXG4gICAgICAgICAgICAgICAgICAgIF8uZWFjaChmaWVsZFZlcnNpb25zLCAoZmllbGRWZXJzaW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJzaW9uSGlzdG9yeVtmaWVsZFZlcnNpb24ubW9kaWZpZWQudG9KU09OKCldID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2ZXJzaW9uSGlzdG9yeVtmaWVsZFZlcnNpb24ubW9kaWZpZWQudG9KU09OKCldIHx8IHt9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvKiogQWRkIGZpZWxkIHRvIHRoZSB2ZXJzaW9uIGhpc3RvcnkgZm9yIHRoaXMgdmVyc2lvbiAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgXy5leHRlbmQodmVyc2lvbkhpc3RvcnlbZmllbGRWZXJzaW9uLm1vZGlmaWVkLnRvSlNPTigpXSwgZmllbGRWZXJzaW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICB2YXIgdmVyc2lvbkFycmF5ID0gW107XG4gICAgICAgICAgICAgICAgLyoqIEFkZCBhIHZlcnNpb24gcHJvcCBvbiBlYWNoIHZlcnNpb24gdG8gaWRlbnRpZnkgdGhlIG51bWVyaWMgc2VxdWVuY2UgKi9cbiAgICAgICAgICAgICAgICBfLmVhY2godmVyc2lvbkhpc3RvcnksICh2ZXIsIG51bSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2ZXIudmVyc2lvbiA9IG51bTtcbiAgICAgICAgICAgICAgICAgICAgdmVyc2lvbkFycmF5LnB1c2godmVyKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUodmVyc2lvbkFycmF5KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgLyoqIEluIHRoZSBldmVudCB0aGF0IGEgZmFjdG9yeSBpc24ndCBzcGVjaWZpZWQsIGp1c3QgdXNlIGFcbiAgICAgKiBzdGFuZGFyZCBjb25zdHJ1Y3RvciB0byBhbGxvdyBpdCB0byBpbmhlcml0IGZyb20gTGlzdEl0ZW0gKi9cbiAgICBleHBvcnQgY2xhc3MgU3RhbmRhcmRMaXN0SXRlbSB7XG4gICAgICAgIGNvbnN0cnVjdG9yKG9iaj86IE9iamVjdCkge1xuICAgICAgICAgICAgXy5hc3NpZ24odGhpcywgb2JqKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBvYmplY3RcbiAgICAgKiBAbmFtZSBhcExpc3RJdGVtRmFjdG9yeVxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIEV4cG9zZXMgdGhlIExpc3RJdGVtIHByb3RvdHlwZSBhbmQgYSBjb25zdHJ1Y3RvciB0byBpbnN0YW50aWF0ZSBhIG5ldyBMaXN0SXRlbS5cbiAgICAgKiBTZWUgW0xpc3RJdGVtXSgjL2FwaS9MaXN0SXRlbSkgZm9yIGRldGFpbHMgb2YgdGhlIG1ldGhvZHMgYXZhaWxhYmxlIG9uIHRoZSBwcm90b3R5cGUuXG4gICAgICpcbiAgICAgKiBAcmVxdWlyZXMgTGlzdEl0ZW1cbiAgICAgKiBAcmVxdWlyZXMgYXBDYWNoZVNlcnZpY2VcbiAgICAgKiBAcmVxdWlyZXMgYXBEYXRhU2VydmljZVxuICAgICAqIEByZXF1aXJlcyBhcFV0aWxpdHlTZXJ2aWNlXG4gICAgICovXG5cbiAgICBleHBvcnQgY2xhc3MgTGlzdEl0ZW1GYWN0b3J5IHtcbiAgICAgICAgTGlzdEl0ZW0gPSBMaXN0SXRlbTtcbiAgICAgICAgY29uc3RydWN0b3IoJGluamVjdG9yKSB7XG4gICAgICAgICAgICAkcSA9ICRpbmplY3Rvci5nZXQoXCIkcVwiKTtcbiAgICAgICAgICAgIGFwQ2FjaGVTZXJ2aWNlID0gJGluamVjdG9yLmdldChcImFwQ2FjaGVTZXJ2aWNlXCIpO1xuICAgICAgICAgICAgYXBDb25maWcgPSAkaW5qZWN0b3IuZ2V0KFwiYXBDb25maWdcIik7XG4gICAgICAgICAgICBhcERhdGFTZXJ2aWNlID0gJGluamVjdG9yLmdldChcImFwRGF0YVNlcnZpY2VcIik7XG4gICAgICAgICAgICBhcEVuY29kZVNlcnZpY2UgPSAkaW5qZWN0b3IuZ2V0KFwiYXBFbmNvZGVTZXJ2aWNlXCIpO1xuICAgICAgICAgICAgYXBGb3JtYXR0ZWRGaWVsZFZhbHVlU2VydmljZSA9ICRpbmplY3Rvci5nZXQoXCJhcEZvcm1hdHRlZEZpZWxkVmFsdWVTZXJ2aWNlXCIpO1xuICAgICAgICAgICAgYXBVdGlsaXR5U2VydmljZSA9ICRpbmplY3Rvci5nZXQoXCJhcFV0aWxpdHlTZXJ2aWNlXCIpO1xuICAgICAgICAgICAgdG9hc3RyID0gJGluamVjdG9yLmdldChcInRvYXN0clwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAgICogQG5hbWUgYXBMaXN0SXRlbUZhY3Rvcnk6IGNyZWF0ZVxuICAgICAgICAgKiBAbWV0aG9kT2YgYXBMaXN0SXRlbUZhY3RvcnlcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIEluc3RhbnRpYXRlcyBhbmQgcmV0dXJucyBhIG5ldyBMaXN0SXRlbS5cbiAgICAgICAgICovXG4gICAgICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgTGlzdEl0ZW0oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAgICogQG5hbWUgYXBMaXN0SXRlbUZhY3Rvcnk6IGNyZWF0ZUdlbmVyaWNGYWN0b3J5XG4gICAgICAgICAqIEBtZXRob2RPZiBhcExpc3RJdGVtRmFjdG9yeVxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogSW4gdGhlIGV2ZW50IHRoYXQgYSBmYWN0b3J5IGlzbid0IHNwZWNpZmllZCwganVzdCB1c2UgYVxuICAgICAgICAgKiBzdGFuZGFyZCBjb25zdHJ1Y3RvciB0byBhbGxvdyBpdCB0byBpbmhlcml0IGZyb20gTGlzdEl0ZW1cbiAgICAgICAgICovXG4gICAgICAgIGNyZWF0ZUdlbmVyaWNGYWN0b3J5KCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBTdGFuZGFyZExpc3RJdGVtKCk7XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnYW5ndWxhclBvaW50JylcbiAgICAgICAgLnNlcnZpY2UoJ2FwTGlzdEl0ZW1GYWN0b3J5JywgTGlzdEl0ZW1GYWN0b3J5KTtcbn1cbiIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90eXBpbmdzL2FwLmQudHNcIiAvPlxuXG5tb2R1bGUgYXAge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciAkcSwgYXBVdGlsaXR5U2VydmljZTtcblxuICAgIGV4cG9ydCBpbnRlcmZhY2UgSUxvb2t1cCB7XG4gICAgICAgIGxvb2t1cFZhbHVlOiBzdHJpbmc7XG4gICAgICAgIGxvb2t1cElkOiBudW1iZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgTG9va3VwXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogQWxsb3dzIGZvciBlYXNpZXIgZGlzdGluY3Rpb24gd2hlbiBkZWJ1Z2dpbmcgaWYgb2JqZWN0IHR5cGUgaXMgc2hvd24gYXMgZWl0aGVyIExvb2t1cCBvciBVc2VyLiAgQWxzbyBhbGxvd3MgdXNcbiAgICAgKiB0byBjcmVhdGUgYW4gYXN5bmMgcmVxdWVzdCBmb3IgdGhlIGVudGl0eSBiZWluZyByZWZlcmVuY2VkIGJ5IHRoZSBsb29rdXBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcyBTdHJpbmcgdG8gc3BsaXQgaW50byBsb29rdXBWYWx1ZSBhbmQgbG9va3VwSWRcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyBDb250YWlucyBhIHJlZmVyZW5jZSB0byB0aGUgcGFyZW50IGxpc3QgaXRlbSBhbmQgdGhlIHByb3BlcnR5IG5hbWUuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMuZW50aXR5IFJlZmVyZW5jZSB0byBwYXJlbnQgbGlzdCBpdGVtLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zLnByb3BlcnR5TmFtZSBLZXkgb24gbGlzdCBpdGVtIG9iamVjdC5cbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKi9cbiAgICBleHBvcnQgY2xhc3MgTG9va3VwIGltcGxlbWVudHMgSUxvb2t1cHtcbiAgICAgICAgbG9va3VwSWQ6bnVtYmVyO1xuICAgICAgICBsb29rdXBWYWx1ZTpzdHJpbmc7XG5cbiAgICAgICAgY29uc3RydWN0b3Iocywgb3B0aW9ucykge1xuICAgICAgICAgICAgdmFyIGxvb2t1cCA9IHRoaXM7XG4gICAgICAgICAgICB2YXIgdGhpc0xvb2t1cCA9IG5ldyBhcFV0aWxpdHlTZXJ2aWNlLlNwbGl0SW5kZXgocyk7XG4gICAgICAgICAgICBsb29rdXAubG9va3VwSWQgPSB0aGlzTG9va3VwLmlkO1xuICAgICAgICAgICAgbG9va3VwLmxvb2t1cFZhbHVlID0gdGhpc0xvb2t1cC52YWx1ZSB8fCAnJztcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgZXhwb3J0IGNsYXNzIExvb2t1cEZhY3Rvcnkge1xuICAgICAgICBMb29rdXAgPSBMb29rdXA7XG4gICAgICAgIGNvbnN0cnVjdG9yKCRpbmplY3Rvcikge1xuICAgICAgICAgICAgJHEgPSAkaW5qZWN0b3IuZ2V0KCckcScpO1xuICAgICAgICAgICAgYXBVdGlsaXR5U2VydmljZSA9ICRpbmplY3Rvci5nZXQoJ2FwVXRpbGl0eVNlcnZpY2UnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAgICogQG5hbWUgYW5ndWxhclBvaW50LmFwTG9va3VwRmFjdG9yeTpjcmVhdGVcbiAgICAgICAgICogQG1ldGhvZE9mIGFuZ3VsYXJQb2ludC5hcExvb2t1cEZhY3RvcnlcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIEluc3RhbnRpYXRlcyBhbmQgcmV0dXJucyBhIG5ldyBMb29rdXAgZmllbGQuXG4gICAgICAgICAqL1xuICAgICAgICBjcmVhdGUocywgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBMb29rdXAocywgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBMb29rdXBGYWN0b3J5XG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogVG9vbHMgdG8gYXNzaXN0IHdpdGggdGhlIGNyZWF0aW9uIG9mIENBTUwgcXVlcmllcy5cbiAgICAgKlxuICAgICAqL1xuICAgIGFuZ3VsYXIubW9kdWxlKCdhbmd1bGFyUG9pbnQnKVxuICAgICAgICAuc2VydmljZSgnYXBMb29rdXBGYWN0b3J5JywgTG9va3VwRmFjdG9yeSk7XG5cblxufVxuIiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3MvYXAuZC50c1wiIC8+XG5cbm1vZHVsZSBhcCB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIGFwQ2FjaGVTZXJ2aWNlLCBhcERhdGFTZXJ2aWNlLCBhcExpc3RGYWN0b3J5LCBMaXN0SXRlbUZhY3RvcnksXG4gICAgICAgIGFwUXVlcnlGYWN0b3J5LCBhcFV0aWxpdHlTZXJ2aWNlLCBhcEZpZWxkU2VydmljZSwgYXBDb25maWcsXG4gICAgICAgIGFwSW5kZXhlZENhY2hlRmFjdG9yeSwgYXBEZWNvZGVTZXJ2aWNlLCAkcSwgdG9hc3RyO1xuXG4gICAgZXhwb3J0IGludGVyZmFjZSBJTW9kZWwge1xuICAgICAgICBhZGROZXdJdGVtKGVudGl0eTogT2JqZWN0LCBvcHRpb25zPzogT2JqZWN0KTogbmcuSVByb21pc2U8SUxpc3RJdGVtPjtcbiAgICAgICAgY3JlYXRlRW1wdHlJdGVtKG92ZXJyaWRlcz86IE9iamVjdCk6IElMaXN0SXRlbTtcbiAgICAgICAgZGVmZXJyZWRMaXN0RGVmaW5pdGlvbjpuZy5JUHJvbWlzZTxPYmplY3Q+O1xuICAgICAgICBleGVjdXRlUXVlcnk8VD4ocXVlcnlOYW1lPzogc3RyaW5nLCBvcHRpb25zPzogT2JqZWN0KTogbmcuSVByb21pc2U8SW5kZXhlZENhY2hlPFQ+PjtcbiAgICAgICAgZXh0ZW5kTGlzdE1ldGFkYXRhKG9wdGlvbnM/OiBPYmplY3QpOiBuZy5JUHJvbWlzZTxhbnk+O1xuICAgICAgICBmYWN0b3J5PFQ+KG9iajogT2JqZWN0KTogVDtcbiAgICAgICAgZ2VuZXJhdGVNb2NrRGF0YShvcHRpb25zPzogT2JqZWN0KTogSUxpc3RJdGVtW107XG4gICAgICAgIGdldEFsbExpc3RJdGVtczxUPigpOiBuZy5JUHJvbWlzZTxJbmRleGVkQ2FjaGU8VD4+O1xuICAgICAgICBnZXRDYWNoZShxdWVyeU5hbWU/OiBzdHJpbmcpOiBJQ2FjaGU7XG4gICAgICAgIGdldENhY2hlZEVudGl0aWVzPFQ+KCk6IElJbmRleGVkQ2FjaGU8VD47XG4gICAgICAgIGdldENhY2hlZEVudGl0eShlbnRpdHlJZDogbnVtYmVyKTogSUxpc3RJdGVtO1xuICAgICAgICBnZXRGaWVsZERlZmluaXRpb24oZmllbGROYW1lOiBzdHJpbmcpOiBJRmllbGREZWZpbml0aW9uO1xuICAgICAgICBnZXRMaXN0KCk6IElMaXN0O1xuICAgICAgICBnZXRMaXN0SWQoKTogc3RyaW5nO1xuICAgICAgICBnZXRMaXN0SXRlbUJ5SWQoZW50aXR5SWQ6IG51bWJlciwgb3B0aW9ucz86IE9iamVjdCk6IG5nLklQcm9taXNlPElMaXN0SXRlbT47XG4gICAgICAgIGdldE1vZGVsKCk6IElNb2RlbDtcbiAgICAgICAgZ2V0UXVlcnkocXVlcnlOYW1lOiBzdHJpbmcpOiBJUXVlcnk7XG4gICAgICAgIGlzSW5pdGlhbGlzZWQoKTogYm9vbGVhbjtcbiAgICAgICAgbGFzdFNlcnZlclVwZGF0ZTogRGF0ZTtcbiAgICAgICAgbGlzdDogSUxpc3Q7XG4gICAgICAgIHF1ZXJpZXM6IHtnZXRBbGxMaXN0SXRlbXM6IElRdWVyeTsgW2tleTogc3RyaW5nXTogSVF1ZXJ5fTtcbiAgICAgICAgcmVnaXN0ZXJRdWVyeShxdWVyeU9wdGlvbnM6IElRdWVyeU9wdGlvbnMpOiBJUXVlcnk7XG4gICAgICAgIHJlc29sdmVQZXJtaXNzaW9ucygpOiBJVXNlclBlcm1pc3Npb25zT2JqZWN0O1xuICAgICAgICB2YWxpZGF0ZUVudGl0eShlbnRpdHk6IElMaXN0SXRlbSwgb3B0aW9ucz86IE9iamVjdCk6IGJvb2xlYW47XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBNb2RlbFxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIE1vZGVsIENvbnN0cnVjdG9yXG4gICAgICogUHJvdmlkZXMgdGhlIEZvbGxvd2luZ1xuICAgICAqIC0gYWRkcyBhbiBlbXB0eSBcImRhdGFcIiBhcnJheVxuICAgICAqIC0gYWRkcyBhbiBlbXB0eSBcInF1ZXJpZXNcIiBvYmplY3RcbiAgICAgKiAtIGFkZHMgYSBkZWZlcnJlZCBvYmogXCJyZWFkeVwiXG4gICAgICogLSBidWlsZHMgXCJtb2RlbC5saXN0XCIgd2l0aCBjb25zdHJ1Y3RvclxuICAgICAqIC0gYWRkcyBcImdldEFsbExpc3RJdGVtc1wiIGZ1bmN0aW9uXG4gICAgICogLSBhZGRzIFwiYWRkTmV3SXRlbVwiIGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGNvbmZpZyBPYmplY3QgY29udGFpbmluZyBvcHRpb25hbCBwYXJhbXMuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtjb25maWcuZmFjdG9yeSA9IGFwTGlzdEl0ZW1GYWN0b3J5LmNyZWF0ZUdlbmVyaWNGYWN0b3J5KCldIC0gQ29uc3RydWN0b3IgZnVuY3Rpb24gZm9yXG4gICAgICogaW5kaXZpZHVhbCBsaXN0IGl0ZW1zLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2NvbmZpZy5maWVsZERlZmluaXRpb25zRXh0ZW5kZWQ9ZmFsc2VdIFF1ZXJpZXMgdXNpbmcgdGhlIEdldExpc3RJdGVtQ2hhbmdlc1NpbmNlVG9rZW5cbiAgICAgKiBvcGVyYXRpb24gcmV0dXJuIHRoZSBmdWxsIGxpc3QgZGVmaW5pdGlvbiBhbG9uZyB3aXRoIHRoZSByZXF1ZXN0ZWQgZW50aXRpZXMuICBUaGUgZmlyc3QgdGltZSBvbmUgb2YgdGhlc2VcbiAgICAgKiBxdWVyaWVzIGlzIGV4ZWN1dGVkIHdlIHdpbGwgdHJ5IHRvIGV4dGVuZCBvdXIgZmllbGQgZGVmaW5pdGlvbnMgZGVmaW5lZCBpbiB0aGUgbW9kZWwgd2l0aCB0aGUgYWRkaXRpb25hbFxuICAgICAqIGluZm9ybWF0aW9uIHByb3ZpZGVkIGZyb20gdGhlIHNlcnZlci4gIEV4YW1wbGVzIGFyZSBvcHRpb25zIGZvciBhIENob2ljZSBmaWVsZCwgZGlzcGxheSBuYW1lIG9mIHRoZSBmaWVsZCxcbiAgICAgKiBmaWVsZCBkZXNjcmlwdGlvbiwgYW5kIGFueSBvdGhlciBmaWVsZCBpbmZvcm1hdGlvbiBwcm92aWRlZCBmb3IgdGhlIGZpZWxkcyBzcGVjaWZpZWQgaW4gdGhlIG1vZGVsLiAgVGhpc1xuICAgICAqIGZsYWcgaXMgc2V0IG9uY2UgdGhlIGZpcnN0IHF1ZXJ5IGlzIGNvbXBsZXRlIHNvIHdlIGRvbid0IHByb2Nlc3MgYWdhaW4uXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGNvbmZpZy5saXN0IC0gRGVmaW5pdGlvbiBvZiB0aGUgbGlzdCBpbiBTaGFyZVBvaW50LlxuICAgICAqIGJlIHBhc3NlZCB0byB0aGUgbGlzdCBjb25zdHJ1Y3RvciB0byBleHRlbmQgZnVydGhlclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb25maWcubGlzdC50aXRsZSAtIExpc3QgbmFtZSwgbm8gc3BhY2VzLiAgT2ZmbGluZSBYTUwgZmlsZSB3aWxsIG5lZWQgdG8gYmVcbiAgICAgKiBuYW1lZCB0aGUgc2FtZSAoZXg6IEN1c3RvbUxpc3Qgc28geG1sIGZpbGUgd291bGQgYmUgYXBDb25maWcub2ZmbGluZVhNTCArICcvQ3VzdG9tTGlzdC54bWwnKVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb25maWcubGlzdC5nZXRMaXN0SWQoKSAtIFVuaXF1ZSBTaGFyZVBvaW50IElEIChleDogJ3szREJFQjI1QS1CRUYwLTQyMTMtQTYzNC0wMERBRjQ2RTM4OTd9JylcbiAgICAgKiBAcGFyYW0ge29iamVjdFtdfSBjb25maWcubGlzdC5jdXN0b21GaWVsZHMgLSBNYXBzIFNoYXJlUG9pbnQgZmllbGRzIHdpdGggbmFtZXMgd2UnbGwgdXNlIHdpdGhpbiB0aGVcbiAgICAgKiBhcHBsaWNhdGlvbi4gIElkZW50aWZpZXMgZmllbGQgdHlwZXMgYW5kIGZvcm1hdHMgYWNjb3JkaW5nbHkuICBBbHNvIGRlbm90ZXMgaWYgYSBmaWVsZCBpcyByZWFkIG9ubHkuXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIDxwcmU+XG4gICAgICogLy9UYWtlbiBmcm9tIGEgZmljdGl0aW91cyBwcm9qZWN0c01vZGVsLmpzXG4gICAgICogdmFyIG1vZGVsID0gbmV3IGFwTW9kZWxGYWN0b3J5Lk1vZGVsKHtcbiAgICAqICAgICBmYWN0b3J5OiBQcm9qZWN0LFxuICAgICogICAgIGxpc3Q6IHtcbiAgICAqICAgICAgICAgZ3VpZDogJ3tQUk9KRUNUIExJU1QgR1VJRH0nLFxuICAgICogICAgICAgICB0aXRsZTogJ1Byb2plY3RzJyxcbiAgICAqICAgICAgICAgY3VzdG9tRmllbGRzOiBbXG4gICAgICAgICogICAgICAgICAgICAge1xuICAgICAgICAqICAgICAgICAgICAgICAgIHN0YXRpY05hbWU6ICdUaXRsZScsXG4gICAgKiAgICAgICAgICAgICAgICBvYmplY3RUeXBlOiAnVGV4dCcsXG4gICAgKiAgICAgICAgICAgICAgICBtYXBwZWROYW1lOiAndGl0bGUnLFxuICAgICogICAgICAgICAgICAgICAgcmVhZE9ubHk6IGZhbHNlXG4gICAgICAgICogICAgICAgICAgICAgfSxcbiAgICAqICAgICAgICAgICAgIHtcbiAgICAqICAgICAgICAgICAgICAgIHN0YXRpY05hbWU6ICdDdXN0b21lcicsXG4gICAgKiAgICAgICAgICAgICAgICBvYmplY3RUeXBlOiAnTG9va3VwJyxcbiAgICAqICAgICAgICAgICAgICAgIG1hcHBlZE5hbWU6ICdjdXN0b21lcicsXG4gICAgKiAgICAgICAgICAgICAgICByZWFkT25seTogZmFsc2VcbiAgICAgICAgKiAgICAgICAgICAgICB9LFxuICAgICogICAgICAgICAgICAge1xuICAgICogICAgICAgICAgICAgICAgc3RhdGljTmFtZTogJ1Byb2plY3REZXNjcmlwdGlvbicsXG4gICAgKiAgICAgICAgICAgICAgICBvYmplY3RUeXBlOiAnVGV4dCcsXG4gICAgKiAgICAgICAgICAgICAgICBtYXBwZWROYW1lOiAncHJvamVjdERlc2NyaXB0aW9uJyxcbiAgICAqICAgICAgICAgICAgICAgIHJlYWRPbmx5OiBmYWxzZVxuICAgICAgICAqICAgICAgICAgICAgIH0sXG4gICAgKiAgICAgICAgICAgICB7XG4gICAgKiAgICAgICAgICAgICAgICBzdGF0aWNOYW1lOiAnU3RhdHVzJyxcbiAgICAqICAgICAgICAgICAgICAgIG9iamVjdFR5cGU6ICdUZXh0JyxcbiAgICAqICAgICAgICAgICAgICAgIG1hcHBlZE5hbWU6ICdzdGF0dXMnLFxuICAgICogICAgICAgICAgICAgICAgcmVhZE9ubHk6IGZhbHNlXG4gICAgICAgICogICAgICAgICAgICAgfSxcbiAgICAqICAgICAgICAgICAgIHtcbiAgICAqICAgICAgICAgICAgICAgIHN0YXRpY05hbWU6ICdUYXNrTWFuYWdlcicsXG4gICAgKiAgICAgICAgICAgICAgICBvYmplY3RUeXBlOiAnVXNlcicsXG4gICAgKiAgICAgICAgICAgICAgICBtYXBwZWROYW1lOiAndGFza01hbmFnZXInLFxuICAgICogICAgICAgICAgICAgICAgcmVhZE9ubHk6IGZhbHNlXG4gICAgICAgICogICAgICAgICAgICAgfSxcbiAgICAqICAgICAgICAgICAgIHtcbiAgICAqICAgICAgICAgICAgICAgIHN0YXRpY05hbWU6ICdQcm9qZWN0R3JvdXAnLFxuICAgICogICAgICAgICAgICAgICAgb2JqZWN0VHlwZTogJ0xvb2t1cCcsXG4gICAgKiAgICAgICAgICAgICAgICBtYXBwZWROYW1lOiAnZ3JvdXAnLFxuICAgICogICAgICAgICAgICAgICAgcmVhZE9ubHk6IGZhbHNlXG4gICAgICAgICogICAgICAgICAgICAgfSxcbiAgICAqICAgICAgICAgICAgIHtcbiAgICAqICAgICAgICAgICAgICAgIHN0YXRpY05hbWU6ICdDb3N0RXN0aW1hdGUnLFxuICAgICogICAgICAgICAgICAgICAgb2JqZWN0VHlwZTogJ0N1cnJlbmN5JyxcbiAgICAqICAgICAgICAgICAgICAgIG1hcHBlZE5hbWU6ICdjb3N0RXN0aW1hdGUnLFxuICAgICogICAgICAgICAgICAgICAgcmVhZE9ubHk6IGZhbHNlXG4gICAgICAgICogICAgICAgICAgICAgfSxcbiAgICAqICAgICAgICAgICAgIHtcbiAgICAqICAgICAgICAgICAgICAgIHN0YXRpY05hbWU6ICdBY3RpdmUnLFxuICAgICogICAgICAgICAgICAgICAgb2JqZWN0VHlwZTogJ0Jvb2xlYW4nLFxuICAgICogICAgICAgICAgICAgICAgbWFwcGVkTmFtZTogJ2FjdGl2ZScsXG4gICAgKiAgICAgICAgICAgICAgICByZWFkT25seTogZmFsc2VcbiAgICAgICAgKiAgICAgICAgICAgICB9LFxuICAgICogICAgICAgICAgICAge1xuICAgICogICAgICAgICAgICAgICAgc3RhdGljTmFtZTogJ0F0dGFjaG1lbnRzJyxcbiAgICAqICAgICAgICAgICAgICAgIG9iamVjdFR5cGU6ICdBdHRhY2htZW50cycsXG4gICAgKiAgICAgICAgICAgICAgICBtYXBwZWROYW1lOiAnYXR0YWNobWVudHMnLFxuICAgICogICAgICAgICAgICAgICAgcmVhZE9ubHk6IHRydWVcbiAgICAgICAgKiAgICAgICAgICAgICB9XG4gICAgKiAgICAgICAgIF1cbiAgICAqICAgICB9XG4gICAgKiB9KTtcbiAgICAgKiA8L3ByZT5cbiAgICAgKi9cblxuICAgIGludGVyZmFjZSBRdWVyaWVzQ29udGFpbmVye1xuICAgICAgICBnZXRBbGxMaXN0SXRlbXM/OiBJUXVlcnk7XG4gICAgICAgIFtrZXk6IHN0cmluZ106IElRdWVyeVxuICAgIH1cblxuICAgIGV4cG9ydCBjbGFzcyBNb2RlbCBpbXBsZW1lbnRzIElNb2RlbCB7XG4gICAgICAgIGRhdGEgPSBbXTtcbiAgICAgICAgZGVmZXJyZWRMaXN0RGVmaW5pdGlvbjtcbiAgICAgICAgbGlzdDogSUxpc3Q7XG4gICAgICAgIGZhY3Rvcnk8VD4ob2JqKTogVDtcbiAgICAgICAgZmllbGREZWZpbml0aW9uc0V4dGVuZGVkOiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIC8qKiBEYXRlL1RpbWUgb2YgbGFzdCBjb21tdW5pY2F0aW9uIHdpdGggc2VydmVyICovXG4gICAgICAgIGxhc3RTZXJ2ZXJVcGRhdGU6IERhdGU7XG4gICAgICAgIHF1ZXJpZXM6IFF1ZXJpZXNDb250YWluZXIgPSB7fTtcbiAgICAgICAgcmVxdWVzdEZvckZpZWxkRGVmaW5pdGlvbnM7XG4gICAgICAgIGNvbnN0cnVjdG9yKGNvbmZpZykge1xuICAgICAgICAgICAgdmFyIG1vZGVsID0gdGhpcztcblxuICAgICAgICAgICAgXy5hc3NpZ24obW9kZWwsIGNvbmZpZyk7XG5cbiAgICAgICAgICAgIG1vZGVsLmZhY3RvcnkucHJvdG90eXBlLmdldE1vZGVsID0gKCkgPT4gdGhpcztcblxuICAgICAgICAgICAgLyoqIFVzZSBsaXN0IGNvbnN0cnVjdG9yIHRvIGRlY29yYXRlICovXG4gICAgICAgICAgICBtb2RlbC5saXN0ID0gYXBMaXN0RmFjdG9yeS5jcmVhdGUobW9kZWwubGlzdCk7XG5cbiAgICAgICAgICAgIC8qKiBSZWdpc3RlciBjYWNoZSBuYW1lIHdpdGggY2FjaGUgc2VydmljZSBzbyB3ZSBjYW4gbWFwIGZhY3RvcnkgbmFtZSB3aXRoIGxpc3QgR1VJRCAqL1xuICAgICAgICAgICAgYXBDYWNoZVNlcnZpY2UucmVnaXN0ZXJNb2RlbChtb2RlbCk7XG5cbiAgICAgICAgICAgIC8qKiBDb252ZW5pZW5jZSBxdWVyeSB0aGF0IHNpbXBseSByZXR1cm5zIGFsbCBsaXN0IGl0ZW1zIHdpdGhpbiBhIGxpc3QuICovXG4gICAgICAgICAgICBtb2RlbC5yZWdpc3RlclF1ZXJ5KHtcbiAgICAgICAgICAgICAgICBuYW1lOiAnZ2V0QWxsTGlzdEl0ZW1zJyxcbiAgICAgICAgICAgICAgICBvcGVyYXRpb246ICdHZXRMaXN0SXRlbXMnXG4gICAgICAgICAgICB9KTtcblxuXG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIExpc3RJdGVtLmdldE1vZGVsXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBBbGxvd3MgdXMgdG8gcmVmZXJlbmNlIHRoZSBwYXJlbnQgbW9kZWwgZGlyZWN0bHkgZnJvbSB0aGUgbGlzdCBpdGVtLiAgVGhpcyBpcyBhZGRlZCB0byB0aGVcbiAgICAgICAgICogbW9kZWwuZmFjdG9yeSBwcm90b3R5cGUgaW4gYXBNb2RlbEZhY3RvcnkuICBTZWUgdGhlIFtMaXN0XSgjL2FwaS9MaXN0KSBkb2N1bWVudGF0aW9uIGZvciBtb3JlIGluZm8uXG4gICAgICAgICAqIEByZXR1cm5zIHtvYmplY3R9IE1vZGVsIGZvciB0aGUgbGlzdCBpdGVtLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0TW9kZWwoKTogYXAuTW9kZWwge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIExpc3RJdGVtLmdldExpc3RJZFxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogQWxsb3dzIHVzIHRvIHJlZmVyZW5jZSB0aGUgbGlzdCBJRCBkaXJlY3RseSBmcm9tIHRoZSBtb2RlbC5cbiAgICAgICAgICogQHJldHVybnMge3N0cmluZ30gTGlzdCBJRC5cbiAgICAgICAgICovXG4gICAgICAgIGdldExpc3RJZCgpOiBzdHJpbmcge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGlzdC5nZXRMaXN0SWQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAgICogQG5hbWUgTGlzdEl0ZW0uZ2V0TGlzdFxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogQWxsb3dzIHVzIHRvIHJlZmVyZW5jZSB0aGUgbGlzdCBkZWZpbml0aW9uIGRpcmVjdGx5IGZyb20gdGhlIGxpc3QgaXRlbS4gIFRoaXMgaXMgYWRkZWQgdG8gdGhlXG4gICAgICAgICAqIG1vZGVsLmZhY3RvcnkgcHJvdG90eXBlIGluIGFwTW9kZWxGYWN0b3J5LiAgU2VlIHRoZSBbTGlzdF0oIy9hcGkvTGlzdCkgZG9jdW1lbnRhdGlvbiBmb3IgbW9yZSBpbmZvLlxuICAgICAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSBMaXN0IGZvciB0aGUgbGlzdCBpdGVtLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0TGlzdCgpOiBhcC5JTGlzdCB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5saXN0O1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBNb2RlbC5hZGROZXdJdGVtXG4gICAgICAgICAqIEBtb2R1bGUgTW9kZWxcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIFVzaW5nIHRoZSBkZWZpbml0aW9uIG9mIGEgbGlzdCBzdG9yZWQgaW4gYSBtb2RlbCwgY3JlYXRlIGEgbmV3IGxpc3QgaXRlbSBpbiBTaGFyZVBvaW50LlxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gZW50aXR5IEFuIG9iamVjdCB0aGF0IHdpbGwgYmUgY29udmVydGVkIGludG8ga2V5L3ZhbHVlIHBhaXJzIGJhc2VkIG9uIHRoZSBmaWVsZCBkZWZpbml0aW9uc1xuICAgICAgICAgKiBkZWZpbmVkIGluIHRoZSBtb2RlbC5cbiAgICAgICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIFBhc3MgYWRkaXRpb25hbCBvcHRpb25zIHRvIHRoZSBkYXRhIHNlcnZpY2UuXG4gICAgICAgICAqIEByZXR1cm5zIHtvYmplY3R9IEEgcHJvbWlzZSB3aGljaCB3aGVuIHJlc29sdmVkIHdpbGwgcmV0dXJuZWQgdGhlIG5ld2x5IGNyZWF0ZWQgbGlzdCBpdGVtIGZyb20gdGhlcmUgc2VydmVyLlxuICAgICAgICAgKiBUaGlzIGFsbG93cyB1cyB0byB1cGRhdGUgdGhlIHZpZXcgd2l0aCBhIHZhbGlkIG5ldyBvYmplY3QgdGhhdCBjb250YWlucyBhIHVuaXF1ZSBsaXN0IGl0ZW0gaWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIDxwcmU+XG4gICAgICAgICAqIDxmaWxlIG5hbWU9XCJhcHAvbW9kdWxlcy9wcm9qZWN0L3Byb2plY3RzTW9kZWwuanNcIj5cbiAgICAgICAgICogcHJvamVjdE1vZGVsLmFkZE5ld0l0ZW0oe1xuICAgICAgICAgICAgICogICAgICAgIHRpdGxlOiAnQSBQcm9qZWN0JyxcbiAgICAgICAgICAgICAqICAgICAgICBjdXN0b21lcjoge2xvb2t1cFZhbHVlOiAnTXkgQ3VzdG9tZXInLCBsb29rdXBJZDogMTIzfSxcbiAgICAgICAgICAgICAqICAgICAgICBkZXNjcmlwdGlvbjogJ1RoaXMgaXMgdGhlIHByb2plY3QgZGVzY3JpcHRpb24nXG4gICAgICAgICAgICAgKiAgICAgfSkudGhlbihmdW5jdGlvbihuZXdFbnRpdHlGcm9tU2VydmVyKSB7XG4gICAgICAgICAgICAgKiAgICAgICAgIC8vVGhlIGxvY2FsIHF1ZXJ5IGNhY2hlIGlzIGF1dG9tYXRpY2FsbHkgdXBkYXRlZCBidXRcbiAgICAgICAgICAgICAqICAgICAgICAgLy9hbnkgb3RoZXIgZGVwZW5kZW50IGxvZ2ljIGNhbiBnbyBoZXJlXG4gICAgICAgICAgICAgKiB9O1xuICAgICAgICAgKiA8L2ZpbGU+XG4gICAgICAgICAqIDwvcHJlPlxuICAgICAgICAgKi9cbiAgICAgICAgYWRkTmV3SXRlbTxUPihlbnRpdHk6IE9iamVjdCwgb3B0aW9ucz86IE9iamVjdCk6IG5nLklQcm9taXNlPFQ+IHtcbiAgICAgICAgICAgIHZhciBtb2RlbCA9IHRoaXMsXG4gICAgICAgICAgICAgICAgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICAgICAgICBhcERhdGFTZXJ2aWNlLmNyZWF0ZUxpc3RJdGVtKG1vZGVsLCBlbnRpdHksIG9wdGlvbnMpXG4gICAgICAgICAgICAgICAgLnRoZW4oIChsaXN0SXRlbSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGxpc3RJdGVtKTtcbiAgICAgICAgICAgICAgICAgICAgLyoqIE9wdGlvbmFsbHkgYnJvYWRjYXN0IGNoYW5nZSBldmVudCAqL1xuICAgICAgICAgICAgICAgICAgICBhcFV0aWxpdHlTZXJ2aWNlLnJlZ2lzdGVyQ2hhbmdlKG1vZGVsLCAnY3JlYXRlJywgbGlzdEl0ZW0uaWQpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIE1vZGVsLmNyZWF0ZUVtcHR5SXRlbVxuICAgICAgICAgKiBAbW9kdWxlIE1vZGVsXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCB1c2luZyB0aGUgZWRpdGFibGUgZmllbGRzIGZyb20gdGhlIG1vZGVsLCBhbGwgYXR0cmlidXRlcyBhcmUgZW1wdHkgYmFzZWQgb24gdGhlIGZpZWxkXG4gICAgICAgICAqIHR5cGUgdW5sZXNzIGFuIG92ZXJyaWRlcyBvYmplY3QgaXMgcGFzc2VkIGluLiAgVGhlIG92ZXJyaWRlcyBvYmplY3QgZXh0ZW5kcyB0aGUgZGVmYXVsdHMuICBBIGJlbmVmaXQgdG8gdGhpc1xuICAgICAgICAgKiBhcHByb2FjaCBpcyB0aGUgcmV0dXJuZWQgb2JqZWN0IGluaGVyaXRzIGZyb20gdGhlIExpc3RJdGVtIHByb3RvdHlwZSBzbyB3ZSBoYXZlIHRoZSBhYmlsaXR5IHRvIGNhbGxcbiAgICAgICAgICogZW50aXR5LnNhdmVDaGFuZ2VzIGluc3RlYWQgb2YgY2FsbGluZyB0aGUgbW9kZWwuYWRkTmV3SXRlbShlbnRpdHkpLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gW292ZXJyaWRlc10gLSBPcHRpb25hbGx5IGV4dGVuZCB0aGUgbmV3IGVtcHR5IGl0ZW0gd2l0aCBzcGVjaWZpYyB2YWx1ZXMuXG4gICAgICAgICAqIEByZXR1cm5zIHtvYmplY3R9IE5ld2x5IGNyZWF0ZWQgbGlzdCBpdGVtLlxuICAgICAgICAgKi9cbiAgICAgICAgY3JlYXRlRW1wdHlJdGVtPFQ+KG92ZXJyaWRlcz86IE9iamVjdCk6IFQge1xuICAgICAgICAgICAgdmFyIG1vZGVsID0gdGhpcztcbiAgICAgICAgICAgIHZhciBuZXdJdGVtID0ge307XG4gICAgICAgICAgICBfLmVhY2gobW9kZWwubGlzdC5jdXN0b21GaWVsZHMsIChmaWVsZERlZmluaXRpb24pID0+IHtcbiAgICAgICAgICAgICAgICAvKiogQ3JlYXRlIGF0dHJpYnV0ZXMgZm9yIGVhY2ggbm9uLXJlYWRvbmx5IGZpZWxkIGRlZmluaXRpb24gKi9cbiAgICAgICAgICAgICAgICBpZiAoIWZpZWxkRGVmaW5pdGlvbi5yZWFkT25seSkge1xuICAgICAgICAgICAgICAgICAgICAvKiogQ3JlYXRlIGFuIGF0dHJpYnV0ZSB3aXRoIHRoZSBleHBlY3RlZCBlbXB0eSB2YWx1ZSBiYXNlZCBvbiBmaWVsZCBkZWZpbml0aW9uIHR5cGUgKi9cbiAgICAgICAgICAgICAgICAgICAgbmV3SXRlbVtmaWVsZERlZmluaXRpb24ubWFwcGVkTmFtZV0gPSBhcEZpZWxkU2VydmljZS5nZXREZWZhdWx0VmFsdWVGb3JUeXBlKGZpZWxkRGVmaW5pdGlvbi5vYmplY3RUeXBlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8qKiBFeHRlbmQgYW55IHZhbHVlcyB0aGF0IHNob3VsZCBvdmVycmlkZSB0aGUgZGVmYXVsdCBlbXB0eSB2YWx1ZXMgKi9cbiAgICAgICAgICAgIHZhciByYXdPYmplY3QgPSBfLmFzc2lnbih7fSwgbmV3SXRlbSwgb3ZlcnJpZGVzKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgbW9kZWwuZmFjdG9yeShyYXdPYmplY3QpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBNb2RlbC5leGVjdXRlUXVlcnlcbiAgICAgICAgICogQG1vZHVsZSBNb2RlbFxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogVGhlIHByaW1hcnkgbWV0aG9kIGZvciByZXRyaWV2aW5nIGRhdGEgZnJvbSBhIHF1ZXJ5IHJlZ2lzdGVyZWQgb24gYSBtb2RlbC4gIEl0IHJldHVybnMgYSBwcm9taXNlXG4gICAgICAgICAqIHdoaWNoIHJlc29sdmVzIHRvIHRoZSBsb2NhbCBjYWNoZSBhZnRlciBwb3N0IHByb2Nlc3NpbmcgZW50aXRpZXMgd2l0aCBjb25zdHJ1Y3RvcnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbcXVlcnlOYW1lPWFwQ29uZmlnLmRlZmF1bHRRdWVyeU5hbWVdIEEgdW5pcXVlIGtleSB0byBpZGVudGlmeSB0aGlzIHF1ZXJ5XG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gUGFzcyBvcHRpb25zIHRvIHRoZSBkYXRhIHNlcnZpY2UuXG4gICAgICAgICAqIEByZXR1cm5zIHtvYmplY3R9IFByb21pc2UgdGhhdCB3aGVuIHJlc29sdmVzIHJldHVybnMgYW4gYXJyYXkgb2YgbGlzdCBpdGVtcyB3aGljaCBpbmhlcml0IGZyb20gTGlzdEl0ZW0gYW5kXG4gICAgICAgICAqIG9wdGlvbmFsbHkgZ28gdGhyb3VnaCBhIGRlZmluZWQgY29uc3RydWN0b3Igb24gdGhlIG1vZGVsLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXhhbXBsZSBUbyBjYWxsIHRoZSBxdWVyeSBvciBjaGVjayBmb3IgY2hhbmdlcyBzaW5jZSB0aGUgbGFzdCBjYWxsLlxuICAgICAgICAgKiA8cHJlPlxuICAgICAgICAgKiBwcm9qZWN0TW9kZWwuZXhlY3V0ZVF1ZXJ5KCdNeUN1c3RvbVF1ZXJ5JykudGhlbihmdW5jdGlvbihlbnRpdGllcykge1xuICAgICAgICAgICAgICogICAgICAvL1dlIG5vdyBoYXZlIGEgcmVmZXJlbmNlIHRvIGFycmF5IG9mIGVudGl0aWVzIHN0b3JlZCBpbiB0aGUgbG9jYWwgY2FjaGVcbiAgICAgICAgICAgICAqICAgICAgLy9UaGVzZSBpbmhlcml0IGZyb20gdGhlIExpc3RJdGVtIHByb3RvdHlwZSBhcyB3ZWxsIGFzIHRoZSBQcm9qZWN0IHByb3RvdHlwZSBvbiB0aGUgbW9kZWxcbiAgICAgICAgICAgICAqICAgICAgJHNjb3BlLnN1YnNldE9mUHJvamVjdHMgPSBlbnRpdGllcztcbiAgICAgICAgICAgICAqICB9KTtcbiAgICAgICAgICogPC9wcmU+XG4gICAgICAgICAqL1xuICAgICAgICBleGVjdXRlUXVlcnkocXVlcnlOYW1lPzogc3RyaW5nLCBvcHRpb25zPzogT2JqZWN0KTogbmcuSVByb21pc2U8YXAuSW5kZXhlZENhY2hlPiB7XG4gICAgICAgICAgICB2YXIgbW9kZWwgPSB0aGlzO1xuICAgICAgICAgICAgdmFyIHF1ZXJ5ID0gbW9kZWwuZ2V0UXVlcnkocXVlcnlOYW1lKTtcbiAgICAgICAgICAgIGlmIChxdWVyeSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBxdWVyeS5leGVjdXRlKG9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBNb2RlbC5leHRlbmRMaXN0TWV0YWRhdGFcbiAgICAgICAgICogQG1vZHVsZSBNb2RlbFxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogRXh0ZW5kcyB0aGUgTGlzdCBhbmQgRmllbGRzIHdpdGggbGlzdCBpbmZvcm1hdGlvbiByZXR1cm5lZCBmcm9tIHRoZSBzZXJ2ZXIuICBPbmx5IHJ1bnMgb25jZSBhbmQgYWZ0ZXIgdGhhdFxuICAgICAgICAgKiByZXR1cm5zIHRoZSBleGlzdGluZyBwcm9taXNlLlxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIFBhc3MtdGhyb3VnaCBvcHRpb25zIHRvIGFwRGF0YVNlcnZpY2UuZ2V0TGlzdFxuICAgICAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSBQcm9taXNlIHRoYXQgaXMgcmVzb2x2ZWQgb25jZSB0aGUgaW5mb3JtYXRpb24gaGFzIGJlZW4gYWRkZWQuXG4gICAgICAgICAqL1xuICAgICAgICBleHRlbmRMaXN0TWV0YWRhdGEob3B0aW9ucz86IE9iamVjdCk6IG5nLklQcm9taXNlPGFueT4ge1xuICAgICAgICAgICAgdmFyIG1vZGVsID0gdGhpcyxcbiAgICAgICAgICAgICAgICBkZWZlcnJlZCA9ICRxLmRlZmVyKCksXG4gICAgICAgICAgICAgICAgZGVmYXVsdHMgPSB7bGlzdE5hbWU6IG1vZGVsLmxpc3QuZ2V0TGlzdElkKCl9O1xuXG4gICAgICAgICAgICAvKiogT25seSByZXF1ZXN0IGluZm9ybWF0aW9uIGlmIHRoZSBsaXN0IGhhc24ndCBhbHJlYWR5IGJlZW4gZXh0ZW5kZWQgYW5kIGlzIG5vdCBjdXJyZW50bHkgYmVpbmcgcmVxdWVzdGVkICovXG4gICAgICAgICAgICBpZiAoIW1vZGVsLmRlZmVycmVkTGlzdERlZmluaXRpb24pIHtcbiAgICAgICAgICAgICAgICAvKiogQWxsIEZ1dHVyZSBSZXF1ZXN0cyBnZXQgdGhpcyAqL1xuICAgICAgICAgICAgICAgIG1vZGVsLmRlZmVycmVkTGlzdERlZmluaXRpb24gPSBkZWZlcnJlZC5wcm9taXNlO1xuXG4gICAgICAgICAgICAgICAgdmFyIG9wdHMgPSBfLmV4dGVuZCh7fSwgZGVmYXVsdHMsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIGFwRGF0YVNlcnZpY2UuZ2V0TGlzdChvcHRzKVxuICAgICAgICAgICAgICAgICAgICAudGhlbiggKHJlc3BvbnNlWE1MKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcERlY29kZVNlcnZpY2UuZXh0ZW5kTGlzdE1ldGFkYXRhKG1vZGVsLCByZXNwb25zZVhNTCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKG1vZGVsKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbW9kZWwuZGVmZXJyZWRMaXN0RGVmaW5pdGlvbjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAgICogQG5hbWUgTW9kZWwuZ2VuZXJhdGVNb2NrRGF0YVxuICAgICAgICAgKiBAbW9kdWxlIE1vZGVsXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBHZW5lcmF0ZXMgJ24nIG1vY2sgcmVjb3JkcyBmb3IgdGVzdGluZyB1c2luZyB0aGUgZmllbGQgdHlwZXMgZGVmaW5lZCBpbiB0aGUgbW9kZWwgdG8gcHJvdmlkZSBzb21ldGhpbmcgdG8gdmlzdWFsaXplLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIE9iamVjdCBjb250YWluaW5nIG9wdGlvbmFsIHBhcmFtZXRlcnMuXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5xdWFudGl0eT0xMF0gVGhlIHJlcXVlc3RlZCBudW1iZXIgb2YgbW9jayByZWNvcmRzIHRvIHJldHVybi5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnBlcm1pc3Npb25MZXZlbD1GdWxsTWFza10gU2V0cyB0aGUgbWFzayBvbiB0aGUgbW9jayByZWNvcmRzIHRvIHNpbXVsYXRlIGRlc2lyZWRcbiAgICAgICAgICogcGVybWlzc2lvbiBsZXZlbC5cbiAgICAgICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5zdGF0aWNWYWx1ZT1mYWxzZV0gQnkgZGVmYXVsdCBhbGwgbW9jayBkYXRhIGlzIGR5bmFtaWNhbGx5IGNyZWF0ZWQgYnV0IGlmIHNldCxcbiAgICAgICAgICogdGhpcyB3aWxsIGNhdXNlIHN0YXRpYyBkYXRhIHRvIGJlIHVzZWQgaW5zdGVhZC5cbiAgICAgICAgICovXG4gICAgICAgIGdlbmVyYXRlTW9ja0RhdGE8VD4ob3B0aW9ucz86IE9iamVjdCk6IFRbXSB7XG4gICAgICAgICAgICB2YXIgbW9ja0RhdGEgPSBbXSxcbiAgICAgICAgICAgICAgICBtb2RlbCA9IHRoaXM7XG5cbiAgICAgICAgICAgIHZhciBkZWZhdWx0cyA9IHtcbiAgICAgICAgICAgICAgICBxdWFudGl0eTogMTAsXG4gICAgICAgICAgICAgICAgc3RhdGljVmFsdWU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHBlcm1pc3Npb25MZXZlbDogJ0Z1bGxNYXNrJ1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLyoqIEV4dGVuZCBkZWZhdWx0cyB3aXRoIGFueSBwcm92aWRlZCBvcHRpb25zICovXG4gICAgICAgICAgICB2YXIgb3B0cyA9IF8uZXh0ZW5kKHt9LCBkZWZhdWx0cywgb3B0aW9ucyk7XG5cbiAgICAgICAgICAgIF8udGltZXMob3B0cy5xdWFudGl0eSwgIChjb3VudCkgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBtb2NrID0ge1xuICAgICAgICAgICAgICAgICAgICBpZDogY291bnQgKyAxXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAvKiogQ3JlYXRlIGFuIGF0dHJpYnV0ZSB3aXRoIG1vY2sgZGF0YSBmb3IgZWFjaCBmaWVsZCAqL1xuICAgICAgICAgICAgICAgIF8uZWFjaChtb2RlbC5saXN0LmZpZWxkcywgKGZpZWxkOiBhcC5GaWVsZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBtb2NrW2ZpZWxkLm1hcHBlZE5hbWVdID0gZmllbGQuZ2V0TW9ja0RhdGEob3B0cyk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAvKiogVXNlIHRoZSBmYWN0b3J5IG9uIHRoZSBtb2RlbCB0byBleHRlbmQgdGhlIG9iamVjdCAqL1xuICAgICAgICAgICAgICAgIG1vY2tEYXRhLnB1c2gobmV3IG1vZGVsLmZhY3RvcnkobW9jaykpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gbW9ja0RhdGE7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIE1vZGVsLmdldEFsbExpc3RJdGVtc1xuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogSW5oZXJpdGVkIGZyb20gTW9kZWwgY29uc3RydWN0b3JcbiAgICAgICAgICogR2V0cyBhbGwgbGlzdCBpdGVtcyBpbiB0aGUgY3VycmVudCBsaXN0LCBwcm9jZXNzZXMgdGhlIHhtbCwgYW5kIGNhY2hlcyB0aGUgZGF0YSBpbiBtb2RlbC5cbiAgICAgICAgICogQHJldHVybnMge29iamVjdH0gUHJvbWlzZSByZXR1cm5pbmcgYWxsIGxpc3QgaXRlbXMgd2hlbiByZXNvbHZlZC5cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogPHByZT5cbiAgICAgICAgICogLy9UYWtlbiBmcm9tIGEgZmljdGl0aW91cyBwcm9qZWN0c01vZGVsLmpzXG4gICAgICAgICAqIHByb2plY3RNb2RlbC5nZXRBbGxMaXN0SXRlbXMoKS50aGVuKGZ1bmN0aW9uKGVudGl0aWVzKSB7XG4gICAgICAgICAgICAgKiAgICAgLy9EbyBzb21ldGhpbmcgd2l0aCBhbGwgb2YgdGhlIHJldHVybmVkIGVudGl0aWVzXG4gICAgICAgICAgICAgKiAgICAgJHNjb3BlLnByb2plY3RzID0gZW50aXRpZXM7XG4gICAgICAgICAgICAgKiB9O1xuICAgICAgICAgKiA8L3ByZT5cbiAgICAgICAgICovXG4gICAgICAgIGdldEFsbExpc3RJdGVtcygpOiBuZy5JUHJvbWlzZTxhcC5JbmRleGVkQ2FjaGU+IHtcbiAgICAgICAgICAgIHZhciBtb2RlbCA9IHRoaXM7XG4gICAgICAgICAgICByZXR1cm4gYXBEYXRhU2VydmljZS5leGVjdXRlUXVlcnkobW9kZWwsIG1vZGVsLnF1ZXJpZXMuZ2V0QWxsTGlzdEl0ZW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAgICogQG5hbWUgTW9kZWwuZ2V0Q2FjaGVcbiAgICAgICAgICogQG1vZHVsZSBNb2RlbFxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgcmV0dXJuIHRoZSBsb2NhbCBjYWNoZSBmb3IgYSBuYW1lZCBxdWVyeSBpZiBwcm92aWRlZCwgb3RoZXJ3aXNlXG4gICAgICAgICAqIGl0IHJldHVybnMgdGhlIGNhY2hlIGZvciB0aGUgcHJpbWFyeSBxdWVyeSBmb3IgdGhlIG1vZGVsLiAgVXNlZnVsIGlmIHlvdSBrbm93IHRoZSBxdWVyeVxuICAgICAgICAgKiBoYXMgYWxyZWFkeSBiZWVuIHJlc29sdmVkIGFuZCB0aGVyZSdzIG5vIG5lZWQgdG8gY2hlY2sgU2hhcmVQb2ludCBmb3IgY2hhbmdlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtxdWVyeU5hbWU9YXBDb25maWcuZGVmYXVsdFF1ZXJ5TmFtZV0gQSB1bmlxdWUga2V5IHRvIGlkZW50aWZ5IHRoaXMgcXVlcnkuXG4gICAgICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY29udGVudHMgb2YgdGhlIGN1cnJlbnQgY2FjaGUgZm9yIGEgbmFtZWQgcXVlcnkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIDxwcmU+XG4gICAgICAgICAqIHZhciBwcmltYXJ5UXVlcnlDYWNoZSA9IHByb2plY3RNb2RlbC5nZXRDYWNoZSgpO1xuICAgICAgICAgKiA8L3ByZT5cbiAgICAgICAgICpcbiAgICAgICAgICogPHByZT5cbiAgICAgICAgICogdmFyIHByaW1hcnlRdWVyeUNhY2hlID0gcHJvamVjdE1vZGVsLmdldENhY2hlKCdwcmltYXJ5Jyk7XG4gICAgICAgICAqIDwvcHJlPlxuICAgICAgICAgKlxuICAgICAgICAgKiA8cHJlPlxuICAgICAgICAgKiB2YXIgbmFtZWRRdWVyeUNhY2hlID0gcHJvamVjdE1vZGVsLmdldENhY2hlKCdjdXN0b21RdWVyeScpO1xuICAgICAgICAgKiA8L3ByZT5cbiAgICAgICAgICovXG4gICAgICAgIGdldENhY2hlKHF1ZXJ5TmFtZT86IHN0cmluZyk6IGFwLklDYWNoZSB7XG4gICAgICAgICAgICB2YXIgbW9kZWwgPSB0aGlzLCBxdWVyeSwgY2FjaGU7XG4gICAgICAgICAgICBxdWVyeSA9IG1vZGVsLmdldFF1ZXJ5KHF1ZXJ5TmFtZSk7XG4gICAgICAgICAgICBpZiAocXVlcnkgJiYgcXVlcnkuaW5kZXhlZENhY2hlKSB7XG4gICAgICAgICAgICAgICAgY2FjaGUgPSBxdWVyeS5pbmRleGVkQ2FjaGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY2FjaGU7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIE1vZGVsLmdldENhY2hlZEVudGl0eVxuICAgICAgICAgKiBAbW9kdWxlIE1vZGVsXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBBdHRlbXB0cyB0byBsb2NhdGUgYSBtb2RlbCBsaXN0SXRlbSBieSBpZC5cbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IGxpc3RJdGVtSWQgVGhlIElEIG9mIHRoZSByZXF1ZXN0ZWQgbGlzdEl0ZW0uXG4gICAgICAgICAqIEByZXR1cm5zIHtvYmplY3R9IFJldHVybnMgZWl0aGVyIHRoZSByZXF1ZXN0ZWQgbGlzdEl0ZW0gb3IgdW5kZWZpbmVkIGlmIGl0J3Mgbm90IGZvdW5kLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0Q2FjaGVkRW50aXR5PFQ+KGxpc3RJdGVtSWQ6IG51bWJlcik6IFQge1xuICAgICAgICAgICAgdmFyIG1vZGVsID0gdGhpcztcbiAgICAgICAgICAgIHJldHVybiBhcENhY2hlU2VydmljZS5nZXRDYWNoZWRFbnRpdHkobW9kZWwubGlzdC5nZXRMaXN0SWQoKSwgbGlzdEl0ZW1JZCk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIE1vZGVsLmdldENhY2hlZEVudGl0aWVzXG4gICAgICAgICAqIEBtb2R1bGUgTW9kZWxcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIFJldHVybnMgYWxsIGVudGl0aWVzIHJlZ2lzdGVyZWQgZm9yIHRoaXMgbW9kZWwgcmVnYXJkbGVzcyBvZiBxdWVyeS5cbiAgICAgICAgICogQHJldHVybnMge29iamVjdFtdfSBBbGwgcmVnaXN0ZXJlZCBlbnRpdGllcyBmb3IgdGhpcyBtb2RlbC5cbiAgICAgICAgICovXG4gICAgICAgIGdldENhY2hlZEVudGl0aWVzKCk6IGFwLkluZGV4ZWRDYWNoZSB7XG4gICAgICAgICAgICB2YXIgbW9kZWwgPSB0aGlzO1xuICAgICAgICAgICAgcmV0dXJuIGFwQ2FjaGVTZXJ2aWNlLmdldENhY2hlZEVudGl0aWVzKG1vZGVsLmxpc3QuZ2V0TGlzdElkKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBNb2RlbC5nZXRGaWVsZERlZmluaXRpb25cbiAgICAgICAgICogQG1vZHVsZSBNb2RlbFxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogUmV0dXJucyB0aGUgZmllbGQgZGVmaW5pdGlvbiBmcm9tIHRoZSBkZWZpbml0aW9ucyBkZWZpbmVkIGluIHRoZSBjdXN0b20gZmllbGRzIGFycmF5IHdpdGhpbiBhIG1vZGVsLlxuICAgICAgICAgKiA8cHJlPlxuICAgICAgICAgKiB2YXIgcHJvamVjdCA9IHtcbiAgICAgICAgICAgICAqICAgIHRpdGxlOiAnUHJvamVjdCAxJyxcbiAgICAgICAgICAgICAqICAgIGxvY2F0aW9uOiB7XG4gICAgICAgICAgICAgKiAgICAgICAgbG9va3VwSWQ6IDUsXG4gICAgICAgICAgICAgKiAgICAgICAgbG9va3VwVmFsdWU6ICdTb21lIEJ1aWxkaW5nJ1xuICAgICAgICAgICAgICogICAgfVxuICAgICAgICAgICAgICogfTtcbiAgICAgICAgICpcbiAgICAgICAgICogLy9UbyBnZXQgZmllbGQgbWV0YWRhdGFcbiAgICAgICAgICogdmFyIGxvY2F0aW9uRGVmaW5pdGlvbiA9IHByb2plY3RzTW9kZWwuZ2V0RmllbGREZWZpbml0aW9uKCdsb2NhdGlvbicpO1xuICAgICAgICAgKiA8L3ByZT5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGZpZWxkTmFtZSBJbnRlcm5hbCBmaWVsZCBuYW1lLlxuICAgICAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSBGaWVsZCBkZWZpbml0aW9uLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0RmllbGREZWZpbml0aW9uKGZpZWxkTmFtZTogc3RyaW5nKTogSUZpZWxkRGVmaW5pdGlvbiB7XG4gICAgICAgICAgICB2YXIgbW9kZWwgPSB0aGlzO1xuICAgICAgICAgICAgcmV0dXJuIF8uZmluZChtb2RlbC5saXN0LmZpZWxkcywge21hcHBlZE5hbWU6IGZpZWxkTmFtZX0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBNb2RlbC5nZXRMaXN0SXRlbUJ5SWRcbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IGxpc3RJdGVtSWQgSWQgb2YgdGhlIGl0ZW0gYmVpbmcgcmVxdWVzdGVkLlxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyBVc2VkIHRvIG92ZXJyaWRlIGFwRGF0YVNlcnZpY2UgZGVmYXVsdHMuXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBJbmhlcml0ZWQgZnJvbSBNb2RlbCBjb25zdHJ1Y3RvclxuICAgICAgICAgKiBBdHRlbXB0cyB0byByZXRyaWV2ZSB0aGUgcmVxdWVzdGVkIGxpc3QgaXRlbSBmcm9tIHRoZSBzZXJ2ZXIuXG4gICAgICAgICAqIEByZXR1cm5zIHtvYmplY3R9IFByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIHRoZSByZXF1ZXN0ZWQgbGlzdCBpdGVtIGlmIGZvdW5kLiAgT3RoZXJ3aXNlIGl0IHJldHVybnMgdW5kZWZpbmVkLlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiA8cHJlPlxuICAgICAgICAgKiAvL1Rha2VuIGZyb20gYSBmaWN0aXRpb3VzIHByb2plY3RzTW9kZWwuanNcbiAgICAgICAgICogcHJvamVjdE1vZGVsLmdldExpc3RJdGVtQnlJZCgxMikudGhlbihmdW5jdGlvbihsaXN0SXRlbSkge1xuICAgICAgICAgICAgICogICAgIC8vRG8gc29tZXRoaW5nIHdpdGggdGhlIGxvY2F0ZWQgbGlzdEl0ZW1cbiAgICAgICAgICAgICAqICAgICAkc2NvcGUucHJvamVjdCA9IGxpc3RJdGVtO1xuICAgICAgICAgICAgICogfTtcbiAgICAgICAgICogPC9wcmU+XG4gICAgICAgICAqL1xuICAgICAgICBnZXRMaXN0SXRlbUJ5SWQ8VD4obGlzdEl0ZW1JZDogbnVtYmVyLCBvcHRpb25zPzogT2JqZWN0KTogbmcuSVByb21pc2U8VD4ge1xuICAgICAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKSxcbiAgICAgICAgICAgICAgICBtb2RlbCA9IHRoaXMsXG4gICAgICAgICAgICAgICAgLyoqIFVuaXF1ZSBRdWVyeSBOYW1lICovXG4gICAgICAgICAgICAgICAgcXVlcnlLZXkgPSAnR2V0TGlzdEl0ZW1CeUlkLScgKyBsaXN0SXRlbUlkO1xuXG4gICAgICAgICAgICAvKiogUmVnaXN0ZXIgYSBuZXcgUXVlcnkgaWYgaXQgZG9lc24ndCBhbHJlYWR5IGV4aXN0ICovXG4gICAgICAgICAgICBpZiAoIW1vZGVsLmdldFF1ZXJ5KHF1ZXJ5S2V5KSkge1xuICAgICAgICAgICAgICAgIHZhciBkZWZhdWx0cyA9IHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogcXVlcnlLZXksXG4gICAgICAgICAgICAgICAgICAgIG9wZXJhdGlvbjogJ0dldExpc3RJdGVtcycsXG4gICAgICAgICAgICAgICAgICAgIENBTUxSb3dMaW1pdDogMSxcbiAgICAgICAgICAgICAgICAgICAgQ0FNTFF1ZXJ5OiAnJyArXG4gICAgICAgICAgICAgICAgICAgICc8UXVlcnk+JyArXG4gICAgICAgICAgICAgICAgICAgICcgPFdoZXJlPicgK1xuICAgICAgICAgICAgICAgICAgICAnICAgPEVxPicgK1xuICAgICAgICAgICAgICAgICAgICAnICAgICA8RmllbGRSZWYgTmFtZT1cIklEXCIvPicgK1xuICAgICAgICAgICAgICAgICAgICAnICAgICA8VmFsdWUgVHlwZT1cIk51bWJlclwiPicgKyBsaXN0SXRlbUlkICsgJzwvVmFsdWU+JyArXG4gICAgICAgICAgICAgICAgICAgICcgICA8L0VxPicgK1xuICAgICAgICAgICAgICAgICAgICAnIDwvV2hlcmU+JyArXG4gICAgICAgICAgICAgICAgICAgICc8L1F1ZXJ5PidcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIC8qKiBBbGxvd3MgdXMgdG8gb3ZlcnJpZGUgZGVmYXVsdHMgKi9cbiAgICAgICAgICAgICAgICB2YXIgb3B0cyA9IF8uZXh0ZW5kKHt9LCBkZWZhdWx0cywgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgbW9kZWwucmVnaXN0ZXJRdWVyeShvcHRzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbW9kZWwuZXhlY3V0ZVF1ZXJ5KHF1ZXJ5S2V5KVxuICAgICAgICAgICAgICAgIC50aGVuKCAoaW5kZXhlZENhY2hlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8qKiBTaG91bGQgcmV0dXJuIGFuIGluZGV4ZWQgY2FjaGUgb2JqZWN0IHdpdGggYSBzaW5nbGUgbGlzdEl0ZW0gc28ganVzdCByZXR1cm4gdGhlIHJlcXVlc3RlZCBsaXN0SXRlbSAqL1xuICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGluZGV4ZWRDYWNoZS5maXJzdCgpKTtcbiAgICAgICAgICAgICAgICB9LCAoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAgICogQG5hbWUgTW9kZWwuZ2V0UXVlcnlcbiAgICAgICAgICogQG1vZHVsZSBNb2RlbFxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgYXR0ZW1wdHMgdG8gbG9jYXRlIGFuZCByZXR1cm4gYSByZWZlcmVuY2UgdG8gdGhlIHJlcXVlc3RlZCBvciBjYXRjaGFsbCBxdWVyeS5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtxdWVyeU5hbWU9YXBDb25maWcuZGVmYXVsdFF1ZXJ5TmFtZV0gQSB1bmlxdWUga2V5IHRvIGlkZW50aWZ5IHRoaXMgcXVlcnkuXG4gICAgICAgICAqIEByZXR1cm5zIHtvYmplY3R9IFNlZSBRdWVyeSBwcm90b3R5cGUgZm9yIGFkZGl0aW9uYWwgZGV0YWlscyBvbiB3aGF0IGEgUXVlcnkgbG9va3MgbGlrZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogPHByZT5cbiAgICAgICAgICogdmFyIHByaW1hcnlRdWVyeSA9IHByb2plY3RNb2RlbC5nZXRRdWVyeSgpO1xuICAgICAgICAgKiA8L3ByZT5cbiAgICAgICAgICpcbiAgICAgICAgICogPHByZT5cbiAgICAgICAgICogdmFyIHByaW1hcnlRdWVyeSA9IHByb2plY3RNb2RlbC5nZXRRdWVyeSgncHJpbWFyeScpO1xuICAgICAgICAgKiA8L3ByZT5cbiAgICAgICAgICpcbiAgICAgICAgICogPHByZT5cbiAgICAgICAgICogdmFyIG5hbWVkUXVlcnkgPSBwcm9qZWN0TW9kZWwuZ2V0UXVlcnkoJ2N1c3RvbVF1ZXJ5Jyk7XG4gICAgICAgICAqIDwvcHJlPlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0UXVlcnkocXVlcnlOYW1lOiBzdHJpbmcpOiBhcC5JUXVlcnkge1xuICAgICAgICAgICAgdmFyIG1vZGVsID0gdGhpcywgcXVlcnk7XG4gICAgICAgICAgICBpZiAoXy5pc09iamVjdChtb2RlbC5xdWVyaWVzW3F1ZXJ5TmFtZV0pKSB7XG4gICAgICAgICAgICAgICAgLyoqIFRoZSBuYW1lZCBxdWVyeSBleGlzdHMgKi9cbiAgICAgICAgICAgICAgICBxdWVyeSA9IG1vZGVsLnF1ZXJpZXNbcXVlcnlOYW1lXTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoXy5pc09iamVjdChtb2RlbC5xdWVyaWVzW2FwQ29uZmlnLmRlZmF1bHRRdWVyeU5hbWVdKSAmJiAhcXVlcnlOYW1lKSB7XG4gICAgICAgICAgICAgICAgLyoqIEEgbmFtZWQgcXVlcnkgd2Fzbid0IHNwZWNpZmllZCBhbmQgdGhlIGNhdGNoYWxsIHF1ZXJ5IGV4aXN0cyAqL1xuICAgICAgICAgICAgICAgIHF1ZXJ5ID0gbW9kZWwucXVlcmllc1thcENvbmZpZy5kZWZhdWx0UXVlcnlOYW1lXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLyoqIFJlcXVlc3RlZCBxdWVyeSBub3QgZm91bmQgKi9cbiAgICAgICAgICAgICAgICBxdWVyeSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBxdWVyeTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAgICogQG5hbWUgTW9kZWwucmVzb2x2ZVBlcm1pc3Npb25zXG4gICAgICAgICAqIEBtb2R1bGUgTW9kZWxcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIFNlZSBhcE1vZGVsRmFjdG9yeS5yZXNvbHZlUGVybWlzc2lvbnMgZm9yIGRldGFpbHMgb24gd2hhdCB3ZSBleHBlY3QgdG8gaGF2ZSByZXR1cm5lZC5cbiAgICAgICAgICogQHJldHVybnMge09iamVjdH0gQ29udGFpbnMgcHJvcGVydGllcyBmb3IgZWFjaCBwZXJtaXNzaW9uIGxldmVsIGV2YWx1YXRlZCBmb3IgY3VycmVudCB1c2VyLlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiBMZXRzIGFzc3VtZSB3ZSdyZSBjaGVja2luZyB0byBzZWUgaWYgYSB1c2VyIGhhcyBlZGl0IHJpZ2h0cyBmb3IgYSBnaXZlbiBsaXN0LlxuICAgICAgICAgKiA8cHJlPlxuICAgICAgICAgKiB2YXIgdXNlclBlcm1pc3Npb25zID0gdGFza3NNb2RlbC5yZXNvbHZlUGVybWlzc2lvbnMoKTtcbiAgICAgICAgICogdmFyIHVzZXJDYW5FZGl0ID0gdXNlclBlcm1pc3Npb25zLkVkaXRMaXN0SXRlbXM7XG4gICAgICAgICAqIDwvcHJlPlxuICAgICAgICAgKiBFeGFtcGxlIG9mIHdoYXQgdGhlIHJldHVybmVkIG9iamVjdCB3b3VsZCBsb29rIGxpa2VcbiAgICAgICAgICogZm9yIGEgc2l0ZSBhZG1pbi5cbiAgICAgICAgICogPHByZT5cbiAgICAgICAgICogcGVybSA9IHtcbiAgICAgICAgICAgICogICAgXCJWaWV3TGlzdEl0ZW1zXCI6IHRydWUsXG4gICAgICAgICAgICAqICAgIFwiQWRkTGlzdEl0ZW1zXCI6IHRydWUsXG4gICAgICAgICAgICAqICAgIFwiRWRpdExpc3RJdGVtc1wiOiB0cnVlLFxuICAgICAgICAgICAgKiAgICBcIkRlbGV0ZUxpc3RJdGVtc1wiOiB0cnVlLFxuICAgICAgICAgICAgKiAgICBcIkFwcHJvdmVJdGVtc1wiOiB0cnVlLFxuICAgICAgICAgICAgKiAgICBcIk9wZW5JdGVtc1wiOiB0cnVlLFxuICAgICAgICAgICAgKiAgICBcIlZpZXdWZXJzaW9uc1wiOiB0cnVlLFxuICAgICAgICAgICAgKiAgICBcIkRlbGV0ZVZlcnNpb25zXCI6IHRydWUsXG4gICAgICAgICAgICAqICAgIFwiQ2FuY2VsQ2hlY2tvdXRcIjogdHJ1ZSxcbiAgICAgICAgICAgICogICAgXCJQZXJzb25hbFZpZXdzXCI6IHRydWUsXG4gICAgICAgICAgICAqICAgIFwiTWFuYWdlTGlzdHNcIjogdHJ1ZSxcbiAgICAgICAgICAgICogICAgXCJWaWV3Rm9ybVBhZ2VzXCI6IHRydWUsXG4gICAgICAgICAgICAqICAgIFwiT3BlblwiOiB0cnVlLFxuICAgICAgICAgICAgKiAgICBcIlZpZXdQYWdlc1wiOiB0cnVlLFxuICAgICAgICAgICAgKiAgICBcIkFkZEFuZEN1c3RvbWl6ZVBhZ2VzXCI6IHRydWUsXG4gICAgICAgICAgICAqICAgIFwiQXBwbHlUaGVtZUFuZEJvcmRlclwiOiB0cnVlLFxuICAgICAgICAgICAgKiAgICBcIkFwcGx5U3R5bGVTaGVldHNcIjogdHJ1ZSxcbiAgICAgICAgICAgICogICAgXCJWaWV3VXNhZ2VEYXRhXCI6IHRydWUsXG4gICAgICAgICAgICAqICAgIFwiQ3JlYXRlU1NDU2l0ZVwiOiB0cnVlLFxuICAgICAgICAgICAgKiAgICBcIk1hbmFnZVN1YndlYnNcIjogdHJ1ZSxcbiAgICAgICAgICAgICogICAgXCJDcmVhdGVHcm91cHNcIjogdHJ1ZSxcbiAgICAgICAgICAgICogICAgXCJNYW5hZ2VQZXJtaXNzaW9uc1wiOiB0cnVlLFxuICAgICAgICAgICAgKiAgICBcIkJyb3dzZURpcmVjdG9yaWVzXCI6IHRydWUsXG4gICAgICAgICAgICAqICAgIFwiQnJvd3NlVXNlckluZm9cIjogdHJ1ZSxcbiAgICAgICAgICAgICogICAgXCJBZGREZWxQcml2YXRlV2ViUGFydHNcIjogdHJ1ZSxcbiAgICAgICAgICAgICogICAgXCJVcGRhdGVQZXJzb25hbFdlYlBhcnRzXCI6IHRydWUsXG4gICAgICAgICAgICAqICAgIFwiTWFuYWdlV2ViXCI6IHRydWUsXG4gICAgICAgICAgICAqICAgIFwiVXNlUmVtb3RlQVBJc1wiOiB0cnVlLFxuICAgICAgICAgICAgKiAgICBcIk1hbmFnZUFsZXJ0c1wiOiB0cnVlLFxuICAgICAgICAgICAgKiAgICBcIkNyZWF0ZUFsZXJ0c1wiOiB0cnVlLFxuICAgICAgICAgICAgKiAgICBcIkVkaXRNeVVzZXJJbmZvXCI6IHRydWUsXG4gICAgICAgICAgICAqICAgIFwiRW51bWVyYXRlUGVybWlzc2lvbnNcIjogdHJ1ZSxcbiAgICAgICAgICAgICogICAgXCJGdWxsTWFza1wiOiB0cnVlXG4gICAgICAgICAgICAqIH1cbiAgICAgICAgICogPC9wcmU+XG4gICAgICAgICAqL1xuICAgICAgICByZXNvbHZlUGVybWlzc2lvbnMoKTogYXAuSVVzZXJQZXJtaXNzaW9uc09iamVjdCB7XG4gICAgICAgICAgICB2YXIgbW9kZWwgPSB0aGlzO1xuICAgICAgICAgICAgaWYgKG1vZGVsLmxpc3QgJiYgbW9kZWwubGlzdC5lZmZlY3RpdmVQZXJtTWFzaykge1xuICAgICAgICAgICAgICAgIC8qKiBHZXQgdGhlIHBlcm1pc3Npb24gbWFzayBmcm9tIHRoZSBwZXJtaXNzaW9uIG1hc2sgbmFtZSAqL1xuICAgICAgICAgICAgICAgIHZhciBwZXJtaXNzaW9uTWFzayA9IGFwVXRpbGl0eVNlcnZpY2UuY29udmVydEVmZmVjdGl2ZVBlcm1NYXNrKG1vZGVsLmxpc3QuZWZmZWN0aXZlUGVybU1hc2spO1xuICAgICAgICAgICAgICAgIHJldHVybiBhcFV0aWxpdHlTZXJ2aWNlLnJlc29sdmVQZXJtaXNzaW9ucyhwZXJtaXNzaW9uTWFzayk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmVycm9yKCdBdHRlbXB0ZWQgdG8gcmVzb2x2ZSBwZXJtaXNzaW9ucyBvZiBhIG1vZGVsIHRoYXQgaGFzblxcJ3QgYmVlbiBpbml0aWFsaXplZC4nLCBtb2RlbCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFwVXRpbGl0eVNlcnZpY2UucmVzb2x2ZVBlcm1pc3Npb25zKG51bGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBNb2RlbC5pc0luaXRpYWxpc2VkXG4gICAgICAgICAqIEBtb2R1bGUgTW9kZWxcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIE1ldGhvZHMgd2hpY2ggYWxsb3dzIHVzIHRvIGVhc2lseSBkZXRlcm1pbmUgaWYgd2UndmUgc3VjY2Vzc2Z1bGx5IG1hZGUgYW55IHF1ZXJpZXMgdGhpcyBzZXNzaW9uLlxuICAgICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBldmFsdWF0aW9uLlxuICAgICAgICAgKi9cbiAgICAgICAgaXNJbml0aWFsaXNlZCgpOiBib29sZWFuIHtcbiAgICAgICAgICAgIHZhciBtb2RlbCA9IHRoaXM7XG4gICAgICAgICAgICByZXR1cm4gXy5pc0RhdGUobW9kZWwubGFzdFNlcnZlclVwZGF0ZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIE1vZGVsLnJlZ2lzdGVyUXVlcnlcbiAgICAgICAgICogQG1vZHVsZSBNb2RlbFxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogQ29uc3RydWN0b3IgdGhhdCBhbGxvd3MgdXMgY3JlYXRlIGEgc3RhdGljIHF1ZXJ5IHdpdGggdGhlIG9wdGlvbiB0byBidWlsZCBkeW5hbWljIHF1ZXJpZXMgYXMgc2VlbiBpbiB0aGVcbiAgICAgICAgICogdGhpcmQgZXhhbXBsZS4gIFRoaXMgY29uc3RydWN0IGlzIGEgcGFzc3Rocm91Z2ggdG8gW1NQU2VydmljZXNdKGh0dHA6IC8vc3BzZXJ2aWNlcy5jb2RlcGxleC5jb20vKVxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gW3F1ZXJ5T3B0aW9uc10gT3B0aW9uYWwgb3B0aW9ucyB0byBwYXNzIHRocm91Z2ggdG8gdGhlXG4gICAgICAgICAqIFtkYXRhU2VydmljZV0oIy9hcGkvZGF0YVNlcnZpY2UuZXhlY3V0ZVF1ZXJ5KS5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtxdWVyeU9wdGlvbnMubmFtZT1hcENvbmZpZy5kZWZhdWx0UXVlcnlOYW1lXSBPcHRpb25hbCBuYW1lIG9mIHRoZSBuZXcgcXVlcnkgKHJlY29tbWVuZGVkIGJ1dCB3aWxsXG4gICAgICAgICAqIGRlZmF1bHQgdG8gJ1ByaW1hcnknIGlmIG5vdCBzcGVjaWZpZWQpXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbcXVlcnlPcHRpb25zLm9wZXJhdGlvbj1cIkdldExpc3RJdGVtQ2hhbmdlc1NpbmNlVG9rZW5cIl0gRGVmYXVsdHMgdG9cbiAgICAgICAgICogW0dldExpc3RJdGVtQ2hhbmdlc1NpbmNlVG9rZW5dKGh0dHA6IC8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvbGlzdHMubGlzdHMuZ2V0bGlzdGl0ZW1jaGFuZ2Vzc2luY2V0b2tlbiUyOHY9b2ZmaWNlLjEyJTI5LmFzcHgpXG4gICAgICAgICAqIGJ1dCBmb3IgYSBzbWFsbGVyIHBheWxvYWQgYW5kIGZhc3RlciByZXNwb25zZSB5b3UgY2FuIHVzZVxuICAgICAgICAgKiBbR2V0TGlzdEl0ZW1zXShodHRwOiAvL3Nwc2VydmljZXMuY29kZXBsZXguY29tL3dpa2lwYWdlP3RpdGxlPUdldExpc3RJdGVtcyZyZWZlcnJpbmdUaXRsZT1MaXN0cykuXG4gICAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3F1ZXJ5T3B0aW9ucy5jYWNoZVhNTD1mYWxzZV0gVHlwaWNhbGx5IGRvbid0IG5lZWQgdG8gc3RvcmUgdGhlIFhNTCByZXNwb25zZSBiZWNhdXNlIGl0XG4gICAgICAgICAqIGhhcyBhbHJlYWR5IGJlZW4gcGFyc2VkIGludG8gSlMgb2JqZWN0cy5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtxdWVyeU9wdGlvbnMub2ZmbGluZVhNTF0gT3B0aW9uYWxseSByZWZlcmVuY2UgYSBzcGVjaWZpYyBYTUwgZmlsZSB0byB1c2UgZm9yIHRoaXMgcXVlcnkgaW5zdGVhZFxuICAgICAgICAgKiBvZiB1c2luZyB0aGUgc2hhcmVkIFhNTCBmaWxlIHVzZWQgYnkgYWxsIHF1ZXJpZXMgb24gdGhpcyBtb2RlbC4gIFVzZWZ1bCB0byBtb2NrIGN1c3RvbSBxdWVyeSByZXN1bHRzLlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3F1ZXJ5T3B0aW9ucy5xdWVyeV0gQ0FNTCBRdWVyeSAtIEpvc2ggTWNDYXJ0eSBoYXMgYSBnb29kIHF1aWNrIHJlZmVyZW5jZVxuICAgICAgICAgKiBbaGVyZV0oaHR0cDogLy9qb3NobWNjYXJ0eS5jb20vMjAxMi8wNi9hLWNhbWwtcXVlcnktcXVpY2stcmVmZXJlbmNlKVxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3F1ZXJ5T3B0aW9ucy5xdWVyeU9wdGlvbnNdXG4gICAgICAgICAqIDxwcmU+XG4gICAgICAgICAqIC8vIERlZmF1bHQgb3B0aW9uc1xuICAgICAgICAgKiAnPFF1ZXJ5T3B0aW9ucz4nICtcbiAgICAgICAgICogJyAgIDxJbmNsdWRlTWFuZGF0b3J5Q29sdW1ucz4nICtcbiAgICAgICAgICogICAgICAnRkFMU0UnICtcbiAgICAgICAgICogICAgICc8L0luY2x1ZGVNYW5kYXRvcnlDb2x1bW5zPicgK1xuICAgICAgICAgKiAnICAgPEluY2x1ZGVBdHRhY2htZW50VXJscz4nICtcbiAgICAgICAgICogICAgICAnVFJVRScgK1xuICAgICAgICAgKiAgICAgJzwvSW5jbHVkZUF0dGFjaG1lbnRVcmxzPicgK1xuICAgICAgICAgKiAnICAgPEluY2x1ZGVBdHRhY2htZW50VmVyc2lvbj4nICtcbiAgICAgICAgICogICAgICAnRkFMU0UnICtcbiAgICAgICAgICogICAgICc8L0luY2x1ZGVBdHRhY2htZW50VmVyc2lvbj4nICtcbiAgICAgICAgICogJyAgIDxFeHBhbmRVc2VyRmllbGQ+JyArXG4gICAgICAgICAqICAgICAgJ0ZBTFNFJyArXG4gICAgICAgICAqICAgICAnPC9FeHBhbmRVc2VyRmllbGQ+JyArXG4gICAgICAgICAqICc8L1F1ZXJ5T3B0aW9ucz4nLFxuICAgICAgICAgKiA8L3ByZT5cbiAgICAgICAgICpcbiAgICAgICAgICpcbiAgICAgICAgICogQHJldHVybnMge29iamVjdH0gUXVlcnkgUmV0dXJucyBhIG5ldyBxdWVyeSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIDxoND5FeGFtcGxlICMxPC9oND5cbiAgICAgICAgICogPHByZT5cbiAgICAgICAgICogLy8gUXVlcnkgdG8gcmV0cmlldmUgdGhlIG1vc3QgcmVjZW50IDI1IG1vZGlmaWNhdGlvbnNcbiAgICAgICAgICogbW9kZWwucmVnaXN0ZXJRdWVyeSh7XG4gICAgICogICAgbmFtZTogJ3JlY2VudENoYW5nZXMnLFxuICAgICAqICAgIENBTUxSb3dMaW1pdDogMjUsXG4gICAgICogICAgcXVlcnk6ICcnICtcbiAgICAgKiAgICAgICAgJzxRdWVyeT4nICtcbiAgICAgKiAgICAgICAgJyAgIDxPcmRlckJ5PicgK1xuICAgICAqICAgICAgICAnICAgICAgIDxGaWVsZFJlZiBOYW1lPVwiTW9kaWZpZWRcIiBBc2NlbmRpbmc9XCJGQUxTRVwiLz4nICtcbiAgICAgKiAgICAgICAgJyAgIDwvT3JkZXJCeT4nICtcbiAgICAgKiAgICAgICAgICAgIC8vUHJldmVudHMgYW55IHJlY29yZHMgZnJvbSBiZWluZyByZXR1cm5lZCBpZiB1c2VyIGRvZXNuJ3RcbiAgICAgKiAgICAgICAgICAgIC8vIGhhdmUgcGVybWlzc2lvbnMgb24gcHJvamVjdFxuICAgICAqICAgICAgICAnICAgPFdoZXJlPicgK1xuICAgICAqICAgICAgICAnICAgICAgIDxJc05vdE51bGw+JyArXG4gICAgICogICAgICAgICcgICAgICAgICAgIDxGaWVsZFJlZiBOYW1lPVwiUHJvamVjdFwiLz4nICtcbiAgICAgKiAgICAgICAgJyAgICAgICA8L0lzTm90TnVsbD4nICtcbiAgICAgKiAgICAgICAgJyAgIDwvV2hlcmU+JyArXG4gICAgICogICAgICAgICc8L1F1ZXJ5PidcbiAgICAgKiB9KTtcbiAgICAgICAgICogPC9wcmU+XG4gICAgICAgICAqXG4gICAgICAgICAqIDxoND5FeGFtcGxlICMyPC9oND5cbiAgICAgICAgICogPHByZT5cbiAgICAgICAgICogLy8gQ291bGQgYmUgcGxhY2VkIG9uIHRoZSBwcm9qZWN0TW9kZWwgYW5kIGNyZWF0ZXMgdGhlIHF1ZXJ5IGJ1dCBkb2Vzbid0XG4gICAgICAgICAqIC8vIGNhbGwgaXRcbiAgICAgICAgICogcHJvamVjdE1vZGVsLnJlZ2lzdGVyUXVlcnkoe1xuICAgICAqICAgICBuYW1lOiAncHJpbWFyeScsXG4gICAgICogICAgIHF1ZXJ5OiAnJyArXG4gICAgICogICAgICAgICAnPFF1ZXJ5PicgK1xuICAgICAqICAgICAgICAgJyAgIDxPcmRlckJ5PicgK1xuICAgICAqICAgICAgICAgJyAgICAgICA8RmllbGRSZWYgTmFtZT1cIlRpdGxlXCIgQXNjZW5kaW5nPVwiVFJVRVwiLz4nICtcbiAgICAgKiAgICAgICAgICcgICA8L09yZGVyQnk+JyArXG4gICAgICogICAgICAgICAnPC9RdWVyeT4nXG4gICAgICogfSk7XG4gICAgICAgICAqXG4gICAgICAgICAqIC8vVG8gY2FsbCB0aGUgcXVlcnkgb3IgY2hlY2sgZm9yIGNoYW5nZXMgc2luY2UgdGhlIGxhc3QgY2FsbFxuICAgICAgICAgKiBwcm9qZWN0TW9kZWwuZXhlY3V0ZVF1ZXJ5KCdwcmltYXJ5JykudGhlbihmdW5jdGlvbihlbnRpdGllcykge1xuICAgICAqICAgICAvLyBXZSBub3cgaGF2ZSBhIHJlZmVyZW5jZSB0byBhcnJheSBvZiBlbnRpdGllcyBzdG9yZWQgaW4gdGhlIGxvY2FsXG4gICAgICogICAgIC8vIGNhY2hlLiAgVGhlc2UgaW5oZXJpdCBmcm9tIHRoZSBMaXN0SXRlbSBwcm90b3R5cGUgYXMgd2VsbCBhcyB0aGVcbiAgICAgKiAgICAgLy8gUHJvamVjdCBwcm90b3R5cGUgb24gdGhlIG1vZGVsXG4gICAgICogICAgICRzY29wZS5wcm9qZWN0cyA9IGVudGl0aWVzO1xuICAgICAqIH0pO1xuICAgICAgICAgKiA8L3ByZT5cbiAgICAgICAgICpcblxuICAgICAgICAgKiA8aDQ+RXhhbXBsZSAjMzwvaDQ+XG4gICAgICAgICAqIDxwcmU+XG4gICAgICAgICAqIC8vIEFkdmFuY2VkIGZ1bmN0aW9uYWxpdHkgdGhhdCB3b3VsZCBhbGxvdyB1cyB0byBkeW5hbWljYWxseSBjcmVhdGVcbiAgICAgICAgICogLy8gcXVlcmllcyBmb3IgbGlzdCBpdGVtcyB3aXRoIGEgbG9va3VwIGZpZWxkIGFzc29jaWF0ZWQgd2l0aCBhIHNwZWNpZmljXG4gICAgICAgICAqIC8vIHByb2plY3QgaWQuICBMZXQncyBhc3N1bWUgdGhpcyBpcyBvbiB0aGUgcHJvamVjdFRhc2tzTW9kZWwuXG4gICAgICAgICAqIG1vZGVsLnF1ZXJ5QnlQcm9qZWN0SWQocHJvamVjdElkKSB7XG4gICAgICogICAgIC8vIFVuaXF1ZSBxdWVyeSBuYW1lXG4gICAgICogICAgIHZhciBxdWVyeUtleSA9ICdwaWQnICsgcHJvamVjdElkO1xuICAgICAqXG4gICAgICogICAgIC8vIFJlZ2lzdGVyIHByb2plY3QgcXVlcnkgaWYgaXQgZG9lc24ndCBleGlzdFxuICAgICAqICAgICBpZiAoIV8uaXNPYmplY3QobW9kZWwucXVlcmllc1txdWVyeUtleV0pKSB7XG4gICAgICogICAgICAgICBtb2RlbC5yZWdpc3RlclF1ZXJ5KHtcbiAgICAgKiAgICAgICAgICAgICBuYW1lOiBxdWVyeUtleSxcbiAgICAgKiAgICAgICAgICAgICBxdWVyeTogJycgK1xuICAgICAqICAgICAgICAgICAgICAgICAnPFF1ZXJ5PicgK1xuICAgICAqICAgICAgICAgICAgICAgICAnICAgPE9yZGVyQnk+JyArXG4gICAgICogICAgICAgICAgICAgICAgICcgICAgICAgPEZpZWxkUmVmIE5hbWU9XCJJRFwiIEFzY2VuZGluZz1cIlRSVUVcIi8+JyArXG4gICAgICogICAgICAgICAgICAgICAgICcgICA8L09yZGVyQnk+JyArXG4gICAgICogICAgICAgICAgICAgICAgICcgICA8V2hlcmU+JyArXG4gICAgICogICAgICAgICAgICAgICAgICcgICAgICAgPEFuZD4nICtcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFByZXZlbnRzIGFueSByZWNvcmRzIGZyb20gYmVpbmcgcmV0dXJuZWRcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vaWYgdXNlciBkb2Vzbid0IGhhdmUgcGVybWlzc2lvbnMgb24gcHJvamVjdFxuICAgICAqICAgICAgICAgICAgICAgICAnICAgICAgICAgICA8SXNOb3ROdWxsPicgK1xuICAgICAqICAgICAgICAgICAgICAgICAnICAgICAgICAgICAgICAgPEZpZWxkUmVmIE5hbWU9XCJQcm9qZWN0XCIvPicgK1xuICAgICAqICAgICAgICAgICAgICAgICAnICAgICAgICAgICA8L0lzTm90TnVsbD4nICtcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJldHVybiBhbGwgcmVjb3JkcyBmb3IgdGhlIHByb2plY3QgbWF0Y2hpbmdcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHBhcmFtIHByb2plY3RJZFxuICAgICAqICAgICAgICAgICAgICAgICAnICAgICAgICAgICA8RXE+JyArXG4gICAgICogICAgICAgICAgICAgICAgICcgICAgICAgICAgICAgICA8RmllbGRSZWYgTmFtZT1cIlByb2plY3RcIiBMb29rdXBJZD1cIlRSVUVcIi8+JyArXG4gICAgICogICAgICAgICAgICAgICAgICcgICAgICAgICAgICAgICA8VmFsdWUgVHlwZT1cIkxvb2t1cFwiPicgKyBwcm9qZWN0SWQgKyAnPC9WYWx1ZT4nICtcbiAgICAgKiAgICAgICAgICAgICAgICAgJyAgICAgICAgICAgPC9FcT4nICtcbiAgICAgKiAgICAgICAgICAgICAgICAgJyAgICAgICA8L0FuZD4nICtcbiAgICAgKiAgICAgICAgICAgICAgICAgJyAgIDwvV2hlcmU+JyArXG4gICAgICogICAgICAgICAgICAgICAgICc8L1F1ZXJ5PidcbiAgICAgKiAgICAgICAgIH0pO1xuICAgICAqICAgICB9XG4gICAgICogICAgIC8vU3RpbGwgdXNpbmcgZXhlY3V0ZSBxdWVyeSBidXQgbm93IHdlIGhhdmUgYSBjdXN0b20gcXVlcnlcbiAgICAgKiAgICAgcmV0dXJuIG1vZGVsLmV4ZWN1dGVRdWVyeShxdWVyeUtleSk7XG4gICAgICogfTtcbiAgICAgICAgIHByZT5cbiAgICAgICAgICovXG4gICAgICAgIHJlZ2lzdGVyUXVlcnkocXVlcnlPcHRpb25zOiBhcC5JUXVlcnlPcHRpb25zKTogYXAuSVF1ZXJ5IHtcbiAgICAgICAgICAgIHZhciBtb2RlbCA9IHRoaXM7XG5cbiAgICAgICAgICAgIHZhciBkZWZhdWx0cyA9IHtcbiAgICAgICAgICAgICAgICAvKiogSWYgbmFtZSBpc24ndCBzZXQsIGFzc3VtZSB0aGlzIGlzIHRoZSBvbmx5IG1vZGVsIGFuZCBkZXNpZ25hdGUgYXMgcHJpbWFyeSAqL1xuICAgICAgICAgICAgICAgIG5hbWU6IGFwQ29uZmlnLmRlZmF1bHRRdWVyeU5hbWVcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHF1ZXJ5T3B0aW9ucyA9IF8uZXh0ZW5kKHt9LCBkZWZhdWx0cywgcXVlcnlPcHRpb25zKTtcblxuICAgICAgICAgICAgbW9kZWwucXVlcmllc1txdWVyeU9wdGlvbnMubmFtZV0gPSBhcFF1ZXJ5RmFjdG9yeS5jcmVhdGUocXVlcnlPcHRpb25zLCBtb2RlbCk7XG5cbiAgICAgICAgICAgIC8qKiBSZXR1cm4gdGhlIG5ld2x5IGNyZWF0ZWQgcXVlcnkgKi9cbiAgICAgICAgICAgIHJldHVybiBtb2RlbC5xdWVyaWVzW3F1ZXJ5T3B0aW9ucy5uYW1lXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAgICogQG5hbWUgTW9kZWwudmFsaWRhdGVFbnRpdHlcbiAgICAgICAgICogQG1vZHVsZSBNb2RlbFxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogVXNlcyB0aGUgY3VzdG9tIGZpZWxkcyBkZWZpbmVkIGluIGFuIG1vZGVsIHRvIGVuc3VyZSBlYWNoIGZpZWxkIChyZXF1aXJlZCA9IHRydWUpIGlzIGV2YWx1YXRlZFxuICAgICAgICAgKiBiYXNlZCBvbiBmaWVsZCB0eXBlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBsaXN0SXRlbSBTaGFyZVBvaW50IGxpc3QgaXRlbS5cbiAgICAgICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSBPYmplY3QgY29udGFpbmluZyBvcHRpb25hbCBwYXJhbWV0ZXJzLlxuICAgICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRvYXN0PXRydWVdIFNob3VsZCB0b2FzdHMgYmUgZ2VuZXJhdGVkIHRvIGFsZXJ0IHRoZSB1c2VyIG9mIGlzc3Vlcy5cbiAgICAgICAgICogQHJldHVybnMge2Jvb2xlYW59IEV2YWx1YXRpb24gb2YgdmFsaWRpdHkuXG4gICAgICAgICAqL1xuICAgICAgICB2YWxpZGF0ZUVudGl0eShsaXN0SXRlbTogSUxpc3RJdGVtLCBvcHRpb25zPzogT2JqZWN0KTogYm9vbGVhbiB7XG4gICAgICAgICAgICB2YXIgdmFsaWQgPSB0cnVlLFxuICAgICAgICAgICAgICAgIG1vZGVsID0gdGhpcztcblxuICAgICAgICAgICAgdmFyIGRlZmF1bHRzID0ge1xuICAgICAgICAgICAgICAgIHRvYXN0OiB0cnVlXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvKiogRXh0ZW5kIGRlZmF1bHRzIHdpdGggYW55IHByb3ZpZGVkIG9wdGlvbnMgKi9cbiAgICAgICAgICAgIHZhciBvcHRzID0gXy5leHRlbmQoe30sIGRlZmF1bHRzLCBvcHRpb25zKTtcblxuICAgICAgICAgICAgdmFyIGNoZWNrT2JqZWN0ID0gKGZpZWxkVmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXy5pc09iamVjdChmaWVsZFZhbHVlKSAmJiBfLmlzTnVtYmVyKGZpZWxkVmFsdWUubG9va3VwSWQpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgXy5lYWNoKG1vZGVsLmxpc3QuY3VzdG9tRmllbGRzLCAoZmllbGREZWZpbml0aW9uOiBJRmllbGREZWZpbml0aW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIGZpZWxkVmFsdWUgPSBsaXN0SXRlbVtmaWVsZERlZmluaXRpb24ubWFwcGVkTmFtZV07XG4gICAgICAgICAgICAgICAgdmFyIGZpZWxkRGVzY3JpcHRvciA9ICdcIicgKyBmaWVsZERlZmluaXRpb24ub2JqZWN0VHlwZSArICdcIiB2YWx1ZS4nO1xuICAgICAgICAgICAgICAgIC8qKiBPbmx5IGV2YWx1YXRlIHJlcXVpcmVkIGZpZWxkcyAqL1xuICAgICAgICAgICAgICAgIGlmICgoZmllbGREZWZpbml0aW9uLnJlcXVpcmVkIHx8IGZpZWxkRGVmaW5pdGlvbi5SZXF1aXJlZCkgJiYgdmFsaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChmaWVsZERlZmluaXRpb24ub2JqZWN0VHlwZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnQm9vbGVhbic6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSBfLmlzQm9vbGVhbihmaWVsZFZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ0RhdGVUaW1lJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IF8uaXNEYXRlKGZpZWxkVmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnTG9va3VwJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ1VzZXInOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkID0gY2hlY2tPYmplY3QoZmllbGRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdMb29rdXBNdWx0aSc6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdVc2VyTXVsdGknOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKiBFbnN1cmUgaXQncyBhIHZhbGlkIGFycmF5IGNvbnRhaW5pbmcgb2JqZWN0cyAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkID0gXy5pc0FycmF5KGZpZWxkVmFsdWUpICYmIGZpZWxkVmFsdWUubGVuZ3RoID4gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyoqIEFkZGl0aW9uYWxseSBjaGVjayB0aGF0IGVhY2ggbG9va3VwL3BlcnNvbiBjb250YWlucyBhIGxvb2t1cElkICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8uZWFjaChmaWVsZFZhbHVlLCAoZmllbGRPYmplY3QpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkID0gY2hlY2tPYmplY3QoZmllbGRPYmplY3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiogU2hvcnQgY2lyY3VpdCAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiogRXZhbHVhdGUgZXZlcnl0aGluZyBlbHNlIGFzIGEgc3RyaW5nICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSAhXy5pc0VtcHR5KGZpZWxkVmFsdWUpO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCF2YWxpZCAmJiBvcHRzLnRvYXN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmllbGROYW1lID0gZmllbGREZWZpbml0aW9uLmxhYmVsIHx8IGZpZWxkRGVmaW5pdGlvbi5zdGF0aWNOYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKGZpZWxkTmFtZSArICcgZG9lcyBub3QgYXBwZWFyIHRvIGJlIGEgdmFsaWQgJyArIGZpZWxkRGVzY3JpcHRvcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCF2YWxpZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gdmFsaWQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjbGFzcyBNb2RlbEZhY3Rvcnkge1xuICAgICAgICBNb2RlbCA9IE1vZGVsO1xuICAgICAgICBjb25zdHJ1Y3RvcigkaW5qZWN0b3IpIHtcbiAgICAgICAgICAgICRxID0gJGluamVjdG9yLmdldCgnJHEnKTtcbiAgICAgICAgICAgIGFwQ2FjaGVTZXJ2aWNlID0gJGluamVjdG9yLmdldCgnYXBDYWNoZVNlcnZpY2UnKTtcbiAgICAgICAgICAgIGFwQ29uZmlnID0gJGluamVjdG9yLmdldCgnYXBDb25maWcnKTtcbiAgICAgICAgICAgIGFwRGF0YVNlcnZpY2UgPSAkaW5qZWN0b3IuZ2V0KCdhcERhdGFTZXJ2aWNlJyk7XG4gICAgICAgICAgICBhcERlY29kZVNlcnZpY2UgPSAkaW5qZWN0b3IuZ2V0KCdhcERlY29kZVNlcnZpY2UnKTtcbiAgICAgICAgICAgIGFwRmllbGRTZXJ2aWNlID0gJGluamVjdG9yLmdldCgnYXBGaWVsZFNlcnZpY2UnKTtcbiAgICAgICAgICAgIGFwSW5kZXhlZENhY2hlRmFjdG9yeSA9ICRpbmplY3Rvci5nZXQoJ2FwSW5kZXhlZENhY2hlRmFjdG9yeScpO1xuICAgICAgICAgICAgYXBMaXN0RmFjdG9yeSA9ICRpbmplY3Rvci5nZXQoJ2FwTGlzdEZhY3RvcnknKTtcbiAgICAgICAgICAgIGFwUXVlcnlGYWN0b3J5ID0gJGluamVjdG9yLmdldCgnYXBRdWVyeUZhY3RvcnknKTtcbiAgICAgICAgICAgIGFwVXRpbGl0eVNlcnZpY2UgPSAkaW5qZWN0b3IuZ2V0KCdhcFV0aWxpdHlTZXJ2aWNlJyk7XG4gICAgICAgICAgICBMaXN0SXRlbUZhY3RvcnkgPSAkaW5qZWN0b3IuZ2V0KCdhcExpc3RJdGVtRmFjdG9yeScpO1xuICAgICAgICAgICAgdG9hc3RyID0gJGluamVjdG9yLmdldCgndG9hc3RyJyk7XG4gICAgICAgIH1cblxuICAgICAgICBjcmVhdGUoY29uZmlnKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IE1vZGVsKGNvbmZpZyk7XG4gICAgICAgIH1cblxuICAgIH1cblxuXG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2FuZ3VsYXJQb2ludCcpXG4gICAgICAgIC5zZXJ2aWNlKCdhcE1vZGVsRmFjdG9yeScsIE1vZGVsRmFjdG9yeSk7XG5cblxufVxuIiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3MvYXAuZC50c1wiIC8+XG5cbm1vZHVsZSBhcCB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyICRxLCBhcEluZGV4ZWRDYWNoZUZhY3Rvcnk6SW5kZXhlZENhY2hlRmFjdG9yeSwgYXBDb25maWc6SUFQQ29uZmlnLCBhcERlZmF1bHRMaXN0SXRlbVF1ZXJ5T3B0aW9ucyxcbiAgICAgICAgYXBEYXRhU2VydmljZTpEYXRhU2VydmljZTtcblxuICAgIGV4cG9ydCBpbnRlcmZhY2UgSVF1ZXJ5IHtcbiAgICAgICAgY2FjaGVYTUw/OiBib29sZWFuO1xuICAgICAgICBjaGFuZ2VUb2tlbj86c3RyaW5nO1xuICAgICAgICBleGVjdXRlPzxUPihvcHRpb25zPzpPYmplY3QpOiBuZy5JUHJvbWlzZTwgSUluZGV4ZWRDYWNoZTxUPiA+O1xuICAgICAgICBnZXRNb2RlbCgpOklNb2RlbDtcbiAgICAgICAgaW5kZXhlZENhY2hlOklJbmRleGVkQ2FjaGU7XG4gICAgICAgIGluaXRpYWxpemVkOm5nLklEZWZlcnJlZDxhbnk+XG4gICAgICAgIGxhc3RSdW46IERhdGU7XG4gICAgICAgIGxpc3ROYW1lOnN0cmluZztcbiAgICAgICAgbmFtZTpzdHJpbmc7XG4gICAgICAgIG5lZ290aWF0aW5nV2l0aFNlcnZlcjpib29sZWFuO1xuICAgICAgICBvZmZsaW5lWE1MPzogc3RyaW5nO1xuICAgICAgICBvcGVyYXRpb24/OiBzdHJpbmc7XG4gICAgICAgIHByb21pc2U/Om5nLklQcm9taXNlO1xuICAgICAgICBxdWVyeT86IHN0cmluZztcbiAgICAgICAgcXVlcnlPcHRpb25zPzpJUXVlcnlPcHRpb25zO1xuICAgICAgICB2aWV3RmllbGRzOnN0cmluZztcbiAgICAgICAgd2ViVVJMPzpzdHJpbmc7XG4gICAgfVxuXG4gICAgZXhwb3J0IGludGVyZmFjZSBJUXVlcnlPcHRpb25zIHtcbiAgICAgICAgbmFtZT86IHN0cmluZztcbiAgICAgICAgb3BlcmF0aW9uPzogc3RyaW5nO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgUXVlcnlcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBQcmltYXJ5IGNvbnN0cnVjdG9yIHRoYXQgYWxsIHF1ZXJpZXMgaW5oZXJpdCBmcm9tLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBjb25maWcgSW5pdGlhbGl6YXRpb24gcGFyYW1ldGVycy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NvbmZpZy5vcGVyYXRpb249R2V0TGlzdEl0ZW1DaGFuZ2VzU2luY2VUb2tlbl0gT3B0aW9uYWxseSB1c2UgJ0dldExpc3RJdGVtcycgdG9cbiAgICAgKiByZWNlaXZlIGEgbW9yZSBlZmZpY2llbnQgcmVzcG9uc2UsIGp1c3QgZG9uJ3QgaGF2ZSB0aGUgYWJpbGl0eSB0byBjaGVjayBmb3IgY2hhbmdlcyBzaW5jZSB0aGUgbGFzdCB0aW1lXG4gICAgICogdGhlIHF1ZXJ5IHdhcyBjYWxsZWQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbY29uZmlnLmNhY2hlWE1MPXRydWVdIFNldCB0byBmYWxzZSBpZiB5b3Ugd2FudCBhIGZyZXNoIHJlcXVlc3QuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtjb25maWcub2ZmbGluZVhNTF0gT3B0aW9uYWxseSByZWZlcmVuY2UgYSBzcGVjaWZpYyBYTUwgZmlsZSB0byB1c2UgZm9yIHRoaXMgcXVlcnkgaW5zdGVhZFxuICAgICAqIG9mIHVzaW5nIHRoZSBzaGFyZWQgWE1MIGZpbGUgZm9yIHRoaXMgbGlzdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NvbmZpZy5xdWVyeT1PcmRlcmVkIGFzY2VuZGluZyBieSBJRF0gQ0FNTCBxdWVyeSBwYXNzZWQgdG8gU2hhcmVQb2ludCB0byBjb250cm9sXG4gICAgICogdGhlIGRhdGEgU2hhcmVQb2ludCByZXR1cm5zLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY29uZmlnLnF1ZXJ5T3B0aW9uc10gU2hhcmVQb2ludCBvcHRpb25zLlxuICAgICAqIDxwcmU+XG4gICAgICogLy9EZWZhdWx0XG4gICAgICogcXVlcnlPcHRpb25zOiAnJyArXG4gICAgICogJzxRdWVyeU9wdGlvbnM+JyArXG4gICAgICogJyAgIDxJbmNsdWRlTWFuZGF0b3J5Q29sdW1ucz4nICtcbiAgICAgKiAgICAgICdGQUxTRScgK1xuICAgICAqICAgICAnPC9JbmNsdWRlTWFuZGF0b3J5Q29sdW1ucz4nICtcbiAgICAgKiAnICAgPEluY2x1ZGVBdHRhY2htZW50VXJscz4nICtcbiAgICAgKiAgICAgICdUUlVFJyArXG4gICAgICogICAgICc8L0luY2x1ZGVBdHRhY2htZW50VXJscz4nICtcbiAgICAgKiAnICAgPEluY2x1ZGVBdHRhY2htZW50VmVyc2lvbj4nICtcbiAgICAgKiAgICAgICdGQUxTRScgK1xuICAgICAqICAgICAnPC9JbmNsdWRlQXR0YWNobWVudFZlcnNpb24+JyArXG4gICAgICogJyAgIDxFeHBhbmRVc2VyRmllbGQ+JyArXG4gICAgICogICAgICAnRkFMU0UnICtcbiAgICAgKiAgICAgJzwvRXhwYW5kVXNlckZpZWxkPicgK1xuICAgICAqICc8L1F1ZXJ5T3B0aW9ucz4nLFxuICAgICAqIDwvcHJlPlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBtb2RlbCBSZWZlcmVuY2UgdG8gdGhlIHBhcmVudCBtb2RlbCBmb3IgdGhlIHF1ZXJ5LiAgQWxsb3dzIHVzIHRvIHJlZmVyZW5jZSB3aGVuIG91dCBvZlxuICAgICAqIHNjb3BlLlxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiA8cHJlPlxuICAgICAqIC8vIFF1ZXJ5IHRvIHJldHJpZXZlIHRoZSBtb3N0IHJlY2VudCAyNSBtb2RpZmljYXRpb25zXG4gICAgICogbW9kZWwucmVnaXN0ZXJRdWVyeSh7XG4gICAgICAgICAqICAgIG5hbWU6ICdyZWNlbnRDaGFuZ2VzJyxcbiAgICAgICAgICogICAgQ0FNTFJvd0xpbWl0OiAyNSxcbiAgICAgICAgICogICAgcXVlcnk6ICcnICtcbiAgICAgICAgICogICAgICAgICc8UXVlcnk+JyArXG4gICAgICAgICAqICAgICAgICAnICAgPE9yZGVyQnk+JyArXG4gICAgICAgICAqICAgICAgICAnICAgICAgIDxGaWVsZFJlZiBOYW1lPVwiTW9kaWZpZWRcIiBBc2NlbmRpbmc9XCJGQUxTRVwiLz4nICtcbiAgICAgICAgICogICAgICAgICcgICA8L09yZGVyQnk+JyArXG4gICAgICAgICAqICAgICAgICAgICAgLy8gUHJldmVudHMgYW55IHJlY29yZHMgZnJvbSBiZWluZyByZXR1cm5lZCBpZiB1c2VyXG4gICAgICAgICAqICAgICAgICAgICAgLy8gZG9lc24ndCBoYXZlIHBlcm1pc3Npb25zIG9uIHByb2plY3RcbiAgICAgICAgICogICAgICAgICcgICA8V2hlcmU+JyArXG4gICAgICAgICAqICAgICAgICAnICAgICAgIDxJc05vdE51bGw+JyArXG4gICAgICAgICAqICAgICAgICAnICAgICAgICAgICA8RmllbGRSZWYgTmFtZT1cIlByb2plY3RcIi8+JyArXG4gICAgICAgICAqICAgICAgICAnICAgICAgIDwvSXNOb3ROdWxsPicgK1xuICAgICAgICAgKiAgICAgICAgJyAgIDwvV2hlcmU+JyArXG4gICAgICAgICAqICAgICAgICAnPC9RdWVyeT4nXG4gICAgICAgICAqIH0pO1xuICAgICAqIDwvcHJlPlxuICAgICAqL1xuICAgIGV4cG9ydCBjbGFzcyBRdWVyeSBpbXBsZW1lbnRzIElRdWVyeSB7XG4gICAgICAgIC8qKiBWZXJ5IG1lbW9yeSBpbnRlbnNpdmUgdG8gZW5hYmxlIGNhY2hlWE1MIHdoaWNoIGlzIGRpc2FibGVkIGJ5IGRlZmF1bHQqL1xuICAgICAgICBjYWNoZVhNTDpib29sZWFuID0gZmFsc2U7XG4gICAgICAgIC8qKiBSZWZlcmVuY2UgdG8gdGhlIG1vc3QgcmVjZW50IHF1ZXJ5IHdoZW4gcGVyZm9ybWluZyBHZXRMaXN0SXRlbUNoYW5nZXNTaW5jZVRva2VuICovXG4gICAgICAgIGNoYW5nZVRva2VuID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIGdldE1vZGVsKCk6SU1vZGVsO1xuXG4gICAgICAgIC8qKiBLZXkgdmFsdWUgaGFzaCBtYXAgd2l0aCBrZXkgYmVpbmcgdGhlIGlkIG9mIHRoZSBlbnRpdHkgKi9cbiAgICAgICAgaW5kZXhlZENhY2hlOklJbmRleGVkQ2FjaGU7XG4gICAgICAgIC8qKiBQcm9taXNlIHJlc29sdmVkIGFmdGVyIGZpcnN0IHRpbWUgcXVlcnkgaXMgZXhlY3V0ZWQgKi9cbiAgICAgICAgaW5pdGlhbGl6ZWQ6bmcuSURlZmVycmVkO1xuICAgICAgICAvKiogRGF0ZS9UaW1lIGxhc3QgcnVuICovXG4gICAgICAgIGxhc3RSdW47XG4gICAgICAgIGxpc3ROYW1lO1xuICAgICAgICBuYW1lOnN0cmluZztcbiAgICAgICAgLyoqIEZsYWcgdG8gcHJldmVudCB1cyBmcm9tIG1ha2VpbmcgY29uY3VycmVudCByZXF1ZXN0cyAqL1xuICAgICAgICBuZWdvdGlhdGluZ1dpdGhTZXJ2ZXI6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICAvKiogRXZlcnkgdGltZSB3ZSBydW4gd2Ugd2FudCB0byBjaGVjayB0byB1cGRhdGUgb3VyIGNhY2hlZCBkYXRhIHdpdGhcbiAgICAgICAgICogYW55IGNoYW5nZXMgbWFkZSBvbiB0aGUgc2VydmVyICovXG4gICAgICAgIG9wZXJhdGlvbiA9ICdHZXRMaXN0SXRlbUNoYW5nZXNTaW5jZVRva2VuJztcbiAgICAgICAgcHJvbWlzZTtcbiAgICAgICAgLyoqIERlZmF1bHQgcXVlcnkgcmV0dXJucyBsaXN0IGl0ZW1zIGluIGFzY2VuZGluZyBJRCBvcmRlciAqL1xuICAgICAgICBxdWVyeTpzdHJpbmcgPSBgXG4gICAgICAgIDxRdWVyeT5cbiAgICAgICAgICAgPE9yZGVyQnk+XG4gICAgICAgICAgICAgICA8RmllbGRSZWYgTmFtZT1cIklEXCIgQXNjZW5kaW5nPVwiVFJVRVwiLz5cbiAgICAgICAgICAgPC9PcmRlckJ5PlxuICAgICAgICA8L1F1ZXJ5PmA7XG4gICAgICAgIHF1ZXJ5T3B0aW9ucztcbiAgICAgICAgdmlld0ZpZWxkcztcbiAgICAgICAgd2ViVVJMO1xuXG4gICAgICAgIGNvbnN0cnVjdG9yKGNvbmZpZywgbW9kZWw6TW9kZWwpIHtcbiAgICAgICAgICAgIHRoaXMuaW5kZXhlZENhY2hlID0gYXBJbmRleGVkQ2FjaGVGYWN0b3J5LmNyZWF0ZSgpO1xuICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplZCA9ICRxLmRlZmVyKCk7XG4gICAgICAgICAgICB0aGlzLmxpc3ROYW1lID0gbW9kZWwubGlzdC5nZXRMaXN0SWQoKTtcbiAgICAgICAgICAgIHRoaXMucXVlcnlPcHRpb25zID0gYXBEZWZhdWx0TGlzdEl0ZW1RdWVyeU9wdGlvbnM7XG4gICAgICAgICAgICB0aGlzLnZpZXdGaWVsZHMgPSBtb2RlbC5saXN0LnZpZXdGaWVsZHM7XG5cbiAgICAgICAgICAgIC8qKiBTZXQgdGhlIGRlZmF1bHQgdXJsIGlmIHRoZSBjb25maWcgcGFyYW0gaXMgZGVmaW5lZCwgb3RoZXJ3aXNlIGxldCBTUFNlcnZpY2VzIGhhbmRsZSBpdCAqL1xuICAgICAgICAgICAgaWYgKGFwQ29uZmlnLmRlZmF1bHRVcmwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLndlYlVSTCA9IGFwQ29uZmlnLmRlZmF1bHRVcmw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIF8uZXh0ZW5kKHRoaXMsIGNvbmZpZyk7XG5cbiAgICAgICAgICAgIC8qKiBBbGxvdyB0aGUgbW9kZWwgdG8gYmUgcmVmZXJlbmNlZCBhdCBhIGxhdGVyIHRpbWUgKi9cbiAgICAgICAgICAgIHRoaXMuZ2V0TW9kZWwgPSAoKSA9PiBtb2RlbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAgICogQG5hbWUgUXVlcnkuZXhlY3V0ZVxuICAgICAgICAgKiBAbWV0aG9kT2YgUXVlcnlcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIFF1ZXJ5IFNoYXJlUG9pbnQsIHB1bGwgZG93biBhbGwgaW5pdGlhbCByZWNvcmRzIG9uIGZpcnN0IGNhbGwgYWxvbmcgd2l0aCBsaXN0IGRlZmluaXRpb24gaWYgdXNpbmdcbiAgICAgICAgICogXCJHZXRMaXN0SXRlbUNoYW5nZXNTaW5jZVRva2VuXCIuICBOb3RlOiB0aGlzIGlzICBzdWJzdGFudGlhbGx5IGxhcmdlciB0aGFuIFwiR2V0TGlzdEl0ZW1zXCIgb24gZmlyc3QgY2FsbC5cbiAgICAgICAgICogU3Vic2VxdWVudCBjYWxscyBwdWxscyBkb3duIGNoYW5nZXMgKEFzc3VtaW5nIG9wZXJhdGlvbjogXCJHZXRMaXN0SXRlbUNoYW5nZXNTaW5jZVRva2VuXCIpLlxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIEFueSBvcHRpb25zIHRoYXQgc2hvdWxkIGJlIHBhc3NlZCB0byBkYXRhU2VydmljZS5leGVjdXRlUXVlcnkuXG4gICAgICAgICAqIEByZXR1cm5zIHtvYmplY3RbXX0gQXJyYXkgb2YgbGlzdCBpdGVtIG9iamVjdHMuXG4gICAgICAgICAqL1xuICAgICAgICBleGVjdXRlKG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHZhciBxdWVyeSA9IHRoaXM7XG4gICAgICAgICAgICB2YXIgbW9kZWwgPSBxdWVyeS5nZXRNb2RlbCgpO1xuICAgICAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgICAgICAgLyoqIFJldHVybiBleGlzdGluZyBwcm9taXNlIGlmIHJlcXVlc3QgaXMgYWxyZWFkeSB1bmRlcndheSBvciBoYXMgYmVlbiBwcmV2aW91c2x5IGV4ZWN1dGVkIGluIHRoZSBwYXN0XG4gICAgICAgICAgICAgKiAxLzEwdGggb2YgYSBzZWNvbmQgKi9cbiAgICAgICAgICAgIGlmIChxdWVyeS5uZWdvdGlhdGluZ1dpdGhTZXJ2ZXIgfHwgKF8uaXNEYXRlKHF1ZXJ5Lmxhc3RSdW4pICYmIHF1ZXJ5Lmxhc3RSdW4uZ2V0VGltZSgpICsgMTAwID4gbmV3IERhdGUoKS5nZXRUaW1lKCkpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHF1ZXJ5LnByb21pc2U7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8qKiBTZXQgZmxhZyB0byBwcmV2ZW50IGFub3RoZXIgY2FsbCB3aGlsZSB0aGlzIHF1ZXJ5IGlzIGFjdGl2ZSAqL1xuICAgICAgICAgICAgICAgIHF1ZXJ5Lm5lZ290aWF0aW5nV2l0aFNlcnZlciA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAvKiogU2V0IGZsYWcgaWYgdGhpcyBpZiB0aGUgZmlyc3QgdGltZSB0aGlzIHF1ZXJ5IGhhcyBiZWVuIHJ1biAqL1xuICAgICAgICAgICAgICAgIHZhciBmaXJzdFJ1blF1ZXJ5ID0gXy5pc051bGwocXVlcnkubGFzdFJ1bik7XG5cbiAgICAgICAgICAgICAgICB2YXIgZGVmYXVsdHMgPSB7XG4gICAgICAgICAgICAgICAgICAgIC8qKiBEZXNpZ25hdGUgdGhlIGNlbnRyYWwgY2FjaGUgZm9yIHRoaXMgcXVlcnkgaWYgbm90IGFscmVhZHkgc2V0ICovXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldDogcXVlcnkuZ2V0Q2FjaGUoKVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKiogRXh0ZW5kIGRlZmF1bHRzIHdpdGggYW55IG9wdGlvbnMgKi9cbiAgICAgICAgICAgICAgICB2YXIgcXVlcnlPcHRpb25zID0gXy5leHRlbmQoe30sIGRlZmF1bHRzLCBvcHRpb25zKTtcblxuICAgICAgICAgICAgICAgIGFwRGF0YVNlcnZpY2UuZXhlY3V0ZVF1ZXJ5KG1vZGVsLCBxdWVyeSwgcXVlcnlPcHRpb25zKS50aGVuKChyZXN1bHRzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmaXJzdFJ1blF1ZXJ5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvKiogUHJvbWlzZSByZXNvbHZlZCB0aGUgZmlyc3QgdGltZSBxdWVyeSBpcyBjb21wbGV0ZWQgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5LmluaXRpYWxpemVkLnJlc29sdmUocXVlcnlPcHRpb25zLnRhcmdldCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvKiogUmVtb3ZlIGxvY2sgdG8gYWxsb3cgZm9yIGZ1dHVyZSByZXF1ZXN0cyAqL1xuICAgICAgICAgICAgICAgICAgICBxdWVyeS5uZWdvdGlhdGluZ1dpdGhTZXJ2ZXIgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAvKiogU3RvcmUgcXVlcnkgY29tcGxldGlvbiBkYXRlL3RpbWUgb24gbW9kZWwgdG8gYWxsb3cgdXMgdG8gaWRlbnRpZnkgYWdlIG9mIGRhdGEgKi9cbiAgICAgICAgICAgICAgICAgICAgbW9kZWwubGFzdFNlcnZlclVwZGF0ZSA9IG5ldyBEYXRlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShxdWVyeU9wdGlvbnMudGFyZ2V0KTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIC8qKiBTYXZlIHJlZmVyZW5jZSBvbiB0aGUgcXVlcnkgKiovXG4gICAgICAgICAgICAgICAgcXVlcnkucHJvbWlzZSA9IGRlZmVycmVkLnByb21pc2U7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBnZXRDYWNoZSgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmluZGV4ZWRDYWNoZTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgZXhwb3J0IGNsYXNzIFF1ZXJ5RmFjdG9yeSB7XG4gICAgICAgIFF1ZXJ5ID0gUXVlcnk7XG4gICAgICAgIGNvbnN0cnVjdG9yKCRpbmplY3Rvcikge1xuICAgICAgICAgICAgJHEgPSAkaW5qZWN0b3IuZ2V0KCckcScpO1xuICAgICAgICAgICAgYXBDb25maWcgPSAkaW5qZWN0b3IuZ2V0KCdhcENvbmZpZycpO1xuICAgICAgICAgICAgYXBEYXRhU2VydmljZSA9ICRpbmplY3Rvci5nZXQoJ2FwRGF0YVNlcnZpY2UnKTtcbiAgICAgICAgICAgIGFwRGVmYXVsdExpc3RJdGVtUXVlcnlPcHRpb25zID0gJGluamVjdG9yLmdldCgnYXBEZWZhdWx0TGlzdEl0ZW1RdWVyeU9wdGlvbnMnKTtcbiAgICAgICAgICAgIGFwSW5kZXhlZENhY2hlRmFjdG9yeSA9ICRpbmplY3Rvci5nZXQoJ2FwSW5kZXhlZENhY2hlRmFjdG9yeScpO1xuXG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBRdWVyeUZhY3Rvcnk6Y3JlYXRlXG4gICAgICAgICAqIEBtZXRob2RPZiBhbmd1bGFyUG9pbnQuYXBRdWVyeUZhY3RvcnlcbiAgICAgICAgICogQHBhcmFtIHtvYmplY3R9IGNvbmZpZyBPcHRpb25zIG9iamVjdC5cbiAgICAgICAgICogQHBhcmFtIHtvYmplY3R9IG1vZGVsIFJlZmVyZW5jZSB0byB0aGUgbW9kZWwuXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBJbnN0YW50aWF0ZXMgYW5kIHJldHVybnMgYSBuZXcgUXVlcnkuXG4gICAgICAgICAqL1xuICAgICAgICBjcmVhdGUoY29uZmlnLCBtb2RlbCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBRdWVyeShjb25maWcsIG1vZGVsKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBvYmplY3RcbiAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBRdWVyeUZhY3RvcnlcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBFeHBvc2VzIHRoZSBRdWVyeSBwcm90b3R5cGUgYW5kIGEgY29uc3RydWN0b3IgdG8gaW5zdGFudGlhdGUgYSBuZXcgUXVlcnkuXG4gICAgICpcbiAgICAgKiBAcmVxdWlyZXMgYW5ndWxhclBvaW50LmFwRGF0YVNlcnZpY2VcbiAgICAgKiBAcmVxdWlyZXMgYW5ndWxhclBvaW50LmFwQ29uZmlnXG4gICAgICovXG4gICAgYW5ndWxhci5tb2R1bGUoJ2FuZ3VsYXJQb2ludCcpXG4gICAgICAgIC5zZXJ2aWNlKCdhcFF1ZXJ5RmFjdG9yeScsIFF1ZXJ5RmFjdG9yeSk7XG5cblxufVxuIiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3MvYXAuZC50c1wiIC8+XG5cbm1vZHVsZSBhcCB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIGFwVXRpbGl0eVNlcnZpY2U7XG5cbiAgICBleHBvcnQgaW50ZXJmYWNlIElVc2VyIHtcbiAgICAgICAgZW1haWw/OnN0cmluZztcbiAgICAgICAgbG9naW5OYW1lPzpzdHJpbmc7XG4gICAgICAgIGxvb2t1cElkOiBudW1iZXI7XG4gICAgICAgIGxvb2t1cFZhbHVlOiBzdHJpbmc7XG4gICAgICAgIHNpcEFkZHJlc3M/OnN0cmluZztcbiAgICAgICAgdGl0bGU/OnN0cmluZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBVc2VyXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogQWxsb3dzIGZvciBlYXNpZXIgZGlzdGluY3Rpb24gd2hlbiBkZWJ1Z2dpbmcgaWYgb2JqZWN0IHR5cGUgaXMgc2hvd24gYXMgYSBVc2VyLiAgVHVybnMgYSBkZWxpbWl0ZWQgXCI7I1wiXG4gICAgICogc3RyaW5nIGludG8gYW4gb2JqZWN0IHNob3duIGJlbG93IGRlcGVpbmRpbmcgb24gZmllbGQgc2V0dGluZ3M6XG4gICAgICogPHByZT5cbiAgICAgKiB7XG4gICAgICAgICAqICAgICAgbG9va3VwSWQ6IDEsXG4gICAgICAgICAqICAgICAgbG9va3VwVmFsdWU6ICdKb2UgVXNlcidcbiAgICAgICAgICogfVxuICAgICAqIDwvcHJlPlxuICAgICAqIG9yXG4gICAgICogPHByZT5cbiAgICAgKiB7XG4gICAgICAgICAqICAgICAgbG9va3VwSWQ6IDEsXG4gICAgICAgICAqICAgICAgbG9va3VwVmFsdWU6ICdKb2UgVXNlcicsXG4gICAgICAgICAqICAgICAgbG9naW5OYW1lOiAnam9lLnVzZXInLFxuICAgICAgICAgKiAgICAgIGVtYWlsOiAnam9lQGNvbXBhbnkuY29tJyxcbiAgICAgICAgICogICAgICBzaXBBZGRyZXNzOiAnd2hhdGV2ZXInLFxuICAgICAgICAgKiAgICAgIHRpdGxlOiAnU3IuIFdpZGdldCBNYWtlcidcbiAgICAgICAgICogfVxuICAgICAqIDwvcHJlPlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzIERlbGltaXRlZCBzdHJpbmcgdXNlZCB0byBjcmVhdGUgYSBVc2VyIG9iamVjdC5cbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKi9cbiAgICBjbGFzcyBVc2VyIGltcGxlbWVudHMgSVVzZXJ7XG4gICAgICAgIGxvb2t1cFZhbHVlOiBzdHJpbmc7XG4gICAgICAgIGxvb2t1cElkOiBudW1iZXI7XG4gICAgICAgIGxvZ2luTmFtZTpzdHJpbmc7XG4gICAgICAgIGVtYWlsOnN0cmluZztcbiAgICAgICAgc2lwQWRkcmVzczpzdHJpbmc7XG4gICAgICAgIHRpdGxlOnN0cmluZztcbiAgICAgICAgY29uc3RydWN0b3Ioc3RyOnN0cmluZykge1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICAgICAgdmFyIHRoaXNVc2VyID0gbmV3IGFwVXRpbGl0eVNlcnZpY2UuU3BsaXRJbmRleChzdHIpO1xuXG4gICAgICAgICAgICB2YXIgdGhpc1VzZXJFeHBhbmRlZCA9IHRoaXNVc2VyLnZhbHVlLnNwbGl0KCcsIycpO1xuICAgICAgICAgICAgaWYgKHRoaXNVc2VyRXhwYW5kZWQubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgLy9TdGFuZGFyZCB1c2VyIGNvbHVtbnMgb25seSByZXR1cm4gYSBpZCwjdmFsdWUgcGFpclxuICAgICAgICAgICAgICAgIHNlbGYubG9va3VwSWQgPSB0aGlzVXNlci5pZDtcbiAgICAgICAgICAgICAgICBzZWxmLmxvb2t1cFZhbHVlID0gdGhpc1VzZXIudmFsdWU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vQWxsb3cgZm9yIGNhc2Ugd2hlcmUgdXNlciBhZGRzIGFkZGl0aW9uYWwgcHJvcGVydGllcyB3aGVuIHNldHRpbmcgdXAgZmllbGRcbiAgICAgICAgICAgICAgICBzZWxmLmxvb2t1cElkID0gdGhpc1VzZXIuaWQ7XG4gICAgICAgICAgICAgICAgc2VsZi5sb29rdXBWYWx1ZSA9IHRoaXNVc2VyRXhwYW5kZWRbMF0ucmVwbGFjZSgvKCwsKS9nLCAnLCcpO1xuICAgICAgICAgICAgICAgIHNlbGYubG9naW5OYW1lID0gdGhpc1VzZXJFeHBhbmRlZFsxXS5yZXBsYWNlKC8oLCwpL2csICcsJyk7XG4gICAgICAgICAgICAgICAgc2VsZi5lbWFpbCA9IHRoaXNVc2VyRXhwYW5kZWRbMl0ucmVwbGFjZSgvKCwsKS9nLCAnLCcpO1xuICAgICAgICAgICAgICAgIHNlbGYuc2lwQWRkcmVzcyA9IHRoaXNVc2VyRXhwYW5kZWRbM10ucmVwbGFjZSgvKCwsKS9nLCAnLCcpO1xuICAgICAgICAgICAgICAgIHNlbGYudGl0bGUgPSB0aGlzVXNlckV4cGFuZGVkWzRdLnJlcGxhY2UoLygsLCkvZywgJywnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuXG5cbiAgICBleHBvcnQgY2xhc3MgVXNlckZhY3Rvcnkge1xuICAgICAgICBVc2VyID0gVXNlcjtcbiAgICAgICAgY29uc3RydWN0b3IoJGluamVjdG9yKSB7XG4gICAgICAgICAgICBhcFV0aWxpdHlTZXJ2aWNlID0gJGluamVjdG9yLmdldCgnYXBVdGlsaXR5U2VydmljZScpO1xuXG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcFVzZXJGYWN0b3J5OmNyZWF0ZVxuICAgICAgICAgKiBAbWV0aG9kT2YgYW5ndWxhclBvaW50LmFwVXNlckZhY3RvcnlcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIEluc3RhbnRpYXRlcyBhbmQgcmV0dXJucyBhIG5ldyBVc2VyIGZpZWxkLlxuICAgICAgICAgKi9cbiAgICAgICAgY3JlYXRlKHMpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgVXNlcihzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcFVzZXJGYWN0b3J5XG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogVG9vbHMgdG8gYXNzaXN0IHdpdGggdGhlIGNyZWF0aW9uIG9mIENBTUwgcXVlcmllcy5cbiAgICAgKlxuICAgICAqL1xuICAgIGFuZ3VsYXIubW9kdWxlKCdhbmd1bGFyUG9pbnQnKVxuICAgICAgICAuc2VydmljZSgnYXBVc2VyRmFjdG9yeScsIFVzZXJGYWN0b3J5KTtcblxuXG59XG4iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy9hbmd1bGFyanMvYW5ndWxhci5kLnRzXCIgLz5cblxuXG5kZWNsYXJlIG1vZHVsZSBhcCB7XG5cblxuXG4gICAgZXhwb3J0IGludGVyZmFjZSBJTGlzdEl0ZW1DcnVkT3B0aW9uczxUPiB7XG4gICAgICAgIHRhcmdldDpJSW5kZXhlZENhY2hlPFQ+O1xuICAgIH1cblxuXG4gICAgZXhwb3J0IGludGVyZmFjZSBJTGlzdEl0ZW1WZXJzaW9uIGV4dGVuZHMgSUxpc3RJdGVtIHtcbiAgICAgICAgdmVyc2lvbjogRGF0ZTtcbiAgICB9XG5cbiAgICBleHBvcnQgaW50ZXJmYWNlIElXb3JrZmxvd0RlZmluaXRpb24ge1xuICAgICAgICBuYW1lOiBzdHJpbmc7XG4gICAgICAgIGluc3RhbnRpYXRpb25Vcmw6IHN0cmluZztcbiAgICAgICAgdGVtcGxhdGVJZDogc3RyaW5nO1xuICAgIH1cblxuICAgIGV4cG9ydCBpbnRlcmZhY2UgSVN0YXJ0V29ya2Zsb3dQYXJhbXMge1xuICAgICAgICBpdGVtOiBzdHJpbmc7XG4gICAgICAgIHRlbXBsYXRlSWQ6IHN0cmluZztcbiAgICAgICAgd29ya2Zsb3dQYXJhbWV0ZXJzPzogc3RyaW5nO1xuICAgICAgICBmaWxlUmVmPzogc3RyaW5nO1xuICAgICAgICB3b3JrZmxvd05hbWU/OiBzdHJpbmc7XG4gICAgfVxuXG4gICAgZXhwb3J0IGludGVyZmFjZSBJRGlzY3Vzc2lvblRocmVhZCB7XG4gICAgICAgIHBvc3RzOiBJRGlzY3Vzc2lvblRocmVhZFBvc3RbXTtcbiAgICAgICAgbmV4dElkOiBudW1iZXI7XG4gICAgICAgIGdldE5leHRJZCgpOiBudW1iZXI7XG4gICAgICAgIGNyZWF0ZVBvc3QocGFyZW50SWQ6IG51bWJlciwgY29udGVudDogc3RyaW5nKTogSURpc2N1c3Npb25UaHJlYWRQb3N0O1xuICAgICAgICBnZXRMaXN0SXRlbSgpOiBJTGlzdEl0ZW07XG4gICAgICAgIHBydW5lKCk6IHZvaWQ7XG4gICAgICAgIHNhdmVDaGFuZ2VzKCk6IG5nLklQcm9taXNlPElMaXN0SXRlbT47XG4gICAgfVxuXG4gICAgZXhwb3J0IGludGVyZmFjZSBJRGlzY3Vzc2lvblRocmVhZFBvc3Qge1xuICAgICAgICBjb250ZW50OiBzdHJpbmc7XG4gICAgICAgIGlkOiBudW1iZXI7XG4gICAgICAgIHBhcmVudElkOiBudW1iZXI7XG4gICAgICAgIGNyZWF0ZWQ6IERhdGU7XG4gICAgICAgIHVzZXI6IElVc2VyO1xuICAgICAgICByZW1vdmVQb3N0KCk6IHZvaWQ7XG4gICAgICAgIGRlbGV0ZVBvc3QoKTogbmcuSVByb21pc2U8SUxpc3RJdGVtPjtcbiAgICAgICAgc2F2ZVBvc3QoKTogbmcuSVByb21pc2U8SUxpc3RJdGVtPjtcbiAgICAgICAgcmVwbHkoKTogbmcuSVByb21pc2U8SUxpc3RJdGVtPjtcbiAgICB9XG5cbiAgICBleHBvcnQgaW50ZXJmYWNlIElDYWNoZTxUPiBleHRlbmRzIElJbmRleGVkQ2FjaGU8VD57XG4gICAgICAgIC8vVE9ETyBQb3B1bGF0ZSBtZSFcbiAgICB9XG5cbiAgICBleHBvcnQgaW50ZXJmYWNlIElVc2VyUGVybWlzc2lvbnNPYmplY3Qge1xuICAgICAgICBWaWV3TGlzdEl0ZW1zOiBib29sZWFuO1xuICAgICAgICBBZGRMaXN0SXRlbXM6IGJvb2xlYW47XG4gICAgICAgIEVkaXRMaXN0SXRlbXM6IGJvb2xlYW47XG4gICAgICAgIERlbGV0ZUxpc3RJdGVtczogYm9vbGVhbjtcbiAgICAgICAgQXBwcm92ZUl0ZW1zOiBib29sZWFuO1xuICAgICAgICBPcGVuSXRlbXM6IGJvb2xlYW47XG4gICAgICAgIFZpZXdWZXJzaW9uczogYm9vbGVhbjtcbiAgICAgICAgRGVsZXRlVmVyc2lvbnM6IGJvb2xlYW47XG4gICAgICAgIENhbmNlbENoZWNrb3V0OiBib29sZWFuO1xuICAgICAgICBQZXJzb25hbFZpZXdzOiBib29sZWFuO1xuICAgICAgICBNYW5hZ2VMaXN0czogYm9vbGVhbjtcbiAgICAgICAgVmlld0Zvcm1QYWdlczogYm9vbGVhbjtcbiAgICAgICAgT3BlbjogYm9vbGVhbjtcbiAgICAgICAgVmlld1BhZ2VzOiBib29sZWFuO1xuICAgICAgICBBZGRBbmRDdXN0b21pemVQYWdlczogYm9vbGVhbjtcbiAgICAgICAgQXBwbHlUaGVtZUFuZEJvcmRlcjogYm9vbGVhbjtcbiAgICAgICAgQXBwbHlTdHlsZVNoZWV0czogYm9vbGVhbjtcbiAgICAgICAgVmlld1VzYWdlRGF0YTogYm9vbGVhbjtcbiAgICAgICAgQ3JlYXRlU1NDU2l0ZTogYm9vbGVhbjtcbiAgICAgICAgTWFuYWdlU3Vid2ViczogYm9vbGVhbjtcbiAgICAgICAgQ3JlYXRlR3JvdXBzOiBib29sZWFuO1xuICAgICAgICBNYW5hZ2VQZXJtaXNzaW9uczogYm9vbGVhbjtcbiAgICAgICAgQnJvd3NlRGlyZWN0b3JpZXM6IGJvb2xlYW47XG4gICAgICAgIEJyb3dzZVVzZXJJbmZvOiBib29sZWFuO1xuICAgICAgICBBZGREZWxQcml2YXRlV2ViUGFydHM6IGJvb2xlYW47XG4gICAgICAgIFVwZGF0ZVBlcnNvbmFsV2ViUGFydHM6IGJvb2xlYW47XG4gICAgICAgIE1hbmFnZVdlYjogYm9vbGVhbjtcbiAgICAgICAgVXNlUmVtb3RlQVBJczogYm9vbGVhbjtcbiAgICAgICAgTWFuYWdlQWxlcnRzOiBib29sZWFuO1xuICAgICAgICBDcmVhdGVBbGVydHM6IGJvb2xlYW47XG4gICAgICAgIEVkaXRNeVVzZXJJbmZvOiBib29sZWFuO1xuICAgICAgICBFbnVtZXJhdGVQZXJtaXNzaW9uczogYm9vbGVhbjtcbiAgICAgICAgRnVsbE1hc2s6IGJvb2xlYW47XG4gICAgfVxuXG5cbn1cblxuaW50ZXJmYWNlIEpRdWVyeSB7XG4gICAgU1BGaWx0ZXJOb2RlKHN0cmluZyk7XG59XG5cbmludGVyZmFjZSBfIHtcbiAgICBpc0d1aWQoc3RyaW5nKTpib29sZWFuO1xuICAgIGRlZXBJbihPYmplY3QsIHN0cmluZyk6IGJvb2xlYW47XG4gICAgZGVlcEdldChPYmplY3QsIHN0cmluZyk6IGFueTtcbiAgICBpc0RlZmluZWQodmFsOmFueSk6IGJvb2xlYW47XG59XG5cbmludGVyZmFjZSBjaGFuY2Uge1xuXG59XG5cbmludGVyZmFjZSB3aW5kb3cge1xuICAgIFVSTDtcbiAgICBDaGFuY2U7XG59XG5cbmludGVyZmFjZSBJVG9hc3R7XG4gICAgdG9hc3RJZDpudW1iZXI7XG4gICAgc2NvcGU6bmcuSVNjb3BlO1xuICAgIGljb25DbGFzczpzdHJpbmc7XG59XG5cbmludGVyZmFjZSBJVG9hc3RyIHtcbiAgICBlcnJvcihtZXNzYWdlOiBzdHJpbmcsIHRpdGxlPzpzdHJpbmcsIG9wdGlvbnNPdmVycmlkZT86T2JqZWN0KTpJVG9hc3Q7XG4gICAgaW5mbyhtZXNzYWdlOiBzdHJpbmcsIHRpdGxlPzpzdHJpbmcsIG9wdGlvbnNPdmVycmlkZT86T2JqZWN0KTpJVG9hc3Q7XG4gICAgc3VjY2VzcyhtZXNzYWdlOiBzdHJpbmcsIHRpdGxlPzpzdHJpbmcsIG9wdGlvbnNPdmVycmlkZT86T2JqZWN0KTpJVG9hc3Q7XG4gICAgd2FybmluZyhtZXNzYWdlOiBzdHJpbmcsIHRpdGxlPzpzdHJpbmcsIG9wdGlvbnNPdmVycmlkZT86T2JqZWN0KTpJVG9hc3Q7XG4gICAgY2xlYXIoSVRvYXN0Pyk6dm9pZDtcbn1cbiIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90eXBpbmdzL2FwLmQudHNcIiAvPlxuXG5tb2R1bGUgYXAge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8qKiBMb2NhbCByZWZlcmVuY2VzIHRvIGNhY2hlZCBwcm9taXNlcyAqL1xuICAgIHZhciBfZ2V0R3JvdXBDb2xsZWN0aW9uLCBfZ2V0VXNlclByb2ZpbGU7XG5cbiAgICBjbGFzcyBVc2VyTW9kZWwge1xuICAgICAgICBjb25zdHJ1Y3Rvcihwcml2YXRlICRxOm5nLklRU2VydmljZSwgcHJpdmF0ZSBhcERhdGFTZXJ2aWNlOkRhdGFTZXJ2aWNlKSB7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAgICogQG5hbWUgYW5ndWxhclBvaW50LmFwVXNlck1vZGVsOmNoZWNrSWZNZW1iZXJcbiAgICAgICAgICogQG1ldGhvZE9mIGFuZ3VsYXJQb2ludC5hcFVzZXJNb2RlbFxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogQ2hlY2tzIHRvIHNlZSBpZiBjdXJyZW50IHVzZXIgaXMgYSBtZW1iZXIgb2YgdGhlIHNwZWNpZmllZCBncm91cC5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGdyb3VwTmFtZSBOYW1lIG9mIHRoZSBncm91cC5cbiAgICAgICAgICogQHBhcmFtIHtib29sZWFufSBbZm9yY2U9ZmFsc2VdIElnbm9yZSBhbnkgY2FjaGVkIHZhbHVlLlxuICAgICAgICAgKiBAcmV0dXJucyB7e0lEOnN0cmluZywgTmFtZTpzdHJpbmcsIERlc2NyaXB0aW9uOnN0cmluZywgT3duZXJJZDpzdHJpbmcsIE93bmVySXNVc2VyOnN0cmluZ319IElzIHRoZSB1c2VyIGEgbWVtYmVyIG9mIHRoZSBncm91cD9cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogPHByZT57SUQ6IFwiMTkwXCIsIE5hbWU6IFwiQmxvZyBDb250cmlidXRvcnNcIiwgRGVzY3JpcHRpb246IFwiV2UgYXJlIGJsb2dnZXJzLi4uXCIsIE93bmVySUQ6IFwiMTI2XCIsIE93bmVySXNVc2VyOiBcIkZhbHNlXCJ9PC9wcmU+XG4gICAgICAgICAqL1xuICAgICAgICBjaGVja0lmTWVtYmVyKGdyb3VwTmFtZTpzdHJpbmcsIGZvcmNlPzpib29sZWFuKSB7XG4gICAgICAgICAgICAvL0FsbG93IGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCBiZWZvcmUgZ3JvdXAgY29sbGVjdGlvbiBpcyByZWFkeVxuICAgICAgICAgICAgdmFyIGRlZmVycmVkID0gdGhpcy4kcS5kZWZlcigpO1xuXG4gICAgICAgICAgICAvL0luaXRpYWxseSBlbnN1cmUgZ3JvdXBzIGFyZSByZWFkeSwgYW55IGZ1dHVyZSBjYWxscyB3aWxsIHJlY2VpdmUgdGhlIHJldHVyblxuICAgICAgICAgICAgdGhpcy5nZXRHcm91cENvbGxlY3Rpb24oZm9yY2UpLnRoZW4oKGdyb3VwQ29sbGVjdGlvbikgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBncm91cERlZmluaXRpb24gPSBfLmZpbmQoZ3JvdXBDb2xsZWN0aW9uLCB7TmFtZTogZ3JvdXBOYW1lfSk7XG4gICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShncm91cERlZmluaXRpb24pO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBVc2VyTW9kZWw6Z2V0R3JvdXBDb2xsZWN0aW9uXG4gICAgICAgICAqIEBtZXRob2RPZiBhbmd1bGFyUG9pbnQuYXBVc2VyTW9kZWxcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIFJldHVybnMgdGhlIGdyb3VwIG5hbWVzIGZvciB0aGUgY3VycmVudCB1c2VyIGFuZCBjYWNoZXMgcmVzdWx0cy5cbiAgICAgICAgICogQHBhcmFtIHtib29sZWFufSBbZm9yY2U9ZmFsc2VdIElnbm9yZSBhbnkgY2FjaGVkIHZhbHVlLlxuICAgICAgICAgKiBAcmV0dXJucyB7c3RyaW5nW119IFByb21pc2Ugd2hpY2ggcmVzb2x2ZXMgd2l0aCB0aGUgYXJyYXkgb2YgZ3JvdXBzIHRoZSB1c2VyIGJlbG9uZ3MgdG8uXG4gICAgICAgICAqL1xuICAgICAgICBnZXRHcm91cENvbGxlY3Rpb24oZm9yY2U/OmJvb2xlYW4pIHtcbiAgICAgICAgICAgIGlmICghX2dldEdyb3VwQ29sbGVjdGlvbiB8fCBmb3JjZSkge1xuICAgICAgICAgICAgICAgIC8qKiBDcmVhdGUgYSBuZXcgZGVmZXJyZWQgb2JqZWN0IGlmIG5vdCBhbHJlYWR5IGRlZmluZWQgKi9cbiAgICAgICAgICAgICAgICB2YXIgZGVmZXJyZWQgPSB0aGlzLiRxLmRlZmVyKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5nZXRVc2VyUHJvZmlsZShmb3JjZSkudGhlbigodXNlclByb2ZpbGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hcERhdGFTZXJ2aWNlLmdldEdyb3VwQ29sbGVjdGlvbkZyb21Vc2VyKHVzZXJQcm9maWxlLnVzZXJMb2dpbk5hbWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbigoZ3JvdXBDb2xsZWN0aW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShncm91cENvbGxlY3Rpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgX2dldEdyb3VwQ29sbGVjdGlvbiA9IGRlZmVycmVkLnByb21pc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gX2dldEdyb3VwQ29sbGVjdGlvbjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAgICogQG5hbWUgYW5ndWxhclBvaW50LmFwVXNlck1vZGVsOmdldFVzZXJQcm9maWxlXG4gICAgICAgICAqIEBtZXRob2RPZiBhbmd1bGFyUG9pbnQuYXBVc2VyTW9kZWxcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIFJldHVybnMgdGhlIHVzZXIgcHJvZmlsZSBmb3IgdGhlIGN1cnJlbnQgdXNlciBhbmQgY2FjaGVzIHJlc3VsdHMuXG4gICAgICAgICAqIFB1bGwgdXNlciBwcm9maWxlIGluZm8gYW5kIHBhcnNlIGludG8gYSBwcm9maWxlIG9iamVjdFxuICAgICAgICAgKiBodHRwOi8vc3BzZXJ2aWNlcy5jb2RlcGxleC5jb20vd2lraXBhZ2U/dGl0bGU9R2V0VXNlclByb2ZpbGVCeU5hbWVcbiAgICAgICAgICogQHBhcmFtIHtib29sZWFufSBbZm9yY2U9ZmFsc2VdIElnbm9yZSBhbnkgY2FjaGVkIHZhbHVlLlxuICAgICAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSBQcm9taXNlIHdoaWNoIHJlc29sdmVzIHdpdGggdGhlIHJlcXVlc3RlZCB1c2VyIHByb2ZpbGUuXG4gICAgICAgICAqL1xuICAgICAgICBnZXRVc2VyUHJvZmlsZShmb3JjZT86Ym9vbGVhbikge1xuICAgICAgICAgICAgaWYgKCFfZ2V0VXNlclByb2ZpbGUgfHwgZm9yY2UpIHtcbiAgICAgICAgICAgICAgICAvKiogQ3JlYXRlIGEgbmV3IGRlZmVycmVkIG9iamVjdCBpZiBub3QgYWxyZWFkeSBkZWZpbmVkICovXG4gICAgICAgICAgICAgICAgX2dldFVzZXJQcm9maWxlID0gdGhpcy5hcERhdGFTZXJ2aWNlLmdldFVzZXJQcm9maWxlQnlOYW1lKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gX2dldFVzZXJQcm9maWxlO1xuICAgICAgICB9XG5cblxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBzZXJ2aWNlXG4gICAgICogQG5hbWUgYW5ndWxhclBvaW50LmFwVXNlck1vZGVsXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU2ltcGxlIHNlcnZpY2UgdGhhdCBhbGxvd3MgdXMgdG8gcmVxdWVzdCBhbmQgY2FjaGUgYm90aCB0aGUgY3VycmVudCB1c2VyIGFuZCB0aGVpciBncm91cCBtZW1iZXJzaGlwcy5cbiAgICAgKlxuICAgICAqIEByZXF1aXJlcyBhcERhdGFTZXJ2aWNlXG4gICAgICpcbiAgICAgKi9cbiAgICBhbmd1bGFyLm1vZHVsZSgnYW5ndWxhclBvaW50JylcbiAgICAgICAgLnNlcnZpY2UoJ2FwVXNlck1vZGVsJywgVXNlck1vZGVsKTtcblxufVxuIiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3MvYXAuZC50c1wiIC8+XG5cbm1vZHVsZSBhcCB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIHNlcnZpY2U6IENhY2hlU2VydmljZSwgJHE6IG5nLklRU2VydmljZSwgJGxvZzogbmcuSUxvZ1NlcnZpY2UsIGFwSW5kZXhlZENhY2hlRmFjdG9yeTogSW5kZXhlZENhY2hlRmFjdG9yeTtcblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBTdG9yZXMgbGlzdCBuYW1lcyB3aGVuIGEgbmV3IG1vZGVsIGlzIHJlZ2lzdGVyZWQgYWxvbmcgd2l0aCB0aGUgR1VJRCB0byBhbGxvdyB1cyB0b1xuICAgICAqICAgICByZXRyaWV2ZSB0aGUgR1VJRCBpbiBmdXR1cmVcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIDxwcmU+XG4gICAgICogICAgIGxpc3ROYW1lVG9JZE1hcCA9IHtcbiAgICAgICAgICogICAgICAgICAgbGlzdDFOYW1lOiB7XG4gICAgICAgICAqICAgICAgICAgICAgICBtb2RlbDogbGlzdDFNb2RlbCxcbiAgICAgICAgICogICAgICAgICAgICAgIGxpc3RJZDogbGlzdDFHVUlEXG4gICAgICAgICAqICAgICAgICAgIH0sXG4gICAgICAgICAqICAgICAgICAgIGxpc3QyTmFtZToge1xuICAgICAgICAgKiAgICAgICAgICAgICAgbW9kZWw6IGxpc3QyTW9kZWwsXG4gICAgICAgICAqICAgICAgICAgICAgICBsaXN0SWQ6IGxpc3QyR1VJRFxuICAgICAgICAgKiAgICAgICAgICB9XG4gICAgICAgICAqICAgICAgICAgIC4uLlxuICAgICAgICAgKiAgICAgfVxuICAgICAqIDwvcHJlPlxuICAgICAqL1xuICAgIHZhciBsaXN0TmFtZVRvSWRNYXAgPSB7fSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIFN0b3JlcyBsaXN0IEdVSUQgd2hlbiBhIG5ldyBtb2RlbCBpcyByZWdpc3RlcmVkIHdpdGggYSByZWZlcmVuY2UgdG8gdGhlIG1vZGVsIGZvclxuICAgICAgICAgKiAgICAgZnV0dXJlIHJlZmVyZW5jZS5cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogPHByZT5cbiAgICAgICAgICogICAgIGxpc3RzTWFwcGVkQnlMaXN0SWQgPSB7XG4gICAgICAgICAqICAgICAgICAgIGxpc3QxR1VJRDoge1xuICAgICAgICAgKiAgICAgICAgICAgICAgbW9kZWw6IGxpc3QxTW9kZWxcbiAgICAgICAgICogICAgICAgICAgfSxcbiAgICAgICAgICogICAgICAgICAgbGlzdDJHVUlEOiB7XG4gICAgICAgICAqICAgICAgICAgICAgICBtb2RlbDogbGlzdDJNb2RlbFxuICAgICAgICAgKiAgICAgICAgICB9XG4gICAgICAgICAqICAgICAgICAgIC4uLlxuICAgICAgICAgKiAgICAgfVxuICAgICAgICAgKiA8L3ByZT5cbiAgICAgICAgICovXG4gICAgICAgIGxpc3RzTWFwcGVkQnlMaXN0SWQgPSB7fSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBUaGUgTWFpbiBjYWNoZSBvYmplY3Qgd2hpY2ggc3RvcmVzIE1vZGVsQ2FjaGUgb2JqZWN0cy4gIEtleXMgYmVpbmcgdGhlIG1vZGVsIEdVSUQgYW5kXG4gICAgICAgICAqICAgICB2YWx1ZSBiZWluZyBhbiBhIE1vZGVsQ2FjaGUgb2JqZWN0XG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIDxwcmU+XG4gICAgICAgICAqICAgICBlbnRpdHlDYWNoZSA9IHtcbiAgICAgICAgICogICAgICAgICAgbGlzdDFHVUlEOiB7XG4gICAgICAgICAqICAgICAgICAgICAgICBpdGVtMUlEOiB7IC8vRW5pdHlDYWNoZSBmb3IgZW50aXR5IDFcbiAgICAgICAgICogICAgICAgICAgICAgICAgICBhc3NvY2lhdGlvblF1ZXVlOiBbXSxcbiAgICAgICAgICogICAgICAgICAgICAgICAgICB1cGRhdGVDb3VudDogMyxcbiAgICAgICAgICogICAgICAgICAgICAgICAgICBsaXN0SWQ6IGxpc3QxR1VJRCxcbiAgICAgICAgICogICAgICAgICAgICAgICAgICBlbnRpdHlJZDogaXRlbTFJRCxcbiAgICAgICAgICogICAgICAgICAgICAgICAgICBlbnRpdHlMb2NhdGlvbnM6IFtdLFxuICAgICAgICAgKiAgICAgICAgICAgICAgICAgIGVudGl0eToge30gLy9UaGlzIGlzIHdoZXJlIHRoZSBhY3R1YWwgZW50aXR5IGlzIHJlZmVyZW5jZWRcbiAgICAgICAgICogICAgICAgICAgICAgIH1cbiAgICAgICAgICogICAgICAgICAgICAgIGl0ZW0ySUQ6IHsgLy9Fbml0eUNhY2hlIGZvciBlbnRpdHkgMlxuICAgICAgICAgKiAgICAgICAgICAgICAgICAgIC4uLlxuICAgICAgICAgKiAgICAgICAgICAgICAgfVxuICAgICAgICAgKiAgICAgICAgICB9LFxuICAgICAgICAgKiAgICAgICAgICBsaXN0MkdVSUQ6IHtcbiAgICAgICAgICogICAgICAgICAgICAgIGl0ZW0xSUQ6IC4uLlxuICAgICAgICAgKiAgICAgICAgICB9XG4gICAgICAgICAqICAgICAgICAgIC4uLlxuICAgICAgICAgKiAgICAgfVxuICAgICAgICAgKiA8L3ByZT5cbiAgICAgICAgICovXG4gICAgICAgIGVudGl0eUNhY2hlID0ge307XG5cblxuICAgIC8qKlxuICAgICAqIEBuYW1lIEVudGl0eUNhY2hlXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogQ2FjaGUgY29uc3RydWN0b3IgdGhhdCBtYWludGFpbnMgYSBxdWV1ZSBvZiBhbGwgcmVxdWVzdHMgZm9yIGEgbGlzdCBpdGVtLCBjb3VudGVyIGZvciB0aGUgbnVtYmVyIG9mIHRpbWVzXG4gICAgICogdGhlIGNhY2hlIGhhcyBiZWVuIHVwZGF0ZWQsIHRpbWVzdGFtcCBvZiBsYXN0IHVwZGF0ZSwgYW5kIGFkZC91cGRhdGUvcmVtb3ZlIGZ1bmN0aW9uYWxpdHkuXG4gICAgICogQGNvbnN0cnVjdG9yIGFwQ2FjaGVTZXJ2aWNlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGxpc3RJZCBHVUlEIGZvciBsaXN0IHRoZSBsaXN0IGl0ZW0gYmVsb25ncyB0by5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW50aXR5SWQgVGhlIGVudGl0eS5pZC5cbiAgICAgKi9cbiAgICBjbGFzcyBFbnRpdHlDb250YWluZXIge1xuICAgICAgICBhc3NvY2lhdGlvblF1ZXVlID0gW107XG4gICAgICAgIGVudGl0eTtcbiAgICAgICAgZW50aXR5TG9jYXRpb25zID0gW107XG4gICAgICAgIGxpc3RJZDtcbiAgICAgICAgdXBkYXRlQ291bnQgPSAwO1xuXG4gICAgICAgIGNvbnN0cnVjdG9yKGxpc3RJZDogc3RyaW5nLCBwcml2YXRlIGVudGl0eUlkOiBudW1iZXIpIHtcbiAgICAgICAgICAgIHRoaXMubGlzdElkID0gc2VydmljZS5nZXRMaXN0SWQobGlzdElkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmFtZSBFbnRpdHlDb250YWluZXIuZ2V0RW50aXR5XG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBQcm9taXNlIHdoaWNoIHJldHVybnMgdGhlIHJlcXVlc3RlZCBlbnRpdHkgb25jZSBpdCBoYXMgYmVlbiByZWdpc3RlcmVkIGluIHRoZSBjYWNoZS5cbiAgICAgICAgICovXG4gICAgICAgIGdldEVudGl0eSgpIHtcbiAgICAgICAgICAgIHZhciBlbnRpdHlDb250YWluZXIgPSB0aGlzO1xuICAgICAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAgICAgICAgICAgIGlmIChlbnRpdHlDb250YWluZXIuZW50aXR5KSB7XG4gICAgICAgICAgICAgICAgLyoqIEVudGl0eSBhbHJlYWR5IGV4aXN0cyBzbyByZXNvbHZlIGltbWVkaWF0ZWx5ICovXG4gICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShlbnRpdHlDb250YWluZXIuZW50aXR5KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZW50aXR5Q29udGFpbmVyLmFzc29jaWF0aW9uUXVldWUucHVzaChkZWZlcnJlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgcmVtb3ZlRW50aXR5KCkge1xuICAgICAgICAgICAgdmFyIGVudGl0eUNvbnRhaW5lciA9IHRoaXM7XG4gICAgICAgICAgICBzZXJ2aWNlLnJlbW92ZUVudGl0eShlbnRpdHlDb250YWluZXIubGlzdElkLCBlbnRpdHlDb250YWluZXIuZW50aXR5SWQpO1xuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmFtZSBNb2RlbENhY2hlXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogQ2FjaGUgb2YgRW50aXR5IENvbnRhaW5lcnMgZm9yIGVhY2ggcmVnaXN0ZXJlZCBlbnRpdHkgcmV0cmlldmVkIGJ5IHRoZSBtb2RlbC5cbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKi9cbiAgICBjbGFzcyBNb2RlbENhY2hlIGV4dGVuZHMgSW5kZXhlZENhY2hlIHtcblxuICAgIH1cblxuICAgIGV4cG9ydCBjbGFzcyBDYWNoZVNlcnZpY2Uge1xuICAgICAgICBlbnRpdHlDYWNoZSA9IGVudGl0eUNhY2hlO1xuICAgICAgICBjb25zdHJ1Y3RvcigkaW5qZWN0b3IpIHtcbiAgICAgICAgICAgICRxID0gJGluamVjdG9yLmdldCgnJHEnKTtcbiAgICAgICAgICAgICRsb2cgPSAkaW5qZWN0b3IuZ2V0KCckbG9nJyk7XG4gICAgICAgICAgICBhcEluZGV4ZWRDYWNoZUZhY3RvcnkgPSAkaW5qZWN0b3IuZ2V0KCdhcEluZGV4ZWRDYWNoZUZhY3RvcnknKTtcbiAgICAgICAgICAgIHNlcnZpY2UgPSB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBDYWNoZVNlcnZpY2U6ZGVsZXRlRW50aXR5XG4gICAgICAgICAqIEBtZXRob2RPZiBhbmd1bGFyUG9pbnQuYXBDYWNoZVNlcnZpY2VcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIERlbGV0ZXMgYWxsIHJlZmVyZW5jZXMgdG8gYW4gZW50aXR5LlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbGlzdElkIEdVSUQgZm9yIGxpc3QgdGhlIGxpc3QgaXRlbSBiZWxvbmdzIHRvLlxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gZW50aXR5SWQgVGhlIGVudGl0eS5pZC5cbiAgICAgICAgICovXG4gICAgICAgIGRlbGV0ZUVudGl0eShsaXN0SWQ6IHN0cmluZywgZW50aXR5SWQ6IG51bWJlcik6IHZvaWQge1xuICAgICAgICAgICAgdmFyIGVudGl0eVR5cGVLZXkgPSB0aGlzLmdldExpc3RJZChsaXN0SWQpO1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVFbnRpdHkoZW50aXR5VHlwZUtleSwgZW50aXR5SWQpO1xuICAgICAgICAgICAgdmFyIG1vZGVsID0gdGhpcy5nZXRNb2RlbChlbnRpdHlUeXBlS2V5KTtcbiAgICAgICAgICAgIF8uZWFjaChtb2RlbC5xdWVyaWVzLCAocXVlcnkpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgY2FjaGUgPSBxdWVyeS5nZXRDYWNoZSgpO1xuICAgICAgICAgICAgICAgIGNhY2hlLnJlbW92ZUVudGl0eShlbnRpdHlJZCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAgICogQG5hbWUgYW5ndWxhclBvaW50LmFwQ2FjaGVTZXJ2aWNlOmdldENhY2hlZEVudGl0aWVzXG4gICAgICAgICAqIEBtZXRob2RPZiBhbmd1bGFyUG9pbnQuYXBDYWNoZVNlcnZpY2VcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIFJldHVybnMgYWxsIGVudGl0aWVzIGZvciBhIGdpdmVuIG1vZGVsIGFzIGFuIGluZGV4ZWQgY2FjaGUgd2l0aCBrZXlzIGJlaW5nIHRoZSBlbnRpdHkgaWQncy5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGxpc3RJZCBHVUlEIGZvciBsaXN0IHRoZSBsaXN0IGl0ZW0gYmVsb25ncyB0by5cbiAgICAgICAgICogQHJldHVybnMge29iamVjdH0gSW5kZXhlZCBjYWNoZSBjb250YWluaW5nIGFsbCBlbnRpdGllcyBmb3IgYSBtb2RlbC5cbiAgICAgICAgICovXG4gICAgICAgIGdldENhY2hlZEVudGl0aWVzKGxpc3RJZDogc3RyaW5nKTogSUluZGV4ZWRDYWNoZSB7XG4gICAgICAgICAgICB2YXIgbW9kZWxDYWNoZSA9IHRoaXMuZ2V0TW9kZWxDYWNoZShsaXN0SWQpLFxuICAgICAgICAgICAgICAgIGFsbEVudGl0aWVzID0gYXBJbmRleGVkQ2FjaGVGYWN0b3J5LmNyZWF0ZSgpO1xuICAgICAgICAgICAgXy5lYWNoKG1vZGVsQ2FjaGUsIChlbnRpdHlDb250YWluZXIpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZW50aXR5Q29udGFpbmVyLmVudGl0eSAmJiBlbnRpdHlDb250YWluZXIuZW50aXR5LmlkKSB7XG4gICAgICAgICAgICAgICAgICAgIGFsbEVudGl0aWVzLmFkZEVudGl0eShlbnRpdHlDb250YWluZXIuZW50aXR5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBhbGxFbnRpdGllcztcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAgICogQG5hbWUgYW5ndWxhclBvaW50LmFwQ2FjaGVTZXJ2aWNlOmdldENhY2hlZEVudGl0eVxuICAgICAgICAgKiBAbWV0aG9kT2YgYW5ndWxhclBvaW50LmFwQ2FjaGVTZXJ2aWNlXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBTeW5jaHJvbmlzZSBjYWxsIHRvIHJldHVybiBhIGNhY2hlZCBlbnRpdHk7XG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsaXN0SWQgR1VJRCBmb3IgbGlzdCB0aGUgbGlzdCBpdGVtIGJlbG9uZ3MgdG8uXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbnRpdHlJZCBUaGUgZW50aXR5LmlkLlxuICAgICAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSBlbnRpdHkgfHwgdW5kZWZpbmVkXG4gICAgICAgICAqL1xuICAgICAgICBnZXRDYWNoZWRFbnRpdHkobGlzdElkOiBzdHJpbmcsIGVudGl0eUlkOiBudW1iZXIpOiBJTGlzdEl0ZW0ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RW50aXR5Q29udGFpbmVyKGxpc3RJZCwgZW50aXR5SWQpLmVudGl0eTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAgICogQG5hbWUgYW5ndWxhclBvaW50LmFwQ2FjaGVTZXJ2aWNlOmdldEVudGl0eVxuICAgICAgICAgKiBAbWV0aG9kT2YgYW5ndWxhclBvaW50LmFwQ2FjaGVTZXJ2aWNlXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBSZXR1cm5zIGEgZGVmZXJyZWQgb2JqZWN0IHRoYXQgcmVzb2x2ZXMgd2l0aCB0aGUgcmVxdWVzdGVkIGVudGl0eSBpbW1lZGlhdGVseSBpZiBhbHJlYWR5IHByZXNlbnQgb3IgYXRcbiAgICAgICAgICogICAgIHNvbWUgcG9pbnQgaW4gdGhlIGZ1dHVyZSBhc3N1bWluZyB0aGUgZW50aXR5IGlzIGV2ZW50dWFsbHkgcmVnaXN0ZXJlZC5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGxpc3RJZCBHVUlEIGZvciBsaXN0IHRoZSBsaXN0IGl0ZW0gYmVsb25ncyB0by5cbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IGVudGl0eUlkIFRoZSBlbnRpdHkuaWQuXG4gICAgICAgICAqIEByZXR1cm5zIHtwcm9taXNlfSBlbnRpdHlcbiAgICAgICAgICovXG4gICAgICAgIGdldEVudGl0eShsaXN0SWQ6IHN0cmluZywgZW50aXR5SWQ6IG51bWJlcik6IG5nLklQcm9taXNlPElMaXN0SXRlbT4ge1xuICAgICAgICAgICAgdmFyIGVudGl0eUNvbnRhaW5lciA9IHRoaXMuZ2V0RW50aXR5Q29udGFpbmVyKGxpc3RJZCwgZW50aXR5SWQpO1xuICAgICAgICAgICAgcmV0dXJuIGVudGl0eUNvbnRhaW5lci5nZXRFbnRpdHkoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGdldEVudGl0eUNvbnRhaW5lcihsaXN0SWQ6IHN0cmluZywgZW50aXR5SWQ6IG51bWJlcik6IEVudGl0eUNvbnRhaW5lciB7XG4gICAgICAgICAgICB2YXIgZW50aXR5VHlwZUtleSA9IHRoaXMuZ2V0TGlzdElkKGxpc3RJZCk7XG4gICAgICAgICAgICB2YXIgbW9kZWxDYWNoZSA9IHRoaXMuZ2V0TW9kZWxDYWNoZShlbnRpdHlUeXBlS2V5KTtcbiAgICAgICAgICAgIC8qKiBDcmVhdGUgdGhlIG9iamVjdCBzdHJ1Y3R1cmUgaWYgaXQgZG9lc24ndCBhbHJlYWR5IGV4aXN0ICovXG4gICAgICAgICAgICBtb2RlbENhY2hlW2VudGl0eUlkXSA9IG1vZGVsQ2FjaGVbZW50aXR5SWRdIHx8IG5ldyBFbnRpdHlDb250YWluZXIoZW50aXR5VHlwZUtleSwgZW50aXR5SWQpO1xuICAgICAgICAgICAgcmV0dXJuIG1vZGVsQ2FjaGVbZW50aXR5SWRdO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBDYWNoZVNlcnZpY2U6Z2V0TGlzdElkXG4gICAgICAgICAqIEBtZXRob2RPZiBhbmd1bGFyUG9pbnQuYXBDYWNoZVNlcnZpY2VcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIEFsbG93cyB1cyB0byB1c2UgZWl0aGVyIHRoZSBMaXN0IE5hbWUgb3IgdGhlIGxpc3QgR1VJRCBhbmQgcmV0dXJucyB0aGUgbG93ZXJjYXNlIEdVSURcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGtleVN0cmluZyBMaXN0IEdVSUQgb3IgbmFtZS5cbiAgICAgICAgICogQHJldHVybnMge3N0cmluZ30gTG93ZXJjYXNlIGxpc3QgR1VJRC5cbiAgICAgICAgICovXG4gICAgICAgIGdldExpc3RJZChrZXlTdHJpbmc6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgICAgICBpZiAoXy5pc0d1aWQoa2V5U3RyaW5nKSkge1xuICAgICAgICAgICAgICAgIC8qKiBHVUlEICovXG4gICAgICAgICAgICAgICAgcmV0dXJuIGtleVN0cmluZy50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvKiogTGlzdCBUaXRsZSAqL1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldExpc3RJZEZyb21MaXN0TmFtZShrZXlTdHJpbmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBDYWNoZVNlcnZpY2U6Z2V0TGlzdElkRnJvbUxpc3ROYW1lXG4gICAgICAgICAqIEBtZXRob2RPZiBhbmd1bGFyUG9pbnQuYXBDYWNoZVNlcnZpY2VcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIEFsbG93cyB1cyB0byBsb29rdXAgYW4gZW50aXR5IGNhY2hlIHVzaW5nIHRoZSBuYW1lIG9mIHRoZSBsaXN0IGluc3RlYWQgb2YgdGhlIEdVSUQuXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBsaXN0LlxuICAgICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBHVUlEIGZvciB0aGUgbGlzdC5cbiAgICAgICAgICovXG4gICAgICAgIGdldExpc3RJZEZyb21MaXN0TmFtZShuYW1lOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICAgICAgdmFyIGd1aWQ7XG4gICAgICAgICAgICBpZiAobGlzdE5hbWVUb0lkTWFwW25hbWVdICYmIGxpc3ROYW1lVG9JZE1hcFtuYW1lXS5saXN0SWQpIHtcbiAgICAgICAgICAgICAgICBndWlkID0gbGlzdE5hbWVUb0lkTWFwW25hbWVdLmxpc3RJZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBndWlkO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBDYWNoZVNlcnZpY2U6Z2V0TW9kZWxcbiAgICAgICAgICogQG1ldGhvZE9mIGFuZ3VsYXJQb2ludC5hcENhY2hlU2VydmljZVxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogQWxsb3dzIHVzIHRvIHJldHJpZXZlIGEgcmVmZXJlbmNlIHRvIGEgZ2l2ZW4gbW9kZWwgYnkgZWl0aGVyIHRoZSBsaXN0IHRpdGxlIG9yIGxpc3QgR1VJRC5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGxpc3RJZCBMaXN0IHRpdGxlIG9yIGxpc3QgR1VJRC5cbiAgICAgICAgICogQHJldHVybnMge29iamVjdH0gQSByZWZlcmVuY2UgdG8gdGhlIHJlcXVlc3RlZCBtb2RlbC5cbiAgICAgICAgICovXG4gICAgICAgIGdldE1vZGVsKGxpc3RJZDogc3RyaW5nKTogSU1vZGVsIHtcbiAgICAgICAgICAgIHZhciBtb2RlbCxcbiAgICAgICAgICAgICAgICBlbnRpdHlUeXBlS2V5ID0gdGhpcy5nZXRMaXN0SWQobGlzdElkKTtcblxuICAgICAgICAgICAgaWYgKGxpc3RzTWFwcGVkQnlMaXN0SWRbZW50aXR5VHlwZUtleV0pIHtcbiAgICAgICAgICAgICAgICBtb2RlbCA9IGxpc3RzTWFwcGVkQnlMaXN0SWRbZW50aXR5VHlwZUtleV0ubW9kZWw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbW9kZWw7XG4gICAgICAgIH1cblxuICAgICAgICAvKiogTG9jYXRlcyB0aGUgc3RvcmVkIGNhY2hlIGZvciBhIG1vZGVsICovXG4gICAgICAgIGdldE1vZGVsQ2FjaGUobGlzdElkOiBzdHJpbmcpOiBNb2RlbENhY2hlIHtcbiAgICAgICAgICAgIHZhciBlbnRpdHlUeXBlS2V5ID0gdGhpcy5nZXRMaXN0SWQobGlzdElkKTtcbiAgICAgICAgICAgIGVudGl0eUNhY2hlW2VudGl0eVR5cGVLZXldID0gZW50aXR5Q2FjaGVbZW50aXR5VHlwZUtleV0gfHwgbmV3IE1vZGVsQ2FjaGUoKTtcbiAgICAgICAgICAgIHJldHVybiBlbnRpdHlDYWNoZVtlbnRpdHlUeXBlS2V5XTtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBDYWNoZVNlcnZpY2U6cmVnaXN0ZXJFbnRpdHlcbiAgICAgICAgICogQG1ldGhvZE9mIGFuZ3VsYXJQb2ludC5hcENhY2hlU2VydmljZVxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogUmVnaXN0ZXJzIGFuIGVudGl0eSBpbiB0aGUgY2FjaGUgYW5kIGZ1bGZpbGxzIGFueSBwZW5kaW5nIGRlZmVycmVkIHJlcXVlc3RzIGZvciB0aGUgZW50aXR5LiBJZiB0aGVcbiAgICAgICAgICogZW50aXR5IGFscmVhZHkgZXhpc3RzIGluIHRoZSBjYWNoZSwgd2UgZXh0ZW5kIHRoZSBleGlzdGluZyBvYmplY3Qgd2l0aCB0aGUgdXBkYXRlZCBlbnRpdHkgYW5kIHJldHVybiBhXG4gICAgICAgICAqIHJlZmVyZW5jZSB0byB0aGlzIHVwZGF0ZWQgb2JqZWN0IHNvIHRoZSB0aGVyZSBpcyBvbmx5IGEgc2luZ2xlIGluc3RhbmNlIG9mIHRoaXMgZW50aXR5IHdpdGhpbmcgdGhlIGNhY2hlLlxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gZW50aXR5IFBhc3MgaW4gYSBuZXdseSBjcmVhdGVkIGVudGl0eSB0byBhZGQgdG8gdGhlIGNhY2hlLlxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gW3RhcmdldENhY2hlXSBPcHRpb25hbGx5IHBhc3MgaW4gYSBzZWNvbmRhcnkgY2FjaGUgdG8gYWRkIGEgcmVmZXJlbmNlIHRvIHRoaXMgZW50aXR5LlxuICAgICAgICAgKi9cbiAgICAgICAgcmVnaXN0ZXJFbnRpdHkoZW50aXR5OiBJTGlzdEl0ZW0sIHRhcmdldENhY2hlPzogSUluZGV4ZWRDYWNoZSk6IElMaXN0SXRlbSB7XG4gICAgICAgICAgICB2YXIgbW9kZWwgPSBlbnRpdHkuZ2V0TW9kZWwoKTtcbiAgICAgICAgICAgIHZhciBlbnRpdHlDb250YWluZXIgPSB0aGlzLmdldEVudGl0eUNvbnRhaW5lcihtb2RlbC5saXN0LmdldExpc3RJZCgpLCBlbnRpdHkuaWQpO1xuICAgICAgICAgICAgLyoqIE1haW50YWluIGEgc2luZ2xlIG9iamVjdCBpbiBjYWNoZSBmb3IgdGhpcyBlbnRpdHkgKi9cbiAgICAgICAgICAgIGlmICghXy5pc09iamVjdChlbnRpdHlDb250YWluZXIuZW50aXR5KSkge1xuICAgICAgICAgICAgICAgIC8qKiBFbnRpdHkgaXNuJ3QgY3VycmVudGx5IGluIHRoZSBjYWNoZSAqL1xuICAgICAgICAgICAgICAgIGVudGl0eUNvbnRhaW5lci5lbnRpdHkgPSBlbnRpdHk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8qKiBBbHJlYWR5IGV4aXN0cyBzbyB1cGRhdGUgdG8gbWFpbnRhaW4gYW55IG90aGVyIHJlZmVyZW5jZXMgYmVpbmcgdXNlZCBmb3IgdGhpcyBlbnRpdHkuICovXG4gICAgICAgICAgICAgICAgICAgIC8vVE9ETyBMb29rIGF0IHBlcmZvcm1hbmNlIGhpdCBmcm9tIGV4dGVuZGluZyBhbmQgc2VlIGlmIGl0IHdvdWxkIGJlIGFjY2VwdGFibGUganVzdCB0byByZXBsYWNlXG4gICAgICAgICAgICAgICAgXy5hc3NpZ24oZW50aXR5Q29udGFpbmVyLmVudGl0eSwgZW50aXR5KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLyoqIENvdW50ZXIgdG8ga2VlcCB0cmFjayBvZiB0aGUgbnVtYmVyIG9mIHVwZGF0ZXMgZm9yIHRoaXMgZW50aXR5ICovXG4gICAgICAgICAgICBlbnRpdHlDb250YWluZXIudXBkYXRlQ291bnQrKztcblxuICAgICAgICAgICAgaWYgKF8uaXNPYmplY3QodGFyZ2V0Q2FjaGUpICYmICFfLmlzQXJyYXkodGFyZ2V0Q2FjaGUpICYmICF0YXJnZXRDYWNoZVtlbnRpdHkuaWRdICkge1xuICAgICAgICAgICAgICAgIC8qKiBFbnRpdHkgaGFzbid0IGJlZW4gYWRkZWQgdG8gdGhlIHRhcmdldCBjYWNoZSB5ZXQgKi9cbiAgICAgICAgICAgICAgICB0YXJnZXRDYWNoZVtlbnRpdHkuaWRdID0gZW50aXR5Q29udGFpbmVyLmVudGl0eTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLyoqIFJlc29sdmUgYW55IHJlcXVlc3RzIGZvciB0aGlzIGVudGl0eSAqL1xuICAgICAgICAgICAgXy5lYWNoKGVudGl0eUNvbnRhaW5lci5hc3NvY2lhdGlvblF1ZXVlLCAoZGVmZXJyZWRSZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICAgICAgZGVmZXJyZWRSZXF1ZXN0LnJlc29sdmUoZW50aXR5Q29udGFpbmVyLmVudGl0eSk7XG4gICAgICAgICAgICAgICAgLyoqIFJlbW92ZSByZXF1ZXN0IGZyb20gcXVldWUgKi9cbiAgICAgICAgICAgICAgICBlbnRpdHlDb250YWluZXIuYXNzb2NpYXRpb25RdWV1ZS5zaGlmdCgpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBlbnRpdHlDb250YWluZXIuZW50aXR5O1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBDYWNoZVNlcnZpY2U6cmVnaXN0ZXJNb2RlbFxuICAgICAgICAgKiBAbWV0aG9kT2YgYW5ndWxhclBvaW50LmFwQ2FjaGVTZXJ2aWNlXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBDcmVhdGVzIGEgbmV3IE1vZGVsQ2FjaGUgZm9yIHRoZSBwcm92aWRlIG1vZGVsIHdoZXJlIGFsbCBsaXN0IGl0ZW1zIHdpbGwgYmUgc3RvcmVkIHdpdGggdGhlIGtleSBlcXVhbGluZ1xuICAgICAgICAgKiB0aGUgZW50aXR5IGlkJ3MgYW5kIHZhbHVlIGJlaW5nIGEgRW50aXR5Q29udGFpbmVyLiAgVGhlIGVudGl0eSBpcyBzdG9yZWQgYXQgRW50aXR5Q29udGFpbmVyLmVudGl0eS5cbiAgICAgICAgICogQHBhcmFtIHtvYmplY3R9IG1vZGVsIE1vZGVsIHRvIGNyZWF0ZSB0aGUgY2FjaGUgZm9yLlxuICAgICAgICAgKi9cbiAgICAgICAgcmVnaXN0ZXJNb2RlbChtb2RlbDogSU1vZGVsKTogdm9pZCB7XG4gICAgICAgICAgICBpZiAobW9kZWwubGlzdCAmJiBtb2RlbC5saXN0LmdldExpc3RJZCgpICYmIG1vZGVsLmxpc3QudGl0bGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgbGlzdElkID0gbW9kZWwubGlzdC5nZXRMaXN0SWQoKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgIC8qKiBTdG9yZSBhIHJlZmVyZW5jZSB0byB0aGUgbW9kZWwgYnkgbGlzdCB0aXRsZSAqL1xuICAgICAgICAgICAgICAgIGxpc3ROYW1lVG9JZE1hcFttb2RlbC5saXN0LnRpdGxlXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgbW9kZWw6IG1vZGVsLFxuICAgICAgICAgICAgICAgICAgICBsaXN0SWQ6IGxpc3RJZFxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKiogU3RvcmUgYSByZWZlcmVuY2UgdG8gdGhlIG1vZGVsIGJ5IGxpc3QgZ3VpZCAqL1xuICAgICAgICAgICAgICAgIGxpc3RzTWFwcGVkQnlMaXN0SWRbbGlzdElkXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgbW9kZWw6IG1vZGVsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAgICogQG5hbWUgYW5ndWxhclBvaW50LmFwQ2FjaGVTZXJ2aWNlOnJlbW92ZUVudGl0eVxuICAgICAgICAgKiBAbWV0aG9kT2YgYW5ndWxhclBvaW50LmFwQ2FjaGVTZXJ2aWNlXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBSZW1vdmVzIHRoZSBlbnRpdHkgZnJvbSB0aGUgbG9jYWwgZW50aXR5IGNhY2hlLlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbGlzdElkIEdVSUQgZm9yIGxpc3QgdGhlIGxpc3QgaXRlbSBiZWxvbmdzIHRvLlxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gZW50aXR5SWQgVGhlIGVudGl0eS5pZC5cbiAgICAgICAgICovXG4gICAgICAgIHJlbW92ZUVudGl0eShsaXN0SWQ6IHN0cmluZywgZW50aXR5SWQ6IG51bWJlcik6IHZvaWQge1xuICAgICAgICAgICAgdmFyIG1vZGVsQ2FjaGUgPSB0aGlzLmdldE1vZGVsQ2FjaGUobGlzdElkKTtcbiAgICAgICAgICAgIGlmIChtb2RlbENhY2hlW2VudGl0eUlkXSkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBtb2RlbENhY2hlW2VudGl0eUlkXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG5cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2Mgc2VydmljZVxuICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcENhY2hlU2VydmljZVxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFN0b3JlcyBhIHJlZmVyZW5jZSBmb3IgYWxsIGxpc3QgaXRlbXMgYmFzZWQgb24gbGlzdCBHVUlEIGFuZCBsaXN0IGl0ZW0gaWQuICBBbGxvd3MgdXMgdG8gdGhlbiByZWdpc3RlciBwcm9taXNlc1xuICAgICAqICAgICB0aGF0IHJlc29sdmUgb25jZSBhIHJlcXVlc3RlZCBsaXN0IGl0ZW0gaXMgcmVnaXN0ZXJlZCBpbiB0aGUgZnV0dXJlLlxuICAgICAqL1xuICAgIGFuZ3VsYXIubW9kdWxlKCdhbmd1bGFyUG9pbnQnKVxuICAgICAgICAuc2VydmljZSgnYXBDYWNoZVNlcnZpY2UnLCBDYWNoZVNlcnZpY2UpO1xuXG59XG4iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy9hcC5kLnRzXCIgLz5cblxubW9kdWxlIGFwIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2Mgc2VydmljZVxuICAgICAqIEBuYW1lIGFwQ2hhbmdlU2VydmljZVxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFByaW1hcmlseSB1c2VkIGZvciBhcE1vY2tCYWNrZW5kIHNvIHdlIGNhbiBrbm93IHdoYXQgdG8gZXhwZWN0IGJlZm9yZSBhbiBhdHRlbXB0IHRvIHVwZGF0ZSBhIGxpc3RcbiAgICAgKiBpdGVtIGlzIGludGVyY2VwdGVkLlxuICAgICAqL1xuICAgIGV4cG9ydCBjbGFzcyBDaGFuZ2VTZXJ2aWNle1xuICAgICAgICBjYWxsYmFja1F1ZXVlID0gW107XG4gICAgICAgIHJlZ2lzdGVyTGlzdEl0ZW1VcGRhdGUoZW50aXR5LCBvcHRpb25zLCBwcm9taXNlKSB7XG4gICAgICAgICAgICBfLmVhY2godGhpcy5jYWxsYmFja1F1ZXVlLCAoY2FsbGJhY2spID0+IHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhlbnRpdHksIG9wdGlvbnMsIHByb21pc2UpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgc3Vic2NyaWJlVG9VcGRhdGVzKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICB0aGlzLmNhbGxiYWNrUXVldWUucHVzaChjYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2FuZ3VsYXJQb2ludCcpXG4gICAgICAgIC5zZXJ2aWNlKCdhcENoYW5nZVNlcnZpY2UnLCBDaGFuZ2VTZXJ2aWNlKTtcblxufVxuIiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3MvYXAuZC50c1wiIC8+XG5cbm1vZHVsZSBhcCB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIHNlcnZpY2U6IERhdGFTZXJ2aWNlLCAkcTogbmcuSVFTZXJ2aWNlLCAkdGltZW91dCwgJGh0dHA6IG5nLklIdHRwU2VydmljZSwgYXBDb25maWc6IElBUENvbmZpZyxcbiAgICAgICAgYXBVdGlsaXR5U2VydmljZTogVXRpbGl0eVNlcnZpY2UsIGFwQ2FjaGVTZXJ2aWNlOiBDYWNoZVNlcnZpY2UsIGFwRGVjb2RlU2VydmljZTogRGVjb2RlU2VydmljZSxcbiAgICAgICAgYXBFbmNvZGVTZXJ2aWNlOiBFbmNvZGVTZXJ2aWNlLCBhcEZpZWxkU2VydmljZTogRmllbGRTZXJ2aWNlLCBhcEluZGV4ZWRDYWNoZUZhY3Rvcnk6IEluZGV4ZWRDYWNoZUZhY3RvcnksXG4gICAgICAgIHRvYXN0ciwgU1BTZXJ2aWNlcywgYXBEZWZhdWx0TGlzdEl0ZW1RdWVyeU9wdGlvbnMsIGFwV2ViU2VydmljZU9wZXJhdGlvbkNvbnN0YW50cywgYXBYTUxUb0pTT05TZXJ2aWNlLFxuICAgICAgICBhcENoYW5nZVNlcnZpY2U6IENoYW5nZVNlcnZpY2U7XG5cbiAgICBleHBvcnQgY2xhc3MgRGF0YVNlcnZpY2Uge1xuICAgICAgICBxdWVyeUZvckN1cnJlbnRTaXRlOiBuZy5JUHJvbWlzZTxzdHJpbmc+O1xuXG4gICAgICAgIGNvbnN0cnVjdG9yKCRpbmplY3Rvcikge1xuICAgICAgICAgICAgc2VydmljZSA9IHRoaXM7XG4gICAgICAgICAgICAkaHR0cCA9ICRpbmplY3Rvci5nZXQoJyRodHRwJyk7XG4gICAgICAgICAgICAkcSA9ICRpbmplY3Rvci5nZXQoJyRxJyk7XG4gICAgICAgICAgICAkdGltZW91dCA9ICRpbmplY3Rvci5nZXQoJyR0aW1lb3V0Jyk7XG4gICAgICAgICAgICBhcENhY2hlU2VydmljZSA9ICRpbmplY3Rvci5nZXQoJ2FwQ2FjaGVTZXJ2aWNlJyk7XG4gICAgICAgICAgICBhcENoYW5nZVNlcnZpY2UgPSAkaW5qZWN0b3IuZ2V0KCdhcENoYW5nZVNlcnZpY2UnKTtcbiAgICAgICAgICAgIGFwQ29uZmlnID0gJGluamVjdG9yLmdldCgnYXBDb25maWcnKTtcbiAgICAgICAgICAgIGFwRGVjb2RlU2VydmljZSA9ICRpbmplY3Rvci5nZXQoJ2FwRGVjb2RlU2VydmljZScpO1xuICAgICAgICAgICAgYXBEZWZhdWx0TGlzdEl0ZW1RdWVyeU9wdGlvbnMgPSAkaW5qZWN0b3IuZ2V0KCdhcERlZmF1bHRMaXN0SXRlbVF1ZXJ5T3B0aW9ucycpO1xuICAgICAgICAgICAgYXBFbmNvZGVTZXJ2aWNlID0gJGluamVjdG9yLmdldCgnYXBFbmNvZGVTZXJ2aWNlJyk7XG4gICAgICAgICAgICBhcEZpZWxkU2VydmljZSA9ICRpbmplY3Rvci5nZXQoJ2FwRmllbGRTZXJ2aWNlJyk7XG4gICAgICAgICAgICBhcEluZGV4ZWRDYWNoZUZhY3RvcnkgPSAkaW5qZWN0b3IuZ2V0KCdhcEluZGV4ZWRDYWNoZUZhY3RvcnknKTtcbiAgICAgICAgICAgIGFwVXRpbGl0eVNlcnZpY2UgPSAkaW5qZWN0b3IuZ2V0KCdhcFV0aWxpdHlTZXJ2aWNlJyk7XG4gICAgICAgICAgICBhcFdlYlNlcnZpY2VPcGVyYXRpb25Db25zdGFudHMgPSAkaW5qZWN0b3IuZ2V0KCdhcFdlYlNlcnZpY2VPcGVyYXRpb25Db25zdGFudHMnKTtcbiAgICAgICAgICAgIGFwWE1MVG9KU09OU2VydmljZSA9ICRpbmplY3Rvci5nZXQoJ2FwWE1MVG9KU09OU2VydmljZScpO1xuICAgICAgICAgICAgU1BTZXJ2aWNlcyA9ICRpbmplY3Rvci5nZXQoJ1NQU2VydmljZXMnKTtcbiAgICAgICAgICAgIHRvYXN0ciA9ICRpbmplY3Rvci5nZXQoJ3RvYXN0cicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBEYXRhU2VydmljZS5jcmVhdGVMaXN0SXRlbVxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogQ3JlYXRlcyBhIG5ldyBsaXN0IGl0ZW0gZm9yIHRoZSBwcm92aWRlZCBtb2RlbC5cbiAgICAgICAgICogQHBhcmFtIHtvYmplY3R9IG1vZGVsIFJlZmVyZW5jZSB0byB0aGUgZW50aXRpZXMgbW9kZWwuXG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBsaXN0SXRlbSBKYXZhU2NyaXB0IG9iamVjdCByZXByZXNlbnRpbmcgdGhlIFNoYXJlUG9pbnQgbGlzdCBpdGVtLlxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gcGFyYW1zLlxuICAgICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmJ1aWxkVmFsdWVQYWlycz10cnVlXSBBdXRvbWF0aWNhbGx5IGdlbmVyYXRlIHBhaXJzIGJhc2VkIG9uIGZpZWxkcyBkZWZpbmVkIGluIG1vZGVsLlxuICAgICAgICAgKiBAcGFyYW0ge0FycmF5W119IFtvcHRpb25zLnZhbHVlUGFpcnNdIFByZWNvbXB1dGVkIHZhbHVlIHBhaXJzIHRvIHVzZSBpbnN0ZWFkIG9mIGdlbmVyYXRpbmcgdGhlbSBmb3IgZWFjaFxuICAgICAgICAgKiBmaWVsZCBpZGVudGlmaWVkIGluIHRoZSBtb2RlbC5cbiAgICAgICAgICogQHJldHVybnMge29iamVjdH0gUHJvbWlzZSB3aGljaCByZXNvbHZlcyB3aXRoIHRoZSBuZXdseSBjcmVhdGVkIGl0ZW0uXG4gICAgICAgICAqL1xuICAgICAgICBjcmVhdGVMaXN0SXRlbShtb2RlbDogSU1vZGVsLCBsaXN0SXRlbTogTGlzdEl0ZW0sIG9wdGlvbnM/OiB7YnVpbGRWYWx1ZVBhaXJzOiBib29sZWFuOyB2YWx1ZVBhaXJzOiBbIFtzdHJpbmcsIGFueV1bXSBdfSk6IG5nLklQcm9taXNlPElMaXN0SXRlbT4ge1xuICAgICAgICAgICAgdmFyIGRlZmF1bHRzID0ge1xuICAgICAgICAgICAgICAgICAgICBiYXRjaENtZDogJ05ldycsXG4gICAgICAgICAgICAgICAgICAgIGJ1aWxkVmFsdWVQYWlyczogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgaW5kZXhlZENhY2hlOiBhcEluZGV4ZWRDYWNoZUZhY3RvcnkuY3JlYXRlKHt9KSxcbiAgICAgICAgICAgICAgICAgICAgbGlzdE5hbWU6IG1vZGVsLmxpc3QuZ2V0TGlzdElkKCksXG4gICAgICAgICAgICAgICAgICAgIG9wZXJhdGlvbjogJ1VwZGF0ZUxpc3RJdGVtcycsXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZVBhaXJzOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgd2ViVVJMOiBtb2RlbC5saXN0LmlkZW50aWZ5V2ViVVJMKClcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgICAgICAgZGVmYXVsdHMudGFyZ2V0ID0gZGVmYXVsdHMuaW5kZXhlZENhY2hlO1xuICAgICAgICAgICAgdmFyIG9wdHM6IHtidWlsZFZhbHVlUGFpcnM6IGJvb2xlYW47IHZhbHVlUGFpcnM6IFtbc3RyaW5nLCBhbnldW11dOyBnZXRDYWNoZSgpOiBJQ2FjaGU7IGluZGV4ZWRDYWNoZTogSUluZGV4ZWRDYWNoZX1cbiAgICAgICAgICAgICAgICA9IF8uZXh0ZW5kKHt9LCBkZWZhdWx0cywgb3B0aW9ucyk7XG5cbiAgICAgICAgICAgIGlmIChvcHRzLmJ1aWxkVmFsdWVQYWlycyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHZhciBlZGl0YWJsZUZpZWxkczogSUZpZWxkRGVmaW5pdGlvbltdID0gXy53aGVyZShtb2RlbC5saXN0LmZpZWxkcywge3JlYWRPbmx5OiBmYWxzZX0pO1xuICAgICAgICAgICAgICAgIG9wdHMudmFsdWVQYWlycyA9IGFwRW5jb2RlU2VydmljZS5nZW5lcmF0ZVZhbHVlUGFpcnMoZWRpdGFibGVGaWVsZHMsIGxpc3RJdGVtKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgb3B0cy5nZXRDYWNoZSA9ICgpID0+IG9wdHMuaW5kZXhlZENhY2hlO1xuXG4gICAgICAgICAgICAvKiogT3ZlcmxvYWQgdGhlIGZ1bmN0aW9uIHRoZW4gcGFzcyBhbnl0aGluZyBwYXN0IHRoZSBmaXJzdCBwYXJhbWV0ZXIgdG8gdGhlIHN1cHBvcnRpbmcgbWV0aG9kcyAqL1xuICAgICAgICAgICAgdGhpcy5zZXJ2aWNlV3JhcHBlcihvcHRzKVxuICAgICAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvKiogT25saW5lIHRoaXMgc2hvdWxkIHJldHVybiBhbiBYTUwgb2JqZWN0ICovXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleGVkQ2FjaGUgPSBhcERlY29kZVNlcnZpY2UucHJvY2Vzc0xpc3RJdGVtcyhtb2RlbCwgb3B0cywgcmVzcG9uc2UsIG9wdHMpO1xuICAgICAgICAgICAgICAgICAgICAvKiogUmV0dXJuIHJlZmVyZW5jZSB0byBsYXN0IGxpc3RJdGVtIGluIGNhY2hlIGJlY2F1c2UgaXQgd2lsbCBoYXZlIHRoZSBuZXcgaGlnaGVzdCBpZCAqL1xuICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGluZGV4ZWRDYWNoZS5sYXN0KCkpO1xuICAgICAgICAgICAgICAgIH0sIChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNyZWF0ZUl0ZW1VcmxGcm9tRmlsZVJlZihmaWxlUmVmU3RyaW5nOiBzdHJpbmcpIHtcbiAgICAgICAgICAgIHJldHVybiB3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wgKyAnLy8nICsgd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lICsgJy8nICsgZmlsZVJlZlN0cmluZztcbiAgICAgICAgfVxuXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBEYXRhU2VydmljZS5kZWxldGVBdHRhY2htZW50XG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBEZWxldGVzIGFuZCBhdHRhY2htZW50IG9uIGEgbGlzdCBpdGVtLiAgTW9zdCBjb21tb25seSB1c2VkIGJ5IExpc3RJdGVtLmRlbGV0ZUF0dGFjaG1lbnQgd2hpY2ggaXMgc2hvd25cbiAgICAgICAgICogaW4gdGhlIGV4YW1wbGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIENvbmZpZ3VyYXRpb24gcGFyYW1ldGVycy5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMubGlzdEl0ZW1JZCBJRCBvZiB0aGUgbGlzdCBpdGVtIHdpdGggdGhlIGF0dGFjaG1lbnQuXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBvcHRpb25zLnVybCBSZXF1aXJlcyB0aGUgVVJMIGZvciB0aGUgYXR0YWNobWVudCB3ZSB3YW50IHRvIGRlbGV0ZS5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMubGlzdE5hbWUgQmVzdCBvcHRpb24gaXMgdGhlIEdVSUQgb2YgdGhlIGxpc3QuXG4gICAgICAgICAqIDxwcmU+J3szNzM4OEE5OC01MzRDLTRBMjgtQkZGQS0yMjQyOTI3Njg5N0J9JzwvcHJlPlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSBQcm9taXNlIHdoaWNoIHJlc29sdmVzIHdpdGggdGhlIHVwZGF0ZWQgYXR0YWNobWVudCBjb2xsZWN0aW9uLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiA8cHJlPlxuICAgICAgICAgKiBMaXN0SXRlbS5wcm90b3R5cGUuZGVsZXRlQXR0YWNobWVudCA9IGZ1bmN0aW9uICh1cmwpIHtcbiAgICAgICAgICogICAgdmFyIGxpc3RJdGVtID0gdGhpcztcbiAgICAgICAgICogICAgcmV0dXJuIERhdGFTZXJ2aWNlLmRlbGV0ZUF0dGFjaG1lbnQoe1xuICAgICAgICAgKiAgICAgICAgbGlzdEl0ZW1JZDogbGlzdEl0ZW0uaWQsXG4gICAgICAgICAqICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICogICAgICAgIGxpc3ROYW1lOiBsaXN0SXRlbS5nZXRNb2RlbCgpLmxpc3QuZ2V0TGlzdElkKClcbiAgICAgICAgICogICAgfSk7XG4gICAgICAgICAqIH07XG4gICAgICAgICAqIDwvcHJlPlxuICAgICAgICAgKi9cbiAgICAgICAgZGVsZXRlQXR0YWNobWVudChvcHRpb25zOiB7bGlzdEl0ZW1JRDogbnVtYmVyOyB1cmw6IHN0cmluZzsgbGlzdE5hbWU6IHN0cmluZzsgfSkge1xuICAgICAgICAgICAgdmFyIGRlZmF1bHRzID0ge1xuICAgICAgICAgICAgICAgIG9wZXJhdGlvbjogJ0RlbGV0ZUF0dGFjaG1lbnQnLFxuICAgICAgICAgICAgICAgIGZpbHRlck5vZGU6ICdGaWVsZCdcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHZhciBvcHRzID0gXy5leHRlbmQoe30sIGRlZmF1bHRzLCBvcHRpb25zKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2VydmljZVdyYXBwZXIob3B0cyk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIERhdGFTZXJ2aWNlLmRlbGV0ZUxpc3RJdGVtXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBUeXBpY2FsbHkgY2FsbGVkIGRpcmVjdGx5IGZyb20gYSBsaXN0IGl0ZW0sIHJlbW92ZXMgdGhlIGxpc3QgaXRlbSBmcm9tIFNoYXJlUG9pbnRcbiAgICAgICAgICogYW5kIHRoZSBsb2NhbCBjYWNoZS5cbiAgICAgICAgICogQHBhcmFtIHtvYmplY3R9IG1vZGVsIFJlZmVyZW5jZSB0byB0aGUgZW50aXRpZXMgbW9kZWwuXG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBsaXN0SXRlbSBKYXZhU2NyaXB0IG9iamVjdCByZXByZXNlbnRpbmcgdGhlIFNoYXJlUG9pbnQgbGlzdCBpdGVtLlxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gcGFyYW1zLlxuICAgICAgICAgKiBAcGFyYW0ge0FycmF5fSBbb3B0aW9ucy50YXJnZXQ9aXRlbS5nZXRDYWNoZSgpXSBPcHRpb25hbCBsb2NhdGlvbiB0byBzZWFyY2ggdGhyb3VnaCBhbmQgcmVtb3ZlIHRoZVxuICAgICAgICAgKiBsb2NhbCBjYWNoZWQgY29weS5cbiAgICAgICAgICogQHJldHVybnMge29iamVjdH0gUHJvbWlzZSB3aGljaCByZXNvbHZlcyB3aGVuIHRoZSBvcGVyYXRpb24gaXMgY29tcGxldGUuICBOb3RoaW5nIG9mIGltcG9ydGFuY2UgaXMgcmV0dXJuZWQuXG4gICAgICAgICAqL1xuICAgICAgICBkZWxldGVMaXN0SXRlbShtb2RlbDogSU1vZGVsLCBsaXN0SXRlbTogTGlzdEl0ZW0sIG9wdGlvbnM/OiB7dGFyZ2V0OiBJQ2FjaGV9KSB7XG4gICAgICAgICAgICB2YXIgZGVmYXVsdHMgPSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0OiBfLmlzRnVuY3Rpb24obGlzdEl0ZW0uZ2V0Q2FjaGUpID8gbGlzdEl0ZW0uZ2V0Q2FjaGUoKSA6IG1vZGVsLmdldENhY2hlKCksXG4gICAgICAgICAgICAgICAgb3BlcmF0aW9uOiAnVXBkYXRlTGlzdEl0ZW1zJyxcbiAgICAgICAgICAgICAgICBsaXN0TmFtZTogbW9kZWwubGlzdC5nZXRMaXN0SWQoKSxcbiAgICAgICAgICAgICAgICBiYXRjaENtZDogJ0RlbGV0ZScsXG4gICAgICAgICAgICAgICAgSUQ6IGxpc3RJdGVtLmlkLFxuICAgICAgICAgICAgICAgIHdlYlVSTDogbW9kZWwubGlzdC5pZGVudGlmeVdlYlVSTCgpXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB2YXIgb3B0cyA9IF8uZXh0ZW5kKHt9LCBkZWZhdWx0cywgb3B0aW9ucyk7XG5cbiAgICAgICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgICAgICAgIHRoaXMuc2VydmljZVdyYXBwZXIob3B0cylcbiAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8qKiBTdWNjZXNzICovXG4gICAgICAgICAgICAgICAgICAgIGFwQ2FjaGVTZXJ2aWNlLmRlbGV0ZUVudGl0eShvcHRzLmxpc3ROYW1lLCBsaXN0SXRlbS5pZCk7XG4gICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICB9LCAob3V0Y29tZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvL0luIHRoZSBldmVudCBvZiBhbiBlcnJvciwgZGlzcGxheSB0b2FzdFxuICAgICAgICAgICAgICAgICAgICB0b2FzdHIuZXJyb3IoJ1RoZXJlIHdhcyBhbiBlcnJvciBkZWxldGluZyBhIGxpc3QgaXRlbSBmcm9tICcgKyBtb2RlbC5saXN0LnRpdGxlKTtcbiAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVqZWN0KG91dGNvbWUpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAgICogQG5hbWUgRGF0YVNlcnZpY2UuZXhlY3V0ZVF1ZXJ5XG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBQcmltYXJ5IG1ldGhvZCBvZiByZXRyaWV2aW5nIGxpc3QgaXRlbXMgZnJvbSBTaGFyZVBvaW50LiAgTG9vayBhdCBRdWVyeSBhbmQgTW9kZWwgZm9yIHNwZWNpZmljcy5cbiAgICAgICAgICogQHBhcmFtIHtvYmplY3R9IG1vZGVsIFJlZmVyZW5jZSB0byB0aGUgbW9kZWwgd2hlcmUgdGhlIFF1ZXJ5IHJlc2lkZXMuXG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBxdWVyeSBSZWZlcmVuY2UgdG8gdGhlIFF1ZXJ5IG1ha2luZyB0aGUgY2FsbC5cbiAgICAgICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSBPcHRpb25hbCBjb25maWd1cmF0aW9uIHBhcmFtZXRlcnMuXG4gICAgICAgICAqIEBwYXJhbSB7QXJyYXl9IFtvcHRpb25zLnRhcmdldD1tb2RlbC5nZXRDYWNoZSgpXSBUaGUgdGFyZ2V0IGRlc3RpbmF0aW9uIGZvciByZXR1cm5lZCBlbnRpdGllc1xuICAgICAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSAtIEtleSB2YWx1ZSBoYXNoIGNvbnRhaW5pbmcgYWxsIGxpc3QgaXRlbSBpZCdzIGFzIGtleXMgd2l0aCB0aGUgbGlzdEl0ZW0gYXMgdGhlIHZhbHVlLlxuICAgICAgICAgKi9cbiAgICAgICAgZXhlY3V0ZVF1ZXJ5KG1vZGVsOiBJTW9kZWwsIHF1ZXJ5OiBJUXVlcnksIG9wdGlvbnM/OiB7dGFyZ2V0OiBJQ2FjaGU7fSkge1xuXG4gICAgICAgICAgICB2YXIgZGVmYXVsdHMgPSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0OiBtb2RlbC5nZXRDYWNoZSgpXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICAgICAgICAvKiogRXh0ZW5kIGRlZmF1bHRzICoqL1xuICAgICAgICAgICAgdmFyIG9wdHMgPSBfLmV4dGVuZCh7fSwgZGVmYXVsdHMsIG9wdGlvbnMpO1xuXG4gICAgICAgICAgICB0aGlzLnNlcnZpY2VXcmFwcGVyKHF1ZXJ5KVxuICAgICAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAocXVlcnkub3BlcmF0aW9uID09PSAnR2V0TGlzdEl0ZW1DaGFuZ2VzU2luY2VUb2tlbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvY2Vzc0NoYW5nZVRva2VuWE1MKG1vZGVsLCBxdWVyeSwgcmVzcG9uc2UsIG9wdHMpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLyoqIENvbnZlcnQgdGhlIFhNTCBpbnRvIEpTIG9iamVjdHMgKi9cbiAgICAgICAgICAgICAgICAgICAgdmFyIGVudGl0aWVzID0gYXBEZWNvZGVTZXJ2aWNlLnByb2Nlc3NMaXN0SXRlbXMobW9kZWwsIHF1ZXJ5LCByZXNwb25zZSwgb3B0cyk7XG4gICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoZW50aXRpZXMpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8qKiBTZXQgZGF0ZSB0aW1lIHRvIGFsbG93IGZvciB0aW1lIGJhc2VkIHVwZGF0ZXMgKi9cbiAgICAgICAgICAgICAgICAgICAgcXVlcnkubGFzdFJ1biA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBEYXRhU2VydmljZS5nZW5lcmF0ZVdlYlNlcnZpY2VVcmxcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIEJ1aWxkcyB0aGUgYXBwcm9wcmlhdGUgU2hhcmVQb2ludCByZXNvdXJjZSBVUkwuICBJZiBhIFVSTCBpc24ndCBwcm92aWRlZCBhbmQgaXQgaGFzbid0IGFscmVhZHkgYmVlbiBjYWNoZWRcbiAgICAgICAgICogd2UgbWFrZSBhIGNhbGwgdG8gdGhlIHNlcnZlciB0byBmaW5kIHRoZSByb290IFVSTC4gIEFsbCBmdXR1cmUgcmVxdWVzdHMgd2lsbCB0aGVuIHVzZSB0aGlzIGNhY2hlZCB2YWx1ZS5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHNlcnZpY2UgVGhlIG5hbWUgb2YgdGhlIHNlcnZpY2UgdGhlIFNPQVAgb3BlcmF0aW9uIGlzIHVzaW5nLlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3dlYlVSTF0gT3B0aW9uYWxseSBwcm92aWRlIHRoZSBVUkwgc28gd2UgZG9uJ3QgbmVlZCB0byBtYWtlIGEgY2FsbCB0byB0aGUgc2VydmVyLlxuICAgICAgICAgKiBAcmV0dXJucyB7cHJvbWlzZX0gUmVzb2x2ZXMgd2l0aCB0aGUgdXJsIGZvciB0aGUgc2VydmljZS5cbiAgICAgICAgICovXG4gICAgICAgIGdlbmVyYXRlV2ViU2VydmljZVVybChzZXJ2aWNlOiBzdHJpbmcsIHdlYlVSTD86IHN0cmluZykge1xuICAgICAgICAgICAgdmFyIGFqYXhVUkwgPSBcIl92dGlfYmluL1wiICsgc2VydmljZSArIFwiLmFzbXhcIixcbiAgICAgICAgICAgICAgICBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgICAgICAgIGlmICh3ZWJVUkwpIHtcbiAgICAgICAgICAgICAgICBhamF4VVJMID0gd2ViVVJMLmNoYXJBdCh3ZWJVUkwubGVuZ3RoIC0gMSkgPT09ICcvJyA/XG4gICAgICAgICAgICAgICAgd2ViVVJMICsgYWpheFVSTCA6IHdlYlVSTCArICcvJyArIGFqYXhVUkw7XG4gICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShhamF4VVJMKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5nZXRDdXJyZW50U2l0ZSgpLnRoZW4oKHRoaXNTaXRlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGFqYXhVUkwgPSB0aGlzU2l0ZSArICgodGhpc1NpdGUuY2hhckF0KHRoaXNTaXRlLmxlbmd0aCAtIDEpID09PSAnLycpID8gYWpheFVSTCA6ICgnLycgKyBhamF4VVJMKSk7XG4gICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoYWpheFVSTCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAgICogQG5hbWUgRGF0YVNlcnZpY2UuZ2V0QXZhaWxhYmxlV29ya2Zsb3dzXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBHaXZlbiBhIGxpc3QgaXRlbSBvciBkb2N1bWVudCwgcmV0dXJuIGFuIGFycmF5IG9mIGFsbCBhdmFpbGFibGUgd29ya2Zsb3dzLiAgVGhpcyBpcyB1c2VkIGluIGNvbWJpbmF0aW9uIHdpdGhcbiAgICAgICAgICogRGF0YVNlcnZpY2Uuc3RhcnRXb3JrZmxvdyBiZWNhdXNlIGl0IHJlcXVpcmVzIHRoZSB0ZW1wbGF0ZSBHVUlEIGZvciB0aGUgdGFyZ2V0IHdvcmtmbG93LlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiA8cHJlPlxuICAgICAgICAgKiBEYXRhU2VydmljZS5nZXRBdmFpbGFibGVXb3JrZmxvd3MobGlzdEl0ZW0uZmlsZVJlZi5sb29rdXBWYWx1ZSlcbiAgICAgICAgICogICAgIC50aGVuKGZ1bmN0aW9uKHRlbXBsYXRlQXJyYXkpIHtcbiAgICAgICAgICogICAgICAgICAgLi4uLnRlbXBsYXRlQXJyYXkgPSBbe1xuICAgICAgICAgKiAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiV2lkZ2V0QXBwcm92YWxcIixcbiAgICAgICAgICogICAgICAgICAgICAgIFwiaW5zdGFudGlhdGlvblVybFwiOiBcImh0dHBzOiAvL3NoYXJlcG9pbnQubXljb21wYW55LmNvbS9fbGF5b3V0cy9JbmlXcmtmbElQLmFzcHg/TGlzdD1mYzE3ODkwZS04YzDigKYzMTEtY2VhOS00MGQxLWExODMtNmVkZGU5MzMzODE1fSZXZWI9e2VjNzQ0ZDhlLWFlMGEtNDVkZC1iY2QxLThhNjNiOWIzOTliZH1cIixcbiAgICAgICAgICogICAgICAgICAgICAgIFwidGVtcGxhdGVJZFwiOiBcIjU5MDYyMzExLWNlYTktNDBkMS1hMTgzLTZlZGRlOTMzMzgxNVwiXG4gICAgICAgICAqICAgICAgICAgIH1dXG4gICAgICAgICAqICAgICB9KTtcbiAgICAgICAgICogPC9wcmU+XG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmaWxlUmVmU3RyaW5nIFJlbGF0aXZlIG9yIHN0YXRpYyB1cmwgcmVmZXJlbmNpbmcgdGhlIGl0ZW0uXG4gICAgICAgICAqIEByZXR1cm5zIHtvYmplY3R9IFJlc29sdmVzIHdpdGggYW4gYXJyYXkgb2Ygb2JqZWN0cyBkZWZpbmluZyBlYWNoIG9mIHRoZSBhdmFpbGFibGUgd29ya2Zsb3dzIGZvciB0aGUgaXRlbS5cbiAgICAgICAgICovXG4gICAgICAgIGdldEF2YWlsYWJsZVdvcmtmbG93cyhmaWxlUmVmU3RyaW5nOiBzdHJpbmcpIHtcbiAgICAgICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG4gICAgICAgICAgICAvKiogQnVpbGQgdGhlIGZ1bGwgdXJsIGZvciB0aGUgZmlsZVJlZiBpZiBub3QgYWxyZWFkeSBwcm92aWRlZC4gIEZpbGVSZWYgZm9yIGFuIGl0ZW0gZGVmYXVsdHMgdG8gYSByZWxhdGl2ZSB1cmwgKi9cbiAgICAgICAgICAgIHZhciBpdGVtVXJsID0gZmlsZVJlZlN0cmluZy5pbmRleE9mKCc6IC8vJykgPiAtMSA/IGZpbGVSZWZTdHJpbmcgOiB0aGlzLmNyZWF0ZUl0ZW1VcmxGcm9tRmlsZVJlZihmaWxlUmVmU3RyaW5nKTtcblxuICAgICAgICAgICAgdGhpcy5zZXJ2aWNlV3JhcHBlcih7XG4gICAgICAgICAgICAgICAgb3BlcmF0aW9uOiAnR2V0VGVtcGxhdGVzRm9ySXRlbScsXG4gICAgICAgICAgICAgICAgaXRlbTogaXRlbVVybFxuICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2VYTUwpIHtcbiAgICAgICAgICAgICAgICB2YXIgd29ya2Zsb3dUZW1wbGF0ZXMgPSBbXTtcbiAgICAgICAgICAgICAgICB2YXIgeG1sVGVtcGxhdGVzID0gJChyZXNwb25zZVhNTCkuU1BGaWx0ZXJOb2RlKCdXb3JrZmxvd1RlbXBsYXRlJyk7XG4gICAgICAgICAgICAgICAgXy5lYWNoKHhtbFRlbXBsYXRlcywgZnVuY3Rpb24gKHhtbFRlbXBsYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wbGF0ZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICQoeG1sVGVtcGxhdGUpLmF0dHIoJ05hbWUnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3RhbnRpYXRpb25Vcmw6ICQoeG1sVGVtcGxhdGUpLmF0dHIoJ0luc3RhbnRpYXRpb25VcmwnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlSWQ6ICd7JyArICQoeG1sVGVtcGxhdGUpLmZpbmQoJ1dvcmtmbG93VGVtcGxhdGVJZFNldCcpLmF0dHIoJ1RlbXBsYXRlSWQnKSArICd9J1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB3b3JrZmxvd1RlbXBsYXRlcy5wdXNoKHRlbXBsYXRlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHdvcmtmbG93VGVtcGxhdGVzKTtcbiAgICAgICAgICAgIH0pO1xuXG5cbiAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBEYXRhU2VydmljZS5nZXRDb2xsZWN0aW9uXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBVc2VkIHRvIGhhbmRsZSBhbnkgb2YgdGhlIEdldFtmaWx0ZXJOb2RlXUNvbGxlY3Rpb24gY2FsbHMgdG8gU2hhcmVQb2ludFxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIG9iamVjdCB1c2VkIHRvIGV4dGVuZCBwYXlsb2FkIGFuZCBuZWVkcyB0byBpbmNsdWRlIGFsbCBTUFNlcnZpY2VzIHJlcXVpcmVkIGF0dHJpYnV0ZXNcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLm9wZXJhdGlvbl0gR2V0VXNlckNvbGxlY3Rpb25Gcm9tU2l0ZVxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMub3BlcmF0aW9uXSBHZXRHcm91cENvbGxlY3Rpb25Gcm9tU2l0ZVxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMub3BlcmF0aW9uXSBHZXRHcm91cENvbGxlY3Rpb25Gcm9tVXNlciBAcmVxdWlyZXMgb3B0aW9ucy51c2VyTG9naW5OYW1lXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5vcGVyYXRpb25dIEdldFVzZXJDb2xsZWN0aW9uRnJvbUdyb3VwIEByZXF1aXJlcyBvcHRpb25zLmdyb3VwTmFtZVxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMub3BlcmF0aW9uXSBHZXRMaXN0Q29sbGVjdGlvblxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMub3BlcmF0aW9uXSBHZXRWaWV3Q29sbGVjdGlvbiBAcmVxdWlyZXMgb3B0aW9ucy5saXN0TmFtZVxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMub3BlcmF0aW9uXSBHZXRBdHRhY2htZW50Q29sbGVjdGlvbiBAcmVxdWlyZXMgb3B0aW9ucy5saXN0TmFtZSAmIG9wdGlvbnMuSURcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmZpbHRlck5vZGVdIC0gVmFsdWUgdG8gaXRlcmF0ZSBvdmVyIGluIHJldHVybmVkIFhNTFxuICAgICAgICAgKiAgICAgICAgIGlmIG5vdCBwcm92aWRlZCBpdCdzIGV4dHJhY3RlZCBmcm9tIHRoZSBuYW1lIG9mIHRoZSBvcGVyYXRpb25cbiAgICAgICAgICogICAgICAgICBleDogR2V0W1VzZXJdQ29sbGVjdGlvbkZyb21TaXRlLCBcIlVzZXJcIiBpcyB1c2VkIGFzIHRoZSBmaWx0ZXJOb2RlXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZXR1cm5zIHtvYmplY3RbXX0gUHJvbWlzZSB3aGljaCB3aGVuIHJlc29sdmVkIHdpbGwgY29udGFpbiBhbiBhcnJheSBvZiBvYmplY3RzIHJlcHJlc2VudGluZyB0aGVcbiAgICAgICAgICogcmVxdWVzdGVkIGNvbGxlY3Rpb24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIDxwcmU+XG4gICAgICAgICAqIERhdGFTZXJ2aWNlLmdldENvbGxlY3Rpb24oe1xuICAgICAgICAgKiAgICAgICAgb3BlcmF0aW9uOiBcIkdldEdyb3VwQ29sbGVjdGlvbkZyb21Vc2VyXCIsXG4gICAgICAgICAqICAgICAgICB1c2VyTG9naW5OYW1lOiAkc2NvcGUuc3RhdGUuc2VsZWN0ZWRVc2VyLkxvZ2luTmFtZVxuICAgICAgICAgKiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICogICAgICAgICAgICBwb3N0UHJvY2Vzc0Z1bmN0aW9uKHJlc3BvbnNlKTtcbiAgICAgICAgICogICAgICAgfSk7XG4gICAgICAgICAqIDwvcHJlPlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0Q29sbGVjdGlvbihvcHRpb25zOiB7b3BlcmF0aW9uOiBzdHJpbmc7IHVzZXJMb2dpbk5hbWU/OiBzdHJpbmc7IGdyb3VwTmFtZT86IHN0cmluZzsgbGlzdE5hbWU/OiBzdHJpbmc7IGZpbHRlck5vZGU6IHN0cmluZzt9KTogbmcuSVByb21pc2U8T2JqZWN0W10+IHtcbiAgICAgICAgICAgIHZhciBkZWZhdWx0cyA9IHtcbiAgICAgICAgICAgICAgICBwb3N0UHJvY2VzczogcHJvY2Vzc1hNTFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciBvcHRzID0gXy5leHRlbmQoe30sIGRlZmF1bHRzLCBvcHRpb25zKTtcblxuICAgICAgICAgICAgLyoqIERldGVybWluZSB0aGUgWE1MIG5vZGUgdG8gaXRlcmF0ZSBvdmVyIGlmIGZpbHRlck5vZGUgaXNuJ3QgcHJvdmlkZWQgKi9cbiAgICAgICAgICAgIHZhciBmaWx0ZXJOb2RlID0gb3B0cy5maWx0ZXJOb2RlIHx8IG9wdHMub3BlcmF0aW9uLnNwbGl0KCdHZXQnKVsxXS5zcGxpdCgnQ29sbGVjdGlvbicpWzBdO1xuXG4gICAgICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICAgICAgICAvKiogQ29udmVydCB0aGUgeG1sIHJldHVybmVkIGZyb20gdGhlIHNlcnZlciBpbnRvIGFuIGFycmF5IG9mIGpzIG9iamVjdHMgKi9cbiAgICAgICAgICAgIGZ1bmN0aW9uIHByb2Nlc3NYTUwoc2VydmVyUmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICB2YXIgY29udmVydGVkSXRlbXMgPSBbXTtcbiAgICAgICAgICAgICAgICAvKiogR2V0IGF0dGFjaG1lbnRzIG9ubHkgcmV0dXJucyB0aGUgbGlua3MgYXNzb2NpYXRlZCB3aXRoIGEgbGlzdCBpdGVtICovXG4gICAgICAgICAgICAgICAgaWYgKG9wdHMub3BlcmF0aW9uID09PSAnR2V0QXR0YWNobWVudENvbGxlY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIC8qKiBVbmxpa2Ugb3RoZXIgY2FsbCwgZ2V0IGF0dGFjaG1lbnRzIG9ubHkgcmV0dXJucyBzdHJpbmdzIGluc3RlYWQgb2YgYW4gb2JqZWN0IHdpdGggYXR0cmlidXRlcyAqL1xuICAgICAgICAgICAgICAgICAgICAkKHNlcnZlclJlc3BvbnNlKS5TUEZpbHRlck5vZGUoZmlsdGVyTm9kZSkuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb252ZXJ0ZWRJdGVtcy5wdXNoKCQodGhpcykudGV4dCgpKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5vZGVzID0gJChzZXJ2ZXJSZXNwb25zZSkuU1BGaWx0ZXJOb2RlKGZpbHRlck5vZGUpO1xuICAgICAgICAgICAgICAgICAgICBjb252ZXJ0ZWRJdGVtcyA9IGFwWE1MVG9KU09OU2VydmljZS5wYXJzZShub2Rlcywge2luY2x1ZGVBbGxBdHRyczogdHJ1ZSwgcmVtb3ZlT3dzOiBmYWxzZX0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gY29udmVydGVkSXRlbXM7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciB2YWxpZFBheWxvYWQgPSB0aGlzLnZhbGlkYXRlQ29sbGVjdGlvblBheWxvYWQob3B0cyk7XG4gICAgICAgICAgICBpZiAodmFsaWRQYXlsb2FkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXJ2aWNlV3JhcHBlcihvcHRzKVxuICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKCdJbnZhbGlkIHBheWxvYWQ6ICcsIG9wdHMpO1xuICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAgICogQG5hbWUgRGF0YVNlcnZpY2UuZ2V0Q3VycmVudFNpdGVcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIFJlcXVlc3RzIGFuZCBjYWNoZXMgdGhlIHJvb3QgdXJsIGZvciB0aGUgY3VycmVudCBzaXRlLiAgSXQgY2FjaGVzIHRoZSByZXNwb25zZSBzbyBhbnkgZnV0dXJlIGNhbGxzIHJlY2VpdmVcbiAgICAgICAgICogdGhlIGNhY2hlZCBwcm9taXNlLlxuICAgICAgICAgKiBAcmV0dXJucyB7cHJvbWlzZX0gUmVzb2x2ZXMgd2l0aCB0aGUgY3VycmVudCBzaXRlIHJvb3QgdXJsLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0Q3VycmVudFNpdGUoKTogbmcuSVByb21pc2U8c3RyaW5nPiB7XG4gICAgICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuLy92YXIgc2VsZiA9IHRoaXMuZ2V0Q3VycmVudFNpdGU7XG4gICAgICAgICAgICBpZiAoIXRoaXMucXVlcnlGb3JDdXJyZW50U2l0ZSkge1xuICAgICAgICAgICAgICAgIC8qKiBXZSBvbmx5IHdhbnQgdG8gcnVuIHRoaXMgb25jZSBzbyBjYWNoZSB0aGUgcHJvbWlzZSB0aGUgZmlyc3QgdGltZSBhbmQganVzdCByZWZlcmVuY2UgaXQgaW4gdGhlIGZ1dHVyZSAqL1xuICAgICAgICAgICAgICAgIHRoaXMucXVlcnlGb3JDdXJyZW50U2l0ZSA9IGRlZmVycmVkLnByb21pc2U7XG5cbiAgICAgICAgICAgICAgICB2YXIgbXNnID0gU1BTZXJ2aWNlcy5TT0FQRW52ZWxvcGUuaGVhZGVyICtcbiAgICAgICAgICAgICAgICAgICAgXCI8V2ViVXJsRnJvbVBhZ2VVcmwgeG1sbnM9J1wiICsgU1BTZXJ2aWNlcy5TQ0hFTUFTaGFyZVBvaW50ICsgXCIvc29hcC8nID48cGFnZVVybD5cIiArXG4gICAgICAgICAgICAgICAgICAgICgobG9jYXRpb24uaHJlZi5pbmRleE9mKFwiP1wiKSA+IDApID8gbG9jYXRpb24uaHJlZi5zdWJzdHIoMCwgbG9jYXRpb24uaHJlZi5pbmRleE9mKFwiP1wiKSkgOiBsb2NhdGlvbi5ocmVmKSArXG4gICAgICAgICAgICAgICAgICAgIFwiPC9wYWdlVXJsPjwvV2ViVXJsRnJvbVBhZ2VVcmw+XCIgK1xuICAgICAgICAgICAgICAgICAgICBTUFNlcnZpY2VzLlNPQVBFbnZlbG9wZS5mb290ZXI7XG5cbiAgICAgICAgICAgICAgICAkaHR0cCh7XG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICAgICAgICB1cmw6ICcvX3Z0aV9iaW4vV2Vicy5hc214JyxcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogbXNnLFxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZVR5cGU6IFwiZG9jdW1lbnRcIixcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJ0ZXh0L3htbDtjaGFyc2V0PSd1dGYtOCdcIlxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSkudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLyoqIFN1Y2Nlc3MgKi9cbiAgICAgICAgICAgICAgICAgICAgYXBDb25maWcuZGVmYXVsdFVybCA9ICQocmVzcG9uc2UuZGF0YSkuZmluZChcIldlYlVybEZyb21QYWdlVXJsUmVzdWx0XCIpLnRleHQoKTtcbiAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShhcENvbmZpZy5kZWZhdWx0VXJsKVxuICAgICAgICAgICAgICAgIH0sIChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvKiogRXJyb3IgKi9cbiAgICAgICAgICAgICAgICAgICAgdmFyIGVycm9yID0gYXBEZWNvZGVTZXJ2aWNlLmNoZWNrUmVzcG9uc2VGb3JFcnJvcnMocmVzcG9uc2UuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdChlcnJvcik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5xdWVyeUZvckN1cnJlbnRTaXRlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBEYXRhU2VydmljZS5nZXRGaWVsZFZlcnNpb25IaXN0b3J5XG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBSZXR1cm5zIHRoZSB2ZXJzaW9uIGhpc3RvcnkgZm9yIGEgZmllbGQgaW4gYSBsaXN0IGl0ZW0uXG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIENvbmZpZ3VyYXRpb24gb2JqZWN0IHBhc3NlZCB0byBTUFNlcnZpY2VzLlxuICAgICAgICAgKiA8cHJlPlxuICAgICAgICAgKiB2YXIgb3B0aW9ucyA9IHtcbiAgICAgICAgICogICAgICAgIG9wZXJhdGlvbjogJ0dldFZlcnNpb25Db2xsZWN0aW9uJyxcbiAgICAgICAgICogICAgICAgIHdlYlVSTDogYXBDb25maWcuZGVmYXVsdFVybCxcbiAgICAgICAgICogICAgICAgIHN0cmxpc3RJRDogbW9kZWwubGlzdC5nZXRMaXN0SWQoKSxcbiAgICAgICAgICogICAgICAgIHN0cmxpc3RJdGVtSUQ6IGxpc3RJdGVtLmlkLFxuICAgICAgICAgKiAgICAgICAgc3RyRmllbGROYW1lOiBmaWVsZERlZmluaXRpb24uc3RhdGljTmFtZVxuICAgICAgICAgKiAgICB9O1xuICAgICAgICAgKiA8L3ByZT5cbiAgICAgICAgICogQHBhcmFtIHtvYmplY3R9IGZpZWxkRGVmaW5pdGlvbiBGaWVsZCBkZWZpbml0aW9uIG9iamVjdCBmcm9tIHRoZSBtb2RlbC5cbiAgICAgICAgICogQHJldHVybnMge29iamVjdFtdfSBQcm9taXNlIHdoaWNoIHJlc29sdmVzIHdpdGggYW4gYXJyYXkgb2YgbGlzdCBpdGVtIGNoYW5nZXMgZm9yIHRoZSBzcGVjaWZpZWQgZmllbGQuXG4gICAgICAgICAqL1xuICAgICAgICBnZXRGaWVsZFZlcnNpb25IaXN0b3J5KG9wdGlvbnM6IHtvcGVyYXRpb24/OiBzdHJpbmc7IHdlYlVSTD86IHN0cmluZzsgc3RyTGlzdElEOiBzdHJpbmc7IHN0ckxpc3RJdGVtSUQ6IG51bWJlcjsgc3RyRmllbGROYW1lPzogc3RyaW5nO30sIGZpZWxkRGVmaW5pdGlvbjogSUZpZWxkRGVmaW5pdGlvbik6IG5nLklQcm9taXNlPGFwLklMaXN0SXRlbVZlcnNpb24+IHtcbiAgICAgICAgICAgIHZhciBkZWZhdWx0cyA9IHtcbiAgICAgICAgICAgICAgICBvcGVyYXRpb246ICdHZXRWZXJzaW9uQ29sbGVjdGlvbidcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgb3B0cyA9IF8uZXh0ZW5kKHt9LCBkZWZhdWx0cywgb3B0aW9ucyk7XG5cbiAgICAgICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgICAgICAgIHRoaXMuc2VydmljZVdyYXBwZXIob3B0cylcbiAgICAgICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLyoqIFBhcnNlIFhNTCByZXNwb25zZSAqL1xuICAgICAgICAgICAgICAgICAgICB2YXIgdmVyc2lvbnMgPSBhcERlY29kZVNlcnZpY2UucGFyc2VGaWVsZFZlcnNpb25zKHJlc3BvbnNlLCBmaWVsZERlZmluaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAvKiogUmVzb2x2ZSB3aXRoIGFuIGFycmF5IG9mIGFsbCBmaWVsZCB2ZXJzaW9ucyAqL1xuICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHZlcnNpb25zKTtcbiAgICAgICAgICAgICAgICB9LCAob3V0Y29tZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvKiogRmFpbHVyZSAqL1xuICAgICAgICAgICAgICAgICAgICB0b2FzdHIuZXJyb3IoJ0ZhaWxlZCB0byBmZXRjaCB2ZXJzaW9uIGhpc3RvcnkuJyk7XG4gICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdChvdXRjb21lKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBEYXRhU2VydmljZS5nZXRHcm91cENvbGxlY3Rpb25Gcm9tVXNlclxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogRmV0Y2hlcyBhbiBhcnJheSBvZiBncm91cCBuYW1lcyB0aGUgdXNlciBpcyBhIG1lbWJlciBvZi4gIElmIG5vIHVzZXIgaXMgcHJvdmlkZWQgd2UgdXNlIHRoZSBjdXJyZW50IHVzZXIuXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbbG9naW49Q3VycmVudFVzZXJdIE9wdGlvbmFsIHBhcmFtIG9mIGFub3RoZXIgdXNlcidzIGxvZ2luIHRvIHJldHVybiB0aGUgcHJvZmlsZSBmb3IuXG4gICAgICAgICAqIEByZXR1cm5zIHtzdHJpbmdbXX0gUHJvbWlzZSB3aGljaCByZXNvbHZlcyB3aXRoIHRoZSBhcnJheSBvZiBncm91cHMgdGhlIHVzZXIgYmVsb25ncyB0by5cbiAgICAgICAgICovXG4gICAgICAgIGdldEdyb3VwQ29sbGVjdGlvbkZyb21Vc2VyKGxvZ2luPzogc3RyaW5nKTogbmcuSVByb21pc2U8T2JqZWN0W10+IHtcbiAgICAgICAgICAgIC8qKiBDcmVhdGUgYSBuZXcgZGVmZXJyZWQgb2JqZWN0IGlmIG5vdCBhbHJlYWR5IGRlZmluZWQgKi9cbiAgICAgICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG4gICAgICAgICAgICB2YXIgZ2V0R3JvdXBDb2xsZWN0aW9uID0gKHVzZXJMb2dpbk5hbWUpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlcnZpY2VXcmFwcGVyKHtcbiAgICAgICAgICAgICAgICAgICAgb3BlcmF0aW9uOiAnR2V0R3JvdXBDb2xsZWN0aW9uRnJvbVVzZXInLFxuICAgICAgICAgICAgICAgICAgICB1c2VyTG9naW5OYW1lOiB1c2VyTG9naW5OYW1lLFxuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJOb2RlOiAnR3JvdXAnXG4gICAgICAgICAgICAgICAgfSkudGhlbigoZ3JvdXBDb2xsZWN0aW9uKSA9PiBkZWZlcnJlZC5yZXNvbHZlKGdyb3VwQ29sbGVjdGlvbikpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgaWYgKCFsb2dpbikge1xuICAgICAgICAgICAgICAgIC8qKiBObyBsb2dpbiBuYW1lIHByb3ZpZGVkIHNvIGxvb2t1cCBwcm9maWxlIGZvciBjdXJyZW50IHVzZXIgKi9cbiAgICAgICAgICAgICAgICB0aGlzLmdldFVzZXJQcm9maWxlQnlOYW1lKClcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHVzZXJQcm9maWxlKSA9PiBnZXRHcm91cENvbGxlY3Rpb24odXNlclByb2ZpbGUudXNlckxvZ2luTmFtZSkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBnZXRHcm91cENvbGxlY3Rpb24obG9naW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIERhdGFTZXJ2aWNlLmdldExpc3RcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIFJldHVybnMgYWxsIGxpc3QgZGV0YWlscyBpbmNsdWRpbmcgZmllbGQgYW5kIGxpc3QgY29uZmlnLlxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyBDb25maWd1cmF0aW9uIHBhcmFtZXRlcnMuXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBvcHRpb25zLmxpc3ROYW1lIEdVSUQgb2YgdGhlIGxpc3QuXG4gICAgICAgICAqIEByZXR1cm5zIHtvYmplY3R9IFByb21pc2Ugd2hpY2ggcmVzb2x2ZXMgd2l0aCBhbiBvYmplY3QgZGVmaW5pbmcgZmllbGQgYW5kIGxpc3QgY29uZmlnLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0TGlzdChvcHRpb25zOiB7bGlzdE5hbWU6IHN0cmluZ30pOiBuZy5JUHJvbWlzZTxPYmplY3Q+IHtcbiAgICAgICAgICAgIHZhciBkZWZhdWx0cyA9IHtcbiAgICAgICAgICAgICAgICBvcGVyYXRpb246ICdHZXRMaXN0J1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdmFyIG9wdHMgPSBfLmV4dGVuZCh7fSwgZGVmYXVsdHMsIG9wdGlvbnMpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2VydmljZVdyYXBwZXIob3B0cyk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIERhdGFTZXJ2aWNlLmdldExpc3RGaWVsZHNcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIFJldHVybnMgZmllbGQgZGVmaW5pdGlvbnMgZm9yIGEgc3BlY2lmaWVkIGxpc3QuXG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIENvbmZpZ3VyYXRpb24gcGFyYW1ldGVycy5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMubGlzdE5hbWUgR1VJRCBvZiB0aGUgbGlzdC5cbiAgICAgICAgICogQHJldHVybnMge29iamVjdH0gUHJvbWlzZSB3aGljaCByZXNvbHZlcyB3aXRoIGFuIGFycmF5IG9mIGZpZWxkIGRlZmluaXRpb25zIGZvciB0aGUgbGlzdC5cbiAgICAgICAgICovXG4gICAgICAgIGdldExpc3RGaWVsZHMob3B0aW9uczoge2xpc3ROYW1lOiBzdHJpbmc7fSk6IG5nLklQcm9taXNlPE9iamVjdFtdPiB7XG4gICAgICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuICAgICAgICAgICAgdGhpcy5nZXRMaXN0KG9wdGlvbnMpXG4gICAgICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlWG1sKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBub2RlcyA9ICQocmVzcG9uc2VYbWwpLlNQRmlsdGVyTm9kZSgnRmllbGQnKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZpZWxkcyA9IGFwWE1MVG9KU09OU2VydmljZS5wYXJzZShub2Rlcywge2luY2x1ZGVBbGxBdHRyczogdHJ1ZSwgcmVtb3ZlT3dzOiBmYWxzZX0pO1xuICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGZpZWxkcyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAgICogQG5hbWUgRGF0YVNlcnZpY2UuZ2V0VXNlclByb2ZpbGVcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIFJldHVybnMgdGhlIHByb2ZpbGUgZm9yIGFuIG9wdGlvbmFsIHVzZXIsIGJ1dCBkZWZhdWx0cyB0aGUgdGhlIGN1cnJlbnQgdXNlciBpZiBvbmUgaXNuJ3QgcHJvdmlkZWQuXG4gICAgICAgICAqIFB1bGwgdXNlciBwcm9maWxlIGluZm8gYW5kIHBhcnNlIGludG8gYSBwcm9maWxlIG9iamVjdFxuICAgICAgICAgKiBodHRwOiAvL3Nwc2VydmljZXMuY29kZXBsZXguY29tL3dpa2lwYWdlP3RpdGxlPUdldFVzZXJQcm9maWxlQnlOYW1lXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbbG9naW49Q3VycmVudFVzZXJdIE9wdGlvbmFsIHBhcmFtIG9mIGFub3RoZXIgdXNlcidzIGxvZ2luIHRvIHJldHVybiB0aGUgcHJvZmlsZSBmb3IuXG4gICAgICAgICAqIEByZXR1cm5zIHtvYmplY3R9IFByb21pc2Ugd2hpY2ggcmVzb2x2ZXMgd2l0aCB0aGUgcmVxdWVzdGVkIHVzZXIgcHJvZmlsZS5cbiAgICAgICAgICovXG4gICAgICAgIGdldFVzZXJQcm9maWxlQnlOYW1lKGxvZ2luPzogc3RyaW5nKTogbmcuSVByb21pc2U8eyBBY2NvdW50TmFtZTogc3RyaW5nOyB1c2VyTG9naW5OYW1lOiBzdHJpbmc7IH0+IHtcbiAgICAgICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG4gICAgICAgICAgICB2YXIgcGF5bG9hZCA9IHtcbiAgICAgICAgICAgICAgICBhY2NvdW50TmFtZTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIG9wZXJhdGlvbjogJ0dldFVzZXJQcm9maWxlQnlOYW1lJ1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChsb2dpbikge1xuICAgICAgICAgICAgICAgIHBheWxvYWQuYWNjb3VudE5hbWUgPSBsb2dpbjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5zZXJ2aWNlV3JhcHBlcihwYXlsb2FkKVxuICAgICAgICAgICAgICAgIC50aGVuKChzZXJ2ZXJSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdXNlclByb2ZpbGUgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBBY2NvdW50TmFtZTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlckxvZ2luTmFtZTogdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIC8vTm90IGZvcm1hdHRlZCBsaWtlIGEgbm9ybWFsIFNQIHJlc3BvbnNlIHNvIG5lZWQgdG8gbWFudWFsbHkgcGFyc2VcbiAgICAgICAgICAgICAgICAgICAgJChzZXJ2ZXJSZXNwb25zZSkuU1BGaWx0ZXJOb2RlKCdQcm9wZXJ0eURhdGEnKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBub2RlTmFtZSA9ICQodGhpcykuU1BGaWx0ZXJOb2RlKCdOYW1lJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbm9kZVZhbHVlID0gJCh0aGlzKS5TUEZpbHRlck5vZGUoJ1ZhbHVlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobm9kZU5hbWUubGVuZ3RoID4gMCAmJiBub2RlVmFsdWUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJQcm9maWxlW25vZGVOYW1lLnRleHQoKS50cmltKCldID0gbm9kZVZhbHVlLnRleHQoKS50cmltKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAvKiogT3B0aW9uYWxseSBzcGVjaWZ5IGEgbmVjZXNzYXJ5IHByZWZpeCB0aGF0IHNob3VsZCBhcHBlYXIgYmVmb3JlIHRoZSB1c2VyIGxvZ2luICovXG4gICAgICAgICAgICAgICAgICAgIHVzZXJQcm9maWxlLnVzZXJMb2dpbk5hbWUgPSBhcENvbmZpZy51c2VyTG9naW5OYW1lUHJlZml4ID9cbiAgICAgICAgICAgICAgICAgICAgICAgIChhcENvbmZpZy51c2VyTG9naW5OYW1lUHJlZml4ICsgdXNlclByb2ZpbGUuQWNjb3VudE5hbWUpIDogdXNlclByb2ZpbGUuQWNjb3VudE5hbWU7XG4gICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUodXNlclByb2ZpbGUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIERhdGFTZXJ2aWNlLnByb2Nlc3NDaGFuZ2VUb2tlblhNTFxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogVGhlIGluaXRpYWwgY2FsbCB0byBHZXRMaXN0SXRlbUNoYW5nZXNTaW5jZVRva2VuIGFsc28gaW5jbHVkZXMgdGhlIGZpZWxkIGRlZmluaXRpb25zIGZvciB0aGVcbiAgICAgICAgICogbGlzdCBzbyBleHRlbmQgdGhlIGV4aXN0aW5nIGZpZWxkIGRlZmluaXRpb25zIGFuZCBsaXN0IGRlZmluZWQgaW4gdGhlIG1vZGVsLiAgQWZ0ZXIgdGhhdCwgc3RvcmVcbiAgICAgICAgICogdGhlIGNoYW5nZSB0b2tlbiBhbmQgbWFrZSBhbnkgY2hhbmdlcyB0byB0aGUgdXNlcidzIHBlcm1pc3Npb25zIGZvciB0aGUgbGlzdC5cbiAgICAgICAgICogQHBhcmFtIHtNb2RlbH0gbW9kZWwgTGlzdCBtb2RlbC5cbiAgICAgICAgICogQHBhcmFtIHtJUXVlcnl9IHF1ZXJ5IFZhbGlkIHF1ZXJ5IG9iamVjdC5cbiAgICAgICAgICogQHBhcmFtIHtYTUxEb2N1bWVudH0gcmVzcG9uc2VYTUwgWE1MIHJlc3BvbnNlIGZyb20gdGhlIHNlcnZlci5cbiAgICAgICAgICogQHBhcmFtIHtvYmplY3R9IG9wdHMgQ29uZmlnIG9wdGlvbnMgYnVpbHQgdXAgYWxvbmcgdGhlIHdheS5cbiAgICAgICAgICovXG4gICAgICAgIHByb2Nlc3NDaGFuZ2VUb2tlblhNTChtb2RlbDogSU1vZGVsLCBxdWVyeTogSVF1ZXJ5LCByZXNwb25zZVhNTDogWE1MRG9jdW1lbnQsIG9wdHMpIHtcbiAgICAgICAgICAgIGlmICghbW9kZWwuZGVmZXJyZWRMaXN0RGVmaW5pdGlvbikge1xuICAgICAgICAgICAgICAgIC8qKiBSZXBsYWNlIHRoZSBudWxsIHBsYWNlaG9sZGVyIHdpdGggdGhpcyBwcm9taXNlIHNvIHdlIGRvbid0IGhhdmUgdG8gcHJvY2VzcyBpbiB0aGUgZnV0dXJlIGFuZCBhbHNvXG4gICAgICAgICAgICAgICAgICogZG9uJ3QgaGF2ZSB0byBxdWVyeSBhZ2FpbiBpZiB3ZSBydW4gTW9kZWwuZXh0ZW5kTGlzdE1ldGFkYXRhLiAqL1xuICAgICAgICAgICAgICAgIG1vZGVsLmRlZmVycmVkTGlzdERlZmluaXRpb24gPSBxdWVyeS5pbml0aWFsaXplZC5wcm9taXNlO1xuICAgICAgICAgICAgICAgIGFwRGVjb2RlU2VydmljZS5leHRlbmRMaXN0TWV0YWRhdGEobW9kZWwsIHJlc3BvbnNlWE1MKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLyoqIFN0b3JlIHRva2VuIGZvciBmdXR1cmUgd2ViIHNlcnZpY2UgY2FsbHMgdG8gcmV0dXJuIGNoYW5nZXMgKi9cbiAgICAgICAgICAgIHF1ZXJ5LmNoYW5nZVRva2VuID0gdGhpcy5yZXRyaWV2ZUNoYW5nZVRva2VuKHJlc3BvbnNlWE1MKTtcblxuICAgICAgICAgICAgLyoqIFVwZGF0ZSB0aGUgdXNlciBwZXJtaXNzaW9ucyBmb3IgdGhpcyBsaXN0ICovXG4gICAgICAgICAgICB2YXIgZWZmZWN0aXZlUGVybWlzc2lvbk1hc2sgPSB0aGlzLnJldHJpZXZlUGVybU1hc2socmVzcG9uc2VYTUwpO1xuICAgICAgICAgICAgaWYgKGVmZmVjdGl2ZVBlcm1pc3Npb25NYXNrKSB7XG4gICAgICAgICAgICAgICAgbW9kZWwubGlzdC5lZmZlY3RpdmVQZXJtTWFzayA9IGVmZmVjdGl2ZVBlcm1pc3Npb25NYXNrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvKiogQ2hhbmdlIHRva2VuIHF1ZXJ5IGluY2x1ZGVzIGRlbGV0ZWQgaXRlbXMgYXMgd2VsbCBzbyB3ZSBuZWVkIHRvIHByb2Nlc3MgdGhlbSBzZXBhcmF0ZWx5ICovXG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NEZWxldGlvbnNTaW5jZVRva2VuKHJlc3BvbnNlWE1MLCBvcHRzLnRhcmdldCk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIERhdGFTZXJ2aWNlLnByb2Nlc3NEZWxldGlvbnNTaW5jZVRva2VuXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBHZXRMaXN0SXRlbUNoYW5nZXNTaW5jZVRva2VuIHJldHVybnMgaXRlbXMgdGhhdCBoYXZlIGJlZW4gYWRkZWQgYXMgd2VsbCBhcyBkZWxldGVkIHNvIHdlIG5lZWRcbiAgICAgICAgICogdG8gcmVtb3ZlIHRoZSBkZWxldGVkIGl0ZW1zIGZyb20gdGhlIGxvY2FsIGNhY2hlLlxuICAgICAgICAgKiBAcGFyYW0ge1hNTERvY3VtZW50fSByZXNwb25zZVhNTCBYTUwgcmVzcG9uc2UgZnJvbSB0aGUgc2VydmVyLlxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5kZXhlZENhY2hlIENhY2hlZCBvYmplY3Qgb2Yga2V5IHZhbHVlIHBhaXJzLlxuICAgICAgICAgKi9cbiAgICAgICAgcHJvY2Vzc0RlbGV0aW9uc1NpbmNlVG9rZW4ocmVzcG9uc2VYTUw6IFhNTERvY3VtZW50LCBpbmRleGVkQ2FjaGU6IElJbmRleGVkQ2FjaGUpIHtcbiAgICAgICAgICAgIC8qKiBSZW1vdmUgYW55IGxvY2FsbHkgY2FjaGVkIGVudGl0aWVzIHRoYXQgd2VyZSBkZWxldGVkIGZyb20gdGhlIHNlcnZlciAqL1xuICAgICAgICAgICAgJChyZXNwb25zZVhNTCkuU1BGaWx0ZXJOb2RlKCdJZCcpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIC8qKiBDaGVjayBmb3IgdGhlIHR5cGUgb2YgY2hhbmdlICovXG4gICAgICAgICAgICAgICAgdmFyIGNoYW5nZVR5cGUgPSAkKHRoaXMpLmF0dHIoJ0NoYW5nZVR5cGUnKTtcblxuICAgICAgICAgICAgICAgIGlmIChjaGFuZ2VUeXBlID09PSAnRGVsZXRlJykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbGlzdEl0ZW1JZCA9IHBhcnNlSW50KCQodGhpcykudGV4dCgpLCAxMCk7XG4gICAgICAgICAgICAgICAgICAgIC8qKiBSZW1vdmUgZnJvbSBsb2NhbCBkYXRhIGFycmF5ICovXG4gICAgICAgICAgICAgICAgICAgIGluZGV4ZWRDYWNoZS5yZW1vdmVFbnRpdHkobGlzdEl0ZW1JZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIERhdGFTZXJ2aWNlLnJlcXVlc3REYXRhXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBUaGUgcHJpbWFyeSBmdW5jdGlvbiB0aGF0IGhhbmRsZXMgYWxsIGNvbW11bmljYXRpb24gd2l0aCB0aGUgc2VydmVyLiAgVGhpcyBpcyB2ZXJ5IGxvdyBsZXZlbCBhbmQgaXNuJ3RcbiAgICAgICAgICogaW50ZW5kZWQgdG8gYmUgY2FsbGVkIGRpcmVjdGx5LlxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gb3B0cyBQYXlsb2FkIG9iamVjdCBjb250YWluaW5nIHRoZSBkZXRhaWxzIG9mIHRoZSByZXF1ZXN0LlxuICAgICAgICAgKiBAcmV0dXJucyB7cHJvbWlzZX0gUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggdGhlIHNlcnZlciByZXNwb25zZS5cbiAgICAgICAgICovXG4gICAgICAgIHJlcXVlc3REYXRhKG9wdHMpOiBuZy5JUHJvbWlzZTxYTUxEb2N1bWVudD4ge1xuICAgICAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgICAgICAgdmFyIHNvYXBEYXRhID0gU1BTZXJ2aWNlcy5nZW5lcmF0ZVhNTENvbXBvbmVudHMob3B0cyk7XG4gICAgICAgICAgICB2YXIgc2VydmljZSA9IGFwV2ViU2VydmljZU9wZXJhdGlvbkNvbnN0YW50c1tvcHRzLm9wZXJhdGlvbl1bMF07XG4gICAgICAgICAgICB0aGlzLmdlbmVyYXRlV2ViU2VydmljZVVybChzZXJ2aWNlLCBvcHRzLndlYlVSTClcbiAgICAgICAgICAgICAgICAudGhlbigodXJsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICRodHRwLnBvc3QodXJsLCBzb2FwRGF0YS5tc2csIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlVHlwZTogXCJkb2N1bWVudFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwidGV4dC94bWw7Y2hhcnNldD0ndXRmLTgnXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU09BUEFjdGlvbjogKCkgPT4gc29hcERhdGEuU09BUEFjdGlvbiA/IHNvYXBEYXRhLlNPQVBBY3Rpb24gOiBudWxsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtUmVzcG9uc2U6IChkYXRhLCBoZWFkZXJzR2V0dGVyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF8uaXNTdHJpbmcoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9ICQucGFyc2VYTUwoZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLyoqIFN1Y2Nlc3MgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKiBFcnJvcnMgY2FuIHN0aWxsIGJlIHJlc29sdmVkIHdpdGhvdXQgdGhyb3dpbmcgYW4gZXJyb3Igc28gY2hlY2sgdGhlIFhNTCAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVycm9yID0gYXBEZWNvZGVTZXJ2aWNlLmNoZWNrUmVzcG9uc2VGb3JFcnJvcnMocmVzcG9uc2UuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yLCBvcHRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHJlc3BvbnNlLmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LCAocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKiBGYWlsdXJlICovXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXJyb3IgPSBhcERlY29kZVNlcnZpY2UuY2hlY2tSZXNwb25zZUZvckVycm9ycyhyZXNwb25zZS5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IocmVzcG9uc2Uuc3RhdHVzVGV4dCwgb3B0cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZWplY3QocmVzcG9uc2Uuc3RhdHVzVGV4dCArICc6ICcgKyBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAgICogQG5hbWUgRGF0YVNlcnZpY2UucmV0cmlldmVDaGFuZ2VUb2tlblxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogUmV0dXJucyB0aGUgY2hhbmdlIHRva2VuIGZyb20gdGhlIHhtbCByZXNwb25zZSBvZiBhIEdldExpc3RJdGVtQ2hhbmdlc1NpbmNlVG9rZW4gcXVlcnlcbiAgICAgICAgICogTm90ZTogdGhpcyBhdHRyaWJ1dGUgaXMgb25seSBmb3VuZCB3aGVuIHVzaW5nICdHZXRMaXN0SXRlbUNoYW5nZXNTaW5jZVRva2VuJ1xuICAgICAgICAgKiBAcGFyYW0ge1hNTERvY3VtZW50fSByZXNwb25zZVhNTCBYTUwgcmVzcG9uc2UgZnJvbSB0aGUgc2VydmVyLlxuICAgICAgICAgKi9cbiAgICAgICAgcmV0cmlldmVDaGFuZ2VUb2tlbihyZXNwb25zZVhNTDogWE1MRG9jdW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiAkKHJlc3BvbnNlWE1MKS5maW5kKCdDaGFuZ2VzJykuYXR0cignTGFzdENoYW5nZVRva2VuJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIERhdGFTZXJ2aWNlLnJldHJpZXZlUGVybU1hc2tcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIFJldHVybnMgdGhlIHRleHQgcmVwcmVzZW50YXRpb24gb2YgdGhlIHVzZXJzIHBlcm1pc3Npb24gbWFza1xuICAgICAgICAgKiBOb3RlOiB0aGlzIGF0dHJpYnV0ZSBpcyBvbmx5IGZvdW5kIHdoZW4gdXNpbmcgJ0dldExpc3RJdGVtQ2hhbmdlc1NpbmNlVG9rZW4nXG4gICAgICAgICAqIEBwYXJhbSB7WE1MRG9jdW1lbnR9IHJlc3BvbnNlWE1MIFhNTCByZXNwb25zZSBmcm9tIHRoZSBzZXJ2ZXIuXG4gICAgICAgICAqL1xuICAgICAgICByZXRyaWV2ZVBlcm1NYXNrKHJlc3BvbnNlWE1MOiBYTUxEb2N1bWVudCkge1xuICAgICAgICAgICAgcmV0dXJuICQocmVzcG9uc2VYTUwpLmZpbmQoJ2xpc3RpdGVtcycpLmF0dHIoJ0VmZmVjdGl2ZVBlcm1NYXNrJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIERhdGFTZXJ2aWNlLnNlcnZpY2VXcmFwcGVyXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBHZW5lcmljIHdyYXBwZXIgZm9yIGFueSBTUFNlcnZpY2VzIHdlYiBzZXJ2aWNlIGNhbGwuICBUaGUgYmlnIGJlbmVmaXQgdG8gdGhpcyBmdW5jdGlvbiBpcyBpdCBhbGxvd3MgdXNcbiAgICAgICAgICogdG8gY29udGludWUgdG8gdXNlIHRoZSAkcSBwcm9taXNlIG1vZGVsIHRocm91Z2hvdXQgdGhlIGFwcGxpY2F0aW9uIGluc3RlYWQgb2YgdXNpbmcgdGhlIHByb21pc2VcbiAgICAgICAgICogaW1wbGVtZW50YXRpb24gdXNlZCBpbiBTUFNlcnZpY2VzIHNvIHdlIGhhdmUgYSBtb3JlIGNvbnNpc3RlbnQgZXhwZXJpZW5jZS5cbiAgICAgICAgICogQ2hlY2sgaHR0cDogLy9zcHNlcnZpY2VzLmNvZGVwbGV4LmNvbS9kb2N1bWVudGF0aW9uIGZvciBkZXRhaWxzIG9uIGV4cGVjdGVkIHBhcmFtZXRlcnMgZm9yIGVhY2ggb3BlcmF0aW9uLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyBQYXlsb2FkIHBhcmFtcyB0aGF0IGlzIGRpcmVjdGx5IHBhc3NlZCB0byBTUFNlcnZpY2VzLlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMud2ViVVJMXSBYTUwgZmlsdGVyIHN0cmluZyB1c2VkIHRvIGZpbmQgdGhlIGVsZW1lbnRzIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmZpbHRlck5vZGVdIFhNTCBmaWx0ZXIgc3RyaW5nIHVzZWQgdG8gZmluZCB0aGUgZWxlbWVudHMgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAgICAgKiBUaGlzIGlzIHR5cGljYWxseSAnejogcm93JyBmb3IgbGlzdCBpdGVtcy5cbiAgICAgICAgICogQHJldHVybnMge29iamVjdH0gUmV0dXJucyBhIHByb21pc2Ugd2hpY2ggd2hlbiByZXNvbHZlZCBlaXRoZXIgcmV0dXJucyBjbGVhbiBvYmplY3RzIHBhcnNlZCBieSB0aGUgdmFsdWVcbiAgICAgICAgICogaW4gb3B0aW9ucy5maWx0ZXJOb2RlIG9yIHRoZSByYXcgWE1MIHJlc3BvbnNlIGlmIGEgb3B0aW9ucy5maWx0ZXJOb2RlXG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAgSWYgb3B0aW9ucy5maWx0ZXJOb2RlIGlzIHByb3ZpZGVkLCByZXR1cm5zIFhNTCBwYXJzZWQgYnkgbm9kZSBuYW1lXG4gICAgICAgICAqICAgICAgT3RoZXJ3aXNlIHJldHVybnMgdGhlIHNlcnZlciByZXNwb25zZVxuICAgICAgICAgKi9cbiAgICAgICAgc2VydmljZVdyYXBwZXIob3B0aW9ucyk6IG5nLklQcm9taXNlPGFueT4ge1xuICAgICAgICAgICAgdmFyIGRlZmF1bHRzID0ge1xuICAgICAgICAgICAgICAgIHBvc3RQcm9jZXNzOiBwcm9jZXNzWE1MLFxuICAgICAgICAgICAgICAgIHdlYlVSTDogYXBDb25maWcuZGVmYXVsdFVybFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciBvcHRzID0gXy5leHRlbmQoe30sIGRlZmF1bHRzLCBvcHRpb25zKTtcbiAgICAgICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgICAgICAgIC8qKiBDb252ZXJ0IHRoZSB4bWwgcmV0dXJuZWQgZnJvbSB0aGUgc2VydmVyIGludG8gYW4gYXJyYXkgb2YganMgb2JqZWN0cyAqL1xuICAgICAgICAgICAgZnVuY3Rpb24gcHJvY2Vzc1hNTChzZXJ2ZXJSZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIGlmIChvcHRzLmZpbHRlck5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5vZGVzID0gJChzZXJ2ZXJSZXNwb25zZSkuU1BGaWx0ZXJOb2RlKG9wdHMuZmlsdGVyTm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhcFhNTFRvSlNPTlNlcnZpY2UucGFyc2Uobm9kZXMsIHtpbmNsdWRlQWxsQXR0cnM6IHRydWUsIHJlbW92ZU93czogZmFsc2V9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2VydmVyUmVzcG9uc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnJlcXVlc3REYXRhKG9wdHMpXG4gICAgICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8qKiBGYWlsdXJlICovXG4gICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gb3B0cy5wb3N0UHJvY2VzcyhyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoZGF0YSk7XG4gICAgICAgICAgICAgICAgfSwgKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8qKiBGYWlsdXJlICovXG4gICAgICAgICAgICAgICAgICAgIHRvYXN0ci5lcnJvcignRmFpbGVkIHRvIGNvbXBsZXRlIHRoZSByZXF1ZXN0ZWQgJyArIG9wdHMub3BlcmF0aW9uICsgJyBvcGVyYXRpb24uJyk7XG4gICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdChyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBEYXRhU2VydmljZS5zdGFydFdvcmtmbG93XG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBJbml0aWF0ZSBhIHdvcmtmbG93IGZvciBhIGdpdmVuIGxpc3QgaXRlbSBvciBkb2N1bWVudC4gIFlvdSBjYW4gdmlldyBhZGRpdGlvbmFsIGluZm8gYXRcbiAgICAgICAgICogW1N0YXJ0V29ya2Zsb3ddKGh0dHA6IC8vc3BzZXJ2aWNlcy5jb2RlcGxleC5jb20vd2lraXBhZ2U/dGl0bGU9U3RhcnRXb3JrZmxvdyZyZWZlcnJpbmdUaXRsZT1Xb3JrZmxvdykuXG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIENvbmZpZ3VyYXRpb24gb3B0aW9ucy5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMuaXRlbSBGdWxsIGZpbGVSZWYgZm9yIHRoZSBnaXZlbiBsaXN0IGl0ZW0vZG9jdW1lbnQuXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBvcHRpb25zLnRlbXBsYXRlSWQgVGhlIHdvcmtmbG93IHRlbXBsYXRlIEdVSUQuICBZb3UgY2FuIHVzZSBkYXRhU2VydmljZS5nZXRBdmFpbGFibGVXb3JrZmxvd3NcbiAgICAgICAgICogdG8gbG9jYXRlIHRvIGFwcHJvcHJpYXRlIG9uZS5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLndvcmtmbG93UGFyYW1ldGVycz0nPHJvb3QgLz4nXSBPcHRpb25hbGx5IHByb3ZpZGUgcGFyYW1hdGVycyB0byB0aGUgd29ya2Zsb3cuXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5maWxlUmVmXSBPcHRpb25hbGx5IHBhc3MgaW4gdGhlIHJlbGF0aXZlIGZpbGVSZWYgb2YgYW4gbGlzdEl0ZW0gYW5kIHRoZW4gd2UgY2FuXG4gICAgICAgICAqIGNvbnZlcnQgaXQgdG8gb3B0aW9ucy5pdGVtLlxuICAgICAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSBEZWZlcnJlZCBvYmplY3QgdGhhdCByZXNvbHZlcyBvbmNlIGNvbXBsZXRlLlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiA8cHJlPlxuICAgICAgICAgKiBEYXRhU2VydmljZS5zdGFydFdvcmtmbG93KHtcbiAgICAgICAgICogICAgIGl0ZW06IFwiaHR0cHM6IC8vc2VydmVyL3NpdGUvTGlzdHMvaXRlbVwiICsgaWREYXRhICsgXCJfLjAwMFwiLFxuICAgICAgICAgKiAgICAgdGVtcGxhdGVJZDogXCJ7YzI5YzEyOTEtYTI1Yy00N2Q3LTkzNDUtOGZiMWRlMmExZmEzfVwiLFxuICAgICAgICAgKiAgICAgd29ya2Zsb3dQYXJhbWV0ZXJzOiBcIjxEYXRhPjxtb250aE5hbWU+XCIgKyB0eHRCb3gudmFsdWUgKyBcIjwvbW9udGhOYW1lPjwvRGF0YT5cIixcbiAgICAgICAgICogICAuLi59KS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgKiAgICAgICAvL1N1Y2Nlc3NcbiAgICAgICAgICogICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICogICAgICAgLy9FcnJvclxuICAgICAgICAgKiAgIH0pXG4gICAgICAgICAqIDwvcHJlPlxuICAgICAgICAgKi9cbiAgICAgICAgc3RhcnRXb3JrZmxvdyhvcHRpb25zOiB7aXRlbTogc3RyaW5nOyB0ZW1wbGF0ZUlkOiBzdHJpbmc7IHdvcmtmbG93UGFyYW1ldGVycz86IHN0cmluZzsgZmlsZVJlZj86IHN0cmluZzt9KTogbmcuSVByb21pc2U8YW55PiB7XG4gICAgICAgICAgICB2YXIgZGVmYXVsdHMgPSB7XG4gICAgICAgICAgICAgICAgICAgIG9wZXJhdGlvbjogJ1N0YXJ0V29ya2Zsb3cnLFxuICAgICAgICAgICAgICAgICAgICBpdGVtOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgZmlsZVJlZjogJycsXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlSWQ6ICcnLFxuICAgICAgICAgICAgICAgICAgICB3b3JrZmxvd1BhcmFtZXRlcnM6ICc8cm9vdCAvPidcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9wdHM6IHtpdGVtOiBzdHJpbmc7IGZpbGVSZWY6IHN0cmluZzt9ID0gXy5leHRlbmQoe30sIGRlZmF1bHRzLCBvcHRpb25zKTtcblxuICAgICAgICAgICAgLyoqIFdlIGhhdmUgdGhlIHJlbGF0aXZlIGZpbGUgcmVmZXJlbmNlIGJ1dCB3ZSBuZWVkIHRvIGNyZWF0ZSB0aGUgZnVsbHkgcXVhbGlmaWVkIHJlZmVyZW5jZSAqL1xuICAgICAgICAgICAgaWYgKCFvcHRzLml0ZW0gJiYgb3B0cy5maWxlUmVmKSB7XG4gICAgICAgICAgICAgICAgb3B0cy5pdGVtID0gdGhpcy5jcmVhdGVJdGVtVXJsRnJvbUZpbGVSZWYob3B0cy5maWxlUmVmKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2VydmljZVdyYXBwZXIob3B0cyk7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAgICogQG5hbWUgRGF0YVNlcnZpY2UudXBkYXRlTGlzdEl0ZW1cbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIFVwZGF0ZXMgYW4gZXhpc3RpbmcgbGlzdCBpdGVtLlxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gbW9kZWwgUmVmZXJlbmNlIHRvIHRoZSBlbnRpdGllcyBtb2RlbC5cbiAgICAgICAgICogQHBhcmFtIHtvYmplY3R9IGxpc3RJdGVtIEphdmFTY3JpcHQgb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgU2hhcmVQb2ludCBsaXN0IGl0ZW0uXG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gT3B0aW9uYWwgY29uZmlndXJhdGlvbiBwYXJhbXMuXG4gICAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYnVpbGRWYWx1ZVBhaXJzPXRydWVdIEF1dG9tYXRpY2FsbHkgZ2VuZXJhdGUgcGFpcnMgYmFzZWQgb24gZmllbGRzIGRlZmluZWQgaW4gbW9kZWwuXG4gICAgICAgICAqIEBwYXJhbSB7QXJyYXlbXX0gW29wdGlvbnMudmFsdWVQYWlyc10gUHJlY29tcHV0ZWQgdmFsdWUgcGFpcnMgdG8gdXNlIGluc3RlYWQgb2YgZ2VuZXJhdGluZyB0aGVtIGZvciBlYWNoXG4gICAgICAgICAqIGZpZWxkIGlkZW50aWZpZWQgaW4gdGhlIG1vZGVsLlxuICAgICAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSBQcm9taXNlIHdoaWNoIHJlc29sdmVzIHdpdGggdGhlIG5ld2x5IGNyZWF0ZWQgaXRlbS5cbiAgICAgICAgICovXG4gICAgICAgIHVwZGF0ZUxpc3RJdGVtKG1vZGVsOiBJTW9kZWwsIGxpc3RJdGVtOiBMaXN0SXRlbSwgb3B0aW9ucykge1xuICAgICAgICAgICAgdmFyIGRlZmF1bHRzID0ge1xuICAgICAgICAgICAgICAgICAgICBiYXRjaENtZDogJ1VwZGF0ZScsXG4gICAgICAgICAgICAgICAgICAgIGJ1aWxkVmFsdWVQYWlyczogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgSUQ6IGxpc3RJdGVtLmlkLFxuICAgICAgICAgICAgICAgICAgICBsaXN0TmFtZTogbW9kZWwubGlzdC5nZXRMaXN0SWQoKSxcbiAgICAgICAgICAgICAgICAgICAgb3BlcmF0aW9uOiAnVXBkYXRlTGlzdEl0ZW1zJyxcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBsaXN0SXRlbS5nZXRDYWNoZSgpLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZVBhaXJzOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgd2ViVVJMOiBtb2RlbC5saXN0LmlkZW50aWZ5V2ViVVJMKClcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGRlZmVycmVkID0gJHEuZGVmZXIoKSxcbiAgICAgICAgICAgICAgICBvcHRzOiB7YnVpbGRWYWx1ZVBhaXJzOiBib29sZWFuOyB2YWx1ZVBhaXJzOiBbW3N0cmluZywgYW55XVtdXTsgd2ViVVJMOiBzdHJpbmc7fSA9IF8uZXh0ZW5kKHt9LCBkZWZhdWx0cywgb3B0aW9ucyk7XG5cbiAgICAgICAgICAgIGlmIChvcHRzLmJ1aWxkVmFsdWVQYWlycyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHZhciBlZGl0YWJsZUZpZWxkcyA9IF8ud2hlcmUobW9kZWwubGlzdC5maWVsZHMsIHtyZWFkT25seTogZmFsc2V9KTtcbiAgICAgICAgICAgICAgICBvcHRzLnZhbHVlUGFpcnMgPSBhcEVuY29kZVNlcnZpY2UuZ2VuZXJhdGVWYWx1ZVBhaXJzKGVkaXRhYmxlRmllbGRzLCBsaXN0SXRlbSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChtb2RlbC5saXN0LndlYlVSTCAmJiAhb3B0cy53ZWJVUkwpIHtcbiAgICAgICAgICAgICAgICBvcHRzLndlYlVSTCA9IG1vZGVsLmxpc3Qud2ViVVJMO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvKiogTm90aWZ5IGFueSBsaXN0ZW5lcnMgdG8gZXhwZWN0IGEgY2hhbmdlICovXG4gICAgICAgICAgICBhcENoYW5nZVNlcnZpY2UucmVnaXN0ZXJMaXN0SXRlbVVwZGF0ZShsaXN0SXRlbSwgb3B0cywgZGVmZXJyZWQucHJvbWlzZSk7XG5cbiAgICAgICAgICAgIC8vLyoqIE92ZXJsb2FkIHRoZSBmdW5jdGlvbiB0aGVuIHBhc3MgYW55dGhpbmcgcGFzdCB0aGUgZmlyc3QgcGFyYW1ldGVyIHRvIHRoZSBzdXBwb3J0aW5nIG1ldGhvZHMgKi9cbiAgICAgICAgICAgIC8vdGhpcy5zZXJ2aWNlV3JhcHBlcihvcHRzLCBsaXN0SXRlbSwgbW9kZWwpXG4gICAgICAgICAgICB0aGlzLnNlcnZpY2VXcmFwcGVyKG9wdHMpXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleGVkQ2FjaGUgPSBhcERlY29kZVNlcnZpY2UucHJvY2Vzc0xpc3RJdGVtcyhtb2RlbCwgbGlzdEl0ZW0uZ2V0UXVlcnkoKSwgcmVzcG9uc2UsIG9wdHMpO1xuICAgICAgICAgICAgICAgICAgICAvKiogUmV0dXJuIHJlZmVyZW5jZSB0byB1cGRhdGVkIGxpc3RJdGVtICAqL1xuICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGluZGV4ZWRDYWNoZVtsaXN0SXRlbS5pZF0pO1xuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBTaW1wbHkgdmVyaWZpZXMgdGhhdCBhbGwgY29tcG9uZW50cyBvZiB0aGUgcGF5bG9hZCBhcmUgcHJlc2VudC5cbiAgICAgICAgICogQHBhcmFtIHtvYmplY3R9IG9wdHMgUGF5bG9hZCBjb25maWcuXG4gICAgICAgICAqIEByZXR1cm5zIHtib29sZWFufSBDb2xsZWN0aW9uIGlzIHZhbGlkLlxuICAgICAgICAgKi9cbiAgICAgICAgdmFsaWRhdGVDb2xsZWN0aW9uUGF5bG9hZChvcHRzKSB7XG4gICAgICAgICAgICB2YXIgdmFsaWRQYXlsb2FkID0gdHJ1ZTtcbiAgICAgICAgICAgIHZhciB2ZXJpZnlQYXJhbXMgPSAocGFyYW1zKSA9PiB7XG4gICAgICAgICAgICAgICAgXy5lYWNoKHBhcmFtcywgKHBhcmFtKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghb3B0c1twYXJhbV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5lcnJvcignb3B0aW9ucycgKyBwYXJhbSArICcgaXMgcmVxdWlyZWQgdG8gY29tcGxldGUgdGhpcyBvcGVyYXRpb24nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkUGF5bG9hZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuXG4vL1ZlcmlmeSBhbGwgcmVxdWlyZWQgcGFyYW1zIGFyZSBpbmNsdWRlZFxuICAgICAgICAgICAgc3dpdGNoIChvcHRzLm9wZXJhdGlvbikge1xuICAgICAgICAgICAgICAgIGNhc2UgJ0dldEdyb3VwQ29sbGVjdGlvbkZyb21Vc2VyJzpcbiAgICAgICAgICAgICAgICAgICAgdmVyaWZ5UGFyYW1zKFsndXNlckxvZ2luTmFtZSddKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnR2V0VXNlckNvbGxlY3Rpb25Gcm9tR3JvdXAnOlxuICAgICAgICAgICAgICAgICAgICB2ZXJpZnlQYXJhbXMoWydncm91cE5hbWUnXSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ0dldFZpZXdDb2xsZWN0aW9uJzpcbiAgICAgICAgICAgICAgICAgICAgdmVyaWZ5UGFyYW1zKFsnbGlzdE5hbWUnXSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ0dldEF0dGFjaG1lbnRDb2xsZWN0aW9uJzpcbiAgICAgICAgICAgICAgICAgICAgdmVyaWZ5UGFyYW1zKFsnbGlzdE5hbWUnLCAnSUQnXSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHZhbGlkUGF5bG9hZDtcbiAgICAgICAgfVxuXG5cbiAgICB9XG5cblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnYW5ndWxhclBvaW50JylcbiAgICAgICAgLnNlcnZpY2UoJ2FwRGF0YVNlcnZpY2UnLCBEYXRhU2VydmljZSk7XG5cbn1cbiIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90eXBpbmdzL2FwLmQudHNcIiAvPlxuXG5tb2R1bGUgYXAge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBzZXJ2aWNlXG4gICAgICogQG5hbWUgYW5ndWxhclBvaW50LmFwRGVjb2RlU2VydmljZVxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFByb2Nlc3NlcyB0aGUgWE1MIHJlY2VpdmVkIGZyb20gU2hhcmVQb2ludCBhbmQgY29udmVydHMgaXQgaW50byBKYXZhU2NyaXB0IG9iamVjdHMgYmFzZWQgb24gcHJlZGVmaW5lZCBmaWVsZCB0eXBlcy5cbiAgICAgKlxuICAgICAqIEByZXF1aXJlcyBhbmd1bGFyUG9pbnQuYXBVdGlsaXR5U2VydmljZVxuICAgICAqIEByZXF1aXJlcyBhbmd1bGFyUG9pbnQuYXBDb25maWdcbiAgICAgKiBAcmVxdWlyZXMgYW5ndWxhclBvaW50LmFwQ2FjaGVTZXJ2aWNlXG4gICAgICovXG4gICAgZXhwb3J0IGNsYXNzIERlY29kZVNlcnZpY2Uge1xuICAgICAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGFwQ2FjaGVTZXJ2aWNlOkNhY2hlU2VydmljZSwgcHJpdmF0ZSBhcExvb2t1cEZhY3Rvcnk6TG9va3VwRmFjdG9yeSxcbiAgICAgICAgICAgICAgICAgICAgcHJpdmF0ZSBhcFVzZXJGYWN0b3J5OlVzZXJGYWN0b3J5LCBwcml2YXRlIGFwRmllbGRTZXJ2aWNlLCBwcml2YXRlIGFwWE1MTGlzdEF0dHJpYnV0ZVR5cGVzLFxuICAgICAgICAgICAgICAgICAgICBwcml2YXRlIGFwWE1MRmllbGRBdHRyaWJ1dGVUeXBlcykge1xuXG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcERlY29kZVNlcnZpY2U6Y2hlY2tSZXNwb25zZUZvckVycm9yc1xuICAgICAgICAgKiBAbWV0aG9kT2YgYW5ndWxhclBvaW50LmFwRGVjb2RlU2VydmljZVxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogRXJyb3JzIGRvbid0IGFsd2F5cyB0aHJvdyBjb3JyZWN0bHkgZnJvbSBTUFNlcnZpY2VzIHNvIHRoaXMgZnVuY3Rpb24gY2hlY2tzIHRvIHNlZSBpZiBwYXJ0XG4gICAgICAgICAqIG9mIHRoZSBYSFIgcmVzcG9uc2UgY29udGFpbnMgYW4gXCJlcnJvcnN0cmluZ1wiIGVsZW1lbnQuXG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSByZXNwb25zZVhNTCBYSFIgcmVzcG9uc2UgZnJvbSB0aGUgc2VydmVyLlxuICAgICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfG51bGx9IFJldHVybnMgYW4gZXJyb3Igc3RyaW5nIGlmIHByZXNlbnQsIG90aGVyd2lzZSByZXR1cm5zIG51bGwuXG4gICAgICAgICAqL1xuICAgICAgICBjaGVja1Jlc3BvbnNlRm9yRXJyb3JzKHJlc3BvbnNlWE1MOlhNTERvY3VtZW50KTpzdHJpbmcge1xuICAgICAgICAgICAgdmFyIGVycm9yID0gbnVsbDtcbiAgICAgICAgICAgIC8qKiBMb29rIGZvciA8ZXJyb3JzdHJpbmc+PC9lcnJvcnN0cmluZz4gb3IgPEVycm9yVGV4dD48L0Vycm9yVGV4dD4gZm9yIGRldGFpbHMgb24gYW55IGVycm9ycyAqL1xuICAgICAgICAgICAgdmFyIGVycm9yRWxlbWVudHMgPSBbJ0Vycm9yVGV4dCcsICdlcnJvcnN0cmluZyddO1xuICAgICAgICAgICAgXy5lYWNoKGVycm9yRWxlbWVudHMsIChlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgJChyZXNwb25zZVhNTCkuZmluZChlbGVtZW50KS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IgPSAkKHRoaXMpLnRleHQoKTtcbiAgICAgICAgICAgICAgICAgICAgLyoqIEJyZWFrIGVhcmx5IGlmIGZvdW5kICovXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGVycm9yO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqIENvbnZlcnRzIFVUQyBkYXRlIHRvIGEgbG9jYWxpemVkIGRhdGVcbiAgICAgICAgICogVGFrZW4gZnJvbTogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy82NTI1NTM4L2NvbnZlcnQtdXRjLWRhdGUtdGltZS10by1sb2NhbC1kYXRlLXRpbWUtdXNpbmctamF2YXNjcmlwdFxuICAgICAgICAgKiAqL1xuICAgICAgICBjb252ZXJ0VVRDRGF0ZVRvTG9jYWxEYXRlKGRhdGU6RGF0ZSk6RGF0ZSB7XG4gICAgICAgICAgICB2YXIgbmV3RGF0ZSA9IG5ldyBEYXRlKGRhdGUuZ2V0VGltZSgpICsgZGF0ZS5nZXRUaW1lem9uZU9mZnNldCgpICogNjAgKiAxMDAwKTtcblxuICAgICAgICAgICAgdmFyIG9mZnNldCA9IGRhdGUuZ2V0VGltZXpvbmVPZmZzZXQoKSAvIDYwO1xuICAgICAgICAgICAgdmFyIGhvdXJzID0gZGF0ZS5nZXRIb3VycygpO1xuXG4gICAgICAgICAgICBuZXdEYXRlLnNldEhvdXJzKGhvdXJzIC0gb2Zmc2V0KTtcblxuICAgICAgICAgICAgcmV0dXJuIG5ld0RhdGU7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcERlY29kZVNlcnZpY2U6Y3JlYXRlTGlzdEl0ZW1Qcm92aWRlclxuICAgICAgICAgKiBAbWV0aG9kT2YgYW5ndWxhclBvaW50LmFwRGVjb2RlU2VydmljZVxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogVGhlIGluaXRpYWwgY29uc3RydWN0b3IgZm9yIGEgbGlzdCBpdGVtIHRoYXQgcmVmZXJlbmNlcyB0aGUgYXJyYXkgd2hlcmUgdGhlIGVudGl0eSBleGlzdHMgYW5kIHRoZVxuICAgICAgICAgKiBxdWVyeSB1c2VkIHRvIGZldGNoIHRoZSBlbnRpdHkuICBGcm9tIHRoZXJlIGl0IGV4dGVuZHMgdGhlIGVudGl0eSB1c2luZyB0aGUgZmFjdG9yeSBkZWZpbmVkIGluIHRoZVxuICAgICAgICAgKiBtb2RlbCBmb3IgdGhlIGxpc3QgaXRlbS5cbiAgICAgICAgICogQHBhcmFtIHtvYmplY3R9IG1vZGVsIFJlZmVyZW5jZSB0byB0aGUgbW9kZWwgZm9yIHRoZSBsaXN0IGl0ZW0uXG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBxdWVyeSBSZWZlcmVuY2UgdG8gdGhlIHF1ZXJ5IG9iamVjdCB1c2VkIHRvIHJldHJpZXZlIHRoZSBlbnRpdHkuXG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBpbmRleGVkQ2FjaGUgTG9jYXRpb24gd2hlcmUgd2UnbGwgYmUgcHVzaGluZyB0aGUgbmV3IGVudGl0eS5cbiAgICAgICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCB0YWtlcyB0aGUgbmV3IGxpc3QgaXRlbSB3aGlsZSBrZWVwaW5nIG1vZGVsLCBxdWVyeSxcbiAgICAgICAgICogYW5kIGNvbnRhaW5lciBpbiBzY29wZSBmb3IgZnV0dXJlIHJlZmVyZW5jZS5cbiAgICAgICAgICovXG4gICAgICAgIGNyZWF0ZUxpc3RJdGVtUHJvdmlkZXIobW9kZWw6SU1vZGVsLCBxdWVyeTpJUXVlcnksIGluZGV4ZWRDYWNoZTpJSW5kZXhlZENhY2hlKTooT2JqZWN0KSA9PiBJTGlzdEl0ZW0ge1xuICAgICAgICAgICAgcmV0dXJuIChyYXdPYmplY3Q6SUxpc3RJdGVtKSA9PiB7XG4gICAgICAgICAgICAgICAgLyoqIENyZWF0ZSBSZWZlcmVuY2UgdG8gdGhlIGluZGV4ZWQgY2FjaGUgKi9cbiAgICAgICAgICAgICAgICByYXdPYmplY3QuZ2V0Q2FjaGUgPSAoKSA9PiBpbmRleGVkQ2FjaGU7XG5cbiAgICAgICAgICAgICAgICAvKiogQWxsb3cgdXMgdG8gcmVmZXJlbmNlIHRoZSBvcmlnaW5hdGluZyBxdWVyeSB0aGF0IGdlbmVyYXRlZCB0aGlzIG9iamVjdCAqL1xuICAgICAgICAgICAgICAgIHJhd09iamVjdC5nZXRRdWVyeSA9ICgpID0+IHF1ZXJ5O1xuXG4gICAgICAgICAgICAgICAgLyoqIEFsbG93IHVzIHRvIHJlZmVyZW5jZSB0aGUgcGFyZW50IG1vZGVsIGZvciBhbnkgbGlzdCBpdGVtICovXG4gICAgICAgICAgICAgICAgLy9yYXdPYmplY3QuZ2V0TW9kZWwgPSAoKSA9PiBtb2RlbDtcblxuICAgICAgICAgICAgICAgIHZhciBsaXN0SXRlbSA9IG5ldyBtb2RlbC5mYWN0b3J5KHJhd09iamVjdCk7XG5cbiAgICAgICAgICAgICAgICAvKiogUmVnaXN0ZXIgaW4gZ2xvYmFsIGFwcGxpY2F0aW9uIGxpc3RJdGVtIGNhY2hlIGFuZCBleHRlbmRzIHRoZSBleGlzdGluZyBsaXN0SXRlbSBpZiBpdFxuICAgICAgICAgICAgICAgICAqIGFscmVhZHkgZXhpc3RzICovXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXBDYWNoZVNlcnZpY2UucmVnaXN0ZXJFbnRpdHkobGlzdEl0ZW0sIGluZGV4ZWRDYWNoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcERlY29kZVNlcnZpY2U6ZXh0ZW5kRmllbGREZWZpbml0aW9uc0Zyb21YTUxcbiAgICAgICAgICogQG1ldGhvZE9mIGFuZ3VsYXJQb2ludC5hcERlY29kZVNlcnZpY2VcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIFRha2VzIHRoZSBYTUwgcmVzcG9uc2UgZnJvbSBhIHdlYiBzZXJ2aWNlIGNhbGwgYW5kIGV4dGVuZHMgYW55IGZpZWxkIGRlZmluaXRpb25zIGluIHRoZSBtb2RlbFxuICAgICAgICAgKiB3aXRoIGFkZGl0aW9uYWwgZmllbGQgbWV0YWRhdGEuICBJbXBvcnRhbnQgdG8gbm90ZSB0aGF0IGFsbCBwcm9wZXJ0aWVzIHdpbGwgY29taW5nIGZyb20gdGhlIFhNTCBzdGFydFxuICAgICAgICAgKiB3aXRoIGEgY2FwaXRhbCBsZXR0ZXIuXG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0W119IGZpZWxkRGVmaW5pdGlvbnMgRmllbGQgZGVmaW5pdGlvbnMgZnJvbSB0aGUgbW9kZWwuXG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSByZXNwb25zZVhNTCBYTUwgcmVzcG9uc2UgZnJvbSB0aGUgc2VydmVyLlxuICAgICAgICAgKi9cbiAgICAgICAgZXh0ZW5kRmllbGREZWZpbml0aW9uc0Zyb21YTUwoZmllbGREZWZpbml0aW9uczpJRmllbGREZWZpbml0aW9uW10sIHJlc3BvbnNlWE1MOlhNTERvY3VtZW50KTpJRmllbGREZWZpbml0aW9uW10ge1xuICAgICAgICAgICAgdmFyIGZpZWxkTWFwID0ge307XG5cbiAgICAgICAgICAgIC8qKiBNYXAgYWxsIGN1c3RvbSBmaWVsZHMgd2l0aCBrZXlzIG9mIHRoZSBzdGF0aWNOYW1lIGFuZCB2YWx1ZXMgPSBmaWVsZCBkZWZpbml0aW9uICovXG4gICAgICAgICAgICBfLmVhY2goZmllbGREZWZpbml0aW9ucywgKGZpZWxkKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGZpZWxkLnN0YXRpY05hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgZmllbGRNYXBbZmllbGQuc3RhdGljTmFtZV0gPSBmaWVsZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLyoqIEl0ZXJhdGUgb3ZlciBlYWNoIG9mIHRoZSBmaWVsZCBub2RlcyAqL1xuICAgICAgICAgICAgdmFyIGZpZWxkcyA9ICQocmVzcG9uc2VYTUwpLlNQRmlsdGVyTm9kZSgnRmllbGQnKTtcblxuICAgICAgICAgICAgXy5lYWNoKGZpZWxkcywgKHhtbEZpZWxkKSA9PiB7XG5cblxuICAgICAgICAgICAgICAgIHZhciBzdGF0aWNOYW1lID0gJCh4bWxGaWVsZCkuYXR0cignU3RhdGljTmFtZScpO1xuICAgICAgICAgICAgICAgIHZhciBmaWVsZERlZmluaXRpb24gPSBmaWVsZE1hcFtzdGF0aWNOYW1lXTtcblxuICAgICAgICAgICAgICAgIC8qKiBJZiB3ZSd2ZSBkZWZpbmVkIHRoaXMgZmllbGQgdGhlbiB3ZSBzaG91bGQgZXh0ZW5kIGl0ICovXG4gICAgICAgICAgICAgICAgaWYgKGZpZWxkRGVmaW5pdGlvbikge1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXh0ZW5kT2JqZWN0V2l0aFhNTEF0dHJpYnV0ZXMoeG1sRmllbGQsIGZpZWxkRGVmaW5pdGlvbiwgdGhpcy5hcFhNTEZpZWxkQXR0cmlidXRlVHlwZXMpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8qKiBBZGRpdGlvbmFsIHByb2Nlc3NpbmcgZm9yIENob2ljZSBmaWVsZHMgdG8gaW5jbHVkZSB0aGUgZGVmYXVsdCB2YWx1ZSBhbmQgY2hvaWNlcyAqL1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmllbGREZWZpbml0aW9uLm9iamVjdFR5cGUgPT09ICdDaG9pY2UnIHx8IGZpZWxkRGVmaW5pdGlvbi5vYmplY3RUeXBlID09PSAnTXVsdGlDaG9pY2UnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZERlZmluaXRpb24uQ2hvaWNlcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgLyoqIENvbnZlcnQgWE1MIENob2ljZXMgb2JqZWN0IHRvIGFuIGFycmF5IG9mIGNob2ljZXMgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB4bWxDaG9pY2VzID0gJCh4bWxGaWVsZCkuZmluZCgnQ0hPSUNFJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfLmVhY2goeG1sQ2hvaWNlcywgKHhtbENob2ljZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkRGVmaW5pdGlvbi5DaG9pY2VzLnB1c2goJCh4bWxDaG9pY2UpLnRleHQoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkRGVmaW5pdGlvbi5EZWZhdWx0ID0gJCh4bWxGaWVsZCkuZmluZCgnRGVmYXVsdCcpLnRleHQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gZmllbGREZWZpbml0aW9ucztcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAgICogQG5hbWUgYW5ndWxhclBvaW50LmFwRGVjb2RlU2VydmljZTpleHRlbmRMaXN0RGVmaW5pdGlvbkZyb21YTUxcbiAgICAgICAgICogQG1ldGhvZE9mIGFuZ3VsYXJQb2ludC5hcERlY29kZVNlcnZpY2VcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIFRha2VzIHRoZSBYTUwgcmVzcG9uc2UgZnJvbSBhIHdlYiBzZXJ2aWNlIGNhbGwgYW5kIGV4dGVuZHMgdGhlIGxpc3QgZGVmaW5pdGlvbiBpbiB0aGUgbW9kZWxcbiAgICAgICAgICogd2l0aCBhZGRpdGlvbmFsIGZpZWxkIG1ldGFkYXRhLiAgSW1wb3J0YW50IHRvIG5vdGUgdGhhdCBhbGwgcHJvcGVydGllcyB3aWxsIGNvbWluZyBmcm9tIHRoZSBYTUwgc3RhcnRcbiAgICAgICAgICogd2l0aCBhIGNhcGl0YWwgbGV0dGVyLlxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gbGlzdCBtb2RlbC5saXN0XG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSByZXNwb25zZVhNTCBYTUwgcmVzcG9uc2UgZnJvbSB0aGUgc2VydmVyLlxuICAgICAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSBFeHRlbmRlZCBsaXN0IG9iamVjdC5cbiAgICAgICAgICovXG4gICAgICAgIGV4dGVuZExpc3REZWZpbml0aW9uRnJvbVhNTChsaXN0OklMaXN0LCByZXNwb25zZVhNTDpYTUxEb2N1bWVudCk6SUxpc3Qge1xuICAgICAgICAgICAgdmFyIHNlcnZpY2UgPSB0aGlzO1xuICAgICAgICAgICAgJChyZXNwb25zZVhNTCkuZmluZChcIkxpc3RcIikuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgc2VydmljZS5leHRlbmRPYmplY3RXaXRoWE1MQXR0cmlidXRlcyh0aGlzLCBsaXN0LCBzZXJ2aWNlLmFwWE1MTGlzdEF0dHJpYnV0ZVR5cGVzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGxpc3Q7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcERlY29kZVNlcnZpY2U6ZXh0ZW5kTGlzdE1ldGFkYXRhXG4gICAgICAgICAqIEBtZXRob2RPZiBhbmd1bGFyUG9pbnQuYXBEZWNvZGVTZXJ2aWNlXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBDb252ZW5pZW5jZSBtZXRob2QgdGhhdCBleHRlbmRzIHRoZSBsaXN0IGRlZmluaXRpb24gYW5kIHRoZSBmaWVsZCBkZWZpbml0aW9ucyBmcm9tIGFuIHhtbCBsaXN0IHJlc3BvbnNlXG4gICAgICAgICAqIGZyb20gdGhlIHNlcnZlci4gIENhbiBiZSB1c2VkIHNwZWNpZmljYWxseSB3aXRoIEdldExpc3RJdGVtc1NpbmNlVG9rZW4gYW5kIEdldExpc3Qgb3BlcmF0aW9ucy5cbiAgICAgICAgICogQHBhcmFtIHtvYmplY3R9IG1vZGVsIE1vZGVsIGZvciBhIGdpdmVuIGxpc3QuXG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSByZXNwb25zZVhNTCBYTUwgcmVzcG9uc2UgZnJvbSB0aGUgc2VydmVyLlxuICAgICAgICAgKi9cbiAgICAgICAgZXh0ZW5kTGlzdE1ldGFkYXRhKG1vZGVsOklNb2RlbCwgcmVzcG9uc2VYTUw6WE1MRG9jdW1lbnQpOnZvaWQge1xuICAgICAgICAgICAgdGhpcy5leHRlbmRMaXN0RGVmaW5pdGlvbkZyb21YTUwobW9kZWwubGlzdCwgcmVzcG9uc2VYTUwpO1xuICAgICAgICAgICAgdGhpcy5leHRlbmRGaWVsZERlZmluaXRpb25zRnJvbVhNTChtb2RlbC5saXN0LmZpZWxkcywgcmVzcG9uc2VYTUwpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBEZWNvZGVTZXJ2aWNlOmV4dGVuZE9iamVjdFdpdGhYTUxBdHRyaWJ1dGVzXG4gICAgICAgICAqIEBtZXRob2RPZiBhbmd1bGFyUG9pbnQuYXBEZWNvZGVTZXJ2aWNlXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBUYWtlcyBhbiBYTUwgZWxlbWVudCBhbmQgY29waWVzIGFsbCBhdHRyaWJ1dGVzIG92ZXIgdG8gYSBnaXZlbiBKUyBvYmplY3Qgd2l0aCBjb3JyZXNwb25kaW5nIHZhbHVlcy4gIElmXG4gICAgICAgICAqIG5vIEpTIE9iamVjdCBpcyBwcm92aWRlZCwgaXQgZXh0ZW5kcyBhbiBlbXB0eSBvYmplY3QgYW5kIHJldHVybnMgaXQuICBJZiBhbiBhdHRyaWJ1dGVUeXBlcyBvYmplY3QgaXMgcHJvdmlkZWRcbiAgICAgICAgICogd2UgcGFyc2UgZWFjaCBvZiB0aGUgZGVmaW5lZCBmaWVsZCBzbyB0aGV5IGFyZSB0eXBlZCBjb3JyZWN0bHkgaW5zdGVhZCBvZiBiZWluZyBhIHNpbXBsZSBzdHJpbmcuXG4gICAgICAgICAqIE5vdGU6IFByb3BlcnRpZXMgYXJlIG5vdCBuZWNlc3NhcmlseSBDQU1MQ2FzZS5cbiAgICAgICAgICogQHBhcmFtIHtvYmplY3R9IHhtbE9iamVjdCBBbiBYTUwgZWxlbWVudC5cbiAgICAgICAgICogQHBhcmFtIHtvYmplY3R9IFtqc09iamVjdD17fV0gQW4gb3B0aW9uYWwgSlMgT2JqZWN0IHRvIGV4dGVuZCBYTUwgYXR0cmlidXRlcyB0by5cbiAgICAgICAgICogQHBhcmFtIHtvYmplY3R9IFthdHRyaWJ1dGVUeXBlcz17fV0gS2V5L1ZhbCBvYmplY3Qgd2l0aCBrZXlzIGJlaW5nIHRoZSBuYW1lIG9mIHRoZSBmaWVsZCBhbmQgdmFsIGJlaW5nIHRoZVxuICAgICAgICAgKiB0eXBlIG9mIGZpZWxkLlxuICAgICAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSBKUyBPYmplY3RcbiAgICAgICAgICovXG4gICAgICAgIGV4dGVuZE9iamVjdFdpdGhYTUxBdHRyaWJ1dGVzKHhtbE9iamVjdDpYTUxEb2N1bWVudCwganNPYmplY3Q/Ok9iamVjdCwgYXR0cmlidXRlVHlwZXM/Ok9iamVjdCk6T2JqZWN0IHtcbiAgICAgICAgICAgIHZhciBvYmplY3RUb0V4dGVuZCA9IGpzT2JqZWN0IHx8IHt9O1xuICAgICAgICAgICAgdmFyIGF0dHJpYnV0ZU1hcCA9IGF0dHJpYnV0ZVR5cGVzIHx8IHt9O1xuICAgICAgICAgICAgdmFyIHhtbEF0dHJpYnV0ZXMgPSB4bWxPYmplY3QuYXR0cmlidXRlcztcblxuICAgICAgICAgICAgXy5lYWNoKHhtbEF0dHJpYnV0ZXMsIChhdHRyLCBhdHRyTnVtKSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIGF0dHJOYW1lID0geG1sQXR0cmlidXRlc1thdHRyTnVtXS5uYW1lO1xuICAgICAgICAgICAgICAgIG9iamVjdFRvRXh0ZW5kW2F0dHJOYW1lXSA9ICQoeG1sT2JqZWN0KS5hdHRyKGF0dHJOYW1lKTtcbiAgICAgICAgICAgICAgICBpZiAoYXR0cmlidXRlTWFwW2F0dHJOYW1lXSkge1xuICAgICAgICAgICAgICAgICAgICBvYmplY3RUb0V4dGVuZFthdHRyTmFtZV0gPSB0aGlzLnBhcnNlU3RyaW5nVmFsdWUob2JqZWN0VG9FeHRlbmRbYXR0ck5hbWVdLCBhdHRyaWJ1dGVNYXBbYXR0ck5hbWVdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBvYmplY3RUb0V4dGVuZDtcbiAgICAgICAgfVxuXG5cbiAgICAgICAganNBdHRhY2htZW50cyhzdHIpOnN0cmluZ1tdfG51bWJlcnxzdHJpbmcge1xuICAgICAgICAgICAgLyogRGVwZW5kaW5nIG9uIENBTUxRdWVyeU9wdGlvbnMgQ29uZmlnIGFuIGF0dGFjaG1lbnQgY2FuIGJlIGZvcm1hdHRlZCBpbiAxIG9mIHRoZSBiZWxvdyAzIHdheXM6XG4gICAgICAgICAgICAgMS4ge251bWJlcn0gVGhlIG51bWJlciBvZiBhdHRhY2htZW50cyBmb3IgYSBnaXZlbiBsaXN0IGl0ZW0uXG4gICAgICAgICAgICAgQ0FNTFF1ZXJ5T3B0aW9uc1xuICAgICAgICAgICAgIDxJbmNsdWRlQXR0YWNobWVudFVybHM+RkFMU0U8L0luY2x1ZGVBdHRhY2htZW50VXJscz5cbiAgICAgICAgICAgICA8SW5jbHVkZUF0dGFjaG1lbnRWZXJzaW9uPkZBTFNFPC9JbmNsdWRlQXR0YWNobWVudFZlcnNpb24+XG5cbiAgICAgICAgICAgICBFeGFtcGxlXG4gICAgICAgICAgICAgb3dzX0F0dGFjaG1lbnRzPVwiMlwiXG5cbiAgICAgICAgICAgICAyLiB7c3RyaW5nfVxuICAgICAgICAgICAgIENBTUxRdWVyeU9wdGlvbnNcbiAgICAgICAgICAgICA8SW5jbHVkZUF0dGFjaG1lbnRVcmxzPlRSVUU8L0luY2x1ZGVBdHRhY2htZW50VXJscz5cbiAgICAgICAgICAgICA8SW5jbHVkZUF0dGFjaG1lbnRWZXJzaW9uPkZBTFNFPC9JbmNsdWRlQXR0YWNobWVudFZlcnNpb24+XG5cbiAgICAgICAgICAgICBGb3JtYXRcbiAgICAgICAgICAgICA7I1tMaXN0VXJsXS9BdHRhY2htZW50cy9bTGlzdEl0ZW1JZF0vW0ZpbGVOYW1lXTsjXG5cbiAgICAgICAgICAgICBFeGFtcGxlOlxuICAgICAgICAgICAgIG93c19BdHRhY2htZW50cz1cIjsjaHR0cHM6Ly9TaGFyZVBvaW50U2l0ZS5jb20vTGlzdHMvV2lkZ2V0cy9BdHRhY2htZW50cy80L0RvY3VtZW50TmFtZS54bHN4OyNcIlxuXG4gICAgICAgICAgICAgLy9Ub2RvIENoZWNrIHRvIHNlZSBpZiB0aGVyZSBpcyBhbnkgdmFsdWUgaW4gdGhpcyBvcHRpb25cbiAgICAgICAgICAgICAzLiB7c3RyaW5nfSBOT1RFOiBXZSBkb24ndCBjdXJyZW50bHkgaGFuZGxlIHRoaXMgZm9ybWF0LlxuICAgICAgICAgICAgIENBTUxRdWVyeU9wdGlvbnNcbiAgICAgICAgICAgICA8SW5jbHVkZUF0dGFjaG1lbnRVcmxzPlRSVUU8L0luY2x1ZGVBdHRhY2htZW50VXJscz5cbiAgICAgICAgICAgICA8SW5jbHVkZUF0dGFjaG1lbnRWZXJzaW9uPlRSVUU8L0luY2x1ZGVBdHRhY2htZW50VmVyc2lvbj5cblxuICAgICAgICAgICAgIEZvcm1hdFxuICAgICAgICAgICAgIDsjW0xpc3RVcmxdL0F0dGFjaG1lbnRzL1tMaXN0SXRlbUlkXS9bRmlsZU5hbWVdOyNbQXR0YWNobWVudEdVSURdLFtWZXJzaW9uIE51bWJlcl07I1xuXG4gICAgICAgICAgICAgRXhhbXBsZTpcbiAgICAgICAgICAgICBvd3NfQXR0YWNobWVudHM9XCI7I2h0dHBzOi8vU2hhcmVQb2ludFNpdGUuY29tL0xpc3RzL1dpZGdldHMvQXR0YWNobWVudHMvNC9Eb2N1bWVudE5hbWUueGxzeDsjezQzNzhEMzk0LTg2MDEtNDgwRC1BQkQwLTBBMDUwNUU3MjZGQn0sMTsjXCJcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaWYgKCFpc05hTihzdHIpKSB7XG4gICAgICAgICAgICAgICAgLyoqIFZhbHVlIGlzIGEgbnVtYmVyIGN1cnJlbnQgc3RvcmVkIGFzIGEgc3RyaW5nICovXG4gICAgICAgICAgICAgICAgdmFyIGludCA9IHBhcnNlSW50KHN0cik7XG4gICAgICAgICAgICAgICAgaWYgKGludCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGludDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvKiogU3BsaXQgaW50byBhbiBhcnJheSBvZiBhdHRhY2htZW50IFVSTHMgKi9cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5qc0Nob2ljZU11bHRpKHN0cik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBqc0Jvb2xlYW4oc3RyOnN0cmluZyk6Ym9vbGVhbiB7XG4gICAgICAgICAgICAvKiogU2hhcmVQb2ludCB1c2VzIGRpZmZlcmVudCBzdHJpbmcgcmVwcmVzZW50YXRpb25zIGZvciBib29sZWFucyBpbiBkaWZmZXJlbnQgcGxhY2VzIHNvIGFjY291bnQgZm9yIGVhY2ggKi9cbiAgICAgICAgICAgIHJldHVybiBzdHIgPT09ICcxJyB8fCBzdHIgPT09ICdUcnVlJyB8fCBzdHIgPT09ICdUUlVFJztcbiAgICAgICAgfVxuXG4gICAgICAgIGpzQ2FsYyhzdHI6c3RyaW5nKTphbnkge1xuICAgICAgICAgICAgaWYgKHN0ci5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIHRoaXNDYWxjID0gc3RyLnNwbGl0KCc7IycpO1xuICAgICAgICAgICAgICAgIC8vIFRoZSBmaXJzdCB2YWx1ZSB3aWxsIGJlIHRoZSBjYWxjdWxhdGVkIGNvbHVtbiB2YWx1ZSB0eXBlLCB0aGUgc2Vjb25kIHdpbGwgYmUgdGhlIHZhbHVlXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VTdHJpbmdWYWx1ZSh0aGlzQ2FsY1sxXSwgdGhpc0NhbGNbMF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAganNDaG9pY2VNdWx0aShzdHI6c3RyaW5nKTpzdHJpbmdbXSB7XG4gICAgICAgICAgICBpZiAoc3RyLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIHRoaXNDaG9pY2VNdWx0aU9iamVjdCA9IFtdO1xuICAgICAgICAgICAgICAgIHZhciB0aGlzQ2hvaWNlTXVsdGkgPSBzdHIuc3BsaXQoJzsjJyk7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzQ2hvaWNlTXVsdGkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXNDaG9pY2VNdWx0aVtpXS5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNDaG9pY2VNdWx0aU9iamVjdC5wdXNoKHRoaXNDaG9pY2VNdWx0aVtpXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXNDaG9pY2VNdWx0aU9iamVjdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGpzRGF0ZShzdHI6c3RyaW5nKTpEYXRlIHtcbiAgICAgICAgICAgIGlmICghc3RyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8qKiBSZXBsYWNlIGRhc2hlcyB3aXRoIHNsYXNoZXMgYW5kIHRoZSBcIlRcIiBkZWxpbWluYXRvciB3aXRoIGEgc3BhY2UgaWYgZm91bmQgKi9cbiAgICAgICAgICAgICAgICB2YXIgZHQgPSBzdHIuc3BsaXQoXCJUXCIpWzBdICE9PSBzdHIgPyBzdHIuc3BsaXQoXCJUXCIpIDogc3RyLnNwbGl0KFwiIFwiKTtcbiAgICAgICAgICAgICAgICB2YXIgZCA9IGR0WzBdLnNwbGl0KFwiLVwiKTtcbiAgICAgICAgICAgICAgICB2YXIgdCA9IGR0WzFdLnNwbGl0KFwiOlwiKTtcbiAgICAgICAgICAgICAgICB2YXIgdDMgPSB0WzJdLnNwbGl0KFwiWlwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IERhdGUoZFswXSwgKGRbMV0gLSAxKSwgZFsyXSwgdFswXSwgdFsxXSwgdDNbMF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAganNGbG9hdChzdHI6c3RyaW5nKTpudW1iZXIge1xuICAgICAgICAgICAgaWYgKCFzdHIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RyO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VGbG9hdChzdHIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAganNJbnQoc3RyOnN0cmluZyk6bnVtYmVyIHtcbiAgICAgICAgICAgIGlmICghc3RyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0cjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KHN0ciwgMTApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAganNMb29rdXAoc3RyOnN0cmluZywgb3B0aW9ucz86T2JqZWN0KTpJTG9va3VwIHtcbiAgICAgICAgICAgIGlmIChzdHIubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vU2VuZCB0byBjb25zdHJ1Y3RvclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmFwTG9va3VwRmFjdG9yeS5jcmVhdGUoc3RyLCBvcHRpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGpzTG9va3VwTXVsdGkoc3RyOnN0cmluZywgb3B0aW9ucz86T2JqZWN0KTpJTG9va3VwW10ge1xuICAgICAgICAgICAgaWYgKHN0ci5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciB0aGlzTG9va3VwTXVsdGlPYmplY3QgPSBbXTtcbiAgICAgICAgICAgICAgICB2YXIgdGhpc0xvb2t1cE11bHRpID0gc3RyLnNwbGl0KCc7IycpO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpc0xvb2t1cE11bHRpLmxlbmd0aDsgaSA9IGkgKyAyKSB7XG4gICAgICAgICAgICAgICAgICAgIC8qKiBFbnN1cmUgYSBsb29rdXAgaWQgaXMgcHJlc2VudCBiZWZvcmUgYXR0ZW1wdGluZyB0byBwdXNoIGEgbmV3IGxvb2t1cCAqL1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpc0xvb2t1cE11bHRpW2ldKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGhpc0xvb2t1cCA9IHRoaXMuanNMb29rdXAodGhpc0xvb2t1cE11bHRpW2ldICsgJzsjJyArIHRoaXNMb29rdXBNdWx0aVtpICsgMV0sIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpc0xvb2t1cE11bHRpT2JqZWN0LnB1c2godGhpc0xvb2t1cCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXNMb29rdXBNdWx0aU9iamVjdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGpzT2JqZWN0KHN0cjpzdHJpbmcpOk9iamVjdCB7XG4gICAgICAgICAgICBpZiAoIXN0cikge1xuICAgICAgICAgICAgICAgIHJldHVybiBzdHI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8qKiBFbnN1cmUgSlNPTiBpcyB2YWxpZCBhbmQgaWYgbm90IHRocm93IGVycm9yIHdpdGggYWRkaXRpb25hbCBkZXRhaWwgKi9cbiAgICAgICAgICAgICAgICB2YXIganNvbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAganNvbiA9IEpTT04ucGFyc2Uoc3RyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdJbnZhbGlkIEpTT046ICcsIHN0cik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBqc29uO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAganNTdHJpbmcoc3RyOnN0cmluZyk6c3RyaW5nIHtcbiAgICAgICAgICAgIHJldHVybiBzdHI7XG4gICAgICAgIH1cblxuICAgICAgICBqc1VzZXIoc3RyOnN0cmluZyk6SVVzZXIge1xuICAgICAgICAgICAgaWYgKHN0ci5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vU2VuZCB0byBjb25zdHJ1Y3RvclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXBVc2VyRmFjdG9yeS5jcmVhdGUoc3RyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGpzVXNlck11bHRpKHN0cjpzdHJpbmcpOklVc2VyW10ge1xuICAgICAgICAgICAgaWYgKHN0ci5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciB0aGlzVXNlck11bHRpT2JqZWN0ID0gW107XG4gICAgICAgICAgICAgICAgdmFyIHRoaXNVc2VyTXVsdGkgPSBzdHIuc3BsaXQoJzsjJyk7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzVXNlck11bHRpLmxlbmd0aDsgaSA9IGkgKyAyKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0aGlzVXNlciA9IHRoaXMuanNVc2VyKHRoaXNVc2VyTXVsdGlbaV0gKyAnOyMnICsgdGhpc1VzZXJNdWx0aVtpICsgMV0pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzVXNlck11bHRpT2JqZWN0LnB1c2godGhpc1VzZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpc1VzZXJNdWx0aU9iamVjdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAgICogQG5hbWUgYW5ndWxhclBvaW50LmFwRGVjb2RlU2VydmljZTpwYXJzZUZpZWxkVmVyc2lvbnNcbiAgICAgICAgICogQG1ldGhvZE9mIGFuZ3VsYXJQb2ludC5hcERlY29kZVNlcnZpY2VcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIFRha2VzIGFuIFhNTCByZXNwb25zZSBmcm9tIFNoYXJlUG9pbnQgd2Vic2VydmljZSBhbmQgcmV0dXJucyBhbiBhcnJheSBvZiBmaWVsZCB2ZXJzaW9ucy5cbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHt4bWx9IHJlc3BvbnNlWE1MIFJldHVybmVkIFhNTCBmcm9tIHdlYiBzZXJ2aWNlIGNhbGwuXG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBmaWVsZERlZmluaXRpb24gRmllbGQgZGVmaW5pdGlvbiBmcm9tIHRoZSBtb2RlbC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHJldHVybnMge0FycmF5fSBBcnJheSBvYmplY3RzIGNvbnRhaW5pbmcgdGhlIHZhcmlvdXMgdmVyc2lvbiBvZiBhIGZpZWxkIGZvciBlYWNoIGNoYW5nZS5cbiAgICAgICAgICovXG4gICAgICAgIHBhcnNlRmllbGRWZXJzaW9ucyhyZXNwb25zZVhNTDpYTUxEb2N1bWVudCwgZmllbGREZWZpbml0aW9uOklGaWVsZERlZmluaXRpb24pOklMaXN0SXRlbVZlcnNpb25bXSB7XG4gICAgICAgICAgICB2YXIgdmVyc2lvbnMgPSBbXTtcbiAgICAgICAgICAgIHZhciB4bWxWZXJzaW9ucyA9ICQocmVzcG9uc2VYTUwpLmZpbmQoJ1ZlcnNpb24nKTtcbiAgICAgICAgICAgIHZhciB2ZXJzaW9uQ291bnQgPSB4bWxWZXJzaW9ucy5sZW5ndGg7XG5cbiAgICAgICAgICAgIF8uZWFjaCh4bWxWZXJzaW9ucywgKHhtbFZlcnNpb24sIGluZGV4KSA9PiB7XG5cbiAgICAgICAgICAgICAgICAvKiogQnVnIGluIFNPQVAgV2ViIFNlcnZpY2UgcmV0dXJucyB0aW1lIGluIFVUQyB0aW1lIGZvciB2ZXJzaW9uIGhpc3RvcnlcbiAgICAgICAgICAgICAgICAgKiAgRGV0YWlsczogaHR0cHM6Ly9zcHNlcnZpY2VzLmNvZGVwbGV4LmNvbS9kaXNjdXNzaW9ucy8zOTE4NzlcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICB2YXIgdXRjRGF0ZSA9IHRoaXMucGFyc2VTdHJpbmdWYWx1ZSgkKHhtbFZlcnNpb24pLmF0dHIoJ01vZGlmaWVkJyksICdEYXRlVGltZScpO1xuXG4gICAgICAgICAgICAgICAgLyoqIFBhcnNlIHRoZSB4bWwgYW5kIGNyZWF0ZSBhIHJlcHJlc2VudGF0aW9uIG9mIHRoZSB2ZXJzaW9uIGFzIGEganMgb2JqZWN0ICovXG4gICAgICAgICAgICAgICAgdmFyIHZlcnNpb24gPSB7XG4gICAgICAgICAgICAgICAgICAgIGVkaXRvcjogdGhpcy5wYXJzZVN0cmluZ1ZhbHVlKCQoeG1sVmVyc2lvbikuYXR0cignRWRpdG9yJyksICdVc2VyJyksXG4gICAgICAgICAgICAgICAgICAgIC8qKiBUdXJuIHRoZSBTaGFyZVBvaW50IGZvcm1hdHRlZCBkYXRlIGludG8gYSB2YWxpZCBkYXRlIG9iamVjdCAqL1xuICAgICAgICAgICAgICAgICAgICBtb2RpZmllZDogdGhpcy5jb252ZXJ0VVRDRGF0ZVRvTG9jYWxEYXRlKHV0Y0RhdGUpLFxuICAgICAgICAgICAgICAgICAgICAvKiogUmV0dXJucyByZWNvcmRzIGluIGRlc2Mgb3JkZXIgc28gY29tcHV0ZSB0aGUgdmVyc2lvbiBudW1iZXIgZnJvbSBpbmRleCAqL1xuICAgICAgICAgICAgICAgICAgICB2ZXJzaW9uOiB2ZXJzaW9uQ291bnQgLSBpbmRleFxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKiogUHJvcGVybHkgZm9ybWF0IGZpZWxkIGJhc2VkIG9uIGRlZmluaXRpb24gZnJvbSBtb2RlbCAqL1xuICAgICAgICAgICAgICAgIHZlcnNpb25bZmllbGREZWZpbml0aW9uLm1hcHBlZE5hbWVdID1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJzZVN0cmluZ1ZhbHVlKCQoeG1sVmVyc2lvbikuYXR0cihmaWVsZERlZmluaXRpb24uc3RhdGljTmFtZSksIGZpZWxkRGVmaW5pdGlvbi5vYmplY3RUeXBlKTtcblxuICAgICAgICAgICAgICAgIC8qKiBQdXNoIHRvIGJlZ2lubmluZyBvZiBhcnJheSAqL1xuICAgICAgICAgICAgICAgIHZlcnNpb25zLnVuc2hpZnQodmVyc2lvbik7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIHZlcnNpb25zO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBEZWNvZGVTZXJ2aWNlOnBhcnNlU3RyaW5nVmFsdWVcbiAgICAgICAgICogQG1ldGhvZE9mIGFuZ3VsYXJQb2ludC5hcERlY29kZVNlcnZpY2VcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIENvbnZlcnRzIGEgU2hhcmVQb2ludCBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSBmaWVsZCBpbnRvIHRoZSBjb3JyZWN0bHkgZm9ybWF0dGVkIEphdmFTY3JpcHQgdmVyc2lvblxuICAgICAgICAgKiBiYXNlZCBvbiBvYmplY3QgdHlwZS4gIEEgbWFqb3JpdHkgb2YgdGhpcyBjb2RlIGlzIGRpcmVjdGx5IHRha2VuIGZyb20gTWFyYyBBbmRlcnNvbidzIGluY3JlZGlibGVcbiAgICAgICAgICogW1NQU2VydmljZXNdKGh0dHA6Ly9zcHNlcnZpY2VzLmNvZGVwbGV4LmNvbS8pIHByb2plY3QgYnV0IGl0IG5lZWRlZCBzb21lIG1pbm9yIHR3ZWFraW5nIHRvIHdvcmsgaGVyZS5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHN0ciBTaGFyZVBvaW50IHN0cmluZyByZXByZXNlbnRpbmcgdGhlIHZhbHVlLlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29iamVjdFR5cGU9J1RleHQnXSBUaGUgdHlwZSBiYXNlZCBvbiBmaWVsZCBkZWZpbml0aW9uLiAgU2VlXG4gICAgICAgICAqIFNlZSBbTGlzdC5jdXN0b21GaWVsZHNdKCMvYXBpL0xpc3QuRmllbGREZWZpbml0aW9uKSBmb3IgYWRkaXRpb25hbCBpbmZvIG9uIGhvdyB0byBkZWZpbmUgYSBmaWVsZCB0eXBlLlxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgdG8gcGFzcyB0byB0aGUgb2JqZWN0IGNvbnN0cnVjdG9yLlxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnMuZW50aXR5XSBSZWZlcmVuY2UgdG8gdGhlIHBhcmVudCBsaXN0IGl0ZW0gd2hpY2ggY2FuIGJlIHVzZWQgYnkgY2hpbGQgY29uc3RydWN0b3JzLlxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnMucHJvcGVydHlOYW1lXSBOYW1lIG9mIHByb3BlcnR5IG9uIHRoZSBsaXN0IGl0ZW0uXG4gICAgICAgICAqIEByZXR1cm5zIHsqfSBUaGUgbmV3bHkgaW5zdGFudGlhdGVkIEphdmFTY3JpcHQgdmFsdWUgYmFzZWQgb24gZmllbGQgdHlwZS5cbiAgICAgICAgICovXG4gICAgICAgIHBhcnNlU3RyaW5nVmFsdWUoc3RyOnN0cmluZywgb2JqZWN0VHlwZT86c3RyaW5nLCBvcHRpb25zPzp7ZW50aXR5OiBPYmplY3Q7IHByb3BlcnR5TmFtZTogc3RyaW5nO30pOmFueSB7XG5cbiAgICAgICAgICAgIHZhciB1bmVzY2FwZWRWYWx1ZSA9IF8udW5lc2NhcGUoc3RyKTtcblxuICAgICAgICAgICAgdmFyIGNvbFZhbHVlO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKG9iamVjdFR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdBdHRhY2htZW50cyc6XG4gICAgICAgICAgICAgICAgICAgIGNvbFZhbHVlID0gdGhpcy5qc0F0dGFjaG1lbnRzKHVuZXNjYXBlZFZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnQm9vbGVhbic6XG4gICAgICAgICAgICAgICAgICAgIGNvbFZhbHVlID0gdGhpcy5qc0Jvb2xlYW4odW5lc2NhcGVkVmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdDYWxjdWxhdGVkJzogLy8gRm9ybWF0dGVkIGxpa2UgdHlwZTsjdmFsdWUgc28gd2UgYnJlYWsgaXQgYXBhcnQgYW5kIHRoZW4gcGFzcyBiYWNrIGluIHRvIGZvcm1hdCBjb3JyZWN0bHlcbiAgICAgICAgICAgICAgICAgICAgY29sVmFsdWUgPSB0aGlzLmpzQ2FsYyh1bmVzY2FwZWRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2RhdGV0aW1lJzogLy8gRm9yIGNhbGN1bGF0ZWQgY29sdW1ucywgc3RvcmVkIGFzIGRhdGV0aW1lOyN2YWx1ZVxuICAgICAgICAgICAgICAgIGNhc2UgJ0RhdGVUaW1lJzpcbiAgICAgICAgICAgICAgICAgICAgLy8gRGF0ZXMgaGF2ZSBkYXNoZXMgaW5zdGVhZCBvZiBzbGFzaGVzOiBvd3NfQ3JlYXRlZD0nMjAwOS0wOC0yNSAxNDoyNDo0OCdcbiAgICAgICAgICAgICAgICAgICAgY29sVmFsdWUgPSB0aGlzLmpzRGF0ZSh1bmVzY2FwZWRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ0xvb2t1cCc6XG4gICAgICAgICAgICAgICAgICAgIGNvbFZhbHVlID0gdGhpcy5qc0xvb2t1cCh1bmVzY2FwZWRWYWx1ZSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ1VzZXInOlxuICAgICAgICAgICAgICAgICAgICBjb2xWYWx1ZSA9IHRoaXMuanNVc2VyKHVuZXNjYXBlZFZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnTG9va3VwTXVsdGknOlxuICAgICAgICAgICAgICAgICAgICBjb2xWYWx1ZSA9IHRoaXMuanNMb29rdXBNdWx0aSh1bmVzY2FwZWRWYWx1ZSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ1VzZXJNdWx0aSc6XG4gICAgICAgICAgICAgICAgICAgIGNvbFZhbHVlID0gdGhpcy5qc1VzZXJNdWx0aSh1bmVzY2FwZWRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ0ludGVnZXInOlxuICAgICAgICAgICAgICAgIGNhc2UgJ0NvdW50ZXInOiAvLyBPbmx5IHJlYWxseSB1c2VkIGZvciB0aGUgSUQgZmllbGRcbiAgICAgICAgICAgICAgICAgICAgY29sVmFsdWUgPSB0aGlzLmpzSW50KHVuZXNjYXBlZFZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnTnVtYmVyJzpcbiAgICAgICAgICAgICAgICBjYXNlICdDdXJyZW5jeSc6XG4gICAgICAgICAgICAgICAgY2FzZSAnZmxvYXQnOiAvLyBGb3IgY2FsY3VsYXRlZCBjb2x1bW5zLCBzdG9yZWQgYXMgZmxvYXQ7I3ZhbHVlXG4gICAgICAgICAgICAgICAgY2FzZSAnRmxvYXQnOlxuICAgICAgICAgICAgICAgICAgICBjb2xWYWx1ZSA9IHRoaXMuanNGbG9hdCh1bmVzY2FwZWRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ011bHRpQ2hvaWNlJzpcbiAgICAgICAgICAgICAgICAgICAgY29sVmFsdWUgPSB0aGlzLmpzQ2hvaWNlTXVsdGkodW5lc2NhcGVkVmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdKU09OJzogLy8gTm90IGEgdHJ1ZSBTaGFyZVBvaW50IGZpZWxkIHR5cGUgYnV0IGFjdHMgYXMgYSBkZWNvcmF0b3IgZm9yIE5vdGVcbiAgICAgICAgICAgICAgICAgICAgY29sVmFsdWUgPSB0aGlzLmpzT2JqZWN0KHVuZXNjYXBlZFZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnQ2hvaWNlJzpcbiAgICAgICAgICAgICAgICBjYXNlICdIVE1MJzpcbiAgICAgICAgICAgICAgICBjYXNlICdOb3RlJzpcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAvLyBBbGwgb3RoZXIgb2JqZWN0VHlwZXMgd2lsbCBiZSBzaW1wbGUgc3RyaW5nc1xuICAgICAgICAgICAgICAgICAgICBjb2xWYWx1ZSA9IHRoaXMuanNTdHJpbmcodW5lc2NhcGVkVmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjb2xWYWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAgICogQG5hbWUgYW5ndWxhclBvaW50LmFwRGVjb2RlU2VydmljZTpwYXJzZVhNTEVudGl0eVxuICAgICAgICAgKiBAbWV0aG9kT2YgYW5ndWxhclBvaW50LmFwRGVjb2RlU2VydmljZVxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogQ29udmVydCBhbiBYTUwgbGlzdCBpdGVtIGludG8gYSBKUyBvYmplY3QgdXNpbmcgdGhlIGZpZWxkcyBkZWZpbmVkIGluIHRoZSBtb2RlbCBmb3IgdGhlIGdpdmVuIGxpc3QgaXRlbS5cbiAgICAgICAgICogQHBhcmFtIHtvYmplY3R9IHhtbEVudGl0eSBYTUwgT2JqZWN0LlxuICAgICAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBsaXN0SXRlbVByb3ZpZGVyIENvbnN0cnVjdG9yIGZ1bmN0aW9uIHRoYXQgaW5zdGFudGlhdGVzIGEgbmV3IG9iamVjdC5cbiAgICAgICAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgQ29uZmlndXJhdGlvbiBvcHRpb25zLlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy5tYXBwaW5nIE1hcHBpbmcgb2YgZmllbGRzIHdlJ2QgbGlrZSB0byBleHRlbmQgb24gb3VyIEpTIG9iamVjdC5cbiAgICAgICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5pbmNsdWRlQWxsQXR0cnM9ZmFsc2VdIElmIHRydWUsIHJldHVybiBhbGwgYXR0cmlidXRlcywgcmVnYXJkbGVzcyB3aGV0aGVyXG4gICAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMubGlzdEl0ZW1Qcm92aWRlcl0gTGlzdCBpdGVtIGNvbnN0cnVjdG9yLlxuICAgICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnJlbW92ZU93cz10cnVlXSBTcGVjaWZpY2FsbHkgZm9yIEdldExpc3RJdGVtcywgaWYgdHJ1ZSwgdGhlIGxlYWRpbmcgb3dzXyB3aWxsXG4gICAgICAgICAqIEByZXR1cm5zIHtvYmplY3R9IE5ldyBlbnRpdHkgdXNpbmcgdGhlIGZhY3Rvcnkgb24gdGhlIG1vZGVsLlxuICAgICAgICAgKi9cbiAgICAgICAgcGFyc2VYTUxFbnRpdHkoeG1sRW50aXR5OlhNTERvY3VtZW50LCBsaXN0SXRlbVByb3ZpZGVyOihPYmplY3QpID0+IElMaXN0SXRlbSxcbiAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uczp7bWFwcGluZzogSUZpZWxkRGVmaW5pdGlvbltdOyBpbmNsdWRlQWxsQXR0cnM/OiBib29sZWFuOyBsaXN0SXRlbVByb3ZpZGVyPzpGdW5jdGlvbjtyZW1vdmVPd3M/OmJvb2xlYW47IHRhcmdldD86IElJbmRleGVkQ2FjaGV9KTpJTGlzdEl0ZW0ge1xuICAgICAgICAgICAgdmFyIGVudGl0eSA9IHt9O1xuICAgICAgICAgICAgdmFyIHJvd0F0dHJzID0geG1sRW50aXR5LmF0dHJpYnV0ZXM7XG5cbiAgICAgICAgICAgIC8qKiBCcmluZyBiYWNrIGFsbCBtYXBwZWQgY29sdW1ucywgZXZlbiB0aG9zZSB3aXRoIG5vIHZhbHVlICovXG4gICAgICAgICAgICBfLmVhY2gob3B0aW9ucy5tYXBwaW5nLCAoZmllbGREZWZpbml0aW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgZW50aXR5W2ZpZWxkRGVmaW5pdGlvbi5tYXBwZWROYW1lXSA9IHRoaXMuYXBGaWVsZFNlcnZpY2UuZ2V0RGVmYXVsdFZhbHVlRm9yVHlwZShmaWVsZERlZmluaXRpb24ub2JqZWN0VHlwZSk7XG4gICAgICAgICAgICAgICAgLy9lbnRpdHlbZmllbGREZWZpbml0aW9uLm1hcHBlZE5hbWVdID0gJyc7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLyoqIFBhcnNlIHRocm91Z2ggdGhlIGVsZW1lbnQncyBhdHRyaWJ1dGVzICovXG4gICAgICAgICAgICBfLmVhY2gocm93QXR0cnMsIChhdHRyKSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIHRoaXNBdHRyTmFtZSA9IGF0dHIubmFtZTtcbiAgICAgICAgICAgICAgICB2YXIgdGhpc01hcHBpbmcgPSBvcHRpb25zLm1hcHBpbmdbdGhpc0F0dHJOYW1lXTtcbiAgICAgICAgICAgICAgICB2YXIgdGhpc09iamVjdE5hbWUgPSB0eXBlb2YgdGhpc01hcHBpbmcgIT09ICd1bmRlZmluZWQnID8gdGhpc01hcHBpbmcubWFwcGVkTmFtZSA6IG9wdGlvbnMucmVtb3ZlT3dzID8gdGhpc0F0dHJOYW1lLnNwbGl0KCdvd3NfJylbMV0gOiB0aGlzQXR0ck5hbWU7XG4gICAgICAgICAgICAgICAgdmFyIHRoaXNPYmplY3RUeXBlID0gdHlwZW9mIHRoaXNNYXBwaW5nICE9PSAndW5kZWZpbmVkJyA/IHRoaXNNYXBwaW5nLm9iamVjdFR5cGUgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuaW5jbHVkZUFsbEF0dHJzIHx8IHRoaXNNYXBwaW5nICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZW50aXR5W3RoaXNPYmplY3ROYW1lXSA9IHRoaXMucGFyc2VTdHJpbmdWYWx1ZShhdHRyLnZhbHVlLCB0aGlzT2JqZWN0VHlwZSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW50aXR5OiBlbnRpdHksXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eU5hbWU6IHRoaXNPYmplY3ROYW1lXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gbGlzdEl0ZW1Qcm92aWRlcihlbnRpdHkpO1xuICAgICAgICB9XG5cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcERlY29kZVNlcnZpY2U6cHJvY2Vzc0xpc3RJdGVtc1xuICAgICAgICAgKiBAbWV0aG9kT2YgYW5ndWxhclBvaW50LmFwRGVjb2RlU2VydmljZVxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogUG9zdCBwcm9jZXNzaW5nIG9mIGRhdGEgYWZ0ZXIgcmV0dXJuaW5nIGxpc3QgaXRlbXMgZnJvbSBzZXJ2ZXIuICBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGhcbiAgICAgICAgICogdGhlIHByb2Nlc3NlZCBlbnRpdGllcy4gIFByb21pc2UgYWxsb3dzIHVzIHRvIGJhdGNoIGNvbnZlcnNpb25zIG9mIGxhcmdlIGxpc3RzIHRvIHByZXZlbnQgdWkgc2xvd2Rvd25zLlxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gbW9kZWwgUmVmZXJlbmNlIHRvIGFsbG93IHVwZGF0aW5nIG9mIG1vZGVsLlxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gcXVlcnkgUmVmZXJlbmNlIHRvIHRoZSBxdWVyeSByZXNwb25zaWJsZSBmb3IgcmVxdWVzdGluZyBlbnRpdGllcy5cbiAgICAgICAgICogQHBhcmFtIHt4bWx9IHJlc3BvbnNlWE1MIFJlc29sdmVkIHByb21pc2UgZnJvbSBTUFNlcnZpY2VzIHdlYiBzZXJ2aWNlIGNhbGwuXG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gT3B0aW9uYWwgY29uZmlndXJhdGlvbiBvYmplY3QuXG4gICAgICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IFtvcHRpb25zLmZhY3Rvcnk9bW9kZWwuZmFjdG9yeV0gQ29uc3RydWN0b3IgZnVuY3Rpb24gdHlwaWNhbGx5IHN0b3JlZCBvbiB0aGUgbW9kZWwuXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5maWx0ZXI9J3o6cm93J10gWE1MIGZpbHRlciBzdHJpbmcgdXNlZCB0byBmaW5kIHRoZSBlbGVtZW50cyB0byBpdGVyYXRlIG92ZXIuXG4gICAgICAgICAqIEBwYXJhbSB7QXJyYXl9IFtvcHRpb25zLm1hcHBpbmc9bW9kZWwubGlzdC5tYXBwaW5nXSBGaWVsZCBkZWZpbml0aW9ucywgdHlwaWNhbGx5IHN0b3JlZCBvbiB0aGUgbW9kZWwuXG4gICAgICAgICAqIEBwYXJhbSB7QXJyYXl9IFtvcHRpb25zLnRhcmdldD1tb2RlbC5nZXRDYWNoZSgpXSBPcHRpb25hbGx5IHBhc3MgaW4gYXJyYXkgdG8gdXBkYXRlIGFmdGVyIHByb2Nlc3NpbmcuXG4gICAgICAgICAqIEByZXR1cm5zIHtPYmplY3R9IEluZWRleGVkIENhY2hlLlxuICAgICAgICAgKi9cbiAgICAgICAgcHJvY2Vzc0xpc3RJdGVtcyhtb2RlbDpJTW9kZWwsIHF1ZXJ5OklRdWVyeSwgcmVzcG9uc2VYTUw6WE1MRG9jdW1lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucz86e2ZhY3Rvcnk6IEZ1bmN0aW9uOyBmaWx0ZXI6IHN0cmluZzsgbWFwcGluZzogSUZpZWxkRGVmaW5pdGlvbltdOyB0YXJnZXQ6IElJbmRleGVkQ2FjaGV9KTpJSW5kZXhlZENhY2hlIHtcbiAgICAgICAgICAgIHZhciBkZWZhdWx0cyA9IHtcbiAgICAgICAgICAgICAgICBmYWN0b3J5OiBtb2RlbC5mYWN0b3J5LFxuICAgICAgICAgICAgICAgIGZpbHRlcjogJ3o6cm93JyxcbiAgICAgICAgICAgICAgICBtYXBwaW5nOiBtb2RlbC5saXN0Lm1hcHBpbmcsXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiBtb2RlbC5nZXRDYWNoZSgpXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB2YXIgb3B0cyA9IF8uZXh0ZW5kKHt9LCBkZWZhdWx0cywgb3B0aW9ucyk7XG5cbiAgICAgICAgICAgIC8qKiBNYXAgcmV0dXJuZWQgWE1MIHRvIEpTIG9iamVjdHMgYmFzZWQgb24gbWFwcGluZyBmcm9tIG1vZGVsICovXG4gICAgICAgICAgICB2YXIgZmlsdGVyZWROb2RlcyA9ICQocmVzcG9uc2VYTUwpLlNQRmlsdGVyTm9kZShvcHRzLmZpbHRlcik7XG5cbiAgICAgICAgICAgIC8qKiBQcmVwYXJlIGNvbnN0cnVjdG9yIGZvciBYTUwgZW50aXRpZXMgd2l0aCByZWZlcmVuY2VzIHRvIHRoZSBxdWVyeSBhbmQgY2FjaGVkIGNvbnRhaW5lciAqL1xuICAgICAgICAgICAgdmFyIGxpc3RJdGVtUHJvdmlkZXIgPSB0aGlzLmNyZWF0ZUxpc3RJdGVtUHJvdmlkZXIobW9kZWwsIHF1ZXJ5LCBvcHRzLnRhcmdldCk7XG5cbiAgICAgICAgICAgIC8qKiBDb252ZXJ0IFhNTCBlbnRpdGllcyBpbnRvIEpTIG9iamVjdHMgYW5kIHJlZ2lzdGVyIGluIGNhY2hlIHdpdGggbGlzdEl0ZW1Qcm92aWRlciwgdGhpcyByZXR1cm5zIGFuXG4gICAgICAgICAgICAgKiBhcnJheSBvZiBlbnRpdGllcyBidXQgYXQgdGhpcyBwb2ludCB3ZSdyZSBub3QgdXNpbmcgdGhlbSBiZWNhdXNlIHRoZSBpbmRleGVkIGNhY2hlIHNob3VsZCBiZSBtb3JlXG4gICAgICAgICAgICAgKiBwZXJmb3JtYW50LiAqL1xuICAgICAgICAgICAgdGhpcy54bWxUb0pzb24oZmlsdGVyZWROb2RlcywgbGlzdEl0ZW1Qcm92aWRlciwgb3B0cyk7XG5cbiAgICAgICAgICAgIHJldHVybiBvcHRzLnRhcmdldDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAgICogQG5hbWUgYW5ndWxhclBvaW50LmFwRGVjb2RlU2VydmljZTp4bWxUb0pzb25cbiAgICAgICAgICogQG1ldGhvZE9mIGFuZ3VsYXJQb2ludC5hcERlY29kZVNlcnZpY2VcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIENvbnZlcnRzIGFuIFhNTCBub2RlIHNldCB0byBKYXZhc2NyaXB0IG9iamVjdCBhcnJheS4gVGhpcyBpcyBhIG1vZGlmaWVkIHZlcnNpb24gb2YgdGhlIFNQU2VydmljZXNcbiAgICAgICAgICogXCJTUFhtbFRvSnNvblwiIGZ1bmN0aW9uLlxuICAgICAgICAgKiBAcGFyYW0ge2FycmF5fSB4bWxFbnRpdGllcyBbXCJ6OnJvd3NcIl0gWE1MIHJvd3MgdGhhdCBuZWVkIHRvIGJlIHBhcnNlZC5cbiAgICAgICAgICogQHBhcmFtIHtmdW5jdGlvbn0gbGlzdEl0ZW1Qcm92aWRlciBDb25zdHJ1Y3RvciBmdW5jdGlvbiB1c2VkIHRvIGJ1aWxkIHRoZSBsaXN0IGl0ZW0gd2l0aCByZWZlcmVuY2VzIHRvXG4gICAgICAgICAqIHRoZSBxdWVyeSwgY2FjaGVkIGNvbnRhaW5lciwgYW5kIHJlZ2lzdGVycyBlYWNoIGxpc3QgaXRlbSBpbiB0aGUgYXBDYWNoZVNlcnZpY2UuXG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIE9wdGlvbnMgb2JqZWN0LlxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdFtdfSBvcHRpb25zLm1hcHBpbmcgW2NvbHVtbk5hbWU6IFwibWFwcGVkTmFtZVwiLCBvYmplY3RUeXBlOiBcIm9iamVjdFR5cGVcIl1cbiAgICAgICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5pbmNsdWRlQWxsQXR0cnM9ZmFsc2VdIElmIHRydWUsIHJldHVybiBhbGwgYXR0cmlidXRlcywgcmVnYXJkbGVzcyB3aGV0aGVyXG4gICAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMubGlzdEl0ZW1Qcm92aWRlcl0gTGlzdCBpdGVtIGNvbnN0cnVjdG9yLlxuICAgICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnJlbW92ZU93cz10cnVlXSBTcGVjaWZpY2FsbHkgZm9yIEdldExpc3RJdGVtcywgaWYgdHJ1ZSwgdGhlIGxlYWRpbmcgb3dzXyB3aWxsXG4gICAgICAgICAqIGJlIHN0cmlwcGVkIG9mZiB0aGUgZmllbGQgbmFtZS5cbiAgICAgICAgICogQHBhcmFtIHthcnJheX0gW29wdGlvbnMudGFyZ2V0XSBPcHRpb25hbCBsb2NhdGlvbiB0byBwdXNoIHBhcnNlZCBlbnRpdGllcy5cbiAgICAgICAgICogQHJldHVybnMge29iamVjdFtdfSBBbiBhcnJheSBvZiBKYXZhU2NyaXB0IG9iamVjdHMuXG4gICAgICAgICAqL1xuICAgICAgICB4bWxUb0pzb24oeG1sRW50aXRpZXM6WE1MRG9jdW1lbnRbXSwgbGlzdEl0ZW1Qcm92aWRlcjooT2JqZWN0KSA9PiBJTGlzdEl0ZW0sXG4gICAgICAgICAgICAgICAgICBvcHRpb25zOnttYXBwaW5nOiBJRmllbGREZWZpbml0aW9uW107IGluY2x1ZGVBbGxBdHRycz86IGJvb2xlYW47IGxpc3RJdGVtUHJvdmlkZXI/OkZ1bmN0aW9uO3JlbW92ZU93cz86Ym9vbGVhbjsgdGFyZ2V0PzogSUluZGV4ZWRDYWNoZX0pOk9iamVjdFtdIHtcblxuICAgICAgICAgICAgdmFyIGRlZmF1bHRzID0ge1xuICAgICAgICAgICAgICAgIG1hcHBpbmc6IHt9LFxuICAgICAgICAgICAgICAgIGluY2x1ZGVBbGxBdHRyczogZmFsc2UsXG4gICAgICAgICAgICAgICAgcmVtb3ZlT3dzOiB0cnVlXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB2YXIgb3B0cyA9IF8uZXh0ZW5kKHt9LCBkZWZhdWx0cywgb3B0aW9ucyk7XG4gICAgICAgICAgICB2YXIgcGFyc2VkRW50aXRpZXMgPSBbXTtcblxuICAgICAgICAgICAgXy5lYWNoKHhtbEVudGl0aWVzLCAoeG1sRW50aXR5KSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIHBhcnNlZEVudGl0eSA9IHRoaXMucGFyc2VYTUxFbnRpdHkoeG1sRW50aXR5LCBsaXN0SXRlbVByb3ZpZGVyLCBvcHRzKTtcbiAgICAgICAgICAgICAgICBwYXJzZWRFbnRpdGllcy5wdXNoKHBhcnNlZEVudGl0eSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlZEVudGl0aWVzO1xuICAgICAgICB9XG5cblxuICAgIH1cblxuXG4gICAgLyoqKioqKioqKioqKioqKioqKioqKipQUklWQVRFKioqKioqKioqKioqKioqKioqKioqL1xuXG5cbiAgICAvKipDb25zdHJ1Y3RvcnMgZm9yIHVzZXIgYW5kIGxvb2t1cCBmaWVsZHMqL1xuICAgIC8qKkFsbG93cyBmb3IgZWFzaWVyIGRpc3RpbmN0aW9uIHdoZW4gZGVidWdnaW5nIGlmIG9iamVjdCB0eXBlIGlzIHNob3duIGFzIGVpdGhlciBMb29rdXAgb3IgVXNlcioqL1xuXG5cblxuXG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnYW5ndWxhclBvaW50JylcbiAgICAgICAgLnNlcnZpY2UoJ2FwRGVjb2RlU2VydmljZScsIERlY29kZVNlcnZpY2UpXG5cbn1cbiIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90eXBpbmdzL2FwLmQudHNcIiAvPlxuXG5tb2R1bGUgYXAge1xuICAgICd1c2Ugc3RyaWN0JztcblxuXG4gICAgZXhwb3J0IGNsYXNzIEVuY29kZVNlcnZpY2Uge1xuICAgICAgICBzYXZlZFRpbWVab25lO1xuICAgICAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGFwVXRpbGl0eVNlcnZpY2UsIHByaXZhdGUgU1BTZXJ2aWNlcykge1xuXG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQ29udmVydHMgYW4gYXJyYXkgb2Ygc2VsZWN0ZWQgdmFsdWVzIGludG8gYSBTaGFyZVBvaW50IE11bHRpQ2hvaWNlIHN0cmluZ1xuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBhcnJcbiAgICAgICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIGNob2ljZU11bHRpVG9TdHJpbmcoYXJyOiBzdHJpbmdbXSk6IHN0cmluZyB7XG4gICAgICAgICAgICB2YXIgc3RyID0gJyc7XG4gICAgICAgICAgICB2YXIgZGVsaW0gPSAnOyMnO1xuXG4gICAgICAgICAgICBpZiAoYXJyLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAvKiogU3RyaW5nIGlzIHJlcXVpcmVkIHRvIGJlZ2luIHdpdGggZGVsaW1pbmF0b3IgKi9cbiAgICAgICAgICAgICAgICBzdHIgKz0gZGVsaW07XG5cbiAgICAgICAgICAgICAgICAvKiogQXBwZW5kIGVhY2ggaXRlbSBpbiB0aGUgc3VwcGxpZWQgYXJyYXkgZm9sbG93ZWQgYnkgZGVsaW1pbmF0b3IgKi9cbiAgICAgICAgICAgICAgICBfLmVhY2goYXJyLCAoY2hvaWNlKSA9PiBzdHIgKz0gY2hvaWNlICsgZGVsaW0gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzdHI7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcEVuY29kZVNlcnZpY2U6Y3JlYXRlVmFsdWVQYWlyXG4gICAgICAgICAqIEBtZXRob2RPZiBhbmd1bGFyUG9pbnQuYXBFbmNvZGVTZXJ2aWNlXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBVc2VzIGEgZmllbGQgZGVmaW5pdGlvbiBmcm9tIGEgbW9kZWwgdG8gcHJvcGVybHkgZm9ybWF0IGEgdmFsdWUgZm9yIHN1Ym1pc3Npb24gdG8gU2hhcmVQb2ludC4gIFR5cGljYWxseVxuICAgICAgICAgKiB1c2VkIHByaW9yIHRvIHNhdmluZyBhIGxpc3QgaXRlbSwgd2UgaXRlcmF0ZSBvdmVyIGVhY2ggb2YgdGhlIG5vbi1yZWFkb25seSBwcm9wZXJ0aWVzIGRlZmluZWQgaW4gdGhlIG1vZGVsXG4gICAgICAgICAqIGZvciBhIGxpc3QgaXRlbSBhbmQgY29udmVydCB0aG9zZSB2YWx1ZSBpbnRvIHZhbHVlIHBhaXJzIHRoYXQgd2UgY2FuIHRoZW4gaGFuZCBvZmYgdG8gU1BTZXJ2aWNlcy5cbiAgICAgICAgICogQHBhcmFtIHtvYmplY3R9IGZpZWxkRGVmaW5pdGlvbiBUaGUgZmllbGQgZGVmaW5pdGlvbiwgdHlwaWNhbGx5IGRlZmluZWQgaW4gdGhlIG1vZGVsLlxuICAgICAgICAgKiA8cHJlPlxuICAgICAgICAgKiB7XG4gICAgICAgICAgICAgKiAgc3RhdGljTmFtZTogXCJUaXRsZVwiLFxuICAgICAgICAgICAgICogIG9iamVjdFR5cGU6IFwiVGV4dFwiLFxuICAgICAgICAgICAgICogIG1hcHBlZE5hbWU6IFwibGFzdE5hbWVcIixcbiAgICAgICAgICAgICAqICByZWFkT25seTpmYWxzZVxuICAgICAgICAgICAgICogfVxuICAgICAgICAgKiA8L3ByZT5cbiAgICAgICAgICogQHBhcmFtIHsqfSB2YWx1ZSBDdXJyZW50IGZpZWxkIHZhbHVlLlxuICAgICAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFtmaWVsZE5hbWUsIGZpZWxkVmFsdWVdXG4gICAgICAgICAqL1xuICAgICAgICBjcmVhdGVWYWx1ZVBhaXIoZmllbGREZWZpbml0aW9uOiBJRmllbGREZWZpbml0aW9uLCB2YWx1ZTphbnkpOiBbc3RyaW5nLCBzdHJpbmddIHtcbiAgICAgICAgICAgIHZhciBlbmNvZGVkVmFsdWUgPSB0aGlzLmVuY29kZVZhbHVlKGZpZWxkRGVmaW5pdGlvbi5vYmplY3RUeXBlLCB2YWx1ZSk7XG4gICAgICAgICAgICByZXR1cm4gW2ZpZWxkRGVmaW5pdGlvbi5zdGF0aWNOYW1lLCBlbmNvZGVkVmFsdWVdO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBFbmNvZGVTZXJ2aWNlOmVuY29kZVZhbHVlXG4gICAgICAgICAqIEBtZXRob2RPZiBhbmd1bGFyUG9pbnQuYXBFbmNvZGVTZXJ2aWNlXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmaWVsZFR5cGUgT25lIG9mIHRoZSB2YWxpZCBmaWVsZCB0eXBlcy5cbiAgICAgICAgICogQHBhcmFtIHsqfSB2YWx1ZSBWYWx1ZSB0byBiZSBlbmNvZGVkLlxuICAgICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBFbmNvZGVkIHZhbHVlIHJlYWR5IHRvIGJlIHNlbnQgdG8gdGhlIHNlcnZlci5cbiAgICAgICAgICovXG4gICAgICAgIGVuY29kZVZhbHVlKGZpZWxkVHlwZTogc3RyaW5nLCB2YWx1ZTogYW55KTogc3RyaW5nIHtcbiAgICAgICAgICAgIHZhciBzdHIgPSAnJztcbiAgICAgICAgICAgIC8qKiBPbmx5IHByb2Nlc3MgaWYgbm90ZSBlbXB0eSwgdW5kZWZpbmVkLCBvciBudWxsLiAgQWxsb3cgZmFsc2UuICovXG4gICAgICAgICAgICBpZiAodmFsdWUgIT09ICcnICYmICFfLmlzVW5kZWZpbmVkKHZhbHVlKSAmJiAhXy5pc051bGwodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChmaWVsZFR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnTG9va3VwJzpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnVXNlcic6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUubG9va3VwSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiogT25seSBpbmNsdWRlIGxvb2t1cFZhbHVlIGlmIGRlZmluZWQgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHIgPSB2YWx1ZS5sb29rdXBJZCArICc7IycgKyAodmFsdWUubG9va3VwVmFsdWUgfHwgJycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ0xvb2t1cE11bHRpJzpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnVXNlck11bHRpJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0ciA9IHRoaXMuc3RyaW5naWZ5U2hhcmVQb2ludE11bHRpU2VsZWN0KHZhbHVlLCAnbG9va3VwSWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdNdWx0aUNob2ljZSc6XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHIgPSB0aGlzLmNob2ljZU11bHRpVG9TdHJpbmcodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ0Jvb2xlYW4nOlxuICAgICAgICAgICAgICAgICAgICAgICAgc3RyID0gdmFsdWUgPyAxIDogMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdEYXRlVGltZSc6XG4gICAgICAgICAgICAgICAgICAgICAgICAvL0Egc3RyaW5nIGRhdGUgaW4gSVNPODYwMSBmb3JtYXQsIGUuZy4sICcyMDEzLTA1LTA4VDAxOjIwOjI5Wi0wNTowMCdcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0ciA9IHRoaXMuc3RyaW5naWZ5U2hhcmVQb2ludERhdGUodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ0pTT04nOlxuICAgICAgICAgICAgICAgICAgICAgICAgc3RyID0gSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ0hUTUwnOlxuICAgICAgICAgICAgICAgICAgICBjYXNlICdOb3RlJzpcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0ciA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChfLmlzU3RyaW5nKHN0cikpIHtcbiAgICAgICAgICAgICAgICAvKiogRW5zdXJlIHdlIGVuY29kZSBiZWZvcmUgc2VuZGluZyB0byBzZXJ2ZXIgKHJlcGxhY2UgXCIsIDwsID4pKi9cbiAgICAgICAgICAgICAgICBzdHIgPSB0aGlzLlNQU2VydmljZXMuZW5jb2RlWG1sKHN0cik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gc3RyO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBFbmNvZGVTZXJ2aWNlOmdlbmVyYXRlVmFsdWVQYWlyc1xuICAgICAgICAgKiBAbWV0aG9kT2YgYW5ndWxhclBvaW50LmFwRW5jb2RlU2VydmljZVxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogVHlwaWNhbGx5IHVzZWQgdG8gaXRlcmF0ZSBvdmVyIHRoZSBub24tcmVhZG9ubHkgZmllbGQgZGVmaW5pdGlvbnMgc3RvcmVkIGluIGEgbW9kZWwgYW5kIGNvbnZlcnQgYVxuICAgICAgICAgKiBnaXZlbiBsaXN0IGl0ZW0gZW50aXR5IGludG8gdmFsdWUgcGFpcnMgdGhhdCB3ZSBjYW4gcGFzcyB0byBTUFNlcnZpY2VzIGZvciBzYXZpbmcuXG4gICAgICAgICAqIEBwYXJhbSB7QXJyYXl9IGZpZWxkRGVmaW5pdGlvbnMgRGVmaW5pdGlvbnMgZnJvbSB0aGUgbW9kZWwuXG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBsaXN0SXRlbSBsaXN0IGl0ZW0gdGhhdCB3ZSdsbCBhdHRlbXB0IHRvIGl0ZXJhdGUgb3ZlciB0byBmaW5kIHRoZSBwcm9wZXJ0aWVzIHRoYXQgd2UgbmVlZCB0b1xuICAgICAgICAgKiBzYXZlIGl0IHRvIFNoYXJlUG9pbnQuXG4gICAgICAgICAqIEByZXR1cm5zIHtBcnJheVtdfSBWYWx1ZSBwYWlycyBvZiBhbGwgbm9uLXJlYWRvbmx5IGZpZWxkcy4gW1tmaWVsZE5hbWUsIGZpZWxkVmFsdWVdXVxuICAgICAgICAgKi9cbiAgICAgICAgZ2VuZXJhdGVWYWx1ZVBhaXJzKGZpZWxkRGVmaW5pdGlvbnM6IElGaWVsZERlZmluaXRpb25bXSwgbGlzdEl0ZW06IElMaXN0SXRlbSk6IFtbc3RyaW5nLCBzdHJpbmddW11dIHtcbiAgICAgICAgICAgIHZhciBwYWlycyA9IFtdO1xuICAgICAgICAgICAgXy5lYWNoKGZpZWxkRGVmaW5pdGlvbnMsIChmaWVsZCkgPT4ge1xuICAgICAgICAgICAgICAgIC8qKiBDaGVjayB0byBzZWUgaWYgaXRlbSBjb250YWlucyBkYXRhIGZvciB0aGlzIGZpZWxkICovXG4gICAgICAgICAgICAgICAgaWYgKF8uaGFzKGxpc3RJdGVtLCBmaWVsZC5tYXBwZWROYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICBwYWlycy5wdXNoKHRoaXMuY3JlYXRlVmFsdWVQYWlyKGZpZWxkLCBsaXN0SXRlbVtmaWVsZC5tYXBwZWROYW1lXSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHBhaXJzO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBFbmNvZGVTZXJ2aWNlOnN0cmluZ2lmeVNoYXJlUG9pbnREYXRlXG4gICAgICAgICAqIEBtZXRob2RPZiBhbmd1bGFyUG9pbnQuYXBFbmNvZGVTZXJ2aWNlXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBDb252ZXJ0cyBhIEphdmFTY3JpcHQgZGF0ZSBpbnRvIGEgbW9kaWZpZWQgSVNPODYwMSBkYXRlIHN0cmluZyB1c2luZyB0aGUgVGltZVpvbmVcbiAgICAgICAgICogb2Zmc2V0IGZvciB0aGUgY3VycmVudCB1c2VyLlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiA8cHJlPicyMDE0LTA1LTA4VDA4OjEyOjE4Wi0wNzowMCc8L3ByZT5cbiAgICAgICAgICogQHBhcmFtIHtEYXRlfSBkYXRlIFZhbGlkIEpTIGRhdGUuXG4gICAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IElTTzg2MDEgZGF0ZSBzdHJpbmcuXG4gICAgICAgICAqL1xuICAgICAgICBzdHJpbmdpZnlTaGFyZVBvaW50RGF0ZShkYXRlOiBEYXRlfHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgICAgICB2YXIganNEYXRlO1xuICAgICAgICAgICAgaWYgKCFfLmlzRGF0ZShkYXRlKSAmJiBfLmlzU3RyaW5nKGRhdGUpICYmIGRhdGUuc3BsaXQoJy0nKS5sZW5ndGggPT09IDMpIHtcbiAgICAgICAgICAgICAgICAvKiogRGF0ZSBzdHJpbmcgZm9ybWF0dGVkIFlZWVktTU0tREQgKi9cbiAgICAgICAgICAgICAgICB2YXIgZGF0ZUNvbXBvbmVudHMgPSBkYXRlLnNwbGl0KCctJyk7XG4gICAgICAgICAgICAgICAganNEYXRlID0gbmV3IERhdGUoZGF0ZUNvbXBvbmVudHNbMF0sIGRhdGVDb21wb25lbnRzWzFdIC0gMSwgZGF0ZUNvbXBvbmVudHNbMl0sIDAsIDAsIDApO1xuICAgICAgICAgICAgfSBlbHNlIGlmICghXy5pc0RhdGUoZGF0ZSkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgRGF0ZSBQcm92aWRlZDogJyArIGRhdGUudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGpzRGF0ZSA9IGRhdGU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBkYXRlU3RyaW5nID0gJyc7XG4gICAgICAgICAgICBkYXRlU3RyaW5nICs9IGpzRGF0ZS5nZXRGdWxsWWVhcigpO1xuICAgICAgICAgICAgZGF0ZVN0cmluZyArPSAnLSc7XG4gICAgICAgICAgICBkYXRlU3RyaW5nICs9IHRoaXMuYXBVdGlsaXR5U2VydmljZS5kb3VibGVEaWdpdChqc0RhdGUuZ2V0TW9udGgoKSArIDEpO1xuICAgICAgICAgICAgZGF0ZVN0cmluZyArPSAnLSc7XG4gICAgICAgICAgICBkYXRlU3RyaW5nICs9IHRoaXMuYXBVdGlsaXR5U2VydmljZS5kb3VibGVEaWdpdChqc0RhdGUuZ2V0RGF0ZSgpKTtcbiAgICAgICAgICAgIGRhdGVTdHJpbmcgKz0gJ1QnO1xuICAgICAgICAgICAgZGF0ZVN0cmluZyArPSB0aGlzLmFwVXRpbGl0eVNlcnZpY2UuZG91YmxlRGlnaXQoanNEYXRlLmdldEhvdXJzKCkpO1xuICAgICAgICAgICAgZGF0ZVN0cmluZyArPSAnOic7XG4gICAgICAgICAgICBkYXRlU3RyaW5nICs9IHRoaXMuYXBVdGlsaXR5U2VydmljZS5kb3VibGVEaWdpdChqc0RhdGUuZ2V0TWludXRlcygpKTtcbiAgICAgICAgICAgIGRhdGVTdHJpbmcgKz0gJzonO1xuICAgICAgICAgICAgZGF0ZVN0cmluZyArPSB0aGlzLmFwVXRpbGl0eVNlcnZpY2UuZG91YmxlRGlnaXQoanNEYXRlLmdldFNlY29uZHMoKSk7XG4gICAgICAgICAgICBkYXRlU3RyaW5nICs9ICdaLSc7XG5cbiAgICAgICAgICAgIGlmICghdGhpcy5zYXZlZFRpbWVab25lKSB7XG4gICAgICAgICAgICAgICAgLy9HZXQgZGlmZmVyZW5jZSBiZXR3ZWVuIFVUQyB0aW1lIGFuZCBsb2NhbCB0aW1lIGluIG1pbnV0ZXMgYW5kIGNvbnZlcnQgdG8gaG91cnNcbiAgICAgICAgICAgICAgICAvL1N0b3JlIHNvIHdlIG9ubHkgbmVlZCB0byBkbyB0aGlzIG9uY2VcbiAgICAgICAgICAgICAgICB0aGlzLnNhdmVkVGltZVpvbmUgPSBuZXcgRGF0ZSgpLmdldFRpbWV6b25lT2Zmc2V0KCkgLyA2MDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRhdGVTdHJpbmcgKz0gdGhpcy5hcFV0aWxpdHlTZXJ2aWNlLmRvdWJsZURpZ2l0KHRoaXMuc2F2ZWRUaW1lWm9uZSk7XG4gICAgICAgICAgICBkYXRlU3RyaW5nICs9ICc6MDAnO1xuICAgICAgICAgICAgcmV0dXJuIGRhdGVTdHJpbmc7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcEVuY29kZVNlcnZpY2U6c3RyaW5naWZ5U2hhcmVQb2ludE11bHRpU2VsZWN0XG4gICAgICAgICAqIEBtZXRob2RPZiBhbmd1bGFyUG9pbnQuYXBFbmNvZGVTZXJ2aWNlXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBUdXJucyBhbiBhcnJheSBvZiwgdHlwaWNhbGx5IHtsb29rdXBJZDogc29tZUlkLCBsb29rdXBWYWx1ZTogc29tZVZhbHVlfSwgb2JqZWN0cyBpbnRvIGEgc3RyaW5nXG4gICAgICAgICAqIG9mIGRlbGltaXRlZCBpZCdzIHRoYXQgY2FuIGJlIHBhc3NlZCB0byBTaGFyZVBvaW50IGZvciBhIG11bHRpIHNlbGVjdCBsb29rdXAgb3IgbXVsdGkgdXNlciBzZWxlY3Rpb25cbiAgICAgICAgICogZmllbGQuICBTaGFyZVBvaW50IGRvZXNuJ3QgbmVlZCB0aGUgbG9va3VwIHZhbHVlcyBzbyB3ZSBvbmx5IG5lZWQgdG8gcGFzcyB0aGUgSUQncyBiYWNrLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdFtdfSBtdWx0aVNlbGVjdFZhbHVlIEFycmF5IG9mIHtsb29rdXBJZDogIywgbG9va3VwVmFsdWU6ICdTb21lIFZhbHVlJ30gb2JqZWN0cy5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtpZFByb3BlcnR5PSdsb29rdXBJZCddIFByb3BlcnR5IG5hbWUgd2hlcmUgd2UnbGwgZmluZCB0aGUgSUQgdmFsdWUgb24gZWFjaCBvZiB0aGUgb2JqZWN0cy5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFt2YWx1ZVByb3BlcnR5PSdsb29rdXBWYWx1ZSddIFByb3BlcnR5IG5hbWUgd2hlcmUgd2UnbGwgZmluZCB0aGUgdmFsdWUgZm9yIHRoaXMgb2JqZWN0LlxuICAgICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBOZWVkIHRvIGZvcm1hdCBzdHJpbmcgb2YgaWQncyBpbiBmb2xsb3dpbmcgZm9ybWF0IFtJRDBdOyM7I1tJRDFdOyM7I1tJRDFdXG4gICAgICAgICAqL1xuICAgICAgICBzdHJpbmdpZnlTaGFyZVBvaW50TXVsdGlTZWxlY3QobXVsdGlTZWxlY3RWYWx1ZTogSUxvb2t1cFtdLCBpZFByb3BlcnR5ID0gJ2xvb2t1cElkJywgdmFsdWVQcm9wZXJ0eSA9ICdsb29rdXBWYWx1ZScpOiBzdHJpbmcge1xuICAgICAgICAgICAgdmFyIHN0cmluZ2lmaWVkVmFsdWVzID0gJyc7XG4gICAgICAgICAgICB2YXIgaWRQcm9wID0gaWRQcm9wZXJ0eSB8fCAnbG9va3VwSWQnO1xuICAgICAgICAgICAgdmFyIHZhbFByb3AgPSB2YWx1ZVByb3BlcnR5IHx8ICdsb29rdXBWYWx1ZSc7XG4gICAgICAgICAgICBfLmVhY2gobXVsdGlTZWxlY3RWYWx1ZSwgZnVuY3Rpb24gKGxvb2t1cE9iamVjdCwgaXRlcmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgLyoqIE5lZWQgdG8gZm9ybWF0IHN0cmluZyBvZiBpZCdzIGluIGZvbGxvd2luZyBmb3JtYXQgW0lEMF07I1tWQUwwXTsjW0lEMV07I1tWQUwxXTsjICovXG4gICAgICAgICAgICAgICAgc3RyaW5naWZpZWRWYWx1ZXMgKz0gbG9va3VwT2JqZWN0W2lkUHJvcF0gKyAnOyMnICsgKGxvb2t1cE9iamVjdFt2YWxQcm9wXSB8fCAnJyk7XG4gICAgICAgICAgICAgICAgaWYgKGl0ZXJhdGlvbiA8IG11bHRpU2VsZWN0VmFsdWUubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0cmluZ2lmaWVkVmFsdWVzICs9ICc7Iyc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gc3RyaW5naWZpZWRWYWx1ZXM7XG4gICAgICAgIH1cblxuXG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2Mgc2VydmljZVxuICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcEVuY29kZVNlcnZpY2VcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBQcm9jZXNzZXMgSmF2YVNjcmlwdCBvYmplY3RzIGFuZCBjb252ZXJ0cyB0aGVtIHRvIGEgZm9ybWF0IFNoYXJlUG9pbnQgZXhwZWN0cy5cbiAgICAgKlxuICAgICAqIEByZXF1aXJlcyBhbmd1bGFyUG9pbnQuYXBVdGlsaXR5U2VydmljZVxuICAgICAqL1xuICAgIGFuZ3VsYXIubW9kdWxlKCdhbmd1bGFyUG9pbnQnKVxuICAgICAgICAuc2VydmljZSgnYXBFbmNvZGVTZXJ2aWNlJywgRW5jb2RlU2VydmljZSk7XG59XG4iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy9hcC5kLnRzXCIgLz5cblxubW9kdWxlIGFwIHtcbiAgICAndXNlIHN0cmljdCc7XG5cblxuICAgIGV4cG9ydCBjbGFzcyBFeHBvcnRTZXJ2aWNlIHtcbiAgICAgICAgY29uc3RydWN0b3IocHJpdmF0ZSBhcFV0aWxpdHlTZXJ2aWNlLCBwcml2YXRlIGFwRm9ybWF0dGVkRmllbGRWYWx1ZVNlcnZpY2UpIHtcblxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBFeHBvcnRTZXJ2aWNlOmdlbmVyYXRlQ1NWXG4gICAgICAgICAqIEBtZXRob2RPZiBhbmd1bGFyUG9pbnQuYXBFeHBvcnRTZXJ2aWNlXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBDb252ZXJ0cyBhbiBhcnJheSBvZiBvYmplY3RzIGludG8gYSBwYXJzZWQgYXJyYXkgb2YgYXJyYXlzIGJhc2VkIG9uIGEgZmllbGQgY29uZmlnIG9iamVjdC5cbiAgICAgICAgICogQHBhcmFtIHtvYmplY3RbXX0gZW50aXRpZXMgQXJyYXkgb2Ygb2JqZWN0cyB0byBjb252ZXJ0LlxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdHxzdHJpbmdbXX0gZmllbGRzIEFycmF5IG9mIG9iamVjdHMgZGVmaW5pbmcgdGhlIGZpZWxkcyB0byBwYXJzZS4gIENhbiBhbHNvIHBhc3MgaW4gc3RyaW5ncyByZXByZXNlbnRpbmcgdGhlIG5hbWUgb2YgdGhlIGZpZWxkIHdoaWNoIHdpbGwgdGhlbiBiZSBwYXJzZWQgYmFzZWQgb24gZmllbGQgdHlwZS5cbiAgICAgICAgICogRmllbGREZWZpbml0aW9uOlxuICAgICAgICAgKiB7c3RyaW5nfSBvYmplY3QuZmllbGQgUHJvcGVydHkgbmFtZSBvbiB0aGUgb2JqZWN0IHRoYXQgd2Ugd2FudCB0byBwYXJzZS5cbiAgICAgICAgICoge3N0cmluZ30gW29iamVjdC5sYWJlbD1vYmplY3QuZmllbGQgY2FwaXRhbGl6ZWRdIENvbHVtbiBMYWJlbFxuICAgICAgICAgKiB7ZnVuY3Rpb259IFtvYmplY3QuZ2V0VmFsXSBDdXN0b20gZnVuY3Rpb24gdGhhdCBvdmVycmlkZXMgdGhlIGRlZmF1bHQgbWV0aG9kIG9mIHBhcnNpbmcgYmFzZWQgb24gZmllbGQgdHlwZS5cbiAgICAgICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSBPcHRpb25hbCBjb25maWcgc2V0dGluZ3MuXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5kZWxpbT0nOyAnXSBEZWxpbWl0ZXIgdXNlZCB0byBzZXBhcmF0ZSBmaWVsZHMgdGhhdCBwb3RlbnRpYWxseSBjb250YWluIG11bHRpcGxlIHZhbHVlcyB0aGF0IHdpbGwgYmUgY29uY2F0ZW5hdGVkIGludG8gYSBzdHJpbmcuXG4gICAgICAgICAqIEByZXR1cm5zIHthcnJheVtdfSBSZXR1cm4gYXJyYXkgb2YgYXJyYXlzLCB3aXRoIHRoZSBmaXJzdCBhcnJheSBiZWluZyB0aGUgY29sdW1uIG5hbWVzIGFuZCBldmVyeSBzdWJzZXF1ZW50IGFycmF5IHJlcHJlc2VudGluZyBhIHJvdyBpbiB0aGUgY3N2IGRhdGFzZXQuXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIDxwcmU+XG4gICAgICAgICAqIHZhciBjdXN0b21EZWxpbWl0ZXIgPSAnIHwgJztcbiAgICAgICAgICogdmFyIHNhdmVDU1YgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAqICAgIHZhciBwYXJzZWRDU1YgPSBhcEV4cG9ydFNlcnZpY2UuZ2VuZXJhdGVDU1YoZW50aXRpZXMsIFtcbiAgICAgICAgICAgICAqICAgICAvL0ZpZWxkIGRlZmluaXRpb25cbiAgICAgICAgICAgICAqICAgICB7IGxhYmVsOiAnSUQnLCBmaWVsZDogJ2lkJyB9LFxuICAgICAgICAgICAgICogICAgIC8vRmllbGQgYXMgc2ltcGxlIHN0cmluZ1xuICAgICAgICAgICAgICogICAgICd0aXRsZScsXG4gICAgICAgICAgICAgKiAgICAgJ3Byb2plY3QnLFxuICAgICAgICAgICAgICogICAgIHsgbGFiZWw6ICdQcm9qZWN0OklEJywgZmllbGQ6ICdwcm9qZWN0Lmxvb2t1cElkJyB9LFxuICAgICAgICAgICAgICogICAgIHsgbGFiZWw6ICdUeXBlJywgZmllbGQ6ICdldmVudFR5cGUnIH0sXG4gICAgICAgICAgICAgKiAgICAgeyBsYWJlbDogJ1N0YXJ0IERhdGUnLCBmaWVsZDogJ3N0YXJ0RGF0ZScgfSxcbiAgICAgICAgICAgICAqICAgICB7IGxhYmVsOiAnRW5kIERhdGUnLCBmaWVsZDogJ2VuZERhdGUnIH0sXG4gICAgICAgICAgICAgKiAgICAgJ2xvY2F0aW9uJyxcbiAgICAgICAgICAgICAqICAgICAnZGVzY3JpcHRpb24nLFxuICAgICAgICAgICAgICogICAgIC8vRmllbGQgZGVmaW5pdGlvbiB3aXRoIGN1c3RvbSBwYXJzZSBsb2dpY1xuICAgICAgICAgICAgICogICAgIHsgbGFiZWw6ICdDb21tZW50cycsIGZpZWxkOiAnY29tbWVudHMnLCBzdHJpbmdpZnk6IGZ1bmN0aW9uIChjb21tZW50cykge1xuICAgICAgICAgICAgICogICAgICAgdmFyIHN0ciA9ICcnO1xuICAgICAgICAgICAgICogICAgICAgXy5lYWNoKGNvbW1lbnRzLCBmdW5jdGlvbiAoY29tbWVudCwgaSkge1xuICAgICAgICAgICAgICogICAgICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgICAgICAqICAgICAgICAgICBzdHIgKz0gJ1xcbic7XG4gICAgICAgICAgICAgKiAgICAgICAgIH1cbiAgICAgICAgICAgICAqICAgICAgICAgc3RyICs9IGNvbW1lbnQudGV4dCArICdcXG4nO1xuICAgICAgICAgICAgICogICAgICAgfSk7XG4gICAgICAgICAgICAgKiAgICAgICByZXR1cm4gc3RyO1xuICAgICAgICAgICAgICogICAgIH19XG4gICAgICAgICAgICAgKiAgIF0pO1xuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqICAgLy9TYXZlIHRvIHVzZXIncyBtYWNoaW5lXG4gICAgICAgICAgICAgKiAgIGFwRXhwb3J0U2VydmljZS5zYXZlQ1NWKHBhcnNlZENTViwgJ015RmlsZScsIHtkZWxpbTogY3VzdG9tRGVsaW1pdGVyfSk7XG4gICAgICAgICAgICAgKiB9XG4gICAgICAgICAqIDwvcHJlPlxuICAgICAgICAgKlxuICAgICAgICAgKi9cbiAgICAgICAgZ2VuZXJhdGVDU1YoZW50aXRpZXM6IExpc3RJdGVtW10sIGZpZWxkczogW3N0cmluZ1tdfE9iamVjdFtdXSwgb3B0aW9ucz86e2RlbGltOnN0cmluZ30pOiBbW3N0cmluZ1tdXVtdXSB7XG4gICAgICAgICAgICB2YXIgZGVmYXVsdHMgPSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGVGb3JtYXQ6ICdqc29uJywgLy9Gb3JtYXQgYXMgSlNPTiBkYXRlIHJhdGhlciB0aGFuIGEgZm9ybWFsIGRhdGUgc3RyaW5nXG4gICAgICAgICAgICAgICAgICAgIGRlbGltOiAnOyAnLFxuICAgICAgICAgICAgICAgICAgICBpbmNsdWRlVGl0bGVSb3c6IHRydWVcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9wdHMgPSBfLmV4dGVuZCh7fSwgZGVmYXVsdHMsIG9wdGlvbnMpLFxuICAgICAgICAgICAgICAgIGVudGl0aWVzQXJyYXkgPSBbXG4gICAgICAgICAgICAgICAgICAgIFtdXG4gICAgICAgICAgICAgICAgXTtcblxuICAgICAgICAgICAgLyoqIFByb2Nlc3MgZWFjaCBvZiB0aGUgZW50aXRpZXMgaW4gdGhlIGRhdGEgc291cmNlICovXG4gICAgICAgICAgICBfLmVhY2goZW50aXRpZXMsIChlbnRpdHksIGVudGl0eUluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIGVudGl0eUFycmF5ID0gW107XG4gICAgICAgICAgICAgICAgLyoqIFByb2Nlc3MgZWFjaCBvZiB0aGUgc3BlY2lmaWVkIGZpZWxkcyAqL1xuICAgICAgICAgICAgICAgIF8uZWFjaChmaWVsZHMsIChmKSA9PiB7XG5cbiAgICAgICAgICAgICAgICAgICAgLyoqIEhhbmRsZSBib3RoIHN0cmluZyBhbmQgb2JqZWN0IGRlZmluaXRpb24gKi9cbiAgICAgICAgICAgICAgICAgICAgdmFyIGZpZWxkRGVmaW5pdGlvbiA9IF8uaXNTdHJpbmcoZikgPyB7ZmllbGQ6IGZ9IDogZjtcblxuICAgICAgICAgICAgICAgICAgICAvKiogU3BsaXQgdGhlIGZpZWxkIG5hbWUgZnJvbSB0aGUgcHJvcGVydHkgaWYgcHJvdmlkZWQgKi9cbiAgICAgICAgICAgICAgICAgICAgdmFyIGZpZWxkQ29tcG9uZW50cyA9IGZpZWxkRGVmaW5pdGlvbi5maWVsZC5zcGxpdCgnLicpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcHJvcGVydHlOYW1lID0gZmllbGRDb21wb25lbnRzWzBdO1xuXG4gICAgICAgICAgICAgICAgICAgIC8qKiBGaXJzdCBhcnJheSBoYXMgdGhlIGZpZWxkIG5hbWVzICovXG4gICAgICAgICAgICAgICAgICAgIGlmIChlbnRpdHlJbmRleCA9PT0gMCAmJiBvcHRzLmluY2x1ZGVUaXRsZVJvdykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLyoqIFRha2UgYSBiZXN0IGd1ZXNzIGlmIGEgY29sdW1uIGxhYmVsIGlzbid0IHNwZWNpZmllZCBieSBjYXBpdGFsaXppbmcgYW5kIGluc2VydGluZyBzcGFjZXMgYmV0d2VlbiBjYW1lbCBodW1wcyovXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGFiZWwgPSBmaWVsZERlZmluaXRpb24ubGFiZWwgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkRGVmaW5pdGlvbi5sYWJlbCA6IHRoaXMuYXBVdGlsaXR5U2VydmljZS5mcm9tQ2FtZWxDYXNlKHByb3BlcnR5TmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbnRpdGllc0FycmF5WzBdLnB1c2gobGFiZWwpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHZhbCA9ICcnO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChfLmlzRnVuY3Rpb24oZmllbGREZWZpbml0aW9uLnN0cmluZ2lmeSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKiBBbGxvd3MgdXMgdG8gb3ZlcnJpZGUgc3RhbmRhcmQgZmllbGQgbG9naWMgZm9yIHNwZWNpYWwgY2FzZXMgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbCA9IGZpZWxkRGVmaW5pdGlvbi5zdHJpbmdpZnkoZW50aXR5W2ZpZWxkRGVmaW5pdGlvbi5maWVsZF0pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGZpZWxkQ29tcG9uZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvKiogQWxsb3cgdXNlciB0byBzcGVjaWZ5IGRvdCBzZXBhcmF0ZWQgcHJvcGVydHkgcGF0aCAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF8uZGVlcEluKGVudGl0eSwgZmllbGREZWZpbml0aW9uLmZpZWxkKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbCA9IF8uZGVlcEdldChlbnRpdHksIGZpZWxkRGVmaW5pdGlvbi5maWVsZCkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKiBHZXQgdGhlIHZhbHVlIGJhc2VkIG9uIGZpZWxkIHR5cGUgZGVmaW5lZCBpbiB0aGUgbW9kZWwgZm9yIHRoZSBlbnRpdHkqL1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1vZGVsRGVmaW5pdGlvbiA9IGVudGl0eS5nZXRGaWVsZERlZmluaXRpb24ocHJvcGVydHlOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbCA9IHRoaXMuYXBGb3JtYXR0ZWRGaWVsZFZhbHVlU2VydmljZS5nZXRGb3JtYXR0ZWRGaWVsZFZhbHVlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudGl0eVtmaWVsZERlZmluaXRpb24uZmllbGRdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsRGVmaW5pdGlvbi5vYmplY3RUeXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdHNcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvKiogQWRkIHN0cmluZyB0byBjb2x1bW4gKi9cbiAgICAgICAgICAgICAgICAgICAgZW50aXR5QXJyYXkucHVzaCh2YWwpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIC8qKiBBZGQgcm93ICovXG4gICAgICAgICAgICAgICAgZW50aXRpZXNBcnJheS5wdXNoKGVudGl0eUFycmF5KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGVudGl0aWVzQXJyYXk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIFJlcGxhY2VzIGNvbW1vbmx5LXVzZWQgV2luZG93cyAxMjUyIGVuY29kZWQgY2hhcnMgdGhhdCBkbyBub3QgZXhpc3QgaW4gQVNDSUkgb3JcbiAgICAgICAgICogIElTTy04ODU5LTEgd2l0aCBJU08tODg1OS0xIGNvZ25hdGVzLlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCBUZXh0IHRvIGJlIHZhbGlkYXRlZCBhbmQgY2xlYW5lZC5cbiAgICAgICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHJlcGxhY2VXb3JkQ2hhcnModGV4dDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgICAgIHZhciBzID0gdGV4dDtcbiAgICAgICAgICAgIC8vIHNtYXJ0IHNpbmdsZSBxdW90ZXMgYW5kIGFwb3N0cm9waGVcbiAgICAgICAgICAgIHMgPSBzLnJlcGxhY2UoL1tcXHUyMDE4fFxcdTIwMTl8XFx1MjAxQV0vZywgXCJcXCdcIik7XG4gICAgICAgICAgICAvLyBzbWFydCBkb3VibGUgcXVvdGVzXG4gICAgICAgICAgICBzID0gcy5yZXBsYWNlKC9bXFx1MjAxQ3xcXHUyMDFEfFxcdTIwMUVdL2csIFwiXFxcIlwiKTtcbiAgICAgICAgICAgIC8vIGVsbGlwc2lzXG4gICAgICAgICAgICBzID0gcy5yZXBsYWNlKC9cXHUyMDI2L2csIFwiLi4uXCIpO1xuICAgICAgICAgICAgLy8gZGFzaGVzXG4gICAgICAgICAgICBzID0gcy5yZXBsYWNlKC9bXFx1MjAxM3xcXHUyMDE0XS9nLCBcIi1cIik7XG4gICAgICAgICAgICAvLyBjaXJjdW1mbGV4XG4gICAgICAgICAgICBzID0gcy5yZXBsYWNlKC9cXHUwMkM2L2csIFwiXlwiKTtcbiAgICAgICAgICAgIC8vIG9wZW4gYW5nbGUgYnJhY2tldFxuICAgICAgICAgICAgcyA9IHMucmVwbGFjZSgvXFx1MjAzOS9nLCBcIjxcIik7XG4gICAgICAgICAgICAvLyBjbG9zZSBhbmdsZSBicmFja2V0XG4gICAgICAgICAgICBzID0gcy5yZXBsYWNlKC9cXHUyMDNBL2csIFwiPlwiKTtcbiAgICAgICAgICAgIC8vIHNwYWNlc1xuICAgICAgICAgICAgcyA9IHMucmVwbGFjZSgvW1xcdTAyREN8XFx1MDBBMF0vZywgXCIgXCIpO1xuICAgICAgICAgICAgcmV0dXJuIHM7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcEV4cG9ydFNlcnZpY2U6c2F2ZUNTVlxuICAgICAgICAgKiBAbWV0aG9kT2YgYW5ndWxhclBvaW50LmFwRXhwb3J0U2VydmljZVxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogQ29udmVydHMgYW4gYXJyYXkgb2YgYXJyYXlzIGludG8gYSB2YWxpZCBDU1YgZmlsZSB0aGF0IGlzIHRoZW4gZG93bmxvYWRlZCB0byB0aGUgdXNlcnMgbWFjaGluZVxuICAgICAgICAgKiBAcmVxdWlyZXMgYW5ndWxhclBvaW50LmFwRXhwb3J0U2VydmljZTpzYXZlRmlsZVxuICAgICAgICAgKiBAcGFyYW0ge2FycmF5W119IGRhdGEgQXJyYXkgb2YgYXJyYXlzIHRoYXQgd2UnZCBsaWtlIHRvIGR1bXAgdG8gYSBDU1YgZmlsZSBhbmQgc2F2ZSB0byB0aGUgbG9jYWwgbWFjaGluZS5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtmaWxlbmFtZT1kZWJ1Zy5jc3ZdIE9wdGlvbmFsbHkgbmFtZSB0aGUgZmlsZS5cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogPHByZT5cbiAgICAgICAgICogLy9MZXRzIGFzc3VtZSB3ZSB3YW50IHRvIGxvb2tzIGF0IGFuIG9iamVjdCB0aGF0IGlzIHRvbyBiaWcgdG8gYmUgZWFzaWx5IHZpZXdlZCBpbiB0aGUgY29uc29sZS5cbiAgICAgICAgICogYXBFeHBvcnRTZXJ2aWNlLnNhdmVDU1Yob2JqZWN0VG9TYXZlLCAnTXlGaWxlJyk7XG4gICAgICAgICAqIC8vVGhpcyB3b3VsZCBkb3dubG9hZCBhIGZpbGUgbmFtZWQgTXlGaWxlLmNzdlxuICAgICAgICAgKiA8L3ByZT5cbiAgICAgICAgICpcbiAgICAgICAgICovXG4gICAgICAgIHNhdmVDU1YoZGF0YTogW1tzdHJpbmdbXV1bXV0sIGZpbGVuYW1lID0gJ2RlYnVnLmNzdicpOiB2b2lkIHtcbiAgICAgICAgICAgIHZhciBjc3ZTdHJpbmcgPSAnJztcbiAgICAgICAgICAgIF8uZWFjaChkYXRhLCBmdW5jdGlvbiAocm93KSB7XG4gICAgICAgICAgICAgICAgXy5lYWNoKHJvdywgZnVuY3Rpb24gKGNvbHVtbiwgY29sdW1uSW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGNvbHVtbiA9PT0gbnVsbCA/ICcnIDogdGhpcy5yZXBsYWNlV29yZENoYXJzKGNvbHVtbik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb2x1bW5JbmRleCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNzdlN0cmluZyArPSAnLCc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLyoqIEVzY2FwZSBzaW5nbGUgcXVvdGVzIHdpdGggZG91YmxlcyBpbiB3aXRoaW4gdGhlIHN0cmluZyAqL1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSByZXN1bHQucmVwbGFjZSgvXCIvZywgJ1wiXCInKTtcblxuICAgICAgICAgICAgICAgICAgICAvKiogU3Vycm91bmQgc3RyaW5nIHdpdGggcXVvdGVzIHNvIHdlIGNhbiBoYXZlIGxpbmUgYnJlYWtzICovXG4gICAgICAgICAgICAgICAgICAgIGNzdlN0cmluZyArPSAnXCInICsgcmVzdWx0ICsgJ1wiJztcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjc3ZTdHJpbmcgKz0gJ1xcbic7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuc2F2ZUZpbGUoY3N2U3RyaW5nLCAnY3N2O2NoYXJzZXQ9dXRmLTg7JywgZmlsZW5hbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBFeHBvcnRTZXJ2aWNlOnNhdmVGaWxlXG4gICAgICAgICAqIEBtZXRob2RPZiBhbmd1bGFyUG9pbnQuYXBFeHBvcnRTZXJ2aWNlXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBVc2VkIHRvIGNvbnZlcnQgYSBKUyBvYmplY3Qgb3IgWE1MIGRvY3VtZW50IGludG8gYSBmaWxlIHRoYXQgaXMgdGhlbiBkb3dubG9hZGVkIG9uIHRoZSB1c2Vyc1xuICAgICAgICAgKiBsb2NhbCBtYWNoaW5lLiAgT3JpZ2luYWwgd29yayBsb2NhdGVkOlxuICAgICAgICAgKiBbaGVyZV0oaHR0cDovL2Jncmlucy5naXRodWIuaW8vZGV2dG9vbHMtc25pcHBldHMvI2NvbnNvbGUtc2F2ZSkuXG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBkYXRhIEpTIG9iamVjdCB0aGF0IHdlJ2QgbGlrZSB0byBkdW1wIHRvIGEgSlNPTiBmaWxlIGFuZCBzYXZlIHRvIHRoZSBsb2NhbCBtYWNoaW5lLlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gZmlsZVR5cGUgQ2FuIGJlIGVpdGhlciAneG1sJyBvciAnanNvbicuXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbZmlsZW5hbWU9ZGVidWcuanNvbl0gT3B0aW9uYWxseSBuYW1lIHRoZSBmaWxlLlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiA8cHJlPlxuICAgICAgICAgKiAvL0xldHMgYXNzdW1lIHdlIHdhbnQgdG8gbG9va3MgYXQgYW4gb2JqZWN0IHRoYXQgaXMgdG9vIGJpZyB0byBiZSBlYXNpbHkgdmlld2VkIGluIHRoZSBjb25zb2xlLlxuICAgICAgICAgKiBhcEV4cG9ydFNlcnZpY2Uuc2F2ZUpTT04ob2JqZWN0VG9TYXZlLCAnbXlvYmplY3QuanNvbicpO1xuICAgICAgICAgKiA8L3ByZT5cbiAgICAgICAgICpcbiAgICAgICAgICovXG4gICAgICAgIHNhdmVGaWxlKGRhdGEsIGZpbGVUeXBlOiBzdHJpbmcsIGZpbGVuYW1lID0gJ2RlYnVnLmpzb24nKSB7XG4gICAgICAgICAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdhcEV4cG9ydFNlcnZpY2Uuc2F2ZScgKyBmaWxlVHlwZS50b1VwcGVyQ2FzZSgpICsgJzogTm8gZGF0YScpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLyoqIElmIHBhc3NlZCBpbiBmaWxlVHlwZT1cImNzdjtjaGFyc2V0PXV0Zi04O1wiIHdlIGp1c3Qgd2FudCB0byB1c2UgXCJjc3ZcIiAqL1xuICAgICAgICAgICAgdmFyIGZpbGVFeHRlbnNpb24gPSBmaWxlVHlwZS5zcGxpdCgnOycpWzBdO1xuXG4gICAgICAgICAgICBpZiAoIWZpbGVuYW1lKSB7XG4gICAgICAgICAgICAgICAgZmlsZW5hbWUgPSAnZGVidWcuJyArIGZpbGVFeHRlbnNpb247XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChmaWxlVHlwZSA9PT0gJ2pzb24nICYmIHR5cGVvZiBkYXRhID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgIGRhdGEgPSBKU09OLnN0cmluZ2lmeShkYXRhLCB1bmRlZmluZWQsIDQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgYmxvYiA9IG5ldyBCbG9iKFtkYXRhXSwge3R5cGU6ICd0ZXh0LycgKyBmaWxlVHlwZX0pLFxuICAgICAgICAgICAgICAgIGUgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnTW91c2VFdmVudHMnKSxcbiAgICAgICAgICAgICAgICBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuXG4gICAgICAgICAgICBhLmRvd25sb2FkID0gZmlsZW5hbWU7XG4gICAgICAgICAgICBhLmhyZWYgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgICAgICAgICAgIGEuZGF0YXNldC5kb3dubG9hZHVybCA9IFsndGV4dC8nICsgZmlsZVR5cGUsIGEuZG93bmxvYWQsIGEuaHJlZl0uam9pbignOicpO1xuICAgICAgICAgICAgZS5pbml0TW91c2VFdmVudCgnY2xpY2snLCB0cnVlLCBmYWxzZSwgd2luZG93LCAwLCAwLCAwLCAwLCAwLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgMCwgbnVsbCk7XG4gICAgICAgICAgICBhLmRpc3BhdGNoRXZlbnQoZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcEV4cG9ydFNlcnZpY2U6c2F2ZUpTT05cbiAgICAgICAgICogQG1ldGhvZE9mIGFuZ3VsYXJQb2ludC5hcEV4cG9ydFNlcnZpY2VcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIFNpbXBsZSBjb252ZW5pZW5jZSBmdW5jdGlvbiB0aGF0IHVzZXMgYW5ndWxhclBvaW50LmFwRXhwb3J0U2VydmljZTpzYXZlRmlsZSB0byBkb3dubG9hZCBqc29uIHRvIHRoZSBsb2NhbCBtYWNoaW5lLlxuICAgICAgICAgKiBAcmVxdWlyZXMgYW5ndWxhclBvaW50LmFwRXhwb3J0U2VydmljZTpzYXZlRmlsZVxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gZGF0YSBKUyBvYmplY3QgdGhhdCB3ZSdkIGxpa2UgdG8gZHVtcCB0byBhIEpTT04gZmlsZSBhbmQgc2F2ZSB0byB0aGUgbG9jYWwgbWFjaGluZS5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtmaWxlbmFtZT1kZWJ1Zy5qc29uXSBPcHRpb25hbGx5IG5hbWUgdGhlIGZpbGUuXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIDxwcmU+XG4gICAgICAgICAqIC8vTGV0cyBhc3N1bWUgd2Ugd2FudCB0byBsb29rcyBhdCBhbiBvYmplY3QgdGhhdCBpcyB0b28gYmlnIHRvIGJlIGVhc2lseSB2aWV3ZWQgaW4gdGhlIGNvbnNvbGUuXG4gICAgICAgICAqIGFwRXhwb3J0U2VydmljZS5zYXZlSlNPTihvYmplY3RUb1NhdmUsICdteW9iamVjdC5qc29uJyk7XG4gICAgICAgICAqIDwvcHJlPlxuICAgICAgICAgKlxuICAgICAgICAgKi9cbiAgICAgICAgc2F2ZUpTT04oZGF0YTpPYmplY3QsIGZpbGVuYW1lID0gJ2RlYnVnLmpzb24nKSB7XG4gICAgICAgICAgICB0aGlzLnNhdmVGaWxlKGRhdGEsICdqc29uJywgZmlsZW5hbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBFeHBvcnRTZXJ2aWNlOnNhdmVYTUxcbiAgICAgICAgICogQG1ldGhvZE9mIGFuZ3VsYXJQb2ludC5hcEV4cG9ydFNlcnZpY2VcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIFNpbXBsZSBjb252ZW5pZW5jZSBmdW5jdGlvbiB0aGF0IHVzZXMgYW5ndWxhclBvaW50LmFwRXhwb3J0U2VydmljZTpzYXZlRmlsZSB0byBkb3dubG9hZCB4bWwgdG8gdGhlIGxvY2FsIG1hY2hpbmUuXG4gICAgICAgICAqIEByZXF1aXJlcyBhbmd1bGFyUG9pbnQuYXBFeHBvcnRTZXJ2aWNlOnNhdmVGaWxlXG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBkYXRhIFhNTCBvYmplY3QgdGhhdCB3ZSdkIGxpa2UgdG8gZHVtcCB0byBhIFhNTCBmaWxlIGFuZCBzYXZlIHRvIHRoZSBsb2NhbCBtYWNoaW5lLlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2ZpbGVuYW1lPWRlYnVnLnhtbF0gT3B0aW9uYWxseSBuYW1lIHRoZSBmaWxlLlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiA8cHJlPlxuICAgICAgICAgKiAvL0xldHMgYXNzdW1lIHdlIHdhbnQgdG8gbG9va3MgYXQgYW4gb2JqZWN0IHRoYXQgaXMgdG9vIGJpZyB0byBiZSBlYXNpbHkgdmlld2VkIGluIHRoZSBjb25zb2xlLlxuICAgICAgICAgKiBhcEV4cG9ydFNlcnZpY2Uuc2F2ZVhNTChvYmplY3RUb1NhdmUsICdteW9iamVjdC54bWwnKTtcbiAgICAgICAgICogPC9wcmU+XG4gICAgICAgICAqXG4gICAgICAgICAqL1xuICAgICAgICBzYXZlWE1MKGRhdGE6IFhNTERvY3VtZW50LCBmaWxlbmFtZSA9ICdkZWJ1Zy54bWwnKSB7XG4gICAgICAgICAgICB0aGlzLnNhdmVGaWxlKGRhdGEsICd4bWwnLCBmaWxlbmFtZSk7XG4gICAgICAgIH1cblxuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIHNlcnZpY2VcbiAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBFeHBvcnRTZXJ2aWNlXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogVG9vbHMgdG8gYXNzaXN0IHdpdGggZGV2ZWxvcG1lbnQuXG4gICAgICogQHJlcXVpcmVzIGFuZ3VsYXJQb2ludC5hcFV0aWxpdHlTZXJ2aWNlXG4gICAgICovXG4gICAgYW5ndWxhci5tb2R1bGUoJ2FuZ3VsYXJQb2ludCcpXG4gICAgICAgIC5zZXJ2aWNlKCdhcEV4cG9ydFNlcnZpY2UnLCBFeHBvcnRTZXJ2aWNlKTtcblxufVxuIiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3MvYXAuZC50c1wiIC8+XG5cbm1vZHVsZSBhcCB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIHVuaXF1ZUNvdW50ID0gMDtcblxuXG4gICAgaW50ZXJmYWNlIElGaWVsZFR5cGUge1xuICAgICAgICBkZWZhdWx0VmFsdWU6IHN0cmluZztcbiAgICAgICAgZHluYW1pY01vY2s6IEZ1bmN0aW9uO1xuICAgICAgICBzdGF0aWNNb2NrOmFueTtcbiAgICB9XG5cbiAgICBleHBvcnQgY2xhc3MgRmllbGRTZXJ2aWNlIHtcbiAgICAgICAgZmllbGRUeXBlczp7W2tleTogc3RyaW5nXTogSUZpZWxkRGVmaW5pdGlvbn07XG4gICAgICAgIGdldERlZmF1bHRWYWx1ZUZvclR5cGUgPSBnZXREZWZhdWx0VmFsdWVGb3JUeXBlO1xuICAgICAgICBnZXREZWZpbml0aW9uID0gZ2V0RGVmaW5pdGlvbjtcbiAgICAgICAgZ2V0TW9ja0RhdGEgPSBnZXRNb2NrRGF0YTtcbiAgICAgICAgbW9ja1Blcm1NYXNrID0gbW9ja1Blcm1NYXNrO1xuICAgICAgICByZXNvbHZlVmFsdWVGb3JFZmZlY3RpdmVQZXJtTWFzayA9IHJlc29sdmVWYWx1ZUZvckVmZmVjdGl2ZVBlcm1NYXNrO1xuXG4gICAgICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAgICAgdGhpcy5maWVsZFR5cGVzID0gZ2V0RmllbGRUeXBlcygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqIFN0b3JlIGFzIGEgZnVuY3Rpb24gdG8gZW5zdXJlIHdlIGluc3RhbnRpYXRlIG5ldyBvYmplY3RzIGZvciBkZWZhdWx0IHZhbHVlcyBpbnN0ZWFkXG4gICAgICogIG9mIGhhdmluZyBhbGwgYmxhbmsgZmllbGQgdGhhdCBoYXZlIGFuIGFycmF5IGZvciBhIGRlZmF1bHQgdmFsdWUgc2hhcmUgdGhlIHNhbWUgYXJyYXkgKi9cbiAgICBmdW5jdGlvbiBnZXRGaWVsZFR5cGVzKCkge1xuICAgICAgICAvKiogRmllbGQgdHlwZXMgdXNlZCBvbiB0aGUgbW9kZWxzIHRvIGNyZWF0ZSBhIGZpZWxkIGRlZmluaXRpb24gKi9cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIFRleHQ6IHtcbiAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU6ICcnLFxuICAgICAgICAgICAgICAgIHN0YXRpY01vY2s6ICdUZXN0IFN0cmluZycsXG4gICAgICAgICAgICAgICAgZHluYW1pY01vY2s6IHJhbmRvbVN0cmluZ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIE5vdGU6IHtcbiAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU6ICcnLFxuICAgICAgICAgICAgICAgIHN0YXRpY01vY2s6ICdUaGlzIGlzIGEgc2VudGVuY2UuJyxcbiAgICAgICAgICAgICAgICBkeW5hbWljTW9jazogcmFuZG9tUGFyYWdyYXBoXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgQm9vbGVhbjoge1xuICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogbnVsbCxcbiAgICAgICAgICAgICAgICBzdGF0aWNNb2NrOiB0cnVlLFxuICAgICAgICAgICAgICAgIGR5bmFtaWNNb2NrOiByYW5kb21Cb29sZWFuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgQ2FsY3VsYXRlZDoge1xuICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogbnVsbCxcbiAgICAgICAgICAgICAgICBzdGF0aWNNb2NrOiAnZmxvYXQ7IzEyMy40NScsXG4gICAgICAgICAgICAgICAgZHluYW1pY01vY2s6IHJhbmRvbUNhbGNcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBDaG9pY2U6IHtcbiAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU6ICcnLFxuICAgICAgICAgICAgICAgIHN0YXRpY01vY2s6ICdNeSBDaG9pY2UnLFxuICAgICAgICAgICAgICAgIGR5bmFtaWNNb2NrOiByYW5kb21TdHJpbmdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBDb3VudGVyOiB7XG4gICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiBudWxsLFxuICAgICAgICAgICAgICAgIHN0YXRpY01vY2s6IGdldFVuaXF1ZUNvdW50ZXIoKSxcbiAgICAgICAgICAgICAgICBkeW5hbWljTW9jazogZ2V0VW5pcXVlQ291bnRlclxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIEN1cnJlbmN5OiB7XG4gICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiBudWxsLFxuICAgICAgICAgICAgICAgIHN0YXRpY01vY2s6IDEyMC41MCxcbiAgICAgICAgICAgICAgICBkeW5hbWljTW9jazogcmFuZG9tQ3VycmVuY3lcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBEYXRlVGltZToge1xuICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogbnVsbCxcbiAgICAgICAgICAgICAgICBzdGF0aWNNb2NrOiBuZXcgRGF0ZSgyMDE0LCA1LCA0LCAxMSwgMzMsIDI1KSxcbiAgICAgICAgICAgICAgICBkeW5hbWljTW9jazogcmFuZG9tRGF0ZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIEludGVnZXI6IHtcbiAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU6IG51bGwsXG4gICAgICAgICAgICAgICAgc3RhdGljTW9jazogMTQsXG4gICAgICAgICAgICAgICAgZHluYW1pY01vY2s6IHJhbmRvbUludGVnZXJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBKU09OOiB7XG4gICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiAnJyxcbiAgICAgICAgICAgICAgICBzdGF0aWNNb2NrOiBbXG4gICAgICAgICAgICAgICAgICAgIHtpZDogMSwgdGl0bGU6ICd0ZXN0J30sXG4gICAgICAgICAgICAgICAgICAgIHtpZDogMn1cbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIGR5bmFtaWNNb2NrOiByYW5kb21TdHJpbmdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBMb29rdXA6IHtcbiAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU6ICcnLFxuICAgICAgICAgICAgICAgIHN0YXRpY01vY2s6IHtsb29rdXBJZDogNDksIGxvb2t1cFZhbHVlOiAnU3RhdGljIExvb2t1cCd9LFxuICAgICAgICAgICAgICAgIGR5bmFtaWNNb2NrOiByYW5kb21Mb29rdXBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBMb29rdXBNdWx0aToge1xuICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogW10sXG4gICAgICAgICAgICAgICAgc3RhdGljTW9jazogW1xuICAgICAgICAgICAgICAgICAgICB7bG9va3VwSWQ6IDUwLCBsb29rdXBWYWx1ZTogJ1N0YXRpYyBNdWx0aSAxJ30sXG4gICAgICAgICAgICAgICAgICAgIHtsb29rdXBJZDogNTEsIGxvb2t1cFZhbHVlOiAnU3RhdGljIE11bHRpIDInfVxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgZHluYW1pY01vY2s6IHJhbmRvbUxvb2t1cE11bHRpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgTWFzazoge1xuICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogbW9ja1Blcm1NYXNrKCksXG4gICAgICAgICAgICAgICAgc3RhdGljTW9jazogbW9ja1Blcm1NYXNrKCksXG4gICAgICAgICAgICAgICAgZHluYW1pY01vY2s6IG1vY2tQZXJtTWFza1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIE11bHRpQ2hvaWNlOiB7XG4gICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiBbXSxcbiAgICAgICAgICAgICAgICBzdGF0aWNNb2NrOiBbJ0EgR29vZCBDaG9pY2UnLCAnQSBCYWQgQ2hvaWNlJ10sXG4gICAgICAgICAgICAgICAgZHluYW1pY01vY2s6IHJhbmRvbVN0cmluZ0FycmF5XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgVXNlcjoge1xuICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogJycsXG4gICAgICAgICAgICAgICAgc3RhdGljTW9jazoge2xvb2t1cElkOiA1MiwgbG9va3VwVmFsdWU6ICdTdGF0aWMgVXNlcid9LFxuICAgICAgICAgICAgICAgIGR5bmFtaWNNb2NrOiByYW5kb21Vc2VyXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgVXNlck11bHRpOiB7XG4gICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiBbXSxcbiAgICAgICAgICAgICAgICBzdGF0aWNNb2NrOiBbXG4gICAgICAgICAgICAgICAgICAgIHtsb29rdXBJZDogNTMsIGxvb2t1cFZhbHVlOiAnU3RhdGljIFVzZXIgMSd9LFxuICAgICAgICAgICAgICAgICAgICB7bG9va3VwSWQ6IDU0LCBsb29rdXBWYWx1ZTogJ1N0YXRpYyBVc2VyIDInfVxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgZHluYW1pY01vY2s6IHJhbmRvbVVzZXJNdWx0aVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cblxuXG4gICAgLyoqPT09PT09PT09PT09PT09PT1QUklWQVRFPT09PT09PT09PT09PT09PT09PSovXG5cbiAgICBmdW5jdGlvbiBnZXRVbmlxdWVDb3VudGVyKCkge1xuICAgICAgICB1bmlxdWVDb3VudCsrO1xuICAgICAgICByZXR1cm4gdW5pcXVlQ291bnQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmFuZG9tQm9vbGVhbigpIHtcbiAgICAgICAgcmV0dXJuIGNoYW5jZS5ib29sKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmFuZG9tQ2FsYygpIHtcbiAgICAgICAgcmV0dXJuICdmbG9hdDsjJyArIGNoYW5jZS5mbG9hdGluZyh7bWluOiAwLCBtYXg6IDEwMDAwfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmFuZG9tU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gY2hhbmNlLndvcmQoKSArICcgJyArIGNoYW5jZS53b3JkKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmFuZG9tU3RyaW5nQXJyYXkoKSB7XG4gICAgICAgIHZhciByYW5kb21BcnIgPSBbXTtcbiAgICAgICAgLyoqIENyZWF0ZSBhIHJhbmRvbSAoMS00KSBudW1iZXIgb2Ygc3RyaW5ncyBhbmQgYWRkIHRvIGFycmF5ICovXG4gICAgICAgIF8udGltZXMoXy5yYW5kb20oMSwgNCksIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJhbmRvbUFyci5wdXNoKHJhbmRvbVN0cmluZygpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByYW5kb21BcnI7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmFuZG9tUGFyYWdyYXBoKCkge1xuICAgICAgICByZXR1cm4gY2hhbmNlLnBhcmFncmFwaCgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJhbmRvbUN1cnJlbmN5KCkge1xuICAgICAgICByZXR1cm4gcGFyc2VJbnQoXy5yYW5kb20oMTAwMDAwMDAsIHRydWUpICogMTAwKSAvIDEwMDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByYW5kb21EYXRlKCkge1xuICAgICAgICByZXR1cm4gY2hhbmNlLmRhdGUoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByYW5kb21JbnRlZ2VyKCkge1xuICAgICAgICByZXR1cm4gY2hhbmNlLmludGVnZXIoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBGaWVsZFNlcnZpY2U6cmVzb2x2ZVZhbHVlRm9yRWZmZWN0aXZlUGVybU1hc2tcbiAgICAgKiBAbWV0aG9kT2YgYW5ndWxhclBvaW50LmFwRmllbGRTZXJ2aWNlXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogVGFrZXMgdGhlIG5hbWUgb2YgYSBwZXJtaXNzaW9uIG1hc2sgYW5kIHJldHVybnMgYSBwZXJtaXNzaW9uIHZhbHVlIHdoaWNoIGNhbiB0aGVuIGJlIHVzZWRcbiAgICAgKiB0byBnZW5lcmF0ZSBhIHBlcm1pc3Npb24gb2JqZWN0IHVzaW5nIG1vZGVsU2VydmljZS5yZXNvbHZlUGVybWlzc2lvbnMob3V0cHV0ZnJvbXRoaXMpXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHBlck1hc2sgT3B0aW9uczpcbiAgICAgKiAgLSBBZGRMaXN0SXRlbXNcbiAgICAgKiAgLSBFZGl0TGlzdEl0ZW1zXG4gICAgICogIC0gRGVsZXRlTGlzdEl0ZW1zXG4gICAgICogIC0gQXBwcm92ZUl0ZW1zXG4gICAgICogIC0gRnVsbE1hc2tcbiAgICAgKiAgLSBWaWV3TGlzdEl0ZW1zXG4gICAgICogQHJldHVybnMge3N0cmluZ30gdmFsdWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZXNvbHZlVmFsdWVGb3JFZmZlY3RpdmVQZXJtTWFzayhwZXJNYXNrKSB7XG4gICAgICAgIHZhciBwZXJtaXNzaW9uVmFsdWU7XG4gICAgICAgIHN3aXRjaCAocGVyTWFzaykge1xuICAgICAgICAgICAgY2FzZSAnQWRkTGlzdEl0ZW1zJzpcbiAgICAgICAgICAgICAgICBwZXJtaXNzaW9uVmFsdWUgPSAnMHgwMDAwMDAwMDAwMDAwMDAyJztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0VkaXRMaXN0SXRlbXMnOlxuICAgICAgICAgICAgICAgIHBlcm1pc3Npb25WYWx1ZSA9ICcweDAwMDAwMDAwMDAwMDAwMDQnO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnRGVsZXRlTGlzdEl0ZW1zJzpcbiAgICAgICAgICAgICAgICBwZXJtaXNzaW9uVmFsdWUgPSAnMHgwMDAwMDAwMDAwMDAwMDA4JztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0FwcHJvdmVJdGVtcyc6XG4gICAgICAgICAgICAgICAgcGVybWlzc2lvblZhbHVlID0gJzB4MDAwMDAwMDAwMDAwMDAxMCc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdGdWxsTWFzayc6XG4gICAgICAgICAgICAgICAgcGVybWlzc2lvblZhbHVlID0gJzB4N0ZGRkZGRkZGRkZGRkZGRic7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdWaWV3TGlzdEl0ZW1zJzpcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcGVybWlzc2lvblZhbHVlID0gJzB4MDAwMDAwMDAwMDAwMDAwMSc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBlcm1pc3Npb25WYWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBGaWVsZFNlcnZpY2U6bW9ja1Blcm1NYXNrXG4gICAgICogQG1ldGhvZE9mIGFuZ3VsYXJQb2ludC5hcEZpZWxkU2VydmljZVxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIERlZmF1bHRzIHRvIGEgZnVsbCBtYXNrIGJ1dCBhbGxvd3Mgc2ltdWxhdGlvbiBvZiBlYWNoIG9mIG1haW4gcGVybWlzc2lvbiBsZXZlbHNcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgY29udGFpbmVyLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5wZXJtaXNzaW9uTGV2ZWw9RnVsbE1hc2tdIE9wdGlvbmFsIG1hc2suXG4gICAgICogQHJldHVybnMge3N0cmluZ30gVmFsdWVzIGZvciBtYXNrLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1vY2tQZXJtTWFzayhvcHRpb25zPzp7cGVybWlzc2lvbkxldmVsOiBzdHJpbmd9KSB7XG4gICAgICAgIHZhciBtYXNrID0gJ0Z1bGxNYXNrJztcbiAgICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5wZXJtaXNzaW9uTGV2ZWwpIHtcbiAgICAgICAgICAgIG1hc2sgPSBvcHRpb25zLnBlcm1pc3Npb25MZXZlbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzb2x2ZVZhbHVlRm9yRWZmZWN0aXZlUGVybU1hc2sobWFzayk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmFuZG9tTG9va3VwKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbG9va3VwSWQ6IGdldFVuaXF1ZUNvdW50ZXIoKSxcbiAgICAgICAgICAgIGxvb2t1cFZhbHVlOiBjaGFuY2Uud29yZCgpXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmFuZG9tVXNlcigpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGxvb2t1cElkOiBnZXRVbmlxdWVDb3VudGVyKCksXG4gICAgICAgICAgICBsb29rdXBWYWx1ZTogY2hhbmNlLm5hbWUoKVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJhbmRvbUxvb2t1cE11bHRpKCkge1xuICAgICAgICB2YXIgbW9ja0RhdGEgPSBbXTtcbiAgICAgICAgXy5lYWNoKF8ucmFuZG9tKDEwKSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgbW9ja0RhdGEucHVzaChyYW5kb21Mb29rdXAoKSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbW9ja0RhdGE7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmFuZG9tVXNlck11bHRpKCkge1xuICAgICAgICB2YXIgbW9ja0RhdGEgPSBbXTtcbiAgICAgICAgXy5lYWNoKF8ucmFuZG9tKDEwKSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgbW9ja0RhdGEucHVzaChyYW5kb21Vc2VyKCkpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG1vY2tEYXRhO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbiBvYmplY3QgZGVmaW5pbmcgYSBzcGVjaWZpYyBmaWVsZCB0eXBlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGZpZWxkVHlwZVxuICAgICAqIEByZXR1cm5zIHtvYmplY3R9IGZpZWxkVHlwZURlZmluaXRpb25cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXREZWZpbml0aW9uKGZpZWxkVHlwZSkge1xuICAgICAgICB2YXIgZmllbGRUeXBlcyA9IGdldEZpZWxkVHlwZXMoKTtcbiAgICAgICAgcmV0dXJuIGZpZWxkVHlwZXNbZmllbGRUeXBlXSA/IGZpZWxkVHlwZXNbZmllbGRUeXBlXSA6IGZpZWxkVHlwZXNbJ1RleHQnXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBGaWVsZFNlcnZpY2U6Z2V0RGVmYXVsdFZhbHVlRm9yVHlwZVxuICAgICAqIEBtZXRob2RPZiBhbmd1bGFyUG9pbnQuYXBGaWVsZFNlcnZpY2VcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBSZXR1cm5zIHRoZSBlbXB0eSB2YWx1ZSBleHBlY3RlZCBmb3IgYSBmaWVsZCB0eXBlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGZpZWxkVHlwZSBUeXBlIG9mIGZpZWxkLlxuICAgICAqIEByZXR1cm5zIHsqfSBEZWZhdWx0IHZhbHVlIGJhc2VkIG9uIGZpZWxkIHR5cGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0RGVmYXVsdFZhbHVlRm9yVHlwZShmaWVsZFR5cGUpIHtcbiAgICAgICAgdmFyIGZpZWxkRGVmaW5pdGlvbiA9IGdldERlZmluaXRpb24oZmllbGRUeXBlKSxcbiAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTtcblxuICAgICAgICBpZiAoZmllbGREZWZpbml0aW9uKSB7XG4gICAgICAgICAgICBkZWZhdWx0VmFsdWUgPSBmaWVsZERlZmluaXRpb24uZGVmYXVsdFZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgYW5ndWxhclBvaW50LmFwRmllbGRTZXJ2aWNlOmdldE1vY2tEYXRhXG4gICAgICogQG1ldGhvZE9mIGFuZ3VsYXJQb2ludC5hcEZpZWxkU2VydmljZVxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIENhbiByZXR1cm4gbW9jayBkYXRhIGFwcHJvcHJpYXRlIGZvciB0aGUgZmllbGQgdHlwZSwgYnkgZGVmYXVsdCBpdCBkeW5hbWljYWxseSBnZW5lcmF0ZXMgZGF0YSBidXRcbiAgICAgKiB0aGUgc3RhdGljVmFsdWUgcGFyYW0gd2lsbCBpbnN0ZWFkIHJldHVybiBhIGhhcmQgY29kZWQgdHlwZSBzcGVjaWZpYyB2YWx1ZVxuICAgICAqXG4gICAgICogQHJlcXVpcmVzIENoYW5jZUpTIHRvIHByb2R1Y2UgZHluYW1pYyBkYXRhLlxuICAgICAqIGh0dHBzOi8vZ2l0aHViLmNvbS92aWN0b3JxdWlubi9jaGFuY2Vqc1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmaWVsZFR5cGUgRmllbGQgdHlwZSBmcm9tIHRoZSBmaWVsZCBkZWZpbml0aW9uLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gT3B0aW9uYWwgcGFyYW1zLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuc3RhdGljVmFsdWU9ZmFsc2VdIERlZmF1bHQgdG8gZHluYW1pY2FsbHkgYnVpbGQgbW9jayBkYXRhLlxuICAgICAqIEByZXR1cm5zIHsqfSBtb2NrRGF0YVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldE1vY2tEYXRhKGZpZWxkVHlwZSwgb3B0aW9ucykge1xuICAgICAgICB2YXIgbW9jaztcbiAgICAgICAgdmFyIGZpZWxkRGVmaW5pdGlvbiA9IGdldERlZmluaXRpb24oZmllbGRUeXBlKTtcbiAgICAgICAgaWYgKGZpZWxkRGVmaW5pdGlvbikge1xuICAgICAgICAgICAgaWYgKF8uaXNGdW5jdGlvbih3aW5kb3cuQ2hhbmNlKSAmJiBvcHRpb25zICYmICFvcHRpb25zLnN0YXRpY1ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgLyoqIFJldHVybiBkeW5hbWljIGRhdGEgaWYgQ2hhbmNlSlMgaXMgYXZhaWxhYmxlIGFuZCBmbGFnIGlzbid0IHNldCByZXF1aXJpbmcgc3RhdGljIGRhdGEgKi9cbiAgICAgICAgICAgICAgICBtb2NrID0gZmllbGREZWZpbml0aW9uLmR5bmFtaWNNb2NrKG9wdGlvbnMpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvKiogUmV0dXJuIHN0YXRpYyBkYXRhIGlmIHRoZSBmbGFnIGlzIHNldCBvciBDaGFuY2VKUyBpc24ndCBhdmFpbGFibGUgKi9cbiAgICAgICAgICAgICAgICBtb2NrID0gZmllbGREZWZpbml0aW9uLnN0YXRpY01vY2s7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1vY2s7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2Mgc2VydmljZVxuICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcEZpZWxkU2VydmljZVxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIEhhbmRsZXMgdGhlIG1hcHBpbmcgb2YgdGhlIHZhcmlvdXMgdHlwZXMgb2YgZmllbGRzIHVzZWQgd2l0aGluIGEgU2hhcmVQb2ludCBsaXN0XG4gICAgICovXG4gICAgYW5ndWxhci5tb2R1bGUoJ2FuZ3VsYXJQb2ludCcpXG4gICAgICAgIC5zZXJ2aWNlKCdhcEZpZWxkU2VydmljZScsIEZpZWxkU2VydmljZSk7XG5cbn1cbiIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90eXBpbmdzL2FwLmQudHNcIiAvPlxuXG5tb2R1bGUgYXAge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciAkZmlsdGVyO1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIHNlcnZpY2VcbiAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBGb3JtYXR0ZWRGaWVsZFZhbHVlU2VydmljZVxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFJldHVybnMgdGhlIGZvcm1hdHRlZCBzdHJpbmcgdmFsdWUgZm9yIGEgZmllbGQgYmFzZWQgb24gZmllbGQgdHlwZS5cbiAgICAgKi9cbiAgICBleHBvcnQgY2xhc3MgRm9ybWF0dGVkRmllbGRWYWx1ZVNlcnZpY2Uge1xuICAgICAgICBnZXRGb3JtYXR0ZWRGaWVsZFZhbHVlID0gZ2V0Rm9ybWF0dGVkRmllbGRWYWx1ZTtcbiAgICAgICAgc3RyaW5naWZ5Qm9vbGVhbiA9IHN0cmluZ2lmeUJvb2xlYW47XG4gICAgICAgIHN0cmluZ2lmeUNhbGMgPSBzdHJpbmdpZnlDYWxjO1xuICAgICAgICBzdHJpbmdpZnlDdXJyZW5jeSA9IHN0cmluZ2lmeUN1cnJlbmN5O1xuICAgICAgICBzdHJpbmdpZnlEYXRlID0gc3RyaW5naWZ5RGF0ZTtcbiAgICAgICAgc3RyaW5naWZ5TG9va3VwID0gc3RyaW5naWZ5TG9va3VwO1xuICAgICAgICBzdHJpbmdpZnlNdWx0aUNob2ljZSA9IHN0cmluZ2lmeU11bHRpQ2hvaWNlO1xuICAgICAgICBzdHJpbmdpZnlNdWx0aUxvb2t1cCA9IHN0cmluZ2lmeU11bHRpTG9va3VwO1xuICAgICAgICBzdHJpbmdpZnlOdW1iZXIgPSBzdHJpbmdpZnlOdW1iZXI7XG5cbiAgICAgICAgY29uc3RydWN0b3IoJGluamVjdG9yKSB7XG4gICAgICAgICAgICAkZmlsdGVyID0gJGluamVjdG9yLmdldCgnJGZpbHRlcicpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqPT09PT09PT09PT09PT09PT09UFJJVkFURT09PT09PT09PT09PT09PT09PSovXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBGb3JtYXR0ZWRGaWVsZFZhbHVlU2VydmljZTpnZXRGb3JtYXR0ZWRGaWVsZFZhbHVlXG4gICAgICogQG1ldGhvZE9mIGFuZ3VsYXJQb2ludC5hcEZvcm1hdHRlZEZpZWxkVmFsdWVTZXJ2aWNlXG4gICAgICogQHBhcmFtIHtvYmplY3R8YXJyYXl8c3RyaW5nfGludGVnZXJ8Ym9vbGVhbn0gcHJvcCBUYXJnZXQgdGhhdCB3ZSdkIGxpa2UgdG8gc3RyaW5naWZ5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbcHJvcGVydHlUeXBlPSdTdHJpbmcnXSBBc3N1bWVzIGJ5IGRlZmF1bHQgdGhhdCBpdCdzIGFscmVhZHkgYSBzdHJpbmcuICBNb3N0IG9mIHRoZSBub3JtYWwgZmllbGRcbiAgICAgKiB0eXBlcyBpZGVudGlmaWVkIGluIHRoZSBtb2RlbCBmaWVsZCBkZWZpbml0aW9ucyBhcmUgc3VwcG9ydGVkLlxuICAgICAqXG4gICAgICogLSBMb29rdXBcbiAgICAgKiAtIFVzZXJcbiAgICAgKiAtIEJvb2xlYW5cbiAgICAgKiAtIERhdGVUaW1lXG4gICAgICogLSBJbnRlZ2VyXG4gICAgICogLSBOdW1iZXJcbiAgICAgKiAtIENvdW50ZXJcbiAgICAgKiAtIE11bHRpQ2hvaWNlXG4gICAgICogLSBVc2VyTXVsdGlcbiAgICAgKiAtIExvb2t1cE11bHRpXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgT3B0aW9uYWwgY29uZmlnLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5kZWxpbT0nLCAnXSBPcHRpb25hbCBkZWxpbWl0ZXIgdG8gc3BsaXQgY29uY2F0ZW5hdGVkIHN0cmluZ3MuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmRhdGVGb3JtYXQ9J3Nob3J0J10gRWl0aGVyICdqc29uJyB3aGljaCBjb252ZXJ0cyBhIGRhdGUgaW50byBJU084NjAxIGRhdGUgc3RyaW5nXG4gICAgICogb3IgYSBtYXNrIGZvciB0aGUgYW5ndWxhciBkYXRlIGZpbHRlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIDxwcmU+XG4gICAgICogIHZhciBwcm9qZWN0ID0ge1xuICAgICAqICAgIHRpdGxlOiAnU3VwZXIgUHJvamVjdCcsXG4gICAgICogICBtZW1iZXJzOiBbXG4gICAgICogICAgIHsgbG9va3VwSWQ6IDEyLCBsb29rdXBWYWx1ZTogJ0pvZScgfSxcbiAgICAgKiAgICAgeyBsb29rdXBJZDogMTksIGxvb2t1cFZhbHVlOiAnQmV0aCcgfVxuICAgICAqICAgXVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiB2YXIgbWVtYmVyc0FzU3RyaW5nID0gYXBGb3JtYXR0ZWRGaWVsZFZhbHVlU2VydmljZTpnZXRGb3JtYXR0ZWRGaWVsZFZhbHVlKHtcbiAgICAgKiAgICBwcm9qZWN0Lm1lbWJlcnMsXG4gICAgICogICAgJ1VzZXJNdWx0aScsXG4gICAgICogICAgeyBkZWxpbTogJyB8ICd9IC8vQ3VzdG9tIERlbGltaXRlclxuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogLy8gbWVtYmVyc0FzU3RyaW5nID0gJ0pvZSB8IEJldGgnO1xuICAgICAqXG4gICAgICogPC9wcmU+XG4gICAgICogQHJldHVybnMge3N0cmluZ30gU3RyaW5naWZpZWQgcHJvcGVydHkgb24gdGhlIG9iamVjdCBiYXNlZCBvbiB0aGUgZmllbGQgdHlwZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRGb3JtYXR0ZWRGaWVsZFZhbHVlKHByb3AsIHByb3BlcnR5VHlwZSA9ICdTdHJpbmcnLCBvcHRpb25zPzp7ZGVsaW06IHN0cmluZzsgZGF0ZUZvcm1hdDogc3RyaW5nfSk6IHN0cmluZyB7XG4gICAgICAgIHZhciBkZWZhdWx0cyA9IHtcbiAgICAgICAgICAgICAgICBkZWxpbTogJywgJyxcbiAgICAgICAgICAgICAgICBkYXRlRm9ybWF0OiAnc2hvcnQnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb3B0cyA9IF8uZXh0ZW5kKHt9LCBkZWZhdWx0cywgb3B0aW9ucyk7XG5cbiAgICAgICAgdmFyIHN0ciA9ICcnO1xuICAgICAgICAvKiogT25seSBwcm9jZXNzIGlmIHByb3AgaXMgZGVmaW5lZCAqL1xuICAgICAgICBpZiAocHJvcCkge1xuICAgICAgICAgICAgc3dpdGNoIChwcm9wZXJ0eVR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdCb29sZWFuJzpcbiAgICAgICAgICAgICAgICAgICAgc3RyID0gc3RyaW5naWZ5Qm9vbGVhbihwcm9wKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnQ2FsY3VsYXRlZCc6IC8vIENhbiBiZSBEYXRlVGltZSwgRmxvYXQsIG9yIFN0cmluZ1xuICAgICAgICAgICAgICAgICAgICBzdHIgPSBzdHJpbmdpZnlDYWxjKHByb3ApO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdMb29rdXAnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ1VzZXInOlxuICAgICAgICAgICAgICAgICAgICBzdHIgPSBzdHJpbmdpZnlMb29rdXAocHJvcCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ0RhdGVUaW1lJzpcbiAgICAgICAgICAgICAgICAgICAgc3RyID0gc3RyaW5naWZ5RGF0ZShwcm9wLCBvcHRzLmRhdGVGb3JtYXQpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdJbnRlZ2VyJzpcbiAgICAgICAgICAgICAgICBjYXNlICdOdW1iZXInOlxuICAgICAgICAgICAgICAgIGNhc2UgJ0Zsb2F0JzpcbiAgICAgICAgICAgICAgICBjYXNlICdDb3VudGVyJzpcbiAgICAgICAgICAgICAgICAgICAgc3RyID0gc3RyaW5naWZ5TnVtYmVyKHByb3ApO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdDdXJyZW5jeSc6XG4gICAgICAgICAgICAgICAgICAgIHN0ciA9IHN0cmluZ2lmeUN1cnJlbmN5KHByb3ApO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdNdWx0aUNob2ljZSc6XG4gICAgICAgICAgICAgICAgICAgIHN0ciA9IHN0cmluZ2lmeU11bHRpQ2hvaWNlKHByb3AsIG9wdHMuZGVsaW0pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdVc2VyTXVsdGknOlxuICAgICAgICAgICAgICAgIGNhc2UgJ0xvb2t1cE11bHRpJzpcbiAgICAgICAgICAgICAgICAgICAgc3RyID0gc3RyaW5naWZ5TXVsdGlMb29rdXAocHJvcCwgb3B0cy5kZWxpbSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHN0ciA9IHByb3A7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0cjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzdHJpbmdpZnlDYWxjKHByb3ApOiBzdHJpbmcge1xuICAgICAgICBpZiAocHJvcC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfSBlbHNlIGlmIChfLmlzTnVtYmVyKHByb3ApKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0Rm9ybWF0dGVkRmllbGRWYWx1ZShwcm9wLCAnTnVtYmVyJyk7XG4gICAgICAgIH0gZWxzZSBpZiAoXy5pc0RhdGUocHJvcCkpIHtcbiAgICAgICAgICAgIHJldHVybiBnZXRGb3JtYXR0ZWRGaWVsZFZhbHVlKHByb3AsICdEYXRlVGltZScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGdldEZvcm1hdHRlZEZpZWxkVmFsdWUocHJvcCwgJ1RleHQnKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgYW5ndWxhclBvaW50LmFwRm9ybWF0dGVkRmllbGRWYWx1ZVNlcnZpY2U6c3RyaW5naWZ5TnVtYmVyXG4gICAgICogQG1ldGhvZE9mIGFuZ3VsYXJQb2ludC5hcEZvcm1hdHRlZEZpZWxkVmFsdWVTZXJ2aWNlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHByb3AgUHJvcGVydHkgb24gb2JqZWN0IHRvIHBhcnNlLlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIENvbnZlcnRzIGEgbnVtYmVyIHRvIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFN0cmluZ2lmaWVkIG51bWJlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdHJpbmdpZnlOdW1iZXIocHJvcCkge1xuICAgICAgICB2YXIgc3RyID0gJyc7XG4gICAgICAgIGlmIChfLmlzTnVtYmVyKHByb3ApKSB7XG4gICAgICAgICAgICBzdHIgPSBwcm9wLnRvU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0cjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBGb3JtYXR0ZWRGaWVsZFZhbHVlU2VydmljZTpzdHJpbmdpZnlDdXJyZW5jeVxuICAgICAqIEBtZXRob2RPZiBhbmd1bGFyUG9pbnQuYXBGb3JtYXR0ZWRGaWVsZFZhbHVlU2VydmljZVxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIENvbnZlcnRzIGEgbnVtZXJpYyB2YWx1ZSBpbnRvIGEgZm9ybWF0dGVkIGN1cnJlbmN5IHN0cmluZy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcHJvcCBQcm9wZXJ0eSBvbiBvYmplY3QgdG8gcGFyc2UuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gU3RyaW5naWZpZWQgY3VycmVuY3kuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3RyaW5naWZ5Q3VycmVuY3kocHJvcCkge1xuICAgICAgICByZXR1cm4gJGZpbHRlcignY3VycmVuY3knKShwcm9wLCAnJCcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcEZvcm1hdHRlZEZpZWxkVmFsdWVTZXJ2aWNlOnN0cmluZ2lmeUxvb2t1cFxuICAgICAqIEBtZXRob2RPZiBhbmd1bGFyUG9pbnQuYXBGb3JtYXR0ZWRGaWVsZFZhbHVlU2VydmljZVxuICAgICAqIEBwYXJhbSB7b2JqfSBwcm9wIFByb3BlcnR5IG9uIG9iamVjdCB0byBwYXJzZS5cbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBSZXR1cm5zIHRoZSBwcm9wZXJ0eS5sb29rdXBWYWx1ZSBpZiBwcmVzZW50LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFByb3BlcnR5Lmxvb2t1cFZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0cmluZ2lmeUxvb2t1cChwcm9wKSB7XG4gICAgICAgIHZhciBzdHIgPSAnJztcbiAgICAgICAgaWYgKHByb3AgJiYgcHJvcC5sb29rdXBWYWx1ZSkge1xuICAgICAgICAgICAgc3RyID0gcHJvcC5sb29rdXBWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcEZvcm1hdHRlZEZpZWxkVmFsdWVTZXJ2aWNlOnN0cmluZ2lmeUJvb2xlYW5cbiAgICAgKiBAbWV0aG9kT2YgYW5ndWxhclBvaW50LmFwRm9ybWF0dGVkRmllbGRWYWx1ZVNlcnZpY2VcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHByb3AgQm9vbGVhbiB0byBzdHJpbmdpZnkuXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogUmV0dXJucyB0aGUgc3RyaW5naWZpZWQgYm9vbGVhbiBpZiBpdCBpcyBzZXQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gU3RyaW5naWZpZWQgYm9vbGVhbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdHJpbmdpZnlCb29sZWFuKHByb3ApIHtcbiAgICAgICAgdmFyIHN0ciA9ICcnO1xuICAgICAgICBpZiAoXy5pc0Jvb2xlYW4ocHJvcCkpIHtcbiAgICAgICAgICAgIHN0ciA9IHByb3AudG9TdHJpbmcoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcEZvcm1hdHRlZEZpZWxkVmFsdWVTZXJ2aWNlOnN0cmluZ2lmeURhdGVcbiAgICAgKiBAbWV0aG9kT2YgYW5ndWxhclBvaW50LmFwRm9ybWF0dGVkRmllbGRWYWx1ZVNlcnZpY2VcbiAgICAgKiBAcGFyYW0ge2RhdGV9IHByb3AgRGF0ZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGRhdGVGb3JtYXQgRWl0aGVyICdqc29uJyB3aGljaCBjb252ZXJ0cyBhIGRhdGUgaW50byBJU084NjAxIGRhdGUgc3RyaW5nIG9yIGEgbWFzayBmb3JcbiAgICAgKiB0aGUgYW5ndWxhciBkYXRlIGZpbHRlci5cbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBSZXR1cm5zIEpTT04gZGF0ZS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBKU09OIGRhdGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3RyaW5naWZ5RGF0ZShwcm9wLCBkYXRlRm9ybWF0KSB7XG4gICAgICAgIHZhciBzdHIgPSAnJztcbiAgICAgICAgaWYgKF8uaXNEYXRlKHByb3ApKSB7XG4gICAgICAgICAgICBzdHIgPSBkYXRlRm9ybWF0ID09PSAnanNvbicgPyBwcm9wLnRvSlNPTigpIDogJGZpbHRlcignZGF0ZScpKHByb3AsIGRhdGVGb3JtYXQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgYW5ndWxhclBvaW50LmFwRm9ybWF0dGVkRmllbGRWYWx1ZVNlcnZpY2U6c3RyaW5naWZ5TXVsdGlDaG9pY2VcbiAgICAgKiBAbWV0aG9kT2YgYW5ndWxhclBvaW50LmFwRm9ybWF0dGVkRmllbGRWYWx1ZVNlcnZpY2VcbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBwcm9wIEFycmF5IG9mIHNlbGVjdGVkIGNob2ljZXMuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtkZWxpbT0nOyAnXSBDdXN0b20gZGVsaW1pdGVyIHVzZWQgYmV0d2VlbiB0aGUgY29uY2F0ZW5hdGVkIHZhbHVlcy5cbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBDb252ZXJ0cyBhbiBhcnJheSBvZiBzdHJpbmdzIGludG8gYSBzaW5nbGUgY29uY2F0ZW5hdGVkIHN0cmluZy5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBDb25jYXRlbmF0ZWQgc3RyaW5nIHJlcHJlc2VudGF0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0cmluZ2lmeU11bHRpQ2hvaWNlKHByb3AsIGRlbGltKSB7XG4gICAgICAgIHZhciBzdHIgPSAnJyxcbiAgICAgICAgICAgIGQgPSBkZWxpbSB8fCAnOyAnO1xuICAgICAgICBfLmVhY2gocHJvcCwgZnVuY3Rpb24gKGNob2ljZSwgaSkge1xuICAgICAgICAgICAgaWYgKGkgPiAwKSB7XG4gICAgICAgICAgICAgICAgc3RyICs9IGQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdHIgKz0gY2hvaWNlO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHN0cjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBGb3JtYXR0ZWRGaWVsZFZhbHVlU2VydmljZTpzdHJpbmdpZnlNdWx0aUxvb2t1cFxuICAgICAqIEBtZXRob2RPZiBhbmd1bGFyUG9pbnQuYXBGb3JtYXR0ZWRGaWVsZFZhbHVlU2VydmljZVxuICAgICAqIEBwYXJhbSB7b2JqZWN0W119IHByb3AgQXJyYXkgb2YgbG9va3VwIG9iamVjdHMuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtkZWxpbT0nOyAnXSBDdXN0b20gZGVsaW1pdGVyIHVzZWQgYmV0d2VlbiB0aGUgY29uY2F0ZW5hdGVkIHZhbHVlcy5cbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBDb252ZXJ0cyBhbiBhcnJheSBvZiBzZWxlY3RlZCBsb29rdXAgdmFsdWVzIGludG8gYSBzaW5nbGUgY29uY2F0ZW5hdGVkIHN0cmluZy5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBDb25jYXRlbmF0ZWQgc3RyaW5nIHJlcHJlc2VudGF0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0cmluZ2lmeU11bHRpTG9va3VwKHByb3AsIGRlbGltKSB7XG4gICAgICAgIHZhciBzdHIgPSAnJyxcbiAgICAgICAgICAgIGQgPSBkZWxpbSB8fCAnOyAnO1xuICAgICAgICBfLmVhY2gocHJvcCwgZnVuY3Rpb24gKHZhbCwgdmFsSW5kZXgpIHtcblxuICAgICAgICAgICAgLyoqIEFkZCBhcnRpZmljaWFsIGRlbGltICovXG4gICAgICAgICAgICBpZiAodmFsSW5kZXggPiAwKSB7XG4gICAgICAgICAgICAgICAgc3RyICs9IGQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHN0ciArPSBzdHJpbmdpZnlMb29rdXAodmFsKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdhbmd1bGFyUG9pbnQnKVxuICAgICAgICAuc2VydmljZSgnYXBGb3JtYXR0ZWRGaWVsZFZhbHVlU2VydmljZScsIEZvcm1hdHRlZEZpZWxkVmFsdWVTZXJ2aWNlKTtcblxuXG59XG4iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy9hcC5kLnRzXCIgLz5cblxubW9kdWxlIGFwIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2Mgc2VydmljZVxuICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5TUFNlcnZpY2VzXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogVGhpcyBpcyBqdXN0IGEgdHJpbW1lZCBkb3duIHZlcnNpb24gb2YgTWFyYyBBbmRlcnNvbidzIGF3ZXNvbWUgW1NQU2VydmljZXNdKGh0dHA6Ly9zcHNlcnZpY2VzLmNvZGVwbGV4LmNvbS8pIGxpYnJhcnkuXG4gICAgICogV2UncmUgcHJpbWFyaWx5IGxvb2tpbmcgZm9yIHRoZSBhYmlsaXR5IHRvIGNyZWF0ZSB0aGUgU09BUCBlbnZlbG9wZSBhbmQgbGV0IEFuZ3VsYXJKUydzICRodHRwIHNlcnZpY2UgaGFuZGxlIGFsbFxuICAgICAqIGNvbW11bmljYXRpb24gd2l0aCB0aGUgc2VydmVyLlxuICAgICAqXG4gICAgICogKi9cbiAgICBhbmd1bGFyLm1vZHVsZSgnYW5ndWxhclBvaW50JylcbiAgICAgICAgLmZhY3RvcnkoJ1NQU2VydmljZXMnLCBTZXJ2aWNlKTtcblxuICAgIC8vVE9ETyBDbGVhbnVwIGFuZCBjb252ZXJ0IHRvIFRTXG4gICAgZnVuY3Rpb24gU2VydmljZShhcFdlYlNlcnZpY2VPcGVyYXRpb25Db25zdGFudHMsIGFwV2ViU2VydmljZVNlcnZpY2UpIHtcblxuICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAqIFNQU2VydmljZXMgLSBXb3JrIHdpdGggU2hhcmVQb2ludCdzIFdlYiBTZXJ2aWNlcyB1c2luZyBqUXVlcnlcbiAgICAgICAgICAgICAqIFZlcnNpb24gMjAxNC4wMmFcbiAgICAgICAgICAgICAqIEByZXF1aXJlcyBqUXVlcnkgdjEuOCBvciBncmVhdGVyIC0galF1ZXJ5IDEuMTAueCByZWNvbW1lbmRlZFxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIENvcHlyaWdodCAoYykgMjAwOS0yMDEzIFN5bXByYXhpcyBDb25zdWx0aW5nIExMQ1xuICAgICAgICAgICAgICogRXhhbXBsZXMgYW5kIGRvY3MgYXQ6XG4gICAgICAgICAgICAgKiBodHRwOi8vc3BzZXJ2aWNlcy5jb2RlcGxleC5jb21cbiAgICAgICAgICAgICAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZTpcbiAgICAgICAgICAgICAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgKiBAZGVzY3JpcHRpb24gV29yayB3aXRoIFNoYXJlUG9pbnQncyBXZWIgU2VydmljZXMgdXNpbmcgalF1ZXJ5XG4gICAgICAgICAgICAgKiBAdHlwZSBqUXVlcnlcbiAgICAgICAgICAgICAqIEBuYW1lIFNQU2VydmljZXNcbiAgICAgICAgICAgICAqIEBjYXRlZ29yeSBQbHVnaW5zL1NQU2VydmljZXNcbiAgICAgICAgICAgICAqIEBhdXRob3IgU3ltcHJheGlzIENvbnN1bHRpbmcgTExDL21hcmMuYW5kZXJzb25Ac3ltcHJheGlzY29uc3VsdGluZy5jb21cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLyoganNoaW50IHVuZGVmOiB0cnVlICovXG4gICAgICAgICAgICAvKiBnbG9iYWwgTF9NZW51X0Jhc2VVcmwsIF9zcFVzZXJJZCwgX3NwUGFnZUNvbnRleHRJbmZvLCBHaXBBZGRTZWxlY3RlZEl0ZW1zLCBHaXBSZW1vdmVTZWxlY3RlZEl0ZW1zLCBHaXBHZXRHcm91cERhdGEgKi9cblxuICAgICAgICAgICAgLy8gR2xvYmFsIHZhcmlhYmxlc1xuICAgICAgICAgICAgdmFyIFNDSEVNQVNoYXJlUG9pbnQgPSBcImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vc2hhcmVwb2ludFwiO1xuICAgICAgICAgICAgdmFyIGkgPSAwOyAvLyBHZW5lcmljIGxvb3AgY291bnRlclxuICAgICAgICAgICAgdmFyIGVuY29kZU9wdGlvbkxpc3QgPSBbXCJsaXN0TmFtZVwiLCBcImRlc2NyaXB0aW9uXCJdOyAvLyBVc2VkIHRvIGVuY29kZSBvcHRpb25zIHdoaWNoIG1heSBjb250YWluIHNwZWNpYWwgY2hhcmFjdGVyc1xuXG4gICAgICAgICAgICAvLyBEZWZhdWx0cyBhZGRlZCBhcyBhIGZ1bmN0aW9uIGluIG91ciBsaWJyYXJ5IG1lYW5zIHRoYXQgdGhlIGNhbGxlciBjYW4gb3ZlcnJpZGUgdGhlIGRlZmF1bHRzXG4gICAgICAgICAgICAvLyBmb3IgdGhlaXIgc2Vzc2lvbiBieSBjYWxsaW5nIHRoaXMgZnVuY3Rpb24uICBFYWNoIG9wZXJhdGlvbiByZXF1aXJlcyBhIGRpZmZlcmVudCBzZXQgb2Ygb3B0aW9ucztcbiAgICAgICAgICAgIC8vIHdlIGFsbG93IGZvciBhbGwgaW4gYSBzdGFuZGFyZGl6ZWQgd2F5LlxuICAgICAgICAgICAgdmFyIGRlZmF1bHRzID0ge1xuXG4gICAgICAgICAgICAgICAgb3BlcmF0aW9uOiBcIlwiLCAvLyBUaGUgV2ViIFNlcnZpY2Ugb3BlcmF0aW9uXG4gICAgICAgICAgICAgICAgd2ViVVJMOiBcIlwiLCAvLyBVUkwgb2YgdGhlIHRhcmdldCBXZWJcbiAgICAgICAgICAgICAgICBtYWtlVmlld0RlZmF1bHQ6IGZhbHNlLCAvLyB0cnVlIHRvIG1ha2UgdGhlIHZpZXcgdGhlIGRlZmF1bHQgdmlldyBmb3IgdGhlIGxpc3RcblxuICAgICAgICAgICAgICAgIC8vIEZvciBvcGVyYXRpb25zIHJlcXVpcmluZyBDQU1MLCB0aGVzZSBvcHRpb25zIHdpbGwgb3ZlcnJpZGUgYW55IGFic3RyYWN0aW9uc1xuICAgICAgICAgICAgICAgIENBTUxWaWV3TmFtZTogXCJcIiwgLy8gVmlldyBuYW1lIGluIENBTUwgZm9ybWF0LlxuICAgICAgICAgICAgICAgIENBTUxRdWVyeTogXCJcIiwgLy8gUXVlcnkgaW4gQ0FNTCBmb3JtYXRcbiAgICAgICAgICAgICAgICBDQU1MVmlld0ZpZWxkczogXCJcIiwgLy8gVmlldyBmaWVsZHMgaW4gQ0FNTCBmb3JtYXRcbiAgICAgICAgICAgICAgICBDQU1MUm93TGltaXQ6IDAsIC8vIFJvdyBsaW1pdCBhcyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnRlZ2VyXG4gICAgICAgICAgICAgICAgQ0FNTFF1ZXJ5T3B0aW9uczogXCI8UXVlcnlPcHRpb25zPjwvUXVlcnlPcHRpb25zPlwiLCAvLyBRdWVyeSBvcHRpb25zIGluIENBTUwgZm9ybWF0XG5cbiAgICAgICAgICAgICAgICAvLyBBYnN0cmFjdGlvbnMgZm9yIENBTUwgc3ludGF4XG4gICAgICAgICAgICAgICAgYmF0Y2hDbWQ6IFwiVXBkYXRlXCIsIC8vIE1ldGhvZCBDbWQgZm9yIFVwZGF0ZUxpc3RJdGVtc1xuICAgICAgICAgICAgICAgIHZhbHVlUGFpcnM6IFtdLCAvLyBGaWVsZG5hbWUgLyBGaWVsZHZhbHVlIHBhaXJzIGZvciBVcGRhdGVMaXN0SXRlbXNcblxuICAgICAgICAgICAgICAgIC8vIEFzIG9mIHYwLjcuMSwgcmVtb3ZlZCBhbGwgb3B0aW9ucyB3aGljaCB3ZXJlIGFzc2lnbmVkIGFuIGVtcHR5IHN0cmluZyAoXCJcIilcbiAgICAgICAgICAgICAgICBEZXN0aW5hdGlvblVybHM6IFtdLCAvLyBBcnJheSBvZiBkZXN0aW5hdGlvbiBVUkxzIGZvciBjb3B5IG9wZXJhdGlvbnNcbiAgICAgICAgICAgICAgICBiZWhhdmlvcjogXCJWZXJzaW9uM1wiLCAvLyBBbiBTUFdlYlNlcnZpY2VCZWhhdmlvciBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIGNsaWVudCBzdXBwb3J0cyBXaW5kb3dzIFNoYXJlUG9pbnQgU2VydmljZXMgMi4wIG9yIFdpbmRvd3MgU2hhcmVQb2ludCBTZXJ2aWNlcyAzLjA6IHtWZXJzaW9uMiB8IFZlcnNpb24zIH1cbiAgICAgICAgICAgICAgICBzdG9yYWdlOiBcIlNoYXJlZFwiLCAvLyBBIFN0b3JhZ2UgdmFsdWUgaW5kaWNhdGluZyBob3cgdGhlIFdlYiBQYXJ0IGlzIHN0b3JlZDoge05vbmUgfCBQZXJzb25hbCB8IFNoYXJlZH1cbiAgICAgICAgICAgICAgICBvYmplY3RUeXBlOiBcIkxpc3RcIiwgLy8gb2JqZWN0VHlwZSBmb3Igb3BlcmF0aW9ucyB3aGljaCByZXF1aXJlIGl0XG4gICAgICAgICAgICAgICAgY2FuY2VsTWVldGluZzogdHJ1ZSwgLy8gdHJ1ZSB0byBkZWxldGUgYSBtZWV0aW5nO2ZhbHNlIHRvIHJlbW92ZSBpdHMgYXNzb2NpYXRpb24gd2l0aCBhIE1lZXRpbmcgV29ya3NwYWNlIHNpdGVcbiAgICAgICAgICAgICAgICBub25HcmVnb3JpYW46IGZhbHNlLCAvLyB0cnVlIGlmIHRoZSBjYWxlbmRhciBpcyBzZXQgdG8gYSBmb3JtYXQgb3RoZXIgdGhhbiBHcmVnb3JpYW47b3RoZXJ3aXNlLCBmYWxzZS5cbiAgICAgICAgICAgICAgICBmQ2xhaW06IGZhbHNlLCAvLyBTcGVjaWZpZXMgaWYgdGhlIGFjdGlvbiBpcyBhIGNsYWltIG9yIGEgcmVsZWFzZS4gU3BlY2lmaWVzIHRydWUgZm9yIGEgY2xhaW0gYW5kIGZhbHNlIGZvciBhIHJlbGVhc2UuXG4gICAgICAgICAgICAgICAgcmVjdXJyZW5jZUlkOiAwLCAvLyBUaGUgcmVjdXJyZW5jZSBJRCBmb3IgdGhlIG1lZXRpbmcgdGhhdCBuZWVkcyBpdHMgYXNzb2NpYXRpb24gcmVtb3ZlZC4gVGhpcyBwYXJhbWV0ZXIgY2FuIGJlIHNldCB0byAwIGZvciBzaW5nbGUtaW5zdGFuY2UgbWVldGluZ3MuXG4gICAgICAgICAgICAgICAgc2VxdWVuY2U6IDAsIC8vIEFuIGludGVnZXIgdGhhdCBpcyB1c2VkIHRvIGRldGVybWluZSB0aGUgb3JkZXJpbmcgb2YgdXBkYXRlcyBpbiBjYXNlIHRoZXkgYXJyaXZlIG91dCBvZiBzZXF1ZW5jZS4gVXBkYXRlcyB3aXRoIGEgbG93ZXItdGhhbi1jdXJyZW50IHNlcXVlbmNlIGFyZSBkaXNjYXJkZWQuIElmIHRoZSBzZXF1ZW5jZSBpcyBlcXVhbCB0byB0aGUgY3VycmVudCBzZXF1ZW5jZSwgdGhlIGxhdGVzdCB1cGRhdGUgYXJlIGFwcGxpZWQuXG4gICAgICAgICAgICAgICAgbWF4aW11bUl0ZW1zVG9SZXR1cm46IDAsIC8vIFNvY2lhbERhdGFTZXJ2aWNlIG1heGltdW1JdGVtc1RvUmV0dXJuXG4gICAgICAgICAgICAgICAgc3RhcnRJbmRleDogMCwgLy8gU29jaWFsRGF0YVNlcnZpY2Ugc3RhcnRJbmRleFxuICAgICAgICAgICAgICAgIGlzSGlnaFByaW9yaXR5OiBmYWxzZSwgLy8gU29jaWFsRGF0YVNlcnZpY2UgaXNIaWdoUHJpb3JpdHlcbiAgICAgICAgICAgICAgICBpc1ByaXZhdGU6IGZhbHNlLCAvLyBTb2NpYWxEYXRhU2VydmljZSBpc1ByaXZhdGVcbiAgICAgICAgICAgICAgICByYXRpbmc6IDEsIC8vIFNvY2lhbERhdGFTZXJ2aWNlIHJhdGluZ1xuICAgICAgICAgICAgICAgIG1heFJlc3VsdHM6IDEwLCAvLyBVbmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZCwgdGhlIG1heGltdW0gbnVtYmVyIG9mIHByaW5jaXBhbHMgdGhhdCBjYW4gYmUgcmV0dXJuZWQgZnJvbSBhIHByb3ZpZGVyIGlzIDEwLlxuICAgICAgICAgICAgICAgIHByaW5jaXBhbFR5cGU6IFwiVXNlclwiLCAvLyBTcGVjaWZpZXMgdXNlciBzY29wZSBhbmQgb3RoZXIgaW5mb3JtYXRpb246IFtOb25lIHwgVXNlciB8IERpc3RyaWJ1dGlvbkxpc3QgfCBTZWN1cml0eUdyb3VwIHwgU2hhcmVQb2ludEdyb3VwIHwgQWxsXVxuXG4gICAgICAgICAgICAgICAgYXN5bmM6IHRydWUsIC8vIEFsbG93IHRoZSB1c2VyIHRvIGZvcmNlIGFzeW5jXG4gICAgICAgICAgICAgICAgY29tcGxldGVmdW5jOiBudWxsIC8vIEZ1bmN0aW9uIHRvIGNhbGwgb24gY29tcGxldGlvblxuXG4gICAgICAgICAgICB9OyAvLyBFbmQgU1BTZXJ2aWNlcy5kZWZhdWx0c1xuXG5cbiAgICAgICAgICAgIC8vIFNldCB1cCBTT0FQIGVudmVsb3BlXG4gICAgICAgICAgICBmdW5jdGlvbiBTT0FQRW52ZWxvcGUoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyOiBcIjxzb2FwOkVudmVsb3BlIHhtbG5zOnhzaT0naHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEtaW5zdGFuY2UnIFwiICtcbiAgICAgICAgICAgICAgICAgICAgXCJ4bWxuczp4c2Q9J2h0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hJyBcIiArXG4gICAgICAgICAgICAgICAgICAgIFwieG1sbnM6c29hcD0naHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvc29hcC9lbnZlbG9wZS8nPjxzb2FwOkJvZHk+XCIsXG4gICAgICAgICAgICAgICAgICAgIGZvb3RlcjogXCI8L3NvYXA6Qm9keT48L3NvYXA6RW52ZWxvcGU+XCIsXG4gICAgICAgICAgICAgICAgICAgIHBheWxvYWQ6IFwiXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgLy8gTWFpbiBmdW5jdGlvbiwgd2hpY2ggY2FsbHMgU2hhcmVQb2ludCdzIFdlYiBTZXJ2aWNlcyBkaXJlY3RseS5cbiAgICAgICAgICAgIHZhciBTUFNlcnZpY2VzID0ge1xuICAgICAgICAgICAgICAgIGRlZmF1bHRzOiBkZWZhdWx0cyxcbiAgICAgICAgICAgICAgICBlbmNvZGVYbWw6IGVuY29kZVhtbCxcbiAgICAgICAgICAgICAgICBnZW5lcmF0ZVhNTENvbXBvbmVudHM6IGdlbmVyYXRlWE1MQ29tcG9uZW50cyxcbiAgICAgICAgICAgICAgICBTQ0hFTUFTaGFyZVBvaW50OiBTQ0hFTUFTaGFyZVBvaW50LFxuICAgICAgICAgICAgICAgIFNPQVBFbnZlbG9wZTogbmV3IFNPQVBFbnZlbG9wZSgpXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBmdW5jdGlvbiBnZW5lcmF0ZVhNTENvbXBvbmVudHMob3B0aW9ucykge1xuXG4gICAgICAgICAgICAgICAgLyoqIEtleS9WYWx1ZSBtYXBwaW5nIG9mIFNoYXJlUG9pbnQgcHJvcGVydGllcyB0byBTUFNlcnZpY2VzIHByb3BlcnRpZXMgKi9cbiAgICAgICAgICAgICAgICB2YXIgbWFwcGluZyA9IFtcbiAgICAgICAgICAgICAgICAgICAgWydxdWVyeScsICdDQU1MUXVlcnknXSxcbiAgICAgICAgICAgICAgICAgICAgWyd2aWV3RmllbGRzJywgJ0NBTUxWaWV3RmllbGRzJ10sXG4gICAgICAgICAgICAgICAgICAgIFsncm93TGltaXQnLCAnQ0FNTFJvd0xpbWl0J10sXG4gICAgICAgICAgICAgICAgICAgIFsncXVlcnlPcHRpb25zJywgJ0NBTUxRdWVyeU9wdGlvbnMnXSxcbiAgICAgICAgICAgICAgICAgICAgWydsaXN0SXRlbUlEJywgJ0lEJ11cbiAgICAgICAgICAgICAgICBdO1xuXG4gICAgICAgICAgICAgICAgLyoqIEVuc3VyZSB0aGUgU2hhcmVQb2ludCBwcm9wZXJ0aWVzIGFyZSBhdmFpbGFibGUgcHJpb3IgdG8gZXh0ZW5kaW5nIHdpdGggZGVmYXVsdHMgKi9cbiAgICAgICAgICAgICAgICBfLmVhY2gobWFwcGluZywgZnVuY3Rpb24gKG1hcCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9uc1ttYXBbMF1dICYmICFvcHRpb25zW21hcFsxXV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKiBFbnN1cmUgU1BTZXJ2aWNlcyBwcm9wZXJ0aWVzIGFyZSBhZGRlZCBpbiB0aGUgZXZlbnQgdGhlIHRydWUgcHJvcGVydHkgbmFtZSBpcyB1c2VkICovXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zW21hcFsxXV0gPSBvcHRpb25zW21hcFswXV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHZhciBzb2FwRW52ZWxvcGUgPSBuZXcgU09BUEVudmVsb3BlKCk7XG4gICAgICAgICAgICAgICAgdmFyIFNPQVBBY3Rpb247XG5cbiAgICAgICAgICAgICAgICAvLyBJZiB0aGVyZSBhcmUgbm8gb3B0aW9ucyBwYXNzZWQgaW4sIHVzZSB0aGUgZGVmYXVsdHMuICBFeHRlbmQgcmVwbGFjZXMgZWFjaCBkZWZhdWx0IHdpdGggdGhlIHBhc3NlZCBvcHRpb24uXG4gICAgICAgICAgICAgICAgdmFyIG9wdCA9IF8uZXh0ZW5kKHt9LCBkZWZhdWx0cywgb3B0aW9ucyk7XG5cbiAgICAgICAgICAgICAgICAvLyBFbmNvZGUgb3B0aW9ucyB3aGljaCBtYXkgY29udGFpbiBzcGVjaWFsIGNoYXJhY3RlciwgZXNwLiBhbXBlcnNhbmRcbiAgICAgICAgICAgICAgICBfLmVhY2goZW5jb2RlT3B0aW9uTGlzdCwgZnVuY3Rpb24gKG9wdGlvbk5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF8uaXNTdHJpbmcob3B0W29wdGlvbk5hbWVdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3B0W29wdGlvbk5hbWVdID0gZW5jb2RlWG1sKG9wdFtvcHRpb25OYW1lXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHZhciBzZXJ2aWNlID0gYXBXZWJTZXJ2aWNlT3BlcmF0aW9uQ29uc3RhbnRzW29wdC5vcGVyYXRpb25dWzBdO1xuXG4gICAgICAgICAgICAgICAgLy8gUHV0IHRvZ2V0aGVyIG9wZXJhdGlvbiBoZWFkZXIgYW5kIFNPQVBBY3Rpb24gZm9yIHRoZSBTT0FQIGNhbGwgYmFzZWQgb24gd2hpY2ggV2ViIFNlcnZpY2Ugd2UncmUgY2FsbGluZ1xuICAgICAgICAgICAgICAgIHNvYXBFbnZlbG9wZS5vcGhlYWRlciA9IFwiPFwiICsgb3B0Lm9wZXJhdGlvbiArIFwiIHhtbG5zPSdcIiArIGFwV2ViU2VydmljZVNlcnZpY2UueG1sbnMoc2VydmljZSkgKyBcIicgPlwiO1xuICAgICAgICAgICAgICAgIFNPQVBBY3Rpb24gPSBhcFdlYlNlcnZpY2VTZXJ2aWNlLmFjdGlvbihzZXJ2aWNlKTtcblxuICAgICAgICAgICAgICAgIC8vIEFkZCB0aGUgb3BlcmF0aW9uIHRvIHRoZSBTT0FQQWN0aW9uIGFuZCBvcGZvb3RlclxuICAgICAgICAgICAgICAgIFNPQVBBY3Rpb24gKz0gb3B0Lm9wZXJhdGlvbjtcbiAgICAgICAgICAgICAgICBzb2FwRW52ZWxvcGUub3Bmb290ZXIgPSBcIjwvXCIgKyBvcHQub3BlcmF0aW9uICsgXCI+XCI7XG5cbiAgICAgICAgICAgICAgICAvLyBFYWNoIG9wZXJhdGlvbiByZXF1aXJlcyBhIGRpZmZlcmVudCBzZXQgb2YgdmFsdWVzLiAgVGhpcyBzd2l0Y2ggc3RhdGVtZW50IHNldHMgdGhlbSB1cCBpbiB0aGUgc29hcEVudmVsb3BlLnBheWxvYWQuXG4gICAgICAgICAgICAgICAgc3dpdGNoIChvcHQub3BlcmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEFMRVJUIE9QRVJBVElPTlNcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkdldEFsZXJ0c1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJEZWxldGVBbGVydHNcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvYXBFbnZlbG9wZS5wYXlsb2FkICs9IFwiPElEcz5cIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBvcHQuSURzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc29hcEVudmVsb3BlLnBheWxvYWQgKz0gd3JhcE5vZGUoXCJzdHJpbmdcIiwgb3B0LklEc1tpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBzb2FwRW52ZWxvcGUucGF5bG9hZCArPSBcIjwvSURzPlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQVVUSEVOVElDQVRJT04gT1BFUkFUSU9OU1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiTW9kZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJMb2dpblwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1widXNlcm5hbWVcIiwgXCJwYXNzd29yZFwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAvLyBDT1BZIE9QRVJBVElPTlNcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkNvcHlJbnRvSXRlbXNcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcIlNvdXJjZVVybFwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzb2FwRW52ZWxvcGUucGF5bG9hZCArPSBcIjxEZXN0aW5hdGlvblVybHM+XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgb3B0LkRlc3RpbmF0aW9uVXJscy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvYXBFbnZlbG9wZS5wYXlsb2FkICs9IHdyYXBOb2RlKFwic3RyaW5nXCIsIG9wdC5EZXN0aW5hdGlvblVybHNbaV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgc29hcEVudmVsb3BlLnBheWxvYWQgKz0gXCI8L0Rlc3RpbmF0aW9uVXJscz5cIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcIkZpZWxkc1wiLCBcIlN0cmVhbVwiLCBcIlJlc3VsdHNcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJDb3B5SW50b0l0ZW1zTG9jYWxcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcIlNvdXJjZVVybFwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzb2FwRW52ZWxvcGUucGF5bG9hZCArPSBcIjxEZXN0aW5hdGlvblVybHM+XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgb3B0LkRlc3RpbmF0aW9uVXJscy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvYXBFbnZlbG9wZS5wYXlsb2FkICs9IHdyYXBOb2RlKFwic3RyaW5nXCIsIG9wdC5EZXN0aW5hdGlvblVybHNbaV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgc29hcEVudmVsb3BlLnBheWxvYWQgKz0gXCI8L0Rlc3RpbmF0aW9uVXJscz5cIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiR2V0SXRlbVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wiVXJsXCIsIFwiRmllbGRzXCIsIFwiU3RyZWFtXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIEZPUk0gT1BFUkFUSU9OU1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiR2V0Rm9ybVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wibGlzdE5hbWVcIiwgXCJmb3JtVXJsXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiR2V0Rm9ybUNvbGxlY3Rpb25cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcImxpc3ROYW1lXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIExJU1QgT1BFUkFUSU9OU1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiQWRkQXR0YWNobWVudFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wibGlzdE5hbWVcIiwgXCJsaXN0SXRlbUlEXCIsIFwiZmlsZU5hbWVcIiwgXCJhdHRhY2htZW50XCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiQWRkRGlzY3Vzc2lvbkJvYXJkSXRlbVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wibGlzdE5hbWVcIiwgXCJtZXNzYWdlXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiQWRkTGlzdFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wibGlzdE5hbWVcIiwgXCJkZXNjcmlwdGlvblwiLCBcInRlbXBsYXRlSURcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJBZGRMaXN0RnJvbUZlYXR1cmVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcImxpc3ROYW1lXCIsIFwiZGVzY3JpcHRpb25cIiwgXCJmZWF0dXJlSURcIiwgXCJ0ZW1wbGF0ZUlEXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiQXBwbHlDb250ZW50VHlwZVRvTGlzdFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wid2ViVXJsXCIsIFwiY29udGVudFR5cGVJZFwiLCBcImxpc3ROYW1lXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiQ2hlY2tJbkZpbGVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcInBhZ2VVcmxcIiwgXCJjb21tZW50XCIsIFwiQ2hlY2tpblR5cGVcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJDaGVja091dEZpbGVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcInBhZ2VVcmxcIiwgXCJjaGVja291dFRvTG9jYWxcIiwgXCJsYXN0bW9kaWZpZWRcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJDcmVhdGVDb250ZW50VHlwZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wibGlzdE5hbWVcIiwgXCJkaXNwbGF5TmFtZVwiLCBcInBhcmVudFR5cGVcIiwgXCJmaWVsZHNcIiwgXCJjb250ZW50VHlwZVByb3BlcnRpZXNcIiwgXCJhZGRUb1ZpZXdcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJEZWxldGVBdHRhY2htZW50XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJsaXN0TmFtZVwiLCBcImxpc3RJdGVtSURcIiwgXCJ1cmxcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJEZWxldGVDb250ZW50VHlwZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wibGlzdE5hbWVcIiwgXCJjb250ZW50VHlwZUlkXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiRGVsZXRlQ29udGVudFR5cGVYbWxEb2N1bWVudFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wibGlzdE5hbWVcIiwgXCJjb250ZW50VHlwZUlkXCIsIFwiZG9jdW1lbnRVcmlcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJEZWxldGVMaXN0XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJsaXN0TmFtZVwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkdldEF0dGFjaG1lbnRDb2xsZWN0aW9uXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJsaXN0TmFtZVwiLCBbXCJsaXN0SXRlbUlEXCIsIFwiSURcIl1dKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiR2V0TGlzdFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wibGlzdE5hbWVcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJHZXRMaXN0QW5kVmlld1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wibGlzdE5hbWVcIiwgXCJ2aWV3TmFtZVwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkdldExpc3RDb2xsZWN0aW9uXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkdldExpc3RDb250ZW50VHlwZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wibGlzdE5hbWVcIiwgXCJjb250ZW50VHlwZUlkXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiR2V0TGlzdENvbnRlbnRUeXBlc1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wibGlzdE5hbWVcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJHZXRMaXN0SXRlbXNcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW1wibGlzdE5hbWVcIiwgXCJ2aWV3TmFtZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbXCJxdWVyeVwiLCBcIkNBTUxRdWVyeVwiXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW1widmlld0ZpZWxkc1wiLCBcIkNBTUxWaWV3RmllbGRzXCJdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbXCJyb3dMaW1pdFwiLCBcIkNBTUxSb3dMaW1pdFwiXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW1wicXVlcnlPcHRpb25zXCIsIFwiQ0FNTFF1ZXJ5T3B0aW9uc1wiXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJHZXRMaXN0SXRlbUNoYW5nZXNcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcImxpc3ROYW1lXCIsIFwidmlld0ZpZWxkc1wiLCBcInNpbmNlXCIsIFwiY29udGFpbnNcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJHZXRMaXN0SXRlbUNoYW5nZXNTaW5jZVRva2VuXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtcImxpc3ROYW1lXCIsIFwidmlld05hbWVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW1wicXVlcnlcIiwgXCJDQU1MUXVlcnlcIl0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtcInZpZXdGaWVsZHNcIiwgXCJDQU1MVmlld0ZpZWxkc1wiXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW1wicm93TGltaXRcIiwgXCJDQU1MUm93TGltaXRcIl0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtcInF1ZXJ5T3B0aW9uc1wiLCBcIkNBTUxRdWVyeU9wdGlvbnNcIl0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiY2hhbmdlVG9rZW5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbmROdWxsOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcImNvbnRhaW5zXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZW5kTnVsbDogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJHZXRWZXJzaW9uQ29sbGVjdGlvblwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wic3RybGlzdElEXCIsIFwic3RybGlzdEl0ZW1JRFwiLCBcInN0ckZpZWxkTmFtZVwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlVuZG9DaGVja091dFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wicGFnZVVybFwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlVwZGF0ZUNvbnRlbnRUeXBlXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJsaXN0TmFtZVwiLCBcImNvbnRlbnRUeXBlSWRcIiwgXCJjb250ZW50VHlwZVByb3BlcnRpZXNcIiwgXCJuZXdGaWVsZHNcIiwgXCJ1cGRhdGVGaWVsZHNcIiwgXCJkZWxldGVGaWVsZHNcIiwgXCJhZGRUb1ZpZXdcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJVcGRhdGVDb250ZW50VHlwZXNYbWxEb2N1bWVudFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wibGlzdE5hbWVcIiwgXCJuZXdEb2N1bWVudFwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlVwZGF0ZUNvbnRlbnRUeXBlWG1sRG9jdW1lbnRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcImxpc3ROYW1lXCIsIFwiY29udGVudFR5cGVJZFwiLCBcIm5ld0RvY3VtZW50XCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiVXBkYXRlTGlzdFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wibGlzdE5hbWVcIiwgXCJsaXN0UHJvcGVydGllc1wiLCBcIm5ld0ZpZWxkc1wiLCBcInVwZGF0ZUZpZWxkc1wiLCBcImRlbGV0ZUZpZWxkc1wiLCBcImxpc3RWZXJzaW9uXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiVXBkYXRlTGlzdEl0ZW1zXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJsaXN0TmFtZVwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9wdC51cGRhdGVzICE9PSBcInVuZGVmaW5lZFwiICYmIG9wdC51cGRhdGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJ1cGRhdGVzXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc29hcEVudmVsb3BlLnBheWxvYWQgKz0gXCI8dXBkYXRlcz48QmF0Y2ggT25FcnJvcj0nQ29udGludWUnPjxNZXRob2QgSUQ9JzEnIENtZD0nXCIgKyBvcHQuYmF0Y2hDbWQgKyBcIic+XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IG9wdC52YWx1ZVBhaXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvYXBFbnZlbG9wZS5wYXlsb2FkICs9IFwiPEZpZWxkIE5hbWU9J1wiICsgb3B0LnZhbHVlUGFpcnNbaV1bMF0gKyBcIic+XCIgKyBlc2NhcGVDb2x1bW5WYWx1ZShvcHQudmFsdWVQYWlyc1tpXVsxXSkgKyBcIjwvRmllbGQ+XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHQuYmF0Y2hDbWQgIT09IFwiTmV3XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc29hcEVudmVsb3BlLnBheWxvYWQgKz0gXCI8RmllbGQgTmFtZT0nSUQnPlwiICsgb3B0LklEICsgXCI8L0ZpZWxkPlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb2FwRW52ZWxvcGUucGF5bG9hZCArPSBcIjwvTWV0aG9kPjwvQmF0Y2g+PC91cGRhdGVzPlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gTUVFVElOR1MgT1BFUkFUSU9OU1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiQWRkTWVldGluZ1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wib3JnYW5pemVyRW1haWxcIiwgXCJ1aWRcIiwgXCJzZXF1ZW5jZVwiLCBcInV0Y0RhdGVTdGFtcFwiLCBcInRpdGxlXCIsIFwibG9jYXRpb25cIiwgXCJ1dGNEYXRlU3RhcnRcIiwgXCJ1dGNEYXRlRW5kXCIsIFwibm9uR3JlZ29yaWFuXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiQ3JlYXRlV29ya3NwYWNlXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJ0aXRsZVwiLCBcInRlbXBsYXRlTmFtZVwiLCBcImxjaWRcIiwgXCJ0aW1lWm9uZUluZm9ybWF0aW9uXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiUmVtb3ZlTWVldGluZ1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wicmVjdXJyZW5jZUlkXCIsIFwidWlkXCIsIFwic2VxdWVuY2VcIiwgXCJ1dGNEYXRlU3RhbXBcIiwgXCJjYW5jZWxNZWV0aW5nXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiU2V0V29ya3NwYWNlVGl0bGVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcInRpdGxlXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFBFT1BMRSBPUEVSQVRJT05TXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJSZXNvbHZlUHJpbmNpcGFsc1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wicHJpbmNpcGFsS2V5c1wiLCBcInByaW5jaXBhbFR5cGVcIiwgXCJhZGRUb1VzZXJJbmZvTGlzdFwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlNlYXJjaFByaW5jaXBhbHNcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcInNlYXJjaFRleHRcIiwgXCJtYXhSZXN1bHRzXCIsIFwicHJpbmNpcGFsVHlwZVwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAvLyBQRVJNSVNTSU9OIE9QRVJBVElPTlNcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkFkZFBlcm1pc3Npb25cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcIm9iamVjdE5hbWVcIiwgXCJvYmplY3RUeXBlXCIsIFwicGVybWlzc2lvbklkZW50aWZpZXJcIiwgXCJwZXJtaXNzaW9uVHlwZVwiLCBcInBlcm1pc3Npb25NYXNrXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiQWRkUGVybWlzc2lvbkNvbGxlY3Rpb25cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcIm9iamVjdE5hbWVcIiwgXCJvYmplY3RUeXBlXCIsIFwicGVybWlzc2lvbnNJbmZvWG1sXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiR2V0UGVybWlzc2lvbkNvbGxlY3Rpb25cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcIm9iamVjdE5hbWVcIiwgXCJvYmplY3RUeXBlXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiUmVtb3ZlUGVybWlzc2lvblwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wib2JqZWN0TmFtZVwiLCBcIm9iamVjdFR5cGVcIiwgXCJwZXJtaXNzaW9uSWRlbnRpZmllclwiLCBcInBlcm1pc3Npb25UeXBlXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiUmVtb3ZlUGVybWlzc2lvbkNvbGxlY3Rpb25cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcIm9iamVjdE5hbWVcIiwgXCJvYmplY3RUeXBlXCIsIFwibWVtYmVySWRzWG1sXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiVXBkYXRlUGVybWlzc2lvblwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wib2JqZWN0TmFtZVwiLCBcIm9iamVjdFR5cGVcIiwgXCJwZXJtaXNzaW9uSWRlbnRpZmllclwiLCBcInBlcm1pc3Npb25UeXBlXCIsIFwicGVybWlzc2lvbk1hc2tcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gUFVCTElTSEVETElOS1NTRVJWSUNFIE9QRVJBVElPTlNcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkdldExpbmtzXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAvLyBTRUFSQ0ggT1BFUkFUSU9OU1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiR2V0UG9ydGFsU2VhcmNoSW5mb1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgc29hcEVudmVsb3BlLm9waGVhZGVyID0gXCI8XCIgKyBvcHQub3BlcmF0aW9uICsgXCIgeG1sbnM9J2h0dHA6Ly9taWNyb3NvZnQuY29tL3dlYnNlcnZpY2VzL09mZmljZVNlcnZlci9RdWVyeVNlcnZpY2UnPlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgU09BUEFjdGlvbiA9IFwiaHR0cDovL21pY3Jvc29mdC5jb20vd2Vic2VydmljZXMvT2ZmaWNlU2VydmVyL1F1ZXJ5U2VydmljZS9cIiArIG9wdC5vcGVyYXRpb247XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkdldFF1ZXJ5U3VnZ2VzdGlvbnNcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvYXBFbnZlbG9wZS5vcGhlYWRlciA9IFwiPFwiICsgb3B0Lm9wZXJhdGlvbiArIFwiIHhtbG5zPSdodHRwOi8vbWljcm9zb2Z0LmNvbS93ZWJzZXJ2aWNlcy9PZmZpY2VTZXJ2ZXIvUXVlcnlTZXJ2aWNlJz5cIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIFNPQVBBY3Rpb24gPSBcImh0dHA6Ly9taWNyb3NvZnQuY29tL3dlYnNlcnZpY2VzL09mZmljZVNlcnZlci9RdWVyeVNlcnZpY2UvXCIgKyBvcHQub3BlcmF0aW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgc29hcEVudmVsb3BlLnBheWxvYWQgKz0gd3JhcE5vZGUoXCJxdWVyeVhtbFwiLCBlbmNvZGVYbWwob3B0LnF1ZXJ5WG1sKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkdldFNlYXJjaE1ldGFkYXRhXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBzb2FwRW52ZWxvcGUub3BoZWFkZXIgPSBcIjxcIiArIG9wdC5vcGVyYXRpb24gKyBcIiB4bWxucz0naHR0cDovL21pY3Jvc29mdC5jb20vd2Vic2VydmljZXMvT2ZmaWNlU2VydmVyL1F1ZXJ5U2VydmljZSc+XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBTT0FQQWN0aW9uID0gXCJodHRwOi8vbWljcm9zb2Z0LmNvbS93ZWJzZXJ2aWNlcy9PZmZpY2VTZXJ2ZXIvUXVlcnlTZXJ2aWNlL1wiICsgb3B0Lm9wZXJhdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiUXVlcnlcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvYXBFbnZlbG9wZS5wYXlsb2FkICs9IHdyYXBOb2RlKFwicXVlcnlYbWxcIiwgZW5jb2RlWG1sKG9wdC5xdWVyeVhtbCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJRdWVyeUV4XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBzb2FwRW52ZWxvcGUub3BoZWFkZXIgPSBcIjxcIiArIG9wdC5vcGVyYXRpb24gKyBcIiB4bWxucz0naHR0cDovL21pY3Jvc29mdC5jb20vd2Vic2VydmljZXMvT2ZmaWNlU2VydmVyL1F1ZXJ5U2VydmljZSc+XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBTT0FQQWN0aW9uID0gXCJodHRwOi8vbWljcm9zb2Z0LmNvbS93ZWJzZXJ2aWNlcy9PZmZpY2VTZXJ2ZXIvUXVlcnlTZXJ2aWNlL1wiICsgb3B0Lm9wZXJhdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvYXBFbnZlbG9wZS5wYXlsb2FkICs9IHdyYXBOb2RlKFwicXVlcnlYbWxcIiwgZW5jb2RlWG1sKG9wdC5xdWVyeVhtbCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJSZWdpc3RyYXRpb25cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvYXBFbnZlbG9wZS5wYXlsb2FkICs9IHdyYXBOb2RlKFwicmVnaXN0cmF0aW9uWG1sXCIsIGVuY29kZVhtbChvcHQucmVnaXN0cmF0aW9uWG1sKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlN0YXR1c1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gU0hBUkVQT0lOVERJQUdOT1NUSUNTIE9QRVJBVElPTlNcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlNlbmRDbGllbnRTY3JpcHRFcnJvclJlcG9ydFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wibWVzc2FnZVwiLCBcImZpbGVcIiwgXCJsaW5lXCIsIFwiY2xpZW50XCIsIFwic3RhY2tcIiwgXCJ0ZWFtXCIsIFwib3JpZ2luYWxGaWxlXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFNJVEVEQVRBIE9QRVJBVElPTlNcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkVudW1lcmF0ZUZvbGRlclwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wic3RyRm9sZGVyVXJsXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiR2V0QXR0YWNobWVudHNcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcInN0ckxpc3ROYW1lXCIsIFwic3RySXRlbUlkXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiU2l0ZURhdGFHZXRMaXN0XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJzdHJMaXN0TmFtZVwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBCZWNhdXNlIHRoaXMgb3BlcmF0aW9uIGhhcyBhIG5hbWUgd2hpY2ggZHVwbGljYXRlcyB0aGUgTGlzdHMgV1MsIG5lZWQgdG8gaGFuZGxlXG4gICAgICAgICAgICAgICAgICAgICAgICBzb2FwRW52ZWxvcGUgPSBzaXRlRGF0YUZpeFNPQVBFbnZlbG9wZShzb2FwRW52ZWxvcGUsIG9wdC5vcGVyYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJTaXRlRGF0YUdldExpc3RDb2xsZWN0aW9uXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBCZWNhdXNlIHRoaXMgb3BlcmF0aW9uIGhhcyBhIG5hbWUgd2hpY2ggZHVwbGljYXRlcyB0aGUgTGlzdHMgV1MsIG5lZWQgdG8gaGFuZGxlXG4gICAgICAgICAgICAgICAgICAgICAgICBzb2FwRW52ZWxvcGUgPSBzaXRlRGF0YUZpeFNPQVBFbnZlbG9wZShzb2FwRW52ZWxvcGUsIG9wdC5vcGVyYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJTaXRlRGF0YUdldFNpdGVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEJlY2F1c2UgdGhpcyBvcGVyYXRpb24gaGFzIGEgbmFtZSB3aGljaCBkdXBsaWNhdGVzIHRoZSBMaXN0cyBXUywgbmVlZCB0byBoYW5kbGVcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvYXBFbnZlbG9wZSA9IHNpdGVEYXRhRml4U09BUEVudmVsb3BlKHNvYXBFbnZlbG9wZSwgb3B0Lm9wZXJhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlNpdGVEYXRhR2V0U2l0ZVVybFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wiVXJsXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEJlY2F1c2UgdGhpcyBvcGVyYXRpb24gaGFzIGEgbmFtZSB3aGljaCBkdXBsaWNhdGVzIHRoZSBMaXN0cyBXUywgbmVlZCB0byBoYW5kbGVcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvYXBFbnZlbG9wZSA9IHNpdGVEYXRhRml4U09BUEVudmVsb3BlKHNvYXBFbnZlbG9wZSwgb3B0Lm9wZXJhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlNpdGVEYXRhR2V0V2ViXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBCZWNhdXNlIHRoaXMgb3BlcmF0aW9uIGhhcyBhIG5hbWUgd2hpY2ggZHVwbGljYXRlcyB0aGUgTGlzdHMgV1MsIG5lZWQgdG8gaGFuZGxlXG4gICAgICAgICAgICAgICAgICAgICAgICBzb2FwRW52ZWxvcGUgPSBzaXRlRGF0YUZpeFNPQVBFbnZlbG9wZShzb2FwRW52ZWxvcGUsIG9wdC5vcGVyYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gU0lURVMgT1BFUkFUSU9OU1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiQ3JlYXRlV2ViXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJ1cmxcIiwgXCJ0aXRsZVwiLCBcImRlc2NyaXB0aW9uXCIsIFwidGVtcGxhdGVOYW1lXCIsIFwibGFuZ3VhZ2VcIiwgXCJsYW5ndWFnZVNwZWNpZmllZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibG9jYWxlXCIsIFwibG9jYWxlU3BlY2lmaWVkXCIsIFwiY29sbGF0aW9uTG9jYWxlXCIsIFwiY29sbGF0aW9uTG9jYWxlU3BlY2lmaWVkXCIsIFwidW5pcXVlUGVybWlzc2lvbnNcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInVuaXF1ZVBlcm1pc3Npb25zU3BlY2lmaWVkXCIsIFwiYW5vbnltb3VzXCIsIFwiYW5vbnltb3VzU3BlY2lmaWVkXCIsIFwicHJlc2VuY2VcIiwgXCJwcmVzZW5jZVNwZWNpZmllZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiRGVsZXRlV2ViXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJ1cmxcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJHZXRTaXRlXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJTaXRlVXJsXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiR2V0U2l0ZVRlbXBsYXRlc1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wiTENJRFwiLCBcIlRlbXBsYXRlTGlzdFwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAvLyBTT0NJQUxEQVRBU0VSVklDRSBPUEVSQVRJT05TXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJBZGRDb21tZW50XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJ1cmxcIiwgXCJjb21tZW50XCIsIFwiaXNIaWdoUHJpb3JpdHlcIiwgXCJ0aXRsZVwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkFkZFRhZ1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1widXJsXCIsIFwidGVybUlEXCIsIFwidGl0bGVcIiwgXCJpc1ByaXZhdGVcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJBZGRUYWdCeUtleXdvcmRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcInVybFwiLCBcImtleXdvcmRcIiwgXCJ0aXRsZVwiLCBcImlzUHJpdmF0ZVwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkNvdW50Q29tbWVudHNPZlVzZXJcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcInVzZXJBY2NvdW50TmFtZVwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkNvdW50Q29tbWVudHNPZlVzZXJPblVybFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1widXNlckFjY291bnROYW1lXCIsIFwidXJsXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiQ291bnRDb21tZW50c09uVXJsXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJ1cmxcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJDb3VudFJhdGluZ3NPblVybFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1widXJsXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiQ291bnRUYWdzT2ZVc2VyXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJ1c2VyQWNjb3VudE5hbWVcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJEZWxldGVDb21tZW50XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJ1cmxcIiwgXCJsYXN0TW9kaWZpZWRUaW1lXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiRGVsZXRlUmF0aW5nXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJ1cmxcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJEZWxldGVUYWdcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcInVybFwiLCBcInRlcm1JRFwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkRlbGV0ZVRhZ0J5S2V5d29yZFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1widXJsXCIsIFwia2V5d29yZFwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkRlbGV0ZVRhZ3NcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcInVybFwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkdldEFsbFRhZ1Rlcm1zXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJtYXhpbXVtSXRlbXNUb1JldHVyblwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkdldEFsbFRhZ1Rlcm1zRm9yVXJsRm9sZGVyXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJ1cmxGb2xkZXJcIiwgXCJtYXhpbXVtSXRlbXNUb1JldHVyblwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkdldEFsbFRhZ1VybHNcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcInRlcm1JRFwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkdldEFsbFRhZ1VybHNCeUtleXdvcmRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcImtleXdvcmRcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJHZXRDb21tZW50c09mVXNlclwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1widXNlckFjY291bnROYW1lXCIsIFwibWF4aW11bUl0ZW1zVG9SZXR1cm5cIiwgXCJzdGFydEluZGV4XCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiR2V0Q29tbWVudHNPZlVzZXJPblVybFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1widXNlckFjY291bnROYW1lXCIsIFwidXJsXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiR2V0Q29tbWVudHNPblVybFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1widXJsXCIsIFwibWF4aW11bUl0ZW1zVG9SZXR1cm5cIiwgXCJzdGFydEluZGV4XCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb3B0LmV4Y2x1ZGVJdGVtc1RpbWUgIT09IFwidW5kZWZpbmVkXCIgJiYgb3B0LmV4Y2x1ZGVJdGVtc1RpbWUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvYXBFbnZlbG9wZS5wYXlsb2FkICs9IHdyYXBOb2RlKFwiZXhjbHVkZUl0ZW1zVGltZVwiLCBvcHQuZXhjbHVkZUl0ZW1zVGltZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkdldFJhdGluZ0F2ZXJhZ2VPblVybFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1widXJsXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiR2V0UmF0aW5nT2ZVc2VyT25VcmxcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcInVzZXJBY2NvdW50TmFtZVwiLCBcInVybFwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkdldFJhdGluZ09uVXJsXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJ1cmxcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJHZXRSYXRpbmdzT2ZVc2VyXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJ1c2VyQWNjb3VudE5hbWVcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJHZXRSYXRpbmdzT25VcmxcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcInVybFwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkdldFNvY2lhbERhdGFGb3JGdWxsUmVwbGljYXRpb25cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcInVzZXJBY2NvdW50TmFtZVwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkdldFRhZ3NcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcInVybFwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkdldFRhZ3NPZlVzZXJcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcInVzZXJBY2NvdW50TmFtZVwiLCBcIm1heGltdW1JdGVtc1RvUmV0dXJuXCIsIFwic3RhcnRJbmRleFwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkdldFRhZ1Rlcm1zXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJtYXhpbXVtSXRlbXNUb1JldHVyblwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkdldFRhZ1Rlcm1zT2ZVc2VyXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJ1c2VyQWNjb3VudE5hbWVcIiwgXCJtYXhpbXVtSXRlbXNUb1JldHVyblwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkdldFRhZ1Rlcm1zT25VcmxcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcInVybFwiLCBcIm1heGltdW1JdGVtc1RvUmV0dXJuXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiR2V0VGFnVXJsc1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1widGVybUlEXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiR2V0VGFnVXJsc0J5S2V5d29yZFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wia2V5d29yZFwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkdldFRhZ1VybHNPZlVzZXJcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcInRlcm1JRFwiLCBcInVzZXJBY2NvdW50TmFtZVwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkdldFRhZ1VybHNPZlVzZXJCeUtleXdvcmRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcImtleXdvcmRcIiwgXCJ1c2VyQWNjb3VudE5hbWVcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJTZXRSYXRpbmdcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcInVybFwiLCBcInJhdGluZ1wiLCBcInRpdGxlXCIsIFwiYW5hbHlzaXNEYXRhRW50cnlcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJVcGRhdGVDb21tZW50XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJ1cmxcIiwgXCJsYXN0TW9kaWZpZWRUaW1lXCIsIFwiY29tbWVudFwiLCBcImlzSGlnaFByaW9yaXR5XCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFNQRUxMQ0hFQ0sgT1BFUkFUSU9OU1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiU3BlbGxDaGVja1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wiY2h1bmtzVG9TcGVsbFwiLCBcImRlY2xhcmVkTGFuZ3VhZ2VcIiwgXCJ1c2VMYWRcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVEFYT05PTVkgT1BFUkFUSU9OU1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiQWRkVGVybXNcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcInNoYXJlZFNlcnZpY2VJZFwiLCBcInRlcm1TZXRJZFwiLCBcImxjaWRcIiwgXCJuZXdUZXJtc1wiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkdldENoaWxkVGVybXNJblRlcm1cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcInNzcElkXCIsIFwibGNpZFwiLCBcInRlcm1JZFwiLCBcInRlcm1TZXRJZFwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkdldENoaWxkVGVybXNJblRlcm1TZXRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcInNzcElkXCIsIFwibGNpZFwiLCBcInRlcm1TZXRJZFwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkdldEtleXdvcmRUZXJtc0J5R3VpZHNcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcInRlcm1JZHNcIiwgXCJsY2lkXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiR2V0VGVybXNCeUxhYmVsXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJsYWJlbFwiLCBcImxjaWRcIiwgXCJtYXRjaE9wdGlvblwiLCBcInJlc3VsdENvbGxlY3Rpb25TaXplXCIsIFwidGVybUlkc1wiLCBcImFkZElmTm90Rm91bmRcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJHZXRUZXJtU2V0c1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wic2hhcmVkU2VydmljZUlkXCIsIFwidGVybVNldElkXCIsIFwibGNpZFwiLCBcImNsaWVudFRpbWVTdGFtcHNcIiwgXCJjbGllbnRWZXJzaW9uc1wiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAvLyBVU0VSUyBBTkQgR1JPVVBTIE9QRVJBVElPTlNcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkFkZEdyb3VwXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJncm91cE5hbWVcIiwgXCJvd25lcklkZW50aWZpZXJcIiwgXCJvd25lclR5cGVcIiwgXCJkZWZhdWx0VXNlckxvZ2luTmFtZVwiLCBcImRlc2NyaXB0aW9uXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiQWRkR3JvdXBUb1JvbGVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcImdyb3VwTmFtZVwiLCBcInJvbGVOYW1lXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiQWRkUm9sZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wicm9sZU5hbWVcIiwgXCJkZXNjcmlwdGlvblwiLCBcInBlcm1pc3Npb25NYXNrXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiQWRkUm9sZURlZlwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wicm9sZU5hbWVcIiwgXCJkZXNjcmlwdGlvblwiLCBcInBlcm1pc3Npb25NYXNrXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiQWRkVXNlckNvbGxlY3Rpb25Ub0dyb3VwXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJncm91cE5hbWVcIiwgXCJ1c2Vyc0luZm9YbWxcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJBZGRVc2VyQ29sbGVjdGlvblRvUm9sZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wicm9sZU5hbWVcIiwgXCJ1c2Vyc0luZm9YbWxcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJBZGRVc2VyVG9Hcm91cFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wiZ3JvdXBOYW1lXCIsIFwidXNlck5hbWVcIiwgXCJ1c2VyTG9naW5OYW1lXCIsIFwidXNlckVtYWlsXCIsIFwidXNlck5vdGVzXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiQWRkVXNlclRvUm9sZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wicm9sZU5hbWVcIiwgXCJ1c2VyTmFtZVwiLCBcInVzZXJMb2dpbk5hbWVcIiwgXCJ1c2VyRW1haWxcIiwgXCJ1c2VyTm90ZXNcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJHZXRBbGxVc2VyQ29sbGVjdGlvbkZyb21XZWJcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiR2V0R3JvdXBDb2xsZWN0aW9uXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJncm91cE5hbWVzWG1sXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiR2V0R3JvdXBDb2xsZWN0aW9uRnJvbVJvbGVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcInJvbGVOYW1lXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiR2V0R3JvdXBDb2xsZWN0aW9uRnJvbVNpdGVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiR2V0R3JvdXBDb2xsZWN0aW9uRnJvbVVzZXJcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcInVzZXJMb2dpbk5hbWVcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJHZXRHcm91cENvbGxlY3Rpb25Gcm9tV2ViXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkdldEdyb3VwSW5mb1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wiZ3JvdXBOYW1lXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiR2V0Um9sZUNvbGxlY3Rpb25cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcInJvbGVOYW1lc1htbFwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkdldFJvbGVDb2xsZWN0aW9uRnJvbUdyb3VwXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJncm91cE5hbWVcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJHZXRSb2xlQ29sbGVjdGlvbkZyb21Vc2VyXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJ1c2VyTG9naW5OYW1lXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiR2V0Um9sZUNvbGxlY3Rpb25Gcm9tV2ViXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkdldFJvbGVJbmZvXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJyb2xlTmFtZVwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkdldFJvbGVzQW5kUGVybWlzc2lvbnNGb3JDdXJyZW50VXNlclwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJHZXRSb2xlc0FuZFBlcm1pc3Npb25zRm9yU2l0ZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJHZXRVc2VyQ29sbGVjdGlvblwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1widXNlckxvZ2luTmFtZXNYbWxcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJHZXRVc2VyQ29sbGVjdGlvbkZyb21Hcm91cFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wiZ3JvdXBOYW1lXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiR2V0VXNlckNvbGxlY3Rpb25Gcm9tUm9sZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wicm9sZU5hbWVcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJHZXRVc2VyQ29sbGVjdGlvbkZyb21TaXRlXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkdldFVzZXJDb2xsZWN0aW9uRnJvbVdlYlwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJHZXRVc2VySW5mb1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1widXNlckxvZ2luTmFtZVwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkdldFVzZXJMb2dpbkZyb21FbWFpbFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wiZW1haWxYbWxcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJSZW1vdmVHcm91cFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wiZ3JvdXBOYW1lXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiUmVtb3ZlR3JvdXBGcm9tUm9sZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wicm9sZU5hbWVcIiwgXCJncm91cE5hbWVcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJSZW1vdmVSb2xlXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJyb2xlTmFtZVwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlJlbW92ZVVzZXJDb2xsZWN0aW9uRnJvbUdyb3VwXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJncm91cE5hbWVcIiwgXCJ1c2VyTG9naW5OYW1lc1htbFwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlJlbW92ZVVzZXJDb2xsZWN0aW9uRnJvbVJvbGVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcInJvbGVOYW1lXCIsIFwidXNlckxvZ2luTmFtZXNYbWxcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJSZW1vdmVVc2VyQ29sbGVjdGlvbkZyb21TaXRlXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJ1c2VyTG9naW5OYW1lc1htbFwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlJlbW92ZVVzZXJGcm9tR3JvdXBcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcImdyb3VwTmFtZVwiLCBcInVzZXJMb2dpbk5hbWVcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJSZW1vdmVVc2VyRnJvbVJvbGVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcInJvbGVOYW1lXCIsIFwidXNlckxvZ2luTmFtZVwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlJlbW92ZVVzZXJGcm9tU2l0ZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1widXNlckxvZ2luTmFtZVwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlJlbW92ZVVzZXJGcm9tV2ViXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJ1c2VyTG9naW5OYW1lXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiVXBkYXRlR3JvdXBJbmZvXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJvbGRHcm91cE5hbWVcIiwgXCJncm91cE5hbWVcIiwgXCJvd25lcklkZW50aWZpZXJcIiwgXCJvd25lclR5cGVcIiwgXCJkZXNjcmlwdGlvblwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlVwZGF0ZVJvbGVEZWZJbmZvXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJvbGRSb2xlTmFtZVwiLCBcInJvbGVOYW1lXCIsIFwiZGVzY3JpcHRpb25cIiwgXCJwZXJtaXNzaW9uTWFza1wiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlVwZGF0ZVJvbGVJbmZvXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJvbGRSb2xlTmFtZVwiLCBcInJvbGVOYW1lXCIsIFwiZGVzY3JpcHRpb25cIiwgXCJwZXJtaXNzaW9uTWFza1wiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlVwZGF0ZVVzZXJJbmZvXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJ1c2VyTG9naW5OYW1lXCIsIFwidXNlck5hbWVcIiwgXCJ1c2VyRW1haWxcIiwgXCJ1c2VyTm90ZXNcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVVNFUlBST0ZJTEVTRVJWSUNFIE9QRVJBVElPTlNcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkFkZENvbGxlYWd1ZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wiYWNjb3VudE5hbWVcIiwgXCJjb2xsZWFndWVBY2NvdW50TmFtZVwiLCBcImdyb3VwXCIsIFwicHJpdmFjeVwiLCBcImlzSW5Xb3JrR3JvdXBcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJBZGRMaW5rXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJhY2NvdW50TmFtZVwiLCBcIm5hbWVcIiwgXCJ1cmxcIiwgXCJncm91cFwiLCBcInByaXZhY3lcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJBZGRNZW1iZXJzaGlwXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJhY2NvdW50TmFtZVwiLCBcIm1lbWJlcnNoaXBJbmZvXCIsIFwiZ3JvdXBcIiwgXCJwcml2YWN5XCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiQWRkUGlubmVkTGlua1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wiYWNjb3VudE5hbWVcIiwgXCJuYW1lXCIsIFwidXJsXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiQ3JlYXRlTWVtYmVyR3JvdXBcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcIm1lbWJlcnNoaXBJbmZvXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiQ3JlYXRlVXNlclByb2ZpbGVCeUFjY291bnROYW1lXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJhY2NvdW50TmFtZVwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkdldENvbW1vbkNvbGxlYWd1ZXNcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcImFjY291bnROYW1lXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiR2V0Q29tbW9uTWFuYWdlclwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wiYWNjb3VudE5hbWVcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJHZXRDb21tb25NZW1iZXJzaGlwc1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wiYWNjb3VudE5hbWVcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJHZXRJbkNvbW1vblwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wiYWNjb3VudE5hbWVcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJHZXRQcm9wZXJ0eUNob2ljZUxpc3RcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcInByb3BlcnR5TmFtZVwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkdldFVzZXJDb2xsZWFndWVzXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJhY2NvdW50TmFtZVwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkdldFVzZXJMaW5rc1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wiYWNjb3VudE5hbWVcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJHZXRVc2VyTWVtYmVyc2hpcHNcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcImFjY291bnROYW1lXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiR2V0VXNlclBpbm5lZExpbmtzXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJhY2NvdW50TmFtZVwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkdldFVzZXJQcm9maWxlQnlHdWlkXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJndWlkXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiR2V0VXNlclByb2ZpbGVCeUluZGV4XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJpbmRleFwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkdldFVzZXJQcm9maWxlQnlOYW1lXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBOb3RlIHRoYXQgdGhpcyBvcGVyYXRpb24gaXMgaW5jb25zaXN0ZW50IHdpdGggdGhlIG90aGVycywgdXNpbmcgQWNjb3VudE5hbWUgcmF0aGVyIHRoYW4gYWNjb3VudE5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb3B0LmFjY291bnROYW1lICE9PSBcInVuZGVmaW5lZFwiICYmIG9wdC5hY2NvdW50TmFtZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbXCJBY2NvdW50TmFtZVwiLCBcImFjY291bnROYW1lXCJdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcIkFjY291bnROYW1lXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiR2V0VXNlclByb2ZpbGVDb3VudFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJHZXRVc2VyUHJvZmlsZVNjaGVtYVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJHZXRVc2VyUHJvcGVydHlCeUFjY291bnROYW1lXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJhY2NvdW50TmFtZVwiLCBcInByb3BlcnR5TmFtZVwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIk1vZGlmeVVzZXJQcm9wZXJ0eUJ5QWNjb3VudE5hbWVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcImFjY291bnROYW1lXCIsIFwibmV3RGF0YVwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlJlbW92ZUFsbENvbGxlYWd1ZXNcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcImFjY291bnROYW1lXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiUmVtb3ZlQWxsTGlua3NcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcImFjY291bnROYW1lXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiUmVtb3ZlQWxsTWVtYmVyc2hpcHNcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcImFjY291bnROYW1lXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiUmVtb3ZlQWxsUGlubmVkTGlua3NcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcImFjY291bnROYW1lXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiUmVtb3ZlQ29sbGVhZ3VlXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJhY2NvdW50TmFtZVwiLCBcImNvbGxlYWd1ZUFjY291bnROYW1lXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiUmVtb3ZlTGlua1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wiYWNjb3VudE5hbWVcIiwgXCJpZFwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlJlbW92ZU1lbWJlcnNoaXBcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcImFjY291bnROYW1lXCIsIFwic291cmNlSW50ZXJuYWxcIiwgXCJzb3VyY2VSZWZlcmVuY2VcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJSZW1vdmVQaW5uZWRMaW5rXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJhY2NvdW50TmFtZVwiLCBcImlkXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiVXBkYXRlQ29sbGVhZ3VlUHJpdmFjeVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wiYWNjb3VudE5hbWVcIiwgXCJjb2xsZWFndWVBY2NvdW50TmFtZVwiLCBcIm5ld1ByaXZhY3lcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJVcGRhdGVMaW5rXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJhY2NvdW50TmFtZVwiLCBcImRhdGFcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJVcGRhdGVNZW1iZXJzaGlwUHJpdmFjeVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wiYWNjb3VudE5hbWVcIiwgXCJzb3VyY2VJbnRlcm5hbFwiLCBcInNvdXJjZVJlZmVyZW5jZVwiLCBcIm5ld1ByaXZhY3lcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJVcGRhdGVQaW5uZWRMaW5rIFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wiYWNjb3VudE5hbWVcIiwgXCJkYXRhXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFZFUlNJT05TIE9QRVJBVElPTlNcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkRlbGV0ZUFsbFZlcnNpb25zXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJmaWxlTmFtZVwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkRlbGV0ZVZlcnNpb25cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcImZpbGVOYW1lXCIsIFwiZmlsZVZlcnNpb25cIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJHZXRWZXJzaW9uc1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wiZmlsZU5hbWVcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJSZXN0b3JlVmVyc2lvblwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wiZmlsZU5hbWVcIiwgXCJmaWxlVmVyc2lvblwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAvLyBWSUVXIE9QRVJBVElPTlNcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkFkZFZpZXdcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcImxpc3ROYW1lXCIsIFwidmlld05hbWVcIiwgXCJ2aWV3RmllbGRzXCIsIFwicXVlcnlcIiwgXCJyb3dMaW1pdFwiLCBcInJvd0xpbWl0XCIsIFwidHlwZVwiLCBcIm1ha2VWaWV3RGVmYXVsdFwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkRlbGV0ZVZpZXdcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcImxpc3ROYW1lXCIsIFwidmlld05hbWVcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJHZXRWaWV3XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJsaXN0TmFtZVwiLCBcInZpZXdOYW1lXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiR2V0Vmlld0NvbGxlY3Rpb25cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcImxpc3ROYW1lXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiR2V0Vmlld0h0bWxcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcImxpc3ROYW1lXCIsIFwidmlld05hbWVcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJVcGRhdGVWaWV3XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJsaXN0TmFtZVwiLCBcInZpZXdOYW1lXCIsIFwidmlld1Byb3BlcnRpZXNcIiwgXCJxdWVyeVwiLCBcInZpZXdGaWVsZHNcIiwgXCJhZ2dyZWdhdGlvbnNcIiwgXCJmb3JtYXRzXCIsIFwicm93TGltaXRcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJVcGRhdGVWaWV3SHRtbFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wibGlzdE5hbWVcIiwgXCJ2aWV3TmFtZVwiLCBcInZpZXdQcm9wZXJ0aWVzXCIsIFwidG9vbGJhclwiLCBcInZpZXdIZWFkZXJcIiwgXCJ2aWV3Qm9keVwiLCBcInZpZXdGb290ZXJcIiwgXCJ2aWV3RW1wdHlcIiwgXCJyb3dMaW1pdEV4Y2VlZGVkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJxdWVyeVwiLCBcInZpZXdGaWVsZHNcIiwgXCJhZ2dyZWdhdGlvbnNcIiwgXCJmb3JtYXRzXCIsIFwicm93TGltaXRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAvLyBXRUJQQVJUUEFHRVMgT1BFUkFUSU9OU1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiQWRkV2ViUGFydFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wicGFnZVVybFwiLCBcIndlYlBhcnRYbWxcIiwgXCJzdG9yYWdlXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiQWRkV2ViUGFydFRvWm9uZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wicGFnZVVybFwiLCBcIndlYlBhcnRYbWxcIiwgXCJzdG9yYWdlXCIsIFwiem9uZUlkXCIsIFwiem9uZUluZGV4XCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiR2V0V2ViUGFydDJcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcInBhZ2VVcmxcIiwgXCJzdG9yYWdlS2V5XCIsIFwic3RvcmFnZVwiLCBcImJlaGF2aW9yXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiR2V0V2ViUGFydFBhZ2VcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcImRvY3VtZW50TmFtZVwiLCBcImJlaGF2aW9yXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiR2V0V2ViUGFydFByb3BlcnRpZXNcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcInBhZ2VVcmxcIiwgXCJzdG9yYWdlXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiR2V0V2ViUGFydFByb3BlcnRpZXMyXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJwYWdlVXJsXCIsIFwic3RvcmFnZVwiLCBcImJlaGF2aW9yXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFdFQlMgT1BFUkFUSU9OU1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiV2Vicy5DcmVhdGVDb250ZW50VHlwZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wiZGlzcGxheU5hbWVcIiwgXCJwYXJlbnRUeXBlXCIsIFwibmV3RmllbGRzXCIsIFwiY29udGVudFR5cGVQcm9wZXJ0aWVzXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiR2V0Q29sdW1uc1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wid2ViVXJsXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiR2V0Q29udGVudFR5cGVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcImNvbnRlbnRUeXBlSWRcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJHZXRDb250ZW50VHlwZXNcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiR2V0Q3VzdG9taXplZFBhZ2VTdGF0dXNcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcImZpbGVVcmxcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJHZXRMaXN0VGVtcGxhdGVzXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkdldE9iamVjdElkRnJvbVVybFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wib2JqZWN0VXJsXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiR2V0V2ViXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW1wid2ViVXJsXCIsIFwid2ViVVJMXCJdXG4gICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiR2V0V2ViQ29sbGVjdGlvblwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJHZXRBbGxTdWJXZWJDb2xsZWN0aW9uXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlVwZGF0ZUNvbHVtbnNcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcIm5ld0ZpZWxkc1wiLCBcInVwZGF0ZUZpZWxkc1wiLCBcImRlbGV0ZUZpZWxkc1wiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIldlYnMuVXBkYXRlQ29udGVudFR5cGVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcImNvbnRlbnRUeXBlSWRcIiwgXCJjb250ZW50VHlwZVByb3BlcnRpZXNcIiwgXCJuZXdGaWVsZHNcIiwgXCJ1cGRhdGVGaWVsZHNcIiwgXCJkZWxldGVGaWVsZHNcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJXZWJVcmxGcm9tUGFnZVVybFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtcInBhZ2VVcmxcIiwgXCJwYWdlVVJMXCJdXG4gICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFdPUktGTE9XIE9QRVJBVElPTlNcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkFsdGVyVG9Eb1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wiaXRlbVwiLCBcInRvZG9JZFwiLCBcInRvZG9MaXN0SWRcIiwgXCJ0YXNrRGF0YVwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkNsYWltUmVsZWFzZVRhc2tcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcIml0ZW1cIiwgXCJ0YXNrSWRcIiwgXCJsaXN0SWRcIiwgXCJmQ2xhaW1cIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJHZXRUZW1wbGF0ZXNGb3JJdGVtXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJpdGVtXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiR2V0VG9Eb3NGb3JJdGVtXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJpdGVtXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiR2V0V29ya2Zsb3dEYXRhRm9ySXRlbVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wiaXRlbVwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkdldFdvcmtmbG93VGFza0RhdGFcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcIml0ZW1cIiwgXCJsaXN0SWRcIiwgXCJ0YXNrSWRcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJTdGFydFdvcmtmbG93XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJpdGVtXCIsIFwidGVtcGxhdGVJZFwiLCBcIndvcmtmbG93UGFyYW1ldGVyc1wiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gR2x1ZSB0b2dldGhlciB0aGUgcGllY2VzIG9mIHRoZSBTT0FQIG1lc3NhZ2VcbiAgICAgICAgICAgICAgICB2YXIgbXNnID0gc29hcEVudmVsb3BlLmhlYWRlciArIHNvYXBFbnZlbG9wZS5vcGhlYWRlciArIHNvYXBFbnZlbG9wZS5wYXlsb2FkICsgc29hcEVudmVsb3BlLm9wZm9vdGVyICsgc29hcEVudmVsb3BlLmZvb3RlcjtcbiAgICAgICAgICAgICAgICB2YXIgc29hcEFjdGlvbiA9IGFwV2ViU2VydmljZU9wZXJhdGlvbkNvbnN0YW50c1tvcHQub3BlcmF0aW9uXVsxXSA/IFNPQVBBY3Rpb24gOiBmYWxzZTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIG1zZzogbXNnLFxuICAgICAgICAgICAgICAgICAgICBTT0FQRW52ZWxvcGU6IHNvYXBFbnZlbG9wZSxcbiAgICAgICAgICAgICAgICAgICAgU09BUEFjdGlvbjogc29hcEFjdGlvblxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvLyBBZGQgdGhlIG9wdGlvbiB2YWx1ZXMgdG8gdGhlIHNvYXBFbnZlbG9wZS5wYXlsb2FkIGZvciB0aGUgb3BlcmF0aW9uXG4gICAgICAgICAgICAgICAgLy8gIG9wdCA9IG9wdGlvbnMgZm9yIHRoZSBjYWxsXG4gICAgICAgICAgICAgICAgLy8gIHBhcmFtQXJyYXkgPSBhbiBhcnJheSBvZiBvcHRpb24gbmFtZXMgdG8gYWRkIHRvIHRoZSBwYXlsb2FkXG4gICAgICAgICAgICAgICAgLy8gICAgICBcInBhcmFtTmFtZVwiIGlmIHRoZSBwYXJhbWV0ZXIgbmFtZSBhbmQgdGhlIG9wdGlvbiBuYW1lIG1hdGNoXG4gICAgICAgICAgICAgICAgLy8gICAgICBbXCJwYXJhbU5hbWVcIiwgXCJvcHRpb25OYW1lXCJdIGlmIHRoZSBwYXJhbWV0ZXIgbmFtZSBhbmQgdGhlIG9wdGlvbiBuYW1lIGFyZSBkaWZmZXJlbnQgKHRoaXMgaGFuZGxlcyBlYXJseSBcIndyYXBwaW5nc1wiIHdpdGggaW5jb25zaXN0ZW50IG5hbWluZylcbiAgICAgICAgICAgICAgICAvLyAgICAgIHtuYW1lOiBcInBhcmFtTmFtZVwiLCBzZW5kTnVsbDogZmFsc2V9IGluZGljYXRlcyB0aGUgZWxlbWVudCBpcyBtYXJrZWQgYXMgXCJhZGQgdG8gcGF5bG9hZCBvbmx5IGlmIG5vbi1udWxsXCJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBhZGRUb1BheWxvYWQob3B0LCBwYXJhbUFycmF5KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGk7XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHBhcmFtQXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZSBwYXJhbWV0ZXIgbmFtZSBhbmQgdGhlIG9wdGlvbiBuYW1lIG1hdGNoXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHBhcmFtQXJyYXlbaV0gPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb2FwRW52ZWxvcGUucGF5bG9hZCArPSB3cmFwTm9kZShwYXJhbUFycmF5W2ldLCBvcHRbcGFyYW1BcnJheVtpXV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZSBwYXJhbWV0ZXIgbmFtZSBhbmQgdGhlIG9wdGlvbiBuYW1lIGFyZSBkaWZmZXJlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXy5pc0FycmF5KHBhcmFtQXJyYXlbaV0pICYmIHBhcmFtQXJyYXlbaV0ubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc29hcEVudmVsb3BlLnBheWxvYWQgKz0gd3JhcE5vZGUocGFyYW1BcnJheVtpXVswXSwgb3B0W3BhcmFtQXJyYXlbaV1bMV1dKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGUgZWxlbWVudCBub3QgYSBzdHJpbmcgb3IgYW4gYXJyYXkgYW5kIGlzIG1hcmtlZCBhcyBcImFkZCB0byBwYXlsb2FkIG9ubHkgaWYgbm9uLW51bGxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICgodHlwZW9mIHBhcmFtQXJyYXlbaV0gPT09IFwib2JqZWN0XCIpICYmIChwYXJhbUFycmF5W2ldLnNlbmROdWxsICE9PSB1bmRlZmluZWQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc29hcEVudmVsb3BlLnBheWxvYWQgKz0gKChvcHRbcGFyYW1BcnJheVtpXS5uYW1lXSA9PT0gdW5kZWZpbmVkKSB8fCAob3B0W3BhcmFtQXJyYXlbaV0ubmFtZV0ubGVuZ3RoID09PSAwKSkgPyBcIlwiIDogd3JhcE5vZGUocGFyYW1BcnJheVtpXS5uYW1lLCBvcHRbcGFyYW1BcnJheVtpXS5uYW1lXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc29tZXRoaW5nIGlzbid0IHJpZ2h0LCBzbyByZXBvcnQgaXRcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyQm94KG9wdC5vcGVyYXRpb24sIFwicGFyYW1BcnJheVtcIiArIGkgKyBcIl06IFwiICsgcGFyYW1BcnJheVtpXSwgXCJJbnZhbGlkIHBhcmFtQXJyYXkgZWxlbWVudCBwYXNzZWQgdG8gYWRkVG9QYXlsb2FkKClcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IC8vIEVuZCBvZiBmdW5jdGlvbiBhZGRUb1BheWxvYWRcblxuICAgICAgICAgICAgICAgIC8vIFRoZSBTaXRlRGF0YSBvcGVyYXRpb25zIGhhdmUgdGhlIHNhbWUgbmFtZXMgYXMgb3RoZXIgV2ViIFNlcnZpY2Ugb3BlcmF0aW9ucy4gVG8gbWFrZSB0aGVtIGVhc3kgdG8gY2FsbCBhbmQgdW5pcXVlLCBJJ20gdXNpbmdcbiAgICAgICAgICAgICAgICAvLyB0aGUgU2l0ZURhdGEgcHJlZml4IG9uIHRoZWlyIG5hbWVzLiBUaGlzIGZ1bmN0aW9uIHJlcGxhY2VzIHRoYXQgbmFtZSB3aXRoIHRoZSByaWdodCBuYW1lIGluIHRoZSBzb2FwRW52ZWxvcGUuXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gc2l0ZURhdGFGaXhTT0FQRW52ZWxvcGUoU09BUEVudmVsb3BlLCBzaXRlRGF0YU9wZXJhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc2l0ZURhdGFPcCA9IHNpdGVEYXRhT3BlcmF0aW9uLnN1YnN0cmluZyg4KTtcbiAgICAgICAgICAgICAgICAgICAgU09BUEVudmVsb3BlLm9waGVhZGVyID0gU09BUEVudmVsb3BlLm9waGVhZGVyLnJlcGxhY2Uoc2l0ZURhdGFPcGVyYXRpb24sIHNpdGVEYXRhT3ApO1xuICAgICAgICAgICAgICAgICAgICBTT0FQRW52ZWxvcGUub3Bmb290ZXIgPSBTT0FQRW52ZWxvcGUub3Bmb290ZXIucmVwbGFjZShzaXRlRGF0YU9wZXJhdGlvbiwgc2l0ZURhdGFPcCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBTT0FQRW52ZWxvcGU7XG4gICAgICAgICAgICAgICAgfSAvLyBFbmQgb2YgZnVuY3Rpb24gc2l0ZURhdGFGaXhTT0FQRW52ZWxvcGVcblxuXG4gICAgICAgICAgICB9OyAvLyBFbmQgU1BTZXJ2aWNlcy5nZW5lcmF0ZVhNTENvbXBvbmVudHNcblxuXG4gICAgICAgICAgICAvL1RPRE8gTW92ZSB0aGlzIHNvbWV3aGVyZSBlbHNlLCBpdCdzIHRvbyBidXJpZWQgZG93biBoZXJlXG4gICAgICAgICAgICAvLyBUaGlzIG1ldGhvZCBmb3IgZmluZGluZyBzcGVjaWZpYyBub2RlcyBpbiB0aGUgcmV0dXJuZWQgWE1MIHdhcyBkZXZlbG9wZWQgYnkgU3RldmUgV29ya21hbi4gU2VlIGhpcyBibG9nIHBvc3RcbiAgICAgICAgICAgIC8vIGh0dHA6Ly93d3cuc3RldmV3b3JrbWFuLmNvbS9odG1sNS0yL2phdmFzY3JpcHQvMjAxMS9pbXByb3ZpbmctamF2YXNjcmlwdC14bWwtbm9kZS1maW5kaW5nLXBlcmZvcm1hbmNlLWJ5LTIwMDAvXG4gICAgICAgICAgICAvLyBmb3IgcGVyZm9ybWFuY2UgZGV0YWlscy5cbiAgICAgICAgICAgICQuZm4uU1BGaWx0ZXJOb2RlID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5maW5kKCcqJykuZmlsdGVyKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubm9kZU5hbWUgPT09IG5hbWU7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9OyAvLyBFbmQgJC5mbi5TUEZpbHRlck5vZGVcblxuICAgICAgICAgICAgLy8vLy8vIFBSSVZBVEUgRlVOQ1RJT05TIC8vLy8vLy8vXG4gICAgICAgICAgICAvLyBXcmFwIGFuIFhNTCBub2RlIChuKSBhcm91bmQgYSB2YWx1ZSAodilcbiAgICAgICAgICAgIGZ1bmN0aW9uIHdyYXBOb2RlKG4sIHYpIHtcbiAgICAgICAgICAgICAgICB2YXIgdGhpc1ZhbHVlID0gdHlwZW9mIHYgIT09IFwidW5kZWZpbmVkXCIgPyB2IDogXCJcIjtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCI8XCIgKyBuICsgXCI+XCIgKyB0aGlzVmFsdWUgKyBcIjwvXCIgKyBuICsgXCI+XCI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEdldCB0aGUgZmlsZW5hbWUgZnJvbSB0aGUgZnVsbCBVUkxcbiAgICAgICAgICAgIGZ1bmN0aW9uIGZpbGVOYW1lKHMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcy5zdWJzdHJpbmcocy5sYXN0SW5kZXhPZihcIi9cIikgKyAxLCBzLmxlbmd0aCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8qIFRha2VuIGZyb20gaHR0cDovL2RyYWNvYmx1ZS5uZXQvZGV2L2VuY29kZWRlY29kZS1zcGVjaWFsLXhtbC1jaGFyYWN0ZXJzLWluLWphdmFzY3JpcHQvMTU1LyAqL1xuICAgICAgICAgICAgdmFyIHhtbF9zcGVjaWFsX3RvX2VzY2FwZWRfb25lX21hcCA9IHtcbiAgICAgICAgICAgICAgICAnJic6ICcmYW1wOycsXG4gICAgICAgICAgICAgICAgJ1wiJzogJyZxdW90OycsXG4gICAgICAgICAgICAgICAgJzwnOiAnJmx0OycsXG4gICAgICAgICAgICAgICAgJz4nOiAnJmd0OydcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGVuY29kZVhtbChzdHJpbmcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RyaW5nLnJlcGxhY2UoLyhbXFwmXCI8Pl0pL2csIGZ1bmN0aW9uIChzdHIsIGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHhtbF9zcGVjaWFsX3RvX2VzY2FwZWRfb25lX21hcFtpdGVtXTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLyogVGFrZW4gZnJvbSBodHRwOi8vZHJhY29ibHVlLm5ldC9kZXYvZW5jb2RlZGVjb2RlLXNwZWNpYWwteG1sLWNoYXJhY3RlcnMtaW4tamF2YXNjcmlwdC8xNTUvICovXG4gICAgICAgICAgICAvLyBFc2NhcGUgY29sdW1uIHZhbHVlc1xuICAgICAgICAgICAgZnVuY3Rpb24gZXNjYXBlQ29sdW1uVmFsdWUocykge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcy5yZXBsYWNlKC8mKD8hW2EtekEtWl17MSw4fTspL2csIFwiJmFtcDtcIik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiBlcnJCb3gobXNnKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihtc2cpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBKYW1lcyBQYWRvbHNleSdzIFJlZ2V4IFNlbGVjdG9yIGZvciBqUXVlcnkgaHR0cDovL2phbWVzLnBhZG9sc2V5LmNvbS9qYXZhc2NyaXB0L3JlZ2V4LXNlbGVjdG9yLWZvci1qcXVlcnkvXG4gICAgICAgICAgICAkLmV4cHJbJzonXS5yZWdleCA9IGZ1bmN0aW9uIChlbGVtLCBpbmRleCwgbWF0Y2gpIHtcbiAgICAgICAgICAgICAgICB2YXIgbWF0Y2hQYXJhbXMgPSBtYXRjaFszXS5zcGxpdCgnLCcpLFxuICAgICAgICAgICAgICAgICAgICB2YWxpZExhYmVscyA9IC9eKGRhdGF8Y3NzKTovLFxuICAgICAgICAgICAgICAgICAgICBhdHRyID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBtYXRjaFBhcmFtc1swXS5tYXRjaCh2YWxpZExhYmVscykgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoUGFyYW1zWzBdLnNwbGl0KCc6JylbMF0gOiAnYXR0cicsXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eTogbWF0Y2hQYXJhbXMuc2hpZnQoKS5yZXBsYWNlKHZhbGlkTGFiZWxzLCAnJylcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgcmVnZXhGbGFncyA9ICdpZycsXG4gICAgICAgICAgICAgICAgICAgIHJlZ2V4ID0gbmV3IFJlZ0V4cChtYXRjaFBhcmFtcy5qb2luKCcnKS5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLCAnJyksIHJlZ2V4RmxhZ3MpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZWdleC50ZXN0KGpRdWVyeShlbGVtKVthdHRyLm1ldGhvZF0oYXR0ci5wcm9wZXJ0eSkpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgcmV0dXJuIFNQU2VydmljZXM7XG5cblxuICAgICAgICAgICAgLy8vLyBLbm93biBsaXN0IGZpZWxkIHR5cGVzXG4gICAgICAgICAgICAvL3ZhciBzcExpc3RGaWVsZFR5cGVzID0gW1xuICAgICAgICAgICAgLy8gICAgXCJUZXh0XCIsXG4gICAgICAgICAgICAvLyAgICBcIkRhdGVUaW1lXCIsXG4gICAgICAgICAgICAvLyAgICBcImRhdGV0aW1lXCIsXG4gICAgICAgICAgICAvLyAgICBcIlVzZXJcIixcbiAgICAgICAgICAgIC8vICAgIFwiVXNlck11bHRpXCIsXG4gICAgICAgICAgICAvLyAgICBcIkxvb2t1cFwiLFxuICAgICAgICAgICAgLy8gICAgXCJMb29rdXBNdWx0aVwiLFxuICAgICAgICAgICAgLy8gICAgXCJCb29sZWFuXCIsXG4gICAgICAgICAgICAvLyAgICBcIkludGVnZXJcIixcbiAgICAgICAgICAgIC8vICAgIFwiQ291bnRlclwiLFxuICAgICAgICAgICAgLy8gICAgXCJNdWx0aUNob2ljZVwiLFxuICAgICAgICAgICAgLy8gICAgXCJDdXJyZW5jeVwiLFxuICAgICAgICAgICAgLy8gICAgXCJmbG9hdFwiLFxuICAgICAgICAgICAgLy8gICAgXCJDYWxjXCIsXG4gICAgICAgICAgICAvLyAgICBcIkF0dGFjaG1lbnRzXCIsXG4gICAgICAgICAgICAvLyAgICBcIkNhbGN1bGF0ZWRcIixcbiAgICAgICAgICAgIC8vICAgIFwiQ29udGVudFR5cGVJZFwiLFxuICAgICAgICAgICAgLy8gICAgXCJOb3RlXCIsXG4gICAgICAgICAgICAvLyAgICAvLyAgICAgICAgICBcIkNvbXB1dGVkXCIsXG4gICAgICAgICAgICAvLyAgICBcIlVSTFwiLFxuICAgICAgICAgICAgLy8gICAgXCJOdW1iZXJcIixcbiAgICAgICAgICAgIC8vICAgIFwiQ2hvaWNlXCIsXG4gICAgICAgICAgICAvLyAgICBcIk1vZFN0YXRcIixcbiAgICAgICAgICAgIC8vICAgIFwiR3VpZFwiLFxuICAgICAgICAgICAgLy8gICAgXCJGaWxlXCJcbiAgICAgICAgICAgIC8vXTtcblxuXG4gICAgICAgICAgICAvLyBDb252ZXJ0IGEgSmF2YVNjcmlwdCBkYXRlIHRvIHRoZSBJU08gODYwMSBmb3JtYXQgcmVxdWlyZWQgYnkgU2hhcmVQb2ludCB0byB1cGRhdGUgbGlzdCBpdGVtc1xuICAgICAgICAgICAgLy9mdW5jdGlvbiBTUENvbnZlcnREYXRlVG9JU08ob3B0aW9ucykge1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vICAgIHZhciBvcHQgPSAkLmV4dGVuZCh7fSwge1xuICAgICAgICAgICAgLy8gICAgICAgIGRhdGVUb0NvbnZlcnQ6IG5ldyBEYXRlKCksIC8vIFRoZSBKYXZhU2NyaXB0IGRhdGUgd2UnZCBsaWtlIHRvIGNvbnZlcnQuIElmIG5vIGRhdGUgaXMgcGFzc2VkLCB0aGUgZnVuY3Rpb24gcmV0dXJucyB0aGUgY3VycmVudCBkYXRlL3RpbWVcbiAgICAgICAgICAgIC8vICAgICAgICBkYXRlT2Zmc2V0OiBcIi0wNTowMFwiIC8vIFRoZSB0aW1lIHpvbmUgb2Zmc2V0IHJlcXVlc3RlZC4gRGVmYXVsdCBpcyBFU1RcbiAgICAgICAgICAgIC8vICAgIH0sIG9wdGlvbnMpO1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vICAgIC8vR2VuZXJhdGUgSVNPIDg2MDEgZGF0ZS90aW1lIGZvcm1hdHRlZCBzdHJpbmdcbiAgICAgICAgICAgIC8vICAgIHZhciBzID0gXCJcIjtcbiAgICAgICAgICAgIC8vICAgIHZhciBkID0gb3B0LmRhdGVUb0NvbnZlcnQ7XG4gICAgICAgICAgICAvLyAgICBzICs9IGQuZ2V0RnVsbFllYXIoKSArIFwiLVwiO1xuICAgICAgICAgICAgLy8gICAgcyArPSBwYWQoZC5nZXRNb250aCgpICsgMSkgKyBcIi1cIjtcbiAgICAgICAgICAgIC8vICAgIHMgKz0gcGFkKGQuZ2V0RGF0ZSgpKTtcbiAgICAgICAgICAgIC8vICAgIHMgKz0gXCJUXCIgKyBwYWQoZC5nZXRIb3VycygpKSArIFwiOlwiO1xuICAgICAgICAgICAgLy8gICAgcyArPSBwYWQoZC5nZXRNaW51dGVzKCkpICsgXCI6XCI7XG4gICAgICAgICAgICAvLyAgICBzICs9IHBhZChkLmdldFNlY29uZHMoKSkgKyBcIlpcIiArIG9wdC5kYXRlT2Zmc2V0O1xuICAgICAgICAgICAgLy8gICAgLy9SZXR1cm4gdGhlIElTTzg2MDEgZGF0ZSBzdHJpbmdcbiAgICAgICAgICAgIC8vICAgIHJldHVybiBzO1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vfSAvLyBFbmQgU1BTZXJ2aWNlcy5TUENvbnZlcnREYXRlVG9JU09cblxuICAgICAgICAgICAgLy8gU3BsaXQgdmFsdWVzIGxpa2UgMTsjdmFsdWUgaW50byBpZCBhbmQgdmFsdWVcbiAgICAgICAgICAgIC8vZnVuY3Rpb24gU3BsaXRJbmRleChzKSB7XG4gICAgICAgICAgICAvLyAgICB2YXIgc3BsID0gcy5zcGxpdChcIjsjXCIpO1xuICAgICAgICAgICAgLy8gICAgdGhpcy5pZCA9IHNwbFswXTtcbiAgICAgICAgICAgIC8vICAgIHRoaXMudmFsdWUgPSBzcGxbMV07XG4gICAgICAgICAgICAvL31cblxuICAgICAgICAgICAgLy9mdW5jdGlvbiBwYWQobikge1xuICAgICAgICAgICAgLy8gICAgcmV0dXJuIG4gPCAxMCA/IFwiMFwiICsgbiA6IG47XG4gICAgICAgICAgICAvL31cblxuICAgICAgICAgICAgLy92YXIgZXNjYXBlZF9vbmVfdG9feG1sX3NwZWNpYWxfbWFwID0ge1xuICAgICAgICAgICAgLy8gICAgJyZhbXA7JzogJyYnLFxuICAgICAgICAgICAgLy8gICAgJyZxdW90Oyc6ICdcIicsXG4gICAgICAgICAgICAvLyAgICAnJmx0Oyc6ICc8JyxcbiAgICAgICAgICAgIC8vICAgICcmZ3Q7JzogJz4nXG4gICAgICAgICAgICAvL307XG5cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL2Z1bmN0aW9uIGRlY29kZVhtbChzdHJpbmcpIHtcbiAgICAgICAgICAgIC8vICAgIHJldHVybiBzdHJpbmcucmVwbGFjZSgvKCZxdW90O3wmbHQ7fCZndDt8JmFtcDspL2csXG4gICAgICAgICAgICAvLyAgICAgICAgZnVuY3Rpb24gKHN0ciwgaXRlbSkge1xuICAgICAgICAgICAgLy8gICAgICAgICAgICByZXR1cm4gZXNjYXBlZF9vbmVfdG9feG1sX3NwZWNpYWxfbWFwW2l0ZW1dO1xuICAgICAgICAgICAgLy8gICAgICAgIH0pO1xuICAgICAgICAgICAgLy99XG5cbiAgICAgICAgICAgIC8vIEVzY2FwZSBVcmxcbiAgICAgICAgICAgIC8vZnVuY3Rpb24gZXNjYXBlVXJsKHUpIHtcbiAgICAgICAgICAgIC8vICAgIHJldHVybiB1LnJlcGxhY2UoLyYvZywgJyUyNicpO1xuICAgICAgICAgICAgLy99XG5cbiAgICAgICAgICAgIC8vIFJldHVybiB0aGUgY3VycmVudCB2ZXJzaW9uIG9mIFNQU2VydmljZXMgYXMgYSBzdHJpbmdcbiAgICAgICAgICAgIC8vU1BTZXJ2aWNlcy5WZXJzaW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vICAgIHJldHVybiBWRVJTSU9OO1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vfTsgLy8gRW5kIFNQU2VydmljZXMuVmVyc2lvblxuXG5cbiAgICAgICAgICAgIC8vLy8gVGhpcyBmdW5jdGlvbiBjb252ZXJ0cyBhbiBYTUwgbm9kZSBzZXQgdG8gSlNPTlxuICAgICAgICAgICAgLy8vLyBJbml0aWFsIGltcGxlbWVudGF0aW9uIGZvY3VzZXMgb25seSBvbiBHZXRMaXN0SXRlbXNcbiAgICAgICAgICAgIC8vJC5mbi5TUFhtbFRvSnNvbiA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gICAgdmFyIG9wdCA9ICQuZXh0ZW5kKHt9LCB7XG4gICAgICAgICAgICAvLyAgICAgICAgbWFwcGluZzoge30sIC8vIGNvbHVtbk5hbWU6IG1hcHBlZE5hbWU6IFwibWFwcGVkTmFtZVwiLCBvYmplY3RUeXBlOiBcIm9iamVjdFR5cGVcIlxuICAgICAgICAgICAgLy8gICAgICAgIGluY2x1ZGVBbGxBdHRyczogZmFsc2UsIC8vIElmIHRydWUsIHJldHVybiBhbGwgYXR0cmlidXRlcywgcmVnYXJkbGVzcyB3aGV0aGVyIHRoZXkgYXJlIGluIHRoZSBtYXBwaW5nXG4gICAgICAgICAgICAvLyAgICAgICAgcmVtb3ZlT3dzOiB0cnVlLCAvLyBTcGVjaWZpY2FsbHkgZm9yIEdldExpc3RJdGVtcywgaWYgdHJ1ZSwgdGhlIGxlYWRpbmcgb3dzXyB3aWxsIGJlIHN0cmlwcGVkIG9mZiB0aGUgZmllbGQgbmFtZVxuICAgICAgICAgICAgLy8gICAgICAgIHNwYXJzZTogZmFsc2UgLy8gSWYgdHJ1ZSwgZW1wdHkgKFwiXCIpIHZhbHVlcyB3aWxsIG5vdCBiZSByZXR1cm5lZFxuICAgICAgICAgICAgLy8gICAgfSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gICAgdmFyIGF0dHJOdW07XG4gICAgICAgICAgICAvLyAgICB2YXIganNvbk9iamVjdCA9IFtdO1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vICAgIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyAgICAgICAgdmFyIHJvdyA9IHt9O1xuICAgICAgICAgICAgLy8gICAgICAgIHZhciByb3dBdHRycyA9IHRoaXMuYXR0cmlidXRlcztcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyAgICAgICAgaWYgKCFvcHQuc3BhcnNlKSB7XG4gICAgICAgICAgICAvLyAgICAgICAgICAgIC8vIEJyaW5nIGJhY2sgYWxsIG1hcHBlZCBjb2x1bW5zLCBldmVuIHRob3NlIHdpdGggbm8gdmFsdWVcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgJC5lYWNoKG9wdC5tYXBwaW5nLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICByb3dbdGhpcy5tYXBwZWROYW1lXSA9IFwiXCI7XG4gICAgICAgICAgICAvLyAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gICAgICAgIH1cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyAgICAgICAgLy8gUGFyc2UgdGhyb3VnaCB0aGUgZWxlbWVudCdzIGF0dHJpYnV0ZXNcbiAgICAgICAgICAgIC8vICAgICAgICBmb3IgKGF0dHJOdW0gPSAwOyBhdHRyTnVtIDwgcm93QXR0cnMubGVuZ3RoOyBhdHRyTnVtKyspIHtcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgdmFyIHRoaXNBdHRyTmFtZSA9IHJvd0F0dHJzW2F0dHJOdW1dLm5hbWU7XG4gICAgICAgICAgICAvLyAgICAgICAgICAgIHZhciB0aGlzTWFwcGluZyA9IG9wdC5tYXBwaW5nW3RoaXNBdHRyTmFtZV07XG4gICAgICAgICAgICAvLyAgICAgICAgICAgIHZhciB0aGlzT2JqZWN0TmFtZSA9IHR5cGVvZiB0aGlzTWFwcGluZyAhPT0gXCJ1bmRlZmluZWRcIiA/IHRoaXNNYXBwaW5nLm1hcHBlZE5hbWUgOiBvcHQucmVtb3ZlT3dzID8gdGhpc0F0dHJOYW1lLnNwbGl0KFwib3dzX1wiKVsxXSA6IHRoaXNBdHRyTmFtZTtcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgdmFyIHRoaXNPYmplY3RUeXBlID0gdHlwZW9mIHRoaXNNYXBwaW5nICE9PSBcInVuZGVmaW5lZFwiID8gdGhpc01hcHBpbmcub2JqZWN0VHlwZSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgaWYgKG9wdC5pbmNsdWRlQWxsQXR0cnMgfHwgdGhpc01hcHBpbmcgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgcm93W3RoaXNPYmplY3ROYW1lXSA9IGFwRGVjb2RlU2VydmljZS5hdHRyVG9Kc29uKHJvd0F0dHJzW2F0dHJOdW1dLnZhbHVlLCB0aGlzT2JqZWN0VHlwZSk7XG4gICAgICAgICAgICAvLyAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vICAgICAgICB9XG4gICAgICAgICAgICAvLyAgICAgICAgLy8gUHVzaCB0aGlzIGl0ZW0gaW50byB0aGUgSlNPTiBPYmplY3RcbiAgICAgICAgICAgIC8vICAgICAgICBqc29uT2JqZWN0LnB1c2gocm93KTtcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyAgICB9KTtcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyAgICAvLyBSZXR1cm4gdGhlIEpTT04gb2JqZWN0XG4gICAgICAgICAgICAvLyAgICByZXR1cm4ganNvbk9iamVjdDtcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL307IC8vIEVuZCBTUFNlcnZpY2VzLlNQWG1sVG9Kc29uXG5cblxuICAgICAgICAgICAgLy9mdW5jdGlvbiBhdHRyVG9Kc29uKHYsIG9iamVjdFR5cGUpIHtcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyAgICB2YXIgY29sVmFsdWU7XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gICAgc3dpdGNoIChvYmplY3RUeXBlKSB7XG4gICAgICAgICAgICAvLyAgICAgICAgY2FzZSBcIlRleHRcIjpcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgY29sVmFsdWUgPSBzdHJpbmdUb0pzb25PYmplY3Qodik7XG4gICAgICAgICAgICAvLyAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgLy8gICAgICAgIGNhc2UgXCJEYXRlVGltZVwiOlxuICAgICAgICAgICAgLy8gICAgICAgIGNhc2UgXCJkYXRldGltZVwiOiAvLyBGb3IgY2FsY3VsYXRlZCBjb2x1bW5zLCBzdG9yZWQgYXMgZGF0ZXRpbWU7I3ZhbHVlXG4gICAgICAgICAgICAvLyAgICAgICAgICAgIC8vIERhdGVzIGhhdmUgZGFzaGVzIGluc3RlYWQgb2Ygc2xhc2hlczogb3dzX0NyZWF0ZWQ9XCIyMDA5LTA4LTI1IDE0OjI0OjQ4XCJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgY29sVmFsdWUgPSBkYXRlVG9Kc29uT2JqZWN0KHYpO1xuICAgICAgICAgICAgLy8gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIC8vICAgICAgICBjYXNlIFwiVXNlclwiOlxuICAgICAgICAgICAgLy8gICAgICAgICAgICBjb2xWYWx1ZSA9IHVzZXJUb0pzb25PYmplY3Qodik7XG4gICAgICAgICAgICAvLyAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgLy8gICAgICAgIGNhc2UgXCJVc2VyTXVsdGlcIjpcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgY29sVmFsdWUgPSB1c2VyTXVsdGlUb0pzb25PYmplY3Qodik7XG4gICAgICAgICAgICAvLyAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgLy8gICAgICAgIGNhc2UgXCJMb29rdXBcIjpcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgY29sVmFsdWUgPSBsb29rdXBUb0pzb25PYmplY3Qodik7XG4gICAgICAgICAgICAvLyAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgLy8gICAgICAgIGNhc2UgXCJMb29rdXBNdWx0aVwiOlxuICAgICAgICAgICAgLy8gICAgICAgICAgICBjb2xWYWx1ZSA9IGxvb2t1cE11bHRpVG9Kc29uT2JqZWN0KHYpO1xuICAgICAgICAgICAgLy8gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIC8vICAgICAgICBjYXNlIFwiQm9vbGVhblwiOlxuICAgICAgICAgICAgLy8gICAgICAgICAgICBjb2xWYWx1ZSA9IGJvb2xlYW5Ub0pzb25PYmplY3Qodik7XG4gICAgICAgICAgICAvLyAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgLy8gICAgICAgIGNhc2UgXCJJbnRlZ2VyXCI6XG4gICAgICAgICAgICAvLyAgICAgICAgICAgIGNvbFZhbHVlID0gaW50VG9Kc29uT2JqZWN0KHYpO1xuICAgICAgICAgICAgLy8gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIC8vICAgICAgICBjYXNlIFwiQ291bnRlclwiOlxuICAgICAgICAgICAgLy8gICAgICAgICAgICBjb2xWYWx1ZSA9IGludFRvSnNvbk9iamVjdCh2KTtcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAvLyAgICAgICAgY2FzZSBcIk11bHRpQ2hvaWNlXCI6XG4gICAgICAgICAgICAvLyAgICAgICAgICAgIGNvbFZhbHVlID0gY2hvaWNlTXVsdGlUb0pzb25PYmplY3Qodik7XG4gICAgICAgICAgICAvLyAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgLy8gICAgICAgIGNhc2UgXCJOdW1iZXJcIjpcbiAgICAgICAgICAgIC8vICAgICAgICBjYXNlIFwiQ3VycmVuY3lcIjpcbiAgICAgICAgICAgIC8vICAgICAgICBjYXNlIFwiZmxvYXRcIjogLy8gRm9yIGNhbGN1bGF0ZWQgY29sdW1ucywgc3RvcmVkIGFzIGZsb2F0OyN2YWx1ZVxuICAgICAgICAgICAgLy8gICAgICAgICAgICBjb2xWYWx1ZSA9IGZsb2F0VG9Kc29uT2JqZWN0KHYpO1xuICAgICAgICAgICAgLy8gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIC8vICAgICAgICBjYXNlIFwiQ2FsY3VsYXRlZFwiOlxuICAgICAgICAgICAgLy8gICAgICAgICAgICBjb2xWYWx1ZSA9IGNhbGNUb0pzb25PYmplY3Qodik7XG4gICAgICAgICAgICAvLyAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgLy8gICAgICAgIGNhc2UgXCJBdHRhY2htZW50c1wiOlxuICAgICAgICAgICAgLy8gICAgICAgICAgICBjb2xWYWx1ZSA9IGxvb2t1cFRvSnNvbk9iamVjdCh2KTtcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAvLyAgICAgICAgY2FzZSBcIkpTT05cIjpcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgY29sVmFsdWUgPSBqc29uVG9Kc29uT2JqZWN0KHYpOyAvLyBTcGVjaWFsIGNhc2UgZm9yIHRleHQgSlNPTiBzdG9yZWQgaW4gdGV4dCBjb2x1bW5zXG4gICAgICAgICAgICAvLyAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgLy8gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAvLyAgICAgICAgICAgIC8vIEFsbCBvdGhlciBvYmplY3RUeXBlcyB3aWxsIGJlIHNpbXBsZSBzdHJpbmdzXG4gICAgICAgICAgICAvLyAgICAgICAgICAgIGNvbFZhbHVlID0gc3RyaW5nVG9Kc29uT2JqZWN0KHYpO1xuICAgICAgICAgICAgLy8gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIC8vICAgIH1cbiAgICAgICAgICAgIC8vICAgIHJldHVybiBjb2xWYWx1ZTtcbiAgICAgICAgICAgIC8vfVxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vZnVuY3Rpb24gc3RyaW5nVG9Kc29uT2JqZWN0KHMpIHtcbiAgICAgICAgICAgIC8vICAgIHJldHVybiBzO1xuICAgICAgICAgICAgLy99XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9mdW5jdGlvbiBpbnRUb0pzb25PYmplY3Qocykge1xuICAgICAgICAgICAgLy8gICAgcmV0dXJuIHBhcnNlSW50KHMsIDEwKTtcbiAgICAgICAgICAgIC8vfVxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vZnVuY3Rpb24gZmxvYXRUb0pzb25PYmplY3Qocykge1xuICAgICAgICAgICAgLy8gICAgcmV0dXJuIHBhcnNlRmxvYXQocyk7XG4gICAgICAgICAgICAvL31cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL2Z1bmN0aW9uIGJvb2xlYW5Ub0pzb25PYmplY3Qocykge1xuICAgICAgICAgICAgLy8gICAgdmFyIG91dCA9IHMgPT09IFwiMFwiID8gZmFsc2UgOiB0cnVlO1xuICAgICAgICAgICAgLy8gICAgcmV0dXJuIG91dDtcbiAgICAgICAgICAgIC8vfVxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vZnVuY3Rpb24gZGF0ZVRvSnNvbk9iamVjdChzKSB7XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gICAgdmFyIGR0ID0gcy5zcGxpdChcIlRcIilbMF0gIT09IHMgPyBzLnNwbGl0KFwiVFwiKSA6IHMuc3BsaXQoXCIgXCIpO1xuICAgICAgICAgICAgLy8gICAgdmFyIGQgPSBkdFswXS5zcGxpdChcIi1cIik7XG4gICAgICAgICAgICAvLyAgICB2YXIgdCA9IGR0WzFdLnNwbGl0KFwiOlwiKTtcbiAgICAgICAgICAgIC8vICAgIHZhciB0MyA9IHRbMl0uc3BsaXQoXCJaXCIpO1xuICAgICAgICAgICAgLy8gICAgdmFyIGRhdGUgPSBuZXcgRGF0ZShkWzBdLCAoZFsxXSAtIDEpLCBkWzJdLCB0WzBdLCB0WzFdLCB0M1swXSk7XG4gICAgICAgICAgICAvLyAgICByZXR1cm4gZGF0ZTtcbiAgICAgICAgICAgIC8vfVxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vZnVuY3Rpb24gdXNlclRvSnNvbk9iamVjdChzKSB7XG4gICAgICAgICAgICAvLyAgICBpZiAocy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIC8vICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIC8vICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyAgICAgICAgdmFyIHRoaXNVc2VyID0gbmV3IFNwbGl0SW5kZXgocyk7XG4gICAgICAgICAgICAvLyAgICAgICAgdmFyIHRoaXNVc2VyRXhwYW5kZWQgPSB0aGlzVXNlci52YWx1ZS5zcGxpdChcIiwjXCIpO1xuICAgICAgICAgICAgLy8gICAgICAgIGlmICh0aGlzVXNlckV4cGFuZGVkLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgLy8gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgdXNlcklkOiB0aGlzVXNlci5pZCxcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgIHVzZXJOYW1lOiB0aGlzVXNlci52YWx1ZVxuICAgICAgICAgICAgLy8gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICB1c2VySWQ6IHRoaXNVc2VyLmlkLFxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgdXNlck5hbWU6IHRoaXNVc2VyRXhwYW5kZWRbMF0ucmVwbGFjZSgvKCwsKS9nLCBcIixcIiksXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICBsb2dpbk5hbWU6IHRoaXNVc2VyRXhwYW5kZWRbMV0ucmVwbGFjZSgvKCwsKS9nLCBcIixcIiksXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICBlbWFpbDogdGhpc1VzZXJFeHBhbmRlZFsyXS5yZXBsYWNlKC8oLCwpL2csIFwiLFwiKSxcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgIHNpcEFkZHJlc3M6IHRoaXNVc2VyRXhwYW5kZWRbM10ucmVwbGFjZSgvKCwsKS9nLCBcIixcIiksXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICB0aXRsZTogdGhpc1VzZXJFeHBhbmRlZFs0XS5yZXBsYWNlKC8oLCwpL2csIFwiLFwiKVxuICAgICAgICAgICAgLy8gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gICAgICAgIH1cbiAgICAgICAgICAgIC8vICAgIH1cbiAgICAgICAgICAgIC8vfVxuXG4gICAgICAgICAgICAvLy8vIEdldCB0aGUgY3VycmVudCBjb250ZXh0IChhcyBtdWNoIGFzIHdlIGNhbikgb24gc3RhcnR1cFxuICAgICAgICAgICAgLy8vLyBTZWU6IGh0dHA6Ly9qb2hubGl1Lm5ldC9ibG9nLzIwMTIvMi8zL3NoYXJlcG9pbnQtamF2YXNjcmlwdC1jdXJyZW50LXBhZ2UtY29udGV4dC1pbmZvLmh0bWxcbiAgICAgICAgICAgIC8vZnVuY3Rpb24gU1BTZXJ2aWNlc0NvbnRleHQoKSB7XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gICAgLy8gU2hhcmVQb2ludCAyMDEwIGdpdmVzIHVzIGEgY29udGV4dCB2YXJpYWJsZVxuICAgICAgICAgICAgLy8gICAgaWYgKHR5cGVvZiBfc3BQYWdlQ29udGV4dEluZm8gIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIC8vICAgICAgICB0aGlzLnRoaXNTaXRlID0gX3NwUGFnZUNvbnRleHRJbmZvLndlYlNlcnZlclJlbGF0aXZlVXJsO1xuICAgICAgICAgICAgLy8gICAgICAgIHRoaXMudGhpc0xpc3QgPSBfc3BQYWdlQ29udGV4dEluZm8ucGFnZUxpc3RJZDtcbiAgICAgICAgICAgIC8vICAgICAgICB0aGlzLnRoaXNVc2VySWQgPSBfc3BQYWdlQ29udGV4dEluZm8udXNlcklkO1xuICAgICAgICAgICAgLy8gICAgICAgIC8vIEluIFNoYXJlUG9pbnQgMjAwNywgd2Uga25vdyB0aGUgVXNlcklEIG9ubHlcbiAgICAgICAgICAgIC8vICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyAgICAgICAgdGhpcy50aGlzU2l0ZSA9ICh0eXBlb2YgTF9NZW51X0Jhc2VVcmwgIT09IFwidW5kZWZpbmVkXCIpID8gTF9NZW51X0Jhc2VVcmwgOiBcIlwiO1xuICAgICAgICAgICAgLy8gICAgICAgIHRoaXMudGhpc0xpc3QgPSBcIlwiO1xuICAgICAgICAgICAgLy8gICAgICAgIHRoaXMudGhpc1VzZXJJZCA9ICh0eXBlb2YgX3NwVXNlcklkICE9PSBcInVuZGVmaW5lZFwiKSA/IF9zcFVzZXJJZCA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIC8vICAgIH1cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL30gLy8gRW5kIG9mIGZ1bmN0aW9uIFNQU2VydmljZXNDb250ZXh0XG5cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL2Z1bmN0aW9uIHVzZXJNdWx0aVRvSnNvbk9iamVjdChzKSB7XG4gICAgICAgICAgICAvLyAgICBpZiAocy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIC8vICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIC8vICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyAgICAgICAgdmFyIHRoaXNVc2VyTXVsdGlPYmplY3QgPSBbXTtcbiAgICAgICAgICAgIC8vICAgICAgICB2YXIgdGhpc1VzZXJNdWx0aSA9IHMuc3BsaXQoXCI7I1wiKTtcbiAgICAgICAgICAgIC8vICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdGhpc1VzZXJNdWx0aS5sZW5ndGg7IGkgPSBpICsgMikge1xuICAgICAgICAgICAgLy8gICAgICAgICAgICB2YXIgdGhpc1VzZXIgPSB1c2VyVG9Kc29uT2JqZWN0KHRoaXNVc2VyTXVsdGlbaV0gKyBcIjsjXCIgKyB0aGlzVXNlck11bHRpW2kgKyAxXSk7XG4gICAgICAgICAgICAvLyAgICAgICAgICAgIHRoaXNVc2VyTXVsdGlPYmplY3QucHVzaCh0aGlzVXNlcik7XG4gICAgICAgICAgICAvLyAgICAgICAgfVxuICAgICAgICAgICAgLy8gICAgICAgIHJldHVybiB0aGlzVXNlck11bHRpT2JqZWN0O1xuICAgICAgICAgICAgLy8gICAgfVxuICAgICAgICAgICAgLy99XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9mdW5jdGlvbiBsb29rdXBUb0pzb25PYmplY3Qocykge1xuICAgICAgICAgICAgLy8gICAgaWYgKHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAvLyAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAvLyAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gICAgICAgIHZhciB0aGlzTG9va3VwID0gbmV3IFNwbGl0SW5kZXgocyk7XG4gICAgICAgICAgICAvLyAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgbG9va3VwSWQ6IHRoaXNMb29rdXAuaWQsXG4gICAgICAgICAgICAvLyAgICAgICAgICAgIGxvb2t1cFZhbHVlOiB0aGlzTG9va3VwLnZhbHVlXG4gICAgICAgICAgICAvLyAgICAgICAgfTtcbiAgICAgICAgICAgIC8vICAgIH1cbiAgICAgICAgICAgIC8vfVxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vZnVuY3Rpb24gbG9va3VwTXVsdGlUb0pzb25PYmplY3Qocykge1xuICAgICAgICAgICAgLy8gICAgaWYgKHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAvLyAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAvLyAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gICAgICAgIHZhciB0aGlzTG9va3VwTXVsdGlPYmplY3QgPSBbXTtcbiAgICAgICAgICAgIC8vICAgICAgICB2YXIgdGhpc0xvb2t1cE11bHRpID0gcy5zcGxpdChcIjsjXCIpO1xuICAgICAgICAgICAgLy8gICAgICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzTG9va3VwTXVsdGkubGVuZ3RoOyBpID0gaSArIDIpIHtcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgdmFyIHRoaXNMb29rdXAgPSBsb29rdXBUb0pzb25PYmplY3QodGhpc0xvb2t1cE11bHRpW2ldICsgXCI7I1wiICsgdGhpc0xvb2t1cE11bHRpW2kgKyAxXSk7XG4gICAgICAgICAgICAvLyAgICAgICAgICAgIHRoaXNMb29rdXBNdWx0aU9iamVjdC5wdXNoKHRoaXNMb29rdXApO1xuICAgICAgICAgICAgLy8gICAgICAgIH1cbiAgICAgICAgICAgIC8vICAgICAgICByZXR1cm4gdGhpc0xvb2t1cE11bHRpT2JqZWN0O1xuICAgICAgICAgICAgLy8gICAgfVxuICAgICAgICAgICAgLy99XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9mdW5jdGlvbiBjaG9pY2VNdWx0aVRvSnNvbk9iamVjdChzKSB7XG4gICAgICAgICAgICAvLyAgICBpZiAocy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIC8vICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIC8vICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyAgICAgICAgdmFyIHRoaXNDaG9pY2VNdWx0aU9iamVjdCA9IFtdO1xuICAgICAgICAgICAgLy8gICAgICAgIHZhciB0aGlzQ2hvaWNlTXVsdGkgPSBzLnNwbGl0KFwiOyNcIik7XG4gICAgICAgICAgICAvLyAgICAgICAgZm9yIChpID0gMDsgaSA8IHRoaXNDaG9pY2VNdWx0aS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgLy8gICAgICAgICAgICBpZiAodGhpc0Nob2ljZU11bHRpW2ldLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgdGhpc0Nob2ljZU11bHRpT2JqZWN0LnB1c2godGhpc0Nob2ljZU11bHRpW2ldKTtcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gICAgICAgIH1cbiAgICAgICAgICAgIC8vICAgICAgICByZXR1cm4gdGhpc0Nob2ljZU11bHRpT2JqZWN0O1xuICAgICAgICAgICAgLy8gICAgfVxuICAgICAgICAgICAgLy99XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9mdW5jdGlvbiBjYWxjVG9Kc29uT2JqZWN0KHMpIHtcbiAgICAgICAgICAgIC8vICAgIGlmIChzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgLy8gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgLy8gICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vICAgICAgICB2YXIgdGhpc0NhbGMgPSBzLnNwbGl0KFwiOyNcIik7XG4gICAgICAgICAgICAvLyAgICAgICAgLy8gVGhlIGZpcnN0IHZhbHVlIHdpbGwgYmUgdGhlIGNhbGN1bGF0ZWQgY29sdW1uIHZhbHVlIHR5cGUsIHRoZSBzZWNvbmQgd2lsbCBiZSB0aGUgdmFsdWVcbiAgICAgICAgICAgIC8vICAgICAgICByZXR1cm4gYXR0clRvSnNvbih0aGlzQ2FsY1sxXSwgdGhpc0NhbGNbMF0pO1xuICAgICAgICAgICAgLy8gICAgfVxuICAgICAgICAgICAgLy99XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9mdW5jdGlvbiBqc29uVG9Kc29uT2JqZWN0KHMpIHtcbiAgICAgICAgICAgIC8vICAgIGlmIChzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgLy8gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgLy8gICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vICAgICAgICByZXR1cm4gJC5wYXJzZUpTT04ocyk7XG4gICAgICAgICAgICAvLyAgICB9XG4gICAgICAgICAgICAvL31cblxuICAgICAgICAgICAgLy8gQnVpbGQgdGhlIFVSTCBmb3IgdGhlIEFqYXggY2FsbCBiYXNlZCBvbiB3aGljaCBvcGVyYXRpb24gd2UncmUgY2FsbGluZ1xuICAgICAgICAgICAgLy8gSWYgdGhlIHdlYlVSTCBoYXMgYmVlbiBwcm92aWRlZCwgdGhlbiB1c2UgaXQsIGVsc2UgdXNlIHRoZSBjdXJyZW50IHNpdGVcbiAgICAgICAgICAgIC8vdmFyIGFqYXhVUkwgPSBnZW5lcmF0ZVdlYlNlcnZpY2VVcmwoc2VydmljZSwgb3B0LndlYlVSTCk7XG4gICAgICAgICAgICAvL3ZhciBhamF4VVJMID0gXCJfdnRpX2Jpbi9cIiArIHNlcnZpY2UgKyBcIi5hc214XCI7XG4gICAgICAgICAgICAvL2lmIChvcHQud2ViVVJMKSB7XG4gICAgICAgICAgICAvLyAgICBhamF4VVJMID0gb3B0LndlYlVSTC5jaGFyQXQob3B0LndlYlVSTC5sZW5ndGggLSAxKSA9PT0gU0xBU0ggP1xuICAgICAgICAgICAgLy8gICAgb3B0LndlYlVSTCArIGFqYXhVUkwgOiBvcHQud2ViVVJMICsgU0xBU0ggKyBhamF4VVJMO1xuICAgICAgICAgICAgLy99IGVsc2Uge1xuICAgICAgICAgICAgLy8gICAgdmFyIHRoaXNTaXRlID0gU1BTZXJ2aWNlcy5TUEdldEN1cnJlbnRTaXRlKCk7XG4gICAgICAgICAgICAvLyAgICBhamF4VVJMID0gdGhpc1NpdGUgKyAoKHRoaXNTaXRlLmNoYXJBdCh0aGlzU2l0ZS5sZW5ndGggLSAxKSA9PT0gU0xBU0gpID8gYWpheFVSTCA6IChTTEFTSCArIGFqYXhVUkwpKTtcbiAgICAgICAgICAgIC8vfVxuXG4gICAgICAgICAgICAvLyBJZiBhIHN0cmluZyBpcyBhIFVSTCwgZm9ybWF0IGl0IGFzIGEgbGluaywgZWxzZSByZXR1cm4gdGhlIHN0cmluZyBhcy1pc1xuICAgICAgICAgICAgLy9mdW5jdGlvbiBjaGVja0xpbmsocykge1xuICAgICAgICAgICAgLy8gICAgcmV0dXJuICgocy5pbmRleE9mKFwiaHR0cFwiKSA9PT0gMCkgfHwgKHMuaW5kZXhPZihTTEFTSCkgPT09IDApKSA/IFwiPGEgaHJlZj0nXCIgKyBzICsgXCInPlwiICsgcyArIFwiPC9hPlwiIDogcztcbiAgICAgICAgICAgIC8vfVxuXG4gICAgICAgICAgICAvL1NQU2VydmljZXMuZ2VuZXJhdGVXZWJTZXJ2aWNlVXJsID0gZ2VuZXJhdGVXZWJTZXJ2aWNlVXJsO1xuXG4gICAgICAgICAgICAvLyBGdW5jdGlvbiB0byBkZXRlcm1pbmUgdGhlIGN1cnJlbnQgV2ViJ3MgVVJMLiAgV2UgbmVlZCB0aGlzIGZvciBzdWNjZXNzZnVsIEFqYXggY2FsbHMuXG4gICAgICAgICAgICAvLyBUaGUgZnVuY3Rpb24gaXMgYWxzbyBhdmFpbGFibGUgYXMgYSBwdWJsaWMgZnVuY3Rpb24uXG4gICAgICAgICAgICAvL2Z1bmN0aW9uIFNQR2V0Q3VycmVudFNpdGUoKSB7XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gICAgLy8gV2UndmUgYWxyZWFkeSBkZXRlcm1pbmVkIHRoZSBjdXJyZW50IHNpdGUuLi5cbiAgICAgICAgICAgIC8vICAgIGlmIChjdXJyZW50Q29udGV4dC50aGlzU2l0ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAvLyAgICAgICAgcmV0dXJuIGN1cnJlbnRDb250ZXh0LnRoaXNTaXRlO1xuICAgICAgICAgICAgLy8gICAgfVxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vICAgIC8vIElmIHdlIHN0aWxsIGRvbid0IGtub3cgdGhlIGN1cnJlbnQgc2l0ZSwgd2UgY2FsbCBXZWJVcmxGcm9tUGFnZVVybFJlc3VsdC5cbiAgICAgICAgICAgIC8vICAgIHZhciBtc2cgPSBTT0FQRW52ZWxvcGUuaGVhZGVyICtcbiAgICAgICAgICAgIC8vICAgICAgICBcIjxXZWJVcmxGcm9tUGFnZVVybCB4bWxucz0nXCIgKyBTQ0hFTUFTaGFyZVBvaW50ICsgXCIvc29hcC8nID48cGFnZVVybD5cIiArXG4gICAgICAgICAgICAvLyAgICAgICAgKChsb2NhdGlvbi5ocmVmLmluZGV4T2YoXCI/XCIpID4gMCkgPyBsb2NhdGlvbi5ocmVmLnN1YnN0cigwLCBsb2NhdGlvbi5ocmVmLmluZGV4T2YoXCI/XCIpKSA6IGxvY2F0aW9uLmhyZWYpICtcbiAgICAgICAgICAgIC8vICAgICAgICBcIjwvcGFnZVVybD48L1dlYlVybEZyb21QYWdlVXJsPlwiICtcbiAgICAgICAgICAgIC8vICAgICAgICBTT0FQRW52ZWxvcGUuZm9vdGVyO1xuICAgICAgICAgICAgLy8gICAgJC5hamF4KHtcbiAgICAgICAgICAgIC8vICAgICAgICBhc3luYzogZmFsc2UsIC8vIE5lZWQgdGhpcyB0byBiZSBzeW5jaHJvbm91cyBzbyB3ZSdyZSBhc3N1cmVkIG9mIGEgdmFsaWQgdmFsdWVcbiAgICAgICAgICAgIC8vICAgICAgICB1cmw6IFwiL192dGlfYmluL1dlYnMuYXNteFwiLFxuICAgICAgICAgICAgLy8gICAgICAgIHR5cGU6IFwiUE9TVFwiLFxuICAgICAgICAgICAgLy8gICAgICAgIGRhdGE6IG1zZyxcbiAgICAgICAgICAgIC8vICAgICAgICBkYXRhVHlwZTogXCJ4bWxcIixcbiAgICAgICAgICAgIC8vICAgICAgICBjb250ZW50VHlwZTogXCJ0ZXh0L3htbDtjaGFyc2V0PVxcXCJ1dGYtOFxcXCJcIixcbiAgICAgICAgICAgIC8vICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24gKHhEYXRhKSB7XG4gICAgICAgICAgICAvLyAgICAgICAgICAgIGN1cnJlbnRDb250ZXh0LnRoaXNTaXRlID0gJCh4RGF0YS5yZXNwb25zZVhNTCkuZmluZChcIldlYlVybEZyb21QYWdlVXJsUmVzdWx0XCIpLnRleHQoKTtcbiAgICAgICAgICAgIC8vICAgICAgICB9XG4gICAgICAgICAgICAvLyAgICB9KTtcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyAgICByZXR1cm4gY3VycmVudENvbnRleHQudGhpc1NpdGU7IC8vIFJldHVybiB0aGUgVVJMXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy99IC8vIEVuZCBTUFNlcnZpY2VzLlNQR2V0Q3VycmVudFNpdGVcblxuICAgICAgICAgICAgLy9mdW5jdGlvbiBnZW5lcmF0ZVdlYlNlcnZpY2VVcmwoc2VydmljZSwgd2ViVVJMKSB7XG4gICAgICAgICAgICAvLyAgICB2YXIgYWpheFVSTCA9IFwiX3Z0aV9iaW4vXCIgKyBzZXJ2aWNlICsgXCIuYXNteFwiO1xuICAgICAgICAgICAgLy8gICAgaWYgKHdlYlVSTCkge1xuICAgICAgICAgICAgLy8gICAgICAgIGFqYXhVUkwgPSB3ZWJVUkwuY2hhckF0KHdlYlVSTC5sZW5ndGggLSAxKSA9PT0gU0xBU0ggP1xuICAgICAgICAgICAgLy8gICAgICAgIHdlYlVSTCArIGFqYXhVUkwgOiB3ZWJVUkwgKyBTTEFTSCArIGFqYXhVUkw7XG4gICAgICAgICAgICAvLyAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gICAgICAgIHZhciB0aGlzU2l0ZSA9IFNQU2VydmljZXMuU1BHZXRDdXJyZW50U2l0ZSgpO1xuICAgICAgICAgICAgLy8gICAgICAgIGFqYXhVUkwgPSB0aGlzU2l0ZSArICgodGhpc1NpdGUuY2hhckF0KHRoaXNTaXRlLmxlbmd0aCAtIDEpID09PSBTTEFTSCkgPyBhamF4VVJMIDogKFNMQVNIICsgYWpheFVSTCkpO1xuICAgICAgICAgICAgLy8gICAgfVxuICAgICAgICAgICAgLy8gICAgcmV0dXJuIGFqYXhVUkw7XG4gICAgICAgICAgICAvL31cblxuICAgICAgICAgICAgLy9zd2l0Y2ggKGFwV2ViU2VydmljZU9wZXJhdGlvbkNvbnN0YW50c1tvcHQub3BlcmF0aW9uXVswXSkge1xuICAgICAgICAgICAgLy8gICAgY2FzZSBcIkFsZXJ0c1wiOlxuICAgICAgICAgICAgLy8gICAgICAgIFNPQVBFbnZlbG9wZS5vcGhlYWRlciArPSBcInhtbG5zPSdcIiArIFNDSEVNQVNoYXJlUG9pbnQgKyBcIi9zb2FwLzIwMDIvMS9hbGVydHMvJyA+XCI7XG4gICAgICAgICAgICAvLyAgICAgICAgU09BUEFjdGlvbiA9IFNDSEVNQVNoYXJlUG9pbnQgKyBcIi9zb2FwLzIwMDIvMS9hbGVydHMvXCI7XG4gICAgICAgICAgICAvLyAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAvLyAgICBjYXNlIFwiTWVldGluZ3NcIjpcbiAgICAgICAgICAgIC8vICAgICAgICBTT0FQRW52ZWxvcGUub3BoZWFkZXIgKz0gXCJ4bWxucz0nXCIgKyBTQ0hFTUFTaGFyZVBvaW50ICsgXCIvc29hcC9tZWV0aW5ncy8nID5cIjtcbiAgICAgICAgICAgIC8vICAgICAgICBTT0FQQWN0aW9uID0gU0NIRU1BU2hhcmVQb2ludCArIFwiL3NvYXAvbWVldGluZ3MvXCI7XG4gICAgICAgICAgICAvLyAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAvLyAgICBjYXNlIFwiUGVybWlzc2lvbnNcIjpcbiAgICAgICAgICAgIC8vICAgICAgICBTT0FQRW52ZWxvcGUub3BoZWFkZXIgKz0gXCJ4bWxucz0nXCIgKyBTQ0hFTUFTaGFyZVBvaW50ICsgXCIvc29hcC9kaXJlY3RvcnkvJyA+XCI7XG4gICAgICAgICAgICAvLyAgICAgICAgU09BUEFjdGlvbiA9IFNDSEVNQVNoYXJlUG9pbnQgKyBcIi9zb2FwL2RpcmVjdG9yeS9cIjtcbiAgICAgICAgICAgIC8vICAgICAgICBicmVhaztcbiAgICAgICAgICAgIC8vICAgIGNhc2UgXCJQdWJsaXNoZWRMaW5rc1NlcnZpY2VcIjpcbiAgICAgICAgICAgIC8vICAgICAgICBTT0FQRW52ZWxvcGUub3BoZWFkZXIgKz0gXCJ4bWxucz0naHR0cDovL21pY3Jvc29mdC5jb20vd2Vic2VydmljZXMvU2hhcmVQb2ludFBvcnRhbFNlcnZlci9QdWJsaXNoZWRMaW5rc1NlcnZpY2UvJyA+XCI7XG4gICAgICAgICAgICAvLyAgICAgICAgU09BUEFjdGlvbiA9IFwiaHR0cDovL21pY3Jvc29mdC5jb20vd2Vic2VydmljZXMvU2hhcmVQb2ludFBvcnRhbFNlcnZlci9QdWJsaXNoZWRMaW5rc1NlcnZpY2UvXCI7XG4gICAgICAgICAgICAvLyAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAvLyAgICBjYXNlIFwiU2VhcmNoXCI6XG4gICAgICAgICAgICAvLyAgICAgICAgU09BUEVudmVsb3BlLm9waGVhZGVyICs9IFwieG1sbnM9J3VybjpNaWNyb3NvZnQuU2VhcmNoJyA+XCI7XG4gICAgICAgICAgICAvLyAgICAgICAgU09BUEFjdGlvbiA9IFwidXJuOk1pY3Jvc29mdC5TZWFyY2gvXCI7XG4gICAgICAgICAgICAvLyAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAvLyAgICBjYXNlIFwiU2hhcmVQb2ludERpYWdub3N0aWNzXCI6XG4gICAgICAgICAgICAvLyAgICAgICAgU09BUEVudmVsb3BlLm9waGVhZGVyICs9IFwieG1sbnM9J1wiICsgU0NIRU1BU2hhcmVQb2ludCArIFwiL2RpYWdub3N0aWNzLycgPlwiO1xuICAgICAgICAgICAgLy8gICAgICAgIFNPQVBBY3Rpb24gPSBcImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vc2hhcmVwb2ludC9kaWFnbm9zdGljcy9cIjtcbiAgICAgICAgICAgIC8vICAgICAgICBicmVhaztcbiAgICAgICAgICAgIC8vICAgIGNhc2UgXCJTb2NpYWxEYXRhU2VydmljZVwiOlxuICAgICAgICAgICAgLy8gICAgICAgIFNPQVBFbnZlbG9wZS5vcGhlYWRlciArPSBcInhtbG5zPSdodHRwOi8vbWljcm9zb2Z0LmNvbS93ZWJzZXJ2aWNlcy9TaGFyZVBvaW50UG9ydGFsU2VydmVyL1NvY2lhbERhdGFTZXJ2aWNlJyA+XCI7XG4gICAgICAgICAgICAvLyAgICAgICAgU09BUEFjdGlvbiA9IFwiaHR0cDovL21pY3Jvc29mdC5jb20vd2Vic2VydmljZXMvU2hhcmVQb2ludFBvcnRhbFNlcnZlci9Tb2NpYWxEYXRhU2VydmljZS9cIjtcbiAgICAgICAgICAgIC8vICAgICAgICBicmVhaztcbiAgICAgICAgICAgIC8vICAgIGNhc2UgXCJTcGVsbENoZWNrXCI6XG4gICAgICAgICAgICAvLyAgICAgICAgU09BUEVudmVsb3BlLm9waGVhZGVyICs9IFwieG1sbnM9J2h0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vc2hhcmVwb2ludC9wdWJsaXNoaW5nL3NwZWxsaW5nLycgPlwiO1xuICAgICAgICAgICAgLy8gICAgICAgIFNPQVBBY3Rpb24gPSBcImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vc2hhcmVwb2ludC9wdWJsaXNoaW5nL3NwZWxsaW5nL1NwZWxsQ2hlY2tcIjtcbiAgICAgICAgICAgIC8vICAgICAgICBicmVhaztcbiAgICAgICAgICAgIC8vICAgIGNhc2UgXCJUYXhvbm9teUNsaWVudFNlcnZpY2VcIjpcbiAgICAgICAgICAgIC8vICAgICAgICBTT0FQRW52ZWxvcGUub3BoZWFkZXIgKz0gXCJ4bWxucz0nXCIgKyBTQ0hFTUFTaGFyZVBvaW50ICsgXCIvdGF4b25vbXkvc29hcC8nID5cIjtcbiAgICAgICAgICAgIC8vICAgICAgICBTT0FQQWN0aW9uID0gU0NIRU1BU2hhcmVQb2ludCArIFwiL3RheG9ub215L3NvYXAvXCI7XG4gICAgICAgICAgICAvLyAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAvLyAgICBjYXNlIFwidXNlcmdyb3VwXCI6XG4gICAgICAgICAgICAvLyAgICAgICAgU09BUEVudmVsb3BlLm9waGVhZGVyICs9IFwieG1sbnM9J1wiICsgU0NIRU1BU2hhcmVQb2ludCArIFwiL3NvYXAvZGlyZWN0b3J5LycgPlwiO1xuICAgICAgICAgICAgLy8gICAgICAgIFNPQVBBY3Rpb24gPSBTQ0hFTUFTaGFyZVBvaW50ICsgXCIvc29hcC9kaXJlY3RvcnkvXCI7XG4gICAgICAgICAgICAvLyAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAvLyAgICBjYXNlIFwiVXNlclByb2ZpbGVTZXJ2aWNlXCI6XG4gICAgICAgICAgICAvLyAgICAgICAgU09BUEVudmVsb3BlLm9waGVhZGVyICs9IFwieG1sbnM9J2h0dHA6Ly9taWNyb3NvZnQuY29tL3dlYnNlcnZpY2VzL1NoYXJlUG9pbnRQb3J0YWxTZXJ2ZXIvVXNlclByb2ZpbGVTZXJ2aWNlJyA+XCI7XG4gICAgICAgICAgICAvLyAgICAgICAgU09BUEFjdGlvbiA9IFwiaHR0cDovL21pY3Jvc29mdC5jb20vd2Vic2VydmljZXMvU2hhcmVQb2ludFBvcnRhbFNlcnZlci9Vc2VyUHJvZmlsZVNlcnZpY2UvXCI7XG4gICAgICAgICAgICAvLyAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAvLyAgICBjYXNlIFwiV2ViUGFydFBhZ2VzXCI6XG4gICAgICAgICAgICAvLyAgICAgICAgU09BUEVudmVsb3BlLm9waGVhZGVyICs9IFwieG1sbnM9J2h0dHA6Ly9taWNyb3NvZnQuY29tL3NoYXJlcG9pbnQvd2VicGFydHBhZ2VzJyA+XCI7XG4gICAgICAgICAgICAvLyAgICAgICAgU09BUEFjdGlvbiA9IFwiaHR0cDovL21pY3Jvc29mdC5jb20vc2hhcmVwb2ludC93ZWJwYXJ0cGFnZXMvXCI7XG4gICAgICAgICAgICAvLyAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAvLyAgICBjYXNlIFwiV29ya2Zsb3dcIjpcbiAgICAgICAgICAgIC8vICAgICAgICBTT0FQRW52ZWxvcGUub3BoZWFkZXIgKz0gXCJ4bWxucz0nXCIgKyBTQ0hFTUFTaGFyZVBvaW50ICsgXCIvc29hcC93b3JrZmxvdy8nID5cIjtcbiAgICAgICAgICAgIC8vICAgICAgICBTT0FQQWN0aW9uID0gU0NIRU1BU2hhcmVQb2ludCArIFwiL3NvYXAvd29ya2Zsb3cvXCI7XG4gICAgICAgICAgICAvLyAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAvLyAgICBkZWZhdWx0OlxuICAgICAgICAgICAgLy8gICAgICAgIFNPQVBFbnZlbG9wZS5vcGhlYWRlciArPSBcInhtbG5zPSdcIiArIFNDSEVNQVNoYXJlUG9pbnQgKyBcIi9zb2FwLyc+XCI7XG4gICAgICAgICAgICAvLyAgICAgICAgU09BUEFjdGlvbiA9IFNDSEVNQVNoYXJlUG9pbnQgKyBcIi9zb2FwL1wiO1xuICAgICAgICAgICAgLy8gICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgLy99XG5cblxuICAgICAgICAgICAgLy8gVXRpbGl0eSBmdW5jdGlvbiB0byBzaG93IHRoZSByZXN1bHRzIG9mIGEgV2ViIFNlcnZpY2UgY2FsbCBmb3JtYXR0ZWQgd2VsbCBpbiB0aGUgYnJvd3Nlci5cbiAgICAgICAgICAgIC8vU1BTZXJ2aWNlcy5TUERlYnVnWE1MSHR0cFJlc3VsdCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gICAgdmFyIG9wdCA9ICQuZXh0ZW5kKHt9LCB7XG4gICAgICAgICAgICAvLyAgICAgICAgbm9kZTogbnVsbCwgLy8gQW4gWE1MSHR0cFJlc3VsdCBvYmplY3QgZnJvbSBhbiBhamF4IGNhbGxcbiAgICAgICAgICAgIC8vICAgICAgICBpbmRlbnQ6IDAgLy8gTnVtYmVyIG9mIGluZGVudHNcbiAgICAgICAgICAgIC8vICAgIH0sIG9wdGlvbnMpO1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vICAgIHZhciBpO1xuICAgICAgICAgICAgLy8gICAgdmFyIE5PREVfVEVYVCA9IDM7XG4gICAgICAgICAgICAvLyAgICB2YXIgTk9ERV9DREFUQV9TRUNUSU9OID0gNDtcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyAgICB2YXIgb3V0U3RyaW5nID0gXCJcIjtcbiAgICAgICAgICAgIC8vICAgIC8vIEZvciBlYWNoIG5ldyBzdWJub2RlLCBiZWdpbiByZW5kZXJpbmcgYSBuZXcgVEFCTEVcbiAgICAgICAgICAgIC8vICAgIG91dFN0cmluZyArPSBcIjx0YWJsZSBjbGFzcz0nbXMtdmInIHN0eWxlPSdtYXJnaW4tbGVmdDpcIiArIG9wdC5pbmRlbnQgKiAzICsgXCJweDsnIHdpZHRoPScxMDAlJz5cIjtcbiAgICAgICAgICAgIC8vICAgIC8vIERpc3BsYXlQYXR0ZXJucyBhcmUgYSBiaXQgdW5pcXVlLCBzbyBsZXQncyBoYW5kbGUgdGhlbSBkaWZmZXJlbnRseVxuICAgICAgICAgICAgLy8gICAgaWYgKG9wdC5ub2RlLm5vZGVOYW1lID09PSBcIkRpc3BsYXlQYXR0ZXJuXCIpIHtcbiAgICAgICAgICAgIC8vICAgICAgICBvdXRTdHJpbmcgKz0gXCI8dHI+PHRkIHdpZHRoPScxMDBweCcgc3R5bGU9J2ZvbnQtd2VpZ2h0OmJvbGQ7Jz5cIiArIG9wdC5ub2RlLm5vZGVOYW1lICtcbiAgICAgICAgICAgIC8vICAgICAgICBcIjwvdGQ+PHRkPjx0ZXh0YXJlYSByZWFkb25seT0ncmVhZG9ubHknIHJvd3M9JzUnIGNvbHM9JzUwJz5cIiArIG9wdC5ub2RlLnhtbCArIFwiPC90ZXh0YXJlYT48L3RkPjwvdHI+XCI7XG4gICAgICAgICAgICAvLyAgICAgICAgLy8gQSBub2RlIHdoaWNoIGhhcyBubyBjaGlsZHJlblxuICAgICAgICAgICAgLy8gICAgfSBlbHNlIGlmICghb3B0Lm5vZGUuaGFzQ2hpbGROb2RlcygpKSB7XG4gICAgICAgICAgICAvLyAgICAgICAgb3V0U3RyaW5nICs9IFwiPHRyPjx0ZCB3aWR0aD0nMTAwcHgnIHN0eWxlPSdmb250LXdlaWdodDpib2xkOyc+XCIgKyBvcHQubm9kZS5ub2RlTmFtZSArXG4gICAgICAgICAgICAvLyAgICAgICAgXCI8L3RkPjx0ZD5cIiArICgob3B0Lm5vZGUubm9kZVZhbHVlICE9PSBudWxsKSA/IGNoZWNrTGluayhvcHQubm9kZS5ub2RlVmFsdWUpIDogXCImbmJzcDtcIikgKyBcIjwvdGQ+PC90cj5cIjtcbiAgICAgICAgICAgIC8vICAgICAgICBpZiAob3B0Lm5vZGUuYXR0cmlidXRlcykge1xuICAgICAgICAgICAgLy8gICAgICAgICAgICBvdXRTdHJpbmcgKz0gXCI8dHI+PHRkIGNvbHNwYW49Jzk5Jz5cIiArIHNob3dBdHRycyhvcHQubm9kZSkgKyBcIjwvdGQ+PC90cj5cIjtcbiAgICAgICAgICAgIC8vICAgICAgICB9XG4gICAgICAgICAgICAvLyAgICAgICAgLy8gQSBDREFUQV9TRUNUSU9OIG5vZGVcbiAgICAgICAgICAgIC8vICAgIH0gZWxzZSBpZiAob3B0Lm5vZGUuaGFzQ2hpbGROb2RlcygpICYmIG9wdC5ub2RlLmZpcnN0Q2hpbGQubm9kZVR5cGUgPT09IE5PREVfQ0RBVEFfU0VDVElPTikge1xuICAgICAgICAgICAgLy8gICAgICAgIG91dFN0cmluZyArPSBcIjx0cj48dGQgd2lkdGg9JzEwMHB4JyBzdHlsZT0nZm9udC13ZWlnaHQ6Ym9sZDsnPlwiICsgb3B0Lm5vZGUubm9kZU5hbWUgK1xuICAgICAgICAgICAgLy8gICAgICAgIFwiPC90ZD48dGQ+PHRleHRhcmVhIHJlYWRvbmx5PSdyZWFkb25seScgcm93cz0nNScgY29scz0nNTAnPlwiICsgb3B0Lm5vZGUucGFyZW50Tm9kZS50ZXh0ICsgXCI8L3RleHRhcmVhPjwvdGQ+PC90cj5cIjtcbiAgICAgICAgICAgIC8vICAgICAgICAvLyBBIFRFWFQgbm9kZVxuICAgICAgICAgICAgLy8gICAgfSBlbHNlIGlmIChvcHQubm9kZS5oYXNDaGlsZE5vZGVzKCkgJiYgb3B0Lm5vZGUuZmlyc3RDaGlsZC5ub2RlVHlwZSA9PT0gTk9ERV9URVhUKSB7XG4gICAgICAgICAgICAvLyAgICAgICAgb3V0U3RyaW5nICs9IFwiPHRyPjx0ZCB3aWR0aD0nMTAwcHgnIHN0eWxlPSdmb250LXdlaWdodDpib2xkOyc+XCIgKyBvcHQubm9kZS5ub2RlTmFtZSArXG4gICAgICAgICAgICAvLyAgICAgICAgXCI8L3RkPjx0ZD5cIiArIGNoZWNrTGluayhvcHQubm9kZS5maXJzdENoaWxkLm5vZGVWYWx1ZSkgKyBcIjwvdGQ+PC90cj5cIjtcbiAgICAgICAgICAgIC8vICAgICAgICAvLyBIYW5kbGUgY2hpbGQgbm9kZXNcbiAgICAgICAgICAgIC8vICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyAgICAgICAgb3V0U3RyaW5nICs9IFwiPHRyPjx0ZCB3aWR0aD0nMTAwcHgnIHN0eWxlPSdmb250LXdlaWdodDpib2xkOycgY29sc3Bhbj0nOTknPlwiICsgb3B0Lm5vZGUubm9kZU5hbWUgKyBcIjwvdGQ+PC90cj5cIjtcbiAgICAgICAgICAgIC8vICAgICAgICBpZiAob3B0Lm5vZGUuYXR0cmlidXRlcykge1xuICAgICAgICAgICAgLy8gICAgICAgICAgICBvdXRTdHJpbmcgKz0gXCI8dHI+PHRkIGNvbHNwYW49Jzk5Jz5cIiArIHNob3dBdHRycyhvcHQubm9kZSkgKyBcIjwvdGQ+PC90cj5cIjtcbiAgICAgICAgICAgIC8vICAgICAgICB9XG4gICAgICAgICAgICAvLyAgICAgICAgLy8gU2luY2UgdGhlIG5vZGUgaGFzIGNoaWxkIG5vZGVzLCByZWN1cnNlXG4gICAgICAgICAgICAvLyAgICAgICAgb3V0U3RyaW5nICs9IFwiPHRyPjx0ZD5cIjtcbiAgICAgICAgICAgIC8vICAgICAgICBmb3IgKGkgPSAwOyBpIDwgb3B0Lm5vZGUuY2hpbGROb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgLy8gICAgICAgICAgICBvdXRTdHJpbmcgKz0gU1BTZXJ2aWNlcy5TUERlYnVnWE1MSHR0cFJlc3VsdCh7XG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICBub2RlOiBvcHQubm9kZS5jaGlsZE5vZGVzLml0ZW0oaSksXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICBpbmRlbnQ6IG9wdC5pbmRlbnQgKyAxXG4gICAgICAgICAgICAvLyAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gICAgICAgIH1cbiAgICAgICAgICAgIC8vICAgICAgICBvdXRTdHJpbmcgKz0gXCI8L3RkPjwvdHI+XCI7XG4gICAgICAgICAgICAvLyAgICB9XG4gICAgICAgICAgICAvLyAgICBvdXRTdHJpbmcgKz0gXCI8L3RhYmxlPlwiO1xuICAgICAgICAgICAgLy8gICAgLy8gUmV0dXJuIHRoZSBIVE1MIHdoaWNoIHdlIGhhdmUgYnVpbHQgdXBcbiAgICAgICAgICAgIC8vICAgIHJldHVybiBvdXRTdHJpbmc7XG4gICAgICAgICAgICAvL307IC8vIEVuZCBTUFNlcnZpY2VzLlNQRGVidWdYTUxIdHRwUmVzdWx0XG5cbiAgICAgICAgICAgIC8vIFNob3cgYSBzaW5nbGUgYXR0cmlidXRlIG9mIGEgbm9kZSwgZW5jbG9zZWQgaW4gYSB0YWJsZVxuICAgICAgICAgICAgLy8gICBub2RlICAgICAgICAgICAgICAgVGhlIFhNTCBub2RlXG4gICAgICAgICAgICAvLyAgIG9wdCAgICAgICAgICAgICAgICBUaGUgY3VycmVudCBzZXQgb2Ygb3B0aW9uc1xuICAgICAgICAgICAgLy9mdW5jdGlvbiBzaG93QXR0cnMobm9kZSkge1xuICAgICAgICAgICAgLy8gICAgdmFyIGk7XG4gICAgICAgICAgICAvLyAgICB2YXIgb3V0ID0gXCI8dGFibGUgY2xhc3M9J21zLXZiJyB3aWR0aD0nMTAwJSc+XCI7XG4gICAgICAgICAgICAvLyAgICBmb3IgKGkgPSAwOyBpIDwgbm9kZS5hdHRyaWJ1dGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAvLyAgICAgICAgb3V0ICs9IFwiPHRyPjx0ZCB3aWR0aD0nMTBweCcgc3R5bGU9J2ZvbnQtd2VpZ2h0OmJvbGQ7Jz5cIiArIGkgKyBcIjwvdGQ+PHRkIHdpZHRoPScxMDBweCc+XCIgK1xuICAgICAgICAgICAgLy8gICAgICAgIG5vZGUuYXR0cmlidXRlcy5pdGVtKGkpLm5vZGVOYW1lICsgXCI8L3RkPjx0ZD5cIiArIGNoZWNrTGluayhub2RlLmF0dHJpYnV0ZXMuaXRlbShpKS5ub2RlVmFsdWUpICsgXCI8L3RkPjwvdHI+XCI7XG4gICAgICAgICAgICAvLyAgICB9XG4gICAgICAgICAgICAvLyAgICBvdXQgKz0gXCI8L3RhYmxlPlwiO1xuICAgICAgICAgICAgLy8gICAgcmV0dXJuIG91dDtcbiAgICAgICAgICAgIC8vfSAvLyBFbmQgb2YgZnVuY3Rpb24gc2hvd0F0dHJzXG5cbiAgICAgICAgICAgIC8vIEZ1bmN0aW9uIHdoaWNoIHJldHVybnMgdGhlIGFjY291bnQgbmFtZSBmb3IgdGhlIGN1cnJlbnQgdXNlciBpbiBET01BSU5cXHVzZXJuYW1lIGZvcm1hdFxuICAgICAgICAgICAgLy9TUFNlcnZpY2VzLlNQR2V0Q3VycmVudFVzZXIgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vICAgIHZhciBvcHQgPSAkLmV4dGVuZCh7fSwge1xuICAgICAgICAgICAgLy8gICAgICAgIHdlYlVSTDogXCJcIiwgLy8gVVJMIG9mIHRoZSB0YXJnZXQgU2l0ZSBDb2xsZWN0aW9uLiAgSWYgbm90IHNwZWNpZmllZCwgdGhlIGN1cnJlbnQgV2ViIGlzIHVzZWQuXG4gICAgICAgICAgICAvLyAgICAgICAgZmllbGROYW1lOiBcIk5hbWVcIiwgLy8gU3BlY2lmaWVzIHdoaWNoIGZpZWxkIHRvIHJldHVybiBmcm9tIHRoZSB1c2VyZGlzcC5hc3B4IHBhZ2VcbiAgICAgICAgICAgIC8vICAgICAgICBmaWVsZE5hbWVzOiB7fSwgLy8gU3BlY2lmaWVzIHdoaWNoIGZpZWxkcyB0byByZXR1cm4gZnJvbSB0aGUgdXNlcmRpc3AuYXNweCBwYWdlIC0gYWRkZWQgaW4gdjAuNy4yIHRvIGFsbG93IG11bHRpcGxlIGNvbHVtbnNcbiAgICAgICAgICAgIC8vICAgICAgICBkZWJ1ZzogZmFsc2UgLy8gSWYgdHJ1ZSwgc2hvdyBlcnJvciBtZXNzYWdlczsgaWYgZmFsc2UsIHJ1biBzaWxlbnRcbiAgICAgICAgICAgIC8vICAgIH0sIG9wdGlvbnMpO1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vICAgIC8vIFRoZSBjdXJyZW50IHVzZXIncyBJRCBpcyByZWxpYWJseSBhdmFpbGFibGUgaW4gYW4gZXhpc3RpbmcgSmF2YVNjcmlwdCB2YXJpYWJsZVxuICAgICAgICAgICAgLy8gICAgaWYgKG9wdC5maWVsZE5hbWUgPT09IFwiSURcIiAmJiB0eXBlb2YgY3VycmVudENvbnRleHQudGhpc1VzZXJJZCAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgLy8gICAgICAgIHJldHVybiBjdXJyZW50Q29udGV4dC50aGlzVXNlcklkO1xuICAgICAgICAgICAgLy8gICAgfVxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vICAgIHZhciB0aGlzRmllbGQgPSBcIlwiO1xuICAgICAgICAgICAgLy8gICAgdmFyIHRoZXNlRmllbGRzID0ge307XG4gICAgICAgICAgICAvLyAgICB2YXIgZmllbGRDb3VudCA9IG9wdC5maWVsZE5hbWVzLmxlbmd0aCA+IDAgPyBvcHQuZmllbGROYW1lcy5sZW5ndGggOiAxO1xuICAgICAgICAgICAgLy8gICAgdmFyIHRoaXNVc2VyRGlzcDtcbiAgICAgICAgICAgIC8vICAgIHZhciB0aGlzV2ViID0gb3B0LndlYlVSTC5sZW5ndGggPiAwID8gb3B0LndlYlVSTCA6IFNQU2VydmljZXMuU1BHZXRDdXJyZW50U2l0ZSgpO1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vICAgIC8vIEdldCB0aGUgVXNlckRpc3AuYXNweCBwYWdlIHVzaW5nIEFKQVhcbiAgICAgICAgICAgIC8vICAgICQuYWpheCh7XG4gICAgICAgICAgICAvLyAgICAgICAgLy8gTmVlZCB0aGlzIHRvIGJlIHN5bmNocm9ub3VzIHNvIHdlJ3JlIGFzc3VyZWQgb2YgYSB2YWxpZCB2YWx1ZVxuICAgICAgICAgICAgLy8gICAgICAgIGFzeW5jOiBmYWxzZSxcbiAgICAgICAgICAgIC8vICAgICAgICAvLyBGb3JjZSBwYXJhbWV0ZXIgZm9yY2VzIHJlZGlyZWN0aW9uIHRvIGEgcGFnZSB0aGF0IGRpc3BsYXlzIHRoZSBpbmZvcm1hdGlvbiBhcyBzdG9yZWQgaW4gdGhlIFVzZXJJbmZvIHRhYmxlIHJhdGhlciB0aGFuIE15IFNpdGUuXG4gICAgICAgICAgICAvLyAgICAgICAgLy8gQWRkaW5nIHRoZSBleHRyYSBRdWVyeSBTdHJpbmcgcGFyYW1ldGVyIHdpdGggdGhlIGN1cnJlbnQgZGF0ZS90aW1lIGZvcmNlcyB0aGUgc2VydmVyIHRvIHZpZXcgdGhpcyBhcyBhIG5ldyByZXF1ZXN0LlxuICAgICAgICAgICAgLy8gICAgICAgIHVybDogdGhpc1dlYiArIFwiL19sYXlvdXRzL3VzZXJkaXNwLmFzcHg/Rm9yY2U9VHJ1ZSZcIiArIG5ldyBEYXRlKCkuZ2V0VGltZSgpLFxuICAgICAgICAgICAgLy8gICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbiAoeERhdGEpIHtcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgdGhpc1VzZXJEaXNwID0geERhdGE7XG4gICAgICAgICAgICAvLyAgICAgICAgfVxuICAgICAgICAgICAgLy8gICAgfSk7XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gICAgZm9yIChpID0gMDsgaSA8IGZpZWxkQ291bnQ7IGkrKykge1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vICAgICAgICAvLyBUaGUgY3VycmVudCB1c2VyJ3MgSUQgaXMgcmVsaWFibHkgYXZhaWxhYmxlIGluIGFuIGV4aXN0aW5nIEphdmFTY3JpcHQgdmFyaWFibGVcbiAgICAgICAgICAgIC8vICAgICAgICBpZiAob3B0LmZpZWxkTmFtZXNbaV0gPT09IFwiSURcIikge1xuICAgICAgICAgICAgLy8gICAgICAgICAgICB0aGlzRmllbGQgPSBjdXJyZW50Q29udGV4dC50aGlzVXNlcklkO1xuICAgICAgICAgICAgLy8gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyAgICAgICAgICAgIHZhciB0aGlzVGV4dFZhbHVlO1xuICAgICAgICAgICAgLy8gICAgICAgICAgICBpZiAoZmllbGRDb3VudCA+IDEpIHtcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgIHRoaXNUZXh0VmFsdWUgPSBSZWdFeHAoXCJGaWVsZEludGVybmFsTmFtZT1cXFwiXCIgKyBvcHQuZmllbGROYW1lc1tpXSArIFwiXFxcIlwiLCBcImdpXCIpO1xuICAgICAgICAgICAgLy8gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgdGhpc1RleHRWYWx1ZSA9IFJlZ0V4cChcIkZpZWxkSW50ZXJuYWxOYW1lPVxcXCJcIiArIG9wdC5maWVsZE5hbWUgKyBcIlxcXCJcIiwgXCJnaVwiKTtcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gICAgICAgICAgICAkKHRoaXNVc2VyRGlzcC5yZXNwb25zZVRleHQpLmZpbmQoXCJ0YWJsZS5tcy1mb3JtdGFibGUgdGRbaWRePSdTUEZpZWxkJ11cIikuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICBpZiAodGhpc1RleHRWYWx1ZS50ZXN0KCQodGhpcykuaHRtbCgpKSkge1xuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgIC8vIEVhY2ggZmllbGR0eXBlIGNvbnRhaW5zIGEgZGlmZmVyZW50IGRhdGEgdHlwZSwgYXMgaW5kaWNhdGVkIGJ5IHRoZSBpZFxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoJCh0aGlzKS5hdHRyKFwiaWRcIikpIHtcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlNQRmllbGRUZXh0XCI6XG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzRmllbGQgPSAkKHRoaXMpLnRleHQoKTtcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiU1BGaWVsZE5vdGVcIjpcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNGaWVsZCA9ICQodGhpcykuZmluZChcImRpdlwiKS5odG1sKCk7XG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlNQRmllbGRVUkxcIjpcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNGaWVsZCA9ICQodGhpcykuZmluZChcImltZ1wiKS5hdHRyKFwic3JjXCIpO1xuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgIC8vIEp1c3QgaW4gY2FzZVxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc0ZpZWxkID0gJCh0aGlzKS50ZXh0KCk7XG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgLy8gU3RvcCBsb29raW5nOyB3ZSdyZSBkb25lXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vICAgICAgICB9XG4gICAgICAgICAgICAvLyAgICAgICAgaWYgKG9wdC5maWVsZE5hbWVzW2ldICE9PSBcIklEXCIpIHtcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgdGhpc0ZpZWxkID0gKHR5cGVvZiB0aGlzRmllbGQgIT09IFwidW5kZWZpbmVkXCIpID8gdGhpc0ZpZWxkLnJlcGxhY2UoLyheW1xcc1xceEEwXSt8W1xcc1xceEEwXSskKS9nLCAnJykgOiBudWxsO1xuICAgICAgICAgICAgLy8gICAgICAgIH1cbiAgICAgICAgICAgIC8vICAgICAgICBpZiAoZmllbGRDb3VudCA+IDEpIHtcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgdGhlc2VGaWVsZHNbb3B0LmZpZWxkTmFtZXNbaV1dID0gdGhpc0ZpZWxkO1xuICAgICAgICAgICAgLy8gICAgICAgIH1cbiAgICAgICAgICAgIC8vICAgIH1cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyAgICByZXR1cm4gKGZpZWxkQ291bnQgPiAxKSA/IHRoZXNlRmllbGRzIDogdGhpc0ZpZWxkO1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vfTsgLy8gRW5kIFNQU2VydmljZXMuU1BHZXRDdXJyZW50VXNlclxuXG4gICAgICAgICAgICAvLyBTUFVwZGF0ZU11bHRpcGxlTGlzdEl0ZW1zIGFsbG93cyB5b3UgdG8gdXBkYXRlIG11bHRpcGxlIGl0ZW1zIGluIGEgbGlzdCBiYXNlZCB1cG9uIHNvbWUgY29tbW9uIGNoYXJhY3RlcmlzdGljIG9yIG1ldGFkYXRhIGNyaXRlcmlhLlxuICAgICAgICAgICAgLy9mdW5jdGlvbiBTUFVwZGF0ZU11bHRpcGxlTGlzdEl0ZW1zIChvcHRpb25zKSB7XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gICAgdmFyIG9wdCA9ICQuZXh0ZW5kKHt9LCB7XG4gICAgICAgICAgICAvLyAgICAgICAgd2ViVVJMOiBcIlwiLCAvLyBbT3B0aW9uYWxdIFVSTCBvZiB0aGUgdGFyZ2V0IFdlYi4gIElmIG5vdCBzcGVjaWZpZWQsIHRoZSBjdXJyZW50IFdlYiBpcyB1c2VkLlxuICAgICAgICAgICAgLy8gICAgICAgIGxpc3ROYW1lOiBcIlwiLCAvLyBUaGUgbGlzdCB0byBvcGVyYXRlIG9uLlxuICAgICAgICAgICAgLy8gICAgICAgIENBTUxRdWVyeTogXCJcIiwgLy8gQSBDQU1MIGZyYWdtZW50IHNwZWNpZnlpbmcgd2hpY2ggaXRlbXMgaW4gdGhlIGxpc3Qgd2lsbCBiZSBzZWxlY3RlZCBhbmQgdXBkYXRlZFxuICAgICAgICAgICAgLy8gICAgICAgIGJhdGNoQ21kOiBcIlVwZGF0ZVwiLCAvLyBUaGUgb3BlcmF0aW9uIHRvIHBlcmZvcm0uIEJ5IGRlZmF1bHQsIFVwZGF0ZS5cbiAgICAgICAgICAgIC8vICAgICAgICB2YWx1ZVBhaXJzOiBbXSwgLy8gdmFsdWVQYWlycyBmb3IgdGhlIHVwZGF0ZSBpbiB0aGUgZm9ybSBbW2ZpZWxkbmFtZTEsIGZpZWxkdmFsdWUxXSwgW2ZpZWxkbmFtZTIsIGZpZWxkdmFsdWUyXS4uLl1cbiAgICAgICAgICAgIC8vICAgICAgICBjb21wbGV0ZWZ1bmM6IG51bGwsIC8vIEZ1bmN0aW9uIHRvIGNhbGwgb24gY29tcGxldGlvbiBvZiByZW5kZXJpbmcgdGhlIGNoYW5nZS5cbiAgICAgICAgICAgIC8vICAgICAgICBkZWJ1ZzogZmFsc2UgLy8gSWYgdHJ1ZSwgc2hvdyBlcnJvciBtZXNzYWdlcztpZiBmYWxzZSwgcnVuIHNpbGVudFxuICAgICAgICAgICAgLy8gICAgfSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gICAgdmFyIGk7XG4gICAgICAgICAgICAvLyAgICB2YXIgaXRlbXNUb1VwZGF0ZSA9IFtdO1xuICAgICAgICAgICAgLy8gICAgdmFyIGRvY3VtZW50c1RvVXBkYXRlID0gW107XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gICAgLy8gQ2FsbCBHZXRMaXN0SXRlbXMgdG8gZmluZCBhbGwgb2YgdGhlIGl0ZW1zIG1hdGNoaW5nIHRoZSBDQU1MUXVlcnlcbiAgICAgICAgICAgIC8vICAgIFNQU2VydmljZXMoe1xuICAgICAgICAgICAgLy8gICAgICAgIG9wZXJhdGlvbjogXCJHZXRMaXN0SXRlbXNcIixcbiAgICAgICAgICAgIC8vICAgICAgICBhc3luYzogZmFsc2UsXG4gICAgICAgICAgICAvLyAgICAgICAgd2ViVVJMOiBvcHQud2ViVVJMLFxuICAgICAgICAgICAgLy8gICAgICAgIGxpc3ROYW1lOiBvcHQubGlzdE5hbWUsXG4gICAgICAgICAgICAvLyAgICAgICAgQ0FNTFF1ZXJ5OiBvcHQuQ0FNTFF1ZXJ5LFxuICAgICAgICAgICAgLy8gICAgICAgIENBTUxRdWVyeU9wdGlvbnM6IFwiPFF1ZXJ5T3B0aW9ucz48Vmlld0F0dHJpYnV0ZXMgU2NvcGU9J1JlY3Vyc2l2ZScgLz48L1F1ZXJ5T3B0aW9ucz5cIixcbiAgICAgICAgICAgIC8vICAgICAgICBjb21wbGV0ZWZ1bmM6IGZ1bmN0aW9uICh4RGF0YSkge1xuICAgICAgICAgICAgLy8gICAgICAgICAgICAkKHhEYXRhLnJlc3BvbnNlWE1MKS5TUEZpbHRlck5vZGUoXCJ6OnJvd1wiKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgIGl0ZW1zVG9VcGRhdGUucHVzaCgkKHRoaXMpLmF0dHIoXCJvd3NfSURcIikpO1xuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgdmFyIGZpbGVSZWYgPSAkKHRoaXMpLmF0dHIoXCJvd3NfRmlsZVJlZlwiKTtcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgIGZpbGVSZWYgPSBcIi9cIiArIGZpbGVSZWYuc3Vic3RyaW5nKGZpbGVSZWYuaW5kZXhPZihcIjsjXCIpICsgMik7XG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICBkb2N1bWVudHNUb1VwZGF0ZS5wdXNoKGZpbGVSZWYpO1xuICAgICAgICAgICAgLy8gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vICAgICAgICB9XG4gICAgICAgICAgICAvLyAgICB9KTtcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyAgICB2YXIgZmllbGROdW07XG4gICAgICAgICAgICAvLyAgICB2YXIgYmF0Y2ggPSBcIjxCYXRjaCBPbkVycm9yPSdDb250aW51ZSc+XCI7XG4gICAgICAgICAgICAvLyAgICBmb3IgKGkgPSAwOyBpIDwgaXRlbXNUb1VwZGF0ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgLy8gICAgICAgIGJhdGNoICs9IFwiPE1ldGhvZCBJRD0nXCIgKyBpICsgXCInIENtZD0nXCIgKyBvcHQuYmF0Y2hDbWQgKyBcIic+XCI7XG4gICAgICAgICAgICAvLyAgICAgICAgZm9yIChmaWVsZE51bSA9IDA7IGZpZWxkTnVtIDwgb3B0LnZhbHVlUGFpcnMubGVuZ3RoOyBmaWVsZE51bSsrKSB7XG4gICAgICAgICAgICAvLyAgICAgICAgICAgIGJhdGNoICs9IFwiPEZpZWxkIE5hbWU9J1wiICsgb3B0LnZhbHVlUGFpcnNbZmllbGROdW1dWzBdICsgXCInPlwiICsgZXNjYXBlQ29sdW1uVmFsdWUob3B0LnZhbHVlUGFpcnNbZmllbGROdW1dWzFdKSArIFwiPC9GaWVsZD5cIjtcbiAgICAgICAgICAgIC8vICAgICAgICB9XG4gICAgICAgICAgICAvLyAgICAgICAgYmF0Y2ggKz0gXCI8RmllbGQgTmFtZT0nSUQnPlwiICsgaXRlbXNUb1VwZGF0ZVtpXSArIFwiPC9GaWVsZD5cIjtcbiAgICAgICAgICAgIC8vICAgICAgICBpZiAoZG9jdW1lbnRzVG9VcGRhdGVbaV0ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgLy8gICAgICAgICAgICBiYXRjaCArPSBcIjxGaWVsZCBOYW1lPSdGaWxlUmVmJz5cIiArIGRvY3VtZW50c1RvVXBkYXRlW2ldICsgXCI8L0ZpZWxkPlwiO1xuICAgICAgICAgICAgLy8gICAgICAgIH1cbiAgICAgICAgICAgIC8vICAgICAgICBiYXRjaCArPSBcIjwvTWV0aG9kPlwiO1xuICAgICAgICAgICAgLy8gICAgfVxuICAgICAgICAgICAgLy8gICAgYmF0Y2ggKz0gXCI8L0JhdGNoPlwiO1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vICAgIC8vIENhbGwgVXBkYXRlTGlzdEl0ZW1zIHRvIHVwZGF0ZSBhbGwgb2YgdGhlIGl0ZW1zIG1hdGNoaW5nIHRoZSBDQU1MUXVlcnlcbiAgICAgICAgICAgIC8vICAgIFNQU2VydmljZXMoe1xuICAgICAgICAgICAgLy8gICAgICAgIG9wZXJhdGlvbjogXCJVcGRhdGVMaXN0SXRlbXNcIixcbiAgICAgICAgICAgIC8vICAgICAgICBhc3luYzogZmFsc2UsXG4gICAgICAgICAgICAvLyAgICAgICAgd2ViVVJMOiBvcHQud2ViVVJMLFxuICAgICAgICAgICAgLy8gICAgICAgIGxpc3ROYW1lOiBvcHQubGlzdE5hbWUsXG4gICAgICAgICAgICAvLyAgICAgICAgdXBkYXRlczogYmF0Y2gsXG4gICAgICAgICAgICAvLyAgICAgICAgY29tcGxldGVmdW5jOiBmdW5jdGlvbiAoeERhdGEpIHtcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgLy8gSWYgcHJlc2VudCwgY2FsbCBjb21wbGV0ZWZ1bmMgd2hlbiBhbGwgZWxzZSBpcyBkb25lXG4gICAgICAgICAgICAvLyAgICAgICAgICAgIGlmIChvcHQuY29tcGxldGVmdW5jICE9PSBudWxsKSB7XG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICBvcHQuY29tcGxldGVmdW5jKHhEYXRhKTtcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gICAgICAgIH1cbiAgICAgICAgICAgIC8vICAgIH0pO1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vfSAvLyBFbmQgU1BTZXJ2aWNlcy5TUFVwZGF0ZU11bHRpcGxlTGlzdEl0ZW1zXG5cblxuICAgICAgICB9XG59XG4iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy9hcC5kLnRzXCIgLz5cblxubW9kdWxlIGFwIHtcbiAgICAndXNlIHN0cmljdCc7XG5cblxuICAgIHZhciAkcSwgYXBDb25maWcsICR0aW1lb3V0O1xuXG4gICAgZXhwb3J0IGNsYXNzIFV0aWxpdHlTZXJ2aWNlIHtcbiAgICAgICAgYmF0Y2hQcm9jZXNzID0gYmF0Y2hQcm9jZXNzO1xuICAgICAgICBjb252ZXJ0RWZmZWN0aXZlUGVybU1hc2sgPSBjb252ZXJ0RWZmZWN0aXZlUGVybU1hc2s7XG4gICAgICAgIGRhdGVXaXRoaW5SYW5nZSA9IGRhdGVXaXRoaW5SYW5nZTtcbiAgICAgICAgZG91YmxlRGlnaXQgPSBkb3VibGVEaWdpdDtcbiAgICAgICAgZnJvbUNhbWVsQ2FzZSA9IGZyb21DYW1lbENhc2U7XG4gICAgICAgIHJlZ2lzdGVyQ2hhbmdlID0gcmVnaXN0ZXJDaGFuZ2U7XG4gICAgICAgIHJlc29sdmVQZXJtaXNzaW9ucyA9IHJlc29sdmVQZXJtaXNzaW9ucztcbiAgICAgICAgU3BsaXRJbmRleCA9IFNwbGl0SW5kZXg7XG4gICAgICAgIHN0cmluZ2lmeVhNTCA9IHN0cmluZ2lmeVhNTDtcbiAgICAgICAgdG9DYW1lbENhc2UgPSB0b0NhbWVsQ2FzZTtcbiAgICAgICAgeXl5eW1tZGQgPSB5eXl5bW1kZDtcblxuICAgICAgICBjb25zdHJ1Y3RvcigkaW5qZWN0b3IpIHtcbiAgICAgICAgICAgICRxID0gJGluamVjdG9yLmdldCgnJHEnKTtcbiAgICAgICAgICAgIGFwQ29uZmlnID0gJGluamVjdG9yLmdldCgnYXBDb25maWcnKTtcbiAgICAgICAgICAgICR0aW1lb3V0ID0gJGluamVjdG9yLmdldCgnJHRpbWVvdXQnKTtcblxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqIEV4dGVuZCB1bmRlcnNjb3JlIHdpdGggYSBzaW1wbGUgaGVscGVyIGZ1bmN0aW9uICovXG4gICAgXy5taXhpbih7XG4gICAgICAgIGlzRGVmaW5lZDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gIV8uaXNVbmRlZmluZWQodmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICAvKiogQmFzZWQgb24gZnVuY3Rpb25hbGl0eSBpbiBCcmVlemUuanMgKi9cbiAgICAgICAgaXNHdWlkOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiKSAmJiAvW2EtZkEtRlxcZF17OH0tKD86W2EtZkEtRlxcZF17NH0tKXszfVthLWZBLUZcXGRdezEyfS9cbiAgICAgICAgICAgICAgICAgICAgLnRlc3QodmFsdWUpO1xuICAgICAgICB9XG4gICAgfSk7XG5cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcFV0aWxpdHlTZXJ2aWNlOmRvdWJsZURpZ2l0XG4gICAgICogQG1ldGhvZE9mIGFuZ3VsYXJQb2ludC5hcFV0aWxpdHlTZXJ2aWNlXG4gICAgICogQGRlc2NyaXB0aW9uIEFkZCBhIGxlYWRpbmcgemVybyBpZiBhIG51bWJlci9zdHJpbmcgb25seSBjb250YWlucyBhIHNpbmdsZSBjaGFyYWN0ZXIuICBTbyBpbiB0aGUgY2FzZVxuICAgICAqIHdoZXJlIHRoZSBudW1iZXIgOSBpcyBwYXNzZWQgaW4gdGhlIHN0cmluZyAnMDknIGlzIHJldHVybmVkLlxuICAgICAqIEBwYXJhbSB7KG51bWJlcnxzdHJpbmcpfSB2YWwgQSBudW1iZXIgb3Igc3RyaW5nIHRvIGV2YWx1YXRlLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFR3byBkaWdpdCBzdHJpbmcuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZG91YmxlRGlnaXQodmFsOiBudW1iZXIgfCBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICBpZiAodHlwZW9mIHZhbCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWwgPiA5ID8gdmFsLnRvU3RyaW5nKCkgOiAnMCcgKyB2YWw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZG91YmxlRGlnaXQocGFyc2VJbnQodmFsKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBVdGlsaXR5U2VydmljZTp5eXl5bW1kZFxuICAgICAqIEBtZXRob2RPZiBhbmd1bGFyUG9pbnQuYXBVdGlsaXR5U2VydmljZVxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIENvbnZlcnQgZGF0ZSBpbnRvIGEgaW50IGZvcm1hdHRlZCBhcyB5eXl5bW1kZFxuICAgICAqIFdlIGRvbid0IG5lZWQgdGhlIHRpbWUgcG9ydGlvbiBvZiBjb21wYXJpc29uIHNvIGFuIGludCBtYWtlcyB0aGlzIGVhc2llciB0byBldmFsdWF0ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHl5eXltbWRkKGRhdGU6IERhdGUpOiBudW1iZXIge1xuICAgICAgICB2YXIgeXl5eSA9IGRhdGUuZ2V0RnVsbFllYXIoKTtcbiAgICAgICAgdmFyIG1tID0gZGF0ZS5nZXRNb250aCgpICsgMTtcbiAgICAgICAgdmFyIGRkID0gZGF0ZS5nZXREYXRlKCk7XG4gICAgICAgIC8qKiBBZGQgbGVhZGluZyAwJ3MgdG8gbW9udGggYW5kIGRheSBpZiBuZWNlc3NhcnkgKi9cbiAgICAgICAgcmV0dXJuIHBhcnNlSW50KHl5eXkgKyBkb3VibGVEaWdpdChtbSkgKyBkb3VibGVEaWdpdChkZCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcFV0aWxpdHlTZXJ2aWNlOmRhdGVXaXRoaW5SYW5nZVxuICAgICAqIEBtZXRob2RPZiBhbmd1bGFyUG9pbnQuYXBVdGlsaXR5U2VydmljZVxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIENvbnZlcnRzIGRhdGVzIGludG8geXl5eW1tZGQgZm9ybWF0dGVkIGludHMgYW5kIGV2YWx1YXRlcyB0byBkZXRlcm1pbmUgaWYgdGhlIGRhdGVUb0NoZWNrXG4gICAgICogZmFsbHMgd2l0aGluIHRoZSBkYXRlIHJhbmdlIHByb3ZpZGVkXG4gICAgICogQHBhcmFtIHtEYXRlfSBzdGFydERhdGUgU3RhcnRpbmcgZGF0ZS5cbiAgICAgKiBAcGFyYW0ge0RhdGV9IGVuZERhdGUgRW5kaW5nIGRhdGUuXG4gICAgICogQHBhcmFtIHtEYXRlfSBbZGF0ZVRvQ2hlY2s9bmV3IERhdGUoKV0gRGVmYXVsdHMgdG8gdGhlIGN1cnJlbnQgZGF0ZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gRG9lcyB0aGUgZGF0ZSBmYWxsIHdpdGhpbiB0aGUgcmFuZ2U/XG4gICAgICovXG4gICAgZnVuY3Rpb24gZGF0ZVdpdGhpblJhbmdlKHN0YXJ0RGF0ZTogRGF0ZSwgZW5kRGF0ZTogRGF0ZSwgZGF0ZVRvQ2hlY2sgPSBuZXcgRGF0ZSgpKTogYm9vbGVhbiB7XG4gICAgICAgIC8qKiBFbnN1cmUgYm90aCBhIHN0YXJ0IGFuZCBlbmQgZGF0ZSBhcmUgcHJvdmlkZWQgKiovXG4gICAgICAgIGlmICghc3RhcnREYXRlIHx8ICFlbmREYXRlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvKiogQ3JlYXRlIGFuIGludCByZXByZXNlbnRhdGlvbiBvZiBlYWNoIG9mIHRoZSBkYXRlcyAqL1xuICAgICAgICB2YXIgc3RhcnRJbnQgPSB5eXl5bW1kZChzdGFydERhdGUpO1xuICAgICAgICB2YXIgZW5kSW50ID0geXl5eW1tZGQoZW5kRGF0ZSk7XG4gICAgICAgIHZhciBkYXRlVG9DaGVja0ludCA9IHl5eXltbWRkKGRhdGVUb0NoZWNrKTtcblxuICAgICAgICByZXR1cm4gc3RhcnRJbnQgPD0gZGF0ZVRvQ2hlY2tJbnQgJiYgZGF0ZVRvQ2hlY2tJbnQgPD0gZW5kSW50O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcFV0aWxpdHlTZXJ2aWNlOmJhdGNoUHJvY2Vzc1xuICAgICAqIEBtZXRob2RPZiBhbmd1bGFyUG9pbnQuYXBVdGlsaXR5U2VydmljZVxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFdlIFJFQUxMWSBkb24ndCB3YW50IHRvIGxvY2sgdGhlIHVzZXIncyBicm93c2VyIChibG9ja2luZyB0aGUgVUkgdGhyZWFkKSB3aGlsZSBpdGVyYXRpbmcgb3ZlciBhbiBhcnJheSBvZlxuICAgICAqIGVudGl0aWVzIGFuZCBwZXJmb3JtaW5nIHNvbWUgcHJvY2VzcyBvbiB0aGVtLiAgVGhpcyBmdW5jdGlvbiBjdXRzIHRoZSBwcm9jZXNzIGludG8gYXMgbWFueSA1MG1zIGNodW5rcyBhcyBhcmVcbiAgICAgKiBuZWNlc3NhcnkuIEJhc2VkIG9uIGV4YW1wbGUgZm91bmQgaW4gdGhlIGZvbGxvd2luZyBhcnRpY2xlOlxuICAgICAqIFtUaW1lZCBhcnJheSBwcm9jZXNzaW5nIGluIEphdmFTY3JpcHRdKGh0dHA6Ly93d3cubmN6b25saW5lLm5ldC9ibG9nLzIwMDkvMDgvMTEvdGltZWQtYXJyYXktcHJvY2Vzc2luZy1pbi1qYXZhc2NyaXB0Lyk7XG4gICAgICogQHBhcmFtIHtPYmplY3RbXX0gZW50aXRpZXMgVGhlIGVudGl0aWVzIHRoYXQgbmVlZCB0byBiZSBwcm9jZXNzZWQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJvY2VzcyBSZWZlcmVuY2UgdG8gdGhlIHByb2Nlc3MgdG8gYmUgZXhlY3V0ZWQgZm9yIGVhY2ggb2YgdGhlIGVudGl0aWVzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjb250ZXh0IHRoaXNcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2RlbGF5PTI1XSBOdW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIGRlbGF5IGJldHdlZW4gYmF0Y2hlcy5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW21heEl0ZW1zPWVudGl0aWVzLmxlbmd0aF0gTWF4aW11bSBudW1iZXIgb2YgZW50aXRpZXMgdG8gcHJvY2VzcyBiZWZvcmUgcGF1c2luZy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBQcm9taXNlXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiA8cHJlPlxuICAgICAqIGZ1bmN0aW9uIGJ1aWxkUHJvamVjdFN1bW1hcnkgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICogICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgLy8gVGFrZW4gZnJvbSBhIGZpY3RpdGlvdXMgcHJvamVjdHNNb2RlbC5qc1xuICAgICAgICAgKiAgICBwcm9qZWN0TW9kZWwuZ2V0QWxsTGlzdEl0ZW1zKCkudGhlbihmdW5jdGlvbihlbnRpdGllcykge1xuICAgICAgICAgKiAgICAgIHZhciBzdW1tYXJ5T2JqZWN0ID0ge307XG4gICAgICAgICAqICAgICAgdmFyIGV4dGVuZFByb2plY3RTdW1tYXJ5ID0gZnVuY3Rpb24ocHJvamVjdCkge1xuICAgICAgICAgKiAgICAgICAgICAvLyBEbyBzb21lIHByb2Nlc3MgaW50ZW5zaXZlIHN0dWZmIGhlcmVcbiAgICAgICAgICpcbiAgICAgICAgICogICAgICB9O1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgIC8vIE5vdyB0aGF0IHdlIGhhdmUgYWxsIG9mIG91ciBwcm9qZWN0cyB3ZSB3YW50IHRvIGl0ZXJhdGVcbiAgICAgICAgICogICAgICAvLyBvdmVyIGVhY2ggdG8gY3JlYXRlIG91ciBzdW1tYXJ5IG9iamVjdC4gVGhlIHByb2JsZW0gaXNcbiAgICAgICAgICogICAgICAvLyB0aGlzIGNvdWxkIGVhc2lseSBjYXVzZSB0aGUgcGFnZSB0byBoYW5nIHdpdGggYSBzdWZmaWNpZW50XG4gICAgICAgICAqICAgICAgLy8gbnVtYmVyIG9mIGVudGl0aWVzLlxuICAgICAgICAgKiAgICAgIGFwVXRpbGl0eVNlcnZpY2UuYmF0Y2hQcm9jZXNzKGVudGl0aWVzLCBleHRlbmRQcm9qZWN0U3VtbWFyeSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAqICAgICAgICAgIC8vIExvbmcgcnVubmluZyBwcm9jZXNzIGlzIGNvbXBsZXRlIHNvIHJlc29sdmUgcHJvbWlzZVxuICAgICAgICAgKiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHN1bW1hcnlPYmplY3QpO1xuICAgICAgICAgKiAgICAgIH0sIDI1LCAxMDAwKTtcbiAgICAgICAgICogICAgfTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgICAgICAqIH1cbiAgICAgKlxuICAgICAqIDwvcHJlPlxuICAgICAqL1xuXG4gICAgZnVuY3Rpb24gYmF0Y2hQcm9jZXNzKGVudGl0aWVzLCBwcm9jZXNzLCBjb250ZXh0LCBkZWxheSwgbWF4SXRlbXMpIHtcbiAgICAgICAgdmFyIGl0ZW1Db3VudCA9IGVudGl0aWVzLmxlbmd0aCxcbiAgICAgICAgICAgIGJhdGNoQ291bnQgPSAwLFxuICAgICAgICAgICAgY2h1bmtNYXggPSBtYXhJdGVtcyB8fCBpdGVtQ291bnQsXG4gICAgICAgICAgICBkZWxheSA9IGRlbGF5IHx8IDI1LFxuICAgICAgICAgICAgaW5kZXggPSAwLFxuICAgICAgICAgICAgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICAgIGZ1bmN0aW9uIGNodW5rVGltZXIoKSB7XG4gICAgICAgICAgICBiYXRjaENvdW50Kys7XG4gICAgICAgICAgICB2YXIgc3RhcnQgPSArbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgICBjaHVua0luZGV4ID0gaW5kZXg7XG5cbiAgICAgICAgICAgIHdoaWxlIChpbmRleCA8IGl0ZW1Db3VudCAmJiAoaW5kZXggLSBjaHVua0luZGV4KSA8IGNodW5rTWF4ICYmIChuZXcgRGF0ZSgpIC0gc3RhcnQgPCAxMDApKSB7XG4gICAgICAgICAgICAgICAgcHJvY2Vzcy5jYWxsKGNvbnRleHQsIGVudGl0aWVzW2luZGV4XSwgaW5kZXgsIGJhdGNoQ291bnQpO1xuICAgICAgICAgICAgICAgIGluZGV4ICs9IDE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChpbmRleCA8IGl0ZW1Db3VudCkge1xuICAgICAgICAgICAgICAgICR0aW1lb3V0KGNodW5rVGltZXIsIGRlbGF5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoZW50aXRpZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY2h1bmtUaW1lcigpO1xuXG4gICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgIH1cblxuXG4gICAgLy9mdW5jdGlvbiBiYXRjaFByb2Nlc3MoaXRlbXMsIHByb2Nlc3MsIGNvbnRleHQsIGRlbGF5LCBtYXhJdGVtcykge1xuICAgIC8vICAgIHZhciBuID0gaXRlbXMubGVuZ3RoLFxuICAgIC8vICAgICAgICBkZWxheSA9IGRlbGF5IHx8IDI1LFxuICAgIC8vICAgICAgICBtYXhJdGVtcyA9IG1heEl0ZW1zIHx8IG4sXG4gICAgLy8gICAgICAgIGkgPSAwLFxuICAgIC8vICAgICAgICBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG4gICAgLy9cbiAgICAvLyAgICBjaHVua1RpbWVyKGksIG4sIGRlZmVycmVkLCBpdGVtcywgcHJvY2VzcywgY29udGV4dCwgZGVsYXksIG1heEl0ZW1zKTtcbiAgICAvLyAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAvL31cbiAgICAvL1xuICAgIC8vZnVuY3Rpb24gY2h1bmtUaW1lcihpLCBuLCBkZWZlcnJlZCwgaXRlbXMsIHByb2Nlc3MsIGNvbnRleHQsIGRlbGF5LCBtYXhJdGVtcykge1xuICAgIC8vICAgIHZhciBzdGFydCA9ICtuZXcgRGF0ZSgpLFxuICAgIC8vICAgICAgICBqID0gaTtcbiAgICAvL1xuICAgIC8vICAgIHdoaWxlIChpIDwgbiAmJiAoaSAtIGopIDwgbWF4SXRlbXMgJiYgKG5ldyBEYXRlKCkgLSBzdGFydCA8IDEwMCkpIHtcbiAgICAvLyAgICAgICAgcHJvY2Vzcy5jYWxsKGNvbnRleHQsIGl0ZW1zW2ldKTtcbiAgICAvLyAgICAgICAgaSArPSAxO1xuICAgIC8vICAgIH1cbiAgICAvL1xuICAgIC8vICAgIGlmIChpIDwgbikge1xuICAgIC8vICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAvLyAgICAgICAgICAgIGNodW5rVGltZXIoaiwgbiwgZGVmZXJyZWQsIGl0ZW1zLCBwcm9jZXNzLCBjb250ZXh0LCBkZWxheSwgbWF4SXRlbXMpO1xuICAgIC8vICAgICAgICB9LCBkZWxheSk7XG4gICAgLy8gICAgfVxuICAgIC8vICAgIGVsc2Uge1xuICAgIC8vICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGl0ZW1zKTtcbiAgICAvLyAgICB9XG4gICAgLy99XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBVdGlsaXR5U2VydmljZTpyZXNvbHZlUGVybWlzc2lvbnNcbiAgICAgKiBAbWV0aG9kT2YgYW5ndWxhclBvaW50LmFwVXRpbGl0eVNlcnZpY2VcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGVybWlzc2lvbnNNYXNrIFRoZSBXU1MgUmlnaHRzIE1hc2sgaXMgYW4gOC1ieXRlLCB1bnNpZ25lZCBpbnRlZ2VyIHRoYXQgc3BlY2lmaWVzXG4gICAgICogdGhlIHJpZ2h0cyB0aGF0IGNhbiBiZSBhc3NpZ25lZCB0byBhIHVzZXIgb3Igc2l0ZSBncm91cC4gVGhpcyBiaXQgbWFzayBjYW4gaGF2ZSB6ZXJvIG9yIG1vcmUgZmxhZ3Mgc2V0LlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIENvbnZlcnRzIHBlcm1NYXNrIGludG8gc29tZXRoaW5nIHVzYWJsZSB0byBkZXRlcm1pbmUgcGVybWlzc2lvbiBsZXZlbCBmb3IgY3VycmVudCB1c2VyLiAgVHlwaWNhbGx5IHVzZWRcbiAgICAgKiBkaXJlY3RseSBmcm9tIGEgbGlzdCBpdGVtLiAgU2VlIExpc3RJdGVtLnJlc29sdmVQZXJtaXNzaW9ucy5cbiAgICAgKlxuICAgICAqIDxoMz5BZGRpdGlvbmFsIEluZm88L2gzPlxuICAgICAqXG4gICAgICogLSAgIFtQZXJtTWFzayBpbiBTaGFyZVBvaW50IERWV1BzXShodHRwOi8vc3ltcG1hcmMuY29tLzIwMDkvMDIvMDMvcGVybW1hc2staW4tc2hhcmVwb2ludC1kdndwcy8pXG4gICAgICogLSAgIFskKCkuU1BTZXJ2aWNlcy5TUExvb2t1cEFkZE5ldyBhbmQgc2VjdXJpdHkgdHJpbW1pbmddKGh0dHA6Ly9zcHNlcnZpY2VzLmNvZGVwbGV4LmNvbS9kaXNjdXNzaW9ucy8yMDg3MDgpXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSBPYmplY3Qgd2l0aCBwcm9wZXJ0aWVzIGZvciBlYWNoIHBlcm1pc3Npb24gbGV2ZWwgaWRlbnRpZnlpbmcgaWYgY3VycmVudCB1c2VyIGhhcyByaWdodHMgKHRydWUgfHwgZmFsc2UpXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiA8cHJlPlxuICAgICAqIHZhciBwZXJtID0gYXBVdGlsaXR5U2VydmljZS5yZXNvbHZlUGVybWlzc2lvbnMoJzB4MDAwMDAwMDAwMDAwMDAxMCcpO1xuICAgICAqIDwvcHJlPlxuICAgICAqIEV4YW1wbGUgb2Ygd2hhdCB0aGUgcmV0dXJuZWQgb2JqZWN0IHdvdWxkIGxvb2sgbGlrZVxuICAgICAqIGZvciBhIHNpdGUgYWRtaW4uXG4gICAgICogPHByZT5cbiAgICAgKiBwZXJtID0ge1xuICAgICAgICAgKiAgICBcIlZpZXdMaXN0SXRlbXNcIjp0cnVlLFxuICAgICAgICAgKiAgICBcIkFkZExpc3RJdGVtc1wiOnRydWUsXG4gICAgICAgICAqICAgIFwiRWRpdExpc3RJdGVtc1wiOnRydWUsXG4gICAgICAgICAqICAgIFwiRGVsZXRlTGlzdEl0ZW1zXCI6dHJ1ZSxcbiAgICAgICAgICogICAgXCJBcHByb3ZlSXRlbXNcIjp0cnVlLFxuICAgICAgICAgKiAgICBcIk9wZW5JdGVtc1wiOnRydWUsXG4gICAgICAgICAqICAgIFwiVmlld1ZlcnNpb25zXCI6dHJ1ZSxcbiAgICAgICAgICogICAgXCJEZWxldGVWZXJzaW9uc1wiOnRydWUsXG4gICAgICAgICAqICAgIFwiQ2FuY2VsQ2hlY2tvdXRcIjp0cnVlLFxuICAgICAgICAgKiAgICBcIlBlcnNvbmFsVmlld3NcIjp0cnVlLFxuICAgICAgICAgKiAgICBcIk1hbmFnZUxpc3RzXCI6dHJ1ZSxcbiAgICAgICAgICogICAgXCJWaWV3Rm9ybVBhZ2VzXCI6dHJ1ZSxcbiAgICAgICAgICogICAgXCJPcGVuXCI6dHJ1ZSxcbiAgICAgICAgICogICAgXCJWaWV3UGFnZXNcIjp0cnVlLFxuICAgICAgICAgKiAgICBcIkFkZEFuZEN1c3RvbWl6ZVBhZ2VzXCI6dHJ1ZSxcbiAgICAgICAgICogICAgXCJBcHBseVRoZW1lQW5kQm9yZGVyXCI6dHJ1ZSxcbiAgICAgICAgICogICAgXCJBcHBseVN0eWxlU2hlZXRzXCI6dHJ1ZSxcbiAgICAgICAgICogICAgXCJWaWV3VXNhZ2VEYXRhXCI6dHJ1ZSxcbiAgICAgICAgICogICAgXCJDcmVhdGVTU0NTaXRlXCI6dHJ1ZSxcbiAgICAgICAgICogICAgXCJNYW5hZ2VTdWJ3ZWJzXCI6dHJ1ZSxcbiAgICAgICAgICogICAgXCJDcmVhdGVHcm91cHNcIjp0cnVlLFxuICAgICAgICAgKiAgICBcIk1hbmFnZVBlcm1pc3Npb25zXCI6dHJ1ZSxcbiAgICAgICAgICogICAgXCJCcm93c2VEaXJlY3Rvcmllc1wiOnRydWUsXG4gICAgICAgICAqICAgIFwiQnJvd3NlVXNlckluZm9cIjp0cnVlLFxuICAgICAgICAgKiAgICBcIkFkZERlbFByaXZhdGVXZWJQYXJ0c1wiOnRydWUsXG4gICAgICAgICAqICAgIFwiVXBkYXRlUGVyc29uYWxXZWJQYXJ0c1wiOnRydWUsXG4gICAgICAgICAqICAgIFwiTWFuYWdlV2ViXCI6dHJ1ZSxcbiAgICAgICAgICogICAgXCJVc2VSZW1vdGVBUElzXCI6dHJ1ZSxcbiAgICAgICAgICogICAgXCJNYW5hZ2VBbGVydHNcIjp0cnVlLFxuICAgICAgICAgKiAgICBcIkNyZWF0ZUFsZXJ0c1wiOnRydWUsXG4gICAgICAgICAqICAgIFwiRWRpdE15VXNlckluZm9cIjp0cnVlLFxuICAgICAgICAgKiAgICBcIkVudW1lcmF0ZVBlcm1pc3Npb25zXCI6dHJ1ZSxcbiAgICAgICAgICogICAgXCJGdWxsTWFza1wiOnRydWVcbiAgICAgICAgICogfVxuICAgICAqIDwvcHJlPlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlc29sdmVQZXJtaXNzaW9ucyhwZXJtaXNzaW9uc01hc2s6IHN0cmluZyk6IHtba2V5OiBzdHJpbmddOiBib29sZWFufSB7XG4gICAgICAgIHZhciBwZXJtaXNzaW9uU2V0ID0ge1xuICAgICAgICAgICAgVmlld0xpc3RJdGVtczogKDEgJiBwZXJtaXNzaW9uc01hc2spID4gMCxcbiAgICAgICAgICAgIEFkZExpc3RJdGVtczogKDIgJiBwZXJtaXNzaW9uc01hc2spID4gMCxcbiAgICAgICAgICAgIEVkaXRMaXN0SXRlbXM6ICg0ICYgcGVybWlzc2lvbnNNYXNrKSA+IDAsXG4gICAgICAgICAgICBEZWxldGVMaXN0SXRlbXM6ICg4ICYgcGVybWlzc2lvbnNNYXNrKSA+IDAsXG4gICAgICAgICAgICBBcHByb3ZlSXRlbXM6ICgxNiAmIHBlcm1pc3Npb25zTWFzaykgPiAwLFxuICAgICAgICAgICAgT3Blbkl0ZW1zOiAoMzIgJiBwZXJtaXNzaW9uc01hc2spID4gMCxcbiAgICAgICAgICAgIFZpZXdWZXJzaW9uczogKDY0ICYgcGVybWlzc2lvbnNNYXNrKSA+IDAsXG4gICAgICAgICAgICBEZWxldGVWZXJzaW9uczogKDEyOCAmIHBlcm1pc3Npb25zTWFzaykgPiAwLFxuICAgICAgICAgICAgQ2FuY2VsQ2hlY2tvdXQ6ICgyNTYgJiBwZXJtaXNzaW9uc01hc2spID4gMCxcbiAgICAgICAgICAgIFBlcnNvbmFsVmlld3M6ICg1MTIgJiBwZXJtaXNzaW9uc01hc2spID4gMCxcblxuICAgICAgICAgICAgTWFuYWdlTGlzdHM6ICgyMDQ4ICYgcGVybWlzc2lvbnNNYXNrKSA+IDAsXG4gICAgICAgICAgICBWaWV3Rm9ybVBhZ2VzOiAoNDA5NiAmIHBlcm1pc3Npb25zTWFzaykgPiAwLFxuXG4gICAgICAgICAgICBPcGVuOiAocGVybWlzc2lvbnNNYXNrICYgNjU1MzYpID4gMCxcbiAgICAgICAgICAgIFZpZXdQYWdlczogKHBlcm1pc3Npb25zTWFzayAmIDEzMTA3MikgPiAwLFxuICAgICAgICAgICAgQWRkQW5kQ3VzdG9taXplUGFnZXM6IChwZXJtaXNzaW9uc01hc2sgJiAyNjIxNDQpID4gMCxcbiAgICAgICAgICAgIEFwcGx5VGhlbWVBbmRCb3JkZXI6IChwZXJtaXNzaW9uc01hc2sgJiA1MjQyODgpID4gMCxcbiAgICAgICAgICAgIEFwcGx5U3R5bGVTaGVldHM6ICgxMDQ4NTc2ICYgcGVybWlzc2lvbnNNYXNrKSA+IDAsXG4gICAgICAgICAgICBWaWV3VXNhZ2VEYXRhOiAocGVybWlzc2lvbnNNYXNrICYgMjA5NzE1MikgPiAwLFxuICAgICAgICAgICAgQ3JlYXRlU1NDU2l0ZTogKHBlcm1pc3Npb25zTWFzayAmIDQxOTQzMTQpID4gMCxcbiAgICAgICAgICAgIE1hbmFnZVN1YndlYnM6IChwZXJtaXNzaW9uc01hc2sgJiA4Mzg4NjA4KSA+IDAsXG4gICAgICAgICAgICBDcmVhdGVHcm91cHM6IChwZXJtaXNzaW9uc01hc2sgJiAxNjc3NzIxNikgPiAwLFxuICAgICAgICAgICAgTWFuYWdlUGVybWlzc2lvbnM6IChwZXJtaXNzaW9uc01hc2sgJiAzMzU1NDQzMikgPiAwLFxuICAgICAgICAgICAgQnJvd3NlRGlyZWN0b3JpZXM6IChwZXJtaXNzaW9uc01hc2sgJiA2NzEwODg2NCkgPiAwLFxuICAgICAgICAgICAgQnJvd3NlVXNlckluZm86IChwZXJtaXNzaW9uc01hc2sgJiAxMzQyMTc3MjgpID4gMCxcbiAgICAgICAgICAgIEFkZERlbFByaXZhdGVXZWJQYXJ0czogKHBlcm1pc3Npb25zTWFzayAmIDI2ODQzNTQ1NikgPiAwLFxuICAgICAgICAgICAgVXBkYXRlUGVyc29uYWxXZWJQYXJ0czogKHBlcm1pc3Npb25zTWFzayAmIDUzNjg3MDkxMikgPiAwLFxuICAgICAgICAgICAgTWFuYWdlV2ViOiAocGVybWlzc2lvbnNNYXNrICYgMTA3Mzc0MTgyNCkgPiAwLFxuICAgICAgICAgICAgVXNlUmVtb3RlQVBJczogKHBlcm1pc3Npb25zTWFzayAmIDEzNzQzODk1MzQ3MikgPiAwLFxuICAgICAgICAgICAgTWFuYWdlQWxlcnRzOiAocGVybWlzc2lvbnNNYXNrICYgMjc0ODc3OTA2OTQ0KSA+IDAsXG4gICAgICAgICAgICBDcmVhdGVBbGVydHM6IChwZXJtaXNzaW9uc01hc2sgJiA1NDk3NTU4MTM4ODgpID4gMCxcbiAgICAgICAgICAgIEVkaXRNeVVzZXJJbmZvOiAocGVybWlzc2lvbnNNYXNrICYgMTA5OTUxMTYyNzc3NikgPiAwLFxuICAgICAgICAgICAgRW51bWVyYXRlUGVybWlzc2lvbnM6IChwZXJtaXNzaW9uc01hc2sgJiA0NjExNjg2MDE4NDI3Mzg3OTA0KSA+IDAsXG4gICAgICAgICAgICBGdWxsTWFzazogKHBlcm1pc3Npb25zTWFzayA9PSA5MjIzMzcyMDM2ODU0Nzc1ODA3KVxuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGdWxsIE1hc2sgb25seSByZXNvbHZlcyBjb3JyZWN0bHkgZm9yIHRoZSBGdWxsIE1hc2sgbGV2ZWxcbiAgICAgICAgICogc28gaW4gdGhhdCBjYXNlLCBzZXQgZXZlcnl0aGluZyB0byB0cnVlXG4gICAgICAgICAqL1xuICAgICAgICBpZiAocGVybWlzc2lvblNldC5GdWxsTWFzaykge1xuICAgICAgICAgICAgXy5lYWNoKHBlcm1pc3Npb25TZXQsIGZ1bmN0aW9uIChwZXJtLCBrZXkpIHtcbiAgICAgICAgICAgICAgICBwZXJtaXNzaW9uU2V0W2tleV0gPSB0cnVlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcGVybWlzc2lvblNldDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBVdGlsaXR5U2VydmljZTpjb252ZXJ0RWZmZWN0aXZlUGVybU1hc2tcbiAgICAgKiBAbWV0aG9kT2YgYW5ndWxhclBvaW50LmFwVXRpbGl0eVNlcnZpY2VcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBHZXRMaXN0SXRlbXNTaW5jZVRva2VuIG9wZXJhdGlvbiByZXR1cm5zIHRoZSBsaXN0IGVsZW1lbnQgd2l0aCBhbiBFZmZlY3RpdmVQZXJtTWFzayBhdHRyaWJ1dGUgd2hpY2ggaXMgdGhlXG4gICAgICogbmFtZSBvZiB0aGUgUGVybWlzc2lvbk1hc2suICBXZSB0aGVuIG5lZWQgdG8gY29udmVydCB0aGUgbmFtZSBpbnRvIGFuIGFjdHVhbCBtYXNrIHNvIHRoaXMgZnVuY3Rpb24gY29udGFpbnNcbiAgICAgKiB0aGUga25vd24gcGVybWlzc2lvbiBuYW1lcyB3aXRoIHRoZWlyIG1hc2tzLiAgSWYgYSBwcm92aWRlZCBtYXNrIG5hbWUgaXMgZm91bmQsIHRoZSBjb29yZXNwb25kaW5nIG1hc2tcbiAgICAgKiBpcyByZXR1cm5lZC4gIE90aGVyd2lzZSByZXR1cm5zIG51bGwuICBbTVNETiBTb3VyY2VdKGh0dHA6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9qajU3NTE3OCh2PW9mZmljZS4xMikuYXNweClcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGVybU1hc2tOYW1lIFBlcm1pc3Npb24gbWFzayBuYW1lLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd8bnVsbH0gUmV0dXJuIHRoZSBtYXNrIGZvciB0aGUgbmFtZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb252ZXJ0RWZmZWN0aXZlUGVybU1hc2socGVybU1hc2tOYW1lOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICB2YXIgcGVybWlzc2lvbk1hc2sgPSBudWxsO1xuXG4gICAgICAgIHZhciBwZXJtaXNzaW9ucyA9IHtcbiAgICAgICAgICAgIC8vR2VuZXJhbFxuICAgICAgICAgICAgRW1wdHlNYXNrOiAnMHgwMDAwMDAwMDAwMDAwMDAwJyxcbiAgICAgICAgICAgIEZ1bGxNYXNrOiAnMHg3RkZGRkZGRkZGRkZGRkZGJyxcblxuICAgICAgICAgICAgLy9MaXN0IGFuZCBkb2N1bWVudCBwZXJtaXNzaW9uc1xuICAgICAgICAgICAgVmlld0xpc3RJdGVtczogJzB4MDAwMDAwMDAwMDAwMDAwMScsXG4gICAgICAgICAgICBBZGRMaXN0SXRlbXM6ICcnLFxuICAgICAgICAgICAgRWRpdExpc3RJdGVtczogJzB4MDAwMDAwMDAwMDAwMDAwNCcsXG4gICAgICAgICAgICBEZWxldGVMaXN0SXRlbXM6ICcweDAwMDAwMDAwMDAwMDAwMDgnLFxuICAgICAgICAgICAgQXBwcm92ZUl0ZW1zOiAnMHgwMDAwMDAwMDAwMDAwMDEwJyxcbiAgICAgICAgICAgIE9wZW5JdGVtczogJzB4MDAwMDAwMDAwMDAwMDAyMCcsXG4gICAgICAgICAgICBWaWV3VmVyc2lvbnM6ICcweDAwMDAwMDAwMDAwMDAwNDAnLFxuICAgICAgICAgICAgRGVsZXRlVmVyc2lvbnM6ICcweDAwMDAwMDAwMDAwMDAwODAnLFxuICAgICAgICAgICAgQ2FuY2VsQ2hlY2tvdXQ6ICcweDAwMDAwMDAwMDAwMDAxMDAnLFxuICAgICAgICAgICAgTWFuYWdlUGVyc29uYWxWaWV3czogJzB4MDAwMDAwMDAwMDAwMDIwMCcsXG4gICAgICAgICAgICBNYW5hZ2VMaXN0czogJzB4MDAwMDAwMDAwMDAwMDgwMCcsXG4gICAgICAgICAgICBWaWV3Rm9ybVBhZ2VzOiAnMHgwMDAwMDAwMDAwMDAxMDAwJyxcblxuICAgICAgICAgICAgLy9XZWIgbGV2ZWwgcGVybWlzc2lvbnNcbiAgICAgICAgICAgIE9wZW46ICcweDAwMDAwMDAwMDAwMTAwMDAnLFxuICAgICAgICAgICAgVmlld1BhZ2VzOiAnMHgwMDAwMDAwMDAwMDIwMDAwJyxcbiAgICAgICAgICAgIEFkZEFuZEN1c3RvbWl6ZVBhZ2VzOiAnMHgwMDAwMDAwMDAwMDQwMDAwJyxcbiAgICAgICAgICAgIEFwcGx5VGhlbWVBbmRCb3JkZXI6ICcweDAwMDAwMDAwMDAwODAwMDAnLFxuICAgICAgICAgICAgQXBwbHlTdHlsZVNoZWV0czogJzB4MDAwMDAwMDAwMDEwMDAwMCcsXG4gICAgICAgICAgICBWaWV3VXNhZ2VEYXRhOiAnMHgwMDAwMDAwMDAwMjAwMDAwJyxcbiAgICAgICAgICAgIENyZWF0ZVNTQ1NpdGU6ICcweDAwMDAwMDAwMDA0MDAwMDAnLFxuICAgICAgICAgICAgTWFuYWdlU3Vid2ViczogJzB4MDAwMDAwMDAwMDgwMDAwMCcsXG4gICAgICAgICAgICBDcmVhdGVHcm91cHM6ICcweDAwMDAwMDAwMDEwMDAwMDAnLFxuICAgICAgICAgICAgTWFuYWdlUGVybWlzc2lvbnM6ICcweDAwMDAwMDAwMDIwMDAwMDAnLFxuICAgICAgICAgICAgQnJvd3NlRGlyZWN0b3JpZXM6ICcweDAwMDAwMDAwMDQwMDAwMDAnLFxuICAgICAgICAgICAgQnJvd3NlVXNlckluZm86ICcweDAwMDAwMDAwMDgwMDAwMDAnLFxuICAgICAgICAgICAgQWRkRGVsUHJpdmF0ZVdlYlBhcnRzOiAnMHgwMDAwMDAwMDEwMDAwMDAwJyxcbiAgICAgICAgICAgIFVwZGF0ZVBlcnNvbmFsV2ViUGFydHM6ICcweDAwMDAwMDAwMjAwMDAwMDAnLFxuICAgICAgICAgICAgTWFuYWdlV2ViOiAnMHgwMDAwMDAwMDQwMDAwMDAwJyxcbiAgICAgICAgICAgIFVzZUNsaWVudEludGVncmF0aW9uOiAnMHgwMDAwMDAxMDAwMDAwMDAwJyxcbiAgICAgICAgICAgIFVzZVJlbW90ZUFQSXM6ICcweDAwMDAwMDIwMDAwMDAwMDAnLFxuICAgICAgICAgICAgTWFuYWdlQWxlcnRzOiAnMHgwMDAwMDA0MDAwMDAwMDAwJyxcbiAgICAgICAgICAgIENyZWF0ZUFsZXJ0czogJzB4MDAwMDAwODAwMDAwMDAwMCcsXG4gICAgICAgICAgICBFZGl0TXlVc2VySW5mbzogJzB4MDAwMDAxMDAwMDAwMDAwMCcsXG5cbiAgICAgICAgICAgIC8vU3BlY2lhbCBQZXJtaXNzaW9uc1xuICAgICAgICAgICAgRW51bWVyYXRlUGVybWlzc2lvbnM6ICcweDQwMDAwMDAwMDAwMDAwMDAnXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKHBlcm1pc3Npb25zW3Blcm1NYXNrTmFtZV0pIHtcbiAgICAgICAgICAgIHBlcm1pc3Npb25NYXNrID0gcGVybWlzc2lvbnNbcGVybU1hc2tOYW1lXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGVybWlzc2lvbk1hc2s7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdG9DYW1lbENhc2Uoc3RyKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHN0ci5yZXBsYWNlKC8oPzpeXFx3fFtBLVpdfFxcYlxcdykvZywgZnVuY3Rpb24gKGxldHRlciwgaW5kZXgpIHtcbiAgICAgICAgICAgIHJldHVybiBpbmRleCA9PSAwID8gbGV0dGVyLnRvTG93ZXJDYXNlKCkgOiBsZXR0ZXIudG9VcHBlckNhc2UoKTtcbiAgICAgICAgfSkucmVwbGFjZSgvXFxzKy9nLCAnJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgYW5ndWxhclBvaW50LmFwVXRpbGl0eVNlcnZpY2U6ZnJvbUNhbWVsQ2FzZVxuICAgICAqIEBtZXRob2RPZiBhbmd1bGFyUG9pbnQuYXBVdGlsaXR5U2VydmljZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdHIgU3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogQ29udmVydHMgYSBjYW1lbCBjYXNlIHN0cmluZyBpbnRvIGEgc3BhY2UgZGVsaW1pdGVkIHN0cmluZyB3aXRoIGVhY2ggd29yZCBoYXZpbmcgYSBjYXBpdGFsaXplZCBmaXJzdCBsZXR0ZXIuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gSHVtYW5pemVkIHN0cmluZy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmcm9tQ2FtZWxDYXNlKHN0cik6IHN0cmluZyB7XG4gICAgICAgIC8vIGluc2VydCBhIHNwYWNlIGJlZm9yZSBhbGwgY2Fwc1xuICAgICAgICByZXR1cm4gc3RyLnJlcGxhY2UoLyhbQS1aXSkvZywgJyAkMScpXG4gICAgICAgICAgICAvLyB1cHBlcmNhc2UgdGhlIGZpcnN0IGNoYXJhY3RlclxuICAgICAgICAgICAgLnJlcGxhY2UoL14uLywgZnVuY3Rpb24gKHN0cikge1xuICAgICAgICAgICAgICAgIHJldHVybiBzdHIudG9VcHBlckNhc2UoKTtcbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIFNwbGl0IHZhbHVlcyBsaWtlIDE7I3ZhbHVlIGludG8gaWQgYW5kIHZhbHVlXG4gICAgY2xhc3MgU3BsaXRJbmRleHtcbiAgICAgICAgaWQ6IG51bWJlcjtcbiAgICAgICAgdmFsdWU6IHN0cmluZztcbiAgICAgICAgY29uc3RydWN0b3Ioc3RyKSB7XG4gICAgICAgICAgICB2YXIgc3BsID0gc3RyLnNwbGl0KCc7IycpO1xuICAgICAgICAgICAgdGhpcy5pZCA9IHBhcnNlSW50KHNwbFswXSwgMTApO1xuICAgICAgICAgICAgdGhpcy52YWx1ZSA9IHNwbFsxXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcFV0aWxpdHlTZXJ2aWNlOnN0cmluZ2lmeVhNTFxuICAgICAqIEBtZXRob2RPZiBhbmd1bGFyUG9pbnQuYXBVdGlsaXR5U2VydmljZVxuICAgICAqIEBkZXNjcmlwdGlvbiBTaW1wbGUgdXRpbGl0eSB0byBjb252ZXJ0IGFuIFhNTCBvYmplY3QgaW50byBhIHN0cmluZyBhbmQgcmVtb3ZlIHVubmVjZXNzYXJ5IHdoaXRlc3BhY2UuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHhtbCBYTUwgb2JqZWN0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFN0cmluZ2lmaWVkIHZlcnNpb24gb2YgdGhlIFhNTCBvYmplY3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3RyaW5naWZ5WE1MKHhtbDogWE1MRG9jdW1lbnQpOiBzdHJpbmcge1xuICAgICAgICB2YXIgc3RyO1xuXG4gICAgICAgIGlmIChfLmlzT2JqZWN0KHhtbCkpIHtcbiAgICAgICAgICAgIHN0ciA9IHhtbFRvU3RyaW5nKHhtbCkucmVwbGFjZSgvXFxzKy9nLCAnICcpO1xuICAgICAgICB9IGVsc2UgaWYgKF8uaXNTdHJpbmcoeG1sKSkge1xuICAgICAgICAgICAgc3RyID0geG1sO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24geG1sVG9TdHJpbmcoeG1sRGF0YSkge1xuICAgICAgICB2YXIgeG1sU3RyaW5nO1xuICAgICAgICBpZiAodHlwZW9mIFhNTFNlcmlhbGl6ZXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAvKiogTW9kZXJuIEJyb3dzZXJzICovXG4gICAgICAgICAgICB4bWxTdHJpbmcgPSAobmV3IFhNTFNlcmlhbGl6ZXIoKSkuc2VyaWFsaXplVG9TdHJpbmcoeG1sRGF0YSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvKiogT2xkIHZlcnNpb25zIG9mIElFICovXG4gICAgICAgICAgICB4bWxTdHJpbmcgPSB4bWxEYXRhLnhtbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geG1sU3RyaW5nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcFV0aWxpdHlTZXJ2aWNlOnJlZ2lzdGVyQ2hhbmdlXG4gICAgICogQG1ldGhvZE9mIGFuZ3VsYXJQb2ludC5hcFV0aWxpdHlTZXJ2aWNlXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogSWYgb25saW5lIGFuZCBzeW5jIGlzIGJlaW5nIHVzZWQsIG5vdGlmeSBhbGwgb25saW5lIHVzZXJzIHRoYXQgYSBjaGFuZ2UgaGFzIGJlZW4gbWFkZS5cbiAgICAgKiAvL1RvZG8gQnJlYWsgdGhpcyBmdW5jdGlvbmFsaXR5IGludG8gRmlyZUJhc2UgbW9kdWxlIHRoYXQgY2FuIGJlIHVzZWQgaWYgZGVzaXJlZC5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gbW9kZWwgZXZlbnRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZWdpc3RlckNoYW5nZShtb2RlbCwgY2hhbmdlVHlwZTogc3RyaW5nLCBsaXN0SXRlbUlkOiBudW1iZXIpIHtcbiAgICAgICAgLyoqIERpc2FibGVkIHRoaXMgZnVuY3Rpb25hbGl0eSB1bnRpbCBJIGNhbiBzcGVuZCB0aGUgbmVjZXNzYXJ5IHRpbWUgdG8gdGVzdCAqL1xuICAgICAgICBpZiAobW9kZWwuc3luYyAmJiBfLmlzRnVuY3Rpb24obW9kZWwuc3luYy5yZWdpc3RlckNoYW5nZSkpIHtcbiAgICAgICAgICAgIC8qKiBSZWdpc3RlciBjaGFuZ2UgYWZ0ZXIgc3VjY2Vzc2Z1bCB1cGRhdGUgKi9cbiAgICAgICAgICAgIG1vZGVsLnN5bmMucmVnaXN0ZXJDaGFuZ2UoY2hhbmdlVHlwZSwgbGlzdEl0ZW1JZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2Mgc2VydmljZVxuICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcFV0aWxpdHlTZXJ2aWNlXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogUHJvdmlkZXMgc2hhcmVkIHV0aWxpdHkgZnVuY3Rpb25hbGl0eSBhY3Jvc3MgdGhlIGFwcGxpY2F0aW9uLlxuICAgICAqXG4gICAgICogQHJlcXVpcmVzIGFuZ3VsYXJQb2ludC5hcENvbmZpZ1xuICAgICAqL1xuICAgIGFuZ3VsYXIubW9kdWxlKCdhbmd1bGFyUG9pbnQnKVxuICAgICAgICAuc2VydmljZSgnYXBVdGlsaXR5U2VydmljZScsIFV0aWxpdHlTZXJ2aWNlKTtcblxufVxuIiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3MvYXAuZC50c1wiIC8+XG5cbm1vZHVsZSBhcCB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIFNDSEVNQVNoYXJlUG9pbnQgPSBcImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vc2hhcmVwb2ludFwiO1xuICAgIHZhciBzZXJ2aWNlRGVmaW5pdGlvbnMgPSB7XG4gICAgICAgIEFsZXJ0czoge1xuICAgICAgICAgICAgYWN0aW9uOiBTQ0hFTUFTaGFyZVBvaW50ICsgJy9zb2FwLzIwMDIvMS9hbGVydHMvJyxcbiAgICAgICAgICAgIHhtbG5zOiBTQ0hFTUFTaGFyZVBvaW50ICsgJy9zb2FwLzIwMDIvMS9hbGVydHMvJ1xuICAgICAgICB9LFxuICAgICAgICBNZWV0aW5nczoge1xuICAgICAgICAgICAgYWN0aW9uOiBTQ0hFTUFTaGFyZVBvaW50ICsgJy9zb2FwL21lZXRpbmdzLycsXG4gICAgICAgICAgICB4bWxuczogU0NIRU1BU2hhcmVQb2ludCArICcvc29hcC9tZWV0aW5ncy8nXG4gICAgICAgIH0sXG4gICAgICAgIFBlcm1pc3Npb25zOiB7XG4gICAgICAgICAgICBhY3Rpb246IFNDSEVNQVNoYXJlUG9pbnQgKyAnL3NvYXAvZGlyZWN0b3J5LycsXG4gICAgICAgICAgICB4bWxuczogU0NIRU1BU2hhcmVQb2ludCArICcvc29hcC9kaXJlY3RvcnkvJ1xuICAgICAgICB9LFxuICAgICAgICBQdWJsaXNoZWRMaW5rc1NlcnZpY2U6IHtcbiAgICAgICAgICAgIGFjdGlvbjogJ2h0dHA6Ly9taWNyb3NvZnQuY29tL3dlYnNlcnZpY2VzL1NoYXJlUG9pbnRQb3J0YWxTZXJ2ZXIvUHVibGlzaGVkTGlua3NTZXJ2aWNlLycsXG4gICAgICAgICAgICB4bWxuczogJ2h0dHA6Ly9taWNyb3NvZnQuY29tL3dlYnNlcnZpY2VzL1NoYXJlUG9pbnRQb3J0YWxTZXJ2ZXIvUHVibGlzaGVkTGlua3NTZXJ2aWNlLydcbiAgICAgICAgfSxcbiAgICAgICAgU2VhcmNoOiB7XG4gICAgICAgICAgICBhY3Rpb246ICd1cm46TWljcm9zb2Z0LlNlYXJjaC8nLFxuICAgICAgICAgICAgeG1sbnM6ICd1cm46TWljcm9zb2Z0LlNlYXJjaCdcbiAgICAgICAgfSxcbiAgICAgICAgU2hhcmVQb2ludERpYWdub3N0aWNzOiB7XG4gICAgICAgICAgICBhY3Rpb246ICdodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3NoYXJlcG9pbnQvZGlhZ25vc3RpY3MvJyxcbiAgICAgICAgICAgIHhtbG5zOiBTQ0hFTUFTaGFyZVBvaW50ICsgJy9kaWFnbm9zdGljcy8nXG4gICAgICAgIH0sXG4gICAgICAgIFNvY2lhbERhdGFTZXJ2aWNlOiB7XG4gICAgICAgICAgICBhY3Rpb246ICdodHRwOi8vbWljcm9zb2Z0LmNvbS93ZWJzZXJ2aWNlcy9TaGFyZVBvaW50UG9ydGFsU2VydmVyL1NvY2lhbERhdGFTZXJ2aWNlLycsXG4gICAgICAgICAgICB4bWxuczogJ2h0dHA6Ly9taWNyb3NvZnQuY29tL3dlYnNlcnZpY2VzL1NoYXJlUG9pbnRQb3J0YWxTZXJ2ZXIvU29jaWFsRGF0YVNlcnZpY2UnXG4gICAgICAgIH0sXG4gICAgICAgIFNwZWxsQ2hlY2s6IHtcbiAgICAgICAgICAgIGFjdGlvbjogJ2h0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vc2hhcmVwb2ludC9wdWJsaXNoaW5nL3NwZWxsaW5nL1NwZWxsQ2hlY2snLFxuICAgICAgICAgICAgeG1sbnM6ICdodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3NoYXJlcG9pbnQvcHVibGlzaGluZy9zcGVsbGluZy8nXG4gICAgICAgIH0sXG4gICAgICAgIFRheG9ub215Q2xpZW50U2VydmljZToge1xuICAgICAgICAgICAgYWN0aW9uOiBTQ0hFTUFTaGFyZVBvaW50ICsgJy90YXhvbm9teS9zb2FwLycsXG4gICAgICAgICAgICB4bWxuczogU0NIRU1BU2hhcmVQb2ludCArICcvdGF4b25vbXkvc29hcC8nXG4gICAgICAgIH0sXG4gICAgICAgIHVzZXJncm91cDoge1xuICAgICAgICAgICAgYWN0aW9uOiBTQ0hFTUFTaGFyZVBvaW50ICsgJy9zb2FwL2RpcmVjdG9yeS8nLFxuICAgICAgICAgICAgeG1sbnM6IFNDSEVNQVNoYXJlUG9pbnQgKyAnL3NvYXAvZGlyZWN0b3J5LydcbiAgICAgICAgfSxcbiAgICAgICAgVXNlclByb2ZpbGVTZXJ2aWNlOiB7XG4gICAgICAgICAgICBhY3Rpb246ICdodHRwOi8vbWljcm9zb2Z0LmNvbS93ZWJzZXJ2aWNlcy9TaGFyZVBvaW50UG9ydGFsU2VydmVyL1VzZXJQcm9maWxlU2VydmljZS8nLFxuICAgICAgICAgICAgeG1sbnM6ICdodHRwOi8vbWljcm9zb2Z0LmNvbS93ZWJzZXJ2aWNlcy9TaGFyZVBvaW50UG9ydGFsU2VydmVyL1VzZXJQcm9maWxlU2VydmljZSdcbiAgICAgICAgfSxcbiAgICAgICAgV2ViUGFydFBhZ2VzOiB7XG4gICAgICAgICAgICBhY3Rpb246ICdodHRwOi8vbWljcm9zb2Z0LmNvbS9zaGFyZXBvaW50L3dlYnBhcnRwYWdlcy8nLFxuICAgICAgICAgICAgeG1sbnM6ICdodHRwOi8vbWljcm9zb2Z0LmNvbS9zaGFyZXBvaW50L3dlYnBhcnRwYWdlcydcbiAgICAgICAgfSxcbiAgICAgICAgV29ya2Zsb3c6IHtcbiAgICAgICAgICAgIGFjdGlvbjogU0NIRU1BU2hhcmVQb2ludCArICcvc29hcC93b3JrZmxvdy8nLFxuICAgICAgICAgICAgeG1sbnM6IFNDSEVNQVNoYXJlUG9pbnQgKyAnL3NvYXAvd29ya2Zsb3cvJ1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGV4cG9ydCBjbGFzcyBXZWJTZXJ2aWNlU2VydmljZXtcbiAgICAgICAgYWN0aW9uKHNlcnZpY2UpIHtcbiAgICAgICAgICAgIHJldHVybiBzZXJ2aWNlRGVmaW5pdGlvbnNbc2VydmljZV0gPyBzZXJ2aWNlRGVmaW5pdGlvbnNbc2VydmljZV0uYWN0aW9uIDogU0NIRU1BU2hhcmVQb2ludCArICcvc29hcC8nO1xuICAgICAgICB9XG4gICAgICAgIHdlYlNlcnZpY2VzID0gW1xuICAgICAgICAgICAgJ0FsZXJ0cycsXG4gICAgICAgICAgICAnQXV0aGVudGljYXRpb24nLFxuICAgICAgICAgICAgJ0NvcHknLFxuICAgICAgICAgICAgJ0Zvcm1zJyxcbiAgICAgICAgICAgICdMaXN0cycsXG4gICAgICAgICAgICAnTWVldGluZ3MnLFxuICAgICAgICAgICAgJ1Blb3BsZScsXG4gICAgICAgICAgICAnUGVybWlzc2lvbnMnLFxuICAgICAgICAgICAgJ1B1Ymxpc2hlZExpbmtzU2VydmljZScsXG4gICAgICAgICAgICAnU2VhcmNoJyxcbiAgICAgICAgICAgICdTaGFyZVBvaW50RGlhZ25vc3RpY3MnLFxuICAgICAgICAgICAgJ1NpdGVEYXRhJyxcbiAgICAgICAgICAgICdTaXRlcycsXG4gICAgICAgICAgICAnU29jaWFsRGF0YVNlcnZpY2UnLFxuICAgICAgICAgICAgJ1NwZWxsQ2hlY2snLFxuICAgICAgICAgICAgJ1RheG9ub215Q2xpZW50U2VydmljZScsXG4gICAgICAgICAgICAndXNlcmdyb3VwJyxcbiAgICAgICAgICAgICdVc2VyUHJvZmlsZVNlcnZpY2UnLFxuICAgICAgICAgICAgJ1ZlcnNpb25zJyxcbiAgICAgICAgICAgICdWaWV3cycsXG4gICAgICAgICAgICAnV2ViUGFydFBhZ2VzJyxcbiAgICAgICAgICAgICdXZWJzJyxcbiAgICAgICAgICAgICdXb3JrZmxvdydcbiAgICAgICAgXTtcbiAgICAgICAgeG1sbnMoc2VydmljZSkge1xuICAgICAgICAgICAgcmV0dXJuIHNlcnZpY2VEZWZpbml0aW9uc1tzZXJ2aWNlXSA/IHNlcnZpY2VEZWZpbml0aW9uc1tzZXJ2aWNlXS54bWxucyA6IFNDSEVNQVNoYXJlUG9pbnQgKyAnL3NvYXAvJztcbiAgICAgICAgfVxuICAgIH1cblxuXG4vLyAgYXBXZWJTZXJ2aWNlT3BlcmF0aW9uQ29uc3RhbnRzLk9wTmFtZSA9IFtXZWJTZXJ2aWNlLCBuZWVkc19TT0FQQWN0aW9uXTtcbi8vICAgICAgT3BOYW1lICAgICAgICAgICAgICBUaGUgbmFtZSBvZiB0aGUgV2ViIFNlcnZpY2Ugb3BlcmF0aW9uIC0+IFRoZXNlIG5hbWVzIGFyZSB1bmlxdWVcbi8vICAgICAgV2ViU2VydmljZSAgICAgICAgICBUaGUgbmFtZSBvZiB0aGUgV2ViU2VydmljZSB0aGlzIG9wZXJhdGlvbiBiZWxvbmdzIHRvXG4vLyAgICAgIG5lZWRzX1NPQVBBY3Rpb24gICAgQm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIG9wZXJhdGlvbiBuZWVkcyB0byBoYXZlIHRoZSBTT0FQQWN0aW9uIHBhc3NlZCBpbiB0aGVcbi8vIHNldFJlcXVlc3RIZWFkZXJmdW5jdGlvbi4gdHJ1ZSBpZiB0aGUgb3BlcmF0aW9uIGRvZXMgYSB3cml0ZSwgZWxzZSBmYWxzZVxuICAgIGFuZ3VsYXIubW9kdWxlKCdhbmd1bGFyUG9pbnQnKVxuICAgICAgICAuc2VydmljZSgnYXBXZWJTZXJ2aWNlU2VydmljZScsIFdlYlNlcnZpY2VTZXJ2aWNlKTtcblxufVxuIiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3MvYXAuZC50c1wiIC8+XG5cbm1vZHVsZSBhcCB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgZXhwb3J0IGNsYXNzIFhNTFRvSlNPTlNlcnZpY2V7XG4gICAgICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgYXBEZWNvZGVTZXJ2aWNlOiBEZWNvZGVTZXJ2aWNlKSB7XG5cbiAgICAgICAgfVxuICAgICAgICBwYXJzZSh4bWxOb2RlU2V0OiBYTUxEb2N1bWVudCwgb3B0aW9ucz86IHtpbmNsdWRlQWxsQXR0cnM6IGJvb2xlYW47IG1hcHBpbmc6IE9iamVjdDsgcmVtb3ZlT3dzOiBib29sZWFuOyBzcGFyc2U6IGJvb2xlYW47IH0pOiBPYmplY3RbXSB7XG4gICAgICAgICAgICB2YXIgZGVmYXVsdHMgPSB7XG4gICAgICAgICAgICAgICAgaW5jbHVkZUFsbEF0dHJzOiBmYWxzZSwgLy8gSWYgdHJ1ZSwgcmV0dXJuIGFsbCBhdHRyaWJ1dGVzLCByZWdhcmRsZXNzIHdoZXRoZXIgdGhleSBhcmUgaW4gdGhlIG1hcHBpbmdcbiAgICAgICAgICAgICAgICBtYXBwaW5nOiB7fSwgLy8gY29sdW1uTmFtZTogbWFwcGVkTmFtZTogXCJtYXBwZWROYW1lXCIsIG9iamVjdFR5cGU6IFwib2JqZWN0VHlwZVwiXG4gICAgICAgICAgICAgICAgcmVtb3ZlT3dzOiB0cnVlLCAvLyBTcGVjaWZpY2FsbHkgZm9yIEdldExpc3RJdGVtcywgaWYgdHJ1ZSwgdGhlIGxlYWRpbmcgb3dzXyB3aWxsIGJlIHN0cmlwcGVkIG9mZiB0aGUgZmllbGQgbmFtZVxuICAgICAgICAgICAgICAgIHNwYXJzZTogZmFsc2UgLy8gSWYgdHJ1ZSwgZW1wdHkgKFwiXCIpIHZhbHVlcyB3aWxsIG5vdCBiZSByZXR1cm5lZFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdmFyIG9wdHMgPSBfLmV4dGVuZCh7fSwgZGVmYXVsdHMsIG9wdGlvbnMpO1xuXG4gICAgICAgICAgICB2YXIganNvbk9iamVjdEFycmF5ID0gW107XG5cbiAgICAgICAgICAgIF8uZWFjaCh4bWxOb2RlU2V0LCAobm9kZSkgPT4ge1xuICAgICAgICAgICAgICAgIHZhciByb3cgPSB7fTtcbiAgICAgICAgICAgICAgICB2YXIgcm93QXR0cnMgPSBub2RlLmF0dHJpYnV0ZXM7XG5cbiAgICAgICAgICAgICAgICBpZiAoIW9wdHMuc3BhcnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEJyaW5nIGJhY2sgYWxsIG1hcHBlZCBjb2x1bW5zLCBldmVuIHRob3NlIHdpdGggbm8gdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgXy5lYWNoKG9wdHMubWFwcGluZywgKGNvbHVtbikgPT4gcm93W2NvbHVtbi5tYXBwZWROYW1lXSA9ICcnKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBfLmVhY2gocm93QXR0cnMsIChyb3dBdHRyaWJ1dGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGF0dHJpYnV0ZU5hbWUgPSByb3dBdHRyaWJ1dGUubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbHVtbk1hcHBpbmcgPSBvcHRzLm1hcHBpbmdbYXR0cmlidXRlTmFtZV07XG4gICAgICAgICAgICAgICAgICAgIHZhciBvYmplY3ROYW1lID0gdHlwZW9mIGNvbHVtbk1hcHBpbmcgIT09IFwidW5kZWZpbmVkXCIgPyBjb2x1bW5NYXBwaW5nLm1hcHBlZE5hbWUgOiBvcHRzLnJlbW92ZU93cyA/IGF0dHJpYnV0ZU5hbWUuc3BsaXQoXCJvd3NfXCIpWzFdIDogYXR0cmlidXRlTmFtZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9iamVjdFR5cGUgPSB0eXBlb2YgY29sdW1uTWFwcGluZyAhPT0gXCJ1bmRlZmluZWRcIiA/IGNvbHVtbk1hcHBpbmcub2JqZWN0VHlwZSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdHMuaW5jbHVkZUFsbEF0dHJzIHx8IGNvbHVtbk1hcHBpbmcgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcm93W29iamVjdE5hbWVdID0gdGhpcy5hcERlY29kZVNlcnZpY2UucGFyc2VTdHJpbmdWYWx1ZShyb3dBdHRyaWJ1dGUudmFsdWUsIG9iamVjdFR5cGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAvLyBQdXNoIHRoaXMgaXRlbSBpbnRvIHRoZSBKU09OIE9iamVjdFxuICAgICAgICAgICAgICAgIGpzb25PYmplY3RBcnJheS5wdXNoKHJvdyk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gUmV0dXJuIHRoZSBKU09OIG9iamVjdFxuICAgICAgICAgICAgcmV0dXJuIGpzb25PYmplY3RBcnJheTtcblxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIHNlcnZpY2VcbiAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBYTUxUb0pTT05TZXJ2aWNlXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogVGhpcyBmdW5jdGlvbiBjb252ZXJ0cyBhbiBYTUwgbm9kZSBzZXQgaW50byBhbiBhcnJheSBvZiBKUyBvYmplY3RzLlxuICAgICAqIFRoaXMgaXMgZXNzZW50aWFsbHkgTWFyYyBBbmRlcnNvbidzIFtTUFNlcnZpY2VzXShodHRwOi8vc3BzZXJ2aWNlcy5jb2RlcGxleC5jb20vKSBTUFhtbFRPSnNvbiBmdW5jdGlvbiB3cmFwcGVkIGluXG4gICAgICogYW4gQW5ndWxhciBzZXJ2aWNlIHRvIG1ha2UgaXQgbW9yZSBtb2R1bGFyIGFuZCBhbGxvdyBmb3IgdGVzdGluZy5cbiAgICAgKlxuICAgICAqL1xuICAgIGFuZ3VsYXIubW9kdWxlKCdhbmd1bGFyUG9pbnQnKVxuICAgICAgICAuc2VydmljZSgnYXBYTUxUb0pTT05TZXJ2aWNlJywgWE1MVG9KU09OU2VydmljZSk7XG5cblxufVxuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9