/// <reference path="../typings/ap.d.ts" />
var ap;
(function (ap) {
    'use strict';
    try {
        angular.module('toastr');
    }
    catch (e) {
        /** Toastr wasn't found so redirect all toastr requests to $log */
        angular.module('toastr', []).factory('toastr', function ($log) {
            return {
                error: $log.error,
                info: $log.info,
                success: $log.info,
                warning: $log.warn
            };
        });
    }
    /**
     * @ngdoc overview
     * @module
     * @name angularPoint
     * @description
     * This is the primary angularPoint module and needs to be listed in your app.js dependencies to gain use of AngularPoint
     * functionality in your project.
     * @installModule
     */
    angular.module('angularPoint', [
        'toastr'
    ]);
})(ap || (ap = {}));

/// <reference path="../typings/ap.d.ts" />
var ap;
(function (ap) {
    'use strict';
    angular.module('angularPoint').config(Config);
    function Config(apConfig) {
        /** Add a convenience flag, inverse of offline */
        apConfig.online = !apConfig.offline;
    }
})(ap || (ap = {}));

/// <reference path="../../typings/ap.d.ts" />
/**
 * @ngdoc object
 * @name angularPoint.apConfig
 * @description
 * Basic config for the application (unique for each environment).  Update to change for your environment.
 *
 * @param {string} appTitle Name of the application in case you need to reference.
 * @param {boolean} debug Determines if we should show debug code.
 * @param {string} defaultUrl Automatically sets the defaultUrl for web service calls so we don't need to make the
 * initial blocking call by SPServices.
 * @param {string} [defaultQueryName='primary'] The name that a query is registered with on a model if a name isn't specified.
 * @param {string} [firebaseUrl] Necessary if you're using apSyncService.  Look there for more details.
 * @param {boolean} [offline] Automatically set based on the URL of the site.  Pulls offline XML when hosted locally.
 * @param {string} [offlineXML='dev/'] The location to look for offline xml files.
 * @example
 * <h4>Default Configuration</h4>
 * <pre>
 * .constant('apConfig', {
 *     appTitle: 'Angular-Point',
 *     debugEnabled: true,
 *     firebaseURL: "The optional url of your firebase source",
 *     offline: window.location.href.indexOf('localhost') > -1 ||
 *         window.location.href.indexOf('http://0.') > -1 ||
 *         window.location.href.indexOf('http://10.') > -1 ||
 *         window.location.href.indexOf('http://192.') > -1
 * })
 * </pre>
 *
 * <h4>To Override</h4>
 * <pre>
 * angular.module('MyApp', ['my dependencies'])
 *      .config(function ($stateProvider, $urlRouterProvider) {
 *          //My routes
 *      })
 *      .run(function(apConfig) {
 *          //To set the default site root
 *          apConfig.defaultUrl =
 *            '//sharepoint.myserver.com/siteRoot';
 *
 *          //To set the default location to look for
 *          //offline xml files.
 *          apConfig.offlineXML = 'myCachedQueries/';
 *      });
 * </pre>
 */
var ap;
(function (ap) {
    'use strict';
    ap.APConfig = {
        appTitle: 'Angular-Point',
        debug: false,
        defaultQueryName: 'primary',
        defaultUrl: '',
        environment: 'production',
        firebaseURL: "The optional url of your firebase source",
        offline: window.location.href.indexOf('localhost') > -1 || window.location.href.indexOf('http://0.') > -1 || window.location.href.indexOf('http://10.') > -1 || window.location.href.indexOf('http://127.') > -1 || window.location.href.indexOf('http://192.') > -1,
        offlineXML: 'dev/'
    };
    angular.module('angularPoint').constant('apConfig', ap.APConfig);
})(ap || (ap = {}));

/// <reference path="../../typings/ap.d.ts" />
var ap;
(function (ap) {
    'use strict';
    ap.DefaultFields = [
        { staticName: 'ID', objectType: 'Counter', mappedName: 'id', readOnly: true },
        { staticName: 'Modified', objectType: 'DateTime', mappedName: 'modified', readOnly: true },
        { staticName: 'Created', objectType: 'DateTime', mappedName: 'created', readOnly: true },
        { staticName: 'Author', objectType: 'User', mappedName: 'author', readOnly: true },
        { staticName: 'Editor', objectType: 'User', mappedName: 'editor', readOnly: true },
        { staticName: 'PermMask', objectType: 'Mask', mappedName: 'permMask', readOnly: true },
        { staticName: 'UniqueId', objectType: 'String', mappedName: 'uniqueId', readOnly: true },
        { staticName: 'FileRef', objectType: 'Lookup', mappedName: 'fileRef', readOnly: true }
    ];
    /**
     * @ngdoc object
     * @name angularPoint.apDefaultFields
     * @description
     * Read only fields that should be included in all lists
     */
    angular.module('angularPoint').constant('apDefaultFields', ap.DefaultFields);
})(ap || (ap = {}));

/// <reference path="../../typings/ap.d.ts" />
var ap;
(function (ap) {
    'use strict';
    ap.DefaultListItemQueryOptions = '' + '<QueryOptions>' + '   <IncludeMandatoryColumns>FALSE</IncludeMandatoryColumns>' + '   <IncludeAttachmentUrls>TRUE</IncludeAttachmentUrls>' + '   <IncludeAttachmentVersion>FALSE</IncludeAttachmentVersion>' + '   <ExpandUserField>FALSE</ExpandUserField>' + '</QueryOptions>';
    angular.module('angularPoint').constant('apDefaultListItemQueryOptions', ap.DefaultListItemQueryOptions);
})(ap || (ap = {}));

/// <reference path="../../typings/ap.d.ts" />
var ap;
(function (ap) {
    'use strict';
    angular.module('angularPoint').constant('_', _);
})(ap || (ap = {}));

//  apWebServiceOperationConstants.OpName = [WebService, needs_SOAPAction];
//      OpName              The name of the Web Service operation -> These names are unique
//      WebService          The name of the WebService this operation belongs to
//      needs_SOAPAction    Boolean indicating whether the operation needs to have the SOAPAction passed in the setRequestHeaderfunction.
//                          true if the operation does a write, else false
/// <reference path='../../typings/ap.d.ts' />
var ap;
(function (ap) {
    'use strict';
    ap.WebServiceOperationConstants = {
        GetAlerts: ['Alerts', false],
        DeleteAlerts: ['Alerts', true],
        Mode: ['Authentication', false],
        Login: ['Authentication', false],
        CopyIntoItems: ['Copy', true],
        CopyIntoItemsLocal: ['Copy', true],
        GetItem: ['Copy', false],
        GetForm: ['Forms', false],
        GetFormCollection: ['Forms', false],
        AddAttachment: ['Lists', true],
        AddDiscussionBoardItem: ['Lists', true],
        AddList: ['Lists', true],
        AddListFromFeature: ['Lists', true],
        ApplyContentTypeToList: ['Lists', true],
        CheckInFile: ['Lists', true],
        CheckOutFile: ['Lists', true],
        CreateContentType: ['Webs', true],
        DeleteAttachment: ['Lists', true],
        DeleteContentType: ['Lists', true],
        DeleteContentTypeXmlDocument: ['Lists', true],
        DeleteList: ['Lists', true],
        GetAttachmentCollection: ['Lists', false],
        GetList: ['Lists', false],
        GetListAndView: ['Lists', false],
        GetListCollection: ['Lists', false],
        GetListContentType: ['Lists', false],
        GetListContentTypes: ['Lists', false],
        GetListItemChanges: ['Lists', false],
        GetListItemChangesSinceToken: ['Lists', false],
        GetListItems: ['Lists', false],
        GetVersionCollection: ['Lists', false],
        UndoCheckOut: ['Lists', true],
        UpdateContentType: ['Webs', true],
        UpdateContentTypesXmlDocument: ['Lists', true],
        UpdateContentTypeXmlDocument: ['Lists', true],
        UpdateList: ['Lists', true],
        UpdateListItems: ['Lists', true],
        AddMeeting: ['Meetings', true],
        CreateWorkspace: ['Meetings', true],
        RemoveMeeting: ['Meetings', true],
        SetWorkSpaceTitle: ['Meetings', true],
        ResolvePrincipals: ['People', false],
        SearchPrincipals: ['People', false],
        AddPermission: ['Permissions', true],
        AddPermissionCollection: ['Permissions', true],
        GetPermissionCollection: ['Permissions', true],
        RemovePermission: ['Permissions', true],
        RemovePermissionCollection: ['Permissions', true],
        UpdatePermission: ['Permissions', true],
        GetLinks: ['PublishedLinksService', true],
        GetPortalSearchInfo: ['Search', false],
        GetQuerySuggestions: ['Search', false],
        GetSearchMetadata: ['Search', false],
        Query: ['Search', false],
        QueryEx: ['Search', false],
        Registration: ['Search', false],
        Status: ['Search', false],
        SendClientScriptErrorReport: ['SharePointDiagnostics', true],
        GetAttachments: ['SiteData', false],
        EnumerateFolder: ['SiteData', false],
        SiteDataGetList: ['SiteData', false],
        SiteDataGetListCollection: ['SiteData', false],
        SiteDataGetSite: ['SiteData', false],
        SiteDataGetSiteUrl: ['SiteData', false],
        SiteDataGetWeb: ['SiteData', false],
        CreateWeb: ['Sites', true],
        DeleteWeb: ['Sites', true],
        GetSite: ['Sites', false],
        GetSiteTemplates: ['Sites', false],
        AddComment: ['SocialDataService', true],
        AddTag: ['SocialDataService', true],
        AddTagByKeyword: ['SocialDataService', true],
        CountCommentsOfUser: ['SocialDataService', false],
        CountCommentsOfUserOnUrl: ['SocialDataService', false],
        CountCommentsOnUrl: ['SocialDataService', false],
        CountRatingsOnUrl: ['SocialDataService', false],
        CountTagsOfUser: ['SocialDataService', false],
        DeleteComment: ['SocialDataService', true],
        DeleteRating: ['SocialDataService', true],
        DeleteTag: ['SocialDataService', true],
        DeleteTagByKeyword: ['SocialDataService', true],
        DeleteTags: ['SocialDataService', true],
        GetAllTagTerms: ['SocialDataService', false],
        GetAllTagTermsForUrlFolder: ['SocialDataService', false],
        GetAllTagUrls: ['SocialDataService', false],
        GetAllTagUrlsByKeyword: ['SocialDataService', false],
        GetCommentsOfUser: ['SocialDataService', false],
        GetCommentsOfUserOnUrl: ['SocialDataService', false],
        GetCommentsOnUrl: ['SocialDataService', false],
        GetRatingAverageOnUrl: ['SocialDataService', false],
        GetRatingOfUserOnUrl: ['SocialDataService', false],
        GetRatingOnUrl: ['SocialDataService', false],
        GetRatingsOfUser: ['SocialDataService', false],
        GetRatingsOnUrl: ['SocialDataService', false],
        GetSocialDataForFullReplication: ['SocialDataService', false],
        GetTags: ['SocialDataService', true],
        GetTagsOfUser: ['SocialDataService', true],
        GetTagTerms: ['SocialDataService', true],
        GetTagTermsOfUser: ['SocialDataService', true],
        GetTagTermsOnUrl: ['SocialDataService', true],
        GetTagUrlsOfUser: ['SocialDataService', true],
        GetTagUrlsOfUserByKeyword: ['SocialDataService', true],
        GetTagUrls: ['SocialDataService', true],
        GetTagUrlsByKeyword: ['SocialDataService', true],
        SetRating: ['SocialDataService', true],
        UpdateComment: ['SocialDataService', true],
        SpellCheck: ['SpellCheck', false],
        AddTerms: ['TaxonomyClientService', true],
        GetChildTermsInTerm: ['TaxonomyClientService', false],
        GetChildTermsInTermSet: ['TaxonomyClientService', false],
        GetKeywordTermsByGuids: ['TaxonomyClientService', false],
        GetTermsByLabel: ['TaxonomyClientService', false],
        GetTermSets: ['TaxonomyClientService', false],
        AddGroup: ['usergroup', true],
        AddGroupToRole: ['usergroup', true],
        AddRole: ['usergroup', true],
        AddRoleDef: ['usergroup', true],
        AddUserCollectionToGroup: ['usergroup', true],
        AddUserCollectionToRole: ['usergroup', true],
        AddUserToGroup: ['usergroup', true],
        AddUserToRole: ['usergroup', true],
        GetAllUserCollectionFromWeb: ['usergroup', false],
        GetGroupCollection: ['usergroup', false],
        GetGroupCollectionFromRole: ['usergroup', false],
        GetGroupCollectionFromSite: ['usergroup', false],
        GetGroupCollectionFromUser: ['usergroup', false],
        GetGroupCollectionFromWeb: ['usergroup', false],
        GetGroupInfo: ['usergroup', false],
        GetRoleCollection: ['usergroup', false],
        GetRoleCollectionFromGroup: ['usergroup', false],
        GetRoleCollectionFromUser: ['usergroup', false],
        GetRoleCollectionFromWeb: ['usergroup', false],
        GetRoleInfo: ['usergroup', false],
        GetRolesAndPermissionsForCurrentUser: ['usergroup', false],
        GetRolesAndPermissionsForSite: ['usergroup', false],
        GetUserCollection: ['usergroup', false],
        GetUserCollectionFromGroup: ['usergroup', false],
        GetUserCollectionFromRole: ['usergroup', false],
        GetUserCollectionFromSite: ['usergroup', false],
        GetUserCollectionFromWeb: ['usergroup', false],
        GetUserInfo: ['usergroup', false],
        GetUserLoginFromEmail: ['usergroup', false],
        RemoveGroup: ['usergroup', true],
        RemoveGroupFromRole: ['usergroup', true],
        RemoveRole: ['usergroup', true],
        RemoveUserCollectionFromGroup: ['usergroup', true],
        RemoveUserCollectionFromRole: ['usergroup', true],
        RemoveUserCollectionFromSite: ['usergroup', true],
        RemoveUserFromGroup: ['usergroup', true],
        RemoveUserFromRole: ['usergroup', true],
        RemoveUserFromSite: ['usergroup', true],
        RemoveUserFromWeb: ['usergroup', true],
        UpdateGroupInfo: ['usergroup', true],
        UpdateRoleDefInfo: ['usergroup', true],
        UpdateRoleInfo: ['usergroup', true],
        UpdateUserInfo: ['usergroup', true],
        AddColleague: ['UserProfileService', true],
        AddLink: ['UserProfileService', true],
        AddMembership: ['UserProfileService', true],
        AddPinnedLink: ['UserProfileService', true],
        CreateMemberGroup: ['UserProfileService', true],
        CreateUserProfileByAccountName: ['UserProfileService', true],
        GetCommonColleagues: ['UserProfileService', false],
        GetCommonManager: ['UserProfileService', false],
        GetCommonMemberships: ['UserProfileService', false],
        GetInCommon: ['UserProfileService', false],
        GetPropertyChoiceList: ['UserProfileService', false],
        GetUserColleagues: ['UserProfileService', false],
        GetUserLinks: ['UserProfileService', false],
        GetUserMemberships: ['UserProfileService', false],
        GetUserPinnedLinks: ['UserProfileService', false],
        GetUserProfileByGuid: ['UserProfileService', false],
        GetUserProfileByIndex: ['UserProfileService', false],
        GetUserProfileByName: ['UserProfileService', false],
        GetUserProfileCount: ['UserProfileService', false],
        GetUserProfileSchema: ['UserProfileService', false],
        GetUserPropertyByAccountName: ['UserProfileService', false],
        ModifyUserPropertyByAccountName: ['UserProfileService', true],
        RemoveAllColleagues: ['UserProfileService', true],
        RemoveAllLinks: ['UserProfileService', true],
        RemoveAllMemberships: ['UserProfileService', true],
        RemoveAllPinnedLinks: ['UserProfileService', true],
        RemoveColleague: ['UserProfileService', true],
        RemoveLink: ['UserProfileService', true],
        RemoveMembership: ['UserProfileService', true],
        RemovePinnedLink: ['UserProfileService', true],
        UpdateColleaguePrivacy: ['UserProfileService', true],
        UpdateLink: ['UserProfileService', true],
        UpdateMembershipPrivacy: ['UserProfileService', true],
        UpdatePinnedLink: ['UserProfileService', true],
        DeleteAllVersions: ['Versions', true],
        DeleteVersion: ['Versions', true],
        GetVersions: ['Versions', false],
        RestoreVersion: ['Versions', true],
        AddView: ['Views', true],
        DeleteView: ['Views', true],
        GetView: ['Views', false],
        GetViewHtml: ['Views', false],
        GetViewCollection: ['Views', false],
        UpdateView: ['Views', true],
        UpdateViewHtml: ['Views', true],
        AddWebPart: ['WebPartPages', true],
        AddWebPartToZone: ['WebPartPages', true],
        GetWebPart2: ['WebPartPages', false],
        GetWebPartPage: ['WebPartPages', false],
        GetWebPartProperties: ['WebPartPages', false],
        GetWebPartProperties2: ['WebPartPages', false],
        GetColumns: ['Webs', false],
        GetContentType: ['Webs', false],
        GetContentTypes: ['Webs', false],
        GetCustomizedPageStatus: ['Webs', false],
        GetListTemplates: ['Webs', false],
        GetObjectIdFromUrl: ['Webs', false],
        GetWeb: ['Webs', false],
        GetWebCollection: ['Webs', false],
        GetAllSubWebCollection: ['Webs', false],
        UpdateColumns: ['Webs', true],
        WebUrlFromPageUrl: ['Webs', false],
        AlterToDo: ['Workflow', true],
        ClaimReleaseTask: ['Workflow', true],
        GetTemplatesForItem: ['Workflow', false],
        GetToDosForItem: ['Workflow', false],
        GetWorkflowDataForItem: ['Workflow', false],
        GetWorkflowTaskData: ['Workflow', false],
        StartWorkflow: ['Workflow', true]
    };
    angular.module('angularPoint').constant('apWebServiceOperationConstants', ap.WebServiceOperationConstants);
})(ap || (ap = {}));

/// <reference path="../../typings/ap.d.ts" />
var ap;
(function (ap) {
    'use strict';
    ap.XMLFieldAttributeTypes = {
        Decimals: 'Number',
        EnforceUniqueValues: 'Boolean',
        Filterable: 'Boolean',
        FromBaseType: 'Boolean',
        Hidden: 'Boolean',
        Indexed: 'Boolean',
        NumLines: 'Number',
        ReadOnly: 'Boolean',
        Required: 'Boolean',
        Sortable: 'Boolean'
    };
    /**
     * @ngdoc object
     * @name angularPoint.apXMLListAttributeTypes
     * @description Constant object map which contains many common XML attributes found on a field definition with their
     * corresponding type.
     */
    angular.module('angularPoint').constant('apXMLFieldAttributeTypes', ap.XMLFieldAttributeTypes);
})(ap || (ap = {}));

/// <reference path="../../typings/ap.d.ts" />
var ap;
(function (ap) {
    'use strict';
    ap.XMLListAttributeTypes = {
        BaseType: 'Number',
        ServerTemplate: 'Number',
        Created: 'DateTime',
        Modified: 'DateTime',
        LastDeleted: 'DateTime',
        Version: 'Number',
        ThumbnailSize: 'Number',
        WebImageWidth: 'Number',
        WebImageHeight: 'Number',
        Flags: 'Number',
        ItemCount: 'Number',
        ReadSecurity: 'Number',
        WriteSecurity: 'Number',
        Author: 'Number',
        MajorWithMinorVersionsLimit: 'Number',
        HasUniqueScopes: 'Boolean',
        NoThrottleListOperations: 'Boolean',
        HasRelatedLists: 'Boolean',
        AllowDeletion: 'Boolean',
        AllowMultiResponses: 'Boolean',
        EnableAttachments: 'Boolean',
        EnableModeration: 'Boolean',
        EnableVersioning: 'Boolean',
        HasExternalDataSource: 'Boolean',
        Hidden: 'Boolean',
        MultipleDataList: 'Boolean',
        Ordered: 'Boolean',
        ShowUser: 'Boolean',
        EnablePeopleSelector: 'Boolean',
        EnableResourceSelector: 'Boolean',
        EnableMinorVersion: 'Boolean',
        RequireCheckout: 'Boolean',
        ThrottleListOperations: 'Boolean',
        ExcludeFromOfflineClient: 'Boolean',
        EnableFolderCreation: 'Boolean',
        IrmEnabled: 'Boolean',
        IsApplicationList: 'Boolean',
        PreserveEmptyValues: 'Boolean',
        StrictTypeCoercion: 'Boolean',
        EnforceDataValidation: 'Boolean',
        MaxItemsPerThrottledOperation: 'Number'
    };
    /**
     * @ngdoc object
     * @name angularPoint.apXMLListAttributeTypes
     * @description Constant object map which contains many common XML attributes found on a list definition with their
     * corresponding type.
     */
    angular.module('angularPoint').constant('apXMLListAttributeTypes', ap.XMLListAttributeTypes);
})(ap || (ap = {}));

/// <reference path="../../typings/ap.d.ts" />
var ap;
(function (ap) {
    'use strict';
    var CamlFactory = (function () {
        function CamlFactory() {
        }
        /**
         * @ngdoc function
         * @name angularPoint.apCamlFactory:camlContainsQuery
         * @methodOf angularPoint.apCamlFactory
         * @parameter {object[]} fieldDefinitionsArray Array of fields to search for a given search string.
         * @parameter {string} searchString String of text to search records for.
         * @description
         * Returns a combination of selectors using CAML '<Or></Or>' elements
         * @returns {string} Caml select string.
         * @example
         * <pre>
         *
         * var testHTML = {objectType: 'HTML', staticName: 'HTML'};
         * var testJSON = {objectType: 'JSON', staticName: 'JSON'};
         * var testText = {objectType: 'Text', staticName: 'Text'};
         * var testText2 = {objectType: 'Text', staticName: 'Text'};
         *
         * var testCaml = camlContainsQuery([testHTML, testText, testJSON, testText2], 'Test Query');
         * console.log(testCaml);
         *
         * //Returns
         * <Or><Contains><FieldRef Name=\"HTML\" /><Value Type=\"Text\"><![CDATA[Test Query]]>
         * </Value></Contains><Or><Contains><FieldRef Name=\"Text\" /><Value Type=\"Text\">Test Query</Value>
         * </Contains><Or><Contains><FieldRef Name=\"JSON\" /><Value Type=\"Text\"><![CDATA[Test Query]]>
         * </Value></Contains><Contains><FieldRef Name=\"Text\" /><Value Type=\"Text\">Test Query</Value>
         * </Contains></Or></Or></Or>
         * </pre>
         */
        CamlFactory.prototype.camlContainsQuery = function (fieldDefinitionsArray, searchString) {
            var _this = this;
            var selectStatements = [];
            /** Create a select statement for each field */
            _.each(fieldDefinitionsArray, function (fieldDefinition, definitionIndex) {
                selectStatements.push(_this.createCamlContainsSelector(fieldDefinition, searchString));
            });
            return this.chainCamlSelects(selectStatements, 'And');
        };
        /**
         * @ngdoc function
         * @name angularPoint.apCamlFactory:chainCamlSelects
         * @methodOf angularPoint.apCamlFactory
         * @description
         * Used to combine multiple caml selectors into a single CAML query string wrapped properly.
         * @param {object[]} selectStatements An array of select statements to wrap in "<Or>".
         * @param {string} joinType Valid caml join type ('Or', 'And', ...).
         * @returns {string} CAML query string.
         */
        CamlFactory.prototype.chainCamlSelects = function (selectStatements, joinType) {
            var camlQuery = '', camlQueryClosure = '';
            _.each(selectStatements, function (statement, statementIndex) {
                /** Add an or clause if we still have additional fields to process */
                if (statementIndex < selectStatements.length - 1) {
                    camlQuery += '<' + joinType + '>';
                    camlQueryClosure = '</' + joinType + '>' + camlQueryClosure;
                }
                camlQuery += statement;
            });
            return camlQuery + camlQueryClosure;
        };
        /**
         * @ngdoc function
         * @name angularPoint.apCamlFactory:createCamlContainsSelector
         * @methodOf angularPoint.apCamlFactory
         * @description
         * Escapes characters that SharePoint gets upset about based on field type.
         * @example
         * <pre>
         * var testHTML = {objectType: 'HTML', staticName: 'HTML'};
         *
         * var testCaml = createCamlContainsSelector(testHTML, 'Test Query');
         * console.log(testCaml);
         *
         * //Returns
         * <Contains>
         *   <FieldRef Name=\"HTML\" />
         *   <Value Type=\"Text\"><![CDATA[Test Query]]></Value>
         * </Contains>
         * </pre>
         */
        CamlFactory.prototype.createCamlContainsSelector = function (fieldDefinition, searchString) {
            var camlSelector;
            switch (fieldDefinition.objectType) {
                case 'HTML':
                case 'JSON':
                    camlSelector = '' + '<Contains>' + '<FieldRef Name="' + fieldDefinition.staticName + '" />' + '<Value Type="Text"><![CDATA[' + searchString + ']]></Value>' + '</Contains>';
                    break;
                default:
                    camlSelector = '' + '<Contains>' + '<FieldRef Name="' + fieldDefinition.staticName + '" />' + '<Value Type="Text">' + searchString + '</Value>' + '</Contains>';
            }
            return camlSelector;
        };
        return CamlFactory;
    })();
    ap.CamlFactory = CamlFactory;
    /**
     * @ngdoc function
     * @name angularPoint.apCamlFactory
     * @description
     * Tools to assist with the creation of CAML queries.
     *
     */
    angular.module('angularPoint').service('apCamlFactory', CamlFactory);
})(ap || (ap = {}));

/// <reference path="../../typings/ap.d.ts" />
var ap;
(function (ap) {
    'use strict';
    var apFieldService, apUtilityService;
    /**
     * @ngdoc object
     * @name Field
     * @description
     * Defined in the MODEL.list.fieldDefinitions array.  Each field definition object maps an internal field
     * in a SharePoint list/library to a JavaScript object using the internal SharePoint field name, the field
     * type, and the desired JavaScript property name to add onto the parsed list item object. Ignore shown usage,
     * each field definition is just an object within the fieldDefinitions array.
     * @param {object} obj Field definition.
     * @param {string} obj.staticName The actual SharePoint field name.
     * @param {string} [obj.objectType='Text']
     * <dl>
     *     <dt>Boolean</dt>
     *     <dd>Used to store a TRUE/FALSE value (stored in SharePoint as 0 or 1).</dd>
     *     <dt>Calc</dt>
     *     <dd>";#" Delimited String: The first value will be the calculated column value
     *     type, the second will be the value</dd>
     *     <dt>Choice</dt>
     *     <dd>Simple text string but when processing the initial list definition, we
     *     look for a Choices XML element within the field definition and store each
     *     value.  We can then retrieve the valid Choices with one of the following:
     *     ```var fieldDefinition = LISTITEM.getFieldDefinition('CHOICE_FIELD_NAME');```
     *                                      or
     *     ```var fieldDefinition = MODELNAME.getFieldDefinition('CHOICE_FIELD_NAME');```
     *     ```var choices = fieldDefinition.Choices;```

     *     </dd>
     *     <dt>Counter</dt>
     *     <dd>Same as Integer. Generally used only for the internal ID field. Its integer
     *     value is set automatically to be unique with respect to every other item in the
     *     current list. The Counter type is always read-only and cannot be set through a
     *     form post.</dd>
     *     <dt>Currency</dt>
     *     <dd>Floating point number.</dd>
     *     <dt>DateTime</dt>
     *     <dd>Replace dashes with slashes and the "T" deliminator with a space if found.  Then
     *     converts into a valid JS date object.</dd>
     *     <dt>Float</dt>
     *     <dd>Floating point number.</dd>
     *     <dt>HTML</dt>
     *     <dd>```_.unescape(STRING)```</dd>
     *     <dt>Integer</dt>
     *     <dd>Parses the string to a base 10 int.</dd>
     *     <dt>JSON</dt>
     *     <dd>Parses JSON if valid and converts into a a JS object.  If not valid, an error is
     *     thrown with additional info on specifically what is invalid.</dd>
     *     <dt>Lookup</dt>
     *     <dd>Passes string to Lookup constructor where it is broken into an object containing
     *     a "lookupValue" and "lookupId" attribute.  Inherits additional prototype methods from
     *     Lookup.  See [Lookup](#/api/Lookup) for more information.
     *     </dd>
     *     <dt>LookupMulti</dt>
     *     <dd>Converts multiple delimited ";#" strings into an array of Lookup objects.</dd>
     *     <dt>MultiChoice</dt>
     *     <dd>Converts delimited ";#" string into an array of strings representing each of the
     *     selected choices.  Similar to the single "Choice", the XML Choices are stored in the
     *     field definition after the initial call is returned from SharePoint so we can reference
     *     later.
     *     </dd>
     *     <dt>Number</dt>
     *     <dd>Treats as a float.</dd>
     *     <dt>Text</dt>
     *     <dd>**Default** No processing of the text string from XML.</dd>
     *     <dt>User</dt>
     *     <dd>Similar to Lookup but uses the "User" prototype as a constructor to convert into a
     *     User object with "lookupId" and "lookupValue" attributes.  The lookupId is the site collection
     *     ID for the user and the lookupValue is typically the display name.
     *     See [User](#/api/User) for more information.
     *     </dd>
     *     <dt>UserMulti</dt>
     *     <dd>Parses delimited string to returns an array of User objects.</dd>
     * </dl>
     * @param {string} obj.mappedName The attribute name we'd like to use
     * for this field on the newly created JS object.
     * @param {boolean} [obj.readOnly=false] When saving, we only push fields
     * that are mapped and not read only.
     * @param {boolean} [obj.required=false] Allows us to validate the field to ensure it is valid based
     * on field type.
     * @returns {object} Field
     *
     * @requires angularPoint.apFieldFactory
     * @constructor
     */
    var Field = (function () {
        function Field(obj) {
            var self = this;
            var defaults = {
                readOnly: false,
                objectType: 'Text'
            };
            _.extend(self, defaults, obj);
            self.displayName = self.displayName ? self.displayName : apUtilityService.fromCamelCase(self.mappedName);
            /** Deprecated internal name and replace with staticName but maintain compatibility */
            self.staticName = self.staticName || self.internalName;
        }
        /**
         * @ngdoc function
         * @name Field:getDefaultValueForType
         * @methodOf Field
         * @description
         * Returns an object defining a specific field type
         * @returns {object} { defaultValue: '...':string, staticMock: '...':string, dynamicMock: ...:Function}
         */
        Field.prototype.getDefinition = function () {
            return apFieldService.getDefinition(this.objectType);
        };
        /**
         * @ngdoc function
         * @name Field:getDefaultValueForType
         * @methodOf Field
         * @description
         * Can return mock data appropriate for the field type, by default it dynamically generates data but
         * the staticValue param will instead return a hard coded type specific value.
         */
        Field.prototype.getDefaultValueForType = function () {
            return apFieldService.getDefaultValueForType(this.objectType);
        };
        /**
         * @ngdoc function
         * @name Field:getMockData
         * @methodOf Field
         * @param {object} [options] Optional params passed to apFieldService.getMockData.
         * @param {boolean} [options.staticValue=false] Default to dynamically build mock data.
         * @returns {*} mockData
         */
        Field.prototype.getMockData = function (options) {
            return apFieldService.getMockData(this.objectType, options);
        };
        return Field;
    })();
    ap.Field = Field;
    /**
     * @ngdoc service
     * @name angularPoint.apFieldFactory
     * @description
     * Contains the Field constructor and prototype definitions.
     * @property {constructor} Field The Field constructor.
     *
     * @requires angularPoint.apFieldService
     * @requires angularPoint.apUtilityService
     *
     */
    var FieldFactory = (function () {
        function FieldFactory($injector) {
            this.Field = Field;
            apFieldService = $injector.get('apFieldService');
            apUtilityService = $injector.get('apUtilityService');
        }
        return FieldFactory;
    })();
    ap.FieldFactory = FieldFactory;
    angular.module('angularPoint').service('apFieldFactory', FieldFactory);
})(ap || (ap = {}));

/// <reference path="../../typings/ap.d.ts" />
var ap;
(function (ap) {
    'use strict';
    /**
     * @ngdoc object
     * @name IndexedCache
     * @description
     * Cache constructor that is extended to make it easier to work with via prototype methods.  Located in
     * apIndexedCacheFactory.
     * @param {object} [object] Optionally extend new cache with provided object.
     * @requires angularPoint.apIndexedCacheFactory
     * @constructor
     */
    var IndexedCache = (function () {
        function IndexedCache(object) {
            if (object) {
                _.extend(this, object);
            }
        }
        /**
         * @ngdoc function
         * @name IndexedCache.addEntity
         * @methodOf IndexedCache
         * @description
         * Adds a new key to the cache if not already there with a value of the new listItem.
         * @param {object} listItem Entity to add to the cache.
         */
        IndexedCache.prototype.addEntity = function (listItem) {
            if (_.isObject(listItem) && !!listItem.id) {
                /** Only add the listItem to the cache if it's not already there */
                if (!this[listItem.id]) {
                    this[listItem.id] = listItem;
                }
            }
            else {
                throw 'A valid listItem wasn\'t found: ' + JSON.stringify(listItem);
            }
        };
        /**
         * @ngdoc function
         * @name IndexedCache.clear
         * @methodOf IndexedCache
         * @description
         * Clears all cached elements from the containing cache object.
         */
        IndexedCache.prototype.clear = function () {
            var _this = this;
            _.each(this, function (listItem, key) { return delete _this[key]; });
        };
        /**
         * @ngdoc function
         * @name IndexedCache.count
         * @methodOf IndexedCache
         * @description
         * Returns the number of entities in the cache.
         * @returns {number} Number of entities in the cache.
         */
        IndexedCache.prototype.count = function () {
            return this.keys().length;
        };
        /**
         * @ngdoc function
         * @name IndexedCache.first
         * @methodOf IndexedCache
         * @description
         * Returns the first listItem in the index (smallest ID).
         * @returns {object} First listItem in cache.
         */
        IndexedCache.prototype.first = function () {
            return this.nthEntity(0);
        };
        /**
         * @ngdoc function
         * @name IndexedCache.keys
         * @methodOf IndexedCache
         * @description
         * Returns the array of keys (listItem ID's) for the cache.
         * @returns {string[]} Array of listItem id's as strings.
         */
        IndexedCache.prototype.keys = function () {
            return _.keys(this);
        };
        /**
         * @ngdoc function
         * @name IndexedCache.last
         * @methodOf IndexedCache
         * @description
         * Returns the last listItem in the index (largest ID).
         * @returns {object} Last listItem in cache.
         */
        IndexedCache.prototype.last = function () {
            var keys = this.keys();
            return this[keys[keys.length - 1]];
        };
        /**
         * @ngdoc function
         * @name IndexedCache.nthEntity
         * @methodOf IndexedCache
         * @description
         * Based on the
         * @param {number} index The index of the item requested.
         * @returns {object} First listItem in cache.
         */
        IndexedCache.prototype.nthEntity = function (index) {
            var keys = this.keys();
            return this[keys[index]];
        };
        /**
         * @ngdoc function
         * @name IndexedCache.removeEntity
         * @methodOf IndexedCache
         * @description
         * Removes a listItem from the cache.
         * @param {object|number} listItem Entity to remove or ID of listItem to be removed.
         */
        IndexedCache.prototype.removeEntity = function (listItem) {
            if (_.isObject && listItem.id && this[listItem.id]) {
                delete this[listItem.id];
            }
            else if (_.isNumber(listItem)) {
                /** Allow listItem ID to be used instead of then listItem */
                delete this[listItem];
            }
        };
        /**
         * @ngdoc function
         * @name IndexedCache.toArray
         * @methodOf IndexedCache
         * @description
         * Turns the cache object into an array of entities.
         * @returns {object[]} Returns the array of entities currently in the cache.
         */
        IndexedCache.prototype.toArray = function () {
            return _.toArray(this);
        };
        return IndexedCache;
    })();
    ap.IndexedCache = IndexedCache;
    /**
     * @ngdoc object
     * @name angularPoint.apIndexedCacheFactory
     * @description
     * Exposes the EntityFactory prototype and a constructor to instantiate a new Entity Factory in apCacheService.
     *
     */
    var IndexedCacheFactory = (function () {
        function IndexedCacheFactory() {
            this.IndexedCache = IndexedCache;
        }
        /**
         * @ngdoc function
         * @name angularPoint.apIndexedCacheFactory:create
         * @methodOf angularPoint.apIndexedCacheFactory
         * @description
         * Instantiates and returns a new Indexed Cache.grunt
         */
        IndexedCacheFactory.prototype.create = function (overrides) {
            return new IndexedCache(overrides);
        };
        return IndexedCacheFactory;
    })();
    ap.IndexedCacheFactory = IndexedCacheFactory;
    angular.module('angularPoint').service('apIndexedCacheFactory', IndexedCacheFactory);
})(ap || (ap = {}));

/// <reference path="../../typings/ap.d.ts" />
var ap;
(function (ap) {
    'use strict';
    var apConfig, apDefaultFields, apFieldFactory;
    /**
     * @ngdoc object
     * @name List
     * @description
     * List Object Constructor.  This is handled automatically when creating a new model so there shouldn't be
     * any reason to manually call.
     * @param {object} config Initialization parameters.
     * @param {string} config.guid Unique SharePoint GUID for the list we'll be basing the model on
     * ex:'{4D74831A-42B2-4558-A67F-B0B5ADBC0EAC}'
     * @param {string} config.title Maps to the offline XML file in dev folder (no spaces)
     * ex: 'ProjectsList' so the offline XML file would be located at apConfig.offlineXML + 'ProjectsList.xml'
     * @param {object[]} [config.customFields] Mapping of SharePoint field names to the internal names we'll be using
     * in our application.  Also contains field type, readonly attribute, and any other non-standard settings.
     * <pre>
     * [
     *   {
         *       staticName: "Title",
         *       objectType: "Text",
         *       mappedName: "lastName",
         *       readOnly:false
         *   },
     *   {
         *       staticName: "FirstName",
         *       objectType: "Text",
         *       mappedName: "firstName",
         *       readOnly:false
         *   },
     *   {
         *       staticName: "Organization",
         *       objectType: "Lookup",
         *       mappedName: "organization",
         *       readOnly:false
         *   },
     *   {
         *       staticName: "Account",
         *       objectType: "User",
         *       mappedName: "account",
         *       readOnly:false
         *   },
     *   {
         *       staticName: "Details",
         *       objectType: "Text",
         *       mappedName: "details",
         *       readOnly:false
         *   }
     * ]
     * </pre>
     * @property {string} viewFields XML string defining each of the fields to include in all CRUD requests,
     * generated when the Model.List is instantiated.
     * <pre>
     *     <ViewFields>...</ViewFields>
     * </pre>
     * @property {Field[]} fields Generated when the Model.List is instantiated.  Combines the standard
     * default fields for all lists with the fields identified in the config.customFields and instantiates each
     * with the Field constructor.
     * @requires angularPoint.apListFactory
     * @constructor
     */
    var List = (function () {
        function List(config) {
            this.customFields = [];
            this.fields = [];
            this.guid = '';
            this.isReady = false;
            this.mapping = {};
            this.title = '';
            this.viewFields = '';
            this.webURL = apConfig.defaultUrl;
            _.extend(this, config);
            this.environments = this.environments || { production: this.guid };
            this.extendFieldDefinitions();
        }
        /**
         * @description
         * 1. Populates the fields array which uses the Field constructor to combine the default
         * SharePoint fields with those defined in the list definition on the model
         * 2. Creates the list.viewFields XML string that defines the fields to be requested on a query
         *
         * @param {object} list Reference to the list within a model.
         */
        List.prototype.extendFieldDefinitions = function () {
            var _this = this;
            /**
             * Constructs the field
             * - adds to viewField
             * - create ows_ mapping
             * @param fieldDefinition
             */
            var buildField = function (fieldDefinition) {
                var field = new apFieldFactory.Field(fieldDefinition);
                _this.fields.push(field);
                _this.viewFields += '<FieldRef Name="' + field.staticName + '"/>';
                _this.mapping['ows_' + field.staticName] = {
                    mappedName: field.mappedName,
                    objectType: field.objectType
                };
            };
            /** Open viewFields */
            this.viewFields += '<ViewFields>';
            /** Add the default fields */
            _.each(apDefaultFields, function (field) { return buildField(field); });
            /** Add each of the fields defined in the model */
            _.each(this.customFields, function (field) { return buildField(field); });
            /** Close viewFields */
            this.viewFields += '</ViewFields>';
        };
        /**
         * @ngdoc function
         * @name List:getListId
         * @methodOf List
         * @description
         * Defaults to list.guid.  For a multi-environment setup, we accept a list.environments object with a property for each named
         * environment with a corresponding value of the list guid.  The active environment can be selected
         * by setting apConfig.environment to the string name of the desired environment.
         * @returns {string} List ID.
         */
        List.prototype.getListId = function () {
            if (_.isString(this.environments[apConfig.environment])) {
                /**
                 * For a multi-environment setup, we accept a list.environments object with a property for each named
                 * environment with a corresponding value of the list guid.  The active environment can be selected
                 * by setting apConfig.environment to the string name of the desired environment.
                 */
                return this.environments[apConfig.environment];
            }
            else {
                throw new Error('There isn\'t a valid environment definition for apConfig.environment=' + apConfig.environment + '  ' + 'Please confirm that the list "' + this.title + '" has the necessary environmental configuration.');
            }
        };
        /**
         * @ngdoc function
         * @name List:identifyWebURL
         * @methodOf List
         * @description
         * If a list is extended, use the provided webURL, otherwise use list.webURL.  If never set it will default
         * to apConfig.defaultUrl.
         * @returns {string} webURL param.
         */
        List.prototype.identifyWebURL = function () {
            return this.WebFullUrl ? this.WebFullUrl : this.webURL;
        };
        return List;
    })();
    ap.List = List;
    /**
     * @ngdoc service
     * @name angularPoint.apListFactory
     * @description
     * Exposes the List prototype and a constructor to instantiate a new List.
     *
     * @property {constructor} List The List constructor.
     *
     * @requires angularPoint.apConfig
     * @requires angularPoint.apDefaultFields
     * @requires angularPoint.apFieldFactory
     */
    var ListFactory = (function () {
        function ListFactory($injector) {
            this.List = List;
            apConfig = $injector.get('apConfig');
            apDefaultFields = $injector.get('apDefaultFields');
            apFieldFactory = $injector.get('apFieldFactory');
        }
        /**
         * @ngdoc function
         * @name angularPoint.apListFactory:create
         * @methodOf angularPoint.apListFactory
         * @param {object} config Options object.
         * @description
         * Instantiates and returns a new List.
         */
        ListFactory.prototype.create = function (config) {
            return new List(config);
        };
        return ListFactory;
    })();
    ap.ListFactory = ListFactory;
    angular.module('angularPoint').service('apListFactory', ListFactory);
})(ap || (ap = {}));

/// <reference path="../../typings/ap.d.ts" />
var ap;
(function (ap) {
    'use strict';
    var $q, toastr, apCacheService, apDataService, apEncodeService, apUtilityService, apFormattedFieldValueService, apConfig;
    /**
     * @ngdoc object
     * @name ListItem
     * @description
     * Base prototype which all list items inherit from.  All methods can be accessed through this prototype so all CRUD
     * functionality can be called directly from a given list item.
     * @constructor
     */
    var ListItem = (function () {
        function ListItem() {
        }
        /**
         * @ngdoc function
         * @name ListItem.saveChanges
         * @methodOf ListItem
         * @description
         * Updates record directly from the object
         * @param {object} [options] Optionally pass params to the data service.
         * @param {boolean} [options.updateAllCaches=false] Search through the cache for each query to ensure listItem is
         * updated everywhere.  This is more process intensive so by default we only update the cached listItem in the
         * cache where this listItem is currently stored.
         * @returns {object} Promise which resolved with the updated list item from the server.
         * @example
         * <pre>
         * // Example of save function on a fictitious
         * // app/modules/tasks/TaskDetailsCtrl.js modal form.
         * $scope.saveChanges = function(task) {
         *      task.saveChanges().then(function() {
         *          // Successfully saved so we can do something
         *          // like close form
         *
         *          }, function() {
         *          // Failure
         *
         *          });
         * }
         * </pre>
         */
        ListItem.prototype.saveChanges = function (options) {
            var listItem = this;
            var model = listItem.getModel();
            var deferred = $q.defer();
            /** Redirect if the request is actually creating a new list item.  This can occur if we create
             * an empty item that is instantiated from the model and then attempt to save instead of using
             * model.addNewItem */
            if (!listItem.id) {
                return model.addNewItem(listItem, options);
            }
            apDataService.updateListItem(model, listItem, options).then(function (updatedListItem) {
                deferred.resolve(updatedListItem);
                /** Optionally broadcast change event */
                apUtilityService.registerChange(model, 'update', updatedListItem.id);
            });
            return deferred.promise;
        };
        /**
         * @ngdoc function
         * @name ListItem.saveFields
         * @methodOf ListItem
         * @description
         * Saves a named subset of fields back to SharePoint.  This is an alternative to saving all fields.
         * @param {array|string} fieldArray Array of internal field names that should be saved to SharePoint or a single
         * string to save an individual field.
         * @param {object} [options] Optionally pass params to the data service.
         * @param {boolean} [options.updateAllCaches=false] Search through the cache for each query to ensure listItem is
         * updated everywhere.  This is more process intensive so by default we only update the cached listItem in the
         * cache where this listItem is currently stored.
         * @returns {object} Promise which resolves with the updated list item from the server.
         * @example
         * <pre>
         * // Example of saveFields function on a fictitious
         * // app/modules/tasks/TaskDetailsCtrl.js modal form.
         * // Similar to saveChanges but instead we only save
         * // specified fields instead of pushing everything.
         * $scope.updateStatus = function(task) {
         *      task.saveFields(['status', 'notes']).then(function() {
         *          // Successfully updated the status and
         *          // notes fields for the given task
         *
         *          }, function() {
         *          // Failure to update the field
         *
         *          });
         * }
         * </pre>
         */
        ListItem.prototype.saveFields = function (fieldArray, options) {
            var listItem = this;
            var model = listItem.getModel();
            var deferred = $q.defer();
            var definitions = [];
            /** Allow a string to be passed in to save a single field */
            var fieldNames = _.isString(fieldArray) ? [fieldArray] : fieldArray;
            /** Find the field definition for each of the requested fields */
            _.each(fieldNames, function (field) {
                var match = _.find(model.list.customFields, { mappedName: field });
                if (match) {
                    definitions.push(match);
                }
            });
            /** Generate value pairs for specified fields */
            var valuePairs = apEncodeService.generateValuePairs(definitions, listItem);
            var defaults = { buildValuePairs: false, valuePairs: valuePairs };
            /** Extend defaults with any provided options */
            var opts = _.extend({}, defaults, options);
            apDataService.updateListItem(model, listItem, opts).then(function (updatedListItem) {
                deferred.resolve(updatedListItem);
                /** Optionally broadcast change event */
                apUtilityService.registerChange(model, 'update', updatedListItem.id);
            });
            return deferred.promise;
        };
        /**
         * @ngdoc function
         * @name ListItem.deleteItem
         * @methodOf ListItem
         * @description
         * Deletes record directly from the object and removes record from user cache.
         * @param {object} [options] Optionally pass params to the dataService.
         * @param {boolean} [options.updateAllCaches=false] Iterate over each of the query cache's and ensure the listItem is
         * removed everywhere.  This is more process intensive so by default we only remove the cached listItem in the
         * cache where this listItem is currently stored.
         * @returns {object} Promise which really only lets us know the request is complete.
         * @example
         * ```
         * <ul>
         *    <li ng-repeat="task in tasks">
         *        {{task.title}} <a href ng-click="task.deleteItem()>delete</a>
         *    </li>
         * </ul>
         * ```
         * List of tasks.  When the delete link is clicked, the list item item is removed from the local cache and
         * the view is updated to no longer show the task.
         */
        ListItem.prototype.deleteItem = function (options) {
            var listItem = this;
            var model = listItem.getModel();
            var deferred = $q.defer();
            apDataService.deleteListItem(model, listItem, options).then(function (response) {
                deferred.resolve(response);
                /** Optionally broadcast change event */
                apUtilityService.registerChange(model, 'delete', listItem.id);
            });
            return deferred.promise;
        };
        /**
         * @ngdoc function
         * @name ListItem.getLookupReference
         * @methodOf ListItem
         * @description
         * Allows us to retrieve the listItem being referenced in a given lookup field.
         * @param {string} fieldName Name of the lookup property on the list item that references a listItem.
         * @param {number} [lookupId=listItem.fieldName.lookupId] The listItem.lookupId of the lookup object.  This allows us to also use this logic
         * on a multi-select by iterating over each of the lookups.
         * @example
         * <pre>
         * var project = {
             *    title: 'Project 1',
             *    location: {
             *        lookupId: 5,
             *        lookupValue: 'Some Building'
             *    }
             * };
         *
         * //To get the location listItem
         * var listItem = project.getLookupReference('location');
         * </pre>
         * @returns {object} The listItem the lookup is referencing or undefined if not in the cache.
         */
        ListItem.prototype.getLookupReference = function (fieldName, lookupId) {
            var listItem = this;
            var lookupReference;
            if (_.isUndefined(fieldName)) {
                throw new Error('A field name is required.');
            }
            else if (_.isEmpty(listItem[fieldName])) {
                lookupReference = '';
            }
            else {
                var model = listItem.getModel();
                var fieldDefinition = model.getFieldDefinition(fieldName);
                /** Ensure the field definition has the List attribute which contains the GUID of the list
                 *  that a lookup is referencing. */
                if (fieldDefinition && fieldDefinition.List) {
                    var targetId = lookupId || listItem[fieldName].lookupId;
                    lookupReference = apCacheService.getCachedEntity(fieldDefinition.List, targetId);
                }
                else {
                    throw new Error('This isn\'t a valid Lookup field or the field definitions need to be extended ' + 'before we can complete this request.');
                }
            }
            return lookupReference;
        };
        /**
         * @ngdoc function
         * @name ListItem.getFormattedValue
         * @methodOf ListItem
         * @description
         * Given the attribute name on a listItem, we can lookup the field type and from there return a formatted
         * string representation of that value.
         * @param {string} fieldName Attribute name on the object that contains the value to stringify.
         * @param {object} [options] Pass through to apFormattedFieldValueService.getFormattedFieldValue.
         * @returns {string} Formatted string representing the field value.
         */
        ListItem.prototype.getFormattedValue = function (fieldName, options) {
            var listItem = this;
            var fieldDefinition = listItem.getFieldDefinition(fieldName);
            if (!fieldDefinition) {
                throw 'A field definition for a field named ' + fieldName + ' wasn\'t found.';
            }
            return apFormattedFieldValueService.getFormattedFieldValue(listItem[fieldName], fieldDefinition.objectType, options);
        };
        /**
         * @ngdoc function
         * @name ListItem.validateEntity
         * @methodOf ListItem
         * @description
         * Helper function that passes the current item to Model.validateEntity
         * @param {object} [options] Optionally pass params to the dataService.
         * @param {boolean} [options.toast=true] Set to false to prevent toastr messages from being displayed.
         * @returns {boolean} Evaluation of validity.
         */
        ListItem.prototype.validateEntity = function (options) {
            var listItem = this, model = listItem.getModel();
            return model.validateEntity(listItem, options);
        };
        /**
         * @ngdoc function
         * @name ListItem.getFieldDefinition
         * @methodOf ListItem
         * @description
         * Returns the field definition from the definitions defined in the custom fields array within a model.
         * @example
         * <pre>
         * var project = {
             *    title: 'Project 1',
             *    location: {
             *        lookupId: 5,
             *        lookupValue: 'Some Building'
             *    }
             * };
         *
         * //To get field metadata
         * var locationDefinition = project.getFieldDefinition('location');
         * </pre>
         * @param {string} fieldName Internal field name.
         * @returns {object} Field definition.
         */
        ListItem.prototype.getFieldDefinition = function (fieldName) {
            var listItem = this;
            return listItem.getModel().getFieldDefinition(fieldName);
        };
        /**
         * @ngdoc function
         * @name ListItem.getFieldLabel
         * @methodOf ListItem
         * @param {string} fieldName Internal field name.
         * @description
         * Uses the field definition defined in the model to attempt to find the label for a given field.  The default
         * value is fieldDefinition.label.  If not available it will then use fieldDefinition.DisplayName which is
         * populated after a GetListItemsSinceToken operation or a Model.extendListMetadata operation.  If this isn't
         * available it will fallback to the the fieldDefinition.DisplayName which is a best guess at converting the
         * caml case version of the mapped name using apUtilityService.fromCamelCase.
         * @returns {string} The label for a given field object.
         */
        ListItem.prototype.getFieldLabel = function (fieldName) {
            var listItem = this;
            var fieldDefinition = listItem.getFieldDefinition(fieldName);
            return fieldDefinition.label || fieldDefinition.DisplayName || fieldDefinition.displayName;
        };
        /**
         * @ngdoc function
         * @name ListItem.getFieldDescription
         * @methodOf ListItem
         * @param {string} fieldName Internal field name.
         * @description
         * Uses the field definition defined in the model to attempt to find the description for a given field.  The default
         * value is fieldDefinition.Description which is populated after a GetListItemsSinceToken operation or a
         * Model.extendListMetadata operation.  If this isn't available we look for an optional attribute of a field
         * fieldDefinition.description.  Finally if that have anything it returns an empty string.
         * @returns {string} The description for a given field object.
         */
        ListItem.prototype.getFieldDescription = function (fieldName) {
            var listItem = this;
            var fieldDefinition = listItem.getFieldDefinition(fieldName);
            return fieldDefinition.description || fieldDefinition.Description || '';
        };
        /**
         * @ngdoc function
         * @name ListItem.getFieldChoices
         * @methodOf ListItem
         * @param {string} fieldName Internal field name.
         * @description
         * Uses the field definition defined in the model to attempt to find the choices array for a given Lookup or
         * MultiLookup type field.  The default value is fieldDefinition.choices which can optionally be added to a
         * given field definition.  If this isn't found, we check fieldDefinition.Choices which is populated after a
         * GetListItemsSinceToken operation or a Model.extendListMetadata operation.  Finally if that isn't available
         * we return an empty array.
         * @returns {string[]} An array of choices for a Choice or MultiChoice type field.
         */
        ListItem.prototype.getFieldChoices = function (fieldName) {
            var listItem = this;
            var fieldDefinition = listItem.getFieldDefinition(fieldName);
            return fieldDefinition.choices || fieldDefinition.Choices || [];
        };
        /**
         * @ngdoc function
         * @name ListItem.getAvailableWorkflows
         * @methodOf ListItem
         * @description
         * Wrapper for apDataService.getAvailableWorkflows.  Simply passes the current item in.
         * @returns {promise} Array of objects defining each of the available workflows.
         */
        ListItem.prototype.getAvailableWorkflows = function () {
            var listItem = this;
            return apDataService.getAvailableWorkflows(listItem.fileRef.lookupValue);
        };
        /**
         * @ngdoc function
         * @name ListItem.getListId
         * @description
         * Allows us to reference the list ID directly from the list item.  This is added to the
         * model.factory prototype in apModelFactory.
         * @returns {string} List ID.
         */
        ListItem.prototype.getListId = function () {
            var model = this.getModel();
            return model.getListId();
        };
        /**
         * @ngdoc function
         * @name ListItem.getList
         * @description
         * Abstraction to allow logic in model to be used instead of defining the list location in more than one place.
         * @returns {object} List for the list item.
         */
        ListItem.prototype.getList = function () {
            var model = this.getModel();
            return model.getList();
        };
        /**
         * @ngdoc function
         * @name ListItem.startWorkflow
         * @methodOf ListItem
         * @description
         * Given a workflow name or templateId we initiate a given workflow using apDataService.startWorkflow.
         * @param {object} options Params for method and pass through options to apDataService.startWorkflow.
         * @param {string} [options.templateId] Used to directly start the workflow without looking up the templateId.
         * @param {string} [options.workflowName] Use this value to lookup the templateId and then start the workflow.
         * @returns {promise} Resolves with server response.
         */
        ListItem.prototype.startWorkflow = function (options) {
            var listItem = this, deferred = $q.defer();
            /** Set the relative file reference */
            options.fileRef = listItem.fileRef.lookupValue;
            if (!options.templateId && !options.workflowName) {
                throw 'Either a templateId or workflowName is required to initiate a workflow.';
            }
            else if (options.templateId) {
                /** The templateId is already provided so we don't need to look for it */
                initiateRequest();
            }
            else {
                /** We first need to get the template GUID for the workflow */
                listItem.getAvailableWorkflows().then(function (workflows) {
                    var targetWorklow = _.findWhere(workflows, { name: options.workflowName });
                    if (!targetWorklow) {
                        throw 'A workflow with the specified name wasn\'t found.';
                    }
                    /** Create an extended set of options to pass any overrides to apDataService */
                    options.templateId = targetWorklow.templateId;
                    initiateRequest();
                });
            }
            return deferred.promise;
            function initiateRequest() {
                apDataService.startWorkflow(options).then(function (xmlResponse) {
                    deferred.resolve(xmlResponse);
                });
            }
        };
        /**
         * @ngdoc function
         * @name ListItem.getAttachmentCollection
         * @methodOf ListItem
         * @description
         * Requests all attachments for a given list item.
         * @returns {object} Promise which resolves with all attachments for a list item.
         * @example
         * <pre>
         * //Pull down all attachments for the current list item
         * var fetchAttachments = function (listItem) {
             *     listItem.getAttachmentCollection()
             *         .then(function (attachments) {
             *             scope.attachments = attachments;
             *         });
             * };
         * </pre>
         */
        ListItem.prototype.getAttachmentCollection = function () {
            var listItem = this;
            return apDataService.getCollection({
                operation: 'GetAttachmentCollection',
                listName: listItem.getModel().list.getListId(),
                webURL: listItem.getModel().list.webURL,
                ID: listItem.id,
                filterNode: 'Attachment'
            });
        };
        /**
         * @ngdoc function
         * @name ListItem.deleteAttachment
         * @methodOf ListItem
         * @description
         * Delete an attachment from a list item.
         * @param {string} url Requires the URL for the attachment we want to delete.
         * @returns {object} Promise which resolves with the updated attachment collection.
         * @example
         * <pre>
         * $scope.deleteAttachment = function (attachment) {
             *     var confirmation = window.confirm("Are you sure you want to delete this file?");
             *     if (confirmation) {
             *         scope.listItem.deleteAttachment(attachment).then(function () {
             *             alert("Attachment successfully deleted");
             *         });
             *     }
             * };
         * </pre>
         */
        ListItem.prototype.deleteAttachment = function (url) {
            var listItem = this;
            return apDataService.deleteAttachment({
                listItemID: listItem.id,
                url: url,
                listName: listItem.getModel().list.getListId()
            });
        };
        /**
         * @ngdoc function
         * @name ListItem.resolvePermissions
         * @methodOf ListItem
         * @description
         * See apModelService.resolvePermissions for details on what we expect to have returned.
         * @returns {Object} Contains properties for each permission level evaluated for current user.
         * @example
         * Lets assume we're checking to see if a user has edit rights for a given task list item.
         * <pre>
         * var canUserEdit = function(task) {
             *      var userPermissions = task.resolvePermissions();
             *      return userPermissions.EditListItems;
             * };
         * </pre>
         * Example of what the returned object would look like
         * for a site admin.
         * <pre>
         * userPermissions = {
             *    "ViewListItems": true,
             *    "AddListItems": true,
             *    "EditListItems": true,
             *    "DeleteListItems": true,
             *    "ApproveItems": true,
             *    "OpenItems": true,
             *    "ViewVersions": true,
             *    "DeleteVersions": true,
             *    "CancelCheckout": true,
             *    "PersonalViews": true,
             *    "ManageLists": true,
             *    "ViewFormPages": true,
             *    "Open": true,
             *    "ViewPages": true,
             *    "AddAndCustomizePages": true,
             *    "ApplyThemeAndBorder": true,
             *    "ApplyStyleSheets": true,
             *    "ViewUsageData": true,
             *    "CreateSSCSite": true,
             *    "ManageSubwebs": true,
             *    "CreateGroups": true,
             *    "ManagePermissions": true,
             *    "BrowseDirectories": true,
             *    "BrowseUserInfo": true,
             *    "AddDelPrivateWebParts": true,
             *    "UpdatePersonalWebParts": true,
             *    "ManageWeb": true,
             *    "UseRemoteAPIs": true,
             *    "ManageAlerts": true,
             *    "CreateAlerts": true,
             *    "EditMyUserInfo": true,
             *    "EnumeratePermissions": true,
             *    "FullMask": true
             * }
         * </pre>
         */
        ListItem.prototype.resolvePermissions = function () {
            return apUtilityService.resolvePermissions(this.permMask);
        };
        /**
         * @ngdoc function
         * @name ListItem.getFieldVersionHistory
         * @methodOf ListItem
         * @description
         * Takes an array of field names, finds the version history for field, and returns a snapshot of the object at each
         * version.  If no fields are provided, we look at the field definitions in the model and pull all non-readonly
         * fields.  The only way to do this that I've been able to get working is to get the version history for each
         * field independently and then build the history by combining the server responses for each requests into a
         * snapshot of the object.
         * @param {string[]} [fieldNames] An array of field names that we're interested in.
         * @returns {object} promise - containing array of changes
         * @example
         * Assuming we have a modal form where we want to display each version of the title and project fields
         * of a given list item.
         * <pre>
         * myGenericListItem.getFieldVersionHistory(['title', 'project'])
         *     .then(function(versionHistory) {
             *            // We now have an array of every version of these fields
             *            $scope.versionHistory = versionHistory;
             *      };
         * </pre>
         */
        ListItem.prototype.getFieldVersionHistory = function (fieldNames) {
            var deferred = $q.defer();
            var promiseArray = [];
            var listItem = this;
            var model = listItem.getModel();
            /** Constructor that creates a promise for each field */
            var createPromise = function (fieldName) {
                var fieldDefinition = _.find(model.list.fields, { mappedName: fieldName });
                var payload = {
                    operation: 'GetVersionCollection',
                    strlistID: model.list.getListId(),
                    strlistItemID: listItem.id,
                    strFieldName: fieldDefinition.staticName,
                    webURL: undefined
                };
                /** Manually set site url if defined, prevents SPServices from making a blocking call to fetch it. */
                if (apConfig.defaultUrl) {
                    payload.webURL = apConfig.defaultUrl;
                }
                promiseArray.push(apDataService.getFieldVersionHistory(payload, fieldDefinition));
            };
            if (!fieldNames) {
                /** If fields aren't provided, pull the version history for all NON-readonly fields */
                var targetFields = _.where(model.list.fields, { readOnly: false });
                fieldNames = [];
                _.each(targetFields, function (field) {
                    fieldNames.push(field.mappedName);
                });
            }
            else if (_.isString(fieldNames)) {
                /** If a single field name is provided, add it to an array so we can process it more easily */
                fieldNames = [fieldNames];
            }
            /** Generate promises for each field */
            _.each(fieldNames, function (fieldName) {
                createPromise(fieldName);
            });
            /** Pause until all requests are resolved */
            $q.all(promiseArray).then(function (changes) {
                var versionHistory = {};
                /** All fields should have the same number of versions */
                _.each(changes, function (fieldVersions) {
                    _.each(fieldVersions, function (fieldVersion) {
                        versionHistory[fieldVersion.modified.toJSON()] = versionHistory[fieldVersion.modified.toJSON()] || {};
                        /** Add field to the version history for this version */
                        _.extend(versionHistory[fieldVersion.modified.toJSON()], fieldVersion);
                    });
                });
                var versionArray = [];
                /** Add a version prop on each version to identify the numeric sequence */
                _.each(versionHistory, function (ver, num) {
                    ver.version = num;
                    versionArray.push(ver);
                });
                deferred.resolve(versionArray);
            });
            return deferred.promise;
        };
        return ListItem;
    })();
    ap.ListItem = ListItem;
    /** In the event that a factory isn't specified, just use a
     * standard constructor to allow it to inherit from ListItem */
    var StandardListItem = (function () {
        function StandardListItem(obj) {
            _.assign(this, obj);
        }
        return StandardListItem;
    })();
    ap.StandardListItem = StandardListItem;
    /**
     * @ngdoc object
     * @name apListItemFactory
     * @description
     * Exposes the ListItem prototype and a constructor to instantiate a new ListItem.
     * See [ListItem](#/api/ListItem) for details of the methods available on the prototype.
     *
     * @requires ListItem
     * @requires apCacheService
     * @requires apDataService
     * @requires apUtilityService
     */
    var ListItemFactory = (function () {
        function ListItemFactory($injector) {
            this.ListItem = ListItem;
            $q = $injector.get("$q");
            apCacheService = $injector.get("apCacheService");
            apConfig = $injector.get("apConfig");
            apDataService = $injector.get("apDataService");
            apEncodeService = $injector.get("apEncodeService");
            apFormattedFieldValueService = $injector.get("apFormattedFieldValueService");
            apUtilityService = $injector.get("apUtilityService");
            toastr = $injector.get("toastr");
        }
        /**
         * @ngdoc function
         * @name apListItemFactory: create
         * @methodOf apListItemFactory
         * @description
         * Instantiates and returns a new ListItem.
         */
        ListItemFactory.prototype.create = function () {
            return new ListItem();
        };
        /**
         * @ngdoc function
         * @name apListItemFactory: createGenericFactory
         * @methodOf apListItemFactory
         * @description
         * In the event that a factory isn't specified, just use a
         * standard constructor to allow it to inherit from ListItem
         */
        ListItemFactory.prototype.createGenericFactory = function () {
            return new StandardListItem();
        };
        return ListItemFactory;
    })();
    ap.ListItemFactory = ListItemFactory;
    angular.module('angularPoint').service('apListItemFactory', ListItemFactory);
})(ap || (ap = {}));

/// <reference path="../../typings/ap.d.ts" />
var ap;
(function (ap) {
    'use strict';
    var $q, apUtilityService;
    /**
     * @ngdoc function
     * @name Lookup
     * @description
     * Allows for easier distinction when debugging if object type is shown as either Lookup or User.  Also allows us
     * to create an async request for the entity being referenced by the lookup
     * @param {string} s String to split into lookupValue and lookupId
     * @param {object} options Contains a reference to the parent list item and the property name.
     * @param {object} options.entity Reference to parent list item.
     * @param {object} options.propertyName Key on list item object.
     * @constructor
     */
    var Lookup = (function () {
        function Lookup(s, options) {
            var lookup = this;
            var thisLookup = new apUtilityService.SplitIndex(s);
            lookup.lookupId = thisLookup.id;
            lookup.lookupValue = thisLookup.value || '';
        }
        return Lookup;
    })();
    ap.Lookup = Lookup;
    var LookupFactory = (function () {
        function LookupFactory($injector) {
            this.Lookup = Lookup;
            $q = $injector.get('$q');
            apUtilityService = $injector.get('apUtilityService');
        }
        /**
         * @ngdoc function
         * @name angularPoint.apLookupFactory:create
         * @methodOf angularPoint.apLookupFactory
         * @description
         * Instantiates and returns a new Lookup field.
         */
        LookupFactory.prototype.create = function (s, options) {
            return new Lookup(s, options);
        };
        return LookupFactory;
    })();
    ap.LookupFactory = LookupFactory;
    /**
     * @ngdoc function
     * @name angularPoint.apLookupFactory
     * @description
     * Tools to assist with the creation of CAML queries.
     *
     */
    angular.module('angularPoint').service('apLookupFactory', LookupFactory);
})(ap || (ap = {}));

/// <reference path="../../typings/ap.d.ts" />
var ap;
(function (ap) {
    'use strict';
    var apCacheService, apDataService, apListFactory, ListItemFactory, apQueryFactory, apUtilityService, apFieldService, apConfig, apIndexedCacheFactory, apDecodeService, $q, toastr;
    var Model = (function () {
        function Model(config) {
            var _this = this;
            this.data = [];
            this.fieldDefinitionsExtended = false;
            this.queries = {};
            var model = this;
            _.assign(model, config);
            model.factory.prototype.getModel = function () { return _this; };
            /** Use list constructor to decorate */
            model.list = apListFactory.create(model.list);
            /** Register cache name with cache service so we can map factory name with list GUID */
            apCacheService.registerModel(model);
            /** Convenience query that simply returns all list items within a list. */
            model.registerQuery({
                name: 'getAllListItems',
                operation: 'GetListItems'
            });
        }
        /**
         * @ngdoc function
         * @name ListItem.getModel
         * @description
         * Allows us to reference the parent model directly from the list item.  This is added to the
         * model.factory prototype in apModelFactory.  See the [List](#/api/List) documentation for more info.
         * @returns {object} Model for the list item.
         */
        Model.prototype.getModel = function () {
            return this;
        };
        /**
         * @ngdoc function
         * @name ListItem.getListId
         * @description
         * Allows us to reference the list ID directly from the model.
         * @returns {string} List ID.
         */
        Model.prototype.getListId = function () {
            return this.list.getListId();
        };
        /**
         * @ngdoc function
         * @name ListItem.getList
         * @description
         * Allows us to reference the list definition directly from the list item.  This is added to the
         * model.factory prototype in apModelFactory.  See the [List](#/api/List) documentation for more info.
         * @returns {object} List for the list item.
         */
        Model.prototype.getList = function () {
            return this.list;
        };
        /**
         * @ngdoc function
         * @name Model.addNewItem
         * @module Model
         * @description
         * Using the definition of a list stored in a model, create a new list item in SharePoint.
         * @param {object} entity An object that will be converted into key/value pairs based on the field definitions
         * defined in the model.
         * @param {object} [options] - Pass additional options to the data service.
         * @returns {object} A promise which when resolved will returned the newly created list item from there server.
         * This allows us to update the view with a valid new object that contains a unique list item id.
         *
         * @example
         * <pre>
         * <file name="app/modules/project/projectsModel.js">
         * projectModel.addNewItem({
             *        title: 'A Project',
             *        customer: {lookupValue: 'My Customer', lookupId: 123},
             *        description: 'This is the project description'
             *     }).then(function(newEntityFromServer) {
             *         //The local query cache is automatically updated but
             *         //any other dependent logic can go here
             * };
         * </file>
         * </pre>
         */
        Model.prototype.addNewItem = function (entity, options) {
            var model = this, deferred = $q.defer();
            apDataService.createListItem(model, entity, options).then(function (listItem) {
                deferred.resolve(listItem);
                /** Optionally broadcast change event */
                apUtilityService.registerChange(model, 'create', listItem.id);
            });
            return deferred.promise;
        };
        /**
         * @ngdoc function
         * @name Model.createEmptyItem
         * @module Model
         * @description
         * Creates an object using the editable fields from the model, all attributes are empty based on the field
         * type unless an overrides object is passed in.  The overrides object extends the defaults.  A benefit to this
         * approach is the returned object inherits from the ListItem prototype so we have the ability to call
         * entity.saveChanges instead of calling the model.addNewItem(entity).
         *
         * @param {object} [overrides] - Optionally extend the new empty item with specific values.
         * @returns {object} Newly created list item.
         */
        Model.prototype.createEmptyItem = function (overrides) {
            var model = this;
            var newItem = {};
            _.each(model.list.customFields, function (fieldDefinition) {
                /** Create attributes for each non-readonly field definition */
                if (!fieldDefinition.readOnly) {
                    /** Create an attribute with the expected empty value based on field definition type */
                    newItem[fieldDefinition.mappedName] = apFieldService.getDefaultValueForType(fieldDefinition.objectType);
                }
            });
            /** Extend any values that should override the default empty values */
            var rawObject = _.assign({}, newItem, overrides);
            return new model.factory(rawObject);
        };
        /**
         * @ngdoc function
         * @name Model.executeQuery
         * @module Model
         * @description
         * The primary method for retrieving data from a query registered on a model.  It returns a promise
         * which resolves to the local cache after post processing entities with constructors.
         *
         * @param {string} [queryName=apConfig.defaultQueryName] A unique key to identify this query
         * @param {object} [options] Pass options to the data service.
         * @returns {object} Promise that when resolves returns an array of list items which inherit from ListItem and
         * optionally go through a defined constructor on the model.
         *
         * @example To call the query or check for changes since the last call.
         * <pre>
         * projectModel.executeQuery('MyCustomQuery').then(function(entities) {
             *      //We now have a reference to array of entities stored in the local cache
             *      //These inherit from the ListItem prototype as well as the Project prototype on the model
             *      $scope.subsetOfProjects = entities;
             *  });
         * </pre>
         */
        Model.prototype.executeQuery = function (queryName, options) {
            var model = this;
            var query = model.getQuery(queryName);
            if (query) {
                return query.execute(options);
            }
        };
        /**
         * @ngdoc function
         * @name Model.extendListMetadata
         * @module Model
         * @description
         * Extends the List and Fields with list information returned from the server.  Only runs once and after that
         * returns the existing promise.
         * @param {object} [options] Pass-through options to apDataService.getList
         * @returns {object} Promise that is resolved once the information has been added.
         */
        Model.prototype.extendListMetadata = function (options) {
            var model = this, deferred = $q.defer(), defaults = { listName: model.list.getListId() };
            /** Only request information if the list hasn't already been extended and is not currently being requested */
            if (!model.deferredListDefinition) {
                /** All Future Requests get this */
                model.deferredListDefinition = deferred.promise;
                var opts = _.extend({}, defaults, options);
                apDataService.getList(opts).then(function (responseXML) {
                    apDecodeService.extendListMetadata(model, responseXML);
                    deferred.resolve(model);
                });
            }
            return model.deferredListDefinition;
        };
        /**
         * @ngdoc function
         * @name Model.generateMockData
         * @module Model
         * @description
         * Generates 'n' mock records for testing using the field types defined in the model to provide something to visualize.
         *
         * @param {object} [options] Object containing optional parameters.
         * @param {number} [options.quantity=10] The requested number of mock records to return.
         * @param {string} [options.permissionLevel=FullMask] Sets the mask on the mock records to simulate desired
         * permission level.
         * @param {boolean} [options.staticValue=false] By default all mock data is dynamically created but if set,
         * this will cause static data to be used instead.
         */
        Model.prototype.generateMockData = function (options) {
            var mockData = [], model = this;
            var defaults = {
                quantity: 10,
                staticValue: false,
                permissionLevel: 'FullMask'
            };
            /** Extend defaults with any provided options */
            var opts = _.extend({}, defaults, options);
            _.times(opts.quantity, function (count) {
                var mock = {
                    id: count + 1
                };
                /** Create an attribute with mock data for each field */
                _.each(model.list.fields, function (field) {
                    mock[field.mappedName] = field.getMockData(opts);
                });
                /** Use the factory on the model to extend the object */
                mockData.push(new model.factory(mock));
            });
            return mockData;
        };
        /**
         * @ngdoc function
         * @name Model.getAllListItems
         * @description
         * Inherited from Model constructor
         * Gets all list items in the current list, processes the xml, and caches the data in model.
         * @returns {object} Promise returning all list items when resolved.
         * @example
         * <pre>
         * //Taken from a fictitious projectsModel.js
         * projectModel.getAllListItems().then(function(entities) {
             *     //Do something with all of the returned entities
             *     $scope.projects = entities;
             * };
         * </pre>
         */
        Model.prototype.getAllListItems = function () {
            var model = this;
            return apDataService.executeQuery(model, model.queries.getAllListItems);
        };
        /**
         * @ngdoc function
         * @name Model.getCache
         * @module Model
         * @description
         * Helper function that return the local cache for a named query if provided, otherwise
         * it returns the cache for the primary query for the model.  Useful if you know the query
         * has already been resolved and there's no need to check SharePoint for changes.
         *
         * @param {string} [queryName=apConfig.defaultQueryName] A unique key to identify this query.
         * @returns {Array} Returns the contents of the current cache for a named query.
         *
         * @example
         * <pre>
         * var primaryQueryCache = projectModel.getCache();
         * </pre>
         *
         * <pre>
         * var primaryQueryCache = projectModel.getCache('primary');
         * </pre>
         *
         * <pre>
         * var namedQueryCache = projectModel.getCache('customQuery');
         * </pre>
         */
        Model.prototype.getCache = function (queryName) {
            var model = this, query, cache;
            query = model.getQuery(queryName);
            if (query && query.indexedCache) {
                cache = query.indexedCache;
            }
            return cache;
        };
        /**
         * @ngdoc function
         * @name Model.getCachedEntity
         * @module Model
         * @description
         * Attempts to locate a model listItem by id.
         * @param {number} listItemId The ID of the requested listItem.
         * @returns {object} Returns either the requested listItem or undefined if it's not found.
         */
        Model.prototype.getCachedEntity = function (listItemId) {
            var model = this;
            return apCacheService.getCachedEntity(model.list.getListId(), listItemId);
        };
        /**
         * @ngdoc function
         * @name Model.getCachedEntities
         * @module Model
         * @description
         * Returns all entities registered for this model regardless of query.
         * @returns {object[]} All registered entities for this model.
         */
        Model.prototype.getCachedEntities = function () {
            var model = this;
            return apCacheService.getCachedEntities(model.list.getListId());
        };
        /**
         * @ngdoc function
         * @name Model.getFieldDefinition
         * @module Model
         * @description
         * Returns the field definition from the definitions defined in the custom fields array within a model.
         * <pre>
         * var project = {
             *    title: 'Project 1',
             *    location: {
             *        lookupId: 5,
             *        lookupValue: 'Some Building'
             *    }
             * };
         *
         * //To get field metadata
         * var locationDefinition = projectsModel.getFieldDefinition('location');
         * </pre>
         * @param {string} fieldName Internal field name.
         * @returns {object} Field definition.
         */
        Model.prototype.getFieldDefinition = function (fieldName) {
            var model = this;
            return _.find(model.list.fields, { mappedName: fieldName });
        };
        /**
         * @ngdoc function
         * @name Model.getListItemById
         * @param {number} listItemId Id of the item being requested.
         * @param {object} options Used to override apDataService defaults.
         * @description
         * Inherited from Model constructor
         * Attempts to retrieve the requested list item from the server.
         * @returns {object} Promise that resolves with the requested list item if found.  Otherwise it returns undefined.
         * @example
         * <pre>
         * //Taken from a fictitious projectsModel.js
         * projectModel.getListItemById(12).then(function(listItem) {
             *     //Do something with the located listItem
             *     $scope.project = listItem;
             * };
         * </pre>
         */
        Model.prototype.getListItemById = function (listItemId, options) {
            var deferred = $q.defer(), model = this, 
            /** Unique Query Name */
            queryKey = 'GetListItemById-' + listItemId;
            /** Register a new Query if it doesn't already exist */
            if (!model.getQuery(queryKey)) {
                var defaults = {
                    name: queryKey,
                    operation: 'GetListItems',
                    CAMLRowLimit: 1,
                    CAMLQuery: '' + '<Query>' + ' <Where>' + '   <Eq>' + '     <FieldRef Name="ID"/>' + '     <Value Type="Number">' + listItemId + '</Value>' + '   </Eq>' + ' </Where>' + '</Query>'
                };
                /** Allows us to override defaults */
                var opts = _.extend({}, defaults, options);
                model.registerQuery(opts);
            }
            model.executeQuery(queryKey).then(function (indexedCache) {
                /** Should return an indexed cache object with a single listItem so just return the requested listItem */
                deferred.resolve(indexedCache.first());
            }, function (err) {
                deferred.reject(err);
            });
            return deferred.promise;
        };
        /**
         * @ngdoc function
         * @name Model.getQuery
         * @module Model
         * @description
         * Helper function that attempts to locate and return a reference to the requested or catchall query.
         * @param {string} [queryName=apConfig.defaultQueryName] A unique key to identify this query.
         * @returns {object} See Query prototype for additional details on what a Query looks like.
         *
         * @example
         * <pre>
         * var primaryQuery = projectModel.getQuery();
         * </pre>
         *
         * <pre>
         * var primaryQuery = projectModel.getQuery('primary');
         * </pre>
         *
         * <pre>
         * var namedQuery = projectModel.getQuery('customQuery');
         * </pre>
         */
        Model.prototype.getQuery = function (queryName) {
            var model = this, query;
            if (_.isObject(model.queries[queryName])) {
                /** The named query exists */
                query = model.queries[queryName];
            }
            else if (_.isObject(model.queries[apConfig.defaultQueryName]) && !queryName) {
                /** A named query wasn't specified and the catchall query exists */
                query = model.queries[apConfig.defaultQueryName];
            }
            else {
                /** Requested query not found */
                query = undefined;
            }
            return query;
        };
        /**
         * @ngdoc function
         * @name Model.resolvePermissions
         * @module Model
         * @description
         * See apModelFactory.resolvePermissions for details on what we expect to have returned.
         * @returns {Object} Contains properties for each permission level evaluated for current user.
         * @example
         * Lets assume we're checking to see if a user has edit rights for a given list.
         * <pre>
         * var userPermissions = tasksModel.resolvePermissions();
         * var userCanEdit = userPermissions.EditListItems;
         * </pre>
         * Example of what the returned object would look like
         * for a site admin.
         * <pre>
         * perm = {
            *    "ViewListItems": true,
            *    "AddListItems": true,
            *    "EditListItems": true,
            *    "DeleteListItems": true,
            *    "ApproveItems": true,
            *    "OpenItems": true,
            *    "ViewVersions": true,
            *    "DeleteVersions": true,
            *    "CancelCheckout": true,
            *    "PersonalViews": true,
            *    "ManageLists": true,
            *    "ViewFormPages": true,
            *    "Open": true,
            *    "ViewPages": true,
            *    "AddAndCustomizePages": true,
            *    "ApplyThemeAndBorder": true,
            *    "ApplyStyleSheets": true,
            *    "ViewUsageData": true,
            *    "CreateSSCSite": true,
            *    "ManageSubwebs": true,
            *    "CreateGroups": true,
            *    "ManagePermissions": true,
            *    "BrowseDirectories": true,
            *    "BrowseUserInfo": true,
            *    "AddDelPrivateWebParts": true,
            *    "UpdatePersonalWebParts": true,
            *    "ManageWeb": true,
            *    "UseRemoteAPIs": true,
            *    "ManageAlerts": true,
            *    "CreateAlerts": true,
            *    "EditMyUserInfo": true,
            *    "EnumeratePermissions": true,
            *    "FullMask": true
            * }
         * </pre>
         */
        Model.prototype.resolvePermissions = function () {
            var model = this;
            if (model.list && model.list.effectivePermMask) {
                /** Get the permission mask from the permission mask name */
                var permissionMask = apUtilityService.convertEffectivePermMask(model.list.effectivePermMask);
                return apUtilityService.resolvePermissions(permissionMask);
            }
            else {
                window.console.error('Attempted to resolve permissions of a model that hasn\'t been initialized.', model);
                return apUtilityService.resolvePermissions(null);
            }
        };
        /**
         * @ngdoc function
         * @name Model.isInitialised
         * @module Model
         * @description
         * Methods which allows us to easily determine if we've successfully made any queries this session.
         * @returns {boolean} Returns evaluation.
         */
        Model.prototype.isInitialised = function () {
            var model = this;
            return _.isDate(model.lastServerUpdate);
        };
        /**
         * @ngdoc function
         * @name Model.registerQuery
         * @module Model
         * @description
         * Constructor that allows us create a static query with the option to build dynamic queries as seen in the
         * third example.  This construct is a passthrough to [SPServices](http: //spservices.codeplex.com/)
         * @param {object} [queryOptions] Optional options to pass through to the
         * [dataService](#/api/dataService.executeQuery).
         * @param {string} [queryOptions.name=apConfig.defaultQueryName] Optional name of the new query (recommended but will
         * default to 'Primary' if not specified)
         * @param {string} [queryOptions.operation="GetListItemChangesSinceToken"] Defaults to
         * [GetListItemChangesSinceToken](http: //msdn.microsoft.com/en-us/library/lists.lists.getlistitemchangessincetoken%28v=office.12%29.aspx)
         * but for a smaller payload and faster response you can use
         * [GetListItems](http: //spservices.codeplex.com/wikipage?title=GetListItems&referringTitle=Lists).
         * @param {boolean} [queryOptions.cacheXML=false] Typically don't need to store the XML response because it
         * has already been parsed into JS objects.
         * @param {string} [queryOptions.offlineXML] Optionally reference a specific XML file to use for this query instead
         * of using the shared XML file used by all queries on this model.  Useful to mock custom query results.
         * @param {string} [queryOptions.query] CAML Query - Josh McCarty has a good quick reference
         * [here](http: //joshmccarty.com/2012/06/a-caml-query-quick-reference)
         * @param {string} [queryOptions.queryOptions]
         * <pre>
         * // Default options
         * '<QueryOptions>' +
         * '   <IncludeMandatoryColumns>' +
         *      'FALSE' +
         *     '</IncludeMandatoryColumns>' +
         * '   <IncludeAttachmentUrls>' +
         *      'TRUE' +
         *     '</IncludeAttachmentUrls>' +
         * '   <IncludeAttachmentVersion>' +
         *      'FALSE' +
         *     '</IncludeAttachmentVersion>' +
         * '   <ExpandUserField>' +
         *      'FALSE' +
         *     '</ExpandUserField>' +
         * '</QueryOptions>',
         * </pre>
         *
         *
         * @returns {object} Query Returns a new query object.
         *
         * @example
         * <h4>Example #1</h4>
         * <pre>
         * // Query to retrieve the most recent 25 modifications
         * model.registerQuery({
     *    name: 'recentChanges',
     *    CAMLRowLimit: 25,
     *    query: '' +
     *        '<Query>' +
     *        '   <OrderBy>' +
     *        '       <FieldRef Name="Modified" Ascending="FALSE"/>' +
     *        '   </OrderBy>' +
     *            //Prevents any records from being returned if user doesn't
     *            // have permissions on project
     *        '   <Where>' +
     *        '       <IsNotNull>' +
     *        '           <FieldRef Name="Project"/>' +
     *        '       </IsNotNull>' +
     *        '   </Where>' +
     *        '</Query>'
     * });
         * </pre>
         *
         * <h4>Example #2</h4>
         * <pre>
         * // Could be placed on the projectModel and creates the query but doesn't
         * // call it
         * projectModel.registerQuery({
     *     name: 'primary',
     *     query: '' +
     *         '<Query>' +
     *         '   <OrderBy>' +
     *         '       <FieldRef Name="Title" Ascending="TRUE"/>' +
     *         '   </OrderBy>' +
     *         '</Query>'
     * });
         *
         * //To call the query or check for changes since the last call
         * projectModel.executeQuery('primary').then(function(entities) {
     *     // We now have a reference to array of entities stored in the local
     *     // cache.  These inherit from the ListItem prototype as well as the
     *     // Project prototype on the model
     *     $scope.projects = entities;
     * });
         * </pre>
         *

         * <h4>Example #3</h4>
         * <pre>
         * // Advanced functionality that would allow us to dynamically create
         * // queries for list items with a lookup field associated with a specific
         * // project id.  Let's assume this is on the projectTasksModel.
         * model.queryByProjectId(projectId) {
     *     // Unique query name
     *     var queryKey = 'pid' + projectId;
     *
     *     // Register project query if it doesn't exist
     *     if (!_.isObject(model.queries[queryKey])) {
     *         model.registerQuery({
     *             name: queryKey,
     *             query: '' +
     *                 '<Query>' +
     *                 '   <OrderBy>' +
     *                 '       <FieldRef Name="ID" Ascending="TRUE"/>' +
     *                 '   </OrderBy>' +
     *                 '   <Where>' +
     *                 '       <And>' +
     *                              // Prevents any records from being returned
     *                              //if user doesn't have permissions on project
     *                 '           <IsNotNull>' +
     *                 '               <FieldRef Name="Project"/>' +
     *                 '           </IsNotNull>' +
     *                              // Return all records for the project matching
     *                              // param projectId
     *                 '           <Eq>' +
     *                 '               <FieldRef Name="Project" LookupId="TRUE"/>' +
     *                 '               <Value Type="Lookup">' + projectId + '</Value>' +
     *                 '           </Eq>' +
     *                 '       </And>' +
     *                 '   </Where>' +
     *                 '</Query>'
     *         });
     *     }
     *     //Still using execute query but now we have a custom query
     *     return model.executeQuery(queryKey);
     * };
         pre>
         */
        Model.prototype.registerQuery = function (queryOptions) {
            var model = this;
            var defaults = {
                /** If name isn't set, assume this is the only model and designate as primary */
                name: apConfig.defaultQueryName
            };
            queryOptions = _.extend({}, defaults, queryOptions);
            model.queries[queryOptions.name] = apQueryFactory.create(queryOptions, model);
            /** Return the newly created query */
            return model.queries[queryOptions.name];
        };
        /**
         * @ngdoc function
         * @name Model.validateEntity
         * @module Model
         * @description
         * Uses the custom fields defined in an model to ensure each field (required = true) is evaluated
         * based on field type
         *
         * @param {object} listItem SharePoint list item.
         * @param {object} [options] Object containing optional parameters.
         * @param {boolean} [options.toast=true] Should toasts be generated to alert the user of issues.
         * @returns {boolean} Evaluation of validity.
         */
        Model.prototype.validateEntity = function (listItem, options) {
            var valid = true, model = this;
            var defaults = {
                toast: true
            };
            /** Extend defaults with any provided options */
            var opts = _.extend({}, defaults, options);
            var checkObject = function (fieldValue) {
                return _.isObject(fieldValue) && _.isNumber(fieldValue.lookupId);
            };
            _.each(model.list.customFields, function (fieldDefinition) {
                var fieldValue = listItem[fieldDefinition.mappedName];
                var fieldDescriptor = '"' + fieldDefinition.objectType + '" value.';
                /** Only evaluate required fields */
                if ((fieldDefinition.required || fieldDefinition.Required) && valid) {
                    switch (fieldDefinition.objectType) {
                        case 'Boolean':
                            valid = _.isBoolean(fieldValue);
                            break;
                        case 'DateTime':
                            valid = _.isDate(fieldValue);
                            break;
                        case 'Lookup':
                        case 'User':
                            valid = checkObject(fieldValue);
                            break;
                        case 'LookupMulti':
                        case 'UserMulti':
                            /** Ensure it's a valid array containing objects */
                            valid = _.isArray(fieldValue) && fieldValue.length > 0;
                            if (valid) {
                                /** Additionally check that each lookup/person contains a lookupId */
                                _.each(fieldValue, function (fieldObject) {
                                    if (valid) {
                                        valid = checkObject(fieldObject);
                                    }
                                    else {
                                        /** Short circuit */
                                        return false;
                                    }
                                });
                            }
                            break;
                        default:
                            /** Evaluate everything else as a string */
                            valid = !_.isEmpty(fieldValue);
                    }
                    if (!valid && opts.toast) {
                        var fieldName = fieldDefinition.label || fieldDefinition.staticName;
                        toastr.error(fieldName + ' does not appear to be a valid ' + fieldDescriptor);
                    }
                }
                if (!valid) {
                    return false;
                }
            });
            return valid;
        };
        return Model;
    })();
    ap.Model = Model;
    var ModelFactory = (function () {
        function ModelFactory($injector) {
            this.Model = Model;
            $q = $injector.get('$q');
            apCacheService = $injector.get('apCacheService');
            apConfig = $injector.get('apConfig');
            apDataService = $injector.get('apDataService');
            apDecodeService = $injector.get('apDecodeService');
            apFieldService = $injector.get('apFieldService');
            apIndexedCacheFactory = $injector.get('apIndexedCacheFactory');
            apListFactory = $injector.get('apListFactory');
            apQueryFactory = $injector.get('apQueryFactory');
            apUtilityService = $injector.get('apUtilityService');
            ListItemFactory = $injector.get('apListItemFactory');
            toastr = $injector.get('toastr');
        }
        ModelFactory.prototype.create = function (config) {
            return new Model(config);
        };
        return ModelFactory;
    })();
    ap.ModelFactory = ModelFactory;
    angular.module('angularPoint').service('apModelFactory', ModelFactory);
})(ap || (ap = {}));

/// <reference path="../../typings/ap.d.ts" />
var ap;
(function (ap) {
    'use strict';
    var $q, apIndexedCacheFactory, apConfig, apDefaultListItemQueryOptions, apDataService;
    /**
     * @ngdoc function
     * @name Query
     * @description
     * Primary constructor that all queries inherit from.
     * @param {object} config Initialization parameters.
     * @param {string} [config.operation=GetListItemChangesSinceToken] Optionally use 'GetListItems' to
     * receive a more efficient response, just don't have the ability to check for changes since the last time
     * the query was called.
     * @param {boolean} [config.cacheXML=true] Set to false if you want a fresh request.
     * @param {string} [config.offlineXML] Optionally reference a specific XML file to use for this query instead
     * of using the shared XML file for this list.
     * @param {string} [config.query=Ordered ascending by ID] CAML query passed to SharePoint to control
     * the data SharePoint returns.
     * @param {string} [config.queryOptions] SharePoint options.
     * <pre>
     * //Default
     * queryOptions: '' +
     * '<QueryOptions>' +
     * '   <IncludeMandatoryColumns>' +
     *      'FALSE' +
     *     '</IncludeMandatoryColumns>' +
     * '   <IncludeAttachmentUrls>' +
     *      'TRUE' +
     *     '</IncludeAttachmentUrls>' +
     * '   <IncludeAttachmentVersion>' +
     *      'FALSE' +
     *     '</IncludeAttachmentVersion>' +
     * '   <ExpandUserField>' +
     *      'FALSE' +
     *     '</ExpandUserField>' +
     * '</QueryOptions>',
     * </pre>
     * @param {object} model Reference to the parent model for the query.  Allows us to reference when out of
     * scope.
     * @constructor
     *
     * @example
     * <pre>
     * // Query to retrieve the most recent 25 modifications
     * model.registerQuery({
         *    name: 'recentChanges',
         *    CAMLRowLimit: 25,
         *    query: '' +
         *        '<Query>' +
         *        '   <OrderBy>' +
         *        '       <FieldRef Name="Modified" Ascending="FALSE"/>' +
         *        '   </OrderBy>' +
         *            // Prevents any records from being returned if user
         *            // doesn't have permissions on project
         *        '   <Where>' +
         *        '       <IsNotNull>' +
         *        '           <FieldRef Name="Project"/>' +
         *        '       </IsNotNull>' +
         *        '   </Where>' +
         *        '</Query>'
         * });
     * </pre>
     */
    var Query = (function () {
        function Query(config, model) {
            /** Very memory intensive to enable cacheXML which is disabled by default*/
            this.cacheXML = false;
            /** Reference to the most recent query when performing GetListItemChangesSinceToken */
            this.changeToken = undefined;
            /** Flag to prevent us from makeing concurrent requests */
            this.negotiatingWithServer = false;
            /** Every time we run we want to check to update our cached data with
             * any changes made on the server */
            this.operation = 'GetListItemChangesSinceToken';
            /** Default query returns list items in ascending ID order */
            this.query = "\n        <Query>\n           <OrderBy>\n               <FieldRef Name=\"ID\" Ascending=\"TRUE\"/>\n           </OrderBy>\n        </Query>";
            this.indexedCache = apIndexedCacheFactory.create();
            this.initialized = $q.defer();
            this.listName = model.list.getListId();
            this.queryOptions = apDefaultListItemQueryOptions;
            this.viewFields = model.list.viewFields;
            /** Set the default url if the config param is defined, otherwise let SPServices handle it */
            if (apConfig.defaultUrl) {
                this.webURL = apConfig.defaultUrl;
            }
            _.extend(this, config);
            /** Allow the model to be referenced at a later time */
            this.getModel = function () { return model; };
        }
        /**
         * @ngdoc function
         * @name Query.execute
         * @methodOf Query
         * @description
         * Query SharePoint, pull down all initial records on first call along with list definition if using
         * "GetListItemChangesSinceToken".  Note: this is  substantially larger than "GetListItems" on first call.
         * Subsequent calls pulls down changes (Assuming operation: "GetListItemChangesSinceToken").
         * @param {object} [options] Any options that should be passed to dataService.executeQuery.
         * @returns {object[]} Array of list item objects.
         */
        Query.prototype.execute = function (options) {
            var query = this;
            var model = query.getModel();
            var deferred = $q.defer();
            /** Return existing promise if request is already underway or has been previously executed in the past
             * 1/10th of a second */
            if (query.negotiatingWithServer || (_.isDate(query.lastRun) && query.lastRun.getTime() + 100 > new Date().getTime())) {
                return query.promise;
            }
            else {
                /** Set flag to prevent another call while this query is active */
                query.negotiatingWithServer = true;
                /** Set flag if this if the first time this query has been run */
                var firstRunQuery = _.isNull(query.lastRun);
                var defaults = {
                    /** Designate the central cache for this query if not already set */
                    target: query.getCache()
                };
                /** Extend defaults with any options */
                var queryOptions = _.extend({}, defaults, options);
                apDataService.executeQuery(model, query, queryOptions).then(function (results) {
                    if (firstRunQuery) {
                        /** Promise resolved the first time query is completed */
                        query.initialized.resolve(queryOptions.target);
                    }
                    /** Remove lock to allow for future requests */
                    query.negotiatingWithServer = false;
                    /** Store query completion date/time on model to allow us to identify age of data */
                    model.lastServerUpdate = new Date();
                    deferred.resolve(queryOptions.target);
                });
                /** Save reference on the query **/
                query.promise = deferred.promise;
                return deferred.promise;
            }
        };
        Query.prototype.getCache = function () {
            return this.indexedCache;
        };
        return Query;
    })();
    ap.Query = Query;
    var QueryFactory = (function () {
        function QueryFactory($injector) {
            this.Query = Query;
            $q = $injector.get('$q');
            apConfig = $injector.get('apConfig');
            apDataService = $injector.get('apDataService');
            apDefaultListItemQueryOptions = $injector.get('apDefaultListItemQueryOptions');
            apIndexedCacheFactory = $injector.get('apIndexedCacheFactory');
        }
        /**
         * @ngdoc function
         * @name angularPoint.apQueryFactory:create
         * @methodOf angularPoint.apQueryFactory
         * @param {object} config Options object.
         * @param {object} model Reference to the model.
         * @description
         * Instantiates and returns a new Query.
         */
        QueryFactory.prototype.create = function (config, model) {
            return new Query(config, model);
        };
        return QueryFactory;
    })();
    ap.QueryFactory = QueryFactory;
    /**
     * @ngdoc object
     * @name angularPoint.apQueryFactory
     * @description
     * Exposes the Query prototype and a constructor to instantiate a new Query.
     *
     * @requires angularPoint.apDataService
     * @requires angularPoint.apConfig
     */
    angular.module('angularPoint').service('apQueryFactory', QueryFactory);
})(ap || (ap = {}));

/// <reference path="../../typings/ap.d.ts" />
var ap;
(function (ap) {
    'use strict';
    var apUtilityService;
    /**
     * @ngdoc function
     * @name User
     * @description
     * Allows for easier distinction when debugging if object type is shown as a User.  Turns a delimited ";#"
     * string into an object shown below depeinding on field settings:
     * <pre>
     * {
         *      lookupId: 1,
         *      lookupValue: 'Joe User'
         * }
     * </pre>
     * or
     * <pre>
     * {
         *      lookupId: 1,
         *      lookupValue: 'Joe User',
         *      loginName: 'joe.user',
         *      email: 'joe@company.com',
         *      sipAddress: 'whatever',
         *      title: 'Sr. Widget Maker'
         * }
     * </pre>
     * @param {string} s Delimited string used to create a User object.
     * @constructor
     */
    var User = (function () {
        function User(str) {
            var self = this;
            var thisUser = new apUtilityService.SplitIndex(str);
            var thisUserExpanded = thisUser.value.split(',#');
            if (thisUserExpanded.length === 1) {
                //Standard user columns only return a id,#value pair
                self.lookupId = thisUser.id;
                self.lookupValue = thisUser.value;
            }
            else {
                //Allow for case where user adds additional properties when setting up field
                self.lookupId = thisUser.id;
                self.lookupValue = thisUserExpanded[0].replace(/(,,)/g, ',');
                self.loginName = thisUserExpanded[1].replace(/(,,)/g, ',');
                self.email = thisUserExpanded[2].replace(/(,,)/g, ',');
                self.sipAddress = thisUserExpanded[3].replace(/(,,)/g, ',');
                self.title = thisUserExpanded[4].replace(/(,,)/g, ',');
            }
        }
        return User;
    })();
    var UserFactory = (function () {
        function UserFactory($injector) {
            this.User = User;
            apUtilityService = $injector.get('apUtilityService');
        }
        /**
         * @ngdoc function
         * @name angularPoint.apUserFactory:create
         * @methodOf angularPoint.apUserFactory
         * @description
         * Instantiates and returns a new User field.
         */
        UserFactory.prototype.create = function (s) {
            return new User(s);
        };
        return UserFactory;
    })();
    ap.UserFactory = UserFactory;
    /**
     * @ngdoc function
     * @name angularPoint.apUserFactory
     * @description
     * Tools to assist with the creation of CAML queries.
     *
     */
    angular.module('angularPoint').service('apUserFactory', UserFactory);
})(ap || (ap = {}));

/// <reference path="../../typings/angularjs/angular.d.ts" />

/// <reference path="../../typings/ap.d.ts" />
var ap;
(function (ap) {
    'use strict';
    /** Local references to cached promises */
    var _getGroupCollection, _getUserProfile;
    var UserModel = (function () {
        function UserModel($q, apDataService) {
            this.$q = $q;
            this.apDataService = apDataService;
        }
        /**
         * @ngdoc function
         * @name angularPoint.apUserModel:checkIfMember
         * @methodOf angularPoint.apUserModel
         * @description
         * Checks to see if current user is a member of the specified group.
         * @param {string} groupName Name of the group.
         * @param {boolean} [force=false] Ignore any cached value.
         * @returns {{ID:string, Name:string, Description:string, OwnerId:string, OwnerIsUser:string}} Is the user a member of the group?
         * @example
         * <pre>{ID: "190", Name: "Blog Contributors", Description: "We are bloggers...", OwnerID: "126", OwnerIsUser: "False"}</pre>
         */
        UserModel.prototype.checkIfMember = function (groupName, force) {
            //Allow function to be called before group collection is ready
            var deferred = this.$q.defer();
            //Initially ensure groups are ready, any future calls will receive the return
            this.getGroupCollection(force).then(function (groupCollection) {
                var groupDefinition = _.find(groupCollection, { Name: groupName });
                deferred.resolve(groupDefinition);
            });
            return deferred.promise;
        };
        /**
         * @ngdoc function
         * @name angularPoint.apUserModel:getGroupCollection
         * @methodOf angularPoint.apUserModel
         * @description
         * Returns the group names for the current user and caches results.
         * @param {boolean} [force=false] Ignore any cached value.
         * @returns {string[]} Promise which resolves with the array of groups the user belongs to.
         */
        UserModel.prototype.getGroupCollection = function (force) {
            var _this = this;
            if (!_getGroupCollection || force) {
                /** Create a new deferred object if not already defined */
                var deferred = this.$q.defer();
                this.getUserProfile(force).then(function (userProfile) {
                    _this.apDataService.getGroupCollectionFromUser(userProfile.userLoginName).then(function (groupCollection) {
                        deferred.resolve(groupCollection);
                    });
                });
                _getGroupCollection = deferred.promise;
            }
            return _getGroupCollection;
        };
        /**
         * @ngdoc function
         * @name angularPoint.apUserModel:getUserProfile
         * @methodOf angularPoint.apUserModel
         * @description
         * Returns the user profile for the current user and caches results.
         * Pull user profile info and parse into a profile object
         * http://spservices.codeplex.com/wikipage?title=GetUserProfileByName
         * @param {boolean} [force=false] Ignore any cached value.
         * @returns {object} Promise which resolves with the requested user profile.
         */
        UserModel.prototype.getUserProfile = function (force) {
            if (!_getUserProfile || force) {
                /** Create a new deferred object if not already defined */
                _getUserProfile = this.apDataService.getUserProfileByName();
            }
            return _getUserProfile;
        };
        return UserModel;
    })();
    /**
     * @ngdoc service
     * @name angularPoint.apUserModel
     * @description
     * Simple service that allows us to request and cache both the current user and their group memberships.
     *
     * @requires apDataService
     *
     */
    angular.module('angularPoint').service('apUserModel', UserModel);
})(ap || (ap = {}));

/// <reference path="../../typings/ap.d.ts" />
var __extends = this.__extends || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    __.prototype = b.prototype;
    d.prototype = new __();
};
var ap;
(function (ap) {
    'use strict';
    var service, $q, $log, apIndexedCacheFactory;
    /**
     * @description Stores list names when a new model is registered along with the GUID to allow us to
     *     retrieve the GUID in future
     * @example
     * <pre>
     *     listNameToIdMap = {
         *          list1Name: {
         *              model: list1Model,
         *              listId: list1GUID
         *          },
         *          list2Name: {
         *              model: list2Model,
         *              listId: list2GUID
         *          }
         *          ...
         *     }
     * </pre>
     */
    var listNameToIdMap = {}, 
    /**
     * @description Stores list GUID when a new model is registered with a reference to the model for
     *     future reference.
     * @example
     * <pre>
     *     listsMappedByListId = {
     *          list1GUID: {
     *              model: list1Model
     *          },
     *          list2GUID: {
     *              model: list2Model
     *          }
     *          ...
     *     }
     * </pre>
     */
    listsMappedByListId = {}, 
    /**
     * @description The Main cache object which stores ModelCache objects.  Keys being the model GUID and
     *     value being an a ModelCache object
     * @example
     * <pre>
     *     entityCache = {
     *          list1GUID: {
     *              item1ID: { //EnityCache for entity 1
     *                  associationQueue: [],
     *                  updateCount: 3,
     *                  listId: list1GUID,
     *                  entityId: item1ID,
     *                  entityLocations: [],
     *                  entity: {} //This is where the actual entity is referenced
     *              }
     *              item2ID: { //EnityCache for entity 2
     *                  ...
     *              }
     *          },
     *          list2GUID: {
     *              item1ID: ...
     *          }
     *          ...
     *     }
     * </pre>
     */
    entityCache = {};
    /**
     * @name EntityCache
     * @description
     * Cache constructor that maintains a queue of all requests for a list item, counter for the number of times
     * the cache has been updated, timestamp of last update, and add/update/remove functionality.
     * @constructor apCacheService
     * @param {string} listId GUID for list the list item belongs to.
     * @param {number} entityId The entity.id.
     */
    var EntityContainer = (function () {
        function EntityContainer(listId, entityId) {
            this.entityId = entityId;
            this.associationQueue = [];
            this.entityLocations = [];
            this.updateCount = 0;
            this.listId = service.getListId(listId);
        }
        /**
         * @name EntityContainer.getEntity
         * @description
         * Promise which returns the requested entity once it has been registered in the cache.
         */
        EntityContainer.prototype.getEntity = function () {
            var entityContainer = this;
            var deferred = $q.defer();
            if (entityContainer.entity) {
                /** Entity already exists so resolve immediately */
                deferred.resolve(entityContainer.entity);
            }
            else {
                entityContainer.associationQueue.push(deferred);
            }
            return deferred.promise;
        };
        EntityContainer.prototype.removeEntity = function () {
            var entityContainer = this;
            service.removeEntity(entityContainer.listId, entityContainer.entityId);
        };
        return EntityContainer;
    })();
    /**
     * @name ModelCache
     * @description
     * Cache of Entity Containers for each registered entity retrieved by the model.
     * @constructor
     */
    var ModelCache = (function (_super) {
        __extends(ModelCache, _super);
        function ModelCache() {
            _super.apply(this, arguments);
        }
        return ModelCache;
    })(ap.IndexedCache);
    var CacheService = (function () {
        function CacheService($injector) {
            this.entityCache = entityCache;
            $q = $injector.get('$q');
            $log = $injector.get('$log');
            apIndexedCacheFactory = $injector.get('apIndexedCacheFactory');
            service = this;
        }
        /**
         * @ngdoc function
         * @name angularPoint.apCacheService:deleteEntity
         * @methodOf angularPoint.apCacheService
         * @description
         * Deletes all references to an entity.
         * @param {string} listId GUID for list the list item belongs to.
         * @param {number} entityId The entity.id.
         */
        CacheService.prototype.deleteEntity = function (listId, entityId) {
            var entityTypeKey = this.getListId(listId);
            this.removeEntity(entityTypeKey, entityId);
            var model = this.getModel(entityTypeKey);
            _.each(model.queries, function (query) {
                var cache = query.getCache();
                cache.removeEntity(entityId);
            });
        };
        /**
         * @ngdoc function
         * @name angularPoint.apCacheService:getCachedEntities
         * @methodOf angularPoint.apCacheService
         * @description
         * Returns all entities for a given model as an indexed cache with keys being the entity id's.
         * @param {string} listId GUID for list the list item belongs to.
         * @returns {object} Indexed cache containing all entities for a model.
         */
        CacheService.prototype.getCachedEntities = function (listId) {
            var modelCache = this.getModelCache(listId), allEntities = apIndexedCacheFactory.create();
            _.each(modelCache, function (entityContainer) {
                if (entityContainer.entity && entityContainer.entity.id) {
                    allEntities.addEntity(entityContainer.entity);
                }
            });
            return allEntities;
        };
        /**
         * @ngdoc function
         * @name angularPoint.apCacheService:getCachedEntity
         * @methodOf angularPoint.apCacheService
         * @description
         * Synchronise call to return a cached entity;
         * @param {string} listId GUID for list the list item belongs to.
         * @param {number} entityId The entity.id.
         * @returns {object} entity || undefined
         */
        CacheService.prototype.getCachedEntity = function (listId, entityId) {
            return this.getEntityContainer(listId, entityId).entity;
        };
        /**
         * @ngdoc function
         * @name angularPoint.apCacheService:getEntity
         * @methodOf angularPoint.apCacheService
         * @description
         * Returns a deferred object that resolves with the requested entity immediately if already present or at
         *     some point in the future assuming the entity is eventually registered.
         * @param {string} listId GUID for list the list item belongs to.
         * @param {number} entityId The entity.id.
         * @returns {promise} entity
         */
        CacheService.prototype.getEntity = function (listId, entityId) {
            var entityContainer = this.getEntityContainer(listId, entityId);
            return entityContainer.getEntity();
        };
        CacheService.prototype.getEntityContainer = function (listId, entityId) {
            var entityTypeKey = this.getListId(listId);
            var modelCache = this.getModelCache(entityTypeKey);
            /** Create the object structure if it doesn't already exist */
            modelCache[entityId] = modelCache[entityId] || new EntityContainer(entityTypeKey, entityId);
            return modelCache[entityId];
        };
        /**
         * @ngdoc function
         * @name angularPoint.apCacheService:getListId
         * @methodOf angularPoint.apCacheService
         * @description
         * Allows us to use either the List Name or the list GUID and returns the lowercase GUID
         * @param {string} keyString List GUID or name.
         * @returns {string} Lowercase list GUID.
         */
        CacheService.prototype.getListId = function (keyString) {
            if (_.isGuid(keyString)) {
                /** GUID */
                return keyString.toLowerCase();
            }
            else {
                /** List Title */
                return this.getListIdFromListName(keyString);
            }
        };
        /**
         * @ngdoc function
         * @name angularPoint.apCacheService:getListIdFromListName
         * @methodOf angularPoint.apCacheService
         * @description
         * Allows us to lookup an entity cache using the name of the list instead of the GUID.
         * @param {string} name The name of the list.
         * @returns {string} GUID for the list.
         */
        CacheService.prototype.getListIdFromListName = function (name) {
            var guid;
            if (listNameToIdMap[name] && listNameToIdMap[name].listId) {
                guid = listNameToIdMap[name].listId;
            }
            return guid;
        };
        /**
         * @ngdoc function
         * @name angularPoint.apCacheService:getModel
         * @methodOf angularPoint.apCacheService
         * @description
         * Allows us to retrieve a reference to a given model by either the list title or list GUID.
         * @param {string} listId List title or list GUID.
         * @returns {object} A reference to the requested model.
         */
        CacheService.prototype.getModel = function (listId) {
            var model, entityTypeKey = this.getListId(listId);
            if (listsMappedByListId[entityTypeKey]) {
                model = listsMappedByListId[entityTypeKey].model;
            }
            return model;
        };
        /** Locates the stored cache for a model */
        CacheService.prototype.getModelCache = function (listId) {
            var entityTypeKey = this.getListId(listId);
            entityCache[entityTypeKey] = entityCache[entityTypeKey] || new ModelCache();
            return entityCache[entityTypeKey];
        };
        /**
         * @ngdoc function
         * @name angularPoint.apCacheService:registerEntity
         * @methodOf angularPoint.apCacheService
         * @description
         * Registers an entity in the cache and fulfills any pending deferred requests for the entity. If the
         * entity already exists in the cache, we extend the existing object with the updated entity and return a
         * reference to this updated object so the there is only a single instance of this entity withing the cache.
         * @param {object} entity Pass in a newly created entity to add to the cache.
         * @param {object} [targetCache] Optionally pass in a secondary cache to add a reference to this entity.
         */
        CacheService.prototype.registerEntity = function (entity, targetCache) {
            var model = entity.getModel();
            var entityContainer = this.getEntityContainer(model.list.getListId(), entity.id);
            /** Maintain a single object in cache for this entity */
            if (!_.isObject(entityContainer.entity)) {
                /** Entity isn't currently in the cache */
                entityContainer.entity = entity;
            }
            else {
                /** Already exists so update to maintain any other references being used for this entity. */
                //TODO Look at performance hit from extending and see if it would be acceptable just to replace
                _.assign(entityContainer.entity, entity);
            }
            /** Counter to keep track of the number of updates for this entity */
            entityContainer.updateCount++;
            if (_.isObject(targetCache) && !_.isArray(targetCache) && !targetCache[entity.id]) {
                /** Entity hasn't been added to the target cache yet */
                targetCache[entity.id] = entityContainer.entity;
            }
            /** Resolve any requests for this entity */
            _.each(entityContainer.associationQueue, function (deferredRequest) {
                deferredRequest.resolve(entityContainer.entity);
                /** Remove request from queue */
                entityContainer.associationQueue.shift();
            });
            return entityContainer.entity;
        };
        /**
         * @ngdoc function
         * @name angularPoint.apCacheService:registerModel
         * @methodOf angularPoint.apCacheService
         * @description
         * Creates a new ModelCache for the provide model where all list items will be stored with the key equaling
         * the entity id's and value being a EntityContainer.  The entity is stored at EntityContainer.entity.
         * @param {object} model Model to create the cache for.
         */
        CacheService.prototype.registerModel = function (model) {
            if (model.list && model.list.getListId() && model.list.title) {
                var listId = model.list.getListId().toLowerCase();
                /** Store a reference to the model by list title */
                listNameToIdMap[model.list.title] = {
                    model: model,
                    listId: listId
                };
                /** Store a reference to the model by list guid */
                listsMappedByListId[listId] = {
                    model: model
                };
            }
        };
        /**
         * @ngdoc function
         * @name angularPoint.apCacheService:removeEntity
         * @methodOf angularPoint.apCacheService
         * @description
         * Removes the entity from the local entity cache.
         * @param {string} listId GUID for list the list item belongs to.
         * @param {number} entityId The entity.id.
         */
        CacheService.prototype.removeEntity = function (listId, entityId) {
            var modelCache = this.getModelCache(listId);
            if (modelCache[entityId]) {
                delete modelCache[entityId];
            }
        };
        return CacheService;
    })();
    ap.CacheService = CacheService;
    /**
     * @ngdoc service
     * @name angularPoint.apCacheService
     * @description
     * Stores a reference for all list items based on list GUID and list item id.  Allows us to then register promises
     *     that resolve once a requested list item is registered in the future.
     */
    angular.module('angularPoint').service('apCacheService', CacheService);
})(ap || (ap = {}));

/// <reference path="../../typings/ap.d.ts" />
var ap;
(function (ap) {
    'use strict';
    /**
     * @ngdoc service
     * @name apChangeService
     * @description
     * Primarily used for apMockBackend so we can know what to expect before an attempt to update a list
     * item is intercepted.
     */
    var ChangeService = (function () {
        function ChangeService() {
            this.callbackQueue = [];
        }
        ChangeService.prototype.registerListItemUpdate = function (entity, options, promise) {
            _.each(this.callbackQueue, function (callback) {
                callback(entity, options, promise);
            });
        };
        ChangeService.prototype.subscribeToUpdates = function (callback) {
            this.callbackQueue.push(callback);
        };
        return ChangeService;
    })();
    ap.ChangeService = ChangeService;
    angular.module('angularPoint').service('apChangeService', ChangeService);
})(ap || (ap = {}));

/// <reference path="../../typings/ap.d.ts" />
var ap;
(function (ap) {
    'use strict';
    var service, $q, $timeout, $http, apConfig, apUtilityService, apCacheService, apDecodeService, apEncodeService, apFieldService, apIndexedCacheFactory, toastr, SPServices, apDefaultListItemQueryOptions, apWebServiceOperationConstants, apXMLToJSONService, apChangeService;
    var DataService = (function () {
        function DataService($injector) {
            service = this;
            $http = $injector.get('$http');
            $q = $injector.get('$q');
            $timeout = $injector.get('$timeout');
            apCacheService = $injector.get('apCacheService');
            apChangeService = $injector.get('apChangeService');
            apConfig = $injector.get('apConfig');
            apDecodeService = $injector.get('apDecodeService');
            apDefaultListItemQueryOptions = $injector.get('apDefaultListItemQueryOptions');
            apEncodeService = $injector.get('apEncodeService');
            apFieldService = $injector.get('apFieldService');
            apIndexedCacheFactory = $injector.get('apIndexedCacheFactory');
            apUtilityService = $injector.get('apUtilityService');
            apWebServiceOperationConstants = $injector.get('apWebServiceOperationConstants');
            apXMLToJSONService = $injector.get('apXMLToJSONService');
            SPServices = $injector.get('SPServices');
            toastr = $injector.get('toastr');
        }
        /**
         * @ngdoc function
         * @name DataService.createListItem
         * @description
         * Creates a new list item for the provided model.
         * @param {object} model Reference to the entities model.
         * @param {object} listItem JavaScript object representing the SharePoint list item.
         * @param {object} [options] Optional configuration params.
         * @param {boolean} [options.buildValuePairs=true] Automatically generate pairs based on fields defined in model.
         * @param {Array[]} [options.valuePairs] Precomputed value pairs to use instead of generating them for each
         * field identified in the model.
         * @returns {object} Promise which resolves with the newly created item.
         */
        DataService.prototype.createListItem = function (model, listItem, options) {
            var defaults = {
                batchCmd: 'New',
                buildValuePairs: true,
                indexedCache: apIndexedCacheFactory.create({}),
                listName: model.list.getListId(),
                operation: 'UpdateListItems',
                target: undefined,
                valuePairs: [],
                webURL: model.list.identifyWebURL()
            }, deferred = $q.defer();
            defaults.target = defaults.indexedCache;
            var opts = _.extend({}, defaults, options);
            if (opts.buildValuePairs === true) {
                var editableFields = _.where(model.list.fields, { readOnly: false });
                opts.valuePairs = apEncodeService.generateValuePairs(editableFields, listItem);
            }
            opts.getCache = function () { return opts.indexedCache; };
            /** Overload the function then pass anything past the first parameter to the supporting methods */
            this.serviceWrapper(opts).then(function (response) {
                /** Online this should return an XML object */
                var indexedCache = apDecodeService.processListItems(model, opts, response, opts);
                /** Return reference to last listItem in cache because it will have the new highest id */
                deferred.resolve(indexedCache.last());
            }, function (err) {
                deferred.reject(err);
            });
            return deferred.promise;
        };
        DataService.prototype.createItemUrlFromFileRef = function (fileRefString) {
            return window.location.protocol + '//' + window.location.hostname + '/' + fileRefString;
        };
        /**
         * @ngdoc function
         * @name DataService.deleteAttachment
         * @description
         * Deletes and attachment on a list item.  Most commonly used by ListItem.deleteAttachment which is shown
         * in the example.
         *
         * @param {object} options Configuration parameters.
         * @param {string} options.listItemId ID of the list item with the attachment.
         * @param {string} options.url Requires the URL for the attachment we want to delete.
         * @param {string} options.listName Best option is the GUID of the list.
         * <pre>'{37388A98-534C-4A28-BFFA-22429276897B}'</pre>
         *
         * @returns {object} Promise which resolves with the updated attachment collection.
         *
         * @example
         * <pre>
         * ListItem.prototype.deleteAttachment = function (url) {
         *    var listItem = this;
         *    return DataService.deleteAttachment({
         *        listItemId: listItem.id,
         *        url: url,
         *        listName: listItem.getModel().list.getListId()
         *    });
         * };
         * </pre>
         */
        DataService.prototype.deleteAttachment = function (options) {
            var defaults = {
                operation: 'DeleteAttachment',
                filterNode: 'Field'
            };
            var opts = _.extend({}, defaults, options);
            return this.serviceWrapper(opts);
        };
        /**
         * @ngdoc function
         * @name DataService.deleteListItem
         * @description
         * Typically called directly from a list item, removes the list item from SharePoint
         * and the local cache.
         * @param {object} model Reference to the entities model.
         * @param {object} listItem JavaScript object representing the SharePoint list item.
         * @param {object} [options] Optional configuration params.
         * @param {Array} [options.target=item.getCache()] Optional location to search through and remove the
         * local cached copy.
         * @returns {object} Promise which resolves when the operation is complete.  Nothing of importance is returned.
         */
        DataService.prototype.deleteListItem = function (model, listItem, options) {
            var defaults = {
                target: _.isFunction(listItem.getCache) ? listItem.getCache() : model.getCache(),
                operation: 'UpdateListItems',
                listName: model.list.getListId(),
                batchCmd: 'Delete',
                ID: listItem.id,
                webURL: model.list.identifyWebURL()
            };
            var opts = _.extend({}, defaults, options);
            var deferred = $q.defer();
            this.serviceWrapper(opts).then(function () {
                /** Success */
                apCacheService.deleteEntity(opts.listName, listItem.id);
                deferred.resolve();
            }, function (outcome) {
                //In the event of an error, display toast
                toastr.error('There was an error deleting a list item from ' + model.list.title);
                deferred.reject(outcome);
            });
            return deferred.promise;
        };
        /**
         * @ngdoc function
         * @name DataService.executeQuery
         * @description
         * Primary method of retrieving list items from SharePoint.  Look at Query and Model for specifics.
         * @param {object} model Reference to the model where the Query resides.
         * @param {object} query Reference to the Query making the call.
         * @param {object} [options] Optional configuration parameters.
         * @param {Array} [options.target=model.getCache()] The target destination for returned entities
         * @returns {object} - Key value hash containing all list item id's as keys with the listItem as the value.
         */
        DataService.prototype.executeQuery = function (model, query, options) {
            var _this = this;
            var defaults = {
                target: model.getCache()
            };
            var deferred = $q.defer();
            /** Extend defaults **/
            var opts = _.extend({}, defaults, options);
            this.serviceWrapper(query).then(function (response) {
                if (query.operation === 'GetListItemChangesSinceToken') {
                    _this.processChangeTokenXML(model, query, response, opts);
                }
                /** Convert the XML into JS objects */
                var entities = apDecodeService.processListItems(model, query, response, opts);
                deferred.resolve(entities);
                /** Set date time to allow for time based updates */
                query.lastRun = new Date();
            });
            return deferred.promise;
        };
        /**
         * @ngdoc function
         * @name DataService.generateWebServiceUrl
         * @description
         * Builds the appropriate SharePoint resource URL.  If a URL isn't provided and it hasn't already been cached
         * we make a call to the server to find the root URL.  All future requests will then use this cached value.
         * @param {string} service The name of the service the SOAP operation is using.
         * @param {string} [webURL] Optionally provide the URL so we don't need to make a call to the server.
         * @returns {promise} Resolves with the url for the service.
         */
        DataService.prototype.generateWebServiceUrl = function (service, webURL) {
            var ajaxURL = "_vti_bin/" + service + ".asmx", deferred = $q.defer();
            if (webURL) {
                ajaxURL = webURL.charAt(webURL.length - 1) === '/' ? webURL + ajaxURL : webURL + '/' + ajaxURL;
                deferred.resolve(ajaxURL);
            }
            else {
                this.getCurrentSite().then(function (thisSite) {
                    ajaxURL = thisSite + ((thisSite.charAt(thisSite.length - 1) === '/') ? ajaxURL : ('/' + ajaxURL));
                    deferred.resolve(ajaxURL);
                });
            }
            return deferred.promise;
        };
        /**
         * @ngdoc function
         * @name DataService.getAvailableWorkflows
         * @description
         * Given a list item or document, return an array of all available workflows.  This is used in combination with
         * DataService.startWorkflow because it requires the template GUID for the target workflow.
         * @example
         * <pre>
         * DataService.getAvailableWorkflows(listItem.fileRef.lookupValue)
         *     .then(function(templateArray) {
         *          ....templateArray = [{
         *              "name": "WidgetApproval",
         *              "instantiationUrl": "https: //sharepoint.mycompany.com/_layouts/IniWrkflIP.aspx?List=fc17890e-8c0…311-cea9-40d1-a183-6edde9333815}&Web={ec744d8e-ae0a-45dd-bcd1-8a63b9b399bd}",
         *              "templateId": "59062311-cea9-40d1-a183-6edde9333815"
         *          }]
         *     });
         * </pre>
         * @param {string} fileRefString Relative or static url referencing the item.
         * @returns {object} Resolves with an array of objects defining each of the available workflows for the item.
         */
        DataService.prototype.getAvailableWorkflows = function (fileRefString) {
            var deferred = $q.defer();
            /** Build the full url for the fileRef if not already provided.  FileRef for an item defaults to a relative url */
            var itemUrl = fileRefString.indexOf(': //') > -1 ? fileRefString : this.createItemUrlFromFileRef(fileRefString);
            this.serviceWrapper({
                operation: 'GetTemplatesForItem',
                item: itemUrl
            }).then(function (responseXML) {
                var workflowTemplates = [];
                var xmlTemplates = $(responseXML).SPFilterNode('WorkflowTemplate');
                _.each(xmlTemplates, function (xmlTemplate) {
                    var template = {
                        name: $(xmlTemplate).attr('Name'),
                        instantiationUrl: $(xmlTemplate).attr('InstantiationUrl'),
                        templateId: '{' + $(xmlTemplate).find('WorkflowTemplateIdSet').attr('TemplateId') + '}'
                    };
                    workflowTemplates.push(template);
                });
                deferred.resolve(workflowTemplates);
            });
            return deferred.promise;
        };
        /**
         * @ngdoc function
         * @name DataService.getCollection
         * @description
         * Used to handle any of the Get[filterNode]Collection calls to SharePoint
         *
         * @param {Object} options - object used to extend payload and needs to include all SPServices required attributes
         * @param {string} [options.operation] GetUserCollectionFromSite
         * @param {string} [options.operation] GetGroupCollectionFromSite
         * @param {string} [options.operation] GetGroupCollectionFromUser @requires options.userLoginName
         * @param {string} [options.operation] GetUserCollectionFromGroup @requires options.groupName
         * @param {string} [options.operation] GetListCollection
         * @param {string} [options.operation] GetViewCollection @requires options.listName
         * @param {string} [options.operation] GetAttachmentCollection @requires options.listName & options.ID
         * @param {string} [options.filterNode] - Value to iterate over in returned XML
         *         if not provided it's extracted from the name of the operation
         *         ex: Get[User]CollectionFromSite, "User" is used as the filterNode
         *
         * @returns {object[]} Promise which when resolved will contain an array of objects representing the
         * requested collection.
         *
         * @example
         * <pre>
         * DataService.getCollection({
         *        operation: "GetGroupCollectionFromUser",
         *        userLoginName: $scope.state.selectedUser.LoginName
         *        }).then(function (response) {
         *            postProcessFunction(response);
         *       });
         * </pre>
         */
        DataService.prototype.getCollection = function (options) {
            var defaults = {
                postProcess: processXML
            };
            var opts = _.extend({}, defaults, options);
            /** Determine the XML node to iterate over if filterNode isn't provided */
            var filterNode = opts.filterNode || opts.operation.split('Get')[1].split('Collection')[0];
            var deferred = $q.defer();
            /** Convert the xml returned from the server into an array of js objects */
            function processXML(serverResponse) {
                var convertedItems = [];
                /** Get attachments only returns the links associated with a list item */
                if (opts.operation === 'GetAttachmentCollection') {
                    /** Unlike other call, get attachments only returns strings instead of an object with attributes */
                    $(serverResponse).SPFilterNode(filterNode).each(function () {
                        convertedItems.push($(this).text());
                    });
                }
                else {
                    var nodes = $(serverResponse).SPFilterNode(filterNode);
                    convertedItems = apXMLToJSONService.parse(nodes, { includeAllAttrs: true, removeOws: false });
                }
                return convertedItems;
            }
            var validPayload = this.validateCollectionPayload(opts);
            if (validPayload) {
                this.serviceWrapper(opts).then(function (response) {
                    deferred.resolve(response);
                });
            }
            else {
                toastr.error('Invalid payload: ', opts);
                deferred.reject();
            }
            return deferred.promise;
        };
        /**
         * @ngdoc function
         * @name DataService.getCurrentSite
         * @description
         * Requests and caches the root url for the current site.  It caches the response so any future calls receive
         * the cached promise.
         * @returns {promise} Resolves with the current site root url.
         */
        DataService.prototype.getCurrentSite = function () {
            var deferred = $q.defer();
            //var self = this.getCurrentSite;
            if (!this.queryForCurrentSite) {
                /** We only want to run this once so cache the promise the first time and just reference it in the future */
                this.queryForCurrentSite = deferred.promise;
                var msg = SPServices.SOAPEnvelope.header + "<WebUrlFromPageUrl xmlns='" + SPServices.SCHEMASharePoint + "/soap/' ><pageUrl>" + ((location.href.indexOf("?") > 0) ? location.href.substr(0, location.href.indexOf("?")) : location.href) + "</pageUrl></WebUrlFromPageUrl>" + SPServices.SOAPEnvelope.footer;
                $http({
                    method: 'POST',
                    url: '/_vti_bin/Webs.asmx',
                    data: msg,
                    responseType: "document",
                    headers: {
                        "Content-Type": "text/xml;charset='utf-8'"
                    }
                }).then(function (response) {
                    /** Success */
                    apConfig.defaultUrl = $(response.data).find("WebUrlFromPageUrlResult").text();
                    deferred.resolve(apConfig.defaultUrl);
                }, function (response) {
                    /** Error */
                    var error = apDecodeService.checkResponseForErrors(response.data);
                    deferred.reject(error);
                });
            }
            return this.queryForCurrentSite;
        };
        /**
         * @ngdoc function
         * @name DataService.getFieldVersionHistory
         * @description
         * Returns the version history for a field in a list item.
         * @param {object} options Configuration object passed to SPServices.
         * <pre>
         * var options = {
         *        operation: 'GetVersionCollection',
         *        webURL: apConfig.defaultUrl,
         *        strlistID: model.list.getListId(),
         *        strlistItemID: listItem.id,
         *        strFieldName: fieldDefinition.staticName
         *    };
         * </pre>
         * @param {object} fieldDefinition Field definition object from the model.
         * @returns {object[]} Promise which resolves with an array of list item changes for the specified field.
         */
        DataService.prototype.getFieldVersionHistory = function (options, fieldDefinition) {
            var defaults = {
                operation: 'GetVersionCollection'
            };
            var opts = _.extend({}, defaults, options);
            var deferred = $q.defer();
            this.serviceWrapper(opts).then(function (response) {
                /** Parse XML response */
                var versions = apDecodeService.parseFieldVersions(response, fieldDefinition);
                /** Resolve with an array of all field versions */
                deferred.resolve(versions);
            }, function (outcome) {
                /** Failure */
                toastr.error('Failed to fetch version history.');
                deferred.reject(outcome);
            });
            return deferred.promise;
        };
        /**
         * @ngdoc function
         * @name DataService.getGroupCollectionFromUser
         * @description
         * Fetches an array of group names the user is a member of.  If no user is provided we use the current user.
         * @param {string} [login=CurrentUser] Optional param of another user's login to return the profile for.
         * @returns {string[]} Promise which resolves with the array of groups the user belongs to.
         */
        DataService.prototype.getGroupCollectionFromUser = function (login) {
            var _this = this;
            /** Create a new deferred object if not already defined */
            var deferred = $q.defer();
            var getGroupCollection = function (userLoginName) {
                _this.serviceWrapper({
                    operation: 'GetGroupCollectionFromUser',
                    userLoginName: userLoginName,
                    filterNode: 'Group'
                }).then(function (groupCollection) { return deferred.resolve(groupCollection); });
            };
            if (!login) {
                /** No login name provided so lookup profile for current user */
                this.getUserProfileByName().then(function (userProfile) { return getGroupCollection(userProfile.userLoginName); });
            }
            else {
                getGroupCollection(login);
            }
            return deferred.promise;
        };
        /**
         * @ngdoc function
         * @name DataService.getList
         * @description
         * Returns all list details including field and list config.
         * @param {object} options Configuration parameters.
         * @param {string} options.listName GUID of the list.
         * @returns {object} Promise which resolves with an object defining field and list config.
         */
        DataService.prototype.getList = function (options) {
            var defaults = {
                operation: 'GetList'
            };
            var opts = _.extend({}, defaults, options);
            return this.serviceWrapper(opts);
        };
        /**
         * @ngdoc function
         * @name DataService.getListFields
         * @description
         * Returns field definitions for a specified list.
         * @param {object} options Configuration parameters.
         * @param {string} options.listName GUID of the list.
         * @returns {object} Promise which resolves with an array of field definitions for the list.
         */
        DataService.prototype.getListFields = function (options) {
            var deferred = $q.defer();
            this.getList(options).then(function (responseXml) {
                var nodes = $(responseXml).SPFilterNode('Field');
                var fields = apXMLToJSONService.parse(nodes, { includeAllAttrs: true, removeOws: false });
                deferred.resolve(fields);
            });
            return deferred.promise;
        };
        /**
         * @ngdoc function
         * @name DataService.getUserProfile
         * @description
         * Returns the profile for an optional user, but defaults the the current user if one isn't provided.
         * Pull user profile info and parse into a profile object
         * http: //spservices.codeplex.com/wikipage?title=GetUserProfileByName
         * @param {string} [login=CurrentUser] Optional param of another user's login to return the profile for.
         * @returns {object} Promise which resolves with the requested user profile.
         */
        DataService.prototype.getUserProfileByName = function (login) {
            var deferred = $q.defer();
            var payload = {
                accountName: undefined,
                operation: 'GetUserProfileByName'
            };
            if (login) {
                payload.accountName = login;
            }
            this.serviceWrapper(payload).then(function (serverResponse) {
                var userProfile = {
                    AccountName: undefined,
                    userLoginName: undefined
                };
                //Not formatted like a normal SP response so need to manually parse
                $(serverResponse).SPFilterNode('PropertyData').each(function () {
                    var nodeName = $(this).SPFilterNode('Name');
                    var nodeValue = $(this).SPFilterNode('Value');
                    if (nodeName.length > 0 && nodeValue.length > 0) {
                        userProfile[nodeName.text().trim()] = nodeValue.text().trim();
                    }
                });
                /** Optionally specify a necessary prefix that should appear before the user login */
                userProfile.userLoginName = apConfig.userLoginNamePrefix ? (apConfig.userLoginNamePrefix + userProfile.AccountName) : userProfile.AccountName;
                deferred.resolve(userProfile);
            });
            return deferred.promise;
        };
        /**
         * @ngdoc function
         * @name DataService.processChangeTokenXML
         * @description
         * The initial call to GetListItemChangesSinceToken also includes the field definitions for the
         * list so extend the existing field definitions and list defined in the model.  After that, store
         * the change token and make any changes to the user's permissions for the list.
         * @param {Model} model List model.
         * @param {IQuery} query Valid query object.
         * @param {XMLDocument} responseXML XML response from the server.
         * @param {object} opts Config options built up along the way.
         */
        DataService.prototype.processChangeTokenXML = function (model, query, responseXML, opts) {
            if (!model.deferredListDefinition) {
                var deferred = $q.defer();
                /** Replace the null placeholder with this promise so we don't have to process in the future and also
                 * don't have to query again if we run Model.extendListMetadata. */
                model.deferredListDefinition = deferred.promise;
                /** Immediately resolve because there's no need to perform any async actions */
                deferred.resolve(model);
                apDecodeService.extendListMetadata(model, responseXML);
            }
            /** Store token for future web service calls to return changes */
            query.changeToken = this.retrieveChangeToken(responseXML);
            /** Update the user permissions for this list */
            var effectivePermissionMask = this.retrievePermMask(responseXML);
            if (effectivePermissionMask) {
                model.list.effectivePermMask = effectivePermissionMask;
            }
            /** Change token query includes deleted items as well so we need to process them separately */
            this.processDeletionsSinceToken(responseXML, opts.target);
        };
        /**
         * @ngdoc function
         * @name DataService.processDeletionsSinceToken
         * @description
         * GetListItemChangesSinceToken returns items that have been added as well as deleted so we need
         * to remove the deleted items from the local cache.
         * @param {XMLDocument} responseXML XML response from the server.
         * @param {Object} indexedCache Cached object of key value pairs.
         */
        DataService.prototype.processDeletionsSinceToken = function (responseXML, indexedCache) {
            /** Remove any locally cached entities that were deleted from the server */
            $(responseXML).SPFilterNode('Id').each(function () {
                /** Check for the type of change */
                var changeType = $(this).attr('ChangeType');
                if (changeType === 'Delete') {
                    var listItemId = parseInt($(this).text(), 10);
                    /** Remove from local data array */
                    indexedCache.removeEntity(listItemId);
                }
            });
        };
        /**
         * @ngdoc function
         * @name DataService.requestData
         * @description
         * The primary function that handles all communication with the server.  This is very low level and isn't
         * intended to be called directly.
         * @param {object} opts Payload object containing the details of the request.
         * @returns {promise} Promise that resolves with the server response.
         */
        DataService.prototype.requestData = function (opts) {
            var deferred = $q.defer();
            var soapData = SPServices.generateXMLComponents(opts);
            var service = apWebServiceOperationConstants[opts.operation][0];
            this.generateWebServiceUrl(service, opts.webURL).then(function (url) {
                $http.post(url, soapData.msg, {
                    responseType: "document",
                    headers: {
                        "Content-Type": "text/xml;charset='utf-8'",
                        SOAPAction: function () { return soapData.SOAPAction ? soapData.SOAPAction : null; }
                    },
                    transformResponse: function (data, headersGetter) {
                        if (_.isString(data)) {
                            data = $.parseXML(data);
                        }
                        return data;
                    }
                }).then(function (response) {
                    /** Success */
                    /** Errors can still be resolved without throwing an error so check the XML */
                    var error = apDecodeService.checkResponseForErrors(response.data);
                    if (error) {
                        console.error(error, opts);
                        deferred.reject(error);
                    }
                    else {
                        deferred.resolve(response.data);
                    }
                }, function (response) {
                    /** Failure */
                    var error = apDecodeService.checkResponseForErrors(response.data);
                    console.error(response.statusText, opts);
                    deferred.reject(response.statusText + ': ' + error);
                });
            });
            return deferred.promise;
        };
        /**
         * @ngdoc function
         * @name DataService.retrieveChangeToken
         * @description
         * Returns the change token from the xml response of a GetListItemChangesSinceToken query
         * Note: this attribute is only found when using 'GetListItemChangesSinceToken'
         * @param {XMLDocument} responseXML XML response from the server.
         */
        DataService.prototype.retrieveChangeToken = function (responseXML) {
            return $(responseXML).find('Changes').attr('LastChangeToken');
        };
        /**
         * @ngdoc function
         * @name DataService.retrievePermMask
         * @description
         * Returns the text representation of the users permission mask
         * Note: this attribute is only found when using 'GetListItemChangesSinceToken'
         * @param {XMLDocument} responseXML XML response from the server.
         */
        DataService.prototype.retrievePermMask = function (responseXML) {
            return $(responseXML).find('listitems').attr('EffectivePermMask');
        };
        /**
         * @ngdoc function
         * @name DataService.serviceWrapper
         * @description
         * Generic wrapper for any SPServices web service call.  The big benefit to this function is it allows us
         * to continue to use the $q promise model throughout the application instead of using the promise
         * implementation used in SPServices so we have a more consistent experience.
         * Check http: //spservices.codeplex.com/documentation for details on expected parameters for each operation.
         *
         * @param {object} options Payload params that is directly passed to SPServices.
         * @param {string} [options.webURL] XML filter string used to find the elements to iterate over.
         * @param {string} [options.filterNode] XML filter string used to find the elements to iterate over.
         * This is typically 'z: row' for list items.
         * @returns {object} Returns a promise which when resolved either returns clean objects parsed by the value
         * in options.filterNode or the raw XML response if a options.filterNode
         *
         *      If options.filterNode is provided, returns XML parsed by node name
         *      Otherwise returns the server response
         */
        DataService.prototype.serviceWrapper = function (options) {
            var defaults = {
                postProcess: processXML,
                webURL: apConfig.defaultUrl
            };
            var opts = _.extend({}, defaults, options);
            var deferred = $q.defer();
            /** Convert the xml returned from the server into an array of js objects */
            function processXML(serverResponse) {
                if (opts.filterNode) {
                    var nodes = $(serverResponse).SPFilterNode(opts.filterNode);
                    return apXMLToJSONService.parse(nodes, { includeAllAttrs: true, removeOws: false });
                }
                else {
                    return serverResponse;
                }
            }
            this.requestData(opts).then(function (response) {
                /** Failure */
                var data = opts.postProcess(response);
                deferred.resolve(data);
            }, function (response) {
                /** Failure */
                toastr.error('Failed to complete the requested ' + opts.operation + ' operation.');
                deferred.reject(response);
            });
            return deferred.promise;
        };
        /**
         * @ngdoc function
         * @name DataService.startWorkflow
         * @description
         * Initiate a workflow for a given list item or document.  You can view additional info at
         * [StartWorkflow](http: //spservices.codeplex.com/wikipage?title=StartWorkflow&referringTitle=Workflow).
         * @param {object} options Configuration options.
         * @param {string} options.item Full fileRef for the given list item/document.
         * @param {string} options.templateId The workflow template GUID.  You can use dataService.getAvailableWorkflows
         * to locate to appropriate one.
         * @param {string} [options.workflowParameters='<root />'] Optionally provide paramaters to the workflow.
         * @param {string} [options.fileRef] Optionally pass in the relative fileRef of an listItem and then we can
         * convert it to options.item.
         * @returns {object} Deferred object that resolves once complete.
         * @example
         * <pre>
         * DataService.startWorkflow({
         *     item: "https: //server/site/Lists/item" + idData + "_.000",
         *     templateId: "{c29c1291-a25c-47d7-9345-8fb1de2a1fa3}",
         *     workflowParameters: "<Data><monthName>" + txtBox.value + "</monthName></Data>",
         *   ...}).then(function() {
         *       //Success
         *   }, function(err) {
         *       //Error
         *   })
         * </pre>
         */
        DataService.prototype.startWorkflow = function (options) {
            var defaults = {
                operation: 'StartWorkflow',
                item: '',
                fileRef: '',
                templateId: '',
                workflowParameters: '<root />'
            }, opts = _.extend({}, defaults, options);
            /** We have the relative file reference but we need to create the fully qualified reference */
            if (!opts.item && opts.fileRef) {
                opts.item = this.createItemUrlFromFileRef(opts.fileRef);
            }
            return this.serviceWrapper(opts);
        };
        /**
         * @ngdoc function
         * @name DataService.updateListItem
         * @description
         * Updates an existing list item.
         * @param {object} model Reference to the entities model.
         * @param {object} listItem JavaScript object representing the SharePoint list item.
         * @param {object} [options] Optional configuration params.
         * @param {boolean} [options.buildValuePairs=true] Automatically generate pairs based on fields defined in model.
         * @param {Array[]} [options.valuePairs] Precomputed value pairs to use instead of generating them for each
         * field identified in the model.
         * @returns {object} Promise which resolves with the newly created item.
         */
        DataService.prototype.updateListItem = function (model, listItem, options) {
            var defaults = {
                batchCmd: 'Update',
                buildValuePairs: true,
                ID: listItem.id,
                listName: model.list.getListId(),
                operation: 'UpdateListItems',
                target: listItem.getCache(),
                valuePairs: [],
                webURL: model.list.identifyWebURL()
            }, deferred = $q.defer(), opts = _.extend({}, defaults, options);
            if (opts.buildValuePairs === true) {
                var editableFields = _.where(model.list.fields, { readOnly: false });
                opts.valuePairs = apEncodeService.generateValuePairs(editableFields, listItem);
            }
            if (model.list.webURL && !opts.webURL) {
                opts.webURL = model.list.webURL;
            }
            /** Notify any listeners to expect a change */
            apChangeService.registerListItemUpdate(listItem, opts, deferred.promise);
            ///** Overload the function then pass anything past the first parameter to the supporting methods */
            //this.serviceWrapper(opts, listItem, model)
            this.serviceWrapper(opts).then(function (response) {
                var indexedCache = apDecodeService.processListItems(model, listItem.getQuery(), response, opts);
                /** Return reference to updated listItem  */
                deferred.resolve(indexedCache[listItem.id]);
            }, function (err) {
                deferred.reject(err);
            });
            return deferred.promise;
        };
        /**
         * @description
         * Simply verifies that all components of the payload are present.
         * @param {object} opts Payload config.
         * @returns {boolean} Collection is valid.
         */
        DataService.prototype.validateCollectionPayload = function (opts) {
            var validPayload = true;
            var verifyParams = function (params) {
                _.each(params, function (param) {
                    if (!opts[param]) {
                        toastr.error('options' + param + ' is required to complete this operation');
                        validPayload = false;
                    }
                });
            };
            switch (opts.operation) {
                case 'GetGroupCollectionFromUser':
                    verifyParams(['userLoginName']);
                    break;
                case 'GetUserCollectionFromGroup':
                    verifyParams(['groupName']);
                    break;
                case 'GetViewCollection':
                    verifyParams(['listName']);
                    break;
                case 'GetAttachmentCollection':
                    verifyParams(['listName', 'ID']);
                    break;
            }
            return validPayload;
        };
        return DataService;
    })();
    ap.DataService = DataService;
    angular.module('angularPoint').service('apDataService', DataService);
})(ap || (ap = {}));

/// <reference path="../../typings/ap.d.ts" />
var ap;
(function (ap) {
    'use strict';
    /**
     * @ngdoc service
     * @name angularPoint.apDecodeService
     * @description
     * Processes the XML received from SharePoint and converts it into JavaScript objects based on predefined field types.
     *
     * @requires angularPoint.apUtilityService
     * @requires angularPoint.apConfig
     * @requires angularPoint.apCacheService
     */
    var DecodeService = (function () {
        function DecodeService(apCacheService, apLookupFactory, apUserFactory, apFieldService, apXMLListAttributeTypes, apXMLFieldAttributeTypes) {
            this.apCacheService = apCacheService;
            this.apLookupFactory = apLookupFactory;
            this.apUserFactory = apUserFactory;
            this.apFieldService = apFieldService;
            this.apXMLListAttributeTypes = apXMLListAttributeTypes;
            this.apXMLFieldAttributeTypes = apXMLFieldAttributeTypes;
        }
        /**
         * @ngdoc function
         * @name angularPoint.apDecodeService:checkResponseForErrors
         * @methodOf angularPoint.apDecodeService
         * @description
         * Errors don't always throw correctly from SPServices so this function checks to see if part
         * of the XHR response contains an "errorstring" element.
         * @param {object} responseXML XHR response from the server.
         * @returns {string|null} Returns an error string if present, otherwise returns null.
         */
        DecodeService.prototype.checkResponseForErrors = function (responseXML) {
            var error = null;
            /** Look for <errorstring></errorstring> or <ErrorText></ErrorText> for details on any errors */
            var errorElements = ['ErrorText', 'errorstring'];
            _.each(errorElements, function (element) {
                $(responseXML).find(element).each(function () {
                    error = $(this).text();
                    /** Break early if found */
                    return false;
                });
            });
            return error;
        };
        /** Converts UTC date to a localized date
         * Taken from: http://stackoverflow.com/questions/6525538/convert-utc-date-time-to-local-date-time-using-javascript
         * */
        DecodeService.prototype.convertUTCDateToLocalDate = function (date) {
            var newDate = new Date(date.getTime() + date.getTimezoneOffset() * 60 * 1000);
            var offset = date.getTimezoneOffset() / 60;
            var hours = date.getHours();
            newDate.setHours(hours - offset);
            return newDate;
        };
        /**
         * @ngdoc function
         * @name angularPoint.apDecodeService:createListItemProvider
         * @methodOf angularPoint.apDecodeService
         * @description
         * The initial constructor for a list item that references the array where the entity exists and the
         * query used to fetch the entity.  From there it extends the entity using the factory defined in the
         * model for the list item.
         * @param {object} model Reference to the model for the list item.
         * @param {object} query Reference to the query object used to retrieve the entity.
         * @param {object} indexedCache Location where we'll be pushing the new entity.
         * @returns {Function} Returns a function that takes the new list item while keeping model, query,
         * and container in scope for future reference.
         */
        DecodeService.prototype.createListItemProvider = function (model, query, indexedCache) {
            var _this = this;
            return function (rawObject) {
                /** Create Reference to the indexed cache */
                rawObject.getCache = function () { return indexedCache; };
                /** Allow us to reference the originating query that generated this object */
                rawObject.getQuery = function () { return query; };
                /** Allow us to reference the parent model for any list item */
                //rawObject.getModel = () => model;
                var listItem = new model.factory(rawObject);
                /** Register in global application listItem cache and extends the existing listItem if it
                 * already exists */
                return _this.apCacheService.registerEntity(listItem, indexedCache);
            };
        };
        /**
         * @ngdoc function
         * @name angularPoint.apDecodeService:extendFieldDefinitionsFromXML
         * @methodOf angularPoint.apDecodeService
         * @description
         * Takes the XML response from a web service call and extends any field definitions in the model
         * with additional field metadata.  Important to note that all properties will coming from the XML start
         * with a capital letter.
         * @param {object[]} fieldDefinitions Field definitions from the model.
         * @param {object} responseXML XML response from the server.
         */
        DecodeService.prototype.extendFieldDefinitionsFromXML = function (fieldDefinitions, responseXML) {
            var _this = this;
            var fieldMap = {};
            /** Map all custom fields with keys of the staticName and values = field definition */
            _.each(fieldDefinitions, function (field) {
                if (field.staticName) {
                    fieldMap[field.staticName] = field;
                }
            });
            /** Iterate over each of the field nodes */
            var fields = $(responseXML).SPFilterNode('Field');
            _.each(fields, function (xmlField) {
                var staticName = $(xmlField).attr('StaticName');
                var fieldDefinition = fieldMap[staticName];
                /** If we've defined this field then we should extend it */
                if (fieldDefinition) {
                    _this.extendObjectWithXMLAttributes(xmlField, fieldDefinition, _this.apXMLFieldAttributeTypes);
                    /** Additional processing for Choice fields to include the default value and choices */
                    if (fieldDefinition.objectType === 'Choice' || fieldDefinition.objectType === 'MultiChoice') {
                        fieldDefinition.Choices = [];
                        /** Convert XML Choices object to an array of choices */
                        var xmlChoices = $(xmlField).find('CHOICE');
                        _.each(xmlChoices, function (xmlChoice) {
                            fieldDefinition.Choices.push($(xmlChoice).text());
                        });
                        fieldDefinition.Default = $(xmlField).find('Default').text();
                    }
                }
            });
            return fieldDefinitions;
        };
        /**
         * @ngdoc function
         * @name angularPoint.apDecodeService:extendListDefinitionFromXML
         * @methodOf angularPoint.apDecodeService
         * @description
         * Takes the XML response from a web service call and extends the list definition in the model
         * with additional field metadata.  Important to note that all properties will coming from the XML start
         * with a capital letter.
         * @param {object} list model.list
         * @param {object} responseXML XML response from the server.
         * @returns {object} Extended list object.
         */
        DecodeService.prototype.extendListDefinitionFromXML = function (list, responseXML) {
            var service = this;
            $(responseXML).find("List").each(function () {
                service.extendObjectWithXMLAttributes(this, list, service.apXMLListAttributeTypes);
            });
            return list;
        };
        /**
         * @ngdoc function
         * @name angularPoint.apDecodeService:extendListMetadata
         * @methodOf angularPoint.apDecodeService
         * @description
         * Convenience method that extends the list definition and the field definitions from an xml list response
         * from the server.  Can be used specifically with GetListItemsSinceToken and GetList operations.
         * @param {object} model Model for a given list.
         * @param {object} responseXML XML response from the server.
         */
        DecodeService.prototype.extendListMetadata = function (model, responseXML) {
            this.extendListDefinitionFromXML(model.list, responseXML);
            this.extendFieldDefinitionsFromXML(model.list.fields, responseXML);
        };
        /**
         * @ngdoc function
         * @name angularPoint.apDecodeService:extendObjectWithXMLAttributes
         * @methodOf angularPoint.apDecodeService
         * @description
         * Takes an XML element and copies all attributes over to a given JS object with corresponding values.  If
         * no JS Object is provided, it extends an empty object and returns it.  If an attributeTypes object is provided
         * we parse each of the defined field so they are typed correctly instead of being a simple string.
         * Note: Properties are not necessarily CAMLCase.
         * @param {object} xmlObject An XML element.
         * @param {object} [jsObject={}] An optional JS Object to extend XML attributes to.
         * @param {object} [attributeTypes={}] Key/Val object with keys being the name of the field and val being the
         * type of field.
         * @returns {object} JS Object
         */
        DecodeService.prototype.extendObjectWithXMLAttributes = function (xmlObject, jsObject, attributeTypes) {
            var _this = this;
            var objectToExtend = jsObject || {};
            var attributeMap = attributeTypes || {};
            var xmlAttributes = xmlObject.attributes;
            _.each(xmlAttributes, function (attr, attrNum) {
                var attrName = xmlAttributes[attrNum].name;
                objectToExtend[attrName] = $(xmlObject).attr(attrName);
                if (attributeMap[attrName]) {
                    objectToExtend[attrName] = _this.parseStringValue(objectToExtend[attrName], attributeMap[attrName]);
                }
            });
            return objectToExtend;
        };
        DecodeService.prototype.jsAttachments = function (str) {
            /* Depending on CAMLQueryOptions Config an attachment can be formatted in 1 of the below 3 ways:
             1. {number} The number of attachments for a given list item.
             CAMLQueryOptions
             <IncludeAttachmentUrls>FALSE</IncludeAttachmentUrls>
             <IncludeAttachmentVersion>FALSE</IncludeAttachmentVersion>

             Example
             ows_Attachments="2"

             2. {string}
             CAMLQueryOptions
             <IncludeAttachmentUrls>TRUE</IncludeAttachmentUrls>
             <IncludeAttachmentVersion>FALSE</IncludeAttachmentVersion>

             Format
             ;#[ListUrl]/Attachments/[ListItemId]/[FileName];#

             Example:
             ows_Attachments=";#https://SharePointSite.com/Lists/Widgets/Attachments/4/DocumentName.xlsx;#"

             //Todo Check to see if there is any value in this option
             3. {string} NOTE: We don't currently handle this format.
             CAMLQueryOptions
             <IncludeAttachmentUrls>TRUE</IncludeAttachmentUrls>
             <IncludeAttachmentVersion>TRUE</IncludeAttachmentVersion>

             Format
             ;#[ListUrl]/Attachments/[ListItemId]/[FileName];#[AttachmentGUID],[Version Number];#

             Example:
             ows_Attachments=";#https://SharePointSite.com/Lists/Widgets/Attachments/4/DocumentName.xlsx;#{4378D394-8601-480D-ABD0-0A0505E726FB},1;#"
             */
            if (!isNaN(str)) {
                /** Value is a number current stored as a string */
                var int = parseInt(str);
                if (int > 0) {
                    return int;
                }
                else {
                    return '';
                }
            }
            else {
                /** Split into an array of attachment URLs */
                return this.jsChoiceMulti(str);
            }
        };
        DecodeService.prototype.jsBoolean = function (str) {
            /** SharePoint uses different string representations for booleans in different places so account for each */
            return str === '1' || str === 'True' || str === 'TRUE';
        };
        DecodeService.prototype.jsCalc = function (str) {
            if (str.length === 0) {
                return null;
            }
            else {
                var thisCalc = str.split(';#');
                // The first value will be the calculated column value type, the second will be the value
                return this.parseStringValue(thisCalc[1], thisCalc[0]);
            }
        };
        DecodeService.prototype.jsChoiceMulti = function (str) {
            if (str.length === 0) {
                return [];
            }
            else {
                var thisChoiceMultiObject = [];
                var thisChoiceMulti = str.split(';#');
                for (var i = 0; i < thisChoiceMulti.length; i++) {
                    if (thisChoiceMulti[i].length !== 0) {
                        thisChoiceMultiObject.push(thisChoiceMulti[i]);
                    }
                }
                return thisChoiceMultiObject;
            }
        };
        DecodeService.prototype.jsDate = function (str) {
            if (!str) {
                return null;
            }
            else {
                /** Replace dashes with slashes and the "T" deliminator with a space if found */
                var dt = str.split("T")[0] !== str ? str.split("T") : str.split(" ");
                var d = dt[0].split("-");
                var t = dt[1].split(":");
                var t3 = t[2].split("Z");
                return new Date(d[0], (d[1] - 1), d[2], t[0], t[1], t3[0]);
            }
        };
        DecodeService.prototype.jsFloat = function (str) {
            if (!str) {
                return str;
            }
            else {
                return parseFloat(str);
            }
        };
        DecodeService.prototype.jsInt = function (str) {
            if (!str) {
                return str;
            }
            else {
                return parseInt(str, 10);
            }
        };
        DecodeService.prototype.jsLookup = function (str, options) {
            if (str.length === 0) {
                return null;
            }
            else {
                //Send to constructor
                return this.apLookupFactory.create(str, options);
            }
        };
        DecodeService.prototype.jsLookupMulti = function (str, options) {
            if (str.length === 0) {
                return [];
            }
            else {
                var thisLookupMultiObject = [];
                var thisLookupMulti = str.split(';#');
                for (var i = 0; i < thisLookupMulti.length; i = i + 2) {
                    /** Ensure a lookup id is present before attempting to push a new lookup */
                    if (thisLookupMulti[i]) {
                        var thisLookup = this.jsLookup(thisLookupMulti[i] + ';#' + thisLookupMulti[i + 1], options);
                        thisLookupMultiObject.push(thisLookup);
                    }
                }
                return thisLookupMultiObject;
            }
        };
        DecodeService.prototype.jsObject = function (str) {
            if (!str) {
                return str;
            }
            else {
                /** Ensure JSON is valid and if not throw error with additional detail */
                var json = null;
                try {
                    json = JSON.parse(str);
                }
                catch (err) {
                    console.error('Invalid JSON: ', str);
                }
                return json;
            }
        };
        DecodeService.prototype.jsString = function (str) {
            return str;
        };
        DecodeService.prototype.jsUser = function (str) {
            if (str.length === 0) {
                return null;
            }
            //Send to constructor
            return this.apUserFactory.create(str);
        };
        DecodeService.prototype.jsUserMulti = function (str) {
            if (str.length === 0) {
                return [];
            }
            else {
                var thisUserMultiObject = [];
                var thisUserMulti = str.split(';#');
                for (var i = 0; i < thisUserMulti.length; i = i + 2) {
                    var thisUser = this.jsUser(thisUserMulti[i] + ';#' + thisUserMulti[i + 1]);
                    thisUserMultiObject.push(thisUser);
                }
                return thisUserMultiObject;
            }
        };
        /**
         * @ngdoc function
         * @name angularPoint.apDecodeService:parseFieldVersions
         * @methodOf angularPoint.apDecodeService
         * @description
         * Takes an XML response from SharePoint webservice and returns an array of field versions.
         *
         * @param {xml} responseXML Returned XML from web service call.
         * @param {object} fieldDefinition Field definition from the model.
         *
         * @returns {Array} Array objects containing the various version of a field for each change.
         */
        DecodeService.prototype.parseFieldVersions = function (responseXML, fieldDefinition) {
            var _this = this;
            var versions = [];
            var xmlVersions = $(responseXML).find('Version');
            var versionCount = xmlVersions.length;
            _.each(xmlVersions, function (xmlVersion, index) {
                /** Bug in SOAP Web Service returns time in UTC time for version history
                 *  Details: https://spservices.codeplex.com/discussions/391879
                 */
                var utcDate = _this.parseStringValue($(xmlVersion).attr('Modified'), 'DateTime');
                /** Parse the xml and create a representation of the version as a js object */
                var version = {
                    editor: _this.parseStringValue($(xmlVersion).attr('Editor'), 'User'),
                    /** Turn the SharePoint formatted date into a valid date object */
                    modified: _this.convertUTCDateToLocalDate(utcDate),
                    /** Returns records in desc order so compute the version number from index */
                    version: versionCount - index
                };
                /** Properly format field based on definition from model */
                version[fieldDefinition.mappedName] = _this.parseStringValue($(xmlVersion).attr(fieldDefinition.staticName), fieldDefinition.objectType);
                /** Push to beginning of array */
                versions.unshift(version);
            });
            return versions;
        };
        /**
         * @ngdoc function
         * @name angularPoint.apDecodeService:parseStringValue
         * @methodOf angularPoint.apDecodeService
         * @description
         * Converts a SharePoint string representation of a field into the correctly formatted JavaScript version
         * based on object type.  A majority of this code is directly taken from Marc Anderson's incredible
         * [SPServices](http://spservices.codeplex.com/) project but it needed some minor tweaking to work here.
         * @param {string} str SharePoint string representing the value.
         * @param {string} [objectType='Text'] The type based on field definition.  See
         * See [List.customFields](#/api/List.FieldDefinition) for additional info on how to define a field type.
         * @param {object} [options] Options to pass to the object constructor.
         * @param {object} [options.entity] Reference to the parent list item which can be used by child constructors.
         * @param {object} [options.propertyName] Name of property on the list item.
         * @returns {*} The newly instantiated JavaScript value based on field type.
         */
        DecodeService.prototype.parseStringValue = function (str, objectType, options) {
            var unescapedValue = _.unescape(str);
            var colValue;
            switch (objectType) {
                case 'Attachments':
                    colValue = this.jsAttachments(unescapedValue);
                    break;
                case 'Boolean':
                    colValue = this.jsBoolean(unescapedValue);
                    break;
                case 'Calculated':
                    colValue = this.jsCalc(unescapedValue);
                    break;
                case 'datetime':
                case 'DateTime':
                    // Dates have dashes instead of slashes: ows_Created='2009-08-25 14:24:48'
                    colValue = this.jsDate(unescapedValue);
                    break;
                case 'Lookup':
                    colValue = this.jsLookup(unescapedValue, options);
                    break;
                case 'User':
                    colValue = this.jsUser(unescapedValue);
                    break;
                case 'LookupMulti':
                    colValue = this.jsLookupMulti(unescapedValue, options);
                    break;
                case 'UserMulti':
                    colValue = this.jsUserMulti(unescapedValue);
                    break;
                case 'Integer':
                case 'Counter':
                    colValue = this.jsInt(unescapedValue);
                    break;
                case 'Number':
                case 'Currency':
                case 'float':
                case 'Float':
                    colValue = this.jsFloat(unescapedValue);
                    break;
                case 'MultiChoice':
                    colValue = this.jsChoiceMulti(unescapedValue);
                    break;
                case 'JSON':
                    colValue = this.jsObject(unescapedValue);
                    break;
                case 'Choice':
                case 'HTML':
                case 'Note':
                default:
                    // All other objectTypes will be simple strings
                    colValue = this.jsString(unescapedValue);
                    break;
            }
            return colValue;
        };
        /**
         * @ngdoc function
         * @name angularPoint.apDecodeService:parseXMLEntity
         * @methodOf angularPoint.apDecodeService
         * @description
         * Convert an XML list item into a JS object using the fields defined in the model for the given list item.
         * @param {object} xmlEntity XML Object.
         * @param {function} listItemProvider Constructor function that instantiates a new object.
         * @param {object} options Configuration options.
         * @param {string} options.mapping Mapping of fields we'd like to extend on our JS object.
         * @param {boolean} [options.includeAllAttrs=false] If true, return all attributes, regardless whether
         * @param {boolean} [options.listItemProvider] List item constructor.
         * @param {boolean} [options.removeOws=true] Specifically for GetListItems, if true, the leading ows_ will
         * @returns {object} New entity using the factory on the model.
         */
        DecodeService.prototype.parseXMLEntity = function (xmlEntity, listItemProvider, options) {
            var _this = this;
            var entity = {};
            var rowAttrs = xmlEntity.attributes;
            /** Bring back all mapped columns, even those with no value */
            _.each(options.mapping, function (fieldDefinition) {
                entity[fieldDefinition.mappedName] = _this.apFieldService.getDefaultValueForType(fieldDefinition.objectType);
                //entity[fieldDefinition.mappedName] = '';
            });
            /** Parse through the element's attributes */
            _.each(rowAttrs, function (attr) {
                var thisAttrName = attr.name;
                var thisMapping = options.mapping[thisAttrName];
                var thisObjectName = typeof thisMapping !== 'undefined' ? thisMapping.mappedName : options.removeOws ? thisAttrName.split('ows_')[1] : thisAttrName;
                var thisObjectType = typeof thisMapping !== 'undefined' ? thisMapping.objectType : undefined;
                if (options.includeAllAttrs || thisMapping !== undefined) {
                    entity[thisObjectName] = _this.parseStringValue(attr.value, thisObjectType, {
                        entity: entity,
                        propertyName: thisObjectName
                    });
                }
            });
            return listItemProvider(entity);
        };
        /**
         * @ngdoc function
         * @name angularPoint.apDecodeService:processListItems
         * @methodOf angularPoint.apDecodeService
         * @description
         * Post processing of data after returning list items from server.  Returns a promise that resolves with
         * the processed entities.  Promise allows us to batch conversions of large lists to prevent ui slowdowns.
         * @param {object} model Reference to allow updating of model.
         * @param {object} query Reference to the query responsible for requesting entities.
         * @param {xml} responseXML Resolved promise from SPServices web service call.
         * @param {object} [options] Optional configuration object.
         * @param {function} [options.factory=model.factory] Constructor function typically stored on the model.
         * @param {string} [options.filter='z:row'] XML filter string used to find the elements to iterate over.
         * @param {Array} [options.mapping=model.list.mapping] Field definitions, typically stored on the model.
         * @param {Array} [options.target=model.getCache()] Optionally pass in array to update after processing.
         * @returns {Object} Inedexed Cache.
         */
        DecodeService.prototype.processListItems = function (model, query, responseXML, options) {
            var defaults = {
                factory: model.factory,
                filter: 'z:row',
                mapping: model.list.mapping,
                target: model.getCache()
            };
            var opts = _.extend({}, defaults, options);
            /** Map returned XML to JS objects based on mapping from model */
            var filteredNodes = $(responseXML).SPFilterNode(opts.filter);
            /** Prepare constructor for XML entities with references to the query and cached container */
            var listItemProvider = this.createListItemProvider(model, query, opts.target);
            /** Convert XML entities into JS objects and register in cache with listItemProvider, this returns an
             * array of entities but at this point we're not using them because the indexed cache should be more
             * performant. */
            this.xmlToJson(filteredNodes, listItemProvider, opts);
            return opts.target;
        };
        /**
         * @ngdoc function
         * @name angularPoint.apDecodeService:xmlToJson
         * @methodOf angularPoint.apDecodeService
         * @description
         * Converts an XML node set to Javascript object array. This is a modified version of the SPServices
         * "SPXmlToJson" function.
         * @param {array} xmlEntities ["z:rows"] XML rows that need to be parsed.
         * @param {function} listItemProvider Constructor function used to build the list item with references to
         * the query, cached container, and registers each list item in the apCacheService.
         * @param {object} options Options object.
         * @param {object[]} options.mapping [columnName: "mappedName", objectType: "objectType"]
         * @param {boolean} [options.includeAllAttrs=false] If true, return all attributes, regardless whether
         * @param {boolean} [options.listItemProvider] List item constructor.
         * @param {boolean} [options.removeOws=true] Specifically for GetListItems, if true, the leading ows_ will
         * be stripped off the field name.
         * @param {array} [options.target] Optional location to push parsed entities.
         * @returns {object[]} An array of JavaScript objects.
         */
        DecodeService.prototype.xmlToJson = function (xmlEntities, listItemProvider, options) {
            var _this = this;
            var defaults = {
                mapping: {},
                includeAllAttrs: false,
                removeOws: true
            };
            var opts = _.extend({}, defaults, options);
            var parsedEntities = [];
            _.each(xmlEntities, function (xmlEntity) {
                var parsedEntity = _this.parseXMLEntity(xmlEntity, listItemProvider, opts);
                parsedEntities.push(parsedEntity);
            });
            return parsedEntities;
        };
        return DecodeService;
    })();
    ap.DecodeService = DecodeService;
    /**********************PRIVATE*********************/
    /**Constructors for user and lookup fields*/
    /**Allows for easier distinction when debugging if object type is shown as either Lookup or User**/
    angular.module('angularPoint').service('apDecodeService', DecodeService);
})(ap || (ap = {}));

/// <reference path="../../typings/ap.d.ts" />
var ap;
(function (ap) {
    'use strict';
    var EncodeService = (function () {
        function EncodeService(apUtilityService, SPServices) {
            this.apUtilityService = apUtilityService;
            this.SPServices = SPServices;
        }
        /**
         * Converts an array of selected values into a SharePoint MultiChoice string
         * @param {string[]} arr
         * @returns {string}
         */
        EncodeService.prototype.choiceMultiToString = function (arr) {
            var str = '';
            var delim = ';#';
            if (arr.length > 0) {
                /** String is required to begin with deliminator */
                str += delim;
                /** Append each item in the supplied array followed by deliminator */
                _.each(arr, function (choice) { return str += choice + delim; });
            }
            return str;
        };
        /**
         * @ngdoc function
         * @name angularPoint.apEncodeService:createValuePair
         * @methodOf angularPoint.apEncodeService
         * @description
         * Uses a field definition from a model to properly format a value for submission to SharePoint.  Typically
         * used prior to saving a list item, we iterate over each of the non-readonly properties defined in the model
         * for a list item and convert those value into value pairs that we can then hand off to SPServices.
         * @param {object} fieldDefinition The field definition, typically defined in the model.
         * <pre>
         * {
             *  staticName: "Title",
             *  objectType: "Text",
             *  mappedName: "lastName",
             *  readOnly:false
             * }
         * </pre>
         * @param {*} value Current field value.
         * @returns {Array} [fieldName, fieldValue]
         */
        EncodeService.prototype.createValuePair = function (fieldDefinition, value) {
            var encodedValue = this.encodeValue(fieldDefinition.objectType, value);
            return [fieldDefinition.staticName, encodedValue];
        };
        /**
         * @ngdoc function
         * @name angularPoint.apEncodeService:encodeValue
         * @methodOf angularPoint.apEncodeService
         * @param {string} fieldType One of the valid field types.
         * @param {*} value Value to be encoded.
         * @returns {string} Encoded value ready to be sent to the server.
         */
        EncodeService.prototype.encodeValue = function (fieldType, value) {
            var str = '';
            /** Only process if note empty, undefined, or null.  Allow false. */
            if (value !== '' && !_.isUndefined(value) && !_.isNull(value)) {
                switch (fieldType) {
                    case 'Lookup':
                    case 'User':
                        if (value.lookupId) {
                            /** Only include lookupValue if defined */
                            str = value.lookupId + ';#' + (value.lookupValue || '');
                        }
                        break;
                    case 'LookupMulti':
                    case 'UserMulti':
                        str = this.stringifySharePointMultiSelect(value, 'lookupId');
                        break;
                    case 'MultiChoice':
                        str = this.choiceMultiToString(value);
                        break;
                    case 'Boolean':
                        str = value ? 1 : 0;
                        break;
                    case 'DateTime':
                        //A string date in ISO8601 format, e.g., '2013-05-08T01:20:29Z-05:00'
                        str = this.stringifySharePointDate(value);
                        break;
                    case 'JSON':
                        str = JSON.stringify(value);
                        break;
                    case 'HTML':
                    case 'Note':
                    default:
                        str = value;
                }
            }
            if (_.isString(str)) {
                /** Ensure we encode before sending to server (replace ", <, >)*/
                str = this.SPServices.encodeXml(str);
            }
            return str;
        };
        /**
         * @ngdoc function
         * @name angularPoint.apEncodeService:generateValuePairs
         * @methodOf angularPoint.apEncodeService
         * @description
         * Typically used to iterate over the non-readonly field definitions stored in a model and convert a
         * given list item entity into value pairs that we can pass to SPServices for saving.
         * @param {Array} fieldDefinitions Definitions from the model.
         * @param {object} listItem list item that we'll attempt to iterate over to find the properties that we need to
         * save it to SharePoint.
         * @returns {Array[]} Value pairs of all non-readonly fields. [[fieldName, fieldValue]]
         */
        EncodeService.prototype.generateValuePairs = function (fieldDefinitions, listItem) {
            var _this = this;
            var pairs = [];
            _.each(fieldDefinitions, function (field) {
                /** Check to see if item contains data for this field */
                if (_.has(listItem, field.mappedName)) {
                    pairs.push(_this.createValuePair(field, listItem[field.mappedName]));
                }
            });
            return pairs;
        };
        /**
         * @ngdoc function
         * @name angularPoint.apEncodeService:stringifySharePointDate
         * @methodOf angularPoint.apEncodeService
         * @description
         * Converts a JavaScript date into a modified ISO8601 date string using the TimeZone
         * offset for the current user.
         * @example
         * <pre>'2014-05-08T08:12:18Z-07:00'</pre>
         * @param {Date} date Valid JS date.
         * @returns {string} ISO8601 date string.
         */
        EncodeService.prototype.stringifySharePointDate = function (date) {
            var jsDate;
            if (!_.isDate(date) && _.isString(date) && date.split('-').length === 3) {
                /** Date string formatted YYYY-MM-DD */
                var dateComponents = date.split('-');
                jsDate = new Date(dateComponents[0], dateComponents[1] - 1, dateComponents[2], 0, 0, 0);
            }
            else if (!_.isDate(date)) {
                throw new Error('Invalid Date Provided: ' + date.toString());
            }
            else {
                jsDate = date;
            }
            var dateString = '';
            dateString += jsDate.getFullYear();
            dateString += '-';
            dateString += this.apUtilityService.doubleDigit(jsDate.getMonth() + 1);
            dateString += '-';
            dateString += this.apUtilityService.doubleDigit(jsDate.getDate());
            dateString += 'T';
            dateString += this.apUtilityService.doubleDigit(jsDate.getHours());
            dateString += ':';
            dateString += this.apUtilityService.doubleDigit(jsDate.getMinutes());
            dateString += ':';
            dateString += this.apUtilityService.doubleDigit(jsDate.getSeconds());
            dateString += 'Z-';
            if (!this.savedTimeZone) {
                //Get difference between UTC time and local time in minutes and convert to hours
                //Store so we only need to do this once
                this.savedTimeZone = new Date().getTimezoneOffset() / 60;
            }
            dateString += this.apUtilityService.doubleDigit(this.savedTimeZone);
            dateString += ':00';
            return dateString;
        };
        /**
         * @ngdoc function
         * @name angularPoint.apEncodeService:stringifySharePointMultiSelect
         * @methodOf angularPoint.apEncodeService
         * @description
         * Turns an array of, typically {lookupId: someId, lookupValue: someValue}, objects into a string
         * of delimited id's that can be passed to SharePoint for a multi select lookup or multi user selection
         * field.  SharePoint doesn't need the lookup values so we only need to pass the ID's back.
         *
         * @param {object[]} multiSelectValue Array of {lookupId: #, lookupValue: 'Some Value'} objects.
         * @param {string} [idProperty='lookupId'] Property name where we'll find the ID value on each of the objects.
         * @param {string} [valueProperty='lookupValue'] Property name where we'll find the value for this object.
         * @returns {string} Need to format string of id's in following format [ID0];#;#[ID1];#;#[ID1]
         */
        EncodeService.prototype.stringifySharePointMultiSelect = function (multiSelectValue, idProperty, valueProperty) {
            if (idProperty === void 0) { idProperty = 'lookupId'; }
            if (valueProperty === void 0) { valueProperty = 'lookupValue'; }
            var stringifiedValues = '';
            var idProp = idProperty || 'lookupId';
            var valProp = valueProperty || 'lookupValue';
            _.each(multiSelectValue, function (lookupObject, iteration) {
                /** Need to format string of id's in following format [ID0];#[VAL0];#[ID1];#[VAL1];# */
                stringifiedValues += lookupObject[idProp] + ';#' + (lookupObject[valProp] || '');
                if (iteration < multiSelectValue.length) {
                    stringifiedValues += ';#';
                }
            });
            return stringifiedValues;
        };
        return EncodeService;
    })();
    ap.EncodeService = EncodeService;
    /**
     * @ngdoc service
     * @name angularPoint.apEncodeService
     * @description
     * Processes JavaScript objects and converts them to a format SharePoint expects.
     *
     * @requires angularPoint.apUtilityService
     */
    angular.module('angularPoint').service('apEncodeService', EncodeService);
})(ap || (ap = {}));

/// <reference path="../../typings/ap.d.ts" />
var ap;
(function (ap) {
    'use strict';
    var ExportService = (function () {
        function ExportService(apUtilityService, apFormattedFieldValueService) {
            this.apUtilityService = apUtilityService;
            this.apFormattedFieldValueService = apFormattedFieldValueService;
        }
        /**
         * @ngdoc function
         * @name angularPoint.apExportService:generateCSV
         * @methodOf angularPoint.apExportService
         * @description
         * Converts an array of objects into a parsed array of arrays based on a field config object.
         * @param {object[]} entities Array of objects to convert.
         * @param {object|string[]} fields Array of objects defining the fields to parse.  Can also pass in strings representing the name of the field which will then be parsed based on field type.
         * FieldDefinition:
         * {string} object.field Property name on the object that we want to parse.
         * {string} [object.label=object.field capitalized] Column Label
         * {function} [object.getVal] Custom function that overrides the default method of parsing based on field type.
         * @param {object} [options] Optional config settings.
         * @param {string} [options.delim='; '] Delimiter used to separate fields that potentially contain multiple values that will be concatenated into a string.
         * @returns {array[]} Return array of arrays, with the first array being the column names and every subsequent array representing a row in the csv dataset.
         * @example
         * <pre>
         * var customDelimiter = ' | ';
         * var saveCSV = function() {
             *    var parsedCSV = apExportService.generateCSV(entities, [
             *     //Field definition
             *     { label: 'ID', field: 'id' },
             *     //Field as simple string
             *     'title',
             *     'project',
             *     { label: 'Project:ID', field: 'project.lookupId' },
             *     { label: 'Type', field: 'eventType' },
             *     { label: 'Start Date', field: 'startDate' },
             *     { label: 'End Date', field: 'endDate' },
             *     'location',
             *     'description',
             *     //Field definition with custom parse logic
             *     { label: 'Comments', field: 'comments', stringify: function (comments) {
             *       var str = '';
             *       _.each(comments, function (comment, i) {
             *         if (i > 0) {
             *           str += '\n';
             *         }
             *         str += comment.text + '\n';
             *       });
             *       return str;
             *     }}
             *   ]);
             *
             *   //Save to user's machine
             *   apExportService.saveCSV(parsedCSV, 'MyFile', {delim: customDelimiter});
             * }
         * </pre>
         *
         */
        ExportService.prototype.generateCSV = function (entities, fields, options) {
            var _this = this;
            var defaults = {
                dateFormat: 'json',
                delim: '; ',
                includeTitleRow: true
            }, opts = _.extend({}, defaults, options), entitiesArray = [
                []
            ];
            /** Process each of the entities in the data source */
            _.each(entities, function (entity, entityIndex) {
                var entityArray = [];
                /** Process each of the specified fields */
                _.each(fields, function (f) {
                    /** Handle both string and object definition */
                    var fieldDefinition = _.isString(f) ? { field: f } : f;
                    /** Split the field name from the property if provided */
                    var fieldComponents = fieldDefinition.field.split('.');
                    var propertyName = fieldComponents[0];
                    /** First array has the field names */
                    if (entityIndex === 0 && opts.includeTitleRow) {
                        /** Take a best guess if a column label isn't specified by capitalizing and inserting spaces between camel humps*/
                        var label = fieldDefinition.label ? fieldDefinition.label : _this.apUtilityService.fromCamelCase(propertyName);
                        entitiesArray[0].push(label);
                    }
                    var val = '';
                    if (_.isFunction(fieldDefinition.stringify)) {
                        /** Allows us to override standard field logic for special cases */
                        val = fieldDefinition.stringify(entity[fieldDefinition.field]);
                    }
                    else if (fieldComponents.length > 1) {
                        /** Allow user to specify dot separated property path */
                        if (_.deepIn(entity, fieldDefinition.field)) {
                            val = _.deepGet(entity, fieldDefinition.field).toString();
                        }
                    }
                    else {
                        /** Get the value based on field type defined in the model for the entity*/
                        var modelDefinition = entity.getFieldDefinition(propertyName);
                        val = _this.apFormattedFieldValueService.getFormattedFieldValue(entity[fieldDefinition.field], modelDefinition.objectType, opts);
                    }
                    /** Add string to column */
                    entityArray.push(val);
                });
                /** Add row */
                entitiesArray.push(entityArray);
            });
            return entitiesArray;
        };
        /**
         * @description Replaces commonly-used Windows 1252 encoded chars that do not exist in ASCII or
         *  ISO-8859-1 with ISO-8859-1 cognates.
         * @param {string} text Text to be validated and cleaned.
         * @returns {string}
         */
        ExportService.prototype.replaceWordChars = function (text) {
            var s = text;
            // smart single quotes and apostrophe
            s = s.replace(/[\u2018|\u2019|\u201A]/g, "\'");
            // smart double quotes
            s = s.replace(/[\u201C|\u201D|\u201E]/g, "\"");
            // ellipsis
            s = s.replace(/\u2026/g, "...");
            // dashes
            s = s.replace(/[\u2013|\u2014]/g, "-");
            // circumflex
            s = s.replace(/\u02C6/g, "^");
            // open angle bracket
            s = s.replace(/\u2039/g, "<");
            // close angle bracket
            s = s.replace(/\u203A/g, ">");
            // spaces
            s = s.replace(/[\u02DC|\u00A0]/g, " ");
            return s;
        };
        /**
         * @ngdoc function
         * @name angularPoint.apExportService:saveCSV
         * @methodOf angularPoint.apExportService
         * @description
         * Converts an array of arrays into a valid CSV file that is then downloaded to the users machine
         * @requires angularPoint.apExportService:saveFile
         * @param {array[]} data Array of arrays that we'd like to dump to a CSV file and save to the local machine.
         * @param {string} [filename=debug.csv] Optionally name the file.
         * @example
         * <pre>
         * //Lets assume we want to looks at an object that is too big to be easily viewed in the console.
         * apExportService.saveCSV(objectToSave, 'MyFile');
         * //This would download a file named MyFile.csv
         * </pre>
         *
         */
        ExportService.prototype.saveCSV = function (data, filename) {
            if (filename === void 0) { filename = 'debug.csv'; }
            var csvString = '';
            _.each(data, function (row) {
                _.each(row, function (column, columnIndex) {
                    var result = column === null ? '' : this.replaceWordChars(column);
                    if (columnIndex > 0) {
                        csvString += ',';
                    }
                    /** Escape single quotes with doubles in within the string */
                    result = result.replace(/"/g, '""');
                    /** Surround string with quotes so we can have line breaks */
                    csvString += '"' + result + '"';
                });
                csvString += '\n';
            });
            this.saveFile(csvString, 'csv;charset=utf-8;', filename);
        };
        /**
         * @ngdoc function
         * @name angularPoint.apExportService:saveFile
         * @methodOf angularPoint.apExportService
         * @description
         * Used to convert a JS object or XML document into a file that is then downloaded on the users
         * local machine.  Original work located:
         * [here](http://bgrins.github.io/devtools-snippets/#console-save).
         * @param {object} data JS object that we'd like to dump to a JSON file and save to the local machine.
         * @param {string} fileType Can be either 'xml' or 'json'.
         * @param {string} [filename=debug.json] Optionally name the file.
         * @example
         * <pre>
         * //Lets assume we want to looks at an object that is too big to be easily viewed in the console.
         * apExportService.saveJSON(objectToSave, 'myobject.json');
         * </pre>
         *
         */
        ExportService.prototype.saveFile = function (data, fileType, filename) {
            if (filename === void 0) { filename = 'debug.json'; }
            if (!data) {
                console.error('apExportService.save' + fileType.toUpperCase() + ': No data');
                return;
            }
            /** If passed in fileType="csv;charset=utf-8;" we just want to use "csv" */
            var fileExtension = fileType.split(';')[0];
            if (!filename) {
                filename = 'debug.' + fileExtension;
            }
            if (fileType === 'json' && typeof data === 'object') {
                data = JSON.stringify(data, undefined, 4);
            }
            var blob = new Blob([data], { type: 'text/' + fileType }), e = document.createEvent('MouseEvents'), a = document.createElement('a');
            a.download = filename;
            a.href = window.URL.createObjectURL(blob);
            a.dataset.downloadurl = ['text/' + fileType, a.download, a.href].join(':');
            e.initMouseEvent('click', true, false, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);
            a.dispatchEvent(e);
        };
        /**
         * @ngdoc function
         * @name angularPoint.apExportService:saveJSON
         * @methodOf angularPoint.apExportService
         * @description
         * Simple convenience function that uses angularPoint.apExportService:saveFile to download json to the local machine.
         * @requires angularPoint.apExportService:saveFile
         * @param {object} data JS object that we'd like to dump to a JSON file and save to the local machine.
         * @param {string} [filename=debug.json] Optionally name the file.
         * @example
         * <pre>
         * //Lets assume we want to looks at an object that is too big to be easily viewed in the console.
         * apExportService.saveJSON(objectToSave, 'myobject.json');
         * </pre>
         *
         */
        ExportService.prototype.saveJSON = function (data, filename) {
            if (filename === void 0) { filename = 'debug.json'; }
            this.saveFile(data, 'json', filename);
        };
        /**
         * @ngdoc function
         * @name angularPoint.apExportService:saveXML
         * @methodOf angularPoint.apExportService
         * @description
         * Simple convenience function that uses angularPoint.apExportService:saveFile to download xml to the local machine.
         * @requires angularPoint.apExportService:saveFile
         * @param {object} data XML object that we'd like to dump to a XML file and save to the local machine.
         * @param {string} [filename=debug.xml] Optionally name the file.
         * @example
         * <pre>
         * //Lets assume we want to looks at an object that is too big to be easily viewed in the console.
         * apExportService.saveXML(objectToSave, 'myobject.xml');
         * </pre>
         *
         */
        ExportService.prototype.saveXML = function (data, filename) {
            if (filename === void 0) { filename = 'debug.xml'; }
            this.saveFile(data, 'xml', filename);
        };
        return ExportService;
    })();
    ap.ExportService = ExportService;
    /**
     * @ngdoc service
     * @name angularPoint.apExportService
     * @description
     * Tools to assist with development.
     * @requires angularPoint.apUtilityService
     */
    angular.module('angularPoint').service('apExportService', ExportService);
})(ap || (ap = {}));

/// <reference path="../../typings/ap.d.ts" />
var ap;
(function (ap) {
    'use strict';
    var uniqueCount = 0;
    var FieldService = (function () {
        function FieldService() {
            this.getDefaultValueForType = getDefaultValueForType;
            this.getDefinition = getDefinition;
            this.getMockData = getMockData;
            this.mockPermMask = mockPermMask;
            this.resolveValueForEffectivePermMask = resolveValueForEffectivePermMask;
            this.fieldTypes = getFieldTypes();
        }
        return FieldService;
    })();
    ap.FieldService = FieldService;
    /** Store as a function to ensure we instantiate new objects for default values instead
     *  of having all blank field that have an array for a default value share the same array */
    function getFieldTypes() {
        /** Field types used on the models to create a field definition */
        return {
            Text: {
                defaultValue: '',
                staticMock: 'Test String',
                dynamicMock: randomString
            },
            Note: {
                defaultValue: '',
                staticMock: 'This is a sentence.',
                dynamicMock: randomParagraph
            },
            Boolean: {
                defaultValue: null,
                staticMock: true,
                dynamicMock: randomBoolean
            },
            Calculated: {
                defaultValue: null,
                staticMock: 'float;#123.45',
                dynamicMock: randomCalc
            },
            Choice: {
                defaultValue: '',
                staticMock: 'My Choice',
                dynamicMock: randomString
            },
            Counter: {
                defaultValue: null,
                staticMock: getUniqueCounter(),
                dynamicMock: getUniqueCounter
            },
            Currency: {
                defaultValue: null,
                staticMock: 120.50,
                dynamicMock: randomCurrency
            },
            DateTime: {
                defaultValue: null,
                staticMock: new Date(2014, 5, 4, 11, 33, 25),
                dynamicMock: randomDate
            },
            Integer: {
                defaultValue: null,
                staticMock: 14,
                dynamicMock: randomInteger
            },
            JSON: {
                defaultValue: '',
                staticMock: [
                    { id: 1, title: 'test' },
                    { id: 2 }
                ],
                dynamicMock: randomString
            },
            Lookup: {
                defaultValue: '',
                staticMock: { lookupId: 49, lookupValue: 'Static Lookup' },
                dynamicMock: randomLookup
            },
            LookupMulti: {
                defaultValue: [],
                staticMock: [
                    { lookupId: 50, lookupValue: 'Static Multi 1' },
                    { lookupId: 51, lookupValue: 'Static Multi 2' }
                ],
                dynamicMock: randomLookupMulti
            },
            Mask: {
                defaultValue: mockPermMask(),
                staticMock: mockPermMask(),
                dynamicMock: mockPermMask
            },
            MultiChoice: {
                defaultValue: [],
                staticMock: ['A Good Choice', 'A Bad Choice'],
                dynamicMock: randomStringArray
            },
            User: {
                defaultValue: '',
                staticMock: { lookupId: 52, lookupValue: 'Static User' },
                dynamicMock: randomUser
            },
            UserMulti: {
                defaultValue: [],
                staticMock: [
                    { lookupId: 53, lookupValue: 'Static User 1' },
                    { lookupId: 54, lookupValue: 'Static User 2' }
                ],
                dynamicMock: randomUserMulti
            }
        };
    }
    /**=================PRIVATE===================*/
    function getUniqueCounter() {
        uniqueCount++;
        return uniqueCount;
    }
    function randomBoolean() {
        return chance.bool();
    }
    function randomCalc() {
        return 'float;#' + chance.floating({ min: 0, max: 10000 });
    }
    function randomString() {
        return chance.word() + ' ' + chance.word();
    }
    function randomStringArray() {
        var randomArr = [];
        /** Create a random (1-4) number of strings and add to array */
        _.times(_.random(1, 4), function () {
            randomArr.push(randomString());
        });
        return randomArr;
    }
    function randomParagraph() {
        return chance.paragraph();
    }
    function randomCurrency() {
        return parseInt(_.random(10000000, true) * 100) / 100;
    }
    function randomDate() {
        return chance.date();
    }
    function randomInteger() {
        return chance.integer();
    }
    /**
     * @ngdoc function
     * @name angularPoint.apFieldService:resolveValueForEffectivePermMask
     * @methodOf angularPoint.apFieldService
     * @description
     * Takes the name of a permission mask and returns a permission value which can then be used
     * to generate a permission object using modelService.resolvePermissions(outputfromthis)
     * @param {string} perMask Options:
     *  - AddListItems
     *  - EditListItems
     *  - DeleteListItems
     *  - ApproveItems
     *  - FullMask
     *  - ViewListItems
     * @returns {string} value
     */
    function resolveValueForEffectivePermMask(perMask) {
        var permissionValue;
        switch (perMask) {
            case 'AddListItems':
                permissionValue = '0x0000000000000002';
                break;
            case 'EditListItems':
                permissionValue = '0x0000000000000004';
                break;
            case 'DeleteListItems':
                permissionValue = '0x0000000000000008';
                break;
            case 'ApproveItems':
                permissionValue = '0x0000000000000010';
                break;
            case 'FullMask':
                permissionValue = '0x7FFFFFFFFFFFFFFF';
                break;
            case 'ViewListItems':
            default:
                permissionValue = '0x0000000000000001';
                break;
        }
        return permissionValue;
    }
    /**
     * @ngdoc function
     * @name angularPoint.apFieldService:mockPermMask
     * @methodOf angularPoint.apFieldService
     * @description
     * Defaults to a full mask but allows simulation of each of main permission levels
     * @param {object} [options] Options container.
     * @param {string} [options.permissionLevel=FullMask] Optional mask.
     * @returns {string} Values for mask.
     */
    function mockPermMask(options) {
        var mask = 'FullMask';
        if (options && options.permissionLevel) {
            mask = options.permissionLevel;
        }
        return resolveValueForEffectivePermMask(mask);
    }
    function randomLookup() {
        return {
            lookupId: getUniqueCounter(),
            lookupValue: chance.word()
        };
    }
    function randomUser() {
        return {
            lookupId: getUniqueCounter(),
            lookupValue: chance.name()
        };
    }
    function randomLookupMulti() {
        var mockData = [];
        _.each(_.random(10), function () {
            mockData.push(randomLookup());
        });
        return mockData;
    }
    function randomUserMulti() {
        var mockData = [];
        _.each(_.random(10), function () {
            mockData.push(randomUser());
        });
        return mockData;
    }
    /**
     * Returns an object defining a specific field type
     * @param {string} fieldType
     * @returns {object} fieldTypeDefinition
     */
    function getDefinition(fieldType) {
        var fieldTypes = getFieldTypes();
        return fieldTypes[fieldType] ? fieldTypes[fieldType] : fieldTypes['Text'];
    }
    /**
     * @ngdoc function
     * @name angularPoint.apFieldService:getDefaultValueForType
     * @methodOf angularPoint.apFieldService
     * @description
     * Returns the empty value expected for a field type
     * @param {string} fieldType Type of field.
     * @returns {*} Default value based on field type.
     */
    function getDefaultValueForType(fieldType) {
        var fieldDefinition = getDefinition(fieldType), defaultValue;
        if (fieldDefinition) {
            defaultValue = fieldDefinition.defaultValue;
        }
        return defaultValue;
    }
    /**
     * @ngdoc function
     * @name angularPoint.apFieldService:getMockData
     * @methodOf angularPoint.apFieldService
     * @description
     * Can return mock data appropriate for the field type, by default it dynamically generates data but
     * the staticValue param will instead return a hard coded type specific value
     *
     * @requires ChanceJS to produce dynamic data.
     * https://github.com/victorquinn/chancejs
     * @param {string} fieldType Field type from the field definition.
     * @param {object} [options] Optional params.
     * @param {boolean} [options.staticValue=false] Default to dynamically build mock data.
     * @returns {*} mockData
     */
    function getMockData(fieldType, options) {
        var mock;
        var fieldDefinition = getDefinition(fieldType);
        if (fieldDefinition) {
            if (_.isFunction(window.Chance) && options && !options.staticValue) {
                /** Return dynamic data if ChanceJS is available and flag isn't set requiring static data */
                mock = fieldDefinition.dynamicMock(options);
            }
            else {
                /** Return static data if the flag is set or ChanceJS isn't available */
                mock = fieldDefinition.staticMock;
            }
        }
        return mock;
    }
    /**
     * @ngdoc service
     * @name angularPoint.apFieldService
     * @description
     * Handles the mapping of the various types of fields used within a SharePoint list
     */
    angular.module('angularPoint').service('apFieldService', FieldService);
})(ap || (ap = {}));

/// <reference path="../../typings/ap.d.ts" />
var ap;
(function (ap) {
    'use strict';
    var $filter;
    /**
     * @ngdoc service
     * @name angularPoint.apFormattedFieldValueService
     * @description
     * Returns the formatted string value for a field based on field type.
     */
    var FormattedFieldValueService = (function () {
        function FormattedFieldValueService($injector) {
            this.getFormattedFieldValue = getFormattedFieldValue;
            this.stringifyBoolean = stringifyBoolean;
            this.stringifyCalc = stringifyCalc;
            this.stringifyCurrency = stringifyCurrency;
            this.stringifyDate = stringifyDate;
            this.stringifyLookup = stringifyLookup;
            this.stringifyMultiChoice = stringifyMultiChoice;
            this.stringifyMultiLookup = stringifyMultiLookup;
            this.stringifyNumber = stringifyNumber;
            $filter = $injector.get('$filter');
        }
        return FormattedFieldValueService;
    })();
    ap.FormattedFieldValueService = FormattedFieldValueService;
    /**==================PRIVATE==================*/
    /**
     * @ngdoc function
     * @name angularPoint.apFormattedFieldValueService:getFormattedFieldValue
     * @methodOf angularPoint.apFormattedFieldValueService
     * @param {object|array|string|integer|boolean} prop Target that we'd like to stringify.
     * @param {string} [propertyType='String'] Assumes by default that it's already a string.  Most of the normal field
     * types identified in the model field definitions are supported.
     *
     * - Lookup
     * - User
     * - Boolean
     * - DateTime
     * - Integer
     * - Number
     * - Counter
     * - MultiChoice
     * - UserMulti
     * - LookupMulti
     * @param {object} options Optional config.
     * @param {string} [options.delim=', '] Optional delimiter to split concatenated strings.
     * @param {string} [options.dateFormat='short'] Either 'json' which converts a date into ISO8601 date string
     * or a mask for the angular date filter.
     * @example
     * <pre>
     *  var project = {
     *    title: 'Super Project',
     *   members: [
     *     { lookupId: 12, lookupValue: 'Joe' },
     *     { lookupId: 19, lookupValue: 'Beth' }
     *   ]
     * };
     *
     * var membersAsString = apFormattedFieldValueService:getFormattedFieldValue({
     *    project.members,
     *    'UserMulti',
     *    { delim: ' | '} //Custom Delimiter
     * });
     *
     * // membersAsString = 'Joe | Beth';
     *
     * </pre>
     * @returns {string} Stringified property on the object based on the field type.
     */
    function getFormattedFieldValue(prop, propertyType, options) {
        if (propertyType === void 0) { propertyType = 'String'; }
        var defaults = {
            delim: ', ',
            dateFormat: 'short'
        }, opts = _.extend({}, defaults, options);
        var str = '';
        /** Only process if prop is defined */
        if (prop) {
            switch (propertyType) {
                case 'Boolean':
                    str = stringifyBoolean(prop);
                    break;
                case 'Calculated':
                    str = stringifyCalc(prop);
                    break;
                case 'Lookup':
                case 'User':
                    str = stringifyLookup(prop);
                    break;
                case 'DateTime':
                    str = stringifyDate(prop, opts.dateFormat);
                    break;
                case 'Integer':
                case 'Number':
                case 'Float':
                case 'Counter':
                    str = stringifyNumber(prop);
                    break;
                case 'Currency':
                    str = stringifyCurrency(prop);
                    break;
                case 'MultiChoice':
                    str = stringifyMultiChoice(prop, opts.delim);
                    break;
                case 'UserMulti':
                case 'LookupMulti':
                    str = stringifyMultiLookup(prop, opts.delim);
                    break;
                default:
                    str = prop;
            }
        }
        return str;
    }
    function stringifyCalc(prop) {
        if (prop.length === 0) {
            return '';
        }
        else if (_.isNumber(prop)) {
            return getFormattedFieldValue(prop, 'Number');
        }
        else if (_.isDate(prop)) {
            return getFormattedFieldValue(prop, 'DateTime');
        }
        else {
            return getFormattedFieldValue(prop, 'Text');
        }
    }
    /**
     * @ngdoc function
     * @name angularPoint.apFormattedFieldValueService:stringifyNumber
     * @methodOf angularPoint.apFormattedFieldValueService
     * @param {number} prop Property on object to parse.
     * @description
     * Converts a number to a string representation.
     * @returns {string} Stringified number.
     */
    function stringifyNumber(prop) {
        var str = '';
        if (_.isNumber(prop)) {
            str = prop.toString();
        }
        return str;
    }
    /**
     * @ngdoc function
     * @name angularPoint.apFormattedFieldValueService:stringifyCurrency
     * @methodOf angularPoint.apFormattedFieldValueService
     * @description
     * Converts a numeric value into a formatted currency string.
     * @param {number} prop Property on object to parse.
     * @returns {string} Stringified currency.
     */
    function stringifyCurrency(prop) {
        return $filter('currency')(prop, '$');
    }
    /**
     * @ngdoc function
     * @name angularPoint.apFormattedFieldValueService:stringifyLookup
     * @methodOf angularPoint.apFormattedFieldValueService
     * @param {obj} prop Property on object to parse.
     * @description
     * Returns the property.lookupValue if present.
     * @returns {string} Property.lookupValue.
     */
    function stringifyLookup(prop) {
        var str = '';
        if (prop && prop.lookupValue) {
            str = prop.lookupValue;
        }
        return str;
    }
    /**
     * @ngdoc function
     * @name angularPoint.apFormattedFieldValueService:stringifyBoolean
     * @methodOf angularPoint.apFormattedFieldValueService
     * @param {boolean} prop Boolean to stringify.
     * @description
     * Returns the stringified boolean if it is set.
     * @returns {string} Stringified boolean.
     */
    function stringifyBoolean(prop) {
        var str = '';
        if (_.isBoolean(prop)) {
            str = prop.toString();
        }
        return str;
    }
    /**
     * @ngdoc function
     * @name angularPoint.apFormattedFieldValueService:stringifyDate
     * @methodOf angularPoint.apFormattedFieldValueService
     * @param {date} prop Date object.
     * @param {string} dateFormat Either 'json' which converts a date into ISO8601 date string or a mask for
     * the angular date filter.
     * @description
     * Returns JSON date.
     * @returns {string} JSON date.
     */
    function stringifyDate(prop, dateFormat) {
        var str = '';
        if (_.isDate(prop)) {
            str = dateFormat === 'json' ? prop.toJSON() : $filter('date')(prop, dateFormat);
        }
        return str;
    }
    /**
     * @ngdoc function
     * @name angularPoint.apFormattedFieldValueService:stringifyMultiChoice
     * @methodOf angularPoint.apFormattedFieldValueService
     * @param {string[]} prop Array of selected choices.
     * @param {string} [delim='; '] Custom delimiter used between the concatenated values.
     * @description
     * Converts an array of strings into a single concatenated string.
     * @returns {string} Concatenated string representation.
     */
    function stringifyMultiChoice(prop, delim) {
        var str = '', d = delim || '; ';
        _.each(prop, function (choice, i) {
            if (i > 0) {
                str += d;
            }
            str += choice;
        });
        return str;
    }
    /**
     * @ngdoc function
     * @name angularPoint.apFormattedFieldValueService:stringifyMultiLookup
     * @methodOf angularPoint.apFormattedFieldValueService
     * @param {object[]} prop Array of lookup objects.
     * @param {string} [delim='; '] Custom delimiter used between the concatenated values.
     * @description
     * Converts an array of selected lookup values into a single concatenated string.
     * @returns {string} Concatenated string representation.
     */
    function stringifyMultiLookup(prop, delim) {
        var str = '', d = delim || '; ';
        _.each(prop, function (val, valIndex) {
            /** Add artificial delim */
            if (valIndex > 0) {
                str += d;
            }
            str += stringifyLookup(val);
        });
        return str;
    }
    angular.module('angularPoint').service('apFormattedFieldValueService', FormattedFieldValueService);
})(ap || (ap = {}));

/// <reference path="../../typings/ap.d.ts" />
var ap;
(function (ap) {
    'use strict';
    /**
     * @ngdoc service
     * @name angularPoint.SPServices
     * @description
     * This is just a trimmed down version of Marc Anderson's awesome [SPServices](http://spservices.codeplex.com/) library.
     * We're primarily looking for the ability to create the SOAP envelope and let AngularJS's $http service handle all
     * communication with the server.
     *
     * */
    angular.module('angularPoint').factory('SPServices', Service);
    //TODO Cleanup and convert to TS
    function Service(apWebServiceOperationConstants, apWebServiceService) {
        /*
         * SPServices - Work with SharePoint's Web Services using jQuery
         * Version 2014.02a
         * @requires jQuery v1.8 or greater - jQuery 1.10.x recommended
         *
         * Copyright (c) 2009-2013 Sympraxis Consulting LLC
         * Examples and docs at:
         * http://spservices.codeplex.com
         * Licensed under the MIT license:
         * http://www.opensource.org/licenses/mit-license.php
         */
        /*
         * @description Work with SharePoint's Web Services using jQuery
         * @type jQuery
         * @name SPServices
         * @category Plugins/SPServices
         * @author Sympraxis Consulting LLC/marc.anderson@sympraxisconsulting.com
         */
        /* jshint undef: true */
        /* global L_Menu_BaseUrl, _spUserId, _spPageContextInfo, GipAddSelectedItems, GipRemoveSelectedItems, GipGetGroupData */
        // Global variables
        var SCHEMASharePoint = "http://schemas.microsoft.com/sharepoint";
        var i = 0; // Generic loop counter
        var encodeOptionList = ["listName", "description"]; // Used to encode options which may contain special characters
        // Defaults added as a function in our library means that the caller can override the defaults
        // for their session by calling this function.  Each operation requires a different set of options;
        // we allow for all in a standardized way.
        var defaults = {
            operation: "",
            webURL: "",
            makeViewDefault: false,
            // For operations requiring CAML, these options will override any abstractions
            CAMLViewName: "",
            CAMLQuery: "",
            CAMLViewFields: "",
            CAMLRowLimit: 0,
            CAMLQueryOptions: "<QueryOptions></QueryOptions>",
            // Abstractions for CAML syntax
            batchCmd: "Update",
            valuePairs: [],
            // As of v0.7.1, removed all options which were assigned an empty string ("")
            DestinationUrls: [],
            behavior: "Version3",
            storage: "Shared",
            objectType: "List",
            cancelMeeting: true,
            nonGregorian: false,
            fClaim: false,
            recurrenceId: 0,
            sequence: 0,
            maximumItemsToReturn: 0,
            startIndex: 0,
            isHighPriority: false,
            isPrivate: false,
            rating: 1,
            maxResults: 10,
            principalType: "User",
            async: true,
            completefunc: null // Function to call on completion
        }; // End SPServices.defaults
        // Set up SOAP envelope
        function SOAPEnvelope() {
            return {
                header: "<soap:Envelope xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' " + "xmlns:xsd='http://www.w3.org/2001/XMLSchema' " + "xmlns:soap='http://schemas.xmlsoap.org/soap/envelope/'><soap:Body>",
                footer: "</soap:Body></soap:Envelope>",
                payload: ""
            };
        }
        // Main function, which calls SharePoint's Web Services directly.
        var SPServices = {
            defaults: defaults,
            encodeXml: encodeXml,
            generateXMLComponents: generateXMLComponents,
            SCHEMASharePoint: SCHEMASharePoint,
            SOAPEnvelope: new SOAPEnvelope()
        };
        function generateXMLComponents(options) {
            /** Key/Value mapping of SharePoint properties to SPServices properties */
            var mapping = [
                ['query', 'CAMLQuery'],
                ['viewFields', 'CAMLViewFields'],
                ['rowLimit', 'CAMLRowLimit'],
                ['queryOptions', 'CAMLQueryOptions'],
                ['listItemID', 'ID']
            ];
            /** Ensure the SharePoint properties are available prior to extending with defaults */
            _.each(mapping, function (map) {
                if (options[map[0]] && !options[map[1]]) {
                    /** Ensure SPServices properties are added in the event the true property name is used */
                    options[map[1]] = options[map[0]];
                }
            });
            var soapEnvelope = new SOAPEnvelope();
            var SOAPAction;
            // If there are no options passed in, use the defaults.  Extend replaces each default with the passed option.
            var opt = _.extend({}, defaults, options);
            // Encode options which may contain special character, esp. ampersand
            _.each(encodeOptionList, function (optionName) {
                if (_.isString(opt[optionName])) {
                    opt[optionName] = encodeXml(opt[optionName]);
                }
            });
            var service = apWebServiceOperationConstants[opt.operation][0];
            // Put together operation header and SOAPAction for the SOAP call based on which Web Service we're calling
            soapEnvelope.opheader = "<" + opt.operation + " xmlns='" + apWebServiceService.xmlns(service) + "' >";
            SOAPAction = apWebServiceService.action(service);
            // Add the operation to the SOAPAction and opfooter
            SOAPAction += opt.operation;
            soapEnvelope.opfooter = "</" + opt.operation + ">";
            switch (opt.operation) {
                case "GetAlerts":
                    break;
                case "DeleteAlerts":
                    soapEnvelope.payload += "<IDs>";
                    for (i = 0; i < opt.IDs.length; i++) {
                        soapEnvelope.payload += wrapNode("string", opt.IDs[i]);
                    }
                    soapEnvelope.payload += "</IDs>";
                    break;
                case "Mode":
                    break;
                case "Login":
                    addToPayload(opt, ["username", "password"]);
                    break;
                case "CopyIntoItems":
                    addToPayload(opt, ["SourceUrl"]);
                    soapEnvelope.payload += "<DestinationUrls>";
                    for (i = 0; i < opt.DestinationUrls.length; i++) {
                        soapEnvelope.payload += wrapNode("string", opt.DestinationUrls[i]);
                    }
                    soapEnvelope.payload += "</DestinationUrls>";
                    addToPayload(opt, ["Fields", "Stream", "Results"]);
                    break;
                case "CopyIntoItemsLocal":
                    addToPayload(opt, ["SourceUrl"]);
                    soapEnvelope.payload += "<DestinationUrls>";
                    for (i = 0; i < opt.DestinationUrls.length; i++) {
                        soapEnvelope.payload += wrapNode("string", opt.DestinationUrls[i]);
                    }
                    soapEnvelope.payload += "</DestinationUrls>";
                    break;
                case "GetItem":
                    addToPayload(opt, ["Url", "Fields", "Stream"]);
                    break;
                case "GetForm":
                    addToPayload(opt, ["listName", "formUrl"]);
                    break;
                case "GetFormCollection":
                    addToPayload(opt, ["listName"]);
                    break;
                case "AddAttachment":
                    addToPayload(opt, ["listName", "listItemID", "fileName", "attachment"]);
                    break;
                case "AddDiscussionBoardItem":
                    addToPayload(opt, ["listName", "message"]);
                    break;
                case "AddList":
                    addToPayload(opt, ["listName", "description", "templateID"]);
                    break;
                case "AddListFromFeature":
                    addToPayload(opt, ["listName", "description", "featureID", "templateID"]);
                    break;
                case "ApplyContentTypeToList":
                    addToPayload(opt, ["webUrl", "contentTypeId", "listName"]);
                    break;
                case "CheckInFile":
                    addToPayload(opt, ["pageUrl", "comment", "CheckinType"]);
                    break;
                case "CheckOutFile":
                    addToPayload(opt, ["pageUrl", "checkoutToLocal", "lastmodified"]);
                    break;
                case "CreateContentType":
                    addToPayload(opt, ["listName", "displayName", "parentType", "fields", "contentTypeProperties", "addToView"]);
                    break;
                case "DeleteAttachment":
                    addToPayload(opt, ["listName", "listItemID", "url"]);
                    break;
                case "DeleteContentType":
                    addToPayload(opt, ["listName", "contentTypeId"]);
                    break;
                case "DeleteContentTypeXmlDocument":
                    addToPayload(opt, ["listName", "contentTypeId", "documentUri"]);
                    break;
                case "DeleteList":
                    addToPayload(opt, ["listName"]);
                    break;
                case "GetAttachmentCollection":
                    addToPayload(opt, ["listName", ["listItemID", "ID"]]);
                    break;
                case "GetList":
                    addToPayload(opt, ["listName"]);
                    break;
                case "GetListAndView":
                    addToPayload(opt, ["listName", "viewName"]);
                    break;
                case "GetListCollection":
                    break;
                case "GetListContentType":
                    addToPayload(opt, ["listName", "contentTypeId"]);
                    break;
                case "GetListContentTypes":
                    addToPayload(opt, ["listName"]);
                    break;
                case "GetListItems":
                    addToPayload(opt, ["listName", "viewName", ["query", "CAMLQuery"], ["viewFields", "CAMLViewFields"], ["rowLimit", "CAMLRowLimit"], ["queryOptions", "CAMLQueryOptions"]]);
                    break;
                case "GetListItemChanges":
                    addToPayload(opt, ["listName", "viewFields", "since", "contains"]);
                    break;
                case "GetListItemChangesSinceToken":
                    addToPayload(opt, ["listName", "viewName", ["query", "CAMLQuery"], ["viewFields", "CAMLViewFields"], ["rowLimit", "CAMLRowLimit"], ["queryOptions", "CAMLQueryOptions"], {
                        name: "changeToken",
                        sendNull: false
                    }, {
                        name: "contains",
                        sendNull: false
                    }]);
                    break;
                case "GetVersionCollection":
                    addToPayload(opt, ["strlistID", "strlistItemID", "strFieldName"]);
                    break;
                case "UndoCheckOut":
                    addToPayload(opt, ["pageUrl"]);
                    break;
                case "UpdateContentType":
                    addToPayload(opt, ["listName", "contentTypeId", "contentTypeProperties", "newFields", "updateFields", "deleteFields", "addToView"]);
                    break;
                case "UpdateContentTypesXmlDocument":
                    addToPayload(opt, ["listName", "newDocument"]);
                    break;
                case "UpdateContentTypeXmlDocument":
                    addToPayload(opt, ["listName", "contentTypeId", "newDocument"]);
                    break;
                case "UpdateList":
                    addToPayload(opt, ["listName", "listProperties", "newFields", "updateFields", "deleteFields", "listVersion"]);
                    break;
                case "UpdateListItems":
                    addToPayload(opt, ["listName"]);
                    if (typeof opt.updates !== "undefined" && opt.updates.length > 0) {
                        addToPayload(opt, ["updates"]);
                    }
                    else {
                        soapEnvelope.payload += "<updates><Batch OnError='Continue'><Method ID='1' Cmd='" + opt.batchCmd + "'>";
                        for (i = 0; i < opt.valuePairs.length; i++) {
                            soapEnvelope.payload += "<Field Name='" + opt.valuePairs[i][0] + "'>" + escapeColumnValue(opt.valuePairs[i][1]) + "</Field>";
                        }
                        if (opt.batchCmd !== "New") {
                            soapEnvelope.payload += "<Field Name='ID'>" + opt.ID + "</Field>";
                        }
                        soapEnvelope.payload += "</Method></Batch></updates>";
                    }
                    break;
                case "AddMeeting":
                    addToPayload(opt, ["organizerEmail", "uid", "sequence", "utcDateStamp", "title", "location", "utcDateStart", "utcDateEnd", "nonGregorian"]);
                    break;
                case "CreateWorkspace":
                    addToPayload(opt, ["title", "templateName", "lcid", "timeZoneInformation"]);
                    break;
                case "RemoveMeeting":
                    addToPayload(opt, ["recurrenceId", "uid", "sequence", "utcDateStamp", "cancelMeeting"]);
                    break;
                case "SetWorkspaceTitle":
                    addToPayload(opt, ["title"]);
                    break;
                case "ResolvePrincipals":
                    addToPayload(opt, ["principalKeys", "principalType", "addToUserInfoList"]);
                    break;
                case "SearchPrincipals":
                    addToPayload(opt, ["searchText", "maxResults", "principalType"]);
                    break;
                case "AddPermission":
                    addToPayload(opt, ["objectName", "objectType", "permissionIdentifier", "permissionType", "permissionMask"]);
                    break;
                case "AddPermissionCollection":
                    addToPayload(opt, ["objectName", "objectType", "permissionsInfoXml"]);
                    break;
                case "GetPermissionCollection":
                    addToPayload(opt, ["objectName", "objectType"]);
                    break;
                case "RemovePermission":
                    addToPayload(opt, ["objectName", "objectType", "permissionIdentifier", "permissionType"]);
                    break;
                case "RemovePermissionCollection":
                    addToPayload(opt, ["objectName", "objectType", "memberIdsXml"]);
                    break;
                case "UpdatePermission":
                    addToPayload(opt, ["objectName", "objectType", "permissionIdentifier", "permissionType", "permissionMask"]);
                    break;
                case "GetLinks":
                    break;
                case "GetPortalSearchInfo":
                    soapEnvelope.opheader = "<" + opt.operation + " xmlns='http://microsoft.com/webservices/OfficeServer/QueryService'>";
                    SOAPAction = "http://microsoft.com/webservices/OfficeServer/QueryService/" + opt.operation;
                    break;
                case "GetQuerySuggestions":
                    soapEnvelope.opheader = "<" + opt.operation + " xmlns='http://microsoft.com/webservices/OfficeServer/QueryService'>";
                    SOAPAction = "http://microsoft.com/webservices/OfficeServer/QueryService/" + opt.operation;
                    soapEnvelope.payload += wrapNode("queryXml", encodeXml(opt.queryXml));
                    break;
                case "GetSearchMetadata":
                    soapEnvelope.opheader = "<" + opt.operation + " xmlns='http://microsoft.com/webservices/OfficeServer/QueryService'>";
                    SOAPAction = "http://microsoft.com/webservices/OfficeServer/QueryService/" + opt.operation;
                    break;
                case "Query":
                    soapEnvelope.payload += wrapNode("queryXml", encodeXml(opt.queryXml));
                    break;
                case "QueryEx":
                    soapEnvelope.opheader = "<" + opt.operation + " xmlns='http://microsoft.com/webservices/OfficeServer/QueryService'>";
                    SOAPAction = "http://microsoft.com/webservices/OfficeServer/QueryService/" + opt.operation;
                    soapEnvelope.payload += wrapNode("queryXml", encodeXml(opt.queryXml));
                    break;
                case "Registration":
                    soapEnvelope.payload += wrapNode("registrationXml", encodeXml(opt.registrationXml));
                    break;
                case "Status":
                    break;
                case "SendClientScriptErrorReport":
                    addToPayload(opt, ["message", "file", "line", "client", "stack", "team", "originalFile"]);
                    break;
                case "EnumerateFolder":
                    addToPayload(opt, ["strFolderUrl"]);
                    break;
                case "GetAttachments":
                    addToPayload(opt, ["strListName", "strItemId"]);
                    break;
                case "SiteDataGetList":
                    addToPayload(opt, ["strListName"]);
                    // Because this operation has a name which duplicates the Lists WS, need to handle
                    soapEnvelope = siteDataFixSOAPEnvelope(soapEnvelope, opt.operation);
                    break;
                case "SiteDataGetListCollection":
                    // Because this operation has a name which duplicates the Lists WS, need to handle
                    soapEnvelope = siteDataFixSOAPEnvelope(soapEnvelope, opt.operation);
                    break;
                case "SiteDataGetSite":
                    // Because this operation has a name which duplicates the Lists WS, need to handle
                    soapEnvelope = siteDataFixSOAPEnvelope(soapEnvelope, opt.operation);
                    break;
                case "SiteDataGetSiteUrl":
                    addToPayload(opt, ["Url"]);
                    // Because this operation has a name which duplicates the Lists WS, need to handle
                    soapEnvelope = siteDataFixSOAPEnvelope(soapEnvelope, opt.operation);
                    break;
                case "SiteDataGetWeb":
                    // Because this operation has a name which duplicates the Lists WS, need to handle
                    soapEnvelope = siteDataFixSOAPEnvelope(soapEnvelope, opt.operation);
                    break;
                case "CreateWeb":
                    addToPayload(opt, ["url", "title", "description", "templateName", "language", "languageSpecified", "locale", "localeSpecified", "collationLocale", "collationLocaleSpecified", "uniquePermissions", "uniquePermissionsSpecified", "anonymous", "anonymousSpecified", "presence", "presenceSpecified"]);
                    break;
                case "DeleteWeb":
                    addToPayload(opt, ["url"]);
                    break;
                case "GetSite":
                    addToPayload(opt, ["SiteUrl"]);
                    break;
                case "GetSiteTemplates":
                    addToPayload(opt, ["LCID", "TemplateList"]);
                    break;
                case "AddComment":
                    addToPayload(opt, ["url", "comment", "isHighPriority", "title"]);
                    break;
                case "AddTag":
                    addToPayload(opt, ["url", "termID", "title", "isPrivate"]);
                    break;
                case "AddTagByKeyword":
                    addToPayload(opt, ["url", "keyword", "title", "isPrivate"]);
                    break;
                case "CountCommentsOfUser":
                    addToPayload(opt, ["userAccountName"]);
                    break;
                case "CountCommentsOfUserOnUrl":
                    addToPayload(opt, ["userAccountName", "url"]);
                    break;
                case "CountCommentsOnUrl":
                    addToPayload(opt, ["url"]);
                    break;
                case "CountRatingsOnUrl":
                    addToPayload(opt, ["url"]);
                    break;
                case "CountTagsOfUser":
                    addToPayload(opt, ["userAccountName"]);
                    break;
                case "DeleteComment":
                    addToPayload(opt, ["url", "lastModifiedTime"]);
                    break;
                case "DeleteRating":
                    addToPayload(opt, ["url"]);
                    break;
                case "DeleteTag":
                    addToPayload(opt, ["url", "termID"]);
                    break;
                case "DeleteTagByKeyword":
                    addToPayload(opt, ["url", "keyword"]);
                    break;
                case "DeleteTags":
                    addToPayload(opt, ["url"]);
                    break;
                case "GetAllTagTerms":
                    addToPayload(opt, ["maximumItemsToReturn"]);
                    break;
                case "GetAllTagTermsForUrlFolder":
                    addToPayload(opt, ["urlFolder", "maximumItemsToReturn"]);
                    break;
                case "GetAllTagUrls":
                    addToPayload(opt, ["termID"]);
                    break;
                case "GetAllTagUrlsByKeyword":
                    addToPayload(opt, ["keyword"]);
                    break;
                case "GetCommentsOfUser":
                    addToPayload(opt, ["userAccountName", "maximumItemsToReturn", "startIndex"]);
                    break;
                case "GetCommentsOfUserOnUrl":
                    addToPayload(opt, ["userAccountName", "url"]);
                    break;
                case "GetCommentsOnUrl":
                    addToPayload(opt, ["url", "maximumItemsToReturn", "startIndex"]);
                    if (typeof opt.excludeItemsTime !== "undefined" && opt.excludeItemsTime.length > 0) {
                        soapEnvelope.payload += wrapNode("excludeItemsTime", opt.excludeItemsTime);
                    }
                    break;
                case "GetRatingAverageOnUrl":
                    addToPayload(opt, ["url"]);
                    break;
                case "GetRatingOfUserOnUrl":
                    addToPayload(opt, ["userAccountName", "url"]);
                    break;
                case "GetRatingOnUrl":
                    addToPayload(opt, ["url"]);
                    break;
                case "GetRatingsOfUser":
                    addToPayload(opt, ["userAccountName"]);
                    break;
                case "GetRatingsOnUrl":
                    addToPayload(opt, ["url"]);
                    break;
                case "GetSocialDataForFullReplication":
                    addToPayload(opt, ["userAccountName"]);
                    break;
                case "GetTags":
                    addToPayload(opt, ["url"]);
                    break;
                case "GetTagsOfUser":
                    addToPayload(opt, ["userAccountName", "maximumItemsToReturn", "startIndex"]);
                    break;
                case "GetTagTerms":
                    addToPayload(opt, ["maximumItemsToReturn"]);
                    break;
                case "GetTagTermsOfUser":
                    addToPayload(opt, ["userAccountName", "maximumItemsToReturn"]);
                    break;
                case "GetTagTermsOnUrl":
                    addToPayload(opt, ["url", "maximumItemsToReturn"]);
                    break;
                case "GetTagUrls":
                    addToPayload(opt, ["termID"]);
                    break;
                case "GetTagUrlsByKeyword":
                    addToPayload(opt, ["keyword"]);
                    break;
                case "GetTagUrlsOfUser":
                    addToPayload(opt, ["termID", "userAccountName"]);
                    break;
                case "GetTagUrlsOfUserByKeyword":
                    addToPayload(opt, ["keyword", "userAccountName"]);
                    break;
                case "SetRating":
                    addToPayload(opt, ["url", "rating", "title", "analysisDataEntry"]);
                    break;
                case "UpdateComment":
                    addToPayload(opt, ["url", "lastModifiedTime", "comment", "isHighPriority"]);
                    break;
                case "SpellCheck":
                    addToPayload(opt, ["chunksToSpell", "declaredLanguage", "useLad"]);
                    break;
                case "AddTerms":
                    addToPayload(opt, ["sharedServiceId", "termSetId", "lcid", "newTerms"]);
                    break;
                case "GetChildTermsInTerm":
                    addToPayload(opt, ["sspId", "lcid", "termId", "termSetId"]);
                    break;
                case "GetChildTermsInTermSet":
                    addToPayload(opt, ["sspId", "lcid", "termSetId"]);
                    break;
                case "GetKeywordTermsByGuids":
                    addToPayload(opt, ["termIds", "lcid"]);
                    break;
                case "GetTermsByLabel":
                    addToPayload(opt, ["label", "lcid", "matchOption", "resultCollectionSize", "termIds", "addIfNotFound"]);
                    break;
                case "GetTermSets":
                    addToPayload(opt, ["sharedServiceId", "termSetId", "lcid", "clientTimeStamps", "clientVersions"]);
                    break;
                case "AddGroup":
                    addToPayload(opt, ["groupName", "ownerIdentifier", "ownerType", "defaultUserLoginName", "description"]);
                    break;
                case "AddGroupToRole":
                    addToPayload(opt, ["groupName", "roleName"]);
                    break;
                case "AddRole":
                    addToPayload(opt, ["roleName", "description", "permissionMask"]);
                    break;
                case "AddRoleDef":
                    addToPayload(opt, ["roleName", "description", "permissionMask"]);
                    break;
                case "AddUserCollectionToGroup":
                    addToPayload(opt, ["groupName", "usersInfoXml"]);
                    break;
                case "AddUserCollectionToRole":
                    addToPayload(opt, ["roleName", "usersInfoXml"]);
                    break;
                case "AddUserToGroup":
                    addToPayload(opt, ["groupName", "userName", "userLoginName", "userEmail", "userNotes"]);
                    break;
                case "AddUserToRole":
                    addToPayload(opt, ["roleName", "userName", "userLoginName", "userEmail", "userNotes"]);
                    break;
                case "GetAllUserCollectionFromWeb":
                    break;
                case "GetGroupCollection":
                    addToPayload(opt, ["groupNamesXml"]);
                    break;
                case "GetGroupCollectionFromRole":
                    addToPayload(opt, ["roleName"]);
                    break;
                case "GetGroupCollectionFromSite":
                    break;
                case "GetGroupCollectionFromUser":
                    addToPayload(opt, ["userLoginName"]);
                    break;
                case "GetGroupCollectionFromWeb":
                    break;
                case "GetGroupInfo":
                    addToPayload(opt, ["groupName"]);
                    break;
                case "GetRoleCollection":
                    addToPayload(opt, ["roleNamesXml"]);
                    break;
                case "GetRoleCollectionFromGroup":
                    addToPayload(opt, ["groupName"]);
                    break;
                case "GetRoleCollectionFromUser":
                    addToPayload(opt, ["userLoginName"]);
                    break;
                case "GetRoleCollectionFromWeb":
                    break;
                case "GetRoleInfo":
                    addToPayload(opt, ["roleName"]);
                    break;
                case "GetRolesAndPermissionsForCurrentUser":
                    break;
                case "GetRolesAndPermissionsForSite":
                    break;
                case "GetUserCollection":
                    addToPayload(opt, ["userLoginNamesXml"]);
                    break;
                case "GetUserCollectionFromGroup":
                    addToPayload(opt, ["groupName"]);
                    break;
                case "GetUserCollectionFromRole":
                    addToPayload(opt, ["roleName"]);
                    break;
                case "GetUserCollectionFromSite":
                    break;
                case "GetUserCollectionFromWeb":
                    break;
                case "GetUserInfo":
                    addToPayload(opt, ["userLoginName"]);
                    break;
                case "GetUserLoginFromEmail":
                    addToPayload(opt, ["emailXml"]);
                    break;
                case "RemoveGroup":
                    addToPayload(opt, ["groupName"]);
                    break;
                case "RemoveGroupFromRole":
                    addToPayload(opt, ["roleName", "groupName"]);
                    break;
                case "RemoveRole":
                    addToPayload(opt, ["roleName"]);
                    break;
                case "RemoveUserCollectionFromGroup":
                    addToPayload(opt, ["groupName", "userLoginNamesXml"]);
                    break;
                case "RemoveUserCollectionFromRole":
                    addToPayload(opt, ["roleName", "userLoginNamesXml"]);
                    break;
                case "RemoveUserCollectionFromSite":
                    addToPayload(opt, ["userLoginNamesXml"]);
                    break;
                case "RemoveUserFromGroup":
                    addToPayload(opt, ["groupName", "userLoginName"]);
                    break;
                case "RemoveUserFromRole":
                    addToPayload(opt, ["roleName", "userLoginName"]);
                    break;
                case "RemoveUserFromSite":
                    addToPayload(opt, ["userLoginName"]);
                    break;
                case "RemoveUserFromWeb":
                    addToPayload(opt, ["userLoginName"]);
                    break;
                case "UpdateGroupInfo":
                    addToPayload(opt, ["oldGroupName", "groupName", "ownerIdentifier", "ownerType", "description"]);
                    break;
                case "UpdateRoleDefInfo":
                    addToPayload(opt, ["oldRoleName", "roleName", "description", "permissionMask"]);
                    break;
                case "UpdateRoleInfo":
                    addToPayload(opt, ["oldRoleName", "roleName", "description", "permissionMask"]);
                    break;
                case "UpdateUserInfo":
                    addToPayload(opt, ["userLoginName", "userName", "userEmail", "userNotes"]);
                    break;
                case "AddColleague":
                    addToPayload(opt, ["accountName", "colleagueAccountName", "group", "privacy", "isInWorkGroup"]);
                    break;
                case "AddLink":
                    addToPayload(opt, ["accountName", "name", "url", "group", "privacy"]);
                    break;
                case "AddMembership":
                    addToPayload(opt, ["accountName", "membershipInfo", "group", "privacy"]);
                    break;
                case "AddPinnedLink":
                    addToPayload(opt, ["accountName", "name", "url"]);
                    break;
                case "CreateMemberGroup":
                    addToPayload(opt, ["membershipInfo"]);
                    break;
                case "CreateUserProfileByAccountName":
                    addToPayload(opt, ["accountName"]);
                    break;
                case "GetCommonColleagues":
                    addToPayload(opt, ["accountName"]);
                    break;
                case "GetCommonManager":
                    addToPayload(opt, ["accountName"]);
                    break;
                case "GetCommonMemberships":
                    addToPayload(opt, ["accountName"]);
                    break;
                case "GetInCommon":
                    addToPayload(opt, ["accountName"]);
                    break;
                case "GetPropertyChoiceList":
                    addToPayload(opt, ["propertyName"]);
                    break;
                case "GetUserColleagues":
                    addToPayload(opt, ["accountName"]);
                    break;
                case "GetUserLinks":
                    addToPayload(opt, ["accountName"]);
                    break;
                case "GetUserMemberships":
                    addToPayload(opt, ["accountName"]);
                    break;
                case "GetUserPinnedLinks":
                    addToPayload(opt, ["accountName"]);
                    break;
                case "GetUserProfileByGuid":
                    addToPayload(opt, ["guid"]);
                    break;
                case "GetUserProfileByIndex":
                    addToPayload(opt, ["index"]);
                    break;
                case "GetUserProfileByName":
                    // Note that this operation is inconsistent with the others, using AccountName rather than accountName
                    if (typeof opt.accountName !== "undefined" && opt.accountName.length > 0) {
                        addToPayload(opt, [
                            ["AccountName", "accountName"]
                        ]);
                    }
                    else {
                        addToPayload(opt, ["AccountName"]);
                    }
                    break;
                case "GetUserProfileCount":
                    break;
                case "GetUserProfileSchema":
                    break;
                case "GetUserPropertyByAccountName":
                    addToPayload(opt, ["accountName", "propertyName"]);
                    break;
                case "ModifyUserPropertyByAccountName":
                    addToPayload(opt, ["accountName", "newData"]);
                    break;
                case "RemoveAllColleagues":
                    addToPayload(opt, ["accountName"]);
                    break;
                case "RemoveAllLinks":
                    addToPayload(opt, ["accountName"]);
                    break;
                case "RemoveAllMemberships":
                    addToPayload(opt, ["accountName"]);
                    break;
                case "RemoveAllPinnedLinks":
                    addToPayload(opt, ["accountName"]);
                    break;
                case "RemoveColleague":
                    addToPayload(opt, ["accountName", "colleagueAccountName"]);
                    break;
                case "RemoveLink":
                    addToPayload(opt, ["accountName", "id"]);
                    break;
                case "RemoveMembership":
                    addToPayload(opt, ["accountName", "sourceInternal", "sourceReference"]);
                    break;
                case "RemovePinnedLink":
                    addToPayload(opt, ["accountName", "id"]);
                    break;
                case "UpdateColleaguePrivacy":
                    addToPayload(opt, ["accountName", "colleagueAccountName", "newPrivacy"]);
                    break;
                case "UpdateLink":
                    addToPayload(opt, ["accountName", "data"]);
                    break;
                case "UpdateMembershipPrivacy":
                    addToPayload(opt, ["accountName", "sourceInternal", "sourceReference", "newPrivacy"]);
                    break;
                case "UpdatePinnedLink ":
                    addToPayload(opt, ["accountName", "data"]);
                    break;
                case "DeleteAllVersions":
                    addToPayload(opt, ["fileName"]);
                    break;
                case "DeleteVersion":
                    addToPayload(opt, ["fileName", "fileVersion"]);
                    break;
                case "GetVersions":
                    addToPayload(opt, ["fileName"]);
                    break;
                case "RestoreVersion":
                    addToPayload(opt, ["fileName", "fileVersion"]);
                    break;
                case "AddView":
                    addToPayload(opt, ["listName", "viewName", "viewFields", "query", "rowLimit", "rowLimit", "type", "makeViewDefault"]);
                    break;
                case "DeleteView":
                    addToPayload(opt, ["listName", "viewName"]);
                    break;
                case "GetView":
                    addToPayload(opt, ["listName", "viewName"]);
                    break;
                case "GetViewCollection":
                    addToPayload(opt, ["listName"]);
                    break;
                case "GetViewHtml":
                    addToPayload(opt, ["listName", "viewName"]);
                    break;
                case "UpdateView":
                    addToPayload(opt, ["listName", "viewName", "viewProperties", "query", "viewFields", "aggregations", "formats", "rowLimit"]);
                    break;
                case "UpdateViewHtml":
                    addToPayload(opt, ["listName", "viewName", "viewProperties", "toolbar", "viewHeader", "viewBody", "viewFooter", "viewEmpty", "rowLimitExceeded", "query", "viewFields", "aggregations", "formats", "rowLimit"]);
                    break;
                case "AddWebPart":
                    addToPayload(opt, ["pageUrl", "webPartXml", "storage"]);
                    break;
                case "AddWebPartToZone":
                    addToPayload(opt, ["pageUrl", "webPartXml", "storage", "zoneId", "zoneIndex"]);
                    break;
                case "GetWebPart2":
                    addToPayload(opt, ["pageUrl", "storageKey", "storage", "behavior"]);
                    break;
                case "GetWebPartPage":
                    addToPayload(opt, ["documentName", "behavior"]);
                    break;
                case "GetWebPartProperties":
                    addToPayload(opt, ["pageUrl", "storage"]);
                    break;
                case "GetWebPartProperties2":
                    addToPayload(opt, ["pageUrl", "storage", "behavior"]);
                    break;
                case "Webs.CreateContentType":
                    addToPayload(opt, ["displayName", "parentType", "newFields", "contentTypeProperties"]);
                    break;
                case "GetColumns":
                    addToPayload(opt, ["webUrl"]);
                    break;
                case "GetContentType":
                    addToPayload(opt, ["contentTypeId"]);
                    break;
                case "GetContentTypes":
                    break;
                case "GetCustomizedPageStatus":
                    addToPayload(opt, ["fileUrl"]);
                    break;
                case "GetListTemplates":
                    break;
                case "GetObjectIdFromUrl":
                    addToPayload(opt, ["objectUrl"]);
                    break;
                case "GetWeb":
                    addToPayload(opt, [
                        ["webUrl", "webURL"]
                    ]);
                    break;
                case "GetWebCollection":
                    break;
                case "GetAllSubWebCollection":
                    break;
                case "UpdateColumns":
                    addToPayload(opt, ["newFields", "updateFields", "deleteFields"]);
                    break;
                case "Webs.UpdateContentType":
                    addToPayload(opt, ["contentTypeId", "contentTypeProperties", "newFields", "updateFields", "deleteFields"]);
                    break;
                case "WebUrlFromPageUrl":
                    addToPayload(opt, [
                        ["pageUrl", "pageURL"]
                    ]);
                    break;
                case "AlterToDo":
                    addToPayload(opt, ["item", "todoId", "todoListId", "taskData"]);
                    break;
                case "ClaimReleaseTask":
                    addToPayload(opt, ["item", "taskId", "listId", "fClaim"]);
                    break;
                case "GetTemplatesForItem":
                    addToPayload(opt, ["item"]);
                    break;
                case "GetToDosForItem":
                    addToPayload(opt, ["item"]);
                    break;
                case "GetWorkflowDataForItem":
                    addToPayload(opt, ["item"]);
                    break;
                case "GetWorkflowTaskData":
                    addToPayload(opt, ["item", "listId", "taskId"]);
                    break;
                case "StartWorkflow":
                    addToPayload(opt, ["item", "templateId", "workflowParameters"]);
                    break;
                default:
                    break;
            }
            // Glue together the pieces of the SOAP message
            var msg = soapEnvelope.header + soapEnvelope.opheader + soapEnvelope.payload + soapEnvelope.opfooter + soapEnvelope.footer;
            var soapAction = apWebServiceOperationConstants[opt.operation][1] ? SOAPAction : false;
            return {
                msg: msg,
                SOAPEnvelope: soapEnvelope,
                SOAPAction: soapAction
            };
            // Add the option values to the soapEnvelope.payload for the operation
            //  opt = options for the call
            //  paramArray = an array of option names to add to the payload
            //      "paramName" if the parameter name and the option name match
            //      ["paramName", "optionName"] if the parameter name and the option name are different (this handles early "wrappings" with inconsistent naming)
            //      {name: "paramName", sendNull: false} indicates the element is marked as "add to payload only if non-null"
            function addToPayload(opt, paramArray) {
                var i;
                for (i = 0; i < paramArray.length; i++) {
                    // the parameter name and the option name match
                    if (typeof paramArray[i] === "string") {
                        soapEnvelope.payload += wrapNode(paramArray[i], opt[paramArray[i]]);
                    }
                    else if (_.isArray(paramArray[i]) && paramArray[i].length === 2) {
                        soapEnvelope.payload += wrapNode(paramArray[i][0], opt[paramArray[i][1]]);
                    }
                    else if ((typeof paramArray[i] === "object") && (paramArray[i].sendNull !== undefined)) {
                        soapEnvelope.payload += ((opt[paramArray[i].name] === undefined) || (opt[paramArray[i].name].length === 0)) ? "" : wrapNode(paramArray[i].name, opt[paramArray[i].name]);
                    }
                    else {
                        errBox(opt.operation, "paramArray[" + i + "]: " + paramArray[i], "Invalid paramArray element passed to addToPayload()");
                    }
                }
            } // End of function addToPayload
            // The SiteData operations have the same names as other Web Service operations. To make them easy to call and unique, I'm using
            // the SiteData prefix on their names. This function replaces that name with the right name in the soapEnvelope.
            function siteDataFixSOAPEnvelope(SOAPEnvelope, siteDataOperation) {
                var siteDataOp = siteDataOperation.substring(8);
                SOAPEnvelope.opheader = SOAPEnvelope.opheader.replace(siteDataOperation, siteDataOp);
                SOAPEnvelope.opfooter = SOAPEnvelope.opfooter.replace(siteDataOperation, siteDataOp);
                return SOAPEnvelope;
            } // End of function siteDataFixSOAPEnvelope
        }
        ;
        //TODO Move this somewhere else, it's too buried down here
        // This method for finding specific nodes in the returned XML was developed by Steve Workman. See his blog post
        // http://www.steveworkman.com/html5-2/javascript/2011/improving-javascript-xml-node-finding-performance-by-2000/
        // for performance details.
        $.fn.SPFilterNode = function (name) {
            return this.find('*').filter(function () {
                return this.nodeName === name;
            });
        }; // End $.fn.SPFilterNode
        ////// PRIVATE FUNCTIONS ////////
        // Wrap an XML node (n) around a value (v)
        function wrapNode(n, v) {
            var thisValue = typeof v !== "undefined" ? v : "";
            return "<" + n + ">" + thisValue + "</" + n + ">";
        }
        // Get the filename from the full URL
        function fileName(s) {
            return s.substring(s.lastIndexOf("/") + 1, s.length);
        }
        /* Taken from http://dracoblue.net/dev/encodedecode-special-xml-characters-in-javascript/155/ */
        var xml_special_to_escaped_one_map = {
            '&': '&amp;',
            '"': '&quot;',
            '<': '&lt;',
            '>': '&gt;'
        };
        function encodeXml(string) {
            return string.replace(/([\&"<>])/g, function (str, item) {
                return xml_special_to_escaped_one_map[item];
            });
        }
        /* Taken from http://dracoblue.net/dev/encodedecode-special-xml-characters-in-javascript/155/ */
        // Escape column values
        function escapeColumnValue(s) {
            if (typeof s === "string") {
                return s.replace(/&(?![a-zA-Z]{1,8};)/g, "&amp;");
            }
            else {
                return s;
            }
        }
        function errBox(msg) {
            console.error(msg);
        }
        // James Padolsey's Regex Selector for jQuery http://james.padolsey.com/javascript/regex-selector-for-jquery/
        $.expr[':'].regex = function (elem, index, match) {
            var matchParams = match[3].split(','), validLabels = /^(data|css):/, attr = {
                method: matchParams[0].match(validLabels) ? matchParams[0].split(':')[0] : 'attr',
                property: matchParams.shift().replace(validLabels, '')
            }, regexFlags = 'ig', regex = new RegExp(matchParams.join('').replace(/^\s+|\s+$/g, ''), regexFlags);
            return regex.test(jQuery(elem)[attr.method](attr.property));
        };
        return SPServices;
        //// Known list field types
        //var spListFieldTypes = [
        //    "Text",
        //    "DateTime",
        //    "datetime",
        //    "User",
        //    "UserMulti",
        //    "Lookup",
        //    "LookupMulti",
        //    "Boolean",
        //    "Integer",
        //    "Counter",
        //    "MultiChoice",
        //    "Currency",
        //    "float",
        //    "Calc",
        //    "Attachments",
        //    "Calculated",
        //    "ContentTypeId",
        //    "Note",
        //    //          "Computed",
        //    "URL",
        //    "Number",
        //    "Choice",
        //    "ModStat",
        //    "Guid",
        //    "File"
        //];
        // Convert a JavaScript date to the ISO 8601 format required by SharePoint to update list items
        //function SPConvertDateToISO(options) {
        //
        //    var opt = $.extend({}, {
        //        dateToConvert: new Date(), // The JavaScript date we'd like to convert. If no date is passed, the function returns the current date/time
        //        dateOffset: "-05:00" // The time zone offset requested. Default is EST
        //    }, options);
        //
        //    //Generate ISO 8601 date/time formatted string
        //    var s = "";
        //    var d = opt.dateToConvert;
        //    s += d.getFullYear() + "-";
        //    s += pad(d.getMonth() + 1) + "-";
        //    s += pad(d.getDate());
        //    s += "T" + pad(d.getHours()) + ":";
        //    s += pad(d.getMinutes()) + ":";
        //    s += pad(d.getSeconds()) + "Z" + opt.dateOffset;
        //    //Return the ISO8601 date string
        //    return s;
        //
        //} // End SPServices.SPConvertDateToISO
        // Split values like 1;#value into id and value
        //function SplitIndex(s) {
        //    var spl = s.split(";#");
        //    this.id = spl[0];
        //    this.value = spl[1];
        //}
        //function pad(n) {
        //    return n < 10 ? "0" + n : n;
        //}
        //var escaped_one_to_xml_special_map = {
        //    '&amp;': '&',
        //    '&quot;': '"',
        //    '&lt;': '<',
        //    '&gt;': '>'
        //};
        //
        //function decodeXml(string) {
        //    return string.replace(/(&quot;|&lt;|&gt;|&amp;)/g,
        //        function (str, item) {
        //            return escaped_one_to_xml_special_map[item];
        //        });
        //}
        // Escape Url
        //function escapeUrl(u) {
        //    return u.replace(/&/g, '%26');
        //}
        // Return the current version of SPServices as a string
        //SPServices.Version = function () {
        //
        //    return VERSION;
        //
        //}; // End SPServices.Version
        //// This function converts an XML node set to JSON
        //// Initial implementation focuses only on GetListItems
        //$.fn.SPXmlToJson = function (options) {
        //
        //    var opt = $.extend({}, {
        //        mapping: {}, // columnName: mappedName: "mappedName", objectType: "objectType"
        //        includeAllAttrs: false, // If true, return all attributes, regardless whether they are in the mapping
        //        removeOws: true, // Specifically for GetListItems, if true, the leading ows_ will be stripped off the field name
        //        sparse: false // If true, empty ("") values will not be returned
        //    }, options);
        //
        //    var attrNum;
        //    var jsonObject = [];
        //
        //    this.each(function () {
        //        var row = {};
        //        var rowAttrs = this.attributes;
        //
        //        if (!opt.sparse) {
        //            // Bring back all mapped columns, even those with no value
        //            $.each(opt.mapping, function () {
        //                row[this.mappedName] = "";
        //            });
        //        }
        //
        //        // Parse through the element's attributes
        //        for (attrNum = 0; attrNum < rowAttrs.length; attrNum++) {
        //            var thisAttrName = rowAttrs[attrNum].name;
        //            var thisMapping = opt.mapping[thisAttrName];
        //            var thisObjectName = typeof thisMapping !== "undefined" ? thisMapping.mappedName : opt.removeOws ? thisAttrName.split("ows_")[1] : thisAttrName;
        //            var thisObjectType = typeof thisMapping !== "undefined" ? thisMapping.objectType : undefined;
        //            if (opt.includeAllAttrs || thisMapping !== undefined) {
        //                row[thisObjectName] = apDecodeService.attrToJson(rowAttrs[attrNum].value, thisObjectType);
        //            }
        //        }
        //        // Push this item into the JSON Object
        //        jsonObject.push(row);
        //
        //    });
        //
        //    // Return the JSON object
        //    return jsonObject;
        //
        //}; // End SPServices.SPXmlToJson
        //function attrToJson(v, objectType) {
        //
        //    var colValue;
        //
        //    switch (objectType) {
        //        case "Text":
        //            colValue = stringToJsonObject(v);
        //            break;
        //        case "DateTime":
        //        case "datetime": // For calculated columns, stored as datetime;#value
        //            // Dates have dashes instead of slashes: ows_Created="2009-08-25 14:24:48"
        //            colValue = dateToJsonObject(v);
        //            break;
        //        case "User":
        //            colValue = userToJsonObject(v);
        //            break;
        //        case "UserMulti":
        //            colValue = userMultiToJsonObject(v);
        //            break;
        //        case "Lookup":
        //            colValue = lookupToJsonObject(v);
        //            break;
        //        case "LookupMulti":
        //            colValue = lookupMultiToJsonObject(v);
        //            break;
        //        case "Boolean":
        //            colValue = booleanToJsonObject(v);
        //            break;
        //        case "Integer":
        //            colValue = intToJsonObject(v);
        //            break;
        //        case "Counter":
        //            colValue = intToJsonObject(v);
        //            break;
        //        case "MultiChoice":
        //            colValue = choiceMultiToJsonObject(v);
        //            break;
        //        case "Number":
        //        case "Currency":
        //        case "float": // For calculated columns, stored as float;#value
        //            colValue = floatToJsonObject(v);
        //            break;
        //        case "Calculated":
        //            colValue = calcToJsonObject(v);
        //            break;
        //        case "Attachments":
        //            colValue = lookupToJsonObject(v);
        //            break;
        //        case "JSON":
        //            colValue = jsonToJsonObject(v); // Special case for text JSON stored in text columns
        //            break;
        //        default:
        //            // All other objectTypes will be simple strings
        //            colValue = stringToJsonObject(v);
        //            break;
        //    }
        //    return colValue;
        //}
        //
        //function stringToJsonObject(s) {
        //    return s;
        //}
        //
        //function intToJsonObject(s) {
        //    return parseInt(s, 10);
        //}
        //
        //function floatToJsonObject(s) {
        //    return parseFloat(s);
        //}
        //
        //function booleanToJsonObject(s) {
        //    var out = s === "0" ? false : true;
        //    return out;
        //}
        //
        //function dateToJsonObject(s) {
        //
        //    var dt = s.split("T")[0] !== s ? s.split("T") : s.split(" ");
        //    var d = dt[0].split("-");
        //    var t = dt[1].split(":");
        //    var t3 = t[2].split("Z");
        //    var date = new Date(d[0], (d[1] - 1), d[2], t[0], t[1], t3[0]);
        //    return date;
        //}
        //
        //function userToJsonObject(s) {
        //    if (s.length === 0) {
        //        return null;
        //    } else {
        //        var thisUser = new SplitIndex(s);
        //        var thisUserExpanded = thisUser.value.split(",#");
        //        if (thisUserExpanded.length === 1) {
        //            return {
        //                userId: thisUser.id,
        //                userName: thisUser.value
        //            };
        //        } else {
        //            return {
        //                userId: thisUser.id,
        //                userName: thisUserExpanded[0].replace(/(,,)/g, ","),
        //                loginName: thisUserExpanded[1].replace(/(,,)/g, ","),
        //                email: thisUserExpanded[2].replace(/(,,)/g, ","),
        //                sipAddress: thisUserExpanded[3].replace(/(,,)/g, ","),
        //                title: thisUserExpanded[4].replace(/(,,)/g, ",")
        //            };
        //        }
        //    }
        //}
        //// Get the current context (as much as we can) on startup
        //// See: http://johnliu.net/blog/2012/2/3/sharepoint-javascript-current-page-context-info.html
        //function SPServicesContext() {
        //
        //    // SharePoint 2010 gives us a context variable
        //    if (typeof _spPageContextInfo !== "undefined") {
        //        this.thisSite = _spPageContextInfo.webServerRelativeUrl;
        //        this.thisList = _spPageContextInfo.pageListId;
        //        this.thisUserId = _spPageContextInfo.userId;
        //        // In SharePoint 2007, we know the UserID only
        //    } else {
        //        this.thisSite = (typeof L_Menu_BaseUrl !== "undefined") ? L_Menu_BaseUrl : "";
        //        this.thisList = "";
        //        this.thisUserId = (typeof _spUserId !== "undefined") ? _spUserId : undefined;
        //    }
        //
        //} // End of function SPServicesContext
        //
        //function userMultiToJsonObject(s) {
        //    if (s.length === 0) {
        //        return null;
        //    } else {
        //        var thisUserMultiObject = [];
        //        var thisUserMulti = s.split(";#");
        //        for (i = 0; i < thisUserMulti.length; i = i + 2) {
        //            var thisUser = userToJsonObject(thisUserMulti[i] + ";#" + thisUserMulti[i + 1]);
        //            thisUserMultiObject.push(thisUser);
        //        }
        //        return thisUserMultiObject;
        //    }
        //}
        //
        //function lookupToJsonObject(s) {
        //    if (s.length === 0) {
        //        return null;
        //    } else {
        //        var thisLookup = new SplitIndex(s);
        //        return {
        //            lookupId: thisLookup.id,
        //            lookupValue: thisLookup.value
        //        };
        //    }
        //}
        //
        //function lookupMultiToJsonObject(s) {
        //    if (s.length === 0) {
        //        return null;
        //    } else {
        //        var thisLookupMultiObject = [];
        //        var thisLookupMulti = s.split(";#");
        //        for (i = 0; i < thisLookupMulti.length; i = i + 2) {
        //            var thisLookup = lookupToJsonObject(thisLookupMulti[i] + ";#" + thisLookupMulti[i + 1]);
        //            thisLookupMultiObject.push(thisLookup);
        //        }
        //        return thisLookupMultiObject;
        //    }
        //}
        //
        //function choiceMultiToJsonObject(s) {
        //    if (s.length === 0) {
        //        return null;
        //    } else {
        //        var thisChoiceMultiObject = [];
        //        var thisChoiceMulti = s.split(";#");
        //        for (i = 0; i < thisChoiceMulti.length; i++) {
        //            if (thisChoiceMulti[i].length !== 0) {
        //                thisChoiceMultiObject.push(thisChoiceMulti[i]);
        //            }
        //        }
        //        return thisChoiceMultiObject;
        //    }
        //}
        //
        //function calcToJsonObject(s) {
        //    if (s.length === 0) {
        //        return null;
        //    } else {
        //        var thisCalc = s.split(";#");
        //        // The first value will be the calculated column value type, the second will be the value
        //        return attrToJson(thisCalc[1], thisCalc[0]);
        //    }
        //}
        //
        //function jsonToJsonObject(s) {
        //    if (s.length === 0) {
        //        return null;
        //    } else {
        //        return $.parseJSON(s);
        //    }
        //}
        // Build the URL for the Ajax call based on which operation we're calling
        // If the webURL has been provided, then use it, else use the current site
        //var ajaxURL = generateWebServiceUrl(service, opt.webURL);
        //var ajaxURL = "_vti_bin/" + service + ".asmx";
        //if (opt.webURL) {
        //    ajaxURL = opt.webURL.charAt(opt.webURL.length - 1) === SLASH ?
        //    opt.webURL + ajaxURL : opt.webURL + SLASH + ajaxURL;
        //} else {
        //    var thisSite = SPServices.SPGetCurrentSite();
        //    ajaxURL = thisSite + ((thisSite.charAt(thisSite.length - 1) === SLASH) ? ajaxURL : (SLASH + ajaxURL));
        //}
        // If a string is a URL, format it as a link, else return the string as-is
        //function checkLink(s) {
        //    return ((s.indexOf("http") === 0) || (s.indexOf(SLASH) === 0)) ? "<a href='" + s + "'>" + s + "</a>" : s;
        //}
        //SPServices.generateWebServiceUrl = generateWebServiceUrl;
        // Function to determine the current Web's URL.  We need this for successful Ajax calls.
        // The function is also available as a public function.
        //function SPGetCurrentSite() {
        //
        //    // We've already determined the current site...
        //    if (currentContext.thisSite.length > 0) {
        //        return currentContext.thisSite;
        //    }
        //
        //    // If we still don't know the current site, we call WebUrlFromPageUrlResult.
        //    var msg = SOAPEnvelope.header +
        //        "<WebUrlFromPageUrl xmlns='" + SCHEMASharePoint + "/soap/' ><pageUrl>" +
        //        ((location.href.indexOf("?") > 0) ? location.href.substr(0, location.href.indexOf("?")) : location.href) +
        //        "</pageUrl></WebUrlFromPageUrl>" +
        //        SOAPEnvelope.footer;
        //    $.ajax({
        //        async: false, // Need this to be synchronous so we're assured of a valid value
        //        url: "/_vti_bin/Webs.asmx",
        //        type: "POST",
        //        data: msg,
        //        dataType: "xml",
        //        contentType: "text/xml;charset=\"utf-8\"",
        //        complete: function (xData) {
        //            currentContext.thisSite = $(xData.responseXML).find("WebUrlFromPageUrlResult").text();
        //        }
        //    });
        //
        //    return currentContext.thisSite; // Return the URL
        //
        //} // End SPServices.SPGetCurrentSite
        //function generateWebServiceUrl(service, webURL) {
        //    var ajaxURL = "_vti_bin/" + service + ".asmx";
        //    if (webURL) {
        //        ajaxURL = webURL.charAt(webURL.length - 1) === SLASH ?
        //        webURL + ajaxURL : webURL + SLASH + ajaxURL;
        //    } else {
        //        var thisSite = SPServices.SPGetCurrentSite();
        //        ajaxURL = thisSite + ((thisSite.charAt(thisSite.length - 1) === SLASH) ? ajaxURL : (SLASH + ajaxURL));
        //    }
        //    return ajaxURL;
        //}
        //switch (apWebServiceOperationConstants[opt.operation][0]) {
        //    case "Alerts":
        //        SOAPEnvelope.opheader += "xmlns='" + SCHEMASharePoint + "/soap/2002/1/alerts/' >";
        //        SOAPAction = SCHEMASharePoint + "/soap/2002/1/alerts/";
        //        break;
        //    case "Meetings":
        //        SOAPEnvelope.opheader += "xmlns='" + SCHEMASharePoint + "/soap/meetings/' >";
        //        SOAPAction = SCHEMASharePoint + "/soap/meetings/";
        //        break;
        //    case "Permissions":
        //        SOAPEnvelope.opheader += "xmlns='" + SCHEMASharePoint + "/soap/directory/' >";
        //        SOAPAction = SCHEMASharePoint + "/soap/directory/";
        //        break;
        //    case "PublishedLinksService":
        //        SOAPEnvelope.opheader += "xmlns='http://microsoft.com/webservices/SharePointPortalServer/PublishedLinksService/' >";
        //        SOAPAction = "http://microsoft.com/webservices/SharePointPortalServer/PublishedLinksService/";
        //        break;
        //    case "Search":
        //        SOAPEnvelope.opheader += "xmlns='urn:Microsoft.Search' >";
        //        SOAPAction = "urn:Microsoft.Search/";
        //        break;
        //    case "SharePointDiagnostics":
        //        SOAPEnvelope.opheader += "xmlns='" + SCHEMASharePoint + "/diagnostics/' >";
        //        SOAPAction = "http://schemas.microsoft.com/sharepoint/diagnostics/";
        //        break;
        //    case "SocialDataService":
        //        SOAPEnvelope.opheader += "xmlns='http://microsoft.com/webservices/SharePointPortalServer/SocialDataService' >";
        //        SOAPAction = "http://microsoft.com/webservices/SharePointPortalServer/SocialDataService/";
        //        break;
        //    case "SpellCheck":
        //        SOAPEnvelope.opheader += "xmlns='http://schemas.microsoft.com/sharepoint/publishing/spelling/' >";
        //        SOAPAction = "http://schemas.microsoft.com/sharepoint/publishing/spelling/SpellCheck";
        //        break;
        //    case "TaxonomyClientService":
        //        SOAPEnvelope.opheader += "xmlns='" + SCHEMASharePoint + "/taxonomy/soap/' >";
        //        SOAPAction = SCHEMASharePoint + "/taxonomy/soap/";
        //        break;
        //    case "usergroup":
        //        SOAPEnvelope.opheader += "xmlns='" + SCHEMASharePoint + "/soap/directory/' >";
        //        SOAPAction = SCHEMASharePoint + "/soap/directory/";
        //        break;
        //    case "UserProfileService":
        //        SOAPEnvelope.opheader += "xmlns='http://microsoft.com/webservices/SharePointPortalServer/UserProfileService' >";
        //        SOAPAction = "http://microsoft.com/webservices/SharePointPortalServer/UserProfileService/";
        //        break;
        //    case "WebPartPages":
        //        SOAPEnvelope.opheader += "xmlns='http://microsoft.com/sharepoint/webpartpages' >";
        //        SOAPAction = "http://microsoft.com/sharepoint/webpartpages/";
        //        break;
        //    case "Workflow":
        //        SOAPEnvelope.opheader += "xmlns='" + SCHEMASharePoint + "/soap/workflow/' >";
        //        SOAPAction = SCHEMASharePoint + "/soap/workflow/";
        //        break;
        //    default:
        //        SOAPEnvelope.opheader += "xmlns='" + SCHEMASharePoint + "/soap/'>";
        //        SOAPAction = SCHEMASharePoint + "/soap/";
        //        break;
        //}
        // Utility function to show the results of a Web Service call formatted well in the browser.
        //SPServices.SPDebugXMLHttpResult = function (options) {
        //
        //    var opt = $.extend({}, {
        //        node: null, // An XMLHttpResult object from an ajax call
        //        indent: 0 // Number of indents
        //    }, options);
        //
        //    var i;
        //    var NODE_TEXT = 3;
        //    var NODE_CDATA_SECTION = 4;
        //
        //    var outString = "";
        //    // For each new subnode, begin rendering a new TABLE
        //    outString += "<table class='ms-vb' style='margin-left:" + opt.indent * 3 + "px;' width='100%'>";
        //    // DisplayPatterns are a bit unique, so let's handle them differently
        //    if (opt.node.nodeName === "DisplayPattern") {
        //        outString += "<tr><td width='100px' style='font-weight:bold;'>" + opt.node.nodeName +
        //        "</td><td><textarea readonly='readonly' rows='5' cols='50'>" + opt.node.xml + "</textarea></td></tr>";
        //        // A node which has no children
        //    } else if (!opt.node.hasChildNodes()) {
        //        outString += "<tr><td width='100px' style='font-weight:bold;'>" + opt.node.nodeName +
        //        "</td><td>" + ((opt.node.nodeValue !== null) ? checkLink(opt.node.nodeValue) : "&nbsp;") + "</td></tr>";
        //        if (opt.node.attributes) {
        //            outString += "<tr><td colspan='99'>" + showAttrs(opt.node) + "</td></tr>";
        //        }
        //        // A CDATA_SECTION node
        //    } else if (opt.node.hasChildNodes() && opt.node.firstChild.nodeType === NODE_CDATA_SECTION) {
        //        outString += "<tr><td width='100px' style='font-weight:bold;'>" + opt.node.nodeName +
        //        "</td><td><textarea readonly='readonly' rows='5' cols='50'>" + opt.node.parentNode.text + "</textarea></td></tr>";
        //        // A TEXT node
        //    } else if (opt.node.hasChildNodes() && opt.node.firstChild.nodeType === NODE_TEXT) {
        //        outString += "<tr><td width='100px' style='font-weight:bold;'>" + opt.node.nodeName +
        //        "</td><td>" + checkLink(opt.node.firstChild.nodeValue) + "</td></tr>";
        //        // Handle child nodes
        //    } else {
        //        outString += "<tr><td width='100px' style='font-weight:bold;' colspan='99'>" + opt.node.nodeName + "</td></tr>";
        //        if (opt.node.attributes) {
        //            outString += "<tr><td colspan='99'>" + showAttrs(opt.node) + "</td></tr>";
        //        }
        //        // Since the node has child nodes, recurse
        //        outString += "<tr><td>";
        //        for (i = 0; i < opt.node.childNodes.length; i++) {
        //            outString += SPServices.SPDebugXMLHttpResult({
        //                node: opt.node.childNodes.item(i),
        //                indent: opt.indent + 1
        //            });
        //        }
        //        outString += "</td></tr>";
        //    }
        //    outString += "</table>";
        //    // Return the HTML which we have built up
        //    return outString;
        //}; // End SPServices.SPDebugXMLHttpResult
        // Show a single attribute of a node, enclosed in a table
        //   node               The XML node
        //   opt                The current set of options
        //function showAttrs(node) {
        //    var i;
        //    var out = "<table class='ms-vb' width='100%'>";
        //    for (i = 0; i < node.attributes.length; i++) {
        //        out += "<tr><td width='10px' style='font-weight:bold;'>" + i + "</td><td width='100px'>" +
        //        node.attributes.item(i).nodeName + "</td><td>" + checkLink(node.attributes.item(i).nodeValue) + "</td></tr>";
        //    }
        //    out += "</table>";
        //    return out;
        //} // End of function showAttrs
        // Function which returns the account name for the current user in DOMAIN\username format
        //SPServices.SPGetCurrentUser = function (options) {
        //
        //    var opt = $.extend({}, {
        //        webURL: "", // URL of the target Site Collection.  If not specified, the current Web is used.
        //        fieldName: "Name", // Specifies which field to return from the userdisp.aspx page
        //        fieldNames: {}, // Specifies which fields to return from the userdisp.aspx page - added in v0.7.2 to allow multiple columns
        //        debug: false // If true, show error messages; if false, run silent
        //    }, options);
        //
        //    // The current user's ID is reliably available in an existing JavaScript variable
        //    if (opt.fieldName === "ID" && typeof currentContext.thisUserId !== "undefined") {
        //        return currentContext.thisUserId;
        //    }
        //
        //    var thisField = "";
        //    var theseFields = {};
        //    var fieldCount = opt.fieldNames.length > 0 ? opt.fieldNames.length : 1;
        //    var thisUserDisp;
        //    var thisWeb = opt.webURL.length > 0 ? opt.webURL : SPServices.SPGetCurrentSite();
        //
        //    // Get the UserDisp.aspx page using AJAX
        //    $.ajax({
        //        // Need this to be synchronous so we're assured of a valid value
        //        async: false,
        //        // Force parameter forces redirection to a page that displays the information as stored in the UserInfo table rather than My Site.
        //        // Adding the extra Query String parameter with the current date/time forces the server to view this as a new request.
        //        url: thisWeb + "/_layouts/userdisp.aspx?Force=True&" + new Date().getTime(),
        //        complete: function (xData) {
        //            thisUserDisp = xData;
        //        }
        //    });
        //
        //    for (i = 0; i < fieldCount; i++) {
        //
        //        // The current user's ID is reliably available in an existing JavaScript variable
        //        if (opt.fieldNames[i] === "ID") {
        //            thisField = currentContext.thisUserId;
        //        } else {
        //            var thisTextValue;
        //            if (fieldCount > 1) {
        //                thisTextValue = RegExp("FieldInternalName=\"" + opt.fieldNames[i] + "\"", "gi");
        //            } else {
        //                thisTextValue = RegExp("FieldInternalName=\"" + opt.fieldName + "\"", "gi");
        //            }
        //            $(thisUserDisp.responseText).find("table.ms-formtable td[id^='SPField']").each(function () {
        //                if (thisTextValue.test($(this).html())) {
        //                    // Each fieldtype contains a different data type, as indicated by the id
        //                    switch ($(this).attr("id")) {
        //                        case "SPFieldText":
        //                            thisField = $(this).text();
        //                            break;
        //                        case "SPFieldNote":
        //                            thisField = $(this).find("div").html();
        //                            break;
        //                        case "SPFieldURL":
        //                            thisField = $(this).find("img").attr("src");
        //                            break;
        //                        // Just in case
        //                        default:
        //                            thisField = $(this).text();
        //                            break;
        //                    }
        //                    // Stop looking; we're done
        //                    return false;
        //                }
        //            });
        //        }
        //        if (opt.fieldNames[i] !== "ID") {
        //            thisField = (typeof thisField !== "undefined") ? thisField.replace(/(^[\s\xA0]+|[\s\xA0]+$)/g, '') : null;
        //        }
        //        if (fieldCount > 1) {
        //            theseFields[opt.fieldNames[i]] = thisField;
        //        }
        //    }
        //
        //    return (fieldCount > 1) ? theseFields : thisField;
        //
        //}; // End SPServices.SPGetCurrentUser
        // SPUpdateMultipleListItems allows you to update multiple items in a list based upon some common characteristic or metadata criteria.
        //function SPUpdateMultipleListItems (options) {
        //
        //    var opt = $.extend({}, {
        //        webURL: "", // [Optional] URL of the target Web.  If not specified, the current Web is used.
        //        listName: "", // The list to operate on.
        //        CAMLQuery: "", // A CAML fragment specifying which items in the list will be selected and updated
        //        batchCmd: "Update", // The operation to perform. By default, Update.
        //        valuePairs: [], // valuePairs for the update in the form [[fieldname1, fieldvalue1], [fieldname2, fieldvalue2]...]
        //        completefunc: null, // Function to call on completion of rendering the change.
        //        debug: false // If true, show error messages;if false, run silent
        //    }, options);
        //
        //    var i;
        //    var itemsToUpdate = [];
        //    var documentsToUpdate = [];
        //
        //    // Call GetListItems to find all of the items matching the CAMLQuery
        //    SPServices({
        //        operation: "GetListItems",
        //        async: false,
        //        webURL: opt.webURL,
        //        listName: opt.listName,
        //        CAMLQuery: opt.CAMLQuery,
        //        CAMLQueryOptions: "<QueryOptions><ViewAttributes Scope='Recursive' /></QueryOptions>",
        //        completefunc: function (xData) {
        //            $(xData.responseXML).SPFilterNode("z:row").each(function () {
        //                itemsToUpdate.push($(this).attr("ows_ID"));
        //                var fileRef = $(this).attr("ows_FileRef");
        //                fileRef = "/" + fileRef.substring(fileRef.indexOf(";#") + 2);
        //                documentsToUpdate.push(fileRef);
        //            });
        //        }
        //    });
        //
        //    var fieldNum;
        //    var batch = "<Batch OnError='Continue'>";
        //    for (i = 0; i < itemsToUpdate.length; i++) {
        //        batch += "<Method ID='" + i + "' Cmd='" + opt.batchCmd + "'>";
        //        for (fieldNum = 0; fieldNum < opt.valuePairs.length; fieldNum++) {
        //            batch += "<Field Name='" + opt.valuePairs[fieldNum][0] + "'>" + escapeColumnValue(opt.valuePairs[fieldNum][1]) + "</Field>";
        //        }
        //        batch += "<Field Name='ID'>" + itemsToUpdate[i] + "</Field>";
        //        if (documentsToUpdate[i].length > 0) {
        //            batch += "<Field Name='FileRef'>" + documentsToUpdate[i] + "</Field>";
        //        }
        //        batch += "</Method>";
        //    }
        //    batch += "</Batch>";
        //
        //    // Call UpdateListItems to update all of the items matching the CAMLQuery
        //    SPServices({
        //        operation: "UpdateListItems",
        //        async: false,
        //        webURL: opt.webURL,
        //        listName: opt.listName,
        //        updates: batch,
        //        completefunc: function (xData) {
        //            // If present, call completefunc when all else is done
        //            if (opt.completefunc !== null) {
        //                opt.completefunc(xData);
        //            }
        //        }
        //    });
        //
        //} // End SPServices.SPUpdateMultipleListItems
    }
})(ap || (ap = {}));

/// <reference path="../../typings/ap.d.ts" />
var ap;
(function (ap) {
    'use strict';
    var $q, apConfig, $timeout;
    var UtilityService = (function () {
        function UtilityService($injector) {
            this.batchProcess = batchProcess;
            this.convertEffectivePermMask = convertEffectivePermMask;
            this.dateWithinRange = dateWithinRange;
            this.doubleDigit = doubleDigit;
            this.fromCamelCase = fromCamelCase;
            this.registerChange = registerChange;
            this.resolvePermissions = resolvePermissions;
            this.SplitIndex = SplitIndex;
            this.stringifyXML = stringifyXML;
            this.toCamelCase = toCamelCase;
            this.yyyymmdd = yyyymmdd;
            $q = $injector.get('$q');
            apConfig = $injector.get('apConfig');
            $timeout = $injector.get('$timeout');
        }
        return UtilityService;
    })();
    ap.UtilityService = UtilityService;
    /** Extend underscore with a simple helper function */
    _.mixin({
        isDefined: function (value) {
            return !_.isUndefined(value);
        },
        /** Based on functionality in Breeze.js */
        isGuid: function (value) {
            return (typeof value === "string") && /[a-fA-F\d]{8}-(?:[a-fA-F\d]{4}-){3}[a-fA-F\d]{12}/.test(value);
        }
    });
    /**
     * @ngdoc function
     * @name angularPoint.apUtilityService:doubleDigit
     * @methodOf angularPoint.apUtilityService
     * @description Add a leading zero if a number/string only contains a single character.  So in the case
     * where the number 9 is passed in the string '09' is returned.
     * @param {(number|string)} val A number or string to evaluate.
     * @returns {string} Two digit string.
     */
    function doubleDigit(val) {
        if (typeof val === 'number') {
            return val > 9 ? val.toString() : '0' + val;
        }
        else {
            return doubleDigit(parseInt(val));
        }
    }
    /**
     * @ngdoc function
     * @name angularPoint.apUtilityService:yyyymmdd
     * @methodOf angularPoint.apUtilityService
     * @description
     * Convert date into a int formatted as yyyymmdd
     * We don't need the time portion of comparison so an int makes this easier to evaluate
     */
    function yyyymmdd(date) {
        var yyyy = date.getFullYear();
        var mm = date.getMonth() + 1;
        var dd = date.getDate();
        /** Add leading 0's to month and day if necessary */
        return parseInt(yyyy + doubleDigit(mm) + doubleDigit(dd));
    }
    /**
     * @ngdoc function
     * @name angularPoint.apUtilityService:dateWithinRange
     * @methodOf angularPoint.apUtilityService
     * @description
     * Converts dates into yyyymmdd formatted ints and evaluates to determine if the dateToCheck
     * falls within the date range provided
     * @param {Date} startDate Starting date.
     * @param {Date} endDate Ending date.
     * @param {Date} [dateToCheck=new Date()] Defaults to the current date.
     * @returns {boolean} Does the date fall within the range?
     */
    function dateWithinRange(startDate, endDate, dateToCheck) {
        if (dateToCheck === void 0) { dateToCheck = new Date(); }
        /** Ensure both a start and end date are provided **/
        if (!startDate || !endDate) {
            return false;
        }
        /** Create an int representation of each of the dates */
        var startInt = yyyymmdd(startDate);
        var endInt = yyyymmdd(endDate);
        var dateToCheckInt = yyyymmdd(dateToCheck);
        return startInt <= dateToCheckInt && dateToCheckInt <= endInt;
    }
    /**
     * @ngdoc function
     * @name angularPoint.apUtilityService:batchProcess
     * @methodOf angularPoint.apUtilityService
     * @description
     * We REALLY don't want to lock the user's browser (blocking the UI thread) while iterating over an array of
     * entities and performing some process on them.  This function cuts the process into as many 50ms chunks as are
     * necessary. Based on example found in the following article:
     * [Timed array processing in JavaScript](http://www.nczonline.net/blog/2009/08/11/timed-array-processing-in-javascript/);
     * @param {Object[]} entities The entities that need to be processed.
     * @param {Function} process Reference to the process to be executed for each of the entities.
     * @param {Object} context this
     * @param {Number} [delay=25] Number of milliseconds to delay between batches.
     * @param {Number} [maxItems=entities.length] Maximum number of entities to process before pausing.
     * @returns {Object} Promise
     * @example
     * <pre>
     * function buildProjectSummary = function() {
         *    var deferred = $q.defer();
         *
         *    // Taken from a fictitious projectsModel.js
         *    projectModel.getAllListItems().then(function(entities) {
         *      var summaryObject = {};
         *      var extendProjectSummary = function(project) {
         *          // Do some process intensive stuff here
         *
         *      };
         *
         *      // Now that we have all of our projects we want to iterate
         *      // over each to create our summary object. The problem is
         *      // this could easily cause the page to hang with a sufficient
         *      // number of entities.
         *      apUtilityService.batchProcess(entities, extendProjectSummary, function() {
         *          // Long running process is complete so resolve promise
         *          deferred.resolve(summaryObject);
         *      }, 25, 1000);
         *    };
         *
         *    return deferred.promise;
         * }
     *
     * </pre>
     */
    function batchProcess(entities, process, context, delay, maxItems) {
        var itemCount = entities.length, batchCount = 0, chunkMax = maxItems || itemCount, delay = delay || 25, index = 0, deferred = $q.defer();
        function chunkTimer() {
            batchCount++;
            var start = +new Date(), chunkIndex = index;
            while (index < itemCount && (index - chunkIndex) < chunkMax && (new Date() - start < 100)) {
                process.call(context, entities[index], index, batchCount);
                index += 1;
            }
            if (index < itemCount) {
                $timeout(chunkTimer, delay);
            }
            else {
                deferred.resolve(entities);
            }
        }
        chunkTimer();
        return deferred.promise;
    }
    //function batchProcess(items, process, context, delay, maxItems) {
    //    var n = items.length,
    //        delay = delay || 25,
    //        maxItems = maxItems || n,
    //        i = 0,
    //        deferred = $q.defer();
    //
    //    chunkTimer(i, n, deferred, items, process, context, delay, maxItems);
    //    return deferred.promise;
    //}
    //
    //function chunkTimer(i, n, deferred, items, process, context, delay, maxItems) {
    //    var start = +new Date(),
    //        j = i;
    //
    //    while (i < n && (i - j) < maxItems && (new Date() - start < 100)) {
    //        process.call(context, items[i]);
    //        i += 1;
    //    }
    //
    //    if (i < n) {
    //        setTimeout(function () {
    //            chunkTimer(j, n, deferred, items, process, context, delay, maxItems);
    //        }, delay);
    //    }
    //    else {
    //        deferred.resolve(items);
    //    }
    //}
    /**
     * @ngdoc function
     * @name angularPoint.apUtilityService:resolvePermissions
     * @methodOf angularPoint.apUtilityService
     * @param {string} permissionsMask The WSS Rights Mask is an 8-byte, unsigned integer that specifies
     * the rights that can be assigned to a user or site group. This bit mask can have zero or more flags set.
     * @description
     * Converts permMask into something usable to determine permission level for current user.  Typically used
     * directly from a list item.  See ListItem.resolvePermissions.
     *
     * <h3>Additional Info</h3>
     *
     * -   [PermMask in SharePoint DVWPs](http://sympmarc.com/2009/02/03/permmask-in-sharepoint-dvwps/)
     * -   [$().SPServices.SPLookupAddNew and security trimming](http://spservices.codeplex.com/discussions/208708)
     *
     * @returns {object} Object with properties for each permission level identifying if current user has rights (true || false)
     * @example
     * <pre>
     * var perm = apUtilityService.resolvePermissions('0x0000000000000010');
     * </pre>
     * Example of what the returned object would look like
     * for a site admin.
     * <pre>
     * perm = {
         *    "ViewListItems":true,
         *    "AddListItems":true,
         *    "EditListItems":true,
         *    "DeleteListItems":true,
         *    "ApproveItems":true,
         *    "OpenItems":true,
         *    "ViewVersions":true,
         *    "DeleteVersions":true,
         *    "CancelCheckout":true,
         *    "PersonalViews":true,
         *    "ManageLists":true,
         *    "ViewFormPages":true,
         *    "Open":true,
         *    "ViewPages":true,
         *    "AddAndCustomizePages":true,
         *    "ApplyThemeAndBorder":true,
         *    "ApplyStyleSheets":true,
         *    "ViewUsageData":true,
         *    "CreateSSCSite":true,
         *    "ManageSubwebs":true,
         *    "CreateGroups":true,
         *    "ManagePermissions":true,
         *    "BrowseDirectories":true,
         *    "BrowseUserInfo":true,
         *    "AddDelPrivateWebParts":true,
         *    "UpdatePersonalWebParts":true,
         *    "ManageWeb":true,
         *    "UseRemoteAPIs":true,
         *    "ManageAlerts":true,
         *    "CreateAlerts":true,
         *    "EditMyUserInfo":true,
         *    "EnumeratePermissions":true,
         *    "FullMask":true
         * }
     * </pre>
     */
    function resolvePermissions(permissionsMask) {
        var permissionSet = {
            ViewListItems: (1 & permissionsMask) > 0,
            AddListItems: (2 & permissionsMask) > 0,
            EditListItems: (4 & permissionsMask) > 0,
            DeleteListItems: (8 & permissionsMask) > 0,
            ApproveItems: (16 & permissionsMask) > 0,
            OpenItems: (32 & permissionsMask) > 0,
            ViewVersions: (64 & permissionsMask) > 0,
            DeleteVersions: (128 & permissionsMask) > 0,
            CancelCheckout: (256 & permissionsMask) > 0,
            PersonalViews: (512 & permissionsMask) > 0,
            ManageLists: (2048 & permissionsMask) > 0,
            ViewFormPages: (4096 & permissionsMask) > 0,
            Open: (permissionsMask & 65536) > 0,
            ViewPages: (permissionsMask & 131072) > 0,
            AddAndCustomizePages: (permissionsMask & 262144) > 0,
            ApplyThemeAndBorder: (permissionsMask & 524288) > 0,
            ApplyStyleSheets: (1048576 & permissionsMask) > 0,
            ViewUsageData: (permissionsMask & 2097152) > 0,
            CreateSSCSite: (permissionsMask & 4194314) > 0,
            ManageSubwebs: (permissionsMask & 8388608) > 0,
            CreateGroups: (permissionsMask & 16777216) > 0,
            ManagePermissions: (permissionsMask & 33554432) > 0,
            BrowseDirectories: (permissionsMask & 67108864) > 0,
            BrowseUserInfo: (permissionsMask & 134217728) > 0,
            AddDelPrivateWebParts: (permissionsMask & 268435456) > 0,
            UpdatePersonalWebParts: (permissionsMask & 536870912) > 0,
            ManageWeb: (permissionsMask & 1073741824) > 0,
            UseRemoteAPIs: (permissionsMask & 137438953472) > 0,
            ManageAlerts: (permissionsMask & 274877906944) > 0,
            CreateAlerts: (permissionsMask & 549755813888) > 0,
            EditMyUserInfo: (permissionsMask & 1099511627776) > 0,
            EnumeratePermissions: (permissionsMask & 4611686018427387904) > 0,
            FullMask: (permissionsMask == 9223372036854775807)
        };
        /**
         * Full Mask only resolves correctly for the Full Mask level
         * so in that case, set everything to true
         */
        if (permissionSet.FullMask) {
            _.each(permissionSet, function (perm, key) {
                permissionSet[key] = true;
            });
        }
        return permissionSet;
    }
    /**
     * @ngdoc function
     * @name angularPoint.apUtilityService:convertEffectivePermMask
     * @methodOf angularPoint.apUtilityService
     * @description
     * GetListItemsSinceToken operation returns the list element with an EffectivePermMask attribute which is the
     * name of the PermissionMask.  We then need to convert the name into an actual mask so this function contains
     * the known permission names with their masks.  If a provided mask name is found, the cooresponding mask
     * is returned.  Otherwise returns null.  [MSDN Source](http://msdn.microsoft.com/en-us/library/jj575178(v=office.12).aspx)
     * @param {string} permMaskName Permission mask name.
     * @returns {string|null} Return the mask for the name.
     */
    function convertEffectivePermMask(permMaskName) {
        var permissionMask = null;
        var permissions = {
            //General
            EmptyMask: '0x0000000000000000',
            FullMask: '0x7FFFFFFFFFFFFFFF',
            //List and document permissions
            ViewListItems: '0x0000000000000001',
            AddListItems: '',
            EditListItems: '0x0000000000000004',
            DeleteListItems: '0x0000000000000008',
            ApproveItems: '0x0000000000000010',
            OpenItems: '0x0000000000000020',
            ViewVersions: '0x0000000000000040',
            DeleteVersions: '0x0000000000000080',
            CancelCheckout: '0x0000000000000100',
            ManagePersonalViews: '0x0000000000000200',
            ManageLists: '0x0000000000000800',
            ViewFormPages: '0x0000000000001000',
            //Web level permissions
            Open: '0x0000000000010000',
            ViewPages: '0x0000000000020000',
            AddAndCustomizePages: '0x0000000000040000',
            ApplyThemeAndBorder: '0x0000000000080000',
            ApplyStyleSheets: '0x0000000000100000',
            ViewUsageData: '0x0000000000200000',
            CreateSSCSite: '0x0000000000400000',
            ManageSubwebs: '0x0000000000800000',
            CreateGroups: '0x0000000001000000',
            ManagePermissions: '0x0000000002000000',
            BrowseDirectories: '0x0000000004000000',
            BrowseUserInfo: '0x0000000008000000',
            AddDelPrivateWebParts: '0x0000000010000000',
            UpdatePersonalWebParts: '0x0000000020000000',
            ManageWeb: '0x0000000040000000',
            UseClientIntegration: '0x0000001000000000',
            UseRemoteAPIs: '0x0000002000000000',
            ManageAlerts: '0x0000004000000000',
            CreateAlerts: '0x0000008000000000',
            EditMyUserInfo: '0x0000010000000000',
            //Special Permissions
            EnumeratePermissions: '0x4000000000000000'
        };
        if (permissions[permMaskName]) {
            permissionMask = permissions[permMaskName];
        }
        return permissionMask;
    }
    function toCamelCase(str) {
        return str.replace(/(?:^\w|[A-Z]|\b\w)/g, function (letter, index) {
            return index == 0 ? letter.toLowerCase() : letter.toUpperCase();
        }).replace(/\s+/g, '');
    }
    /**
     * @ngdoc function
     * @name angularPoint.apUtilityService:fromCamelCase
     * @methodOf angularPoint.apUtilityService
     * @param {string} str String to convert.
     * @description
     * Converts a camel case string into a space delimited string with each word having a capitalized first letter.
     * @returns {string} Humanized string.
     */
    function fromCamelCase(str) {
        // insert a space before all caps
        return str.replace(/([A-Z])/g, ' $1').replace(/^./, function (str) {
            return str.toUpperCase();
        });
    }
    // Split values like 1;#value into id and value
    var SplitIndex = (function () {
        function SplitIndex(str) {
            var spl = str.split(';#');
            this.id = parseInt(spl[0], 10);
            this.value = spl[1];
        }
        return SplitIndex;
    })();
    /**
     * @ngdoc function
     * @name angularPoint.apUtilityService:stringifyXML
     * @methodOf angularPoint.apUtilityService
     * @description Simple utility to convert an XML object into a string and remove unnecessary whitespace.
     * @param {object} xml XML object.
     * @returns {string} Stringified version of the XML object.
     */
    function stringifyXML(xml) {
        var str;
        if (_.isObject(xml)) {
            str = xmlToString(xml).replace(/\s+/g, ' ');
        }
        else if (_.isString(xml)) {
            str = xml;
        }
        return str;
    }
    function xmlToString(xmlData) {
        var xmlString;
        if (typeof XMLSerializer !== 'undefined') {
            /** Modern Browsers */
            xmlString = (new XMLSerializer()).serializeToString(xmlData);
        }
        else {
            /** Old versions of IE */
            xmlString = xmlData.xml;
        }
        return xmlString;
    }
    /**
     * @ngdoc function
     * @name angularPoint.apUtilityService:registerChange
     * @methodOf angularPoint.apUtilityService
     * @description
     * If online and sync is being used, notify all online users that a change has been made.
     * //Todo Break this functionality into FireBase module that can be used if desired.
     * @param {object} model event
     */
    function registerChange(model, changeType, listItemId) {
        /** Disabled this functionality until I can spend the necessary time to test */
        if (model.sync && _.isFunction(model.sync.registerChange)) {
            /** Register change after successful update */
            model.sync.registerChange(changeType, listItemId);
        }
    }
    /**
     * @ngdoc service
     * @name angularPoint.apUtilityService
     * @description
     * Provides shared utility functionality across the application.
     *
     * @requires angularPoint.apConfig
     */
    angular.module('angularPoint').service('apUtilityService', UtilityService);
})(ap || (ap = {}));

/// <reference path="../../typings/ap.d.ts" />
var ap;
(function (ap) {
    'use strict';
    var SCHEMASharePoint = "http://schemas.microsoft.com/sharepoint";
    var serviceDefinitions = {
        Alerts: {
            action: SCHEMASharePoint + '/soap/2002/1/alerts/',
            xmlns: SCHEMASharePoint + '/soap/2002/1/alerts/'
        },
        Meetings: {
            action: SCHEMASharePoint + '/soap/meetings/',
            xmlns: SCHEMASharePoint + '/soap/meetings/'
        },
        Permissions: {
            action: SCHEMASharePoint + '/soap/directory/',
            xmlns: SCHEMASharePoint + '/soap/directory/'
        },
        PublishedLinksService: {
            action: 'http://microsoft.com/webservices/SharePointPortalServer/PublishedLinksService/',
            xmlns: 'http://microsoft.com/webservices/SharePointPortalServer/PublishedLinksService/'
        },
        Search: {
            action: 'urn:Microsoft.Search/',
            xmlns: 'urn:Microsoft.Search'
        },
        SharePointDiagnostics: {
            action: 'http://schemas.microsoft.com/sharepoint/diagnostics/',
            xmlns: SCHEMASharePoint + '/diagnostics/'
        },
        SocialDataService: {
            action: 'http://microsoft.com/webservices/SharePointPortalServer/SocialDataService/',
            xmlns: 'http://microsoft.com/webservices/SharePointPortalServer/SocialDataService'
        },
        SpellCheck: {
            action: 'http://schemas.microsoft.com/sharepoint/publishing/spelling/SpellCheck',
            xmlns: 'http://schemas.microsoft.com/sharepoint/publishing/spelling/'
        },
        TaxonomyClientService: {
            action: SCHEMASharePoint + '/taxonomy/soap/',
            xmlns: SCHEMASharePoint + '/taxonomy/soap/'
        },
        usergroup: {
            action: SCHEMASharePoint + '/soap/directory/',
            xmlns: SCHEMASharePoint + '/soap/directory/'
        },
        UserProfileService: {
            action: 'http://microsoft.com/webservices/SharePointPortalServer/UserProfileService/',
            xmlns: 'http://microsoft.com/webservices/SharePointPortalServer/UserProfileService'
        },
        WebPartPages: {
            action: 'http://microsoft.com/sharepoint/webpartpages/',
            xmlns: 'http://microsoft.com/sharepoint/webpartpages'
        },
        Workflow: {
            action: SCHEMASharePoint + '/soap/workflow/',
            xmlns: SCHEMASharePoint + '/soap/workflow/'
        }
    };
    var WebServiceService = (function () {
        function WebServiceService() {
            this.webServices = [
                'Alerts',
                'Authentication',
                'Copy',
                'Forms',
                'Lists',
                'Meetings',
                'People',
                'Permissions',
                'PublishedLinksService',
                'Search',
                'SharePointDiagnostics',
                'SiteData',
                'Sites',
                'SocialDataService',
                'SpellCheck',
                'TaxonomyClientService',
                'usergroup',
                'UserProfileService',
                'Versions',
                'Views',
                'WebPartPages',
                'Webs',
                'Workflow'
            ];
        }
        WebServiceService.prototype.action = function (service) {
            return serviceDefinitions[service] ? serviceDefinitions[service].action : SCHEMASharePoint + '/soap/';
        };
        WebServiceService.prototype.xmlns = function (service) {
            return serviceDefinitions[service] ? serviceDefinitions[service].xmlns : SCHEMASharePoint + '/soap/';
        };
        return WebServiceService;
    })();
    ap.WebServiceService = WebServiceService;
    //  apWebServiceOperationConstants.OpName = [WebService, needs_SOAPAction];
    //      OpName              The name of the Web Service operation -> These names are unique
    //      WebService          The name of the WebService this operation belongs to
    //      needs_SOAPAction    Boolean indicating whether the operation needs to have the SOAPAction passed in the
    // setRequestHeaderfunction. true if the operation does a write, else false
    angular.module('angularPoint').service('apWebServiceService', WebServiceService);
})(ap || (ap = {}));

/// <reference path="../../typings/ap.d.ts" />
var ap;
(function (ap) {
    'use strict';
    var XMLToJSONService = (function () {
        function XMLToJSONService(apDecodeService) {
            this.apDecodeService = apDecodeService;
        }
        XMLToJSONService.prototype.parse = function (xmlNodeSet, options) {
            var _this = this;
            var defaults = {
                includeAllAttrs: false,
                mapping: {},
                removeOws: true,
                sparse: false // If true, empty ("") values will not be returned
            };
            var opts = _.extend({}, defaults, options);
            var jsonObjectArray = [];
            _.each(xmlNodeSet, function (node) {
                var row = {};
                var rowAttrs = node.attributes;
                if (!opts.sparse) {
                    // Bring back all mapped columns, even those with no value
                    _.each(opts.mapping, function (column) { return row[column.mappedName] = ''; });
                }
                _.each(rowAttrs, function (rowAttribute) {
                    var attributeName = rowAttribute.name;
                    var columnMapping = opts.mapping[attributeName];
                    var objectName = typeof columnMapping !== "undefined" ? columnMapping.mappedName : opts.removeOws ? attributeName.split("ows_")[1] : attributeName;
                    var objectType = typeof columnMapping !== "undefined" ? columnMapping.objectType : undefined;
                    if (opts.includeAllAttrs || columnMapping !== undefined) {
                        row[objectName] = _this.apDecodeService.parseStringValue(rowAttribute.value, objectType);
                    }
                });
                // Push this item into the JSON Object
                jsonObjectArray.push(row);
            });
            // Return the JSON object
            return jsonObjectArray;
        };
        return XMLToJSONService;
    })();
    ap.XMLToJSONService = XMLToJSONService;
    /**
     * @ngdoc service
     * @name angularPoint.apXMLToJSONService
     * @description
     * This function converts an XML node set into an array of JS objects.
     * This is essentially Marc Anderson's [SPServices](http://spservices.codeplex.com/) SPXmlTOJson function wrapped in
     * an Angular service to make it more modular and allow for testing.
     *
     */
    angular.module('angularPoint').service('apXMLToJSONService', XMLToJSONService);
})(ap || (ap = {}));

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9zY290dGhhdGNoZXIvZGV2L2FuZ3VsYXItcG9pbnQvYXBwLm1vZHVsZS50cyIsIi9Vc2Vycy9zY290dGhhdGNoZXIvZGV2L2FuZ3VsYXItcG9pbnQvY29uZmlnLnRzIiwiL1VzZXJzL3Njb3R0aGF0Y2hlci9kZXYvYW5ndWxhci1wb2ludC9jb25zdGFudHMvYXBDb25maWcudHMiLCIvVXNlcnMvc2NvdHRoYXRjaGVyL2Rldi9hbmd1bGFyLXBvaW50L2NvbnN0YW50cy9hcERlZmF1bHRGaWVsZHMudHMiLCIvVXNlcnMvc2NvdHRoYXRjaGVyL2Rldi9hbmd1bGFyLXBvaW50L2NvbnN0YW50cy9hcERlZmF1bHRMaXN0SXRlbVF1ZXJ5T3B0aW9ucy50cyIsIi9Vc2Vycy9zY290dGhhdGNoZXIvZGV2L2FuZ3VsYXItcG9pbnQvY29uc3RhbnRzL2FwVGhpcmRQYXJ0eUNvbnN0YW50cy50cyIsIi9Vc2Vycy9zY290dGhhdGNoZXIvZGV2L2FuZ3VsYXItcG9pbnQvY29uc3RhbnRzL2FwV2ViU2VydmljZU9wZXJhdGlvbkNvbnN0YW50cy50cyIsIi9Vc2Vycy9zY290dGhhdGNoZXIvZGV2L2FuZ3VsYXItcG9pbnQvY29uc3RhbnRzL2FwWE1MRmllbGRBdHRyaWJ1dGVUeXBlcy50cyIsIi9Vc2Vycy9zY290dGhhdGNoZXIvZGV2L2FuZ3VsYXItcG9pbnQvY29uc3RhbnRzL2FwWE1MTGlzdEF0dHJpYnV0ZVR5cGVzLnRzIiwiL1VzZXJzL3Njb3R0aGF0Y2hlci9kZXYvYW5ndWxhci1wb2ludC9mYWN0b3JpZXMvYXBDYW1sRmFjdG9yeS50cyIsIi9Vc2Vycy9zY290dGhhdGNoZXIvZGV2L2FuZ3VsYXItcG9pbnQvZmFjdG9yaWVzL2FwRmllbGRGYWN0b3J5LnRzIiwiL1VzZXJzL3Njb3R0aGF0Y2hlci9kZXYvYW5ndWxhci1wb2ludC9mYWN0b3JpZXMvYXBJbmRleGVkQ2FjaGVGYWN0b3J5LnRzIiwiL1VzZXJzL3Njb3R0aGF0Y2hlci9kZXYvYW5ndWxhci1wb2ludC9mYWN0b3JpZXMvYXBMaXN0RmFjdG9yeS50cyIsIi9Vc2Vycy9zY290dGhhdGNoZXIvZGV2L2FuZ3VsYXItcG9pbnQvZmFjdG9yaWVzL2FwTGlzdEl0ZW1GYWN0b3J5LnRzIiwiL1VzZXJzL3Njb3R0aGF0Y2hlci9kZXYvYW5ndWxhci1wb2ludC9mYWN0b3JpZXMvYXBMb29rdXBGYWN0b3J5LnRzIiwiL1VzZXJzL3Njb3R0aGF0Y2hlci9kZXYvYW5ndWxhci1wb2ludC9mYWN0b3JpZXMvYXBNb2RlbEZhY3RvcnkudHMiLCIvVXNlcnMvc2NvdHRoYXRjaGVyL2Rldi9hbmd1bGFyLXBvaW50L2ZhY3Rvcmllcy9hcFF1ZXJ5RmFjdG9yeS50cyIsIi9Vc2Vycy9zY290dGhhdGNoZXIvZGV2L2FuZ3VsYXItcG9pbnQvZmFjdG9yaWVzL2FwVXNlckZhY3RvcnkudHMiLCIvVXNlcnMvc2NvdHRoYXRjaGVyL2Rldi9hbmd1bGFyLXBvaW50L2ludGVyZmFjZXMvbWFpbi50cyIsIi9Vc2Vycy9zY290dGhhdGNoZXIvZGV2L2FuZ3VsYXItcG9pbnQvbW9kZWxzL2FwVXNlck1vZGVsLnRzIiwiL1VzZXJzL3Njb3R0aGF0Y2hlci9kZXYvYW5ndWxhci1wb2ludC9zZXJ2aWNlcy9hcENhY2hlU2VydmljZS50cyIsIi9Vc2Vycy9zY290dGhhdGNoZXIvZGV2L2FuZ3VsYXItcG9pbnQvc2VydmljZXMvYXBDaGFuZ2VTZXJ2aWNlLnRzIiwiL1VzZXJzL3Njb3R0aGF0Y2hlci9kZXYvYW5ndWxhci1wb2ludC9zZXJ2aWNlcy9hcERhdGFTZXJ2aWNlLnRzIiwiL1VzZXJzL3Njb3R0aGF0Y2hlci9kZXYvYW5ndWxhci1wb2ludC9zZXJ2aWNlcy9hcERlY29kZVNlcnZpY2UudHMiLCIvVXNlcnMvc2NvdHRoYXRjaGVyL2Rldi9hbmd1bGFyLXBvaW50L3NlcnZpY2VzL2FwRW5jb2RlU2VydmljZS50cyIsIi9Vc2Vycy9zY290dGhhdGNoZXIvZGV2L2FuZ3VsYXItcG9pbnQvc2VydmljZXMvYXBFeHBvcnRTZXJ2aWNlLnRzIiwiL1VzZXJzL3Njb3R0aGF0Y2hlci9kZXYvYW5ndWxhci1wb2ludC9zZXJ2aWNlcy9hcEZpZWxkU2VydmljZS50cyIsIi9Vc2Vycy9zY290dGhhdGNoZXIvZGV2L2FuZ3VsYXItcG9pbnQvc2VydmljZXMvYXBGb3JtYXR0ZWRGaWVsZFZhbHVlU2VydmljZS50cyIsIi9Vc2Vycy9zY290dGhhdGNoZXIvZGV2L2FuZ3VsYXItcG9pbnQvc2VydmljZXMvYXBTUFNlcnZpY2VzLnRzIiwiL1VzZXJzL3Njb3R0aGF0Y2hlci9kZXYvYW5ndWxhci1wb2ludC9zZXJ2aWNlcy9hcFV0aWxpdHlTZXJ2aWNlLnRzIiwiL1VzZXJzL3Njb3R0aGF0Y2hlci9kZXYvYW5ndWxhci1wb2ludC9zZXJ2aWNlcy9hcFdlYlNlcnZpY2VTZXJ2aWNlLnRzIiwiL1VzZXJzL3Njb3R0aGF0Y2hlci9kZXYvYW5ndWxhci1wb2ludC9zZXJ2aWNlcy9hcFhNTFRvSlNPTlNlcnZpY2UudHMiXSwibmFtZXMiOlsiYXAiLCJhcC5Db25maWciLCJhcC5DYW1sRmFjdG9yeSIsImFwLkNhbWxGYWN0b3J5LmNvbnN0cnVjdG9yIiwiYXAuQ2FtbEZhY3RvcnkuY2FtbENvbnRhaW5zUXVlcnkiLCJhcC5DYW1sRmFjdG9yeS5jaGFpbkNhbWxTZWxlY3RzIiwiYXAuQ2FtbEZhY3RvcnkuY3JlYXRlQ2FtbENvbnRhaW5zU2VsZWN0b3IiLCJhcC5GaWVsZCIsImFwLkZpZWxkLmNvbnN0cnVjdG9yIiwiYXAuRmllbGQuZ2V0RGVmaW5pdGlvbiIsImFwLkZpZWxkLmdldERlZmF1bHRWYWx1ZUZvclR5cGUiLCJhcC5GaWVsZC5nZXRNb2NrRGF0YSIsImFwLkZpZWxkRmFjdG9yeSIsImFwLkZpZWxkRmFjdG9yeS5jb25zdHJ1Y3RvciIsImFwLkluZGV4ZWRDYWNoZSIsImFwLkluZGV4ZWRDYWNoZS5jb25zdHJ1Y3RvciIsImFwLkluZGV4ZWRDYWNoZS5hZGRFbnRpdHkiLCJhcC5JbmRleGVkQ2FjaGUuY2xlYXIiLCJhcC5JbmRleGVkQ2FjaGUuY291bnQiLCJhcC5JbmRleGVkQ2FjaGUuZmlyc3QiLCJhcC5JbmRleGVkQ2FjaGUua2V5cyIsImFwLkluZGV4ZWRDYWNoZS5sYXN0IiwiYXAuSW5kZXhlZENhY2hlLm50aEVudGl0eSIsImFwLkluZGV4ZWRDYWNoZS5yZW1vdmVFbnRpdHkiLCJhcC5JbmRleGVkQ2FjaGUudG9BcnJheSIsImFwLkluZGV4ZWRDYWNoZUZhY3RvcnkiLCJhcC5JbmRleGVkQ2FjaGVGYWN0b3J5LmNvbnN0cnVjdG9yIiwiYXAuSW5kZXhlZENhY2hlRmFjdG9yeS5jcmVhdGUiLCJhcC5MaXN0IiwiYXAuTGlzdC5jb25zdHJ1Y3RvciIsImFwLkxpc3QuZXh0ZW5kRmllbGREZWZpbml0aW9ucyIsImFwLkxpc3QuZ2V0TGlzdElkIiwiYXAuTGlzdC5pZGVudGlmeVdlYlVSTCIsImFwLkxpc3RGYWN0b3J5IiwiYXAuTGlzdEZhY3RvcnkuY29uc3RydWN0b3IiLCJhcC5MaXN0RmFjdG9yeS5jcmVhdGUiLCJhcC5MaXN0SXRlbSIsImFwLkxpc3RJdGVtLmNvbnN0cnVjdG9yIiwiYXAuTGlzdEl0ZW0uc2F2ZUNoYW5nZXMiLCJhcC5MaXN0SXRlbS5zYXZlRmllbGRzIiwiYXAuTGlzdEl0ZW0uZGVsZXRlSXRlbSIsImFwLkxpc3RJdGVtLmdldExvb2t1cFJlZmVyZW5jZSIsImFwLkxpc3RJdGVtLmdldEZvcm1hdHRlZFZhbHVlIiwiYXAuTGlzdEl0ZW0udmFsaWRhdGVFbnRpdHkiLCJhcC5MaXN0SXRlbS5nZXRGaWVsZERlZmluaXRpb24iLCJhcC5MaXN0SXRlbS5nZXRGaWVsZExhYmVsIiwiYXAuTGlzdEl0ZW0uZ2V0RmllbGREZXNjcmlwdGlvbiIsImFwLkxpc3RJdGVtLmdldEZpZWxkQ2hvaWNlcyIsImFwLkxpc3RJdGVtLmdldEF2YWlsYWJsZVdvcmtmbG93cyIsImFwLkxpc3RJdGVtLmdldExpc3RJZCIsImFwLkxpc3RJdGVtLmdldExpc3QiLCJhcC5MaXN0SXRlbS5zdGFydFdvcmtmbG93IiwiYXAuTGlzdEl0ZW0uc3RhcnRXb3JrZmxvdy5pbml0aWF0ZVJlcXVlc3QiLCJhcC5MaXN0SXRlbS5nZXRBdHRhY2htZW50Q29sbGVjdGlvbiIsImFwLkxpc3RJdGVtLmRlbGV0ZUF0dGFjaG1lbnQiLCJhcC5MaXN0SXRlbS5yZXNvbHZlUGVybWlzc2lvbnMiLCJhcC5MaXN0SXRlbS5nZXRGaWVsZFZlcnNpb25IaXN0b3J5IiwiYXAuU3RhbmRhcmRMaXN0SXRlbSIsImFwLlN0YW5kYXJkTGlzdEl0ZW0uY29uc3RydWN0b3IiLCJhcC5MaXN0SXRlbUZhY3RvcnkiLCJhcC5MaXN0SXRlbUZhY3RvcnkuY29uc3RydWN0b3IiLCJhcC5MaXN0SXRlbUZhY3RvcnkuY3JlYXRlIiwiYXAuTGlzdEl0ZW1GYWN0b3J5LmNyZWF0ZUdlbmVyaWNGYWN0b3J5IiwiYXAuTG9va3VwIiwiYXAuTG9va3VwLmNvbnN0cnVjdG9yIiwiYXAuTG9va3VwRmFjdG9yeSIsImFwLkxvb2t1cEZhY3RvcnkuY29uc3RydWN0b3IiLCJhcC5Mb29rdXBGYWN0b3J5LmNyZWF0ZSIsImFwLk1vZGVsIiwiYXAuTW9kZWwuY29uc3RydWN0b3IiLCJhcC5Nb2RlbC5nZXRNb2RlbCIsImFwLk1vZGVsLmdldExpc3RJZCIsImFwLk1vZGVsLmdldExpc3QiLCJhcC5Nb2RlbC5hZGROZXdJdGVtIiwiYXAuTW9kZWwuY3JlYXRlRW1wdHlJdGVtIiwiYXAuTW9kZWwuZXhlY3V0ZVF1ZXJ5IiwiYXAuTW9kZWwuZXh0ZW5kTGlzdE1ldGFkYXRhIiwiYXAuTW9kZWwuZ2VuZXJhdGVNb2NrRGF0YSIsImFwLk1vZGVsLmdldEFsbExpc3RJdGVtcyIsImFwLk1vZGVsLmdldENhY2hlIiwiYXAuTW9kZWwuZ2V0Q2FjaGVkRW50aXR5IiwiYXAuTW9kZWwuZ2V0Q2FjaGVkRW50aXRpZXMiLCJhcC5Nb2RlbC5nZXRGaWVsZERlZmluaXRpb24iLCJhcC5Nb2RlbC5nZXRMaXN0SXRlbUJ5SWQiLCJhcC5Nb2RlbC5nZXRRdWVyeSIsImFwLk1vZGVsLnJlc29sdmVQZXJtaXNzaW9ucyIsImFwLk1vZGVsLmlzSW5pdGlhbGlzZWQiLCJhcC5Nb2RlbC5yZWdpc3RlclF1ZXJ5IiwiYXAuTW9kZWwudmFsaWRhdGVFbnRpdHkiLCJhcC5Nb2RlbEZhY3RvcnkiLCJhcC5Nb2RlbEZhY3RvcnkuY29uc3RydWN0b3IiLCJhcC5Nb2RlbEZhY3RvcnkuY3JlYXRlIiwiYXAuUXVlcnkiLCJhcC5RdWVyeS5jb25zdHJ1Y3RvciIsImFwLlF1ZXJ5LmV4ZWN1dGUiLCJhcC5RdWVyeS5nZXRDYWNoZSIsImFwLlF1ZXJ5RmFjdG9yeSIsImFwLlF1ZXJ5RmFjdG9yeS5jb25zdHJ1Y3RvciIsImFwLlF1ZXJ5RmFjdG9yeS5jcmVhdGUiLCJhcC5Vc2VyIiwiYXAuVXNlci5jb25zdHJ1Y3RvciIsImFwLlVzZXJGYWN0b3J5IiwiYXAuVXNlckZhY3RvcnkuY29uc3RydWN0b3IiLCJhcC5Vc2VyRmFjdG9yeS5jcmVhdGUiLCJhcC5Vc2VyTW9kZWwiLCJhcC5Vc2VyTW9kZWwuY29uc3RydWN0b3IiLCJhcC5Vc2VyTW9kZWwuY2hlY2tJZk1lbWJlciIsImFwLlVzZXJNb2RlbC5nZXRHcm91cENvbGxlY3Rpb24iLCJhcC5Vc2VyTW9kZWwuZ2V0VXNlclByb2ZpbGUiLCJhcC5FbnRpdHlDb250YWluZXIiLCJhcC5FbnRpdHlDb250YWluZXIuY29uc3RydWN0b3IiLCJhcC5FbnRpdHlDb250YWluZXIuZ2V0RW50aXR5IiwiYXAuRW50aXR5Q29udGFpbmVyLnJlbW92ZUVudGl0eSIsImFwLk1vZGVsQ2FjaGUiLCJhcC5Nb2RlbENhY2hlLmNvbnN0cnVjdG9yIiwiYXAuQ2FjaGVTZXJ2aWNlIiwiYXAuQ2FjaGVTZXJ2aWNlLmNvbnN0cnVjdG9yIiwiYXAuQ2FjaGVTZXJ2aWNlLmRlbGV0ZUVudGl0eSIsImFwLkNhY2hlU2VydmljZS5nZXRDYWNoZWRFbnRpdGllcyIsImFwLkNhY2hlU2VydmljZS5nZXRDYWNoZWRFbnRpdHkiLCJhcC5DYWNoZVNlcnZpY2UuZ2V0RW50aXR5IiwiYXAuQ2FjaGVTZXJ2aWNlLmdldEVudGl0eUNvbnRhaW5lciIsImFwLkNhY2hlU2VydmljZS5nZXRMaXN0SWQiLCJhcC5DYWNoZVNlcnZpY2UuZ2V0TGlzdElkRnJvbUxpc3ROYW1lIiwiYXAuQ2FjaGVTZXJ2aWNlLmdldE1vZGVsIiwiYXAuQ2FjaGVTZXJ2aWNlLmdldE1vZGVsQ2FjaGUiLCJhcC5DYWNoZVNlcnZpY2UucmVnaXN0ZXJFbnRpdHkiLCJhcC5DYWNoZVNlcnZpY2UucmVnaXN0ZXJNb2RlbCIsImFwLkNhY2hlU2VydmljZS5yZW1vdmVFbnRpdHkiLCJhcC5DaGFuZ2VTZXJ2aWNlIiwiYXAuQ2hhbmdlU2VydmljZS5jb25zdHJ1Y3RvciIsImFwLkNoYW5nZVNlcnZpY2UucmVnaXN0ZXJMaXN0SXRlbVVwZGF0ZSIsImFwLkNoYW5nZVNlcnZpY2Uuc3Vic2NyaWJlVG9VcGRhdGVzIiwiYXAuRGF0YVNlcnZpY2UiLCJhcC5EYXRhU2VydmljZS5jb25zdHJ1Y3RvciIsImFwLkRhdGFTZXJ2aWNlLmNyZWF0ZUxpc3RJdGVtIiwiYXAuRGF0YVNlcnZpY2UuY3JlYXRlSXRlbVVybEZyb21GaWxlUmVmIiwiYXAuRGF0YVNlcnZpY2UuZGVsZXRlQXR0YWNobWVudCIsImFwLkRhdGFTZXJ2aWNlLmRlbGV0ZUxpc3RJdGVtIiwiYXAuRGF0YVNlcnZpY2UuZXhlY3V0ZVF1ZXJ5IiwiYXAuRGF0YVNlcnZpY2UuZ2VuZXJhdGVXZWJTZXJ2aWNlVXJsIiwiYXAuRGF0YVNlcnZpY2UuZ2V0QXZhaWxhYmxlV29ya2Zsb3dzIiwiYXAuRGF0YVNlcnZpY2UuZ2V0Q29sbGVjdGlvbiIsImFwLkRhdGFTZXJ2aWNlLmdldENvbGxlY3Rpb24ucHJvY2Vzc1hNTCIsImFwLkRhdGFTZXJ2aWNlLmdldEN1cnJlbnRTaXRlIiwiYXAuRGF0YVNlcnZpY2UuZ2V0RmllbGRWZXJzaW9uSGlzdG9yeSIsImFwLkRhdGFTZXJ2aWNlLmdldEdyb3VwQ29sbGVjdGlvbkZyb21Vc2VyIiwiYXAuRGF0YVNlcnZpY2UuZ2V0TGlzdCIsImFwLkRhdGFTZXJ2aWNlLmdldExpc3RGaWVsZHMiLCJhcC5EYXRhU2VydmljZS5nZXRVc2VyUHJvZmlsZUJ5TmFtZSIsImFwLkRhdGFTZXJ2aWNlLnByb2Nlc3NDaGFuZ2VUb2tlblhNTCIsImFwLkRhdGFTZXJ2aWNlLnByb2Nlc3NEZWxldGlvbnNTaW5jZVRva2VuIiwiYXAuRGF0YVNlcnZpY2UucmVxdWVzdERhdGEiLCJhcC5EYXRhU2VydmljZS5yZXRyaWV2ZUNoYW5nZVRva2VuIiwiYXAuRGF0YVNlcnZpY2UucmV0cmlldmVQZXJtTWFzayIsImFwLkRhdGFTZXJ2aWNlLnNlcnZpY2VXcmFwcGVyIiwiYXAuRGF0YVNlcnZpY2Uuc2VydmljZVdyYXBwZXIucHJvY2Vzc1hNTCIsImFwLkRhdGFTZXJ2aWNlLnN0YXJ0V29ya2Zsb3ciLCJhcC5EYXRhU2VydmljZS51cGRhdGVMaXN0SXRlbSIsImFwLkRhdGFTZXJ2aWNlLnZhbGlkYXRlQ29sbGVjdGlvblBheWxvYWQiLCJhcC5EZWNvZGVTZXJ2aWNlIiwiYXAuRGVjb2RlU2VydmljZS5jb25zdHJ1Y3RvciIsImFwLkRlY29kZVNlcnZpY2UuY2hlY2tSZXNwb25zZUZvckVycm9ycyIsImFwLkRlY29kZVNlcnZpY2UuY29udmVydFVUQ0RhdGVUb0xvY2FsRGF0ZSIsImFwLkRlY29kZVNlcnZpY2UuY3JlYXRlTGlzdEl0ZW1Qcm92aWRlciIsImFwLkRlY29kZVNlcnZpY2UuZXh0ZW5kRmllbGREZWZpbml0aW9uc0Zyb21YTUwiLCJhcC5EZWNvZGVTZXJ2aWNlLmV4dGVuZExpc3REZWZpbml0aW9uRnJvbVhNTCIsImFwLkRlY29kZVNlcnZpY2UuZXh0ZW5kTGlzdE1ldGFkYXRhIiwiYXAuRGVjb2RlU2VydmljZS5leHRlbmRPYmplY3RXaXRoWE1MQXR0cmlidXRlcyIsImFwLkRlY29kZVNlcnZpY2UuanNBdHRhY2htZW50cyIsImFwLkRlY29kZVNlcnZpY2UuanNCb29sZWFuIiwiYXAuRGVjb2RlU2VydmljZS5qc0NhbGMiLCJhcC5EZWNvZGVTZXJ2aWNlLmpzQ2hvaWNlTXVsdGkiLCJhcC5EZWNvZGVTZXJ2aWNlLmpzRGF0ZSIsImFwLkRlY29kZVNlcnZpY2UuanNGbG9hdCIsImFwLkRlY29kZVNlcnZpY2UuanNJbnQiLCJhcC5EZWNvZGVTZXJ2aWNlLmpzTG9va3VwIiwiYXAuRGVjb2RlU2VydmljZS5qc0xvb2t1cE11bHRpIiwiYXAuRGVjb2RlU2VydmljZS5qc09iamVjdCIsImFwLkRlY29kZVNlcnZpY2UuanNTdHJpbmciLCJhcC5EZWNvZGVTZXJ2aWNlLmpzVXNlciIsImFwLkRlY29kZVNlcnZpY2UuanNVc2VyTXVsdGkiLCJhcC5EZWNvZGVTZXJ2aWNlLnBhcnNlRmllbGRWZXJzaW9ucyIsImFwLkRlY29kZVNlcnZpY2UucGFyc2VTdHJpbmdWYWx1ZSIsImFwLkRlY29kZVNlcnZpY2UucGFyc2VYTUxFbnRpdHkiLCJhcC5EZWNvZGVTZXJ2aWNlLnByb2Nlc3NMaXN0SXRlbXMiLCJhcC5EZWNvZGVTZXJ2aWNlLnhtbFRvSnNvbiIsImFwLkVuY29kZVNlcnZpY2UiLCJhcC5FbmNvZGVTZXJ2aWNlLmNvbnN0cnVjdG9yIiwiYXAuRW5jb2RlU2VydmljZS5jaG9pY2VNdWx0aVRvU3RyaW5nIiwiYXAuRW5jb2RlU2VydmljZS5jcmVhdGVWYWx1ZVBhaXIiLCJhcC5FbmNvZGVTZXJ2aWNlLmVuY29kZVZhbHVlIiwiYXAuRW5jb2RlU2VydmljZS5nZW5lcmF0ZVZhbHVlUGFpcnMiLCJhcC5FbmNvZGVTZXJ2aWNlLnN0cmluZ2lmeVNoYXJlUG9pbnREYXRlIiwiYXAuRW5jb2RlU2VydmljZS5zdHJpbmdpZnlTaGFyZVBvaW50TXVsdGlTZWxlY3QiLCJhcC5FeHBvcnRTZXJ2aWNlIiwiYXAuRXhwb3J0U2VydmljZS5jb25zdHJ1Y3RvciIsImFwLkV4cG9ydFNlcnZpY2UuZ2VuZXJhdGVDU1YiLCJhcC5FeHBvcnRTZXJ2aWNlLnJlcGxhY2VXb3JkQ2hhcnMiLCJhcC5FeHBvcnRTZXJ2aWNlLnNhdmVDU1YiLCJhcC5FeHBvcnRTZXJ2aWNlLnNhdmVGaWxlIiwiYXAuRXhwb3J0U2VydmljZS5zYXZlSlNPTiIsImFwLkV4cG9ydFNlcnZpY2Uuc2F2ZVhNTCIsImFwLkZpZWxkU2VydmljZSIsImFwLkZpZWxkU2VydmljZS5jb25zdHJ1Y3RvciIsImFwLmdldEZpZWxkVHlwZXMiLCJhcC5nZXRVbmlxdWVDb3VudGVyIiwiYXAucmFuZG9tQm9vbGVhbiIsImFwLnJhbmRvbUNhbGMiLCJhcC5yYW5kb21TdHJpbmciLCJhcC5yYW5kb21TdHJpbmdBcnJheSIsImFwLnJhbmRvbVBhcmFncmFwaCIsImFwLnJhbmRvbUN1cnJlbmN5IiwiYXAucmFuZG9tRGF0ZSIsImFwLnJhbmRvbUludGVnZXIiLCJhcC5yZXNvbHZlVmFsdWVGb3JFZmZlY3RpdmVQZXJtTWFzayIsImFwLm1vY2tQZXJtTWFzayIsImFwLnJhbmRvbUxvb2t1cCIsImFwLnJhbmRvbVVzZXIiLCJhcC5yYW5kb21Mb29rdXBNdWx0aSIsImFwLnJhbmRvbVVzZXJNdWx0aSIsImFwLmdldERlZmluaXRpb24iLCJhcC5nZXREZWZhdWx0VmFsdWVGb3JUeXBlIiwiYXAuZ2V0TW9ja0RhdGEiLCJhcC5Gb3JtYXR0ZWRGaWVsZFZhbHVlU2VydmljZSIsImFwLkZvcm1hdHRlZEZpZWxkVmFsdWVTZXJ2aWNlLmNvbnN0cnVjdG9yIiwiYXAuZ2V0Rm9ybWF0dGVkRmllbGRWYWx1ZSIsImFwLnN0cmluZ2lmeUNhbGMiLCJhcC5zdHJpbmdpZnlOdW1iZXIiLCJhcC5zdHJpbmdpZnlDdXJyZW5jeSIsImFwLnN0cmluZ2lmeUxvb2t1cCIsImFwLnN0cmluZ2lmeUJvb2xlYW4iLCJhcC5zdHJpbmdpZnlEYXRlIiwiYXAuc3RyaW5naWZ5TXVsdGlDaG9pY2UiLCJhcC5zdHJpbmdpZnlNdWx0aUxvb2t1cCIsImFwLlNlcnZpY2UiLCJhcC5TZXJ2aWNlLlNPQVBFbnZlbG9wZSIsImFwLlNlcnZpY2UuZ2VuZXJhdGVYTUxDb21wb25lbnRzIiwiYXAuU2VydmljZS5nZW5lcmF0ZVhNTENvbXBvbmVudHMuYWRkVG9QYXlsb2FkIiwiYXAuU2VydmljZS5nZW5lcmF0ZVhNTENvbXBvbmVudHMuc2l0ZURhdGFGaXhTT0FQRW52ZWxvcGUiLCJhcC5TZXJ2aWNlLndyYXBOb2RlIiwiYXAuU2VydmljZS5maWxlTmFtZSIsImFwLlNlcnZpY2UuZW5jb2RlWG1sIiwiYXAuU2VydmljZS5lc2NhcGVDb2x1bW5WYWx1ZSIsImFwLlNlcnZpY2UuZXJyQm94IiwiYXAuVXRpbGl0eVNlcnZpY2UiLCJhcC5VdGlsaXR5U2VydmljZS5jb25zdHJ1Y3RvciIsImFwLmRvdWJsZURpZ2l0IiwiYXAueXl5eW1tZGQiLCJhcC5kYXRlV2l0aGluUmFuZ2UiLCJhcC5iYXRjaFByb2Nlc3MiLCJhcC5iYXRjaFByb2Nlc3MuY2h1bmtUaW1lciIsImFwLnJlc29sdmVQZXJtaXNzaW9ucyIsImFwLmNvbnZlcnRFZmZlY3RpdmVQZXJtTWFzayIsImFwLnRvQ2FtZWxDYXNlIiwiYXAuZnJvbUNhbWVsQ2FzZSIsImFwLlNwbGl0SW5kZXgiLCJhcC5TcGxpdEluZGV4LmNvbnN0cnVjdG9yIiwiYXAuc3RyaW5naWZ5WE1MIiwiYXAueG1sVG9TdHJpbmciLCJhcC5yZWdpc3RlckNoYW5nZSIsImFwLldlYlNlcnZpY2VTZXJ2aWNlIiwiYXAuV2ViU2VydmljZVNlcnZpY2UuY29uc3RydWN0b3IiLCJhcC5XZWJTZXJ2aWNlU2VydmljZS5hY3Rpb24iLCJhcC5XZWJTZXJ2aWNlU2VydmljZS54bWxucyIsImFwLlhNTFRvSlNPTlNlcnZpY2UiLCJhcC5YTUxUb0pTT05TZXJ2aWNlLmNvbnN0cnVjdG9yIiwiYXAuWE1MVG9KU09OU2VydmljZS5wYXJzZSJdLCJtYXBwaW5ncyI6IkFBQUEsMkNBQTJDO0FBRTNDLElBQU8sRUFBRSxDQWlDUjtBQWpDRCxXQUFPLEVBQUUsRUFBQyxDQUFDO0lBQ1BBLFlBQVlBLENBQUNBO0lBSWJBLElBQUFBLENBQUNBO1FBQ0dBLE9BQU9BLENBQUNBLE1BQU1BLENBQUNBLFFBQVFBLENBQUNBLENBQUNBO0lBQzdCQSxDQUNBQTtJQUFBQSxLQUFLQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUNQQSxBQUNBQSxr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QUFVQSxFQUFFQSxTQUFTQSxFQUFFQSxVQUFVQSxFQUFFQSxJQUFJQSxFQUFFQSxRQUFRQSxFQUFFQSxJQUFJQSxFQUFDQTtRQUMzRUEsRUFBQ0EsVUFBVUEsRUFBRUEsVUFBVUEsRUFBRUEsVUFBVUEsRUFBRUEsVUFBVUEsRUFBRUEsVUFBVUEsRUFBRUEsVUFBVUEsRUFBRUEsUUFBUUEsRUFBRUEsSUFBSUEsRUFBQ0E7UUFDeEZBLEVBQUNBLFVBQVVBLEVBQUVBLFNBQVNBLEVBQUVBLFVBQVVBLEVBQUVBLFVBQVVBLEVBQUVBLFVBQVVBLEVBQUVBLFNBQVNBLEVBQUVBLFFBQVFBLEVBQUVBLElBQUlBLEVBQUNBO1FBQ3RGQSxFQUFDQSxVQUFVQSxFQUFFQSxRQUFRQSxFQUFFQSxVQUFVQSxFQUFFQSxNQUFNQSxFQUFFQSxVQUFVQSxFQUFFQSxRQUFRQSxFQUFFQSxRQUFRQSxFQUFFQSxJQUFJQSxFQUFDQTtRQUNoRkEsRUFBQ0EsVUFBVUEsRUFBRUEsUUFBUUEsRUFBRUEsVUFBVUEsRUFBRUEsTUFBTUEsRUFBRUEsVUFBVUEsRUFBRUEsUUFBUUEsRUFBRUEsUUFBUUEsRUFBRUEsSUFBSUEsRUFBQ0E7UUFDaEZBLEVBQUNBLFVBQVVBLEVBQUVBLFVBQVVBLEVBQUVBLFVBQVVBLEVBQUVBLE1BQU1BLEVBQUVBLFVBQVVBLEVBQUVBLFVBQVVBLEVBQUVBLFFBQVFBLEVBQUVBLElBQUlBLEVBQUNBO1FBQ3BGQSxFQUFDQSxVQUFVQSxFQUFFQSxVQUFVQSxFQUFFQSxVQUFVQSxFQUFFQSxRQUFRQSxFQUFFQSxVQUFVQSxFQUFFQSxVQUFVQSxFQUFFQSxRQUFRQSxFQUFFQSxJQUFJQSxFQUFDQTtRQUN0RkEsRUFBQ0EsVUFBVUEsRUFBRUEsU0FBU0EsRUFBRUEsVUFBVUEsRUFBRUEsUUFBUUEsRUFBRUEsVUFBVUEsRUFBRUEsU0FBU0EsRUFBRUEsUUFBUUEsRUFBRUEsSUFBSUEsRUFBQ0E7S0FDdkZBLENBQUNBO0lBRUZBLEFBTUFBOzs7OztPQURHQTtJQUNIQSxPQUFPQSxDQUNGQSxNQUFNQSxDQUFDQSxjQUFjQSxDQUFDQSxDQUN0QkEsUUFBUUEsQ0FBQ0EsaUJBQWlCQSxFQUFFQSxnQkFBYUEsQ0FBQ0EsQ0FBQ0E7QUFFcERBLENBQUNBLEVBekJNLEVBQUUsS0FBRixFQUFFLFFBeUJSOztBQzNCRCw4Q0FBOEM7QUFFOUMsSUFBTyxFQUFFLENBZVI7QUFmRCxXQUFPLEVBQUUsRUFBQyxDQUFDO0lBQ1BBLFlBQVlBLENBQUNBO0lBRUZBLDhCQUEyQkEsR0FBVUEsRUFBRUEsR0FDOUNBLGdCQUFnQkEsR0FDaEJBLDZEQUE2REEsR0FDN0RBLHdEQUF3REEsR0FDeERBLCtEQUErREEsR0FDL0RBLDZDQUE2Q0EsR0FDN0NBLGlCQUFpQkEsQ0FBQ0E7SUFFdEJBLE9BQU9BLENBQ0ZBLE1BQU1BLENBQUNBLGNBQWNBLENBQUNBLENBQ3RCQSxRQUFRQSxDQUFDQSwrQkFBK0JBLEVBQUVBLDhCQUEyQkEsQ0FBQ0EsQ0FBQ0E7QUFFaEZBLENBQUNBLEVBZk0sRUFBRSxLQUFGLEVBQUUsUUFlUjs7QUNqQkQsOENBQThDO0FBRTlDLElBQU8sRUFBRSxDQU1SO0FBTkQsV0FBTyxFQUFFLEVBQUMsQ0FBQztJQUNQQSxZQUFZQSxDQUFDQTtJQUViQSxPQUFPQSxDQUFDQSxNQUFNQSxDQUFDQSxjQUFjQSxDQUFDQSxDQUV6QkEsUUFBUUEsQ0FBQ0EsR0FBR0EsRUFBRUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7QUFDMUJBLENBQUNBLEVBTk0sRUFBRSxLQUFGLEVBQUUsUUFNUjs7QUNSRCwyRUFBMkU7QUFDM0UsMkZBQTJGO0FBQzNGLGdGQUFnRjtBQUNoRix5SUFBeUk7QUFDekksMEVBQTBFO0FBRTFFLEFBQ0EsOENBRDhDO0FBQzlDLElBQU8sRUFBRSxDQXlPUjtBQXpPRCxXQUFPLEVBQUUsRUFBQyxDQUFDO0lBQ1BBLFlBQVlBLENBQUNBO0lBQ0ZBLCtCQUE0QkEsR0FBb0NBO1FBQ3ZFQSxTQUFTQSxFQUFFQSxDQUFDQSxRQUFRQSxFQUFFQSxLQUFLQSxDQUFDQTtRQUM1QkEsWUFBWUEsRUFBRUEsQ0FBQ0EsUUFBUUEsRUFBRUEsSUFBSUEsQ0FBQ0E7UUFDOUJBLElBQUlBLEVBQUVBLENBQUNBLGdCQUFnQkEsRUFBRUEsS0FBS0EsQ0FBQ0E7UUFDL0JBLEtBQUtBLEVBQUVBLENBQUNBLGdCQUFnQkEsRUFBRUEsS0FBS0EsQ0FBQ0E7UUFDaENBLGFBQWFBLEVBQUVBLENBQUNBLE1BQU1BLEVBQUVBLElBQUlBLENBQUNBO1FBQzdCQSxrQkFBa0JBLEVBQUVBLENBQUNBLE1BQU1BLEVBQUVBLElBQUlBLENBQUNBO1FBQ2xDQSxPQUFPQSxFQUFFQSxDQUFDQSxNQUFNQSxFQUFFQSxLQUFLQSxDQUFDQTtRQUN4QkEsT0FBT0EsRUFBRUEsQ0FBQ0EsT0FBT0EsRUFBRUEsS0FBS0EsQ0FBQ0E7UUFDekJBLGlCQUFpQkEsRUFBRUEsQ0FBQ0EsT0FBT0EsRUFBRUEsS0FBS0EsQ0FBQ0E7UUFDbkNBLGFBQWFBLEVBQUVBLENBQUNBLE9BQU9BLEVBQUVBLElBQUlBLENBQUNBO1FBQzlCQSxzQkFBc0JBLEVBQUVBLENBQUNBLE9BQU9BLEVBQUVBLElBQUlBLENBQUNBO1FBQ3ZDQSxPQUFPQSxFQUFFQSxDQUFDQSxPQUFPQSxFQUFFQSxJQUFJQSxDQUFDQTtRQUN4QkEsa0JBQWtCQSxFQUFFQSxDQUFDQSxPQUFPQSxFQUFFQSxJQUFJQSxDQUFDQTtRQUNuQ0Esc0JBQXNCQSxFQUFFQSxDQUFDQSxPQUFPQSxFQUFFQSxJQUFJQSxDQUFDQTtRQUN2Q0EsV0FBV0EsRUFBRUEsQ0FBQ0EsT0FBT0EsRUFBRUEsSUFBSUEsQ0FBQ0E7UUFDNUJBLFlBQVlBLEVBQUVBLENBQUNBLE9BQU9BLEVBQUVBLElBQUlBLENBQUNBO1FBQzdCQSxpQkFBaUJBLEVBQUVBLENBQUNBLE1BQU1BLEVBQUVBLElBQUlBLENBQUNBO1FBQ2pDQSxnQkFBZ0JBLEVBQUVBLENBQUNBLE9BQU9BLEVBQUVBLElBQUlBLENBQUNBO1FBQ2pDQSxpQkFBaUJBLEVBQUVBLENBQUNBLE9BQU9BLEVBQUVBLElBQUlBLENBQUNBO1FBQ2xDQSw0QkFBNEJBLEVBQUVBLENBQUNBLE9BQU9BLEVBQUVBLElBQUlBLENBQUNBO1FBQzdDQSxVQUFVQSxFQUFFQSxDQUFDQSxPQUFPQSxFQUFFQSxJQUFJQSxDQUFDQTtRQUMzQkEsdUJBQXVCQSxFQUFFQSxDQUFDQSxPQUFPQSxFQUFFQSxLQUFLQSxDQUFDQTtRQUN6Q0EsT0FBT0EsRUFBRUEsQ0FBQ0EsT0FBT0EsRUFBRUEsS0FBS0EsQ0FBQ0E7UUFDekJBLGNBQWNBLEVBQUVBLENBQUNBLE9BQU9BLEVBQUVBLEtBQUtBLENBQUNBO1FBQ2hDQSxpQkFBaUJBLEVBQUVBLENBQUNBLE9BQU9BLEVBQUVBLEtBQUtBLENBQUNBO1FBQ25DQSxrQkFBa0JBLEVBQUVBLENBQUNBLE9BQU9BLEVBQUVBLEtBQUtBLENBQUNBO1FBQ3BDQSxtQkFBbUJBLEVBQUVBLENBQUNBLE9BQU9BLEVBQUVBLEtBQUtBLENBQUNBO1FBQ3JDQSxrQkFBa0JBLEVBQUVBLENBQUNBLE9BQU9BLEVBQUVBLEtBQUtBLENBQUNBO1FBQ3BDQSw0QkFBNEJBLEVBQUVBLENBQUNBLE9BQU9BLEVBQUVBLEtBQUtBLENBQUNBO1FBQzlDQSxZQUFZQSxFQUFFQSxDQUFDQSxPQUFPQSxFQUFFQSxLQUFLQSxDQUFDQTtRQUM5QkEsb0JBQW9CQSxFQUFFQSxDQUFDQSxPQUFPQSxFQUFFQSxLQUFLQSxDQUFDQTtRQUN0Q0EsWUFBWUEsRUFBRUEsQ0FBQ0EsT0FBT0EsRUFBRUEsSUFBSUEsQ0FBQ0E7UUFDN0JBLGlCQUFpQkEsRUFBRUEsQ0FBQ0EsTUFBTUEsRUFBRUEsSUFBSUEsQ0FBQ0E7UUFDakNBLDZCQUE2QkEsRUFBRUEsQ0FBQ0EsT0FBT0EsRUFBRUEsSUFBSUEsQ0FBQ0E7UUFDOUNBLDRCQUE0QkEsRUFBRUEsQ0FBQ0EsT0FBT0EsRUFBRUEsSUFBSUEsQ0FBQ0E7UUFDN0NBLFVBQVVBLEVBQUVBLENBQUNBLE9BQU9BLEVBQUVBLElBQUlBLENBQUNBO1FBQzNCQSxlQUFlQSxFQUFFQSxDQUFDQSxPQUFPQSxFQUFFQSxJQUFJQSxDQUFDQTtRQUNoQ0EsVUFBVUEsRUFBRUEsQ0FBQ0EsVUFBVUEsRUFBRUEsSUFBSUEsQ0FBQ0E7UUFDOUJBLGVBQWVBLEVBQUVBLENBQUNBLFVBQVVBLEVBQUVBLElBQUlBLENBQUNBO1FBQ25DQSxhQUFhQSxFQUFFQSxDQUFDQSxVQUFVQSxFQUFFQSxJQUFJQSxDQUFDQTtRQUNqQ0EsaUJBQWlCQSxFQUFFQSxDQUFDQSxVQUFVQSxFQUFFQSxJQUFJQSxDQUFDQTtRQUNyQ0EsaUJBQWlCQSxFQUFFQSxDQUFDQSxRQUFRQSxFQUFFQSxLQUFLQSxDQUFDQTtRQUNwQ0EsZ0JBQWdCQSxFQUFFQSxDQUFDQSxRQUFRQSxFQUFFQSxLQUFLQSxDQUFDQTtRQUNuQ0EsYUFBYUEsRUFBRUEsQ0FBQ0EsYUFBYUEsRUFBRUEsSUFBSUEsQ0FBQ0E7UUFDcENBLHVCQUF1QkEsRUFBRUEsQ0FBQ0EsYUFBYUEsRUFBRUEsSUFBSUEsQ0FBQ0E7UUFDOUNBLHVCQUF1QkEsRUFBRUEsQ0FBQ0EsYUFBYUEsRUFBRUEsSUFBSUEsQ0FBQ0E7UUFDOUNBLGdCQUFnQkEsRUFBRUEsQ0FBQ0EsYUFBYUEsRUFBRUEsSUFBSUEsQ0FBQ0E7UUFDdkNBLDBCQUEwQkEsRUFBRUEsQ0FBQ0EsYUFBYUEsRUFBRUEsSUFBSUEsQ0FBQ0E7UUFDakRBLGdCQUFnQkEsRUFBRUEsQ0FBQ0EsYUFBYUEsRUFBRUEsSUFBSUEsQ0FBQ0E7UUFDdkNBLFFBQVFBLEVBQUVBLENBQUNBLHVCQUF1QkEsRUFBRUEsSUFBSUEsQ0FBQ0E7UUFDekNBLG1CQUFtQkEsRUFBRUEsQ0FBQ0EsUUFBUUEsRUFBRUEsS0FBS0EsQ0FBQ0E7UUFDdENBLG1CQUFtQkEsRUFBRUEsQ0FBQ0EsUUFBUUEsRUFBRUEsS0FBS0EsQ0FBQ0E7UUFDdENBLGlCQUFpQkEsRUFBRUEsQ0FBQ0EsUUFBUUEsRUFBRUEsS0FBS0EsQ0FBQ0E7UUFDcENBLEtBQUtBLEVBQUVBLENBQUNBLFFBQVFBLEVBQUVBLEtBQUtBLENBQUNBO1FBQ3hCQSxPQUFPQSxFQUFFQSxDQUFDQSxRQUFRQSxFQUFFQSxLQUFLQSxDQUFDQTtRQUMxQkEsWUFBWUEsRUFBRUEsQ0FBQ0EsUUFBUUEsRUFBRUEsS0FBS0EsQ0FBQ0E7UUFDL0JBLE1BQU1BLEVBQUVBLENBQUNBLFFBQVFBLEVBQUVBLEtBQUtBLENBQUNBO1FBQ3pCQSwyQkFBMkJBLEVBQUVBLENBQUNBLHVCQUF1QkEsRUFBRUEsSUFBSUEsQ0FBQ0E7UUFDNURBLGNBQWNBLEVBQUVBLENBQUNBLFVBQVVBLEVBQUVBLEtBQUtBLENBQUNBO1FBQ25DQSxlQUFlQSxFQUFFQSxDQUFDQSxVQUFVQSxFQUFFQSxLQUFLQSxDQUFDQTtRQUNwQ0EsZUFBZUEsRUFBRUEsQ0FBQ0EsVUFBVUEsRUFBRUEsS0FBS0EsQ0FBQ0E7UUFDcENBLHlCQUF5QkEsRUFBRUEsQ0FBQ0EsVUFBVUEsRUFBRUEsS0FBS0EsQ0FBQ0E7UUFDOUNBLGVBQWVBLEVBQUVBLENBQUNBLFVBQVVBLEVBQUVBLEtBQUtBLENBQUNBO1FBQ3BDQSxrQkFBa0JBLEVBQUVBLENBQUNBLFVBQVVBLEVBQUVBLEtBQUtBLENBQUNBO1FBQ3ZDQSxjQUFjQSxFQUFFQSxDQUFDQSxVQUFVQSxFQUFFQSxLQUFLQSxDQUFDQTtRQUNuQ0EsU0FBU0EsRUFBRUEsQ0FBQ0EsT0FBT0EsRUFBRUEsSUFBSUEsQ0FBQ0E7UUFDMUJBLFNBQVNBLEVBQUVBLENBQUNBLE9BQU9BLEVBQUVBLElBQUlBLENBQUNBO1FBQzFCQSxPQUFPQSxFQUFFQSxDQUFDQSxPQUFPQSxFQUFFQSxLQUFLQSxDQUFDQTtRQUN6QkEsZ0JBQWdCQSxFQUFFQSxDQUFDQSxPQUFPQSxFQUFFQSxLQUFLQSxDQUFDQTtRQUNsQ0EsVUFBVUEsRUFBRUEsQ0FBQ0EsbUJBQW1CQSxFQUFFQSxJQUFJQSxDQUFDQTtRQUN2Q0EsTUFBTUEsRUFBRUEsQ0FBQ0EsbUJBQW1CQSxFQUFFQSxJQUFJQSxDQUFDQTtRQUNuQ0EsZUFBZUEsRUFBRUEsQ0FBQ0EsbUJBQW1CQSxFQUFFQSxJQUFJQSxDQUFDQTtRQUM1Q0EsbUJBQW1CQSxFQUFFQSxDQUFDQSxtQkFBbUJBLEVBQUVBLEtBQUtBLENBQUNBO1FBQ2pEQSx3QkFBd0JBLEVBQUVBLENBQUNBLG1CQUFtQkEsRUFBRUEsS0FBS0EsQ0FBQ0E7UUFDdERBLGtCQUFrQkEsRUFBRUEsQ0FBQ0EsbUJBQW1CQSxFQUFFQSxLQUFLQSxDQUFDQTtRQUNoREEsaUJBQWlCQSxFQUFFQSxDQUFDQSxtQkFBbUJBLEVBQUVBLEtBQUtBLENBQUNBO1FBQy9DQSxlQUFlQSxFQUFFQSxDQUFDQSxtQkFBbUJBLEVBQUVBLEtBQUtBLENBQUNBO1FBQzdDQSxhQUFhQSxFQUFFQSxDQUFDQSxtQkFBbUJBLEVBQUVBLElBQUlBLENBQUNBO1FBQzFDQSxZQUFZQSxFQUFFQSxDQUFDQSxtQkFBbUJBLEVBQUVBLElBQUlBLENBQUNBO1FBQ3pDQSxTQUFTQSxFQUFFQSxDQUFDQSxtQkFBbUJBLEVBQUVBLElBQUlBLENBQUNBO1FBQ3RDQSxrQkFBa0JBLEVBQUVBLENBQUNBLG1CQUFtQkEsRUFBRUEsSUFBSUEsQ0FBQ0E7UUFDL0NBLFVBQVVBLEVBQUVBLENBQUNBLG1CQUFtQkEsRUFBRUEsSUFBSUEsQ0FBQ0E7UUFDdkNBLGNBQWNBLEVBQUVBLENBQUNBLG1CQUFtQkEsRUFBRUEsS0FBS0EsQ0FBQ0E7UUFDNUNBLDBCQUEwQkEsRUFBRUEsQ0FBQ0EsbUJBQW1CQSxFQUFFQSxLQUFLQSxDQUFDQTtRQUN4REEsYUFBYUEsRUFBRUEsQ0FBQ0EsbUJBQW1CQSxFQUFFQSxLQUFLQSxDQUFDQTtRQUMzQ0Esc0JBQXNCQSxFQUFFQSxDQUFDQSxtQkFBbUJBLEVBQUVBLEtBQUtBLENBQUNBO1FBQ3BEQSxpQkFBaUJBLEVBQUVBLENBQUNBLG1CQUFtQkEsRUFBRUEsS0FBS0EsQ0FBQ0E7UUFDL0NBLHNCQUFzQkEsRUFBRUEsQ0FBQ0EsbUJBQW1CQSxFQUFFQSxLQUFLQSxDQUFDQTtRQUNwREEsZ0JBQWdCQSxFQUFFQSxDQUFDQSxtQkFBbUJBLEVBQUVBLEtBQUtBLENBQUNBO1FBQzlDQSxxQkFBcUJBLEVBQUVBLENBQUNBLG1CQUFtQkEsRUFBRUEsS0FBS0EsQ0FBQ0E7UUFDbkRBLG9CQUFvQkEsRUFBRUEsQ0FBQ0EsbUJBQW1CQSxFQUFFQSxLQUFLQSxDQUFDQTtRQUNsREEsY0FBY0EsRUFBRUEsQ0FBQ0EsbUJBQW1CQSxFQUFFQSxLQUFLQSxDQUFDQTtRQUM1Q0EsZ0JBQWdCQSxFQUFFQSxDQUFDQSxtQkFBbUJBLEVBQUVBLEtBQUtBLENBQUNBO1FBQzlDQSxlQUFlQSxFQUFFQSxDQUFDQSxtQkFBbUJBLEVBQUVBLEtBQUtBLENBQUNBO1FBQzdDQSwrQkFBK0JBLEVBQUVBLENBQUNBLG1CQUFtQkEsRUFBRUEsS0FBS0EsQ0FBQ0E7UUFDN0RBLE9BQU9BLEVBQUVBLENBQUNBLG1CQUFtQkEsRUFBRUEsSUFBSUEsQ0FBQ0E7UUFDcENBLGFBQWFBLEVBQUVBLENBQUNBLG1CQUFtQkEsRUFBRUEsSUFBSUEsQ0FBQ0E7UUFDMUNBLFdBQVdBLEVBQUVBLENBQUNBLG1CQUFtQkEsRUFBRUEsSUFBSUEsQ0FBQ0E7UUFDeENBLGlCQUFpQkEsRUFBRUEsQ0FBQ0EsbUJBQW1CQSxFQUFFQSxJQUFJQSxDQUFDQTtRQUM5Q0EsZ0JBQWdCQSxFQUFFQSxDQUFDQSxtQkFBbUJBLEVBQUVBLElBQUlBLENBQUNBO1FBQzdDQSxnQkFBZ0JBLEVBQUVBLENBQUNBLG1CQUFtQkEsRUFBRUEsSUFBSUEsQ0FBQ0E7UUFDN0NBLHlCQUF5QkEsRUFBRUEsQ0FBQ0EsbUJBQW1CQSxFQUFFQSxJQUFJQSxDQUFDQTtRQUN0REEsVUFBVUEsRUFBRUEsQ0FBQ0EsbUJBQW1CQSxFQUFFQSxJQUFJQSxDQUFDQTtRQUN2Q0EsbUJBQW1CQSxFQUFFQSxDQUFDQSxtQkFBbUJBLEVBQUVBLElBQUlBLENBQUNBO1FBQ2hEQSxTQUFTQSxFQUFFQSxDQUFDQSxtQkFBbUJBLEVBQUVBLElBQUlBLENBQUNBO1FBQ3RDQSxhQUFhQSxFQUFFQSxDQUFDQSxtQkFBbUJBLEVBQUVBLElBQUlBLENBQUNBO1FBQzFDQSxVQUFVQSxFQUFFQSxDQUFDQSxZQUFZQSxFQUFFQSxLQUFLQSxDQUFDQTtRQUNqQ0EsUUFBUUEsRUFBRUEsQ0FBQ0EsdUJBQXVCQSxFQUFFQSxJQUFJQSxDQUFDQTtRQUN6Q0EsbUJBQW1CQSxFQUFFQSxDQUFDQSx1QkFBdUJBLEVBQUVBLEtBQUtBLENBQUNBO1FBQ3JEQSxzQkFBc0JBLEVBQUVBLENBQUNBLHVCQUF1QkEsRUFBRUEsS0FBS0EsQ0FBQ0E7UUFDeERBLHNCQUFzQkEsRUFBRUEsQ0FBQ0EsdUJBQXVCQSxFQUFFQSxLQUFLQSxDQUFDQTtRQUN4REEsZUFBZUEsRUFBRUEsQ0FBQ0EsdUJBQXVCQSxFQUFFQSxLQUFLQSxDQUFDQTtRQUNqREEsV0FBV0EsRUFBRUEsQ0FBQ0EsdUJBQXVCQSxFQUFFQSxLQUFLQSxDQUFDQTtRQUM3Q0EsUUFBUUEsRUFBRUEsQ0FBQ0EsV0FBV0EsRUFBRUEsSUFBSUEsQ0FBQ0E7UUFDN0JBLGNBQWNBLEVBQUVBLENBQUNBLFdBQVdBLEVBQUVBLElBQUlBLENBQUNBO1FBQ25DQSxPQUFPQSxFQUFFQSxDQUFDQSxXQUFXQSxFQUFFQSxJQUFJQSxDQUFDQTtRQUM1QkEsVUFBVUEsRUFBRUEsQ0FBQ0EsV0FBV0EsRUFBRUEsSUFBSUEsQ0FBQ0E7UUFDL0JBLHdCQUF3QkEsRUFBRUEsQ0FBQ0EsV0FBV0EsRUFBRUEsSUFBSUEsQ0FBQ0E7UUFDN0NBLHVCQUF1QkEsRUFBRUEsQ0FBQ0EsV0FBV0EsRUFBRUEsSUFBSUEsQ0FBQ0E7UUFDNUNBLGNBQWNBLEVBQUVBLENBQUNBLFdBQVdBLEVBQUVBLElBQUlBLENBQUNBO1FBQ25DQSxhQUFhQSxFQUFFQSxDQUFDQSxXQUFXQSxFQUFFQSxJQUFJQSxDQUFDQTtRQUNsQ0EsMkJBQTJCQSxFQUFFQSxDQUFDQSxXQUFXQSxFQUFFQSxLQUFLQSxDQUFDQTtRQUNqREEsa0JBQWtCQSxFQUFFQSxDQUFDQSxXQUFXQSxFQUFFQSxLQUFLQSxDQUFDQTtRQUN4Q0EsMEJBQTBCQSxFQUFFQSxDQUFDQSxXQUFXQSxFQUFFQSxLQUFLQSxDQUFDQTtRQUNoREEsMEJBQTBCQSxFQUFFQSxDQUFDQSxXQUFXQSxFQUFFQSxLQUFLQSxDQUFDQTtRQUNoREEsMEJBQTBCQSxFQUFFQSxDQUFDQSxXQUFXQSxFQUFFQSxLQUFLQSxDQUFDQTtRQUNoREEseUJBQXlCQSxFQUFFQSxDQUFDQSxXQUFXQSxFQUFFQSxLQUFLQSxDQUFDQTtRQUMvQ0EsWUFBWUEsRUFBRUEsQ0FBQ0EsV0FBV0EsRUFBRUEsS0FBS0EsQ0FBQ0E7UUFDbENBLGlCQUFpQkEsRUFBRUEsQ0FBQ0EsV0FBV0EsRUFBRUEsS0FBS0EsQ0FBQ0E7UUFDdkNBLDBCQUEwQkEsRUFBRUEsQ0FBQ0EsV0FBV0EsRUFBRUEsS0FBS0EsQ0FBQ0E7UUFDaERBLHlCQUF5QkEsRUFBRUEsQ0FBQ0EsV0FBV0EsRUFBRUEsS0FBS0EsQ0FBQ0E7UUFDL0NBLHdCQUF3QkEsRUFBRUEsQ0FBQ0EsV0FBV0EsRUFBRUEsS0FBS0EsQ0FBQ0E7UUFDOUNBLFdBQVdBLEVBQUVBLENBQUNBLFdBQVdBLEVBQUVBLEtBQUtBLENBQUNBO1FBQ2pDQSxvQ0FBb0NBLEVBQUVBLENBQUNBLFdBQVdBLEVBQUVBLEtBQUtBLENBQUNBO1FBQzFEQSw2QkFBNkJBLEVBQUVBLENBQUNBLFdBQVdBLEVBQUVBLEtBQUtBLENBQUNBO1FBQ25EQSxpQkFBaUJBLEVBQUVBLENBQUNBLFdBQVdBLEVBQUVBLEtBQUtBLENBQUNBO1FBQ3ZDQSwwQkFBMEJBLEVBQUVBLENBQUNBLFdBQVdBLEVBQUVBLEtBQUtBLENBQUNBO1FBQ2hEQSx5QkFBeUJBLEVBQUVBLENBQUNBLFdBQVdBLEVBQUVBLEtBQUtBLENBQUNBO1FBQy9DQSx5QkFBeUJBLEVBQUVBLENBQUNBLFdBQVdBLEVBQUVBLEtBQUtBLENBQUNBO1FBQy9DQSx3QkFBd0JBLEVBQUVBLENBQUNBLFdBQVdBLEVBQUVBLEtBQUtBLENBQUNBO1FBQzlDQSxXQUFXQSxFQUFFQSxDQUFDQSxXQUFXQSxFQUFFQSxLQUFLQSxDQUFDQTtRQUNqQ0EscUJBQXFCQSxFQUFFQSxDQUFDQSxXQUFXQSxFQUFFQSxLQUFLQSxDQUFDQTtRQUMzQ0EsV0FBV0EsRUFBRUEsQ0FBQ0EsV0FBV0EsRUFBRUEsSUFBSUEsQ0FBQ0E7UUFDaENBLG1CQUFtQkEsRUFBRUEsQ0FBQ0EsV0FBV0EsRUFBRUEsSUFBSUEsQ0FBQ0E7UUFDeENBLFVBQVVBLEVBQUVBLENBQUNBLFdBQVdBLEVBQUVBLElBQUlBLENBQUNBO1FBQy9CQSw2QkFBNkJBLEVBQUVBLENBQUNBLFdBQVdBLEVBQUVBLElBQUlBLENBQUNBO1FBQ2xEQSw0QkFBNEJBLEVBQUVBLENBQUNBLFdBQVdBLEVBQUVBLElBQUlBLENBQUNBO1FBQ2pEQSw0QkFBNEJBLEVBQUVBLENBQUNBLFdBQVdBLEVBQUVBLElBQUlBLENBQUNBO1FBQ2pEQSxtQkFBbUJBLEVBQUVBLENBQUNBLFdBQVdBLEVBQUVBLElBQUlBLENBQUNBO1FBQ3hDQSxrQkFBa0JBLEVBQUVBLENBQUNBLFdBQVdBLEVBQUVBLElBQUlBLENBQUNBO1FBQ3ZDQSxrQkFBa0JBLEVBQUVBLENBQUNBLFdBQVdBLEVBQUVBLElBQUlBLENBQUNBO1FBQ3ZDQSxpQkFBaUJBLEVBQUVBLENBQUNBLFdBQVdBLEVBQUVBLElBQUlBLENBQUNBO1FBQ3RDQSxlQUFlQSxFQUFFQSxDQUFDQSxXQUFXQSxFQUFFQSxJQUFJQSxDQUFDQTtRQUNwQ0EsaUJBQWlCQSxFQUFFQSxDQUFDQSxXQUFXQSxFQUFFQSxJQUFJQSxDQUFDQTtRQUN0Q0EsY0FBY0EsRUFBRUEsQ0FBQ0EsV0FBV0EsRUFBRUEsSUFBSUEsQ0FBQ0E7UUFDbkNBLGNBQWNBLEVBQUVBLENBQUNBLFdBQVdBLEVBQUVBLElBQUlBLENBQUNBO1FBQ25DQSxZQUFZQSxFQUFFQSxDQUFDQSxvQkFBb0JBLEVBQUVBLElBQUlBLENBQUNBO1FBQzFDQSxPQUFPQSxFQUFFQSxDQUFDQSxvQkFBb0JBLEVBQUVBLElBQUlBLENBQUNBO1FBQ3JDQSxhQUFhQSxFQUFFQSxDQUFDQSxvQkFBb0JBLEVBQUVBLElBQUlBLENBQUNBO1FBQzNDQSxhQUFhQSxFQUFFQSxDQUFDQSxvQkFBb0JBLEVBQUVBLElBQUlBLENBQUNBO1FBQzNDQSxpQkFBaUJBLEVBQUVBLENBQUNBLG9CQUFvQkEsRUFBRUEsSUFBSUEsQ0FBQ0E7UUFDL0NBLDhCQUE4QkEsRUFBRUEsQ0FBQ0Esb0JBQW9CQSxFQUFFQSxJQUFJQSxDQUFDQTtRQUM1REEsbUJBQW1CQSxFQUFFQSxDQUFDQSxvQkFBb0JBLEVBQUVBLEtBQUtBLENBQUNBO1FBQ2xEQSxnQkFBZ0JBLEVBQUVBLENBQUNBLG9CQUFvQkEsRUFBRUEsS0FBS0EsQ0FBQ0E7UUFDL0NBLG9CQUFvQkEsRUFBRUEsQ0FBQ0Esb0JBQW9CQSxFQUFFQSxLQUFLQSxDQUFDQTtRQUNuREEsV0FBV0EsRUFBRUEsQ0FBQ0Esb0JBQW9CQSxFQUFFQSxLQUFLQSxDQUFDQTtRQUMxQ0EscUJBQXFCQSxFQUFFQSxDQUFDQSxvQkFBb0JBLEVBQUVBLEtBQUtBLENBQUNBO1FBQ3BEQSxpQkFBaUJBLEVBQUVBLENBQUNBLG9CQUFvQkEsRUFBRUEsS0FBS0EsQ0FBQ0E7UUFDaERBLFlBQVlBLEVBQUVBLENBQUNBLG9CQUFvQkEsRUFBRUEsS0FBS0EsQ0FBQ0E7UUFDM0NBLGtCQUFrQkEsRUFBRUEsQ0FBQ0Esb0JBQW9CQSxFQUFFQSxLQUFLQSxDQUFDQTtRQUNqREEsa0JBQWtCQSxFQUFFQSxDQUFDQSxvQkFBb0JBLEVBQUVBLEtBQUtBLENBQUNBO1FBQ2pEQSxvQkFBb0JBLEVBQUVBLENBQUNBLG9CQUFvQkEsRUFBRUEsS0FBS0EsQ0FBQ0E7UUFDbkRBLHFCQUFxQkEsRUFBRUEsQ0FBQ0Esb0JBQW9CQSxFQUFFQSxLQUFLQSxDQUFDQTtRQUNwREEsb0JBQW9CQSxFQUFFQSxDQUFDQSxvQkFBb0JBLEVBQUVBLEtBQUtBLENBQUNBO1FBQ25EQSxtQkFBbUJBLEVBQUVBLENBQUNBLG9CQUFvQkEsRUFBRUEsS0FBS0EsQ0FBQ0E7UUFDbERBLG9CQUFvQkEsRUFBRUEsQ0FBQ0Esb0JBQW9CQSxFQUFFQSxLQUFLQSxDQUFDQTtRQUNuREEsNEJBQTRCQSxFQUFFQSxDQUFDQSxvQkFBb0JBLEVBQUVBLEtBQUtBLENBQUNBO1FBQzNEQSwrQkFBK0JBLEVBQUVBLENBQUNBLG9CQUFvQkEsRUFBRUEsSUFBSUEsQ0FBQ0E7UUFDN0RBLG1CQUFtQkEsRUFBRUEsQ0FBQ0Esb0JBQW9CQSxFQUFFQSxJQUFJQSxDQUFDQTtRQUNqREEsY0FBY0EsRUFBRUEsQ0FBQ0Esb0JBQW9CQSxFQUFFQSxJQUFJQSxDQUFDQTtRQUM1Q0Esb0JBQW9CQSxFQUFFQSxDQUFDQSxvQkFBb0JBLEVBQUVBLElBQUlBLENBQUNBO1FBQ2xEQSxvQkFBb0JBLEVBQUVBLENBQUNBLG9CQUFvQkEsRUFBRUEsSUFBSUEsQ0FBQ0E7UUFDbERBLGVBQWVBLEVBQUVBLENBQUNBLG9CQUFvQkEsRUFBRUEsSUFBSUEsQ0FBQ0E7UUFDN0NBLFVBQVVBLEVBQUVBLENBQUNBLG9CQUFvQkEsRUFBRUEsSUFBSUEsQ0FBQ0E7UUFDeENBLGdCQUFnQkEsRUFBRUEsQ0FBQ0Esb0JBQW9CQSxFQUFFQSxJQUFJQSxDQUFDQTtRQUM5Q0EsZ0JBQWdCQSxFQUFFQSxDQUFDQSxvQkFBb0JBLEVBQUVBLElBQUlBLENBQUNBO1FBQzlDQSxzQkFBc0JBLEVBQUVBLENBQUNBLG9CQUFvQkEsRUFBRUEsSUFBSUEsQ0FBQ0E7UUFDcERBLFVBQVVBLEVBQUVBLENBQUNBLG9CQUFvQkEsRUFBRUEsSUFBSUEsQ0FBQ0E7UUFDeENBLHVCQUF1QkEsRUFBRUEsQ0FBQ0Esb0JBQW9CQSxFQUFFQSxJQUFJQSxDQUFDQTtRQUNyREEsZ0JBQWdCQSxFQUFFQSxDQUFDQSxvQkFBb0JBLEVBQUVBLElBQUlBLENBQUNBO1FBQzlDQSxpQkFBaUJBLEVBQUVBLENBQUNBLFVBQVVBLEVBQUVBLElBQUlBLENBQUNBO1FBQ3JDQSxhQUFhQSxFQUFFQSxDQUFDQSxVQUFVQSxFQUFFQSxJQUFJQSxDQUFDQTtRQUNqQ0EsV0FBV0EsRUFBRUEsQ0FBQ0EsVUFBVUEsRUFBRUEsS0FBS0EsQ0FBQ0E7UUFDaENBLGNBQWNBLEVBQUVBLENBQUNBLFVBQVVBLEVBQUVBLElBQUlBLENBQUNBO1FBQ2xDQSxPQUFPQSxFQUFFQSxDQUFDQSxPQUFPQSxFQUFFQSxJQUFJQSxDQUFDQTtRQUN4QkEsVUFBVUEsRUFBRUEsQ0FBQ0EsT0FBT0EsRUFBRUEsSUFBSUEsQ0FBQ0E7UUFDM0JBLE9BQU9BLEVBQUVBLENBQUNBLE9BQU9BLEVBQUVBLEtBQUtBLENBQUNBO1FBQ3pCQSxXQUFXQSxFQUFFQSxDQUFDQSxPQUFPQSxFQUFFQSxLQUFLQSxDQUFDQTtRQUM3QkEsaUJBQWlCQSxFQUFFQSxDQUFDQSxPQUFPQSxFQUFFQSxLQUFLQSxDQUFDQTtRQUNuQ0EsVUFBVUEsRUFBRUEsQ0FBQ0EsT0FBT0EsRUFBRUEsSUFBSUEsQ0FBQ0E7UUFDM0JBLGNBQWNBLEVBQUVBLENBQUNBLE9BQU9BLEVBQUVBLElBQUlBLENBQUNBO1FBQy9CQSxVQUFVQSxFQUFFQSxDQUFDQSxjQUFjQSxFQUFFQSxJQUFJQSxDQUFDQTtRQUNsQ0EsZ0JBQWdCQSxFQUFFQSxDQUFDQSxjQUFjQSxFQUFFQSxJQUFJQSxDQUFDQTtRQUN4Q0EsV0FBV0EsRUFBRUEsQ0FBQ0EsY0FBY0EsRUFBRUEsS0FBS0EsQ0FBQ0E7UUFDcENBLGNBQWNBLEVBQUVBLENBQUNBLGNBQWNBLEVBQUVBLEtBQUtBLENBQUNBO1FBQ3ZDQSxvQkFBb0JBLEVBQUVBLENBQUNBLGNBQWNBLEVBQUVBLEtBQUtBLENBQUNBO1FBQzdDQSxxQkFBcUJBLEVBQUVBLENBQUNBLGNBQWNBLEVBQUVBLEtBQUtBLENBQUNBO1FBQzlDQSxVQUFVQSxFQUFFQSxDQUFDQSxNQUFNQSxFQUFFQSxLQUFLQSxDQUFDQTtRQUMzQkEsY0FBY0EsRUFBRUEsQ0FBQ0EsTUFBTUEsRUFBRUEsS0FBS0EsQ0FBQ0E7UUFDL0JBLGVBQWVBLEVBQUVBLENBQUNBLE1BQU1BLEVBQUVBLEtBQUtBLENBQUNBO1FBQ2hDQSx1QkFBdUJBLEVBQUVBLENBQUNBLE1BQU1BLEVBQUVBLEtBQUtBLENBQUNBO1FBQ3hDQSxnQkFBZ0JBLEVBQUVBLENBQUNBLE1BQU1BLEVBQUVBLEtBQUtBLENBQUNBO1FBQ2pDQSxrQkFBa0JBLEVBQUVBLENBQUNBLE1BQU1BLEVBQUVBLEtBQUtBLENBQUNBO1FBQ25DQSxNQUFNQSxFQUFFQSxDQUFDQSxNQUFNQSxFQUFFQSxLQUFLQSxDQUFDQTtRQUN2QkEsZ0JBQWdCQSxFQUFFQSxDQUFDQSxNQUFNQSxFQUFFQSxLQUFLQSxDQUFDQTtRQUNqQ0Esc0JBQXNCQSxFQUFFQSxDQUFDQSxNQUFNQSxFQUFFQSxLQUFLQSxDQUFDQTtRQUN2Q0EsYUFBYUEsRUFBRUEsQ0FBQ0EsTUFBTUEsRUFBRUEsSUFBSUEsQ0FBQ0E7UUFDN0JBLGlCQUFpQkEsRUFBRUEsQ0FBQ0EsTUFBTUEsRUFBRUEsS0FBS0EsQ0FBQ0E7UUFDbENBLFNBQVNBLEVBQUVBLENBQUNBLFVBQVVBLEVBQUVBLElBQUlBLENBQUNBO1FBQzdCQSxnQkFBZ0JBLEVBQUVBLENBQUNBLFVBQVVBLEVBQUVBLElBQUlBLENBQUNBO1FBQ3BDQSxtQkFBbUJBLEVBQUVBLENBQUNBLFVBQVVBLEVBQUVBLEtBQUtBLENBQUNBO1FBQ3hDQSxlQUFlQSxFQUFFQSxDQUFDQSxVQUFVQSxFQUFFQSxLQUFLQSxDQUFDQTtRQUNwQ0Esc0JBQXNCQSxFQUFFQSxDQUFDQSxVQUFVQSxFQUFFQSxLQUFLQSxDQUFDQTtRQUMzQ0EsbUJBQW1CQSxFQUFFQSxDQUFDQSxVQUFVQSxFQUFFQSxLQUFLQSxDQUFDQTtRQUN4Q0EsYUFBYUEsRUFBRUEsQ0FBQ0EsVUFBVUEsRUFBRUEsSUFBSUEsQ0FBQ0E7S0FDcENBLENBQUNBO0lBRUZBLE9BQU9BLENBQUNBLE1BQU1BLENBQUNBLGNBQWNBLENBQUNBLENBQ3pCQSxRQUFRQSxDQUFDQSxnQ0FBZ0NBLEVBQUVBLCtCQUE0QkEsQ0FBQ0EsQ0FBQ0E7QUFFbEZBLENBQUNBLEVBek9NLEVBQUUsS0FBRixFQUFFLFFBeU9SOztBQ2hQRCw4Q0FBOEM7QUFFOUMsSUFBTyxFQUFFLENBMEJSO0FBMUJELFdBQU8sRUFBRSxFQUFDLENBQUM7SUFDUEEsWUFBWUEsQ0FBQ0E7SUFFRkEseUJBQXNCQSxHQUFHQTtRQUNoQ0EsUUFBUUEsRUFBRUEsUUFBUUE7UUFDbEJBLG1CQUFtQkEsRUFBRUEsU0FBU0E7UUFDOUJBLFVBQVVBLEVBQUVBLFNBQVNBO1FBQ3JCQSxZQUFZQSxFQUFFQSxTQUFTQTtRQUN2QkEsTUFBTUEsRUFBRUEsU0FBU0E7UUFDakJBLE9BQU9BLEVBQUVBLFNBQVNBO1FBQ2xCQSxRQUFRQSxFQUFFQSxRQUFRQTtRQUNsQkEsUUFBUUEsRUFBRUEsU0FBU0E7UUFDbkJBLFFBQVFBLEVBQUVBLFNBQVNBO1FBQ25CQSxRQUFRQSxFQUFFQSxTQUFTQTtLQUN0QkEsQ0FBQ0E7SUFFRkEsQUFNQUE7Ozs7O09BREdBO0lBQ0hBLE9BQU9BLENBQ0ZBLE1BQU1BLENBQUNBLGNBQWNBLENBQUNBLENBQ3RCQSxRQUFRQSxDQUFDQSwwQkFBMEJBLEVBQUVBLHlCQUFzQkEsQ0FBQ0EsQ0FBQ0E7QUFFdEVBLENBQUNBLEVBMUJNLEVBQUUsS0FBRixFQUFFLFFBMEJSOztBQzVCRCw4Q0FBOEM7QUFFOUMsSUFBTyxFQUFFLENBeURSO0FBekRELFdBQU8sRUFBRSxFQUFDLENBQUM7SUFDUEEsWUFBWUEsQ0FBQ0E7SUFFRkEsd0JBQXFCQSxHQUFHQTtRQUMvQkEsUUFBUUEsRUFBRUEsUUFBUUE7UUFDbEJBLGNBQWNBLEVBQUVBLFFBQVFBO1FBQ3hCQSxPQUFPQSxFQUFFQSxVQUFVQTtRQUNuQkEsUUFBUUEsRUFBRUEsVUFBVUE7UUFDcEJBLFdBQVdBLEVBQUVBLFVBQVVBO1FBQ3ZCQSxPQUFPQSxFQUFFQSxRQUFRQTtRQUNqQkEsYUFBYUEsRUFBRUEsUUFBUUE7UUFDdkJBLGFBQWFBLEVBQUVBLFFBQVFBO1FBQ3ZCQSxjQUFjQSxFQUFFQSxRQUFRQTtRQUN4QkEsS0FBS0EsRUFBRUEsUUFBUUE7UUFDZkEsU0FBU0EsRUFBRUEsUUFBUUE7UUFDbkJBLFlBQVlBLEVBQUVBLFFBQVFBO1FBQ3RCQSxhQUFhQSxFQUFFQSxRQUFRQTtRQUN2QkEsTUFBTUEsRUFBRUEsUUFBUUE7UUFDaEJBLDJCQUEyQkEsRUFBRUEsUUFBUUE7UUFDckNBLGVBQWVBLEVBQUVBLFNBQVNBO1FBQzFCQSx3QkFBd0JBLEVBQUVBLFNBQVNBO1FBQ25DQSxlQUFlQSxFQUFFQSxTQUFTQTtRQUMxQkEsYUFBYUEsRUFBRUEsU0FBU0E7UUFDeEJBLG1CQUFtQkEsRUFBRUEsU0FBU0E7UUFDOUJBLGlCQUFpQkEsRUFBRUEsU0FBU0E7UUFDNUJBLGdCQUFnQkEsRUFBRUEsU0FBU0E7UUFDM0JBLGdCQUFnQkEsRUFBRUEsU0FBU0E7UUFDM0JBLHFCQUFxQkEsRUFBRUEsU0FBU0E7UUFDaENBLE1BQU1BLEVBQUVBLFNBQVNBO1FBQ2pCQSxnQkFBZ0JBLEVBQUVBLFNBQVNBO1FBQzNCQSxPQUFPQSxFQUFFQSxTQUFTQTtRQUNsQkEsUUFBUUEsRUFBRUEsU0FBU0E7UUFDbkJBLG9CQUFvQkEsRUFBRUEsU0FBU0E7UUFDL0JBLHNCQUFzQkEsRUFBRUEsU0FBU0E7UUFDakNBLGtCQUFrQkEsRUFBRUEsU0FBU0E7UUFDN0JBLGVBQWVBLEVBQUVBLFNBQVNBO1FBQzFCQSxzQkFBc0JBLEVBQUVBLFNBQVNBO1FBQ2pDQSx3QkFBd0JBLEVBQUVBLFNBQVNBO1FBQ25DQSxvQkFBb0JBLEVBQUVBLFNBQVNBO1FBQy9CQSxVQUFVQSxFQUFFQSxTQUFTQTtRQUNyQkEsaUJBQWlCQSxFQUFFQSxTQUFTQTtRQUM1QkEsbUJBQW1CQSxFQUFFQSxTQUFTQTtRQUM5QkEsa0JBQWtCQSxFQUFFQSxTQUFTQTtRQUM3QkEscUJBQXFCQSxFQUFFQSxTQUFTQTtRQUNoQ0EsNkJBQTZCQSxFQUFFQSxRQUFRQTtLQUMxQ0EsQ0FBQ0E7SUFFRkEsQUFNQUE7Ozs7O09BREdBO0lBQ0hBLE9BQU9BLENBQ0ZBLE1BQU1BLENBQUNBLGNBQWNBLENBQUNBLENBQ3RCQSxRQUFRQSxDQUFDQSx5QkFBeUJBLEVBQUVBLHdCQUFxQkEsQ0FBQ0EsQ0FBQ0E7QUFFcEVBLENBQUNBLEVBekRNLEVBQUUsS0FBRixFQUFFLFFBeURSOztBQzNERCw4Q0FBOEM7QUFFOUMsSUFBTyxFQUFFLENBMEhSO0FBMUhELFdBQU8sRUFBRSxFQUFDLENBQUM7SUFDUEEsWUFBWUEsQ0FBQ0E7SUFFYkEsSUFBYUEsV0FBV0E7UUFBeEJFLFNBQWFBLFdBQVdBO1FBNEd4QkMsQ0FBQ0E7UUExR0dEOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7V0EyQkdBO1FBQ0hBLHVDQUFpQkEsR0FBakJBLFVBQWtCQSxxQkFBd0NBLEVBQUVBLFlBQW1CQTtZQUEvRUUsaUJBU0NBO1lBUkdBLElBQUlBLGdCQUFnQkEsR0FBR0EsRUFBRUEsQ0FBQ0E7WUFFMUJBLEFBQ0FBLCtDQUQrQ0E7WUFDL0NBLENBQUNBLENBQUNBLElBQUlBLENBQUNBLHFCQUFxQkEsRUFBRUEsVUFBQ0EsZUFBZUEsRUFBRUEsZUFBZUE7Z0JBQzNEQSxnQkFBZ0JBLENBQUNBLElBQUlBLENBQUNBLEtBQUlBLENBQUNBLDBCQUEwQkEsQ0FBQ0EsZUFBZUEsRUFBRUEsWUFBWUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7WUFDMUZBLENBQUNBLENBQUNBLENBQUNBO1lBRUhBLE1BQU1BLENBQUNBLElBQUlBLENBQUNBLGdCQUFnQkEsQ0FBQ0EsZ0JBQWdCQSxFQUFFQSxLQUFLQSxDQUFDQSxDQUFDQTtRQUMxREEsQ0FBQ0E7UUFFREY7Ozs7Ozs7OztXQVNHQTtRQUNIQSxzQ0FBZ0JBLEdBQWhCQSxVQUFpQkEsZ0JBQXlCQSxFQUFFQSxRQUFlQTtZQUN2REcsSUFBSUEsU0FBU0EsR0FBR0EsRUFBRUEsRUFDZEEsZ0JBQWdCQSxHQUFHQSxFQUFFQSxDQUFDQTtZQUMxQkEsQ0FBQ0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsZ0JBQWdCQSxFQUFFQSxVQUFVQSxTQUFTQSxFQUFFQSxjQUFjQTtnQkFDeEQsQUFDQSxxRUFEcUU7Z0JBQ3JFLEVBQUUsQ0FBQyxDQUFDLGNBQWMsR0FBRyxnQkFBZ0IsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztvQkFDL0MsU0FBUyxJQUFJLEdBQUcsR0FBRyxRQUFRLEdBQUcsR0FBRyxDQUFDO29CQUNsQyxnQkFBZ0IsR0FBRyxJQUFJLEdBQUcsUUFBUSxHQUFHLEdBQUcsR0FBRyxnQkFBZ0IsQ0FBQztnQkFDaEUsQ0FBQztnQkFDRCxTQUFTLElBQUksU0FBUyxDQUFDO1lBQzNCLENBQUMsQ0FBQ0EsQ0FBQ0E7WUFDSEEsTUFBTUEsQ0FBQ0EsU0FBU0EsR0FBR0EsZ0JBQWdCQSxDQUFDQTtRQUN4Q0EsQ0FBQ0E7UUFFREg7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7V0FtQkdBO1FBQ0hBLGdEQUEwQkEsR0FBMUJBLFVBQTJCQSxlQUFnQ0EsRUFBRUEsWUFBbUJBO1lBQzVFSSxJQUFJQSxZQUFZQSxDQUFDQTtZQUNqQkEsTUFBTUEsQ0FBQ0EsQ0FBQ0EsZUFBZUEsQ0FBQ0EsVUFBVUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7Z0JBQ2pDQSxLQUFLQSxNQUFNQSxDQUFDQTtnQkFDWkEsS0FBS0EsTUFBTUE7b0JBQ1BBLFlBQVlBLEdBQUdBLEVBQUVBLEdBQ2JBLFlBQVlBLEdBQ1pBLGtCQUFrQkEsR0FBR0EsZUFBZUEsQ0FBQ0EsVUFBVUEsR0FBR0EsTUFBTUEsR0FFeERBLDhCQUE4QkEsR0FBR0EsWUFBWUEsR0FBR0EsYUFBYUEsR0FDN0RBLGFBQWFBLENBQUNBO29CQUNsQkEsS0FBS0EsQ0FBQ0E7Z0JBQ1ZBO29CQUNJQSxZQUFZQSxHQUFHQSxFQUFFQSxHQUNiQSxZQUFZQSxHQUNaQSxrQkFBa0JBLEdBQUdBLGVBQWVBLENBQUNBLFVBQVVBLEdBQUdBLE1BQU1BLEdBQ3hEQSxxQkFBcUJBLEdBQUdBLFlBQVlBLEdBQUdBLFVBQVVBLEdBQ2pEQSxhQUFhQSxDQUFDQTtZQUMxQkEsQ0FBQ0E7WUFDREEsTUFBTUEsQ0FBQ0EsWUFBWUEsQ0FBQ0E7UUFDeEJBLENBQUNBO1FBR0xKLGtCQUFDQTtJQUFEQSxDQTVHQUYsQUE0R0NFLElBQUFGO0lBNUdZQSxjQUFXQSxHQUFYQSxXQTRHWkEsQ0FBQUE7SUFFREEsQUFPQUE7Ozs7OztPQURHQTtJQUNIQSxPQUFPQSxDQUFDQSxNQUFNQSxDQUFDQSxjQUFjQSxDQUFDQSxDQUN6QkEsT0FBT0EsQ0FBQ0EsZUFBZUEsRUFBRUEsV0FBV0EsQ0FBQ0EsQ0FBQ0E7QUFDL0NBLENBQUNBLEVBMUhNLEVBQUUsS0FBRixFQUFFLFFBMEhSOztBQzVIRCw4Q0FBOEM7QUFFOUMsSUFBTyxFQUFFLENBNkxSO0FBN0xELFdBQU8sRUFBRSxFQUFDLENBQUM7SUFDUEEsWUFBWUEsQ0FBQ0E7SUFFYkEsSUFBSUEsY0FBNEJBLEVBQUVBLGdCQUFnQ0EsQ0FBQ0E7SUF1Qm5FQSxBQW1GQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7T0FER0E7UUFDVUEsS0FBS0E7UUFPZE8sU0FQU0EsS0FBS0EsQ0FPRkEsR0FBR0E7WUFDWEMsSUFBSUEsSUFBSUEsR0FBR0EsSUFBSUEsQ0FBQ0E7WUFDaEJBLElBQUlBLFFBQVFBLEdBQUdBO2dCQUNYQSxRQUFRQSxFQUFFQSxLQUFLQTtnQkFDZkEsVUFBVUEsRUFBRUEsTUFBTUE7YUFDckJBLENBQUNBO1lBQ0ZBLENBQUNBLENBQUNBLE1BQU1BLENBQUNBLElBQUlBLEVBQUVBLFFBQVFBLEVBQUVBLEdBQUdBLENBQUNBLENBQUNBO1lBQzlCQSxJQUFJQSxDQUFDQSxXQUFXQSxHQUFHQSxJQUFJQSxDQUFDQSxXQUFXQSxHQUFHQSxJQUFJQSxDQUFDQSxXQUFXQSxHQUFHQSxnQkFBZ0JBLENBQUNBLGFBQWFBLENBQUNBLElBQUlBLENBQUNBLFVBQVVBLENBQUNBLENBQUNBO1lBQ3pHQSxBQUNBQSxzRkFEc0ZBO1lBQ3RGQSxJQUFJQSxDQUFDQSxVQUFVQSxHQUFHQSxJQUFJQSxDQUFDQSxVQUFVQSxJQUFJQSxJQUFJQSxDQUFDQSxZQUFZQSxDQUFDQTtRQUMzREEsQ0FBQ0E7UUFFREQ7Ozs7Ozs7V0FPR0E7UUFDSEEsNkJBQWFBLEdBQWJBO1lBQ0lFLE1BQU1BLENBQUNBLGNBQWNBLENBQUNBLGFBQWFBLENBQUNBLElBQUlBLENBQUNBLFVBQVVBLENBQUNBLENBQUNBO1FBQ3pEQSxDQUFDQTtRQUVERjs7Ozs7OztXQU9HQTtRQUNIQSxzQ0FBc0JBLEdBQXRCQTtZQUNJRyxNQUFNQSxDQUFDQSxjQUFjQSxDQUFDQSxzQkFBc0JBLENBQUNBLElBQUlBLENBQUNBLFVBQVVBLENBQUNBLENBQUNBO1FBQ2xFQSxDQUFDQTtRQUVESDs7Ozs7OztXQU9HQTtRQUNIQSwyQkFBV0EsR0FBWEEsVUFBYUEsT0FBT0E7WUFDaEJJLE1BQU1BLENBQUNBLGNBQWNBLENBQUNBLFdBQVdBLENBQUNBLElBQUlBLENBQUNBLFVBQVVBLEVBQUVBLE9BQU9BLENBQUNBLENBQUNBO1FBQ2hFQSxDQUFDQTtRQUNMSixZQUFDQTtJQUFEQSxDQXREQVAsQUFzRENPLElBQUFQO0lBdERZQSxRQUFLQSxHQUFMQSxLQXNEWkEsQ0FBQUE7SUFFREEsQUFXQUE7Ozs7Ozs7Ozs7T0FER0E7UUFDVUEsWUFBWUE7UUFFckJZLFNBRlNBLFlBQVlBLENBRVRBLFNBQVNBO1lBRHJCQyxVQUFLQSxHQUFHQSxLQUFLQSxDQUFDQTtZQUVWQSxjQUFjQSxHQUFHQSxTQUFTQSxDQUFDQSxHQUFHQSxDQUFDQSxnQkFBZ0JBLENBQUNBLENBQUNBO1lBQ2pEQSxnQkFBZ0JBLEdBQUdBLFNBQVNBLENBQUNBLEdBQUdBLENBQUNBLGtCQUFrQkEsQ0FBQ0EsQ0FBQ0E7UUFDekRBLENBQUNBO1FBQ0xELG1CQUFDQTtJQUFEQSxDQU5BWixBQU1DWSxJQUFBWjtJQU5ZQSxlQUFZQSxHQUFaQSxZQU1aQSxDQUFBQTtJQUdEQSxPQUFPQSxDQUNGQSxNQUFNQSxDQUFDQSxjQUFjQSxDQUFDQSxDQUN0QkEsT0FBT0EsQ0FBQ0EsZ0JBQWdCQSxFQUFFQSxZQUFZQSxDQUFDQSxDQUFDQTtBQUVqREEsQ0FBQ0EsRUE3TE0sRUFBRSxLQUFGLEVBQUUsUUE2TFI7O0FDL0xELDhDQUE4QztBQUU5QyxJQUFPLEVBQUUsQ0F3TFI7QUF4TEQsV0FBTyxFQUFFLEVBQUMsQ0FBQztJQUNQQSxZQUFZQSxDQUFDQTtJQWdCYkEsQUFVQUE7Ozs7Ozs7OztPQURHQTtRQUNVQSxZQUFZQTtRQUNyQmMsU0FEU0EsWUFBWUEsQ0FDVEEsTUFBY0E7WUFDdEJDLEVBQUVBLENBQUNBLENBQUNBLE1BQU1BLENBQUNBLENBQUNBLENBQUNBO2dCQUNUQSxDQUFDQSxDQUFDQSxNQUFNQSxDQUFDQSxJQUFJQSxFQUFFQSxNQUFNQSxDQUFDQSxDQUFDQTtZQUMzQkEsQ0FBQ0E7UUFDTEEsQ0FBQ0E7UUFFREQ7Ozs7Ozs7V0FPR0E7UUFDSEEsZ0NBQVNBLEdBQVRBLFVBQVVBLFFBQWlCQTtZQUN2QkUsRUFBRUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsUUFBUUEsQ0FBQ0EsUUFBUUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsUUFBUUEsQ0FBQ0EsRUFBRUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7Z0JBQ3hDQSxBQUNBQSxtRUFEbUVBO2dCQUNuRUEsRUFBRUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsUUFBUUEsQ0FBQ0EsRUFBRUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7b0JBQ3JCQSxJQUFJQSxDQUFDQSxRQUFRQSxDQUFDQSxFQUFFQSxDQUFDQSxHQUFHQSxRQUFRQSxDQUFDQTtnQkFDakNBLENBQUNBO1lBQ0xBLENBQUNBO1lBQUNBLElBQUlBLENBQUNBLENBQUNBO2dCQUNKQSxNQUFNQSxrQ0FBa0NBLEdBQUdBLElBQUlBLENBQUNBLFNBQVNBLENBQUNBLFFBQVFBLENBQUNBLENBQUNBO1lBQ3hFQSxDQUFDQTtRQUNMQSxDQUFDQTtRQUVERjs7Ozs7O1dBTUdBO1FBQ0hBLDRCQUFLQSxHQUFMQTtZQUFBRyxpQkFFQ0E7WUFER0EsQ0FBQ0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsSUFBSUEsRUFBRUEsVUFBQ0EsUUFBUUEsRUFBRUEsR0FBR0EsSUFBS0EsY0FBT0EsS0FBSUEsQ0FBQ0EsR0FBR0EsQ0FBQ0EsRUFBaEJBLENBQWdCQSxDQUFDQSxDQUFDQTtRQUN0REEsQ0FBQ0E7UUFFREg7Ozs7Ozs7V0FPR0E7UUFDSEEsNEJBQUtBLEdBQUxBO1lBQ0lJLE1BQU1BLENBQUNBLElBQUlBLENBQUNBLElBQUlBLEVBQUVBLENBQUNBLE1BQU1BLENBQUNBO1FBQzlCQSxDQUFDQTtRQUVESjs7Ozs7OztXQU9HQTtRQUNIQSw0QkFBS0EsR0FBTEE7WUFDSUssTUFBTUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsU0FBU0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7UUFDN0JBLENBQUNBO1FBRURMOzs7Ozs7O1dBT0dBO1FBQ0hBLDJCQUFJQSxHQUFKQTtZQUNJTSxNQUFNQSxDQUFDQSxDQUFDQSxDQUFDQSxJQUFJQSxDQUFDQSxJQUFJQSxDQUFDQSxDQUFDQTtRQUN4QkEsQ0FBQ0E7UUFFRE47Ozs7Ozs7V0FPR0E7UUFDSEEsMkJBQUlBLEdBQUpBO1lBQ0lPLElBQUlBLElBQUlBLEdBQUdBLElBQUlBLENBQUNBLElBQUlBLEVBQUVBLENBQUNBO1lBQ3ZCQSxNQUFNQSxDQUFDQSxJQUFJQSxDQUFDQSxJQUFJQSxDQUFDQSxJQUFJQSxDQUFDQSxNQUFNQSxHQUFHQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUN2Q0EsQ0FBQ0E7UUFFRFA7Ozs7Ozs7O1dBUUdBO1FBQ0hBLGdDQUFTQSxHQUFUQSxVQUFVQSxLQUFLQTtZQUNYUSxJQUFJQSxJQUFJQSxHQUFHQSxJQUFJQSxDQUFDQSxJQUFJQSxFQUFFQSxDQUFDQTtZQUN2QkEsTUFBTUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7UUFDN0JBLENBQUNBO1FBRURSOzs7Ozs7O1dBT0dBO1FBQ0hBLG1DQUFZQSxHQUFaQSxVQUFhQSxRQUFRQTtZQUNqQlMsRUFBRUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsUUFBUUEsSUFBSUEsUUFBUUEsQ0FBQ0EsRUFBRUEsSUFBSUEsSUFBSUEsQ0FBQ0EsUUFBUUEsQ0FBQ0EsRUFBRUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7Z0JBQ2pEQSxPQUFPQSxJQUFJQSxDQUFDQSxRQUFRQSxDQUFDQSxFQUFFQSxDQUFDQSxDQUFDQTtZQUM3QkEsQ0FBQ0E7WUFBQ0EsSUFBSUEsQ0FBQ0EsRUFBRUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsUUFBUUEsQ0FBQ0EsUUFBUUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7Z0JBQzlCQSxBQUNBQSw0REFENERBO2dCQUM1REEsT0FBT0EsSUFBSUEsQ0FBQ0EsUUFBUUEsQ0FBQ0EsQ0FBQ0E7WUFDMUJBLENBQUNBO1FBQ0xBLENBQUNBO1FBRURUOzs7Ozs7O1dBT0dBO1FBQ0hBLDhCQUFPQSxHQUFQQTtZQUNJVSxNQUFNQSxDQUFDQSxDQUFDQSxDQUFDQSxPQUFPQSxDQUFDQSxJQUFJQSxDQUFDQSxDQUFDQTtRQUMzQkEsQ0FBQ0E7UUFFTFYsbUJBQUNBO0lBQURBLENBaklBZCxBQWlJQ2MsSUFBQWQ7SUFqSVlBLGVBQVlBLEdBQVpBLFlBaUlaQSxDQUFBQTtJQUdEQSxBQVFBQTs7Ozs7O09BRkdBO1FBRVVBLG1CQUFtQkE7UUFBaEN5QixTQUFhQSxtQkFBbUJBO1lBVzVCQyxpQkFBWUEsR0FBR0EsWUFBWUEsQ0FBQ0E7UUFFaENBLENBQUNBO1FBWkdEOzs7Ozs7V0FNR0E7UUFDSEEsb0NBQU1BLEdBQU5BLFVBQU9BLFNBQWlCQTtZQUNwQkUsTUFBTUEsQ0FBQ0EsSUFBSUEsWUFBWUEsQ0FBQ0EsU0FBU0EsQ0FBQ0EsQ0FBQ0E7UUFDdkNBLENBQUNBO1FBR0xGLDBCQUFDQTtJQUFEQSxDQWJBekIsQUFhQ3lCLElBQUF6QjtJQWJZQSxzQkFBbUJBLEdBQW5CQSxtQkFhWkEsQ0FBQUE7SUFFREEsT0FBT0EsQ0FBQ0EsTUFBTUEsQ0FBQ0EsY0FBY0EsQ0FBQ0EsQ0FDekJBLE9BQU9BLENBQUNBLHVCQUF1QkEsRUFBRUEsbUJBQW1CQSxDQUFFQSxDQUFDQTtBQUNoRUEsQ0FBQ0EsRUF4TE0sRUFBRSxLQUFGLEVBQUUsUUF3TFI7O0FDMUxELDhDQUE4QztBQUU5QyxJQUFPLEVBQUUsQ0EyTlI7QUEzTkQsV0FBTyxFQUFFLEVBQUMsQ0FBQztJQUNQQSxZQUFZQSxDQUFDQTtJQUViQSxJQUFJQSxRQUFrQkEsRUFBRUEsZUFBZUEsRUFBRUEsY0FBMkJBLENBQUNBO0lBaUJyRUEsQUEwREFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7T0FER0E7UUFDVUEsSUFBSUE7UUFXYjRCLFNBWFNBLElBQUlBLENBV0RBLE1BQU1BO1lBVmxCQyxpQkFBWUEsR0FBR0EsRUFBRUEsQ0FBQ0E7WUFFbEJBLFdBQU1BLEdBQUdBLEVBQUVBLENBQUNBO1lBQ1pBLFNBQUlBLEdBQUdBLEVBQUVBLENBQUNBO1lBQ1ZBLFlBQU9BLEdBQUdBLEtBQUtBLENBQUNBO1lBQ2hCQSxZQUFPQSxHQUFHQSxFQUFFQSxDQUFDQTtZQUNiQSxVQUFLQSxHQUFHQSxFQUFFQSxDQUFDQTtZQUNYQSxlQUFVQSxHQUFHQSxFQUFFQSxDQUFDQTtZQUlaQSxJQUFJQSxDQUFDQSxNQUFNQSxHQUFHQSxRQUFRQSxDQUFDQSxVQUFVQSxDQUFDQTtZQUNsQ0EsQ0FBQ0EsQ0FBQ0EsTUFBTUEsQ0FBQ0EsSUFBSUEsRUFBRUEsTUFBTUEsQ0FBQ0EsQ0FBQ0E7WUFDdkJBLElBQUlBLENBQUNBLFlBQVlBLEdBQUdBLElBQUlBLENBQUNBLFlBQVlBLElBQUlBLEVBQUNBLFVBQVVBLEVBQUVBLElBQUlBLENBQUNBLElBQUlBLEVBQUNBLENBQUNBO1lBQ2pFQSxJQUFJQSxDQUFDQSxzQkFBc0JBLEVBQUVBLENBQUNBO1FBQ2xDQSxDQUFDQTtRQUVERDs7Ozs7OztXQU9HQTtRQUNIQSxxQ0FBc0JBLEdBQXRCQTtZQUFBRSxpQkE0QkNBO1lBM0JHQSxBQU1BQTs7Ozs7ZUFER0E7Z0JBQ0NBLFVBQVVBLEdBQUdBLFVBQUNBLGVBQWVBO2dCQUM3QkEsSUFBSUEsS0FBS0EsR0FBR0EsSUFBSUEsY0FBY0EsQ0FBQ0EsS0FBS0EsQ0FBQ0EsZUFBZUEsQ0FBQ0EsQ0FBQ0E7Z0JBQ3REQSxLQUFJQSxDQUFDQSxNQUFNQSxDQUFDQSxJQUFJQSxDQUFDQSxLQUFLQSxDQUFDQSxDQUFDQTtnQkFDeEJBLEtBQUlBLENBQUNBLFVBQVVBLElBQUlBLGtCQUFrQkEsR0FBR0EsS0FBS0EsQ0FBQ0EsVUFBVUEsR0FBR0EsS0FBS0EsQ0FBQ0E7Z0JBQ2pFQSxLQUFJQSxDQUFDQSxPQUFPQSxDQUFDQSxNQUFNQSxHQUFHQSxLQUFLQSxDQUFDQSxVQUFVQSxDQUFDQSxHQUFHQTtvQkFDdENBLFVBQVVBLEVBQUVBLEtBQUtBLENBQUNBLFVBQVVBO29CQUM1QkEsVUFBVUEsRUFBRUEsS0FBS0EsQ0FBQ0EsVUFBVUE7aUJBQy9CQSxDQUFDQTtZQUNOQSxDQUFDQSxDQUFDQTtZQUVGQSxBQUNBQSxzQkFEc0JBO1lBQ3RCQSxJQUFJQSxDQUFDQSxVQUFVQSxJQUFJQSxjQUFjQSxDQUFDQTtZQUVsQ0EsQUFDQUEsNkJBRDZCQTtZQUM3QkEsQ0FBQ0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsZUFBZUEsRUFBRUEsVUFBQ0EsS0FBS0EsSUFBS0EsT0FBQUEsVUFBVUEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsRUFBakJBLENBQWlCQSxDQUFFQSxDQUFDQTtZQUV2REEsQUFDQUEsa0RBRGtEQTtZQUNsREEsQ0FBQ0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsWUFBWUEsRUFBRUEsVUFBQ0EsS0FBS0EsSUFBS0EsT0FBQUEsVUFBVUEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsRUFBakJBLENBQWlCQSxDQUFFQSxDQUFDQTtZQUV6REEsQUFDQUEsdUJBRHVCQTtZQUN2QkEsSUFBSUEsQ0FBQ0EsVUFBVUEsSUFBSUEsZUFBZUEsQ0FBQ0E7UUFDdkNBLENBQUNBO1FBR0RGOzs7Ozs7Ozs7V0FTR0E7UUFDSEEsd0JBQVNBLEdBQVRBO1lBQ0lHLEVBQUVBLENBQUNBLENBQUNBLENBQUNBLENBQUNBLFFBQVFBLENBQUNBLElBQUlBLENBQUNBLFlBQVlBLENBQUNBLFFBQVFBLENBQUNBLFdBQVdBLENBQUNBLENBQUNBLENBQUNBLENBQUNBLENBQUNBO2dCQUN0REEsQUFLQUE7Ozs7bUJBREdBO2dCQUNIQSxNQUFNQSxDQUFDQSxJQUFJQSxDQUFDQSxZQUFZQSxDQUFDQSxRQUFRQSxDQUFDQSxXQUFXQSxDQUFDQSxDQUFDQTtZQUNuREEsQ0FBQ0E7WUFBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0E7Z0JBQ0pBLE1BQU1BLElBQUlBLEtBQUtBLENBQUNBLHVFQUF1RUEsR0FBR0EsUUFBUUEsQ0FBQ0EsV0FBV0EsR0FBR0EsSUFBSUEsR0FDakhBLGdDQUFnQ0EsR0FBR0EsSUFBSUEsQ0FBQ0EsS0FBS0EsR0FBR0Esa0RBQWtEQSxDQUFDQSxDQUFDQTtZQUM1R0EsQ0FBQ0E7UUFDTEEsQ0FBQ0E7UUFFREg7Ozs7Ozs7O1dBUUdBO1FBQ0hBLDZCQUFjQSxHQUFkQTtZQUNJSSxNQUFNQSxDQUFDQSxJQUFJQSxDQUFDQSxVQUFVQSxHQUFHQSxJQUFJQSxDQUFDQSxVQUFVQSxHQUFHQSxJQUFJQSxDQUFDQSxNQUFNQSxDQUFDQTtRQUMzREEsQ0FBQ0E7UUFHTEosV0FBQ0E7SUFBREEsQ0EvRkE1QixBQStGQzRCLElBQUE1QjtJQS9GWUEsT0FBSUEsR0FBSkEsSUErRlpBLENBQUFBO0lBR0RBLEFBWUFBOzs7Ozs7Ozs7OztPQURHQTtRQUNVQSxXQUFXQTtRQUNwQmlDLFNBRFNBLFdBQVdBLENBQ1JBLFNBQVNBO1lBb0JyQkMsU0FBSUEsR0FBR0EsSUFBSUEsQ0FBQ0E7WUFsQlJBLFFBQVFBLEdBQUdBLFNBQVNBLENBQUNBLEdBQUdBLENBQUNBLFVBQVVBLENBQUNBLENBQUNBO1lBQ3JDQSxlQUFlQSxHQUFHQSxTQUFTQSxDQUFDQSxHQUFHQSxDQUFDQSxpQkFBaUJBLENBQUNBLENBQUNBO1lBQ25EQSxjQUFjQSxHQUFHQSxTQUFTQSxDQUFDQSxHQUFHQSxDQUFDQSxnQkFBZ0JBLENBQUNBLENBQUNBO1FBRXJEQSxDQUFDQTtRQUVERDs7Ozs7OztXQU9HQTtRQUNIQSw0QkFBTUEsR0FBTkEsVUFBT0EsTUFBTUE7WUFDVEUsTUFBTUEsQ0FBQ0EsSUFBSUEsSUFBSUEsQ0FBQ0EsTUFBTUEsQ0FBQ0EsQ0FBQ0E7UUFDNUJBLENBQUNBO1FBR0xGLGtCQUFDQTtJQUFEQSxDQXRCQWpDLEFBc0JDaUMsSUFBQWpDO0lBdEJZQSxjQUFXQSxHQUFYQSxXQXNCWkEsQ0FBQUE7SUFHREEsT0FBT0EsQ0FBQ0EsTUFBTUEsQ0FBQ0EsY0FBY0EsQ0FBQ0EsQ0FDekJBLE9BQU9BLENBQUNBLGVBQWVBLEVBQUVBLFdBQVdBLENBQUNBLENBQUNBO0FBSy9DQSxDQUFDQSxFQTNOTSxFQUFFLEtBQUYsRUFBRSxRQTJOUjs7QUM3TkQsOENBQThDO0FBRTlDLElBQU8sRUFBRSxDQTZ1QlI7QUE3dUJELFdBQU8sRUFBRSxFQUFDLENBQUM7SUFDUEEsWUFBWUEsQ0FBQ0E7SUFFYkEsSUFBSUEsRUFBRUEsRUFBRUEsTUFBTUEsRUFBRUEsY0FBNEJBLEVBQUVBLGFBQTBCQSxFQUFFQSxlQUE4QkEsRUFDcEdBLGdCQUFnQ0EsRUFBRUEsNEJBQXdEQSxFQUFFQSxRQUFtQkEsQ0FBQ0E7SUF1Q3BIQSxBQVFBQTs7Ozs7OztPQURHQTtRQUNVQSxRQUFRQTtRQVlqQm9DLFNBWlNBLFFBQVFBO1FBYWpCQyxDQUFDQTtRQUVERDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7V0EwQkdBO1FBQ0hBLDhCQUFXQSxHQUFYQSxVQUFhQSxPQUE4QkE7WUFDdkNFLElBQUlBLFFBQVFBLEdBQUdBLElBQUlBLENBQUNBO1lBQ3BCQSxJQUFJQSxLQUFLQSxHQUFHQSxRQUFRQSxDQUFDQSxRQUFRQSxFQUFFQSxDQUFDQTtZQUNoQ0EsSUFBSUEsUUFBUUEsR0FBR0EsRUFBRUEsQ0FBQ0EsS0FBS0EsRUFBRUEsQ0FBQ0E7WUFFMUJBLEFBR0FBOztrQ0FEc0JBO1lBQ3RCQSxFQUFFQSxDQUFDQSxDQUFDQSxDQUFDQSxRQUFRQSxDQUFDQSxFQUFFQSxDQUFDQSxDQUFDQSxDQUFDQTtnQkFDZkEsTUFBTUEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsVUFBVUEsQ0FBQ0EsUUFBUUEsRUFBRUEsT0FBT0EsQ0FBQ0EsQ0FBQ0E7WUFDL0NBLENBQUNBO1lBRURBLGFBQWFBLENBQUNBLGNBQWNBLENBQUNBLEtBQUtBLEVBQUVBLFFBQVFBLEVBQUVBLE9BQU9BLENBQUNBLENBQ2pEQSxJQUFJQSxDQUFFQSxVQUFDQSxlQUFlQTtnQkFDbkJBLFFBQVFBLENBQUNBLE9BQU9BLENBQUNBLGVBQWVBLENBQUNBLENBQUNBO2dCQUNsQ0EsQUFDQUEsd0NBRHdDQTtnQkFDeENBLGdCQUFnQkEsQ0FBQ0EsY0FBY0EsQ0FBQ0EsS0FBS0EsRUFBRUEsUUFBUUEsRUFBRUEsZUFBZUEsQ0FBQ0EsRUFBRUEsQ0FBQ0EsQ0FBQ0E7WUFDekVBLENBQUNBLENBQUNBLENBQUNBO1lBRVBBLE1BQU1BLENBQUNBLFFBQVFBLENBQUNBLE9BQU9BLENBQUNBO1FBQzVCQSxDQUFDQTtRQUVERjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O1dBOEJHQTtRQUNIQSw2QkFBVUEsR0FBVkEsVUFBWUEsVUFBb0JBLEVBQUVBLE9BQThCQTtZQUU1REcsSUFBSUEsUUFBUUEsR0FBR0EsSUFBSUEsQ0FBQ0E7WUFDcEJBLElBQUlBLEtBQUtBLEdBQUdBLFFBQVFBLENBQUNBLFFBQVFBLEVBQUVBLENBQUNBO1lBQ2hDQSxJQUFJQSxRQUFRQSxHQUFHQSxFQUFFQSxDQUFDQSxLQUFLQSxFQUFFQSxDQUFDQTtZQUMxQkEsSUFBSUEsV0FBV0EsR0FBR0EsRUFBRUEsQ0FBQ0E7WUFDckJBLEFBQ0FBLDREQUQ0REE7Z0JBQ3hEQSxVQUFVQSxHQUFHQSxDQUFDQSxDQUFDQSxRQUFRQSxDQUFDQSxVQUFVQSxDQUFDQSxHQUFHQSxDQUFDQSxVQUFVQSxDQUFDQSxHQUFHQSxVQUFVQSxDQUFDQTtZQUNwRUEsQUFDQUEsaUVBRGlFQTtZQUNqRUEsQ0FBQ0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsVUFBVUEsRUFBRUEsVUFBQ0EsS0FBS0E7Z0JBQ3JCQSxJQUFJQSxLQUFLQSxHQUFHQSxDQUFDQSxDQUFDQSxJQUFJQSxDQUFDQSxLQUFLQSxDQUFDQSxJQUFJQSxDQUFDQSxZQUFZQSxFQUFFQSxFQUFDQSxVQUFVQSxFQUFFQSxLQUFLQSxFQUFDQSxDQUFDQSxDQUFDQTtnQkFDakVBLEVBQUVBLENBQUNBLENBQUNBLEtBQUtBLENBQUNBLENBQUNBLENBQUNBO29CQUNSQSxXQUFXQSxDQUFDQSxJQUFJQSxDQUFDQSxLQUFLQSxDQUFDQSxDQUFDQTtnQkFDNUJBLENBQUNBO1lBQ0xBLENBQUNBLENBQUNBLENBQUNBO1lBRUhBLEFBQ0FBLGdEQURnREE7Z0JBQzVDQSxVQUFVQSxHQUFHQSxlQUFlQSxDQUFDQSxrQkFBa0JBLENBQUNBLFdBQVdBLEVBQUVBLFFBQVFBLENBQUNBLENBQUNBO1lBRTNFQSxJQUFJQSxRQUFRQSxHQUFHQSxFQUFDQSxlQUFlQSxFQUFFQSxLQUFLQSxFQUFFQSxVQUFVQSxFQUFFQSxVQUFVQSxFQUFDQSxDQUFDQTtZQUVoRUEsQUFDQUEsZ0RBRGdEQTtnQkFDNUNBLElBQUlBLEdBQUdBLENBQUNBLENBQUNBLE1BQU1BLENBQUNBLEVBQUVBLEVBQUVBLFFBQVFBLEVBQUVBLE9BQU9BLENBQUNBLENBQUNBO1lBRTNDQSxhQUFhQSxDQUFDQSxjQUFjQSxDQUFDQSxLQUFLQSxFQUFFQSxRQUFRQSxFQUFFQSxJQUFJQSxDQUFDQSxDQUM5Q0EsSUFBSUEsQ0FBRUEsVUFBQ0EsZUFBZUE7Z0JBQ25CQSxRQUFRQSxDQUFDQSxPQUFPQSxDQUFDQSxlQUFlQSxDQUFDQSxDQUFDQTtnQkFDbENBLEFBQ0FBLHdDQUR3Q0E7Z0JBQ3hDQSxnQkFBZ0JBLENBQUNBLGNBQWNBLENBQUNBLEtBQUtBLEVBQUVBLFFBQVFBLEVBQUVBLGVBQWVBLENBQUNBLEVBQUVBLENBQUNBLENBQUNBO1lBQ3pFQSxDQUFDQSxDQUFDQSxDQUFDQTtZQUVQQSxNQUFNQSxDQUFDQSxRQUFRQSxDQUFDQSxPQUFPQSxDQUFDQTtRQUM1QkEsQ0FBQ0E7UUFFREg7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztXQXFCR0E7UUFDSEEsNkJBQVVBLEdBQVZBLFVBQVlBLE9BQThCQTtZQUN0Q0ksSUFBSUEsUUFBUUEsR0FBR0EsSUFBSUEsQ0FBQ0E7WUFDcEJBLElBQUlBLEtBQUtBLEdBQUdBLFFBQVFBLENBQUNBLFFBQVFBLEVBQUVBLENBQUNBO1lBQ2hDQSxJQUFJQSxRQUFRQSxHQUFHQSxFQUFFQSxDQUFDQSxLQUFLQSxFQUFFQSxDQUFDQTtZQUUxQkEsYUFBYUEsQ0FBQ0EsY0FBY0EsQ0FBQ0EsS0FBS0EsRUFBRUEsUUFBUUEsRUFBRUEsT0FBT0EsQ0FBQ0EsQ0FBQ0EsSUFBSUEsQ0FBRUEsVUFBQ0EsUUFBUUE7Z0JBQ2xFQSxRQUFRQSxDQUFDQSxPQUFPQSxDQUFDQSxRQUFRQSxDQUFDQSxDQUFDQTtnQkFDM0JBLEFBQ0FBLHdDQUR3Q0E7Z0JBQ3hDQSxnQkFBZ0JBLENBQUNBLGNBQWNBLENBQUNBLEtBQUtBLEVBQUVBLFFBQVFBLEVBQUVBLFFBQVFBLENBQUNBLEVBQUVBLENBQUNBLENBQUNBO1lBQ2xFQSxDQUFDQSxDQUFDQSxDQUFDQTtZQUVIQSxNQUFNQSxDQUFDQSxRQUFRQSxDQUFDQSxPQUFPQSxDQUFDQTtRQUM1QkEsQ0FBQ0E7UUFHREo7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O1dBdUJHQTtRQUNIQSxxQ0FBa0JBLEdBQWxCQSxVQUFvQkEsU0FBaUJBLEVBQUVBLFFBQWlCQTtZQUNwREssSUFBSUEsUUFBUUEsR0FBR0EsSUFBSUEsQ0FBQ0E7WUFDcEJBLElBQUlBLGVBQWVBLENBQUNBO1lBQ3BCQSxFQUFFQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQSxXQUFXQSxDQUFDQSxTQUFTQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQTtnQkFDM0JBLE1BQU1BLElBQUlBLEtBQUtBLENBQUNBLDJCQUEyQkEsQ0FBQ0EsQ0FBQ0E7WUFDakRBLENBQUNBO1lBQUNBLElBQUlBLENBQUNBLEVBQUVBLENBQUNBLENBQUNBLENBQUNBLENBQUNBLE9BQU9BLENBQUNBLFFBQVFBLENBQUNBLFNBQVNBLENBQUNBLENBQUNBLENBQUNBLENBQUNBLENBQUNBO2dCQUN4Q0EsZUFBZUEsR0FBR0EsRUFBRUEsQ0FBQ0E7WUFDekJBLENBQUNBO1lBQUNBLElBQUlBLENBQUNBLENBQUNBO2dCQUNKQSxJQUFJQSxLQUFLQSxHQUFHQSxRQUFRQSxDQUFDQSxRQUFRQSxFQUFFQSxDQUFDQTtnQkFDaENBLElBQUlBLGVBQWVBLEdBQUdBLEtBQUtBLENBQUNBLGtCQUFrQkEsQ0FBQ0EsU0FBU0EsQ0FBQ0EsQ0FBQ0E7Z0JBQzFEQSxBQUVBQTtvREFEb0NBO2dCQUNwQ0EsRUFBRUEsQ0FBQ0EsQ0FBQ0EsZUFBZUEsSUFBSUEsZUFBZUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7b0JBQzFDQSxJQUFJQSxRQUFRQSxHQUFHQSxRQUFRQSxJQUFJQSxRQUFRQSxDQUFDQSxTQUFTQSxDQUFDQSxDQUFDQSxRQUFRQSxDQUFDQTtvQkFDeERBLGVBQWVBLEdBQUdBLGNBQWNBLENBQUNBLGVBQWVBLENBQUNBLGVBQWVBLENBQUNBLElBQUlBLEVBQUVBLFFBQVFBLENBQUNBLENBQUNBO2dCQUNyRkEsQ0FBQ0E7Z0JBQUNBLElBQUlBLENBQUNBLENBQUNBO29CQUNKQSxNQUFNQSxJQUFJQSxLQUFLQSxDQUFDQSxnRkFBZ0ZBLEdBQzVGQSxzQ0FBc0NBLENBQUNBLENBQUNBO2dCQUNoREEsQ0FBQ0E7WUFDTEEsQ0FBQ0E7WUFDREEsTUFBTUEsQ0FBQ0EsZUFBZUEsQ0FBQ0E7UUFDM0JBLENBQUNBO1FBRURMOzs7Ozs7Ozs7O1dBVUdBO1FBQ0hBLG9DQUFpQkEsR0FBakJBLFVBQW1CQSxTQUFpQkEsRUFBRUEsT0FBZ0JBO1lBQ2xETSxJQUFJQSxRQUFRQSxHQUFHQSxJQUFJQSxDQUFDQTtZQUNwQkEsSUFBSUEsZUFBZUEsR0FBR0EsUUFBUUEsQ0FBQ0Esa0JBQWtCQSxDQUFDQSxTQUFTQSxDQUFDQSxDQUFDQTtZQUM3REEsRUFBRUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsZUFBZUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7Z0JBQ25CQSxNQUFNQSx1Q0FBdUNBLEdBQUdBLFNBQVNBLEdBQUdBLGlCQUFpQkEsQ0FBQ0E7WUFDbEZBLENBQUNBO1lBQ0RBLE1BQU1BLENBQUNBLDRCQUE0QkEsQ0FDOUJBLHNCQUFzQkEsQ0FBQ0EsUUFBUUEsQ0FBQ0EsU0FBU0EsQ0FBQ0EsRUFBRUEsZUFBZUEsQ0FBQ0EsVUFBVUEsRUFBRUEsT0FBT0EsQ0FBQ0EsQ0FBQ0E7UUFDMUZBLENBQUNBO1FBRUROOzs7Ozs7Ozs7V0FTR0E7UUFDSEEsaUNBQWNBLEdBQWRBLFVBQWdCQSxPQUFnQkE7WUFDNUJPLElBQUlBLFFBQVFBLEdBQUdBLElBQUlBLEVBQ2ZBLEtBQUtBLEdBQUdBLFFBQVFBLENBQUNBLFFBQVFBLEVBQUVBLENBQUNBO1lBQ2hDQSxNQUFNQSxDQUFDQSxLQUFLQSxDQUFDQSxjQUFjQSxDQUFDQSxRQUFRQSxFQUFFQSxPQUFPQSxDQUFDQSxDQUFDQTtRQUNuREEsQ0FBQ0E7UUFFRFA7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztXQXFCR0E7UUFDSEEscUNBQWtCQSxHQUFsQkEsVUFBb0JBLFNBQWlCQTtZQUNqQ1EsSUFBSUEsUUFBUUEsR0FBR0EsSUFBSUEsQ0FBQ0E7WUFDcEJBLE1BQU1BLENBQUNBLFFBQVFBLENBQUNBLFFBQVFBLEVBQUVBLENBQUNBLGtCQUFrQkEsQ0FBQ0EsU0FBU0EsQ0FBQ0EsQ0FBQ0E7UUFDN0RBLENBQUNBO1FBRURSOzs7Ozs7Ozs7Ozs7V0FZR0E7UUFDSEEsZ0NBQWFBLEdBQWJBLFVBQWVBLFNBQWlCQTtZQUM1QlMsSUFBSUEsUUFBUUEsR0FBR0EsSUFBSUEsQ0FBQ0E7WUFDcEJBLElBQUlBLGVBQWVBLEdBQUdBLFFBQVFBLENBQUNBLGtCQUFrQkEsQ0FBQ0EsU0FBU0EsQ0FBQ0EsQ0FBQ0E7WUFDN0RBLE1BQU1BLENBQUNBLGVBQWVBLENBQUNBLEtBQUtBLElBQUlBLGVBQWVBLENBQUNBLFdBQVdBLElBQUlBLGVBQWVBLENBQUNBLFdBQVdBLENBQUNBO1FBQy9GQSxDQUFDQTtRQUVEVDs7Ozs7Ozs7Ozs7V0FXR0E7UUFDSEEsc0NBQW1CQSxHQUFuQkEsVUFBb0JBLFNBQWlCQTtZQUNqQ1UsSUFBSUEsUUFBUUEsR0FBR0EsSUFBSUEsQ0FBQ0E7WUFDcEJBLElBQUlBLGVBQWVBLEdBQUdBLFFBQVFBLENBQUNBLGtCQUFrQkEsQ0FBQ0EsU0FBU0EsQ0FBQ0EsQ0FBQ0E7WUFDN0RBLE1BQU1BLENBQUNBLGVBQWVBLENBQUNBLFdBQVdBLElBQUlBLGVBQWVBLENBQUNBLFdBQVdBLElBQUlBLEVBQUVBLENBQUNBO1FBQzVFQSxDQUFDQTtRQUVEVjs7Ozs7Ozs7Ozs7O1dBWUdBO1FBQ0hBLGtDQUFlQSxHQUFmQSxVQUFnQkEsU0FBaUJBO1lBQzdCVyxJQUFJQSxRQUFRQSxHQUFHQSxJQUFJQSxDQUFDQTtZQUNwQkEsSUFBSUEsZUFBZUEsR0FBR0EsUUFBUUEsQ0FBQ0Esa0JBQWtCQSxDQUFDQSxTQUFTQSxDQUFDQSxDQUFDQTtZQUM3REEsTUFBTUEsQ0FBQ0EsZUFBZUEsQ0FBQ0EsT0FBT0EsSUFBSUEsZUFBZUEsQ0FBQ0EsT0FBT0EsSUFBSUEsRUFBRUEsQ0FBQ0E7UUFDcEVBLENBQUNBO1FBR0RYOzs7Ozs7O1dBT0dBO1FBQ0hBLHdDQUFxQkEsR0FBckJBO1lBQ0lZLElBQUlBLFFBQVFBLEdBQUdBLElBQUlBLENBQUNBO1lBQ3BCQSxNQUFNQSxDQUFDQSxhQUFhQSxDQUFDQSxxQkFBcUJBLENBQUNBLFFBQVFBLENBQUNBLE9BQU9BLENBQUNBLFdBQVdBLENBQUNBLENBQUNBO1FBQzdFQSxDQUFDQTtRQUVEWjs7Ozs7OztXQU9HQTtRQUNIQSw0QkFBU0EsR0FBVEE7WUFDSWEsSUFBSUEsS0FBS0EsR0FBR0EsSUFBSUEsQ0FBQ0EsUUFBUUEsRUFBRUEsQ0FBQ0E7WUFDNUJBLE1BQU1BLENBQUNBLEtBQUtBLENBQUNBLFNBQVNBLEVBQUVBLENBQUNBO1FBQzdCQSxDQUFDQTtRQUVEYjs7Ozs7O1dBTUdBO1FBQ0hBLDBCQUFPQSxHQUFQQTtZQUNJYyxJQUFJQSxLQUFLQSxHQUFXQSxJQUFJQSxDQUFDQSxRQUFRQSxFQUFFQSxDQUFDQTtZQUNwQ0EsTUFBTUEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsT0FBT0EsRUFBRUEsQ0FBQ0E7UUFDM0JBLENBQUNBO1FBRURkOzs7Ozs7Ozs7O1dBVUdBO1FBQ0hBLGdDQUFhQSxHQUFiQSxVQUFjQSxPQUE2QkE7WUFDdkNlLElBQUlBLFFBQVFBLEdBQUdBLElBQUlBLEVBQ2ZBLFFBQVFBLEdBQUdBLEVBQUVBLENBQUNBLEtBQUtBLEVBQUVBLENBQUNBO1lBRTFCQSxBQUNBQSxzQ0FEc0NBO1lBQ3RDQSxPQUFPQSxDQUFDQSxPQUFPQSxHQUFHQSxRQUFRQSxDQUFDQSxPQUFPQSxDQUFDQSxXQUFXQSxDQUFDQTtZQUUvQ0EsRUFBRUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsT0FBT0EsQ0FBQ0EsVUFBVUEsSUFBSUEsQ0FBQ0EsT0FBT0EsQ0FBQ0EsWUFBWUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7Z0JBQy9DQSxNQUFNQSx5RUFBeUVBLENBQUNBO1lBQ3BGQSxDQUFDQTtZQUFDQSxJQUFJQSxDQUFDQSxFQUFFQSxDQUFDQSxDQUFDQSxPQUFPQSxDQUFDQSxVQUFVQSxDQUFDQSxDQUFDQSxDQUFDQTtnQkFDNUJBLEFBQ0FBLHlFQUR5RUE7Z0JBQ3pFQSxlQUFlQSxFQUFFQSxDQUFDQTtZQUN0QkEsQ0FBQ0E7WUFBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0E7Z0JBQ0pBLEFBQ0FBLDhEQUQ4REE7Z0JBQzlEQSxRQUFRQSxDQUFDQSxxQkFBcUJBLEVBQUVBLENBQzNCQSxJQUFJQSxDQUFFQSxVQUFDQSxTQUFTQTtvQkFDYkEsSUFBSUEsYUFBYUEsR0FBR0EsQ0FBQ0EsQ0FBQ0EsU0FBU0EsQ0FBQ0EsU0FBU0EsRUFBRUEsRUFBQ0EsSUFBSUEsRUFBRUEsT0FBT0EsQ0FBQ0EsWUFBWUEsRUFBQ0EsQ0FBQ0EsQ0FBQ0E7b0JBQ3pFQSxFQUFFQSxDQUFDQSxDQUFDQSxDQUFDQSxhQUFhQSxDQUFDQSxDQUFDQSxDQUFDQTt3QkFDakJBLE1BQU1BLG1EQUFtREEsQ0FBQ0E7b0JBQzlEQSxDQUFDQTtvQkFDREEsQUFDQUEsK0VBRCtFQTtvQkFDL0VBLE9BQU9BLENBQUNBLFVBQVVBLEdBQUdBLGFBQWFBLENBQUNBLFVBQVVBLENBQUNBO29CQUM5Q0EsZUFBZUEsRUFBRUEsQ0FBQ0E7Z0JBQ3RCQSxDQUFDQSxDQUFDQSxDQUFDQTtZQUNYQSxDQUFDQTtZQUVEQSxNQUFNQSxDQUFDQSxRQUFRQSxDQUFDQSxPQUFPQSxDQUFDQTtZQUV4QkEsU0FBU0EsZUFBZUE7Z0JBQ3BCQyxhQUFhQSxDQUFDQSxhQUFhQSxDQUFDQSxPQUFPQSxDQUFDQSxDQUMvQkEsSUFBSUEsQ0FBRUEsVUFBQ0EsV0FBV0E7b0JBQ2ZBLFFBQVFBLENBQUNBLE9BQU9BLENBQUNBLFdBQVdBLENBQUNBLENBQUNBO2dCQUNsQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7WUFDWEEsQ0FBQ0E7UUFDTEQsQ0FBQ0E7UUFHRGY7Ozs7Ozs7Ozs7Ozs7Ozs7O1dBaUJHQTtRQUNIQSwwQ0FBdUJBLEdBQXZCQTtZQUNJaUIsSUFBSUEsUUFBUUEsR0FBR0EsSUFBSUEsQ0FBQ0E7WUFDcEJBLE1BQU1BLENBQUNBLGFBQWFBLENBQUNBLGFBQWFBLENBQUNBO2dCQUMvQkEsU0FBU0EsRUFBRUEseUJBQXlCQTtnQkFDcENBLFFBQVFBLEVBQUVBLFFBQVFBLENBQUNBLFFBQVFBLEVBQUVBLENBQUNBLElBQUlBLENBQUNBLFNBQVNBLEVBQUVBO2dCQUM5Q0EsTUFBTUEsRUFBRUEsUUFBUUEsQ0FBQ0EsUUFBUUEsRUFBRUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsTUFBTUE7Z0JBQ3ZDQSxFQUFFQSxFQUFFQSxRQUFRQSxDQUFDQSxFQUFFQTtnQkFDZkEsVUFBVUEsRUFBRUEsWUFBWUE7YUFDM0JBLENBQUNBLENBQUNBO1FBQ1BBLENBQUNBO1FBRURqQjs7Ozs7Ozs7Ozs7Ozs7Ozs7OztXQW1CR0E7UUFDSEEsbUNBQWdCQSxHQUFoQkEsVUFBaUJBLEdBQVdBO1lBQ3hCa0IsSUFBSUEsUUFBUUEsR0FBR0EsSUFBSUEsQ0FBQ0E7WUFDcEJBLE1BQU1BLENBQUNBLGFBQWFBLENBQUNBLGdCQUFnQkEsQ0FBQ0E7Z0JBQ2xDQSxVQUFVQSxFQUFFQSxRQUFRQSxDQUFDQSxFQUFFQTtnQkFDdkJBLEdBQUdBLEVBQUVBLEdBQUdBO2dCQUNSQSxRQUFRQSxFQUFFQSxRQUFRQSxDQUFDQSxRQUFRQSxFQUFFQSxDQUFDQSxJQUFJQSxDQUFDQSxTQUFTQSxFQUFFQTthQUNqREEsQ0FBQ0EsQ0FBQ0E7UUFDUEEsQ0FBQ0E7UUFFRGxCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7V0FzREdBO1FBQ0hBLHFDQUFrQkEsR0FBbEJBO1lBQ0ltQixNQUFNQSxDQUFDQSxnQkFBZ0JBLENBQUNBLGtCQUFrQkEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsUUFBUUEsQ0FBQ0EsQ0FBQ0E7UUFDOURBLENBQUNBO1FBR0RuQjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztXQXNCR0E7UUFDSEEseUNBQXNCQSxHQUF0QkEsVUFBdUJBLFVBQW9CQTtZQUN2Q29CLElBQUlBLFFBQVFBLEdBQUdBLEVBQUVBLENBQUNBLEtBQUtBLEVBQUVBLENBQUNBO1lBQzFCQSxJQUFJQSxZQUFZQSxHQUFHQSxFQUFFQSxDQUFDQTtZQUN0QkEsSUFBSUEsUUFBUUEsR0FBR0EsSUFBSUEsQ0FBQ0E7WUFDcEJBLElBQUlBLEtBQUtBLEdBQUdBLFFBQVFBLENBQUNBLFFBQVFBLEVBQUVBLENBQUNBO1lBRWhDQSxBQUNBQSx3REFEd0RBO2dCQUNwREEsYUFBYUEsR0FBR0EsVUFBQ0EsU0FBU0E7Z0JBRTFCQSxJQUFJQSxlQUFlQSxHQUFHQSxDQUFDQSxDQUFDQSxJQUFJQSxDQUFDQSxLQUFLQSxDQUFDQSxJQUFJQSxDQUFDQSxNQUFNQSxFQUFFQSxFQUFDQSxVQUFVQSxFQUFFQSxTQUFTQSxFQUFDQSxDQUFDQSxDQUFDQTtnQkFFekVBLElBQUlBLE9BQU9BLEdBQUdBO29CQUNWQSxTQUFTQSxFQUFFQSxzQkFBc0JBO29CQUNqQ0EsU0FBU0EsRUFBRUEsS0FBS0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsU0FBU0EsRUFBRUE7b0JBQ2pDQSxhQUFhQSxFQUFFQSxRQUFRQSxDQUFDQSxFQUFFQTtvQkFDMUJBLFlBQVlBLEVBQUVBLGVBQWVBLENBQUNBLFVBQVVBO29CQUN4Q0EsTUFBTUEsRUFBRUEsU0FBU0E7aUJBQ3BCQSxDQUFDQTtnQkFFRkEsQUFDQUEscUdBRHFHQTtnQkFDckdBLEVBQUVBLENBQUNBLENBQUNBLFFBQVFBLENBQUNBLFVBQVVBLENBQUNBLENBQUNBLENBQUNBO29CQUN0QkEsT0FBT0EsQ0FBQ0EsTUFBTUEsR0FBR0EsUUFBUUEsQ0FBQ0EsVUFBVUEsQ0FBQ0E7Z0JBQ3pDQSxDQUFDQTtnQkFFREEsWUFBWUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsYUFBYUEsQ0FBQ0Esc0JBQXNCQSxDQUFDQSxPQUFPQSxFQUFFQSxlQUFlQSxDQUFDQSxDQUFDQSxDQUFDQTtZQUN0RkEsQ0FBQ0EsQ0FBQ0E7WUFFRkEsRUFBRUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsVUFBVUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7Z0JBQ2RBLEFBQ0FBLHNGQURzRkE7b0JBQ2xGQSxZQUFZQSxHQUFHQSxDQUFDQSxDQUFDQSxLQUFLQSxDQUFDQSxLQUFLQSxDQUFDQSxJQUFJQSxDQUFDQSxNQUFNQSxFQUFFQSxFQUFDQSxRQUFRQSxFQUFFQSxLQUFLQSxFQUFDQSxDQUFDQSxDQUFDQTtnQkFDakVBLFVBQVVBLEdBQUdBLEVBQUVBLENBQUNBO2dCQUNoQkEsQ0FBQ0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsWUFBWUEsRUFBRUEsVUFBQ0EsS0FBS0E7b0JBQ3ZCQSxVQUFVQSxDQUFDQSxJQUFJQSxDQUFDQSxLQUFLQSxDQUFDQSxVQUFVQSxDQUFDQSxDQUFDQTtnQkFDdENBLENBQUNBLENBQUNBLENBQUNBO1lBQ1BBLENBQUNBO1lBQUNBLElBQUlBLENBQUNBLEVBQUVBLENBQUNBLENBQUNBLENBQUNBLENBQUNBLFFBQVFBLENBQUNBLFVBQVVBLENBQUNBLENBQUNBLENBQUNBLENBQUNBO2dCQUNoQ0EsQUFDQUEsOEZBRDhGQTtnQkFDOUZBLFVBQVVBLEdBQUdBLENBQUNBLFVBQVVBLENBQUNBLENBQUNBO1lBQzlCQSxDQUFDQTtZQUVEQSxBQUNBQSx1Q0FEdUNBO1lBQ3ZDQSxDQUFDQSxDQUFDQSxJQUFJQSxDQUFDQSxVQUFVQSxFQUFFQSxVQUFDQSxTQUFTQTtnQkFDekJBLGFBQWFBLENBQUNBLFNBQVNBLENBQUNBLENBQUNBO1lBQzdCQSxDQUFDQSxDQUFDQSxDQUFDQTtZQUVIQSxBQUNBQSw0Q0FENENBO1lBQzVDQSxFQUFFQSxDQUFDQSxHQUFHQSxDQUFDQSxZQUFZQSxDQUFDQSxDQUFDQSxJQUFJQSxDQUFFQSxVQUFDQSxPQUFPQTtnQkFDL0JBLElBQUlBLGNBQWNBLEdBQUdBLEVBQUVBLENBQUNBO2dCQUV4QkEsQUFDQUEseURBRHlEQTtnQkFDekRBLENBQUNBLENBQUNBLElBQUlBLENBQUNBLE9BQU9BLEVBQUVBLFVBQUNBLGFBQWFBO29CQUUxQkEsQ0FBQ0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsYUFBYUEsRUFBRUEsVUFBQ0EsWUFBWUE7d0JBQy9CQSxjQUFjQSxDQUFDQSxZQUFZQSxDQUFDQSxRQUFRQSxDQUFDQSxNQUFNQSxFQUFFQSxDQUFDQSxHQUMxQ0EsY0FBY0EsQ0FBQ0EsWUFBWUEsQ0FBQ0EsUUFBUUEsQ0FBQ0EsTUFBTUEsRUFBRUEsQ0FBQ0EsSUFBSUEsRUFBRUEsQ0FBQ0E7d0JBRXpEQSxBQUNBQSx3REFEd0RBO3dCQUN4REEsQ0FBQ0EsQ0FBQ0EsTUFBTUEsQ0FBQ0EsY0FBY0EsQ0FBQ0EsWUFBWUEsQ0FBQ0EsUUFBUUEsQ0FBQ0EsTUFBTUEsRUFBRUEsQ0FBQ0EsRUFBRUEsWUFBWUEsQ0FBQ0EsQ0FBQ0E7b0JBQzNFQSxDQUFDQSxDQUFDQSxDQUFDQTtnQkFDUEEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7Z0JBRUhBLElBQUlBLFlBQVlBLEdBQUdBLEVBQUVBLENBQUNBO2dCQUN0QkEsQUFDQUEsMEVBRDBFQTtnQkFDMUVBLENBQUNBLENBQUNBLElBQUlBLENBQUNBLGNBQWNBLEVBQUVBLFVBQUNBLEdBQUdBLEVBQUVBLEdBQUdBO29CQUM1QkEsR0FBR0EsQ0FBQ0EsT0FBT0EsR0FBR0EsR0FBR0EsQ0FBQ0E7b0JBQ2xCQSxZQUFZQSxDQUFDQSxJQUFJQSxDQUFDQSxHQUFHQSxDQUFDQSxDQUFDQTtnQkFDM0JBLENBQUNBLENBQUNBLENBQUNBO2dCQUVIQSxRQUFRQSxDQUFDQSxPQUFPQSxDQUFDQSxZQUFZQSxDQUFDQSxDQUFDQTtZQUNuQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7WUFFSEEsTUFBTUEsQ0FBQ0EsUUFBUUEsQ0FBQ0EsT0FBT0EsQ0FBQ0E7UUFDNUJBLENBQUNBO1FBQ0xwQixlQUFDQTtJQUFEQSxDQXpuQkFwQyxBQXluQkNvQyxJQUFBcEM7SUF6bkJZQSxXQUFRQSxHQUFSQSxRQXluQlpBLENBQUFBO0lBR0RBLEFBRUFBO21FQUQrREE7UUFDbERBLGdCQUFnQkE7UUFDekJ5RCxTQURTQSxnQkFBZ0JBLENBQ2JBLEdBQVlBO1lBQ3BCQyxDQUFDQSxDQUFDQSxNQUFNQSxDQUFDQSxJQUFJQSxFQUFFQSxHQUFHQSxDQUFDQSxDQUFDQTtRQUN4QkEsQ0FBQ0E7UUFDTEQsdUJBQUNBO0lBQURBLENBSkF6RCxBQUlDeUQsSUFBQXpEO0lBSllBLG1CQUFnQkEsR0FBaEJBLGdCQUlaQSxDQUFBQTtJQUVEQSxBQWFBQTs7Ozs7Ozs7Ozs7T0FGR0E7UUFFVUEsZUFBZUE7UUFFeEIyRCxTQUZTQSxlQUFlQSxDQUVaQSxTQUFTQTtZQURyQkMsYUFBUUEsR0FBR0EsUUFBUUEsQ0FBQ0E7WUFFaEJBLEVBQUVBLEdBQUdBLFNBQVNBLENBQUNBLEdBQUdBLENBQUNBLElBQUlBLENBQUNBLENBQUNBO1lBQ3pCQSxjQUFjQSxHQUFHQSxTQUFTQSxDQUFDQSxHQUFHQSxDQUFDQSxnQkFBZ0JBLENBQUNBLENBQUNBO1lBQ2pEQSxRQUFRQSxHQUFHQSxTQUFTQSxDQUFDQSxHQUFHQSxDQUFDQSxVQUFVQSxDQUFDQSxDQUFDQTtZQUNyQ0EsYUFBYUEsR0FBR0EsU0FBU0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsZUFBZUEsQ0FBQ0EsQ0FBQ0E7WUFDL0NBLGVBQWVBLEdBQUdBLFNBQVNBLENBQUNBLEdBQUdBLENBQUNBLGlCQUFpQkEsQ0FBQ0EsQ0FBQ0E7WUFDbkRBLDRCQUE0QkEsR0FBR0EsU0FBU0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsOEJBQThCQSxDQUFDQSxDQUFDQTtZQUM3RUEsZ0JBQWdCQSxHQUFHQSxTQUFTQSxDQUFDQSxHQUFHQSxDQUFDQSxrQkFBa0JBLENBQUNBLENBQUNBO1lBQ3JEQSxNQUFNQSxHQUFHQSxTQUFTQSxDQUFDQSxHQUFHQSxDQUFDQSxRQUFRQSxDQUFDQSxDQUFDQTtRQUNyQ0EsQ0FBQ0E7UUFFREQ7Ozs7OztXQU1HQTtRQUNIQSxnQ0FBTUEsR0FBTkE7WUFDSUUsTUFBTUEsQ0FBQ0EsSUFBSUEsUUFBUUEsRUFBRUEsQ0FBQ0E7UUFDMUJBLENBQUNBO1FBRURGOzs7Ozs7O1dBT0dBO1FBQ0hBLDhDQUFvQkEsR0FBcEJBO1lBQ0lHLE1BQU1BLENBQUNBLElBQUlBLGdCQUFnQkEsRUFBRUEsQ0FBQ0E7UUFDbENBLENBQUNBO1FBRUxILHNCQUFDQTtJQUFEQSxDQXBDQTNELEFBb0NDMkQsSUFBQTNEO0lBcENZQSxrQkFBZUEsR0FBZkEsZUFvQ1pBLENBQUFBO0lBRURBLE9BQU9BLENBQ0ZBLE1BQU1BLENBQUNBLGNBQWNBLENBQUNBLENBQ3RCQSxPQUFPQSxDQUFDQSxtQkFBbUJBLEVBQUVBLGVBQWVBLENBQUNBLENBQUNBO0FBQ3ZEQSxDQUFDQSxFQTd1Qk0sRUFBRSxLQUFGLEVBQUUsUUE2dUJSOztBQy91QkQsOENBQThDO0FBRTlDLElBQU8sRUFBRSxDQWlFUjtBQWpFRCxXQUFPLEVBQUUsRUFBQyxDQUFDO0lBQ1BBLFlBQVlBLENBQUNBO0lBRWJBLElBQUlBLEVBQUVBLEVBQUVBLGdCQUFnQkEsQ0FBQ0E7SUFPekJBLEFBWUFBOzs7Ozs7Ozs7OztPQURHQTtRQUNVQSxNQUFNQTtRQUlmK0QsU0FKU0EsTUFBTUEsQ0FJSEEsQ0FBQ0EsRUFBRUEsT0FBT0E7WUFDbEJDLElBQUlBLE1BQU1BLEdBQUdBLElBQUlBLENBQUNBO1lBQ2xCQSxJQUFJQSxVQUFVQSxHQUFHQSxJQUFJQSxnQkFBZ0JBLENBQUNBLFVBQVVBLENBQUNBLENBQUNBLENBQUNBLENBQUNBO1lBQ3BEQSxNQUFNQSxDQUFDQSxRQUFRQSxHQUFHQSxVQUFVQSxDQUFDQSxFQUFFQSxDQUFDQTtZQUNoQ0EsTUFBTUEsQ0FBQ0EsV0FBV0EsR0FBR0EsVUFBVUEsQ0FBQ0EsS0FBS0EsSUFBSUEsRUFBRUEsQ0FBQ0E7UUFDaERBLENBQUNBO1FBQ0xELGFBQUNBO0lBQURBLENBVkEvRCxBQVVDK0QsSUFBQS9EO0lBVllBLFNBQU1BLEdBQU5BLE1BVVpBLENBQUFBO0lBR0RBLElBQWFBLGFBQWFBO1FBRXRCaUUsU0FGU0EsYUFBYUEsQ0FFVkEsU0FBU0E7WUFEckJDLFdBQU1BLEdBQUdBLE1BQU1BLENBQUNBO1lBRVpBLEVBQUVBLEdBQUdBLFNBQVNBLENBQUNBLEdBQUdBLENBQUNBLElBQUlBLENBQUNBLENBQUNBO1lBQ3pCQSxnQkFBZ0JBLEdBQUdBLFNBQVNBLENBQUNBLEdBQUdBLENBQUNBLGtCQUFrQkEsQ0FBQ0EsQ0FBQ0E7UUFDekRBLENBQUNBO1FBRUREOzs7Ozs7V0FNR0E7UUFDSEEsOEJBQU1BLEdBQU5BLFVBQU9BLENBQUNBLEVBQUVBLE9BQU9BO1lBQ2JFLE1BQU1BLENBQUNBLElBQUlBLE1BQU1BLENBQUNBLENBQUNBLEVBQUVBLE9BQU9BLENBQUNBLENBQUNBO1FBQ2xDQSxDQUFDQTtRQUNMRixvQkFBQ0E7SUFBREEsQ0FqQkFqRSxBQWlCQ2lFLElBQUFqRTtJQWpCWUEsZ0JBQWFBLEdBQWJBLGFBaUJaQSxDQUFBQTtJQUVEQSxBQU9BQTs7Ozs7O09BREdBO0lBQ0hBLE9BQU9BLENBQUNBLE1BQU1BLENBQUNBLGNBQWNBLENBQUNBLENBQ3pCQSxPQUFPQSxDQUFDQSxpQkFBaUJBLEVBQUVBLGFBQWFBLENBQUNBLENBQUNBO0FBR25EQSxDQUFDQSxFQWpFTSxFQUFFLEtBQUYsRUFBRSxRQWlFUjs7QUNuRUQsOENBQThDO0FBRTlDLElBQU8sRUFBRSxDQTY0QlI7QUE3NEJELFdBQU8sRUFBRSxFQUFDLENBQUM7SUFDUEEsWUFBWUEsQ0FBQ0E7SUFFYkEsSUFBSUEsY0FBY0EsRUFBRUEsYUFBYUEsRUFBRUEsYUFBYUEsRUFBRUEsZUFBZUEsRUFDN0RBLGNBQWNBLEVBQUVBLGdCQUFnQkEsRUFBRUEsY0FBY0EsRUFBRUEsUUFBUUEsRUFDMURBLHFCQUFxQkEsRUFBRUEsZUFBZUEsRUFBRUEsRUFBRUEsRUFBRUEsTUFBTUEsQ0FBQ0E7SUFzSXZEQSxJQUFhQSxLQUFLQTtRQVVkb0UsU0FWU0EsS0FBS0EsQ0FVRkEsTUFBTUE7WUFWdEJDLGlCQWt1QkNBO1lBanVCR0EsU0FBSUEsR0FBR0EsRUFBRUEsQ0FBQ0E7WUFJVkEsNkJBQXdCQSxHQUFZQSxLQUFLQSxDQUFDQTtZQUcxQ0EsWUFBT0EsR0FBcUJBLEVBQUVBLENBQUNBO1lBRzNCQSxJQUFJQSxLQUFLQSxHQUFHQSxJQUFJQSxDQUFDQTtZQUVqQkEsQ0FBQ0EsQ0FBQ0EsTUFBTUEsQ0FBQ0EsS0FBS0EsRUFBRUEsTUFBTUEsQ0FBQ0EsQ0FBQ0E7WUFFeEJBLEtBQUtBLENBQUNBLE9BQU9BLENBQUNBLFNBQVNBLENBQUNBLFFBQVFBLEdBQUdBLGNBQU1BLFlBQUlBLEVBQUpBLENBQUlBLENBQUNBO1lBRTlDQSxBQUNBQSx1Q0FEdUNBO1lBQ3ZDQSxLQUFLQSxDQUFDQSxJQUFJQSxHQUFHQSxhQUFhQSxDQUFDQSxNQUFNQSxDQUFDQSxLQUFLQSxDQUFDQSxJQUFJQSxDQUFDQSxDQUFDQTtZQUU5Q0EsQUFDQUEsdUZBRHVGQTtZQUN2RkEsY0FBY0EsQ0FBQ0EsYUFBYUEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsQ0FBQ0E7WUFFcENBLEFBQ0FBLDBFQUQwRUE7WUFDMUVBLEtBQUtBLENBQUNBLGFBQWFBLENBQUNBO2dCQUNoQkEsSUFBSUEsRUFBRUEsaUJBQWlCQTtnQkFDdkJBLFNBQVNBLEVBQUVBLGNBQWNBO2FBQzVCQSxDQUFDQSxDQUFDQTtRQUdQQSxDQUFDQTtRQUVERDs7Ozs7OztXQU9HQTtRQUNIQSx3QkFBUUEsR0FBUkE7WUFDSUUsTUFBTUEsQ0FBQ0EsSUFBSUEsQ0FBQ0E7UUFDaEJBLENBQUNBO1FBRURGOzs7Ozs7V0FNR0E7UUFDSEEseUJBQVNBLEdBQVRBO1lBQ0lHLE1BQU1BLENBQUNBLElBQUlBLENBQUNBLElBQUlBLENBQUNBLFNBQVNBLEVBQUVBLENBQUNBO1FBQ2pDQSxDQUFDQTtRQUVESDs7Ozs7OztXQU9HQTtRQUNIQSx1QkFBT0EsR0FBUEE7WUFDSUksTUFBTUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsSUFBSUEsQ0FBQ0E7UUFDckJBLENBQUNBO1FBRURKOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O1dBeUJHQTtRQUNIQSwwQkFBVUEsR0FBVkEsVUFBY0EsTUFBY0EsRUFBRUEsT0FBZ0JBO1lBQzFDSyxJQUFJQSxLQUFLQSxHQUFHQSxJQUFJQSxFQUNaQSxRQUFRQSxHQUFHQSxFQUFFQSxDQUFDQSxLQUFLQSxFQUFFQSxDQUFDQTtZQUUxQkEsYUFBYUEsQ0FBQ0EsY0FBY0EsQ0FBQ0EsS0FBS0EsRUFBRUEsTUFBTUEsRUFBRUEsT0FBT0EsQ0FBQ0EsQ0FDL0NBLElBQUlBLENBQUVBLFVBQUNBLFFBQVFBO2dCQUNaQSxRQUFRQSxDQUFDQSxPQUFPQSxDQUFDQSxRQUFRQSxDQUFDQSxDQUFDQTtnQkFDM0JBLEFBQ0FBLHdDQUR3Q0E7Z0JBQ3hDQSxnQkFBZ0JBLENBQUNBLGNBQWNBLENBQUNBLEtBQUtBLEVBQUVBLFFBQVFBLEVBQUVBLFFBQVFBLENBQUNBLEVBQUVBLENBQUNBLENBQUNBO1lBQ2xFQSxDQUFDQSxDQUFDQSxDQUFDQTtZQUNQQSxNQUFNQSxDQUFDQSxRQUFRQSxDQUFDQSxPQUFPQSxDQUFDQTtRQUM1QkEsQ0FBQ0E7UUFFREw7Ozs7Ozs7Ozs7OztXQVlHQTtRQUNIQSwrQkFBZUEsR0FBZkEsVUFBbUJBLFNBQWtCQTtZQUNqQ00sSUFBSUEsS0FBS0EsR0FBR0EsSUFBSUEsQ0FBQ0E7WUFDakJBLElBQUlBLE9BQU9BLEdBQUdBLEVBQUVBLENBQUNBO1lBQ2pCQSxDQUFDQSxDQUFDQSxJQUFJQSxDQUFDQSxLQUFLQSxDQUFDQSxJQUFJQSxDQUFDQSxZQUFZQSxFQUFFQSxVQUFDQSxlQUFlQTtnQkFDNUNBLEFBQ0FBLCtEQUQrREE7Z0JBQy9EQSxFQUFFQSxDQUFDQSxDQUFDQSxDQUFDQSxlQUFlQSxDQUFDQSxRQUFRQSxDQUFDQSxDQUFDQSxDQUFDQTtvQkFDNUJBLEFBQ0FBLHVGQUR1RkE7b0JBQ3ZGQSxPQUFPQSxDQUFDQSxlQUFlQSxDQUFDQSxVQUFVQSxDQUFDQSxHQUFHQSxjQUFjQSxDQUFDQSxzQkFBc0JBLENBQUNBLGVBQWVBLENBQUNBLFVBQVVBLENBQUNBLENBQUNBO2dCQUM1R0EsQ0FBQ0E7WUFDTEEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7WUFDSEEsQUFDQUEsc0VBRHNFQTtnQkFDbEVBLFNBQVNBLEdBQUdBLENBQUNBLENBQUNBLE1BQU1BLENBQUNBLEVBQUVBLEVBQUVBLE9BQU9BLEVBQUVBLFNBQVNBLENBQUNBLENBQUNBO1lBQ2pEQSxNQUFNQSxDQUFDQSxJQUFJQSxLQUFLQSxDQUFDQSxPQUFPQSxDQUFDQSxTQUFTQSxDQUFDQSxDQUFDQTtRQUN4Q0EsQ0FBQ0E7UUFFRE47Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztXQXFCR0E7UUFDSEEsNEJBQVlBLEdBQVpBLFVBQWFBLFNBQWtCQSxFQUFFQSxPQUFnQkE7WUFDN0NPLElBQUlBLEtBQUtBLEdBQUdBLElBQUlBLENBQUNBO1lBQ2pCQSxJQUFJQSxLQUFLQSxHQUFHQSxLQUFLQSxDQUFDQSxRQUFRQSxDQUFDQSxTQUFTQSxDQUFDQSxDQUFDQTtZQUN0Q0EsRUFBRUEsQ0FBQ0EsQ0FBQ0EsS0FBS0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7Z0JBQ1JBLE1BQU1BLENBQUNBLEtBQUtBLENBQUNBLE9BQU9BLENBQUNBLE9BQU9BLENBQUNBLENBQUNBO1lBQ2xDQSxDQUFDQTtRQUNMQSxDQUFDQTtRQUVEUDs7Ozs7Ozs7O1dBU0dBO1FBQ0hBLGtDQUFrQkEsR0FBbEJBLFVBQW1CQSxPQUFnQkE7WUFDL0JRLElBQUlBLEtBQUtBLEdBQUdBLElBQUlBLEVBQ1pBLFFBQVFBLEdBQUdBLEVBQUVBLENBQUNBLEtBQUtBLEVBQUVBLEVBQ3JCQSxRQUFRQSxHQUFHQSxFQUFDQSxRQUFRQSxFQUFFQSxLQUFLQSxDQUFDQSxJQUFJQSxDQUFDQSxTQUFTQSxFQUFFQSxFQUFDQSxDQUFDQTtZQUVsREEsQUFDQUEsNkdBRDZHQTtZQUM3R0EsRUFBRUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsS0FBS0EsQ0FBQ0Esc0JBQXNCQSxDQUFDQSxDQUFDQSxDQUFDQTtnQkFDaENBLEFBQ0FBLG1DQURtQ0E7Z0JBQ25DQSxLQUFLQSxDQUFDQSxzQkFBc0JBLEdBQUdBLFFBQVFBLENBQUNBLE9BQU9BLENBQUNBO2dCQUVoREEsSUFBSUEsSUFBSUEsR0FBR0EsQ0FBQ0EsQ0FBQ0EsTUFBTUEsQ0FBQ0EsRUFBRUEsRUFBRUEsUUFBUUEsRUFBRUEsT0FBT0EsQ0FBQ0EsQ0FBQ0E7Z0JBQzNDQSxhQUFhQSxDQUFDQSxPQUFPQSxDQUFDQSxJQUFJQSxDQUFDQSxDQUN0QkEsSUFBSUEsQ0FBRUEsVUFBQ0EsV0FBV0E7b0JBQ2ZBLGVBQWVBLENBQUNBLGtCQUFrQkEsQ0FBQ0EsS0FBS0EsRUFBRUEsV0FBV0EsQ0FBQ0EsQ0FBQ0E7b0JBQ3ZEQSxRQUFRQSxDQUFDQSxPQUFPQSxDQUFDQSxLQUFLQSxDQUFDQSxDQUFDQTtnQkFDNUJBLENBQUNBLENBQUNBLENBQUNBO1lBQ1hBLENBQUNBO1lBQ0RBLE1BQU1BLENBQUNBLEtBQUtBLENBQUNBLHNCQUFzQkEsQ0FBQ0E7UUFDeENBLENBQUNBO1FBRURSOzs7Ozs7Ozs7Ozs7O1dBYUdBO1FBQ0hBLGdDQUFnQkEsR0FBaEJBLFVBQW9CQSxPQUFnQkE7WUFDaENTLElBQUlBLFFBQVFBLEdBQUdBLEVBQUVBLEVBQ2JBLEtBQUtBLEdBQUdBLElBQUlBLENBQUNBO1lBRWpCQSxJQUFJQSxRQUFRQSxHQUFHQTtnQkFDWEEsUUFBUUEsRUFBRUEsRUFBRUE7Z0JBQ1pBLFdBQVdBLEVBQUVBLEtBQUtBO2dCQUNsQkEsZUFBZUEsRUFBRUEsVUFBVUE7YUFDOUJBLENBQUNBO1lBRUZBLEFBQ0FBLGdEQURnREE7Z0JBQzVDQSxJQUFJQSxHQUFHQSxDQUFDQSxDQUFDQSxNQUFNQSxDQUFDQSxFQUFFQSxFQUFFQSxRQUFRQSxFQUFFQSxPQUFPQSxDQUFDQSxDQUFDQTtZQUUzQ0EsQ0FBQ0EsQ0FBQ0EsS0FBS0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsUUFBUUEsRUFBR0EsVUFBQ0EsS0FBS0E7Z0JBQzFCQSxJQUFJQSxJQUFJQSxHQUFHQTtvQkFDUEEsRUFBRUEsRUFBRUEsS0FBS0EsR0FBR0EsQ0FBQ0E7aUJBQ2hCQSxDQUFDQTtnQkFDRkEsQUFDQUEsd0RBRHdEQTtnQkFDeERBLENBQUNBLENBQUNBLElBQUlBLENBQUNBLEtBQUtBLENBQUNBLElBQUlBLENBQUNBLE1BQU1BLEVBQUVBLFVBQUNBLEtBQWVBO29CQUN0Q0EsSUFBSUEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsVUFBVUEsQ0FBQ0EsR0FBR0EsS0FBS0EsQ0FBQ0EsV0FBV0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0E7Z0JBQ3JEQSxDQUFDQSxDQUFDQSxDQUFDQTtnQkFFSEEsQUFDQUEsd0RBRHdEQTtnQkFDeERBLFFBQVFBLENBQUNBLElBQUlBLENBQUNBLElBQUlBLEtBQUtBLENBQUNBLE9BQU9BLENBQUNBLElBQUlBLENBQUNBLENBQUNBLENBQUNBO1lBQzNDQSxDQUFDQSxDQUFDQSxDQUFDQTtZQUNIQSxNQUFNQSxDQUFDQSxRQUFRQSxDQUFDQTtRQUNwQkEsQ0FBQ0E7UUFFRFQ7Ozs7Ozs7Ozs7Ozs7OztXQWVHQTtRQUNIQSwrQkFBZUEsR0FBZkE7WUFDSVUsSUFBSUEsS0FBS0EsR0FBR0EsSUFBSUEsQ0FBQ0E7WUFDakJBLE1BQU1BLENBQUNBLGFBQWFBLENBQUNBLFlBQVlBLENBQUNBLEtBQUtBLEVBQUVBLEtBQUtBLENBQUNBLE9BQU9BLENBQUNBLGVBQWVBLENBQUNBLENBQUNBO1FBQzVFQSxDQUFDQTtRQUVEVjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O1dBd0JHQTtRQUNIQSx3QkFBUUEsR0FBUkEsVUFBU0EsU0FBa0JBO1lBQ3ZCVyxJQUFJQSxLQUFLQSxHQUFHQSxJQUFJQSxFQUFFQSxLQUFLQSxFQUFFQSxLQUFLQSxDQUFDQTtZQUMvQkEsS0FBS0EsR0FBR0EsS0FBS0EsQ0FBQ0EsUUFBUUEsQ0FBQ0EsU0FBU0EsQ0FBQ0EsQ0FBQ0E7WUFDbENBLEVBQUVBLENBQUNBLENBQUNBLEtBQUtBLElBQUlBLEtBQUtBLENBQUNBLFlBQVlBLENBQUNBLENBQUNBLENBQUNBO2dCQUM5QkEsS0FBS0EsR0FBR0EsS0FBS0EsQ0FBQ0EsWUFBWUEsQ0FBQ0E7WUFDL0JBLENBQUNBO1lBQ0RBLE1BQU1BLENBQUNBLEtBQUtBLENBQUNBO1FBQ2pCQSxDQUFDQTtRQUVEWDs7Ozs7Ozs7V0FRR0E7UUFDSEEsK0JBQWVBLEdBQWZBLFVBQW1CQSxVQUFrQkE7WUFDakNZLElBQUlBLEtBQUtBLEdBQUdBLElBQUlBLENBQUNBO1lBQ2pCQSxNQUFNQSxDQUFDQSxjQUFjQSxDQUFDQSxlQUFlQSxDQUFDQSxLQUFLQSxDQUFDQSxJQUFJQSxDQUFDQSxTQUFTQSxFQUFFQSxFQUFFQSxVQUFVQSxDQUFDQSxDQUFDQTtRQUM5RUEsQ0FBQ0E7UUFFRFo7Ozs7Ozs7V0FPR0E7UUFDSEEsaUNBQWlCQSxHQUFqQkE7WUFDSWEsSUFBSUEsS0FBS0EsR0FBR0EsSUFBSUEsQ0FBQ0E7WUFDakJBLE1BQU1BLENBQUNBLGNBQWNBLENBQUNBLGlCQUFpQkEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsU0FBU0EsRUFBRUEsQ0FBQ0EsQ0FBQ0E7UUFDcEVBLENBQUNBO1FBRURiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztXQW9CR0E7UUFDSEEsa0NBQWtCQSxHQUFsQkEsVUFBbUJBLFNBQWlCQTtZQUNoQ2MsSUFBSUEsS0FBS0EsR0FBR0EsSUFBSUEsQ0FBQ0E7WUFDakJBLE1BQU1BLENBQUNBLENBQUNBLENBQUNBLElBQUlBLENBQUNBLEtBQUtBLENBQUNBLElBQUlBLENBQUNBLE1BQU1BLEVBQUVBLEVBQUNBLFVBQVVBLEVBQUVBLFNBQVNBLEVBQUNBLENBQUNBLENBQUNBO1FBQzlEQSxDQUFDQTtRQUVEZDs7Ozs7Ozs7Ozs7Ozs7Ozs7V0FpQkdBO1FBQ0hBLCtCQUFlQSxHQUFmQSxVQUFtQkEsVUFBa0JBLEVBQUVBLE9BQWdCQTtZQUNuRGUsSUFBSUEsUUFBUUEsR0FBR0EsRUFBRUEsQ0FBQ0EsS0FBS0EsRUFBRUEsRUFDckJBLEtBQUtBLEdBQUdBLElBQUlBLEVBRVpBO1lBREFBLHdCQUF3QkE7WUFDeEJBLFFBQVFBLEdBQUdBLGtCQUFrQkEsR0FBR0EsVUFBVUEsQ0FBQ0E7WUFFL0NBLEFBQ0FBLHVEQUR1REE7WUFDdkRBLEVBQUVBLENBQUNBLENBQUNBLENBQUNBLEtBQUtBLENBQUNBLFFBQVFBLENBQUNBLFFBQVFBLENBQUNBLENBQUNBLENBQUNBLENBQUNBO2dCQUM1QkEsSUFBSUEsUUFBUUEsR0FBR0E7b0JBQ1hBLElBQUlBLEVBQUVBLFFBQVFBO29CQUNkQSxTQUFTQSxFQUFFQSxjQUFjQTtvQkFDekJBLFlBQVlBLEVBQUVBLENBQUNBO29CQUNmQSxTQUFTQSxFQUFFQSxFQUFFQSxHQUNiQSxTQUFTQSxHQUNUQSxVQUFVQSxHQUNWQSxTQUFTQSxHQUNUQSw0QkFBNEJBLEdBQzVCQSw0QkFBNEJBLEdBQUdBLFVBQVVBLEdBQUdBLFVBQVVBLEdBQ3REQSxVQUFVQSxHQUNWQSxXQUFXQSxHQUNYQSxVQUFVQTtpQkFDYkEsQ0FBQ0E7Z0JBQ0ZBLEFBQ0FBLHFDQURxQ0E7b0JBQ2pDQSxJQUFJQSxHQUFHQSxDQUFDQSxDQUFDQSxNQUFNQSxDQUFDQSxFQUFFQSxFQUFFQSxRQUFRQSxFQUFFQSxPQUFPQSxDQUFDQSxDQUFDQTtnQkFDM0NBLEtBQUtBLENBQUNBLGFBQWFBLENBQUNBLElBQUlBLENBQUNBLENBQUNBO1lBQzlCQSxDQUFDQTtZQUVEQSxLQUFLQSxDQUFDQSxZQUFZQSxDQUFDQSxRQUFRQSxDQUFDQSxDQUN2QkEsSUFBSUEsQ0FBRUEsVUFBQ0EsWUFBWUE7Z0JBQ2hCQSxBQUNBQSx5R0FEeUdBO2dCQUN6R0EsUUFBUUEsQ0FBQ0EsT0FBT0EsQ0FBQ0EsWUFBWUEsQ0FBQ0EsS0FBS0EsRUFBRUEsQ0FBQ0EsQ0FBQ0E7WUFDM0NBLENBQUNBLEVBQUVBLFVBQUNBLEdBQUdBO2dCQUNIQSxRQUFRQSxDQUFDQSxNQUFNQSxDQUFDQSxHQUFHQSxDQUFDQSxDQUFDQTtZQUN6QkEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7WUFFUEEsTUFBTUEsQ0FBQ0EsUUFBUUEsQ0FBQ0EsT0FBT0EsQ0FBQ0E7UUFDNUJBLENBQUNBO1FBRURmOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7V0FxQkdBO1FBQ0hBLHdCQUFRQSxHQUFSQSxVQUFTQSxTQUFpQkE7WUFDdEJnQixJQUFJQSxLQUFLQSxHQUFHQSxJQUFJQSxFQUFFQSxLQUFLQSxDQUFDQTtZQUN4QkEsRUFBRUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsUUFBUUEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsT0FBT0EsQ0FBQ0EsU0FBU0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7Z0JBQ3ZDQSxBQUNBQSw2QkFENkJBO2dCQUM3QkEsS0FBS0EsR0FBR0EsS0FBS0EsQ0FBQ0EsT0FBT0EsQ0FBQ0EsU0FBU0EsQ0FBQ0EsQ0FBQ0E7WUFDckNBLENBQUNBO1lBQUNBLElBQUlBLENBQUNBLEVBQUVBLENBQUNBLENBQUNBLENBQUNBLENBQUNBLFFBQVFBLENBQUNBLEtBQUtBLENBQUNBLE9BQU9BLENBQUNBLFFBQVFBLENBQUNBLGdCQUFnQkEsQ0FBQ0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsU0FBU0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7Z0JBQzVFQSxBQUNBQSxtRUFEbUVBO2dCQUNuRUEsS0FBS0EsR0FBR0EsS0FBS0EsQ0FBQ0EsT0FBT0EsQ0FBQ0EsUUFBUUEsQ0FBQ0EsZ0JBQWdCQSxDQUFDQSxDQUFDQTtZQUNyREEsQ0FBQ0E7WUFBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0E7Z0JBQ0pBLEFBQ0FBLGdDQURnQ0E7Z0JBQ2hDQSxLQUFLQSxHQUFHQSxTQUFTQSxDQUFDQTtZQUN0QkEsQ0FBQ0E7WUFDREEsTUFBTUEsQ0FBQ0EsS0FBS0EsQ0FBQ0E7UUFDakJBLENBQUNBO1FBRURoQjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztXQW9ER0E7UUFDSEEsa0NBQWtCQSxHQUFsQkE7WUFDSWlCLElBQUlBLEtBQUtBLEdBQUdBLElBQUlBLENBQUNBO1lBQ2pCQSxFQUFFQSxDQUFDQSxDQUFDQSxLQUFLQSxDQUFDQSxJQUFJQSxJQUFJQSxLQUFLQSxDQUFDQSxJQUFJQSxDQUFDQSxpQkFBaUJBLENBQUNBLENBQUNBLENBQUNBO2dCQUM3Q0EsQUFDQUEsNERBRDREQTtvQkFDeERBLGNBQWNBLEdBQUdBLGdCQUFnQkEsQ0FBQ0Esd0JBQXdCQSxDQUFDQSxLQUFLQSxDQUFDQSxJQUFJQSxDQUFDQSxpQkFBaUJBLENBQUNBLENBQUNBO2dCQUM3RkEsTUFBTUEsQ0FBQ0EsZ0JBQWdCQSxDQUFDQSxrQkFBa0JBLENBQUNBLGNBQWNBLENBQUNBLENBQUNBO1lBQy9EQSxDQUFDQTtZQUFDQSxJQUFJQSxDQUFDQSxDQUFDQTtnQkFDSkEsTUFBTUEsQ0FBQ0EsT0FBT0EsQ0FBQ0EsS0FBS0EsQ0FBQ0EsNEVBQTRFQSxFQUFFQSxLQUFLQSxDQUFDQSxDQUFDQTtnQkFDMUdBLE1BQU1BLENBQUNBLGdCQUFnQkEsQ0FBQ0Esa0JBQWtCQSxDQUFDQSxJQUFJQSxDQUFDQSxDQUFDQTtZQUNyREEsQ0FBQ0E7UUFDTEEsQ0FBQ0E7UUFFRGpCOzs7Ozs7O1dBT0dBO1FBQ0hBLDZCQUFhQSxHQUFiQTtZQUNJa0IsSUFBSUEsS0FBS0EsR0FBR0EsSUFBSUEsQ0FBQ0E7WUFDakJBLE1BQU1BLENBQUNBLENBQUNBLENBQUNBLE1BQU1BLENBQUNBLEtBQUtBLENBQUNBLGdCQUFnQkEsQ0FBQ0EsQ0FBQ0E7UUFDNUNBLENBQUNBO1FBRURsQjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztXQWtJR0E7UUFDSEEsNkJBQWFBLEdBQWJBLFVBQWNBLFlBQThCQTtZQUN4Q21CLElBQUlBLEtBQUtBLEdBQUdBLElBQUlBLENBQUNBO1lBRWpCQSxJQUFJQSxRQUFRQSxHQUFHQTtnQkFDWEEsQUFDQUEsZ0ZBRGdGQTtnQkFDaEZBLElBQUlBLEVBQUVBLFFBQVFBLENBQUNBLGdCQUFnQkE7YUFDbENBLENBQUNBO1lBRUZBLFlBQVlBLEdBQUdBLENBQUNBLENBQUNBLE1BQU1BLENBQUNBLEVBQUVBLEVBQUVBLFFBQVFBLEVBQUVBLFlBQVlBLENBQUNBLENBQUNBO1lBRXBEQSxLQUFLQSxDQUFDQSxPQUFPQSxDQUFDQSxZQUFZQSxDQUFDQSxJQUFJQSxDQUFDQSxHQUFHQSxjQUFjQSxDQUFDQSxNQUFNQSxDQUFDQSxZQUFZQSxFQUFFQSxLQUFLQSxDQUFDQSxDQUFDQTtZQUU5RUEsQUFDQUEscUNBRHFDQTtZQUNyQ0EsTUFBTUEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsT0FBT0EsQ0FBQ0EsWUFBWUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0E7UUFDNUNBLENBQUNBO1FBRURuQjs7Ozs7Ozs7Ozs7O1dBWUdBO1FBQ0hBLDhCQUFjQSxHQUFkQSxVQUFlQSxRQUFtQkEsRUFBRUEsT0FBZ0JBO1lBQ2hEb0IsSUFBSUEsS0FBS0EsR0FBR0EsSUFBSUEsRUFDWkEsS0FBS0EsR0FBR0EsSUFBSUEsQ0FBQ0E7WUFFakJBLElBQUlBLFFBQVFBLEdBQUdBO2dCQUNYQSxLQUFLQSxFQUFFQSxJQUFJQTthQUNkQSxDQUFDQTtZQUVGQSxBQUNBQSxnREFEZ0RBO2dCQUM1Q0EsSUFBSUEsR0FBR0EsQ0FBQ0EsQ0FBQ0EsTUFBTUEsQ0FBQ0EsRUFBRUEsRUFBRUEsUUFBUUEsRUFBRUEsT0FBT0EsQ0FBQ0EsQ0FBQ0E7WUFFM0NBLElBQUlBLFdBQVdBLEdBQUdBLFVBQUNBLFVBQVVBO2dCQUN6QkEsTUFBTUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsUUFBUUEsQ0FBQ0EsVUFBVUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsUUFBUUEsQ0FBQ0EsVUFBVUEsQ0FBQ0EsUUFBUUEsQ0FBQ0EsQ0FBQ0E7WUFDckVBLENBQUNBLENBQUNBO1lBRUZBLENBQUNBLENBQUNBLElBQUlBLENBQUNBLEtBQUtBLENBQUNBLElBQUlBLENBQUNBLFlBQVlBLEVBQUVBLFVBQUNBLGVBQWlDQTtnQkFDOURBLElBQUlBLFVBQVVBLEdBQUdBLFFBQVFBLENBQUNBLGVBQWVBLENBQUNBLFVBQVVBLENBQUNBLENBQUNBO2dCQUN0REEsSUFBSUEsZUFBZUEsR0FBR0EsR0FBR0EsR0FBR0EsZUFBZUEsQ0FBQ0EsVUFBVUEsR0FBR0EsVUFBVUEsQ0FBQ0E7Z0JBQ3BFQSxBQUNBQSxvQ0FEb0NBO2dCQUNwQ0EsRUFBRUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsZUFBZUEsQ0FBQ0EsUUFBUUEsSUFBSUEsZUFBZUEsQ0FBQ0EsUUFBUUEsQ0FBQ0EsSUFBSUEsS0FBS0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7b0JBQ2xFQSxNQUFNQSxDQUFDQSxDQUFDQSxlQUFlQSxDQUFDQSxVQUFVQSxDQUFDQSxDQUFDQSxDQUFDQTt3QkFDakNBLEtBQUtBLFNBQVNBOzRCQUNWQSxLQUFLQSxHQUFHQSxDQUFDQSxDQUFDQSxTQUFTQSxDQUFDQSxVQUFVQSxDQUFDQSxDQUFDQTs0QkFDaENBLEtBQUtBLENBQUNBO3dCQUNWQSxLQUFLQSxVQUFVQTs0QkFDWEEsS0FBS0EsR0FBR0EsQ0FBQ0EsQ0FBQ0EsTUFBTUEsQ0FBQ0EsVUFBVUEsQ0FBQ0EsQ0FBQ0E7NEJBQzdCQSxLQUFLQSxDQUFDQTt3QkFDVkEsS0FBS0EsUUFBUUEsQ0FBQ0E7d0JBQ2RBLEtBQUtBLE1BQU1BOzRCQUNQQSxLQUFLQSxHQUFHQSxXQUFXQSxDQUFDQSxVQUFVQSxDQUFDQSxDQUFDQTs0QkFDaENBLEtBQUtBLENBQUNBO3dCQUNWQSxLQUFLQSxhQUFhQSxDQUFDQTt3QkFDbkJBLEtBQUtBLFdBQVdBOzRCQUNaQSxBQUNBQSxtREFEbURBOzRCQUNuREEsS0FBS0EsR0FBR0EsQ0FBQ0EsQ0FBQ0EsT0FBT0EsQ0FBQ0EsVUFBVUEsQ0FBQ0EsSUFBSUEsVUFBVUEsQ0FBQ0EsTUFBTUEsR0FBR0EsQ0FBQ0EsQ0FBQ0E7NEJBQ3ZEQSxFQUFFQSxDQUFDQSxDQUFDQSxLQUFLQSxDQUFDQSxDQUFDQSxDQUFDQTtnQ0FDUkEsQUFDQUEscUVBRHFFQTtnQ0FDckVBLENBQUNBLENBQUNBLElBQUlBLENBQUNBLFVBQVVBLEVBQUVBLFVBQUNBLFdBQVdBO29DQUMzQkEsRUFBRUEsQ0FBQ0EsQ0FBQ0EsS0FBS0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7d0NBQ1JBLEtBQUtBLEdBQUdBLFdBQVdBLENBQUNBLFdBQVdBLENBQUNBLENBQUNBO29DQUNyQ0EsQ0FBQ0E7b0NBQUNBLElBQUlBLENBQUNBLENBQUNBO3dDQUNKQSxBQUNBQSxvQkFEb0JBO3dDQUNwQkEsTUFBTUEsQ0FBQ0EsS0FBS0EsQ0FBQ0E7b0NBQ2pCQSxDQUFDQTtnQ0FDTEEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7NEJBQ1BBLENBQUNBOzRCQUNEQSxLQUFLQSxDQUFDQTt3QkFDVkE7NEJBQ0lBLEFBQ0FBLDJDQUQyQ0E7NEJBQzNDQSxLQUFLQSxHQUFHQSxDQUFDQSxDQUFDQSxDQUFDQSxPQUFPQSxDQUFDQSxVQUFVQSxDQUFDQSxDQUFDQTtvQkFFdkNBLENBQUNBO29CQUNEQSxFQUFFQSxDQUFDQSxDQUFDQSxDQUFDQSxLQUFLQSxJQUFJQSxJQUFJQSxDQUFDQSxLQUFLQSxDQUFDQSxDQUFDQSxDQUFDQTt3QkFDdkJBLElBQUlBLFNBQVNBLEdBQUdBLGVBQWVBLENBQUNBLEtBQUtBLElBQUlBLGVBQWVBLENBQUNBLFVBQVVBLENBQUNBO3dCQUNwRUEsTUFBTUEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsU0FBU0EsR0FBR0EsaUNBQWlDQSxHQUFHQSxlQUFlQSxDQUFDQSxDQUFDQTtvQkFDbEZBLENBQUNBO2dCQUNMQSxDQUFDQTtnQkFDREEsRUFBRUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsS0FBS0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7b0JBQ1RBLE1BQU1BLENBQUNBLEtBQUtBLENBQUNBO2dCQUNqQkEsQ0FBQ0E7WUFDTEEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7WUFDSEEsTUFBTUEsQ0FBQ0EsS0FBS0EsQ0FBQ0E7UUFDakJBLENBQUNBO1FBQ0xwQixZQUFDQTtJQUFEQSxDQWx1QkFwRSxBQWt1QkNvRSxJQUFBcEU7SUFsdUJZQSxRQUFLQSxHQUFMQSxLQWt1QlpBLENBQUFBO0lBRURBLElBQWFBLFlBQVlBO1FBRXJCeUYsU0FGU0EsWUFBWUEsQ0FFVEEsU0FBU0E7WUFEckJDLFVBQUtBLEdBQUdBLEtBQUtBLENBQUNBO1lBRVZBLEVBQUVBLEdBQUdBLFNBQVNBLENBQUNBLEdBQUdBLENBQUNBLElBQUlBLENBQUNBLENBQUNBO1lBQ3pCQSxjQUFjQSxHQUFHQSxTQUFTQSxDQUFDQSxHQUFHQSxDQUFDQSxnQkFBZ0JBLENBQUNBLENBQUNBO1lBQ2pEQSxRQUFRQSxHQUFHQSxTQUFTQSxDQUFDQSxHQUFHQSxDQUFDQSxVQUFVQSxDQUFDQSxDQUFDQTtZQUNyQ0EsYUFBYUEsR0FBR0EsU0FBU0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsZUFBZUEsQ0FBQ0EsQ0FBQ0E7WUFDL0NBLGVBQWVBLEdBQUdBLFNBQVNBLENBQUNBLEdBQUdBLENBQUNBLGlCQUFpQkEsQ0FBQ0EsQ0FBQ0E7WUFDbkRBLGNBQWNBLEdBQUdBLFNBQVNBLENBQUNBLEdBQUdBLENBQUNBLGdCQUFnQkEsQ0FBQ0EsQ0FBQ0E7WUFDakRBLHFCQUFxQkEsR0FBR0EsU0FBU0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsdUJBQXVCQSxDQUFDQSxDQUFDQTtZQUMvREEsYUFBYUEsR0FBR0EsU0FBU0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsZUFBZUEsQ0FBQ0EsQ0FBQ0E7WUFDL0NBLGNBQWNBLEdBQUdBLFNBQVNBLENBQUNBLEdBQUdBLENBQUNBLGdCQUFnQkEsQ0FBQ0EsQ0FBQ0E7WUFDakRBLGdCQUFnQkEsR0FBR0EsU0FBU0EsQ0FBQ0EsR0FBR0EsQ0FBQ0Esa0JBQWtCQSxDQUFDQSxDQUFDQTtZQUNyREEsZUFBZUEsR0FBR0EsU0FBU0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsbUJBQW1CQSxDQUFDQSxDQUFDQTtZQUNyREEsTUFBTUEsR0FBR0EsU0FBU0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsUUFBUUEsQ0FBQ0EsQ0FBQ0E7UUFDckNBLENBQUNBO1FBRURELDZCQUFNQSxHQUFOQSxVQUFPQSxNQUFNQTtZQUNURSxNQUFNQSxDQUFDQSxJQUFJQSxLQUFLQSxDQUFDQSxNQUFNQSxDQUFDQSxDQUFDQTtRQUM3QkEsQ0FBQ0E7UUFFTEYsbUJBQUNBO0lBQURBLENBckJBekYsQUFxQkN5RixJQUFBekY7SUFyQllBLGVBQVlBLEdBQVpBLFlBcUJaQSxDQUFBQTtJQUlEQSxPQUFPQSxDQUNGQSxNQUFNQSxDQUFDQSxjQUFjQSxDQUFDQSxDQUN0QkEsT0FBT0EsQ0FBQ0EsZ0JBQWdCQSxFQUFFQSxZQUFZQSxDQUFDQSxDQUFDQTtBQUdqREEsQ0FBQ0EsRUE3NEJNLEVBQUUsS0FBRixFQUFFLFFBNjRCUjs7QUMvNEJELDhDQUE4QztBQUU5QyxJQUFPLEVBQUUsQ0FpUFI7QUFqUEQsV0FBTyxFQUFFLEVBQUMsQ0FBQztJQUNQQSxZQUFZQSxDQUFDQTtJQUViQSxJQUFJQSxFQUFFQSxFQUFFQSxxQkFBeUNBLEVBQUVBLFFBQWtCQSxFQUFFQSw2QkFBNkJBLEVBQ2hHQSxhQUF5QkEsQ0FBQ0E7SUE0QjlCQSxBQTJEQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7T0FER0E7UUFDVUEsS0FBS0E7UUFpQ2Q0RixTQWpDU0EsS0FBS0EsQ0FpQ0ZBLE1BQU1BLEVBQUVBLEtBQVdBO1lBaEMvQkMsMkVBQTJFQTtZQUMzRUEsYUFBUUEsR0FBV0EsS0FBS0EsQ0FBQ0E7WUFDekJBLHNGQUFzRkE7WUFDdEZBLGdCQUFXQSxHQUFHQSxTQUFTQSxDQUFDQTtZQVl4QkEsMERBQTBEQTtZQUMxREEsMEJBQXFCQSxHQUFXQSxLQUFLQSxDQUFDQTtZQUN0Q0E7Z0RBQ29DQTtZQUNwQ0EsY0FBU0EsR0FBR0EsOEJBQThCQSxDQUFDQTtZQUUzQ0EsNkRBQTZEQTtZQUM3REEsVUFBS0EsR0FBVUEsNklBS05BLENBQUNBO1lBTU5BLElBQUlBLENBQUNBLFlBQVlBLEdBQUdBLHFCQUFxQkEsQ0FBQ0EsTUFBTUEsRUFBRUEsQ0FBQ0E7WUFDbkRBLElBQUlBLENBQUNBLFdBQVdBLEdBQUdBLEVBQUVBLENBQUNBLEtBQUtBLEVBQUVBLENBQUNBO1lBQzlCQSxJQUFJQSxDQUFDQSxRQUFRQSxHQUFHQSxLQUFLQSxDQUFDQSxJQUFJQSxDQUFDQSxTQUFTQSxFQUFFQSxDQUFDQTtZQUN2Q0EsSUFBSUEsQ0FBQ0EsWUFBWUEsR0FBR0EsNkJBQTZCQSxDQUFDQTtZQUNsREEsSUFBSUEsQ0FBQ0EsVUFBVUEsR0FBR0EsS0FBS0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsVUFBVUEsQ0FBQ0E7WUFFeENBLEFBQ0FBLDZGQUQ2RkE7WUFDN0ZBLEVBQUVBLENBQUNBLENBQUNBLFFBQVFBLENBQUNBLFVBQVVBLENBQUNBLENBQUNBLENBQUNBO2dCQUN0QkEsSUFBSUEsQ0FBQ0EsTUFBTUEsR0FBR0EsUUFBUUEsQ0FBQ0EsVUFBVUEsQ0FBQ0E7WUFDdENBLENBQUNBO1lBRURBLENBQUNBLENBQUNBLE1BQU1BLENBQUNBLElBQUlBLEVBQUVBLE1BQU1BLENBQUNBLENBQUNBO1lBRXZCQSxBQUNBQSx1REFEdURBO1lBQ3ZEQSxJQUFJQSxDQUFDQSxRQUFRQSxHQUFHQSxjQUFNQSxZQUFLQSxFQUFMQSxDQUFLQSxDQUFDQTtRQUNoQ0EsQ0FBQ0E7UUFFREQ7Ozs7Ozs7Ozs7V0FVR0E7UUFDSEEsdUJBQU9BLEdBQVBBLFVBQVFBLE9BQU9BO1lBQ1hFLElBQUlBLEtBQUtBLEdBQUdBLElBQUlBLENBQUNBO1lBQ2pCQSxJQUFJQSxLQUFLQSxHQUFHQSxLQUFLQSxDQUFDQSxRQUFRQSxFQUFFQSxDQUFDQTtZQUM3QkEsSUFBSUEsUUFBUUEsR0FBR0EsRUFBRUEsQ0FBQ0EsS0FBS0EsRUFBRUEsQ0FBQ0E7WUFFMUJBLEFBRUFBO29DQUR3QkE7WUFDeEJBLEVBQUVBLENBQUNBLENBQUNBLEtBQUtBLENBQUNBLHFCQUFxQkEsSUFBSUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsTUFBTUEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsT0FBT0EsQ0FBQ0EsSUFBSUEsS0FBS0EsQ0FBQ0EsT0FBT0EsQ0FBQ0EsT0FBT0EsRUFBRUEsR0FBR0EsR0FBR0EsR0FBR0EsSUFBSUEsSUFBSUEsRUFBRUEsQ0FBQ0EsT0FBT0EsRUFBRUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7Z0JBQ25IQSxNQUFNQSxDQUFDQSxLQUFLQSxDQUFDQSxPQUFPQSxDQUFDQTtZQUN6QkEsQ0FBQ0E7WUFBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0E7Z0JBQ0pBLEFBQ0FBLGtFQURrRUE7Z0JBQ2xFQSxLQUFLQSxDQUFDQSxxQkFBcUJBLEdBQUdBLElBQUlBLENBQUNBO2dCQUVuQ0EsQUFDQUEsaUVBRGlFQTtvQkFDN0RBLGFBQWFBLEdBQUdBLENBQUNBLENBQUNBLE1BQU1BLENBQUNBLEtBQUtBLENBQUNBLE9BQU9BLENBQUNBLENBQUNBO2dCQUU1Q0EsSUFBSUEsUUFBUUEsR0FBR0E7b0JBQ1hBLEFBQ0FBLG9FQURvRUE7b0JBQ3BFQSxNQUFNQSxFQUFFQSxLQUFLQSxDQUFDQSxRQUFRQSxFQUFFQTtpQkFDM0JBLENBQUNBO2dCQUVGQSxBQUNBQSx1Q0FEdUNBO29CQUNuQ0EsWUFBWUEsR0FBR0EsQ0FBQ0EsQ0FBQ0EsTUFBTUEsQ0FBQ0EsRUFBRUEsRUFBRUEsUUFBUUEsRUFBRUEsT0FBT0EsQ0FBQ0EsQ0FBQ0E7Z0JBRW5EQSxhQUFhQSxDQUFDQSxZQUFZQSxDQUFDQSxLQUFLQSxFQUFFQSxLQUFLQSxFQUFFQSxZQUFZQSxDQUFDQSxDQUFDQSxJQUFJQSxDQUFDQSxVQUFDQSxPQUFPQTtvQkFDaEVBLEVBQUVBLENBQUNBLENBQUNBLGFBQWFBLENBQUNBLENBQUNBLENBQUNBO3dCQUNoQkEsQUFDQUEseURBRHlEQTt3QkFDekRBLEtBQUtBLENBQUNBLFdBQVdBLENBQUNBLE9BQU9BLENBQUNBLFlBQVlBLENBQUNBLE1BQU1BLENBQUNBLENBQUNBO29CQUNuREEsQ0FBQ0E7b0JBRURBLEFBQ0FBLCtDQUQrQ0E7b0JBQy9DQSxLQUFLQSxDQUFDQSxxQkFBcUJBLEdBQUdBLEtBQUtBLENBQUNBO29CQUVwQ0EsQUFDQUEsb0ZBRG9GQTtvQkFDcEZBLEtBQUtBLENBQUNBLGdCQUFnQkEsR0FBR0EsSUFBSUEsSUFBSUEsRUFBRUEsQ0FBQ0E7b0JBRXBDQSxRQUFRQSxDQUFDQSxPQUFPQSxDQUFDQSxZQUFZQSxDQUFDQSxNQUFNQSxDQUFDQSxDQUFDQTtnQkFDMUNBLENBQUNBLENBQUNBLENBQUNBO2dCQUVIQSxBQUNBQSxtQ0FEbUNBO2dCQUNuQ0EsS0FBS0EsQ0FBQ0EsT0FBT0EsR0FBR0EsUUFBUUEsQ0FBQ0EsT0FBT0EsQ0FBQ0E7Z0JBQ2pDQSxNQUFNQSxDQUFDQSxRQUFRQSxDQUFDQSxPQUFPQSxDQUFDQTtZQUM1QkEsQ0FBQ0E7UUFDTEEsQ0FBQ0E7UUFFREYsd0JBQVFBLEdBQVJBO1lBQ0lHLE1BQU1BLENBQUNBLElBQUlBLENBQUNBLFlBQVlBLENBQUNBO1FBQzdCQSxDQUFDQTtRQUNMSCxZQUFDQTtJQUFEQSxDQTlHQTVGLEFBOEdDNEYsSUFBQTVGO0lBOUdZQSxRQUFLQSxHQUFMQSxLQThHWkEsQ0FBQUE7SUFHREEsSUFBYUEsWUFBWUE7UUFFckJnRyxTQUZTQSxZQUFZQSxDQUVUQSxTQUFTQTtZQURyQkMsVUFBS0EsR0FBR0EsS0FBS0EsQ0FBQ0E7WUFFVkEsRUFBRUEsR0FBR0EsU0FBU0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0E7WUFDekJBLFFBQVFBLEdBQUdBLFNBQVNBLENBQUNBLEdBQUdBLENBQUNBLFVBQVVBLENBQUNBLENBQUNBO1lBQ3JDQSxhQUFhQSxHQUFHQSxTQUFTQSxDQUFDQSxHQUFHQSxDQUFDQSxlQUFlQSxDQUFDQSxDQUFDQTtZQUMvQ0EsNkJBQTZCQSxHQUFHQSxTQUFTQSxDQUFDQSxHQUFHQSxDQUFDQSwrQkFBK0JBLENBQUNBLENBQUNBO1lBQy9FQSxxQkFBcUJBLEdBQUdBLFNBQVNBLENBQUNBLEdBQUdBLENBQUNBLHVCQUF1QkEsQ0FBQ0EsQ0FBQ0E7UUFFbkVBLENBQUNBO1FBQ0REOzs7Ozs7OztXQVFHQTtRQUNIQSw2QkFBTUEsR0FBTkEsVUFBT0EsTUFBTUEsRUFBRUEsS0FBS0E7WUFDaEJFLE1BQU1BLENBQUNBLElBQUlBLEtBQUtBLENBQUNBLE1BQU1BLEVBQUVBLEtBQUtBLENBQUNBLENBQUNBO1FBQ3BDQSxDQUFDQTtRQUNMRixtQkFBQ0E7SUFBREEsQ0F0QkFoRyxBQXNCQ2dHLElBQUFoRztJQXRCWUEsZUFBWUEsR0FBWkEsWUFzQlpBLENBQUFBO0lBRURBLEFBU0FBOzs7Ozs7OztPQURHQTtJQUNIQSxPQUFPQSxDQUFDQSxNQUFNQSxDQUFDQSxjQUFjQSxDQUFDQSxDQUN6QkEsT0FBT0EsQ0FBQ0EsZ0JBQWdCQSxFQUFFQSxZQUFZQSxDQUFDQSxDQUFDQTtBQUdqREEsQ0FBQ0EsRUFqUE0sRUFBRSxLQUFGLEVBQUUsUUFpUFI7O0FDblBELDhDQUE4QztBQUU5QyxJQUFPLEVBQUUsQ0FvR1I7QUFwR0QsV0FBTyxFQUFFLEVBQUMsQ0FBQztJQUNQQSxZQUFZQSxDQUFDQTtJQUViQSxJQUFJQSxnQkFBZ0JBLENBQUNBO0lBV3JCQSxBQTBCQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7T0FER0E7UUFDR0EsSUFBSUE7UUFPTm1HLFNBUEVBLElBQUlBLENBT01BLEdBQVVBO1lBQ2xCQyxJQUFJQSxJQUFJQSxHQUFHQSxJQUFJQSxDQUFDQTtZQUNoQkEsSUFBSUEsUUFBUUEsR0FBR0EsSUFBSUEsZ0JBQWdCQSxDQUFDQSxVQUFVQSxDQUFDQSxHQUFHQSxDQUFDQSxDQUFDQTtZQUVwREEsSUFBSUEsZ0JBQWdCQSxHQUFHQSxRQUFRQSxDQUFDQSxLQUFLQSxDQUFDQSxLQUFLQSxDQUFDQSxJQUFJQSxDQUFDQSxDQUFDQTtZQUNsREEsRUFBRUEsQ0FBQ0EsQ0FBQ0EsZ0JBQWdCQSxDQUFDQSxNQUFNQSxLQUFLQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQTtnQkFDaENBLEFBQ0FBLG9EQURvREE7Z0JBQ3BEQSxJQUFJQSxDQUFDQSxRQUFRQSxHQUFHQSxRQUFRQSxDQUFDQSxFQUFFQSxDQUFDQTtnQkFDNUJBLElBQUlBLENBQUNBLFdBQVdBLEdBQUdBLFFBQVFBLENBQUNBLEtBQUtBLENBQUNBO1lBQ3RDQSxDQUFDQTtZQUFDQSxJQUFJQSxDQUFDQSxDQUFDQTtnQkFDSkEsQUFDQUEsNEVBRDRFQTtnQkFDNUVBLElBQUlBLENBQUNBLFFBQVFBLEdBQUdBLFFBQVFBLENBQUNBLEVBQUVBLENBQUNBO2dCQUM1QkEsSUFBSUEsQ0FBQ0EsV0FBV0EsR0FBR0EsZ0JBQWdCQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQSxPQUFPQSxDQUFDQSxPQUFPQSxFQUFFQSxHQUFHQSxDQUFDQSxDQUFDQTtnQkFDN0RBLElBQUlBLENBQUNBLFNBQVNBLEdBQUdBLGdCQUFnQkEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsT0FBT0EsQ0FBQ0EsT0FBT0EsRUFBRUEsR0FBR0EsQ0FBQ0EsQ0FBQ0E7Z0JBQzNEQSxJQUFJQSxDQUFDQSxLQUFLQSxHQUFHQSxnQkFBZ0JBLENBQUNBLENBQUNBLENBQUNBLENBQUNBLE9BQU9BLENBQUNBLE9BQU9BLEVBQUVBLEdBQUdBLENBQUNBLENBQUNBO2dCQUN2REEsSUFBSUEsQ0FBQ0EsVUFBVUEsR0FBR0EsZ0JBQWdCQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQSxPQUFPQSxDQUFDQSxPQUFPQSxFQUFFQSxHQUFHQSxDQUFDQSxDQUFDQTtnQkFDNURBLElBQUlBLENBQUNBLEtBQUtBLEdBQUdBLGdCQUFnQkEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsT0FBT0EsQ0FBQ0EsT0FBT0EsRUFBRUEsR0FBR0EsQ0FBQ0EsQ0FBQ0E7WUFDM0RBLENBQUNBO1FBQ0xBLENBQUNBO1FBQ0xELFdBQUNBO0lBQURBLENBMUJBbkcsQUEwQkNtRyxJQUFBbkc7SUFJREEsSUFBYUEsV0FBV0E7UUFFcEJxRyxTQUZTQSxXQUFXQSxDQUVSQSxTQUFTQTtZQURyQkMsU0FBSUEsR0FBR0EsSUFBSUEsQ0FBQ0E7WUFFUkEsZ0JBQWdCQSxHQUFHQSxTQUFTQSxDQUFDQSxHQUFHQSxDQUFDQSxrQkFBa0JBLENBQUNBLENBQUNBO1FBRXpEQSxDQUFDQTtRQUVERDs7Ozs7O1dBTUdBO1FBQ0hBLDRCQUFNQSxHQUFOQSxVQUFPQSxDQUFDQTtZQUNKRSxNQUFNQSxDQUFDQSxJQUFJQSxJQUFJQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUN2QkEsQ0FBQ0E7UUFDTEYsa0JBQUNBO0lBQURBLENBakJBckcsQUFpQkNxRyxJQUFBckc7SUFqQllBLGNBQVdBLEdBQVhBLFdBaUJaQSxDQUFBQTtJQUVEQSxBQU9BQTs7Ozs7O09BREdBO0lBQ0hBLE9BQU9BLENBQUNBLE1BQU1BLENBQUNBLGNBQWNBLENBQUNBLENBQ3pCQSxPQUFPQSxDQUFDQSxlQUFlQSxFQUFFQSxXQUFXQSxDQUFDQSxDQUFDQTtBQUcvQ0EsQ0FBQ0EsRUFwR00sRUFBRSxLQUFGLEVBQUUsUUFvR1I7O0FDdEdELDZEQUE2RDtBQStINUQ7QUMvSEQsOENBQThDO0FBRTlDLElBQU8sRUFBRSxDQThGUjtBQTlGRCxXQUFPLEVBQUUsRUFBQyxDQUFDO0lBQ1BBLFlBQVlBLENBQUNBO0lBRWJBLEFBQ0FBLDBDQUQwQ0E7UUFDdENBLG1CQUFtQkEsRUFBRUEsZUFBZUEsQ0FBQ0E7SUFFekNBLElBQU1BLFNBQVNBO1FBQ1h3RyxTQURFQSxTQUFTQSxDQUNTQSxFQUFlQSxFQUFVQSxhQUF5QkE7WUFBbERDLE9BQUVBLEdBQUZBLEVBQUVBLENBQWFBO1lBQVVBLGtCQUFhQSxHQUFiQSxhQUFhQSxDQUFZQTtRQUV0RUEsQ0FBQ0E7UUFFREQ7Ozs7Ozs7Ozs7O1dBV0dBO1FBQ0hBLGlDQUFhQSxHQUFiQSxVQUFjQSxTQUFnQkEsRUFBRUEsS0FBY0E7WUFDMUNFLEFBQ0FBLDhEQUQ4REE7Z0JBQzFEQSxRQUFRQSxHQUFHQSxJQUFJQSxDQUFDQSxFQUFFQSxDQUFDQSxLQUFLQSxFQUFFQSxDQUFDQTtZQUUvQkEsQUFDQUEsNkVBRDZFQTtZQUM3RUEsSUFBSUEsQ0FBQ0Esa0JBQWtCQSxDQUFDQSxLQUFLQSxDQUFDQSxDQUFDQSxJQUFJQSxDQUFDQSxVQUFDQSxlQUFlQTtnQkFDaERBLElBQUlBLGVBQWVBLEdBQUdBLENBQUNBLENBQUNBLElBQUlBLENBQUNBLGVBQWVBLEVBQUVBLEVBQUNBLElBQUlBLEVBQUVBLFNBQVNBLEVBQUNBLENBQUNBLENBQUNBO2dCQUNqRUEsUUFBUUEsQ0FBQ0EsT0FBT0EsQ0FBQ0EsZUFBZUEsQ0FBQ0EsQ0FBQ0E7WUFDdENBLENBQUNBLENBQUNBLENBQUNBO1lBRUhBLE1BQU1BLENBQUNBLFFBQVFBLENBQUNBLE9BQU9BLENBQUNBO1FBQzVCQSxDQUFDQTtRQUVERjs7Ozs7Ozs7V0FRR0E7UUFDSEEsc0NBQWtCQSxHQUFsQkEsVUFBbUJBLEtBQWNBO1lBQWpDRyxpQkFhQ0E7WUFaR0EsRUFBRUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsbUJBQW1CQSxJQUFJQSxLQUFLQSxDQUFDQSxDQUFDQSxDQUFDQTtnQkFDaENBLEFBQ0FBLDBEQUQwREE7b0JBQ3REQSxRQUFRQSxHQUFHQSxJQUFJQSxDQUFDQSxFQUFFQSxDQUFDQSxLQUFLQSxFQUFFQSxDQUFDQTtnQkFDL0JBLElBQUlBLENBQUNBLGNBQWNBLENBQUNBLEtBQUtBLENBQUNBLENBQUNBLElBQUlBLENBQUNBLFVBQUNBLFdBQVdBO29CQUN4Q0EsS0FBSUEsQ0FBQ0EsYUFBYUEsQ0FBQ0EsMEJBQTBCQSxDQUFDQSxXQUFXQSxDQUFDQSxhQUFhQSxDQUFDQSxDQUNuRUEsSUFBSUEsQ0FBQ0EsVUFBQ0EsZUFBZUE7d0JBQ2xCQSxRQUFRQSxDQUFDQSxPQUFPQSxDQUFDQSxlQUFlQSxDQUFDQSxDQUFDQTtvQkFDdENBLENBQUNBLENBQUNBLENBQUNBO2dCQUNYQSxDQUFDQSxDQUFDQSxDQUFDQTtnQkFDSEEsbUJBQW1CQSxHQUFHQSxRQUFRQSxDQUFDQSxPQUFPQSxDQUFDQTtZQUMzQ0EsQ0FBQ0E7WUFDREEsTUFBTUEsQ0FBQ0EsbUJBQW1CQSxDQUFDQTtRQUMvQkEsQ0FBQ0E7UUFFREg7Ozs7Ozs7Ozs7V0FVR0E7UUFDSEEsa0NBQWNBLEdBQWRBLFVBQWVBLEtBQWNBO1lBQ3pCSSxFQUFFQSxDQUFDQSxDQUFDQSxDQUFDQSxlQUFlQSxJQUFJQSxLQUFLQSxDQUFDQSxDQUFDQSxDQUFDQTtnQkFDNUJBLEFBQ0FBLDBEQUQwREE7Z0JBQzFEQSxlQUFlQSxHQUFHQSxJQUFJQSxDQUFDQSxhQUFhQSxDQUFDQSxvQkFBb0JBLEVBQUVBLENBQUNBO1lBQ2hFQSxDQUFDQTtZQUNEQSxNQUFNQSxDQUFDQSxlQUFlQSxDQUFDQTtRQUMzQkEsQ0FBQ0E7UUFHTEosZ0JBQUNBO0lBQURBLENBMUVBeEcsQUEwRUN3RyxJQUFBeEc7SUFFREEsQUFTQUE7Ozs7Ozs7O09BREdBO0lBQ0hBLE9BQU9BLENBQUNBLE1BQU1BLENBQUNBLGNBQWNBLENBQUNBLENBQ3pCQSxPQUFPQSxDQUFDQSxhQUFhQSxFQUFFQSxTQUFTQSxDQUFDQSxDQUFDQTtBQUUzQ0EsQ0FBQ0EsRUE5Rk0sRUFBRSxLQUFGLEVBQUUsUUE4RlI7O0FDaEdELDhDQUE4Qzs7Ozs7OztBQUU5QyxJQUFPLEVBQUUsQ0FtWFI7QUFuWEQsV0FBTyxFQUFFLEVBQUMsQ0FBQztJQUNQQSxZQUFZQSxDQUFDQTtJQUViQSxJQUFJQSxPQUFxQkEsRUFBRUEsRUFBZ0JBLEVBQUVBLElBQW9CQSxFQUFFQSxxQkFBMENBLENBQUNBO0lBRTlHQSxBQWtCQUE7Ozs7Ozs7Ozs7Ozs7Ozs7O09BREdBO1FBQ0NBLGVBQWVBLEdBQUdBLEVBQUVBLEVBa0JwQkE7SUFoQkFBOzs7Ozs7Ozs7Ozs7Ozs7T0FlR0E7SUFDSEEsbUJBQW1CQSxHQUFHQSxFQUFFQSxFQTJCeEJBO0lBMUJBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztPQXlCR0E7SUFDSEEsV0FBV0EsR0FBR0EsRUFBRUEsQ0FBQ0E7SUFHckJBLEFBU0FBOzs7Ozs7OztPQURHQTtRQUNHQSxlQUFlQTtRQU9qQjZHLFNBUEVBLGVBQWVBLENBT0xBLE1BQWNBLEVBQVVBLFFBQWdCQTtZQUFoQkMsYUFBUUEsR0FBUkEsUUFBUUEsQ0FBUUE7WUFOcERBLHFCQUFnQkEsR0FBR0EsRUFBRUEsQ0FBQ0E7WUFFdEJBLG9CQUFlQSxHQUFHQSxFQUFFQSxDQUFDQTtZQUVyQkEsZ0JBQVdBLEdBQUdBLENBQUNBLENBQUNBO1lBR1pBLElBQUlBLENBQUNBLE1BQU1BLEdBQUdBLE9BQU9BLENBQUNBLFNBQVNBLENBQUNBLE1BQU1BLENBQUNBLENBQUNBO1FBQzVDQSxDQUFDQTtRQUVERDs7OztXQUlHQTtRQUNIQSxtQ0FBU0EsR0FBVEE7WUFDSUUsSUFBSUEsZUFBZUEsR0FBR0EsSUFBSUEsQ0FBQ0E7WUFDM0JBLElBQUlBLFFBQVFBLEdBQUdBLEVBQUVBLENBQUNBLEtBQUtBLEVBQUVBLENBQUNBO1lBQzFCQSxFQUFFQSxDQUFDQSxDQUFDQSxlQUFlQSxDQUFDQSxNQUFNQSxDQUFDQSxDQUFDQSxDQUFDQTtnQkFDekJBLEFBQ0FBLG1EQURtREE7Z0JBQ25EQSxRQUFRQSxDQUFDQSxPQUFPQSxDQUFDQSxlQUFlQSxDQUFDQSxNQUFNQSxDQUFDQSxDQUFDQTtZQUM3Q0EsQ0FBQ0E7WUFBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0E7Z0JBQ0pBLGVBQWVBLENBQUNBLGdCQUFnQkEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsUUFBUUEsQ0FBQ0EsQ0FBQ0E7WUFDcERBLENBQUNBO1lBQ0RBLE1BQU1BLENBQUNBLFFBQVFBLENBQUNBLE9BQU9BLENBQUNBO1FBQzVCQSxDQUFDQTtRQUdERixzQ0FBWUEsR0FBWkE7WUFDSUcsSUFBSUEsZUFBZUEsR0FBR0EsSUFBSUEsQ0FBQ0E7WUFDM0JBLE9BQU9BLENBQUNBLFlBQVlBLENBQUNBLGVBQWVBLENBQUNBLE1BQU1BLEVBQUVBLGVBQWVBLENBQUNBLFFBQVFBLENBQUNBLENBQUNBO1FBQzNFQSxDQUFDQTtRQUVMSCxzQkFBQ0E7SUFBREEsQ0FsQ0E3RyxBQWtDQzZHLElBQUE3RztJQUVEQSxBQU1BQTs7Ozs7T0FER0E7UUFDR0EsVUFBVUE7UUFBU2lILFVBQW5CQSxVQUFVQSxVQUFxQkE7UUFBckNBLFNBQU1BLFVBQVVBO1lBQVNDLDhCQUFZQTtRQUVyQ0EsQ0FBQ0E7UUFBREQsaUJBQUNBO0lBQURBLENBRkFqSCxBQUVDaUgsRUFGd0JqSCxlQUFZQSxFQUVwQ0E7SUFFREEsSUFBYUEsWUFBWUE7UUFFckJtSCxTQUZTQSxZQUFZQSxDQUVUQSxTQUFTQTtZQURyQkMsZ0JBQVdBLEdBQUdBLFdBQVdBLENBQUNBO1lBRXRCQSxFQUFFQSxHQUFHQSxTQUFTQSxDQUFDQSxHQUFHQSxDQUFDQSxJQUFJQSxDQUFDQSxDQUFDQTtZQUN6QkEsSUFBSUEsR0FBR0EsU0FBU0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsTUFBTUEsQ0FBQ0EsQ0FBQ0E7WUFDN0JBLHFCQUFxQkEsR0FBR0EsU0FBU0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsdUJBQXVCQSxDQUFDQSxDQUFDQTtZQUMvREEsT0FBT0EsR0FBR0EsSUFBSUEsQ0FBQ0E7UUFDbkJBLENBQUNBO1FBRUREOzs7Ozs7OztXQVFHQTtRQUNIQSxtQ0FBWUEsR0FBWkEsVUFBYUEsTUFBY0EsRUFBRUEsUUFBZ0JBO1lBQ3pDRSxJQUFJQSxhQUFhQSxHQUFHQSxJQUFJQSxDQUFDQSxTQUFTQSxDQUFDQSxNQUFNQSxDQUFDQSxDQUFDQTtZQUMzQ0EsSUFBSUEsQ0FBQ0EsWUFBWUEsQ0FBQ0EsYUFBYUEsRUFBRUEsUUFBUUEsQ0FBQ0EsQ0FBQ0E7WUFDM0NBLElBQUlBLEtBQUtBLEdBQUdBLElBQUlBLENBQUNBLFFBQVFBLENBQUNBLGFBQWFBLENBQUNBLENBQUNBO1lBQ3pDQSxDQUFDQSxDQUFDQSxJQUFJQSxDQUFDQSxLQUFLQSxDQUFDQSxPQUFPQSxFQUFFQSxVQUFDQSxLQUFLQTtnQkFDeEJBLElBQUlBLEtBQUtBLEdBQUdBLEtBQUtBLENBQUNBLFFBQVFBLEVBQUVBLENBQUNBO2dCQUM3QkEsS0FBS0EsQ0FBQ0EsWUFBWUEsQ0FBQ0EsUUFBUUEsQ0FBQ0EsQ0FBQ0E7WUFDakNBLENBQUNBLENBQUNBLENBQUNBO1FBQ1BBLENBQUNBO1FBRURGOzs7Ozs7OztXQVFHQTtRQUNIQSx3Q0FBaUJBLEdBQWpCQSxVQUFrQkEsTUFBY0E7WUFDNUJHLElBQUlBLFVBQVVBLEdBQUdBLElBQUlBLENBQUNBLGFBQWFBLENBQUNBLE1BQU1BLENBQUNBLEVBQ3ZDQSxXQUFXQSxHQUFHQSxxQkFBcUJBLENBQUNBLE1BQU1BLEVBQUVBLENBQUNBO1lBQ2pEQSxDQUFDQSxDQUFDQSxJQUFJQSxDQUFDQSxVQUFVQSxFQUFFQSxVQUFDQSxlQUFlQTtnQkFDL0JBLEVBQUVBLENBQUNBLENBQUNBLGVBQWVBLENBQUNBLE1BQU1BLElBQUlBLGVBQWVBLENBQUNBLE1BQU1BLENBQUNBLEVBQUVBLENBQUNBLENBQUNBLENBQUNBO29CQUN0REEsV0FBV0EsQ0FBQ0EsU0FBU0EsQ0FBQ0EsZUFBZUEsQ0FBQ0EsTUFBTUEsQ0FBQ0EsQ0FBQ0E7Z0JBQ2xEQSxDQUFDQTtZQUNMQSxDQUFDQSxDQUFDQSxDQUFDQTtZQUNIQSxNQUFNQSxDQUFDQSxXQUFXQSxDQUFDQTtRQUN2QkEsQ0FBQ0E7UUFFREg7Ozs7Ozs7OztXQVNHQTtRQUNIQSxzQ0FBZUEsR0FBZkEsVUFBZ0JBLE1BQWNBLEVBQUVBLFFBQWdCQTtZQUM1Q0ksTUFBTUEsQ0FBQ0EsSUFBSUEsQ0FBQ0Esa0JBQWtCQSxDQUFDQSxNQUFNQSxFQUFFQSxRQUFRQSxDQUFDQSxDQUFDQSxNQUFNQSxDQUFDQTtRQUM1REEsQ0FBQ0E7UUFFREo7Ozs7Ozs7Ozs7V0FVR0E7UUFDSEEsZ0NBQVNBLEdBQVRBLFVBQVVBLE1BQWNBLEVBQUVBLFFBQWdCQTtZQUN0Q0ssSUFBSUEsZUFBZUEsR0FBR0EsSUFBSUEsQ0FBQ0Esa0JBQWtCQSxDQUFDQSxNQUFNQSxFQUFFQSxRQUFRQSxDQUFDQSxDQUFDQTtZQUNoRUEsTUFBTUEsQ0FBQ0EsZUFBZUEsQ0FBQ0EsU0FBU0EsRUFBRUEsQ0FBQ0E7UUFDdkNBLENBQUNBO1FBRURMLHlDQUFrQkEsR0FBbEJBLFVBQW1CQSxNQUFjQSxFQUFFQSxRQUFnQkE7WUFDL0NNLElBQUlBLGFBQWFBLEdBQUdBLElBQUlBLENBQUNBLFNBQVNBLENBQUNBLE1BQU1BLENBQUNBLENBQUNBO1lBQzNDQSxJQUFJQSxVQUFVQSxHQUFHQSxJQUFJQSxDQUFDQSxhQUFhQSxDQUFDQSxhQUFhQSxDQUFDQSxDQUFDQTtZQUNuREEsQUFDQUEsOERBRDhEQTtZQUM5REEsVUFBVUEsQ0FBQ0EsUUFBUUEsQ0FBQ0EsR0FBR0EsVUFBVUEsQ0FBQ0EsUUFBUUEsQ0FBQ0EsSUFBSUEsSUFBSUEsZUFBZUEsQ0FBQ0EsYUFBYUEsRUFBRUEsUUFBUUEsQ0FBQ0EsQ0FBQ0E7WUFDNUZBLE1BQU1BLENBQUNBLFVBQVVBLENBQUNBLFFBQVFBLENBQUNBLENBQUNBO1FBQ2hDQSxDQUFDQTtRQUVETjs7Ozs7Ozs7V0FRR0E7UUFDSEEsZ0NBQVNBLEdBQVRBLFVBQVVBLFNBQWlCQTtZQUN2Qk8sRUFBRUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsTUFBTUEsQ0FBQ0EsU0FBU0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7Z0JBQ3RCQSxBQUNBQSxXQURXQTtnQkFDWEEsTUFBTUEsQ0FBQ0EsU0FBU0EsQ0FBQ0EsV0FBV0EsRUFBRUEsQ0FBQ0E7WUFDbkNBLENBQUNBO1lBQUNBLElBQUlBLENBQUNBLENBQUNBO2dCQUNKQSxBQUNBQSxpQkFEaUJBO2dCQUNqQkEsTUFBTUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EscUJBQXFCQSxDQUFDQSxTQUFTQSxDQUFDQSxDQUFDQTtZQUNqREEsQ0FBQ0E7UUFDTEEsQ0FBQ0E7UUFFRFA7Ozs7Ozs7O1dBUUdBO1FBQ0hBLDRDQUFxQkEsR0FBckJBLFVBQXNCQSxJQUFZQTtZQUM5QlEsSUFBSUEsSUFBSUEsQ0FBQ0E7WUFDVEEsRUFBRUEsQ0FBQ0EsQ0FBQ0EsZUFBZUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsSUFBSUEsZUFBZUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsTUFBTUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7Z0JBQ3hEQSxJQUFJQSxHQUFHQSxlQUFlQSxDQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxNQUFNQSxDQUFDQTtZQUN4Q0EsQ0FBQ0E7WUFDREEsTUFBTUEsQ0FBQ0EsSUFBSUEsQ0FBQ0E7UUFDaEJBLENBQUNBO1FBRURSOzs7Ozs7OztXQVFHQTtRQUNIQSwrQkFBUUEsR0FBUkEsVUFBU0EsTUFBY0E7WUFDbkJTLElBQUlBLEtBQUtBLEVBQ0xBLGFBQWFBLEdBQUdBLElBQUlBLENBQUNBLFNBQVNBLENBQUNBLE1BQU1BLENBQUNBLENBQUNBO1lBRTNDQSxFQUFFQSxDQUFDQSxDQUFDQSxtQkFBbUJBLENBQUNBLGFBQWFBLENBQUNBLENBQUNBLENBQUNBLENBQUNBO2dCQUNyQ0EsS0FBS0EsR0FBR0EsbUJBQW1CQSxDQUFDQSxhQUFhQSxDQUFDQSxDQUFDQSxLQUFLQSxDQUFDQTtZQUNyREEsQ0FBQ0E7WUFDREEsTUFBTUEsQ0FBQ0EsS0FBS0EsQ0FBQ0E7UUFDakJBLENBQUNBO1FBRURULDJDQUEyQ0E7UUFDM0NBLG9DQUFhQSxHQUFiQSxVQUFjQSxNQUFjQTtZQUN4QlUsSUFBSUEsYUFBYUEsR0FBR0EsSUFBSUEsQ0FBQ0EsU0FBU0EsQ0FBQ0EsTUFBTUEsQ0FBQ0EsQ0FBQ0E7WUFDM0NBLFdBQVdBLENBQUNBLGFBQWFBLENBQUNBLEdBQUdBLFdBQVdBLENBQUNBLGFBQWFBLENBQUNBLElBQUlBLElBQUlBLFVBQVVBLEVBQUVBLENBQUNBO1lBQzVFQSxNQUFNQSxDQUFDQSxXQUFXQSxDQUFDQSxhQUFhQSxDQUFDQSxDQUFDQTtRQUN0Q0EsQ0FBQ0E7UUFHRFY7Ozs7Ozs7Ozs7V0FVR0E7UUFDSEEscUNBQWNBLEdBQWRBLFVBQWVBLE1BQWlCQSxFQUFFQSxXQUEyQkE7WUFDekRXLElBQUlBLEtBQUtBLEdBQUdBLE1BQU1BLENBQUNBLFFBQVFBLEVBQUVBLENBQUNBO1lBQzlCQSxJQUFJQSxlQUFlQSxHQUFHQSxJQUFJQSxDQUFDQSxrQkFBa0JBLENBQUNBLEtBQUtBLENBQUNBLElBQUlBLENBQUNBLFNBQVNBLEVBQUVBLEVBQUVBLE1BQU1BLENBQUNBLEVBQUVBLENBQUNBLENBQUNBO1lBQ2pGQSxBQUNBQSx3REFEd0RBO1lBQ3hEQSxFQUFFQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQSxRQUFRQSxDQUFDQSxlQUFlQSxDQUFDQSxNQUFNQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQTtnQkFDdENBLEFBQ0FBLDBDQUQwQ0E7Z0JBQzFDQSxlQUFlQSxDQUFDQSxNQUFNQSxHQUFHQSxNQUFNQSxDQUFDQTtZQUNwQ0EsQ0FBQ0E7WUFBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0E7Z0JBQ0pBLEFBRUFBLDRGQUY0RkE7Z0JBQ3hGQSwrRkFBK0ZBO2dCQUNuR0EsQ0FBQ0EsQ0FBQ0EsTUFBTUEsQ0FBQ0EsZUFBZUEsQ0FBQ0EsTUFBTUEsRUFBRUEsTUFBTUEsQ0FBQ0EsQ0FBQ0E7WUFDN0NBLENBQUNBO1lBRURBLEFBQ0FBLHFFQURxRUE7WUFDckVBLGVBQWVBLENBQUNBLFdBQVdBLEVBQUVBLENBQUNBO1lBRTlCQSxFQUFFQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQSxRQUFRQSxDQUFDQSxXQUFXQSxDQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxDQUFDQSxPQUFPQSxDQUFDQSxXQUFXQSxDQUFDQSxJQUFJQSxDQUFDQSxXQUFXQSxDQUFDQSxNQUFNQSxDQUFDQSxFQUFFQSxDQUFFQSxDQUFDQSxDQUFDQSxDQUFDQTtnQkFDakZBLEFBQ0FBLHVEQUR1REE7Z0JBQ3ZEQSxXQUFXQSxDQUFDQSxNQUFNQSxDQUFDQSxFQUFFQSxDQUFDQSxHQUFHQSxlQUFlQSxDQUFDQSxNQUFNQSxDQUFDQTtZQUNwREEsQ0FBQ0E7WUFFREEsQUFDQUEsMkNBRDJDQTtZQUMzQ0EsQ0FBQ0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsZUFBZUEsQ0FBQ0EsZ0JBQWdCQSxFQUFFQSxVQUFDQSxlQUFlQTtnQkFDckRBLGVBQWVBLENBQUNBLE9BQU9BLENBQUNBLGVBQWVBLENBQUNBLE1BQU1BLENBQUNBLENBQUNBO2dCQUNoREEsQUFDQUEsZ0NBRGdDQTtnQkFDaENBLGVBQWVBLENBQUNBLGdCQUFnQkEsQ0FBQ0EsS0FBS0EsRUFBRUEsQ0FBQ0E7WUFDN0NBLENBQUNBLENBQUNBLENBQUNBO1lBRUhBLE1BQU1BLENBQUNBLGVBQWVBLENBQUNBLE1BQU1BLENBQUNBO1FBQ2xDQSxDQUFDQTtRQUVEWDs7Ozs7Ozs7V0FRR0E7UUFDSEEsb0NBQWFBLEdBQWJBLFVBQWNBLEtBQWFBO1lBQ3ZCWSxFQUFFQSxDQUFDQSxDQUFDQSxLQUFLQSxDQUFDQSxJQUFJQSxJQUFJQSxLQUFLQSxDQUFDQSxJQUFJQSxDQUFDQSxTQUFTQSxFQUFFQSxJQUFJQSxLQUFLQSxDQUFDQSxJQUFJQSxDQUFDQSxLQUFLQSxDQUFDQSxDQUFDQSxDQUFDQTtnQkFDM0RBLElBQUlBLE1BQU1BLEdBQUdBLEtBQUtBLENBQUNBLElBQUlBLENBQUNBLFNBQVNBLEVBQUVBLENBQUNBLFdBQVdBLEVBQUVBLENBQUNBO2dCQUNsREEsQUFDQUEsbURBRG1EQTtnQkFDbkRBLGVBQWVBLENBQUNBLEtBQUtBLENBQUNBLElBQUlBLENBQUNBLEtBQUtBLENBQUNBLEdBQUdBO29CQUNoQ0EsS0FBS0EsRUFBRUEsS0FBS0E7b0JBQ1pBLE1BQU1BLEVBQUVBLE1BQU1BO2lCQUNqQkEsQ0FBQ0E7Z0JBRUZBLEFBQ0FBLGtEQURrREE7Z0JBQ2xEQSxtQkFBbUJBLENBQUNBLE1BQU1BLENBQUNBLEdBQUdBO29CQUMxQkEsS0FBS0EsRUFBRUEsS0FBS0E7aUJBQ2ZBLENBQUNBO1lBQ05BLENBQUNBO1FBQ0xBLENBQUNBO1FBRURaOzs7Ozs7OztXQVFHQTtRQUNIQSxtQ0FBWUEsR0FBWkEsVUFBYUEsTUFBY0EsRUFBRUEsUUFBZ0JBO1lBQ3pDYSxJQUFJQSxVQUFVQSxHQUFHQSxJQUFJQSxDQUFDQSxhQUFhQSxDQUFDQSxNQUFNQSxDQUFDQSxDQUFDQTtZQUM1Q0EsRUFBRUEsQ0FBQ0EsQ0FBQ0EsVUFBVUEsQ0FBQ0EsUUFBUUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7Z0JBQ3ZCQSxPQUFPQSxVQUFVQSxDQUFDQSxRQUFRQSxDQUFDQSxDQUFDQTtZQUNoQ0EsQ0FBQ0E7UUFDTEEsQ0FBQ0E7UUFHTGIsbUJBQUNBO0lBQURBLENBek9BbkgsQUF5T0NtSCxJQUFBbkg7SUF6T1lBLGVBQVlBLEdBQVpBLFlBeU9aQSxDQUFBQTtJQUVEQSxBQU9BQTs7Ozs7O09BREdBO0lBQ0hBLE9BQU9BLENBQUNBLE1BQU1BLENBQUNBLGNBQWNBLENBQUNBLENBQ3pCQSxPQUFPQSxDQUFDQSxnQkFBZ0JBLEVBQUVBLFlBQVlBLENBQUNBLENBQUNBO0FBRWpEQSxDQUFDQSxFQW5YTSxFQUFFLEtBQUYsRUFBRSxRQW1YUjs7QUNyWEQsOENBQThDO0FBRTlDLElBQU8sRUFBRSxDQTBCUjtBQTFCRCxXQUFPLEVBQUUsRUFBQyxDQUFDO0lBQ1BBLFlBQVlBLENBQUNBO0lBRWJBLEFBT0FBOzs7Ozs7T0FER0E7UUFDVUEsYUFBYUE7UUFBMUJpSSxTQUFhQSxhQUFhQTtZQUN0QkMsa0JBQWFBLEdBQUdBLEVBQUVBLENBQUNBO1FBU3ZCQSxDQUFDQTtRQVJHRCw4Q0FBc0JBLEdBQXRCQSxVQUF1QkEsTUFBTUEsRUFBRUEsT0FBT0EsRUFBRUEsT0FBT0E7WUFDM0NFLENBQUNBLENBQUNBLElBQUlBLENBQUNBLElBQUlBLENBQUNBLGFBQWFBLEVBQUVBLFVBQUNBLFFBQVFBO2dCQUNoQ0EsUUFBUUEsQ0FBQ0EsTUFBTUEsRUFBRUEsT0FBT0EsRUFBRUEsT0FBT0EsQ0FBQ0EsQ0FBQ0E7WUFDdkNBLENBQUNBLENBQUNBLENBQUNBO1FBQ1BBLENBQUNBO1FBQ0RGLDBDQUFrQkEsR0FBbEJBLFVBQW1CQSxRQUFRQTtZQUN2QkcsSUFBSUEsQ0FBQ0EsYUFBYUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsUUFBUUEsQ0FBQ0EsQ0FBQ0E7UUFDdENBLENBQUNBO1FBQ0xILG9CQUFDQTtJQUFEQSxDQVZBakksQUFVQ2lJLElBQUFqSTtJQVZZQSxnQkFBYUEsR0FBYkEsYUFVWkEsQ0FBQUE7SUFFREEsT0FBT0EsQ0FDRkEsTUFBTUEsQ0FBQ0EsY0FBY0EsQ0FBQ0EsQ0FDdEJBLE9BQU9BLENBQUNBLGlCQUFpQkEsRUFBRUEsYUFBYUEsQ0FBQ0EsQ0FBQ0E7QUFFbkRBLENBQUNBLEVBMUJNLEVBQUUsS0FBRixFQUFFLFFBMEJSOztBQzVCRCw4Q0FBOEM7QUFFOUMsSUFBTyxFQUFFLENBbzJCUjtBQXAyQkQsV0FBTyxFQUFFLEVBQUMsQ0FBQztJQUNQQSxZQUFZQSxDQUFDQTtJQUViQSxJQUFJQSxPQUFvQkEsRUFBRUEsRUFBZ0JBLEVBQUVBLFFBQVFBLEVBQUVBLEtBQXNCQSxFQUFFQSxRQUFtQkEsRUFDN0ZBLGdCQUFnQ0EsRUFBRUEsY0FBNEJBLEVBQUVBLGVBQThCQSxFQUM5RkEsZUFBOEJBLEVBQUVBLGNBQTRCQSxFQUFFQSxxQkFBMENBLEVBQ3hHQSxNQUFNQSxFQUFFQSxVQUFVQSxFQUFFQSw2QkFBNkJBLEVBQUVBLDhCQUE4QkEsRUFBRUEsa0JBQWtCQSxFQUNyR0EsZUFBOEJBLENBQUNBO0lBRW5DQSxJQUFhQSxXQUFXQTtRQUdwQnFJLFNBSFNBLFdBQVdBLENBR1JBLFNBQVNBO1lBQ2pCQyxPQUFPQSxHQUFHQSxJQUFJQSxDQUFDQTtZQUNmQSxLQUFLQSxHQUFHQSxTQUFTQSxDQUFDQSxHQUFHQSxDQUFDQSxPQUFPQSxDQUFDQSxDQUFDQTtZQUMvQkEsRUFBRUEsR0FBR0EsU0FBU0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0E7WUFDekJBLFFBQVFBLEdBQUdBLFNBQVNBLENBQUNBLEdBQUdBLENBQUNBLFVBQVVBLENBQUNBLENBQUNBO1lBQ3JDQSxjQUFjQSxHQUFHQSxTQUFTQSxDQUFDQSxHQUFHQSxDQUFDQSxnQkFBZ0JBLENBQUNBLENBQUNBO1lBQ2pEQSxlQUFlQSxHQUFHQSxTQUFTQSxDQUFDQSxHQUFHQSxDQUFDQSxpQkFBaUJBLENBQUNBLENBQUNBO1lBQ25EQSxRQUFRQSxHQUFHQSxTQUFTQSxDQUFDQSxHQUFHQSxDQUFDQSxVQUFVQSxDQUFDQSxDQUFDQTtZQUNyQ0EsZUFBZUEsR0FBR0EsU0FBU0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsaUJBQWlCQSxDQUFDQSxDQUFDQTtZQUNuREEsNkJBQTZCQSxHQUFHQSxTQUFTQSxDQUFDQSxHQUFHQSxDQUFDQSwrQkFBK0JBLENBQUNBLENBQUNBO1lBQy9FQSxlQUFlQSxHQUFHQSxTQUFTQSxDQUFDQSxHQUFHQSxDQUFDQSxpQkFBaUJBLENBQUNBLENBQUNBO1lBQ25EQSxjQUFjQSxHQUFHQSxTQUFTQSxDQUFDQSxHQUFHQSxDQUFDQSxnQkFBZ0JBLENBQUNBLENBQUNBO1lBQ2pEQSxxQkFBcUJBLEdBQUdBLFNBQVNBLENBQUNBLEdBQUdBLENBQUNBLHVCQUF1QkEsQ0FBQ0EsQ0FBQ0E7WUFDL0RBLGdCQUFnQkEsR0FBR0EsU0FBU0EsQ0FBQ0EsR0FBR0EsQ0FBQ0Esa0JBQWtCQSxDQUFDQSxDQUFDQTtZQUNyREEsOEJBQThCQSxHQUFHQSxTQUFTQSxDQUFDQSxHQUFHQSxDQUFDQSxnQ0FBZ0NBLENBQUNBLENBQUNBO1lBQ2pGQSxrQkFBa0JBLEdBQUdBLFNBQVNBLENBQUNBLEdBQUdBLENBQUNBLG9CQUFvQkEsQ0FBQ0EsQ0FBQ0E7WUFDekRBLFVBQVVBLEdBQUdBLFNBQVNBLENBQUNBLEdBQUdBLENBQUNBLFlBQVlBLENBQUNBLENBQUNBO1lBQ3pDQSxNQUFNQSxHQUFHQSxTQUFTQSxDQUFDQSxHQUFHQSxDQUFDQSxRQUFRQSxDQUFDQSxDQUFDQTtRQUNyQ0EsQ0FBQ0E7UUFFREQ7Ozs7Ozs7Ozs7OztXQVlHQTtRQUNIQSxvQ0FBY0EsR0FBZEEsVUFBZUEsS0FBYUEsRUFBRUEsUUFBa0JBLEVBQUVBLE9BQXFFQTtZQUNuSEUsSUFBSUEsUUFBUUEsR0FBR0E7Z0JBQ1BBLFFBQVFBLEVBQUVBLEtBQUtBO2dCQUNmQSxlQUFlQSxFQUFFQSxJQUFJQTtnQkFDckJBLFlBQVlBLEVBQUVBLHFCQUFxQkEsQ0FBQ0EsTUFBTUEsQ0FBQ0EsRUFBRUEsQ0FBQ0E7Z0JBQzlDQSxRQUFRQSxFQUFFQSxLQUFLQSxDQUFDQSxJQUFJQSxDQUFDQSxTQUFTQSxFQUFFQTtnQkFDaENBLFNBQVNBLEVBQUVBLGlCQUFpQkE7Z0JBQzVCQSxNQUFNQSxFQUFFQSxTQUFTQTtnQkFDakJBLFVBQVVBLEVBQUVBLEVBQUVBO2dCQUNkQSxNQUFNQSxFQUFFQSxLQUFLQSxDQUFDQSxJQUFJQSxDQUFDQSxjQUFjQSxFQUFFQTthQUN0Q0EsRUFDREEsUUFBUUEsR0FBR0EsRUFBRUEsQ0FBQ0EsS0FBS0EsRUFBRUEsQ0FBQ0E7WUFFMUJBLFFBQVFBLENBQUNBLE1BQU1BLEdBQUdBLFFBQVFBLENBQUNBLFlBQVlBLENBQUNBO1lBQ3hDQSxJQUFJQSxJQUFJQSxHQUNGQSxDQUFDQSxDQUFDQSxNQUFNQSxDQUFDQSxFQUFFQSxFQUFFQSxRQUFRQSxFQUFFQSxPQUFPQSxDQUFDQSxDQUFDQTtZQUV0Q0EsRUFBRUEsQ0FBQ0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsZUFBZUEsS0FBS0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7Z0JBQ2hDQSxJQUFJQSxjQUFjQSxHQUF1QkEsQ0FBQ0EsQ0FBQ0EsS0FBS0EsQ0FBQ0EsS0FBS0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsTUFBTUEsRUFBRUEsRUFBQ0EsUUFBUUEsRUFBRUEsS0FBS0EsRUFBQ0EsQ0FBQ0EsQ0FBQ0E7Z0JBQ3ZGQSxJQUFJQSxDQUFDQSxVQUFVQSxHQUFHQSxlQUFlQSxDQUFDQSxrQkFBa0JBLENBQUNBLGNBQWNBLEVBQUVBLFFBQVFBLENBQUNBLENBQUNBO1lBQ25GQSxDQUFDQTtZQUVEQSxJQUFJQSxDQUFDQSxRQUFRQSxHQUFHQSxjQUFNQSxPQUFBQSxJQUFJQSxDQUFDQSxZQUFZQSxFQUFqQkEsQ0FBaUJBLENBQUNBO1lBRXhDQSxBQUNBQSxrR0FEa0dBO1lBQ2xHQSxJQUFJQSxDQUFDQSxjQUFjQSxDQUFDQSxJQUFJQSxDQUFDQSxDQUNwQkEsSUFBSUEsQ0FBQ0EsVUFBQ0EsUUFBUUE7Z0JBQ1hBLEFBQ0FBLDhDQUQ4Q0E7b0JBQzFDQSxZQUFZQSxHQUFHQSxlQUFlQSxDQUFDQSxnQkFBZ0JBLENBQUNBLEtBQUtBLEVBQUVBLElBQUlBLEVBQUVBLFFBQVFBLEVBQUVBLElBQUlBLENBQUNBLENBQUNBO2dCQUNqRkEsQUFDQUEseUZBRHlGQTtnQkFDekZBLFFBQVFBLENBQUNBLE9BQU9BLENBQUNBLFlBQVlBLENBQUNBLElBQUlBLEVBQUVBLENBQUNBLENBQUNBO1lBQzFDQSxDQUFDQSxFQUFFQSxVQUFDQSxHQUFHQTtnQkFDSEEsUUFBUUEsQ0FBQ0EsTUFBTUEsQ0FBQ0EsR0FBR0EsQ0FBQ0EsQ0FBQ0E7WUFDekJBLENBQUNBLENBQUNBLENBQUNBO1lBQ1BBLE1BQU1BLENBQUNBLFFBQVFBLENBQUNBLE9BQU9BLENBQUNBO1FBQzVCQSxDQUFDQTtRQUVERiw4Q0FBd0JBLEdBQXhCQSxVQUF5QkEsYUFBcUJBO1lBQzFDRyxNQUFNQSxDQUFDQSxNQUFNQSxDQUFDQSxRQUFRQSxDQUFDQSxRQUFRQSxHQUFHQSxJQUFJQSxHQUFHQSxNQUFNQSxDQUFDQSxRQUFRQSxDQUFDQSxRQUFRQSxHQUFHQSxHQUFHQSxHQUFHQSxhQUFhQSxDQUFDQTtRQUM1RkEsQ0FBQ0E7UUFHREg7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O1dBMEJHQTtRQUNIQSxzQ0FBZ0JBLEdBQWhCQSxVQUFpQkEsT0FBOERBO1lBQzNFSSxJQUFJQSxRQUFRQSxHQUFHQTtnQkFDWEEsU0FBU0EsRUFBRUEsa0JBQWtCQTtnQkFDN0JBLFVBQVVBLEVBQUVBLE9BQU9BO2FBQ3RCQSxDQUFDQTtZQUVGQSxJQUFJQSxJQUFJQSxHQUFHQSxDQUFDQSxDQUFDQSxNQUFNQSxDQUFDQSxFQUFFQSxFQUFFQSxRQUFRQSxFQUFFQSxPQUFPQSxDQUFDQSxDQUFDQTtZQUUzQ0EsTUFBTUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsY0FBY0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0E7UUFDckNBLENBQUNBO1FBRURKOzs7Ozs7Ozs7Ozs7V0FZR0E7UUFDSEEsb0NBQWNBLEdBQWRBLFVBQWVBLEtBQWFBLEVBQUVBLFFBQWtCQSxFQUFFQSxPQUEwQkE7WUFDeEVLLElBQUlBLFFBQVFBLEdBQUdBO2dCQUNYQSxNQUFNQSxFQUFFQSxDQUFDQSxDQUFDQSxVQUFVQSxDQUFDQSxRQUFRQSxDQUFDQSxRQUFRQSxDQUFDQSxHQUFHQSxRQUFRQSxDQUFDQSxRQUFRQSxFQUFFQSxHQUFHQSxLQUFLQSxDQUFDQSxRQUFRQSxFQUFFQTtnQkFDaEZBLFNBQVNBLEVBQUVBLGlCQUFpQkE7Z0JBQzVCQSxRQUFRQSxFQUFFQSxLQUFLQSxDQUFDQSxJQUFJQSxDQUFDQSxTQUFTQSxFQUFFQTtnQkFDaENBLFFBQVFBLEVBQUVBLFFBQVFBO2dCQUNsQkEsRUFBRUEsRUFBRUEsUUFBUUEsQ0FBQ0EsRUFBRUE7Z0JBQ2ZBLE1BQU1BLEVBQUVBLEtBQUtBLENBQUNBLElBQUlBLENBQUNBLGNBQWNBLEVBQUVBO2FBQ3RDQSxDQUFDQTtZQUVGQSxJQUFJQSxJQUFJQSxHQUFHQSxDQUFDQSxDQUFDQSxNQUFNQSxDQUFDQSxFQUFFQSxFQUFFQSxRQUFRQSxFQUFFQSxPQUFPQSxDQUFDQSxDQUFDQTtZQUUzQ0EsSUFBSUEsUUFBUUEsR0FBR0EsRUFBRUEsQ0FBQ0EsS0FBS0EsRUFBRUEsQ0FBQ0E7WUFFMUJBLElBQUlBLENBQUNBLGNBQWNBLENBQUNBLElBQUlBLENBQUNBLENBQ3BCQSxJQUFJQSxDQUFDQTtnQkFDRkEsQUFDQUEsY0FEY0E7Z0JBQ2RBLGNBQWNBLENBQUNBLFlBQVlBLENBQUNBLElBQUlBLENBQUNBLFFBQVFBLEVBQUVBLFFBQVFBLENBQUNBLEVBQUVBLENBQUNBLENBQUNBO2dCQUN4REEsUUFBUUEsQ0FBQ0EsT0FBT0EsRUFBRUEsQ0FBQ0E7WUFDdkJBLENBQUNBLEVBQUVBLFVBQUNBLE9BQU9BO2dCQUNQQSxBQUNBQSx5Q0FEeUNBO2dCQUN6Q0EsTUFBTUEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsK0NBQStDQSxHQUFHQSxLQUFLQSxDQUFDQSxJQUFJQSxDQUFDQSxLQUFLQSxDQUFDQSxDQUFDQTtnQkFDakZBLFFBQVFBLENBQUNBLE1BQU1BLENBQUNBLE9BQU9BLENBQUNBLENBQUNBO1lBQzdCQSxDQUFDQSxDQUFDQSxDQUFDQTtZQUVQQSxNQUFNQSxDQUFDQSxRQUFRQSxDQUFDQSxPQUFPQSxDQUFDQTtRQUM1QkEsQ0FBQ0E7UUFFREw7Ozs7Ozs7Ozs7V0FVR0E7UUFDSEEsa0NBQVlBLEdBQVpBLFVBQWFBLEtBQWFBLEVBQUVBLEtBQWFBLEVBQUVBLE9BQTJCQTtZQUF0RU0saUJBMEJDQTtZQXhCR0EsSUFBSUEsUUFBUUEsR0FBR0E7Z0JBQ1hBLE1BQU1BLEVBQUVBLEtBQUtBLENBQUNBLFFBQVFBLEVBQUVBO2FBQzNCQSxDQUFDQTtZQUVGQSxJQUFJQSxRQUFRQSxHQUFHQSxFQUFFQSxDQUFDQSxLQUFLQSxFQUFFQSxDQUFDQTtZQUUxQkEsQUFDQUEsdUJBRHVCQTtnQkFDbkJBLElBQUlBLEdBQUdBLENBQUNBLENBQUNBLE1BQU1BLENBQUNBLEVBQUVBLEVBQUVBLFFBQVFBLEVBQUVBLE9BQU9BLENBQUNBLENBQUNBO1lBRTNDQSxJQUFJQSxDQUFDQSxjQUFjQSxDQUFDQSxLQUFLQSxDQUFDQSxDQUNyQkEsSUFBSUEsQ0FBQ0EsVUFBQ0EsUUFBUUE7Z0JBQ1hBLEVBQUVBLENBQUNBLENBQUNBLEtBQUtBLENBQUNBLFNBQVNBLEtBQUtBLDhCQUE4QkEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7b0JBQ3JEQSxLQUFJQSxDQUFDQSxxQkFBcUJBLENBQUNBLEtBQUtBLEVBQUVBLEtBQUtBLEVBQUVBLFFBQVFBLEVBQUVBLElBQUlBLENBQUNBLENBQUNBO2dCQUM3REEsQ0FBQ0E7Z0JBRURBLEFBQ0FBLHNDQURzQ0E7b0JBQ2xDQSxRQUFRQSxHQUFHQSxlQUFlQSxDQUFDQSxnQkFBZ0JBLENBQUNBLEtBQUtBLEVBQUVBLEtBQUtBLEVBQUVBLFFBQVFBLEVBQUVBLElBQUlBLENBQUNBLENBQUNBO2dCQUM5RUEsUUFBUUEsQ0FBQ0EsT0FBT0EsQ0FBQ0EsUUFBUUEsQ0FBQ0EsQ0FBQ0E7Z0JBRTNCQSxBQUNBQSxvREFEb0RBO2dCQUNwREEsS0FBS0EsQ0FBQ0EsT0FBT0EsR0FBR0EsSUFBSUEsSUFBSUEsRUFBRUEsQ0FBQ0E7WUFDL0JBLENBQUNBLENBQUNBLENBQUNBO1lBRVBBLE1BQU1BLENBQUNBLFFBQVFBLENBQUNBLE9BQU9BLENBQUNBO1FBQzVCQSxDQUFDQTtRQUVETjs7Ozs7Ozs7O1dBU0dBO1FBQ0hBLDJDQUFxQkEsR0FBckJBLFVBQXNCQSxPQUFlQSxFQUFFQSxNQUFlQTtZQUNsRE8sSUFBSUEsT0FBT0EsR0FBR0EsV0FBV0EsR0FBR0EsT0FBT0EsR0FBR0EsT0FBT0EsRUFDekNBLFFBQVFBLEdBQUdBLEVBQUVBLENBQUNBLEtBQUtBLEVBQUVBLENBQUNBO1lBRTFCQSxFQUFFQSxDQUFDQSxDQUFDQSxNQUFNQSxDQUFDQSxDQUFDQSxDQUFDQTtnQkFDVEEsT0FBT0EsR0FBR0EsTUFBTUEsQ0FBQ0EsTUFBTUEsQ0FBQ0EsTUFBTUEsQ0FBQ0EsTUFBTUEsR0FBR0EsQ0FBQ0EsQ0FBQ0EsS0FBS0EsR0FBR0EsR0FDbERBLE1BQU1BLEdBQUdBLE9BQU9BLEdBQUdBLE1BQU1BLEdBQUdBLEdBQUdBLEdBQUdBLE9BQU9BLENBQUNBO2dCQUMxQ0EsUUFBUUEsQ0FBQ0EsT0FBT0EsQ0FBQ0EsT0FBT0EsQ0FBQ0EsQ0FBQ0E7WUFDOUJBLENBQUNBO1lBQUNBLElBQUlBLENBQUNBLENBQUNBO2dCQUNKQSxJQUFJQSxDQUFDQSxjQUFjQSxFQUFFQSxDQUFDQSxJQUFJQSxDQUFDQSxVQUFDQSxRQUFRQTtvQkFDaENBLE9BQU9BLEdBQUdBLFFBQVFBLEdBQUdBLENBQUNBLENBQUNBLFFBQVFBLENBQUNBLE1BQU1BLENBQUNBLFFBQVFBLENBQUNBLE1BQU1BLEdBQUdBLENBQUNBLENBQUNBLEtBQUtBLEdBQUdBLENBQUNBLEdBQUdBLE9BQU9BLEdBQUdBLENBQUNBLEdBQUdBLEdBQUdBLE9BQU9BLENBQUNBLENBQUNBLENBQUNBO29CQUNsR0EsUUFBUUEsQ0FBQ0EsT0FBT0EsQ0FBQ0EsT0FBT0EsQ0FBQ0EsQ0FBQ0E7Z0JBQzlCQSxDQUFDQSxDQUFDQSxDQUFDQTtZQUNQQSxDQUFDQTtZQUNEQSxNQUFNQSxDQUFDQSxRQUFRQSxDQUFDQSxPQUFPQSxDQUFDQTtRQUM1QkEsQ0FBQ0E7UUFFRFA7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7V0FtQkdBO1FBQ0hBLDJDQUFxQkEsR0FBckJBLFVBQXNCQSxhQUFxQkE7WUFDdkNRLElBQUlBLFFBQVFBLEdBQUdBLEVBQUVBLENBQUNBLEtBQUtBLEVBQUVBLENBQUNBO1lBQzFCQSxBQUNBQSxrSEFEa0hBO2dCQUM5R0EsT0FBT0EsR0FBR0EsYUFBYUEsQ0FBQ0EsT0FBT0EsQ0FBQ0EsTUFBTUEsQ0FBQ0EsR0FBR0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsYUFBYUEsR0FBR0EsSUFBSUEsQ0FBQ0Esd0JBQXdCQSxDQUFDQSxhQUFhQSxDQUFDQSxDQUFDQTtZQUVoSEEsSUFBSUEsQ0FBQ0EsY0FBY0EsQ0FBQ0E7Z0JBQ2hCQSxTQUFTQSxFQUFFQSxxQkFBcUJBO2dCQUNoQ0EsSUFBSUEsRUFBRUEsT0FBT0E7YUFDaEJBLENBQUNBLENBQUNBLElBQUlBLENBQUNBLFVBQVVBLFdBQVdBO2dCQUN6QixJQUFJLGlCQUFpQixHQUFHLEVBQUUsQ0FBQztnQkFDM0IsSUFBSSxZQUFZLEdBQUcsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxDQUFDLFlBQVksQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO2dCQUNuRSxDQUFDLENBQUMsSUFBSSxDQUFDLFlBQVksRUFBRSxVQUFVLFdBQVc7b0JBQ3RDLElBQUksUUFBUSxHQUFHO3dCQUNYLElBQUksRUFBRSxDQUFDLENBQUMsV0FBVyxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQzt3QkFDakMsZ0JBQWdCLEVBQUUsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxDQUFDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQzt3QkFDekQsVUFBVSxFQUFFLEdBQUcsR0FBRyxDQUFDLENBQUMsV0FBVyxDQUFDLENBQUMsSUFBSSxDQUFDLHVCQUF1QixDQUFDLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxHQUFHLEdBQUc7cUJBQzFGLENBQUM7b0JBQ0YsaUJBQWlCLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO2dCQUNyQyxDQUFDLENBQUMsQ0FBQztnQkFDSCxRQUFRLENBQUMsT0FBTyxDQUFDLGlCQUFpQixDQUFDLENBQUM7WUFDeEMsQ0FBQyxDQUFDQSxDQUFDQTtZQUdIQSxNQUFNQSxDQUFDQSxRQUFRQSxDQUFDQSxPQUFPQSxDQUFDQTtRQUM1QkEsQ0FBQ0E7UUFFRFI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztXQThCR0E7UUFDSEEsbUNBQWFBLEdBQWJBLFVBQWNBLE9BQWdIQTtZQUMxSFMsSUFBSUEsUUFBUUEsR0FBR0E7Z0JBQ1hBLFdBQVdBLEVBQUVBLFVBQVVBO2FBQzFCQSxDQUFDQTtZQUNGQSxJQUFJQSxJQUFJQSxHQUFHQSxDQUFDQSxDQUFDQSxNQUFNQSxDQUFDQSxFQUFFQSxFQUFFQSxRQUFRQSxFQUFFQSxPQUFPQSxDQUFDQSxDQUFDQTtZQUUzQ0EsQUFDQUEsMEVBRDBFQTtnQkFDdEVBLFVBQVVBLEdBQUdBLElBQUlBLENBQUNBLFVBQVVBLElBQUlBLElBQUlBLENBQUNBLFNBQVNBLENBQUNBLEtBQUtBLENBQUNBLEtBQUtBLENBQUNBLENBQUNBLENBQUNBLENBQUNBLENBQUNBLEtBQUtBLENBQUNBLFlBQVlBLENBQUNBLENBQUNBLENBQUNBLENBQUNBLENBQUNBO1lBRTFGQSxJQUFJQSxRQUFRQSxHQUFHQSxFQUFFQSxDQUFDQSxLQUFLQSxFQUFFQSxDQUFDQTtZQUUxQkEsQUFDQUEsMkVBRDJFQTtxQkFDbEVBLFVBQVVBLENBQUNBLGNBQWNBO2dCQUM5QkMsSUFBSUEsY0FBY0EsR0FBR0EsRUFBRUEsQ0FBQ0E7Z0JBQ3hCQSxBQUNBQSx5RUFEeUVBO2dCQUN6RUEsRUFBRUEsQ0FBQ0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsU0FBU0EsS0FBS0EseUJBQXlCQSxDQUFDQSxDQUFDQSxDQUFDQTtvQkFDL0NBLEFBQ0FBLG1HQURtR0E7b0JBQ25HQSxDQUFDQSxDQUFDQSxjQUFjQSxDQUFDQSxDQUFDQSxZQUFZQSxDQUFDQSxVQUFVQSxDQUFDQSxDQUFDQSxJQUFJQSxDQUFDQTt3QkFDNUMsY0FBYyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQztvQkFDeEMsQ0FBQyxDQUFDQSxDQUFDQTtnQkFDUEEsQ0FBQ0E7Z0JBQUNBLElBQUlBLENBQUNBLENBQUNBO29CQUNKQSxJQUFJQSxLQUFLQSxHQUFHQSxDQUFDQSxDQUFDQSxjQUFjQSxDQUFDQSxDQUFDQSxZQUFZQSxDQUFDQSxVQUFVQSxDQUFDQSxDQUFDQTtvQkFDdkRBLGNBQWNBLEdBQUdBLGtCQUFrQkEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsS0FBS0EsRUFBRUEsRUFBQ0EsZUFBZUEsRUFBRUEsSUFBSUEsRUFBRUEsU0FBU0EsRUFBRUEsS0FBS0EsRUFBQ0EsQ0FBQ0EsQ0FBQ0E7Z0JBQ2hHQSxDQUFDQTtnQkFDREEsTUFBTUEsQ0FBQ0EsY0FBY0EsQ0FBQ0E7WUFDMUJBLENBQUNBO1lBRURELElBQUlBLFlBQVlBLEdBQUdBLElBQUlBLENBQUNBLHlCQUF5QkEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0E7WUFDeERBLEVBQUVBLENBQUNBLENBQUNBLFlBQVlBLENBQUNBLENBQUNBLENBQUNBO2dCQUNmQSxJQUFJQSxDQUFDQSxjQUFjQSxDQUFDQSxJQUFJQSxDQUFDQSxDQUNwQkEsSUFBSUEsQ0FBQ0EsVUFBQ0EsUUFBUUE7b0JBQ1hBLFFBQVFBLENBQUNBLE9BQU9BLENBQUNBLFFBQVFBLENBQUNBLENBQUNBO2dCQUMvQkEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7WUFDWEEsQ0FBQ0E7WUFBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0E7Z0JBQ0pBLE1BQU1BLENBQUNBLEtBQUtBLENBQUNBLG1CQUFtQkEsRUFBRUEsSUFBSUEsQ0FBQ0EsQ0FBQ0E7Z0JBQ3hDQSxRQUFRQSxDQUFDQSxNQUFNQSxFQUFFQSxDQUFDQTtZQUN0QkEsQ0FBQ0E7WUFFREEsTUFBTUEsQ0FBQ0EsUUFBUUEsQ0FBQ0EsT0FBT0EsQ0FBQ0E7UUFDNUJBLENBQUNBO1FBRURUOzs7Ozs7O1dBT0dBO1FBQ0hBLG9DQUFjQSxHQUFkQTtZQUNJVyxJQUFJQSxRQUFRQSxHQUFHQSxFQUFFQSxDQUFDQSxLQUFLQSxFQUFFQSxDQUFDQTtZQUN0Q0EsQUFDWUEsaUNBRHFCQTtZQUNyQkEsRUFBRUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsbUJBQW1CQSxDQUFDQSxDQUFDQSxDQUFDQTtnQkFDNUJBLEFBQ0FBLDRHQUQ0R0E7Z0JBQzVHQSxJQUFJQSxDQUFDQSxtQkFBbUJBLEdBQUdBLFFBQVFBLENBQUNBLE9BQU9BLENBQUNBO2dCQUU1Q0EsSUFBSUEsR0FBR0EsR0FBR0EsVUFBVUEsQ0FBQ0EsWUFBWUEsQ0FBQ0EsTUFBTUEsR0FDcENBLDRCQUE0QkEsR0FBR0EsVUFBVUEsQ0FBQ0EsZ0JBQWdCQSxHQUFHQSxvQkFBb0JBLEdBQ2pGQSxDQUFDQSxDQUFDQSxRQUFRQSxDQUFDQSxJQUFJQSxDQUFDQSxPQUFPQSxDQUFDQSxHQUFHQSxDQUFDQSxHQUFHQSxDQUFDQSxDQUFDQSxHQUFHQSxRQUFRQSxDQUFDQSxJQUFJQSxDQUFDQSxNQUFNQSxDQUFDQSxDQUFDQSxFQUFFQSxRQUFRQSxDQUFDQSxJQUFJQSxDQUFDQSxPQUFPQSxDQUFDQSxHQUFHQSxDQUFDQSxDQUFDQSxHQUFHQSxRQUFRQSxDQUFDQSxJQUFJQSxDQUFDQSxHQUN4R0EsZ0NBQWdDQSxHQUNoQ0EsVUFBVUEsQ0FBQ0EsWUFBWUEsQ0FBQ0EsTUFBTUEsQ0FBQ0E7Z0JBRW5DQSxLQUFLQSxDQUFDQTtvQkFDRkEsTUFBTUEsRUFBRUEsTUFBTUE7b0JBQ2RBLEdBQUdBLEVBQUVBLHFCQUFxQkE7b0JBQzFCQSxJQUFJQSxFQUFFQSxHQUFHQTtvQkFDVEEsWUFBWUEsRUFBRUEsVUFBVUE7b0JBQ3hCQSxPQUFPQSxFQUFFQTt3QkFDTEEsY0FBY0EsRUFBRUEsMEJBQTBCQTtxQkFDN0NBO2lCQUNKQSxDQUFDQSxDQUFDQSxJQUFJQSxDQUFDQSxVQUFDQSxRQUFRQTtvQkFDYkEsQUFDQUEsY0FEY0E7b0JBQ2RBLFFBQVFBLENBQUNBLFVBQVVBLEdBQUdBLENBQUNBLENBQUNBLFFBQVFBLENBQUNBLElBQUlBLENBQUNBLENBQUNBLElBQUlBLENBQUNBLHlCQUF5QkEsQ0FBQ0EsQ0FBQ0EsSUFBSUEsRUFBRUEsQ0FBQ0E7b0JBQzlFQSxRQUFRQSxDQUFDQSxPQUFPQSxDQUFDQSxRQUFRQSxDQUFDQSxVQUFVQSxDQUFDQSxDQUFBQTtnQkFDekNBLENBQUNBLEVBQUVBLFVBQUNBLFFBQVFBO29CQUNSQSxBQUNBQSxZQURZQTt3QkFDUkEsS0FBS0EsR0FBR0EsZUFBZUEsQ0FBQ0Esc0JBQXNCQSxDQUFDQSxRQUFRQSxDQUFDQSxJQUFJQSxDQUFDQSxDQUFDQTtvQkFDbEVBLFFBQVFBLENBQUNBLE1BQU1BLENBQUNBLEtBQUtBLENBQUNBLENBQUNBO2dCQUMzQkEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7WUFDUEEsQ0FBQ0E7WUFDREEsTUFBTUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsbUJBQW1CQSxDQUFDQTtRQUNwQ0EsQ0FBQ0E7UUFFRFg7Ozs7Ozs7Ozs7Ozs7Ozs7O1dBaUJHQTtRQUNIQSw0Q0FBc0JBLEdBQXRCQSxVQUF1QkEsT0FBZ0hBLEVBQUVBLGVBQWlDQTtZQUN0S1ksSUFBSUEsUUFBUUEsR0FBR0E7Z0JBQ1hBLFNBQVNBLEVBQUVBLHNCQUFzQkE7YUFDcENBLENBQUNBO1lBQ0ZBLElBQUlBLElBQUlBLEdBQUdBLENBQUNBLENBQUNBLE1BQU1BLENBQUNBLEVBQUVBLEVBQUVBLFFBQVFBLEVBQUVBLE9BQU9BLENBQUNBLENBQUNBO1lBRTNDQSxJQUFJQSxRQUFRQSxHQUFHQSxFQUFFQSxDQUFDQSxLQUFLQSxFQUFFQSxDQUFDQTtZQUUxQkEsSUFBSUEsQ0FBQ0EsY0FBY0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FDcEJBLElBQUlBLENBQUNBLFVBQUNBLFFBQVFBO2dCQUNYQSxBQUNBQSx5QkFEeUJBO29CQUNyQkEsUUFBUUEsR0FBR0EsZUFBZUEsQ0FBQ0Esa0JBQWtCQSxDQUFDQSxRQUFRQSxFQUFFQSxlQUFlQSxDQUFDQSxDQUFDQTtnQkFDN0VBLEFBQ0FBLGtEQURrREE7Z0JBQ2xEQSxRQUFRQSxDQUFDQSxPQUFPQSxDQUFDQSxRQUFRQSxDQUFDQSxDQUFDQTtZQUMvQkEsQ0FBQ0EsRUFBRUEsVUFBQ0EsT0FBT0E7Z0JBQ1BBLEFBQ0FBLGNBRGNBO2dCQUNkQSxNQUFNQSxDQUFDQSxLQUFLQSxDQUFDQSxrQ0FBa0NBLENBQUNBLENBQUNBO2dCQUNqREEsUUFBUUEsQ0FBQ0EsTUFBTUEsQ0FBQ0EsT0FBT0EsQ0FBQ0EsQ0FBQ0E7WUFDN0JBLENBQUNBLENBQUNBLENBQUNBO1lBQ1BBLE1BQU1BLENBQUNBLFFBQVFBLENBQUNBLE9BQU9BLENBQUNBO1FBQzVCQSxDQUFDQTtRQUVEWjs7Ozs7OztXQU9HQTtRQUNIQSxnREFBMEJBLEdBQTFCQSxVQUEyQkEsS0FBY0E7WUFBekNhLGlCQW1CQ0E7WUFsQkdBLEFBQ0FBLDBEQUQwREE7Z0JBQ3REQSxRQUFRQSxHQUFHQSxFQUFFQSxDQUFDQSxLQUFLQSxFQUFFQSxDQUFDQTtZQUMxQkEsSUFBSUEsa0JBQWtCQSxHQUFHQSxVQUFDQSxhQUFhQTtnQkFDbkNBLEtBQUlBLENBQUNBLGNBQWNBLENBQUNBO29CQUNoQkEsU0FBU0EsRUFBRUEsNEJBQTRCQTtvQkFDdkNBLGFBQWFBLEVBQUVBLGFBQWFBO29CQUM1QkEsVUFBVUEsRUFBRUEsT0FBT0E7aUJBQ3RCQSxDQUFDQSxDQUFDQSxJQUFJQSxDQUFDQSxVQUFDQSxlQUFlQSxJQUFLQSxPQUFBQSxRQUFRQSxDQUFDQSxPQUFPQSxDQUFDQSxlQUFlQSxDQUFDQSxFQUFqQ0EsQ0FBaUNBLENBQUNBLENBQUNBO1lBQ3BFQSxDQUFDQSxDQUFDQTtZQUVGQSxFQUFFQSxDQUFDQSxDQUFDQSxDQUFDQSxLQUFLQSxDQUFDQSxDQUFDQSxDQUFDQTtnQkFDVEEsQUFDQUEsZ0VBRGdFQTtnQkFDaEVBLElBQUlBLENBQUNBLG9CQUFvQkEsRUFBRUEsQ0FDdEJBLElBQUlBLENBQUNBLFVBQUNBLFdBQVdBLElBQUtBLE9BQUFBLGtCQUFrQkEsQ0FBQ0EsV0FBV0EsQ0FBQ0EsYUFBYUEsQ0FBQ0EsRUFBN0NBLENBQTZDQSxDQUFDQSxDQUFDQTtZQUM5RUEsQ0FBQ0E7WUFBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0E7Z0JBQ0pBLGtCQUFrQkEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsQ0FBQ0E7WUFDOUJBLENBQUNBO1lBQ0RBLE1BQU1BLENBQUNBLFFBQVFBLENBQUNBLE9BQU9BLENBQUNBO1FBQzVCQSxDQUFDQTtRQUVEYjs7Ozs7Ozs7V0FRR0E7UUFDSEEsNkJBQU9BLEdBQVBBLFVBQVFBLE9BQTJCQTtZQUMvQmMsSUFBSUEsUUFBUUEsR0FBR0E7Z0JBQ1hBLFNBQVNBLEVBQUVBLFNBQVNBO2FBQ3ZCQSxDQUFDQTtZQUVGQSxJQUFJQSxJQUFJQSxHQUFHQSxDQUFDQSxDQUFDQSxNQUFNQSxDQUFDQSxFQUFFQSxFQUFFQSxRQUFRQSxFQUFFQSxPQUFPQSxDQUFDQSxDQUFDQTtZQUMzQ0EsTUFBTUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsY0FBY0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0E7UUFDckNBLENBQUNBO1FBRURkOzs7Ozs7OztXQVFHQTtRQUNIQSxtQ0FBYUEsR0FBYkEsVUFBY0EsT0FBNEJBO1lBQ3RDZSxJQUFJQSxRQUFRQSxHQUFHQSxFQUFFQSxDQUFDQSxLQUFLQSxFQUFFQSxDQUFDQTtZQUMxQkEsSUFBSUEsQ0FBQ0EsT0FBT0EsQ0FBQ0EsT0FBT0EsQ0FBQ0EsQ0FDaEJBLElBQUlBLENBQUNBLFVBQUNBLFdBQVdBO2dCQUNkQSxJQUFJQSxLQUFLQSxHQUFHQSxDQUFDQSxDQUFDQSxXQUFXQSxDQUFDQSxDQUFDQSxZQUFZQSxDQUFDQSxPQUFPQSxDQUFDQSxDQUFDQTtnQkFDakRBLElBQUlBLE1BQU1BLEdBQUdBLGtCQUFrQkEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsS0FBS0EsRUFBRUEsRUFBQ0EsZUFBZUEsRUFBRUEsSUFBSUEsRUFBRUEsU0FBU0EsRUFBRUEsS0FBS0EsRUFBQ0EsQ0FBQ0EsQ0FBQ0E7Z0JBQ3hGQSxRQUFRQSxDQUFDQSxPQUFPQSxDQUFDQSxNQUFNQSxDQUFDQSxDQUFDQTtZQUM3QkEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7WUFDUEEsTUFBTUEsQ0FBQ0EsUUFBUUEsQ0FBQ0EsT0FBT0EsQ0FBQ0E7UUFDNUJBLENBQUNBO1FBRURmOzs7Ozs7Ozs7V0FTR0E7UUFDSEEsMENBQW9CQSxHQUFwQkEsVUFBcUJBLEtBQWNBO1lBQy9CZ0IsSUFBSUEsUUFBUUEsR0FBR0EsRUFBRUEsQ0FBQ0EsS0FBS0EsRUFBRUEsQ0FBQ0E7WUFDMUJBLElBQUlBLE9BQU9BLEdBQUdBO2dCQUNWQSxXQUFXQSxFQUFFQSxTQUFTQTtnQkFDdEJBLFNBQVNBLEVBQUVBLHNCQUFzQkE7YUFDcENBLENBQUNBO1lBQ0ZBLEVBQUVBLENBQUNBLENBQUNBLEtBQUtBLENBQUNBLENBQUNBLENBQUNBO2dCQUNSQSxPQUFPQSxDQUFDQSxXQUFXQSxHQUFHQSxLQUFLQSxDQUFDQTtZQUNoQ0EsQ0FBQ0E7WUFFREEsSUFBSUEsQ0FBQ0EsY0FBY0EsQ0FBQ0EsT0FBT0EsQ0FBQ0EsQ0FDdkJBLElBQUlBLENBQUNBLFVBQUNBLGNBQWNBO2dCQUNqQkEsSUFBSUEsV0FBV0EsR0FBR0E7b0JBQ2RBLFdBQVdBLEVBQUVBLFNBQVNBO29CQUN0QkEsYUFBYUEsRUFBRUEsU0FBU0E7aUJBQzNCQSxDQUFDQTtnQkFDRkEsQUFDQUEsbUVBRG1FQTtnQkFDbkVBLENBQUNBLENBQUNBLGNBQWNBLENBQUNBLENBQUNBLFlBQVlBLENBQUNBLGNBQWNBLENBQUNBLENBQUNBLElBQUlBLENBQUNBO29CQUNoRCxJQUFJLFFBQVEsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxDQUFDO29CQUM1QyxJQUFJLFNBQVMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFDO29CQUM5QyxFQUFFLENBQUMsQ0FBQyxRQUFRLENBQUMsTUFBTSxHQUFHLENBQUMsSUFBSSxTQUFTLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7d0JBQzlDLFdBQVcsQ0FBQyxRQUFRLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUMsR0FBRyxTQUFTLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUM7b0JBQ2xFLENBQUM7Z0JBQ0wsQ0FBQyxDQUFDQSxDQUFDQTtnQkFDSEEsQUFDQUEscUZBRHFGQTtnQkFDckZBLFdBQVdBLENBQUNBLGFBQWFBLEdBQUdBLFFBQVFBLENBQUNBLG1CQUFtQkEsR0FDcERBLENBQUNBLFFBQVFBLENBQUNBLG1CQUFtQkEsR0FBR0EsV0FBV0EsQ0FBQ0EsV0FBV0EsQ0FBQ0EsR0FBR0EsV0FBV0EsQ0FBQ0EsV0FBV0EsQ0FBQ0E7Z0JBQ3ZGQSxRQUFRQSxDQUFDQSxPQUFPQSxDQUFDQSxXQUFXQSxDQUFDQSxDQUFDQTtZQUNsQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7WUFDUEEsTUFBTUEsQ0FBQ0EsUUFBUUEsQ0FBQ0EsT0FBT0EsQ0FBQ0E7UUFDNUJBLENBQUNBO1FBRURoQjs7Ozs7Ozs7Ozs7V0FXR0E7UUFDSEEsMkNBQXFCQSxHQUFyQkEsVUFBc0JBLEtBQWFBLEVBQUVBLEtBQWFBLEVBQUVBLFdBQXdCQSxFQUFFQSxJQUFJQTtZQUM5RWlCLEVBQUVBLENBQUNBLENBQUNBLENBQUNBLEtBQUtBLENBQUNBLHNCQUFzQkEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7Z0JBQ2hDQSxJQUFJQSxRQUFRQSxHQUFHQSxFQUFFQSxDQUFDQSxLQUFLQSxFQUFFQSxDQUFDQTtnQkFFMUJBLEFBRUFBO21GQURtRUE7Z0JBQ25FQSxLQUFLQSxDQUFDQSxzQkFBc0JBLEdBQUdBLFFBQVFBLENBQUNBLE9BQU9BLENBQUNBO2dCQUVoREEsQUFDQUEsK0VBRCtFQTtnQkFDL0VBLFFBQVFBLENBQUNBLE9BQU9BLENBQUNBLEtBQUtBLENBQUNBLENBQUNBO2dCQUN4QkEsZUFBZUEsQ0FBQ0Esa0JBQWtCQSxDQUFDQSxLQUFLQSxFQUFFQSxXQUFXQSxDQUFDQSxDQUFDQTtZQUMzREEsQ0FBQ0E7WUFFREEsQUFDQUEsaUVBRGlFQTtZQUNqRUEsS0FBS0EsQ0FBQ0EsV0FBV0EsR0FBR0EsSUFBSUEsQ0FBQ0EsbUJBQW1CQSxDQUFDQSxXQUFXQSxDQUFDQSxDQUFDQTtZQUUxREEsQUFDQUEsZ0RBRGdEQTtnQkFDNUNBLHVCQUF1QkEsR0FBR0EsSUFBSUEsQ0FBQ0EsZ0JBQWdCQSxDQUFDQSxXQUFXQSxDQUFDQSxDQUFDQTtZQUNqRUEsRUFBRUEsQ0FBQ0EsQ0FBQ0EsdUJBQXVCQSxDQUFDQSxDQUFDQSxDQUFDQTtnQkFDMUJBLEtBQUtBLENBQUNBLElBQUlBLENBQUNBLGlCQUFpQkEsR0FBR0EsdUJBQXVCQSxDQUFDQTtZQUMzREEsQ0FBQ0E7WUFFREEsQUFDQUEsOEZBRDhGQTtZQUM5RkEsSUFBSUEsQ0FBQ0EsMEJBQTBCQSxDQUFDQSxXQUFXQSxFQUFFQSxJQUFJQSxDQUFDQSxNQUFNQSxDQUFDQSxDQUFDQTtRQUM5REEsQ0FBQ0E7UUFFRGpCOzs7Ozs7OztXQVFHQTtRQUNIQSxnREFBMEJBLEdBQTFCQSxVQUEyQkEsV0FBd0JBLEVBQUVBLFlBQTJCQTtZQUM1RWtCLEFBQ0FBLDJFQUQyRUE7WUFDM0VBLENBQUNBLENBQUNBLFdBQVdBLENBQUNBLENBQUNBLFlBQVlBLENBQUNBLElBQUlBLENBQUNBLENBQUNBLElBQUlBLENBQUNBO2dCQUNuQyxBQUNBLG1DQURtQztvQkFDL0IsVUFBVSxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7Z0JBRTVDLEVBQUUsQ0FBQyxDQUFDLFVBQVUsS0FBSyxRQUFRLENBQUMsQ0FBQyxDQUFDO29CQUMxQixJQUFJLFVBQVUsR0FBRyxRQUFRLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO29CQUM5QyxBQUNBLG1DQURtQztvQkFDbkMsWUFBWSxDQUFDLFlBQVksQ0FBQyxVQUFVLENBQUMsQ0FBQztnQkFDMUMsQ0FBQztZQUNMLENBQUMsQ0FBQ0EsQ0FBQ0E7UUFDUEEsQ0FBQ0E7UUFFRGxCOzs7Ozs7OztXQVFHQTtRQUNIQSxpQ0FBV0EsR0FBWEEsVUFBWUEsSUFBSUE7WUFDWm1CLElBQUlBLFFBQVFBLEdBQUdBLEVBQUVBLENBQUNBLEtBQUtBLEVBQUVBLENBQUNBO1lBRTFCQSxJQUFJQSxRQUFRQSxHQUFHQSxVQUFVQSxDQUFDQSxxQkFBcUJBLENBQUNBLElBQUlBLENBQUNBLENBQUNBO1lBQ3REQSxJQUFJQSxPQUFPQSxHQUFHQSw4QkFBOEJBLENBQUNBLElBQUlBLENBQUNBLFNBQVNBLENBQUNBLENBQUNBLENBQUNBLENBQUNBLENBQUNBO1lBQ2hFQSxJQUFJQSxDQUFDQSxxQkFBcUJBLENBQUNBLE9BQU9BLEVBQUVBLElBQUlBLENBQUNBLE1BQU1BLENBQUNBLENBQzNDQSxJQUFJQSxDQUFDQSxVQUFDQSxHQUFHQTtnQkFDTkEsS0FBS0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsR0FBR0EsRUFBRUEsUUFBUUEsQ0FBQ0EsR0FBR0EsRUFBRUE7b0JBQzFCQSxZQUFZQSxFQUFFQSxVQUFVQTtvQkFDeEJBLE9BQU9BLEVBQUVBO3dCQUNMQSxjQUFjQSxFQUFFQSwwQkFBMEJBO3dCQUMxQ0EsVUFBVUEsRUFBRUEsY0FBTUEsT0FBQUEsUUFBUUEsQ0FBQ0EsVUFBVUEsR0FBR0EsUUFBUUEsQ0FBQ0EsVUFBVUEsR0FBR0EsSUFBSUEsRUFBaERBLENBQWdEQTtxQkFDckVBO29CQUNEQSxpQkFBaUJBLEVBQUVBLFVBQUNBLElBQUlBLEVBQUVBLGFBQWFBO3dCQUNuQ0EsRUFBRUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsUUFBUUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7NEJBQ25CQSxJQUFJQSxHQUFHQSxDQUFDQSxDQUFDQSxRQUFRQSxDQUFDQSxJQUFJQSxDQUFDQSxDQUFDQTt3QkFDNUJBLENBQUNBO3dCQUNEQSxNQUFNQSxDQUFDQSxJQUFJQSxDQUFDQTtvQkFDaEJBLENBQUNBO2lCQUNKQSxDQUFDQSxDQUFDQSxJQUFJQSxDQUFDQSxVQUFDQSxRQUFRQTtvQkFDYkEsQUFFQUEsY0FGY0E7b0JBQ2RBLDhFQUE4RUE7d0JBQzFFQSxLQUFLQSxHQUFHQSxlQUFlQSxDQUFDQSxzQkFBc0JBLENBQUNBLFFBQVFBLENBQUNBLElBQUlBLENBQUNBLENBQUNBO29CQUNsRUEsRUFBRUEsQ0FBQ0EsQ0FBQ0EsS0FBS0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7d0JBQ1JBLE9BQU9BLENBQUNBLEtBQUtBLENBQUNBLEtBQUtBLEVBQUVBLElBQUlBLENBQUNBLENBQUNBO3dCQUMzQkEsUUFBUUEsQ0FBQ0EsTUFBTUEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsQ0FBQ0E7b0JBQzNCQSxDQUFDQTtvQkFBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0E7d0JBQ0pBLFFBQVFBLENBQUNBLE9BQU9BLENBQUNBLFFBQVFBLENBQUNBLElBQUlBLENBQUNBLENBQUNBO29CQUNwQ0EsQ0FBQ0E7Z0JBQ0xBLENBQUNBLEVBQUVBLFVBQUNBLFFBQVFBO29CQUNSQSxBQUNBQSxjQURjQTt3QkFDVkEsS0FBS0EsR0FBR0EsZUFBZUEsQ0FBQ0Esc0JBQXNCQSxDQUFDQSxRQUFRQSxDQUFDQSxJQUFJQSxDQUFDQSxDQUFDQTtvQkFDbEVBLE9BQU9BLENBQUNBLEtBQUtBLENBQUNBLFFBQVFBLENBQUNBLFVBQVVBLEVBQUVBLElBQUlBLENBQUNBLENBQUNBO29CQUN6Q0EsUUFBUUEsQ0FBQ0EsTUFBTUEsQ0FBQ0EsUUFBUUEsQ0FBQ0EsVUFBVUEsR0FBR0EsSUFBSUEsR0FBR0EsS0FBS0EsQ0FBQ0EsQ0FBQ0E7Z0JBQ3hEQSxDQUFDQSxDQUFDQSxDQUFDQTtZQUNQQSxDQUFDQSxDQUFDQSxDQUFDQTtZQUVQQSxNQUFNQSxDQUFDQSxRQUFRQSxDQUFDQSxPQUFPQSxDQUFDQTtRQUM1QkEsQ0FBQ0E7UUFFRG5COzs7Ozs7O1dBT0dBO1FBQ0hBLHlDQUFtQkEsR0FBbkJBLFVBQW9CQSxXQUF3QkE7WUFDeENvQixNQUFNQSxDQUFDQSxDQUFDQSxDQUFDQSxXQUFXQSxDQUFDQSxDQUFDQSxJQUFJQSxDQUFDQSxTQUFTQSxDQUFDQSxDQUFDQSxJQUFJQSxDQUFDQSxpQkFBaUJBLENBQUNBLENBQUNBO1FBQ2xFQSxDQUFDQTtRQUVEcEI7Ozs7Ozs7V0FPR0E7UUFDSEEsc0NBQWdCQSxHQUFoQkEsVUFBaUJBLFdBQXdCQTtZQUNyQ3FCLE1BQU1BLENBQUNBLENBQUNBLENBQUNBLFdBQVdBLENBQUNBLENBQUNBLElBQUlBLENBQUNBLFdBQVdBLENBQUNBLENBQUNBLElBQUlBLENBQUNBLG1CQUFtQkEsQ0FBQ0EsQ0FBQ0E7UUFDdEVBLENBQUNBO1FBRURyQjs7Ozs7Ozs7Ozs7Ozs7Ozs7O1dBa0JHQTtRQUNIQSxvQ0FBY0EsR0FBZEEsVUFBZUEsT0FBT0E7WUFDbEJzQixJQUFJQSxRQUFRQSxHQUFHQTtnQkFDWEEsV0FBV0EsRUFBRUEsVUFBVUE7Z0JBQ3ZCQSxNQUFNQSxFQUFFQSxRQUFRQSxDQUFDQSxVQUFVQTthQUM5QkEsQ0FBQ0E7WUFDRkEsSUFBSUEsSUFBSUEsR0FBR0EsQ0FBQ0EsQ0FBQ0EsTUFBTUEsQ0FBQ0EsRUFBRUEsRUFBRUEsUUFBUUEsRUFBRUEsT0FBT0EsQ0FBQ0EsQ0FBQ0E7WUFDM0NBLElBQUlBLFFBQVFBLEdBQUdBLEVBQUVBLENBQUNBLEtBQUtBLEVBQUVBLENBQUNBO1lBRTFCQSxBQUNBQSwyRUFEMkVBO3FCQUNsRUEsVUFBVUEsQ0FBQ0EsY0FBY0E7Z0JBQzlCQyxFQUFFQSxDQUFDQSxDQUFDQSxJQUFJQSxDQUFDQSxVQUFVQSxDQUFDQSxDQUFDQSxDQUFDQTtvQkFDbEJBLElBQUlBLEtBQUtBLEdBQUdBLENBQUNBLENBQUNBLGNBQWNBLENBQUNBLENBQUNBLFlBQVlBLENBQUNBLElBQUlBLENBQUNBLFVBQVVBLENBQUNBLENBQUNBO29CQUM1REEsTUFBTUEsQ0FBQ0Esa0JBQWtCQSxDQUFDQSxLQUFLQSxDQUFDQSxLQUFLQSxFQUFFQSxFQUFDQSxlQUFlQSxFQUFFQSxJQUFJQSxFQUFFQSxTQUFTQSxFQUFFQSxLQUFLQSxFQUFDQSxDQUFDQSxDQUFDQTtnQkFDdEZBLENBQUNBO2dCQUFDQSxJQUFJQSxDQUFDQSxDQUFDQTtvQkFDSkEsTUFBTUEsQ0FBQ0EsY0FBY0EsQ0FBQ0E7Z0JBQzFCQSxDQUFDQTtZQUNMQSxDQUFDQTtZQUVERCxJQUFJQSxDQUFDQSxXQUFXQSxDQUFDQSxJQUFJQSxDQUFDQSxDQUNqQkEsSUFBSUEsQ0FBQ0EsVUFBQ0EsUUFBUUE7Z0JBQ1hBLEFBQ0FBLGNBRGNBO29CQUNWQSxJQUFJQSxHQUFHQSxJQUFJQSxDQUFDQSxXQUFXQSxDQUFDQSxRQUFRQSxDQUFDQSxDQUFDQTtnQkFDdENBLFFBQVFBLENBQUNBLE9BQU9BLENBQUNBLElBQUlBLENBQUNBLENBQUNBO1lBQzNCQSxDQUFDQSxFQUFFQSxVQUFDQSxRQUFRQTtnQkFDUkEsQUFDQUEsY0FEY0E7Z0JBQ2RBLE1BQU1BLENBQUNBLEtBQUtBLENBQUNBLG1DQUFtQ0EsR0FBR0EsSUFBSUEsQ0FBQ0EsU0FBU0EsR0FBR0EsYUFBYUEsQ0FBQ0EsQ0FBQ0E7Z0JBQ25GQSxRQUFRQSxDQUFDQSxNQUFNQSxDQUFDQSxRQUFRQSxDQUFDQSxDQUFDQTtZQUM5QkEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7WUFFUEEsTUFBTUEsQ0FBQ0EsUUFBUUEsQ0FBQ0EsT0FBT0EsQ0FBQ0E7UUFDNUJBLENBQUNBO1FBRUR0Qjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7V0EwQkdBO1FBQ0hBLG1DQUFhQSxHQUFiQSxVQUFjQSxPQUEyRkE7WUFDckd3QixJQUFJQSxRQUFRQSxHQUFHQTtnQkFDUEEsU0FBU0EsRUFBRUEsZUFBZUE7Z0JBQzFCQSxJQUFJQSxFQUFFQSxFQUFFQTtnQkFDUkEsT0FBT0EsRUFBRUEsRUFBRUE7Z0JBQ1hBLFVBQVVBLEVBQUVBLEVBQUVBO2dCQUNkQSxrQkFBa0JBLEVBQUVBLFVBQVVBO2FBQ2pDQSxFQUNEQSxJQUFJQSxHQUFxQ0EsQ0FBQ0EsQ0FBQ0EsTUFBTUEsQ0FBQ0EsRUFBRUEsRUFBRUEsUUFBUUEsRUFBRUEsT0FBT0EsQ0FBQ0EsQ0FBQ0E7WUFFN0VBLEFBQ0FBLDhGQUQ4RkE7WUFDOUZBLEVBQUVBLENBQUNBLENBQUNBLENBQUNBLElBQUlBLENBQUNBLElBQUlBLElBQUlBLElBQUlBLENBQUNBLE9BQU9BLENBQUNBLENBQUNBLENBQUNBO2dCQUM3QkEsSUFBSUEsQ0FBQ0EsSUFBSUEsR0FBR0EsSUFBSUEsQ0FBQ0Esd0JBQXdCQSxDQUFDQSxJQUFJQSxDQUFDQSxPQUFPQSxDQUFDQSxDQUFDQTtZQUM1REEsQ0FBQ0E7WUFFREEsTUFBTUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsY0FBY0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0E7UUFFckNBLENBQUNBO1FBRUR4Qjs7Ozs7Ozs7Ozs7O1dBWUdBO1FBQ0hBLG9DQUFjQSxHQUFkQSxVQUFlQSxLQUFhQSxFQUFFQSxRQUFrQkEsRUFBRUEsT0FBT0E7WUFDckR5QixJQUFJQSxRQUFRQSxHQUFHQTtnQkFDUEEsUUFBUUEsRUFBRUEsUUFBUUE7Z0JBQ2xCQSxlQUFlQSxFQUFFQSxJQUFJQTtnQkFDckJBLEVBQUVBLEVBQUVBLFFBQVFBLENBQUNBLEVBQUVBO2dCQUNmQSxRQUFRQSxFQUFFQSxLQUFLQSxDQUFDQSxJQUFJQSxDQUFDQSxTQUFTQSxFQUFFQTtnQkFDaENBLFNBQVNBLEVBQUVBLGlCQUFpQkE7Z0JBQzVCQSxNQUFNQSxFQUFFQSxRQUFRQSxDQUFDQSxRQUFRQSxFQUFFQTtnQkFDM0JBLFVBQVVBLEVBQUVBLEVBQUVBO2dCQUNkQSxNQUFNQSxFQUFFQSxLQUFLQSxDQUFDQSxJQUFJQSxDQUFDQSxjQUFjQSxFQUFFQTthQUN0Q0EsRUFDREEsUUFBUUEsR0FBR0EsRUFBRUEsQ0FBQ0EsS0FBS0EsRUFBRUEsRUFDckJBLElBQUlBLEdBQStFQSxDQUFDQSxDQUFDQSxNQUFNQSxDQUFDQSxFQUFFQSxFQUFFQSxRQUFRQSxFQUFFQSxPQUFPQSxDQUFDQSxDQUFDQTtZQUV2SEEsRUFBRUEsQ0FBQ0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsZUFBZUEsS0FBS0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7Z0JBQ2hDQSxJQUFJQSxjQUFjQSxHQUFHQSxDQUFDQSxDQUFDQSxLQUFLQSxDQUFDQSxLQUFLQSxDQUFDQSxJQUFJQSxDQUFDQSxNQUFNQSxFQUFFQSxFQUFDQSxRQUFRQSxFQUFFQSxLQUFLQSxFQUFDQSxDQUFDQSxDQUFDQTtnQkFDbkVBLElBQUlBLENBQUNBLFVBQVVBLEdBQUdBLGVBQWVBLENBQUNBLGtCQUFrQkEsQ0FBQ0EsY0FBY0EsRUFBRUEsUUFBUUEsQ0FBQ0EsQ0FBQ0E7WUFDbkZBLENBQUNBO1lBRURBLEVBQUVBLENBQUNBLENBQUNBLEtBQUtBLENBQUNBLElBQUlBLENBQUNBLE1BQU1BLElBQUlBLENBQUNBLElBQUlBLENBQUNBLE1BQU1BLENBQUNBLENBQUNBLENBQUNBO2dCQUNwQ0EsSUFBSUEsQ0FBQ0EsTUFBTUEsR0FBR0EsS0FBS0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsTUFBTUEsQ0FBQ0E7WUFDcENBLENBQUNBO1lBRURBLEFBQ0FBLDhDQUQ4Q0E7WUFDOUNBLGVBQWVBLENBQUNBLHNCQUFzQkEsQ0FBQ0EsUUFBUUEsRUFBRUEsSUFBSUEsRUFBRUEsUUFBUUEsQ0FBQ0EsT0FBT0EsQ0FBQ0EsQ0FBQ0E7WUFFekVBLEFBRUFBLG9HQUZvR0E7WUFDcEdBLDRDQUE0Q0E7WUFDNUNBLElBQUlBLENBQUNBLGNBQWNBLENBQUNBLElBQUlBLENBQUNBLENBQ3BCQSxJQUFJQSxDQUFDQSxVQUFVQSxRQUFRQTtnQkFDcEIsSUFBSSxZQUFZLEdBQUcsZUFBZSxDQUFDLGdCQUFnQixDQUFDLEtBQUssRUFBRSxRQUFRLENBQUMsUUFBUSxFQUFFLEVBQUUsUUFBUSxFQUFFLElBQUksQ0FBQyxDQUFDO2dCQUNoRyxBQUNBLDRDQUQ0QztnQkFDNUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDaEQsQ0FBQyxFQUFFQSxVQUFVQSxHQUFHQTtnQkFDWixRQUFRLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ3pCLENBQUMsQ0FBQ0EsQ0FBQ0E7WUFFUEEsTUFBTUEsQ0FBQ0EsUUFBUUEsQ0FBQ0EsT0FBT0EsQ0FBQ0E7UUFDNUJBLENBQUNBO1FBRUR6Qjs7Ozs7V0FLR0E7UUFDSEEsK0NBQXlCQSxHQUF6QkEsVUFBMEJBLElBQUlBO1lBQzFCMEIsSUFBSUEsWUFBWUEsR0FBR0EsSUFBSUEsQ0FBQ0E7WUFDeEJBLElBQUlBLFlBQVlBLEdBQUdBLFVBQUNBLE1BQU1BO2dCQUN0QkEsQ0FBQ0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsTUFBTUEsRUFBRUEsVUFBQ0EsS0FBS0E7b0JBQ2pCQSxFQUFFQSxDQUFDQSxDQUFDQSxDQUFDQSxJQUFJQSxDQUFDQSxLQUFLQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQTt3QkFDZkEsTUFBTUEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsU0FBU0EsR0FBR0EsS0FBS0EsR0FBR0EseUNBQXlDQSxDQUFDQSxDQUFDQTt3QkFDNUVBLFlBQVlBLEdBQUdBLEtBQUtBLENBQUNBO29CQUN6QkEsQ0FBQ0E7Z0JBQ0xBLENBQUNBLENBQUNBLENBQUNBO1lBQ1BBLENBQUNBLENBQUNBO1lBR0ZBLE1BQU1BLENBQUNBLENBQUNBLElBQUlBLENBQUNBLFNBQVNBLENBQUNBLENBQUNBLENBQUNBO2dCQUNyQkEsS0FBS0EsNEJBQTRCQTtvQkFDN0JBLFlBQVlBLENBQUNBLENBQUNBLGVBQWVBLENBQUNBLENBQUNBLENBQUNBO29CQUNoQ0EsS0FBS0EsQ0FBQ0E7Z0JBQ1ZBLEtBQUtBLDRCQUE0QkE7b0JBQzdCQSxZQUFZQSxDQUFDQSxDQUFDQSxXQUFXQSxDQUFDQSxDQUFDQSxDQUFDQTtvQkFDNUJBLEtBQUtBLENBQUNBO2dCQUNWQSxLQUFLQSxtQkFBbUJBO29CQUNwQkEsWUFBWUEsQ0FBQ0EsQ0FBQ0EsVUFBVUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7b0JBQzNCQSxLQUFLQSxDQUFDQTtnQkFDVkEsS0FBS0EseUJBQXlCQTtvQkFDMUJBLFlBQVlBLENBQUNBLENBQUNBLFVBQVVBLEVBQUVBLElBQUlBLENBQUNBLENBQUNBLENBQUNBO29CQUNqQ0EsS0FBS0EsQ0FBQ0E7WUFDZEEsQ0FBQ0E7WUFDREEsTUFBTUEsQ0FBQ0EsWUFBWUEsQ0FBQ0E7UUFDeEJBLENBQUNBO1FBR0wxQixrQkFBQ0E7SUFBREEsQ0FwMUJBckksQUFvMUJDcUksSUFBQXJJO0lBcDFCWUEsY0FBV0EsR0FBWEEsV0FvMUJaQSxDQUFBQTtJQUdEQSxPQUFPQSxDQUNGQSxNQUFNQSxDQUFDQSxjQUFjQSxDQUFDQSxDQUN0QkEsT0FBT0EsQ0FBQ0EsZUFBZUEsRUFBRUEsV0FBV0EsQ0FBQ0EsQ0FBQ0E7QUFFL0NBLENBQUNBLEVBcDJCTSxFQUFFLEtBQUYsRUFBRSxRQW8yQlI7O0FDdDJCRCw4Q0FBOEM7QUFFOUMsSUFBTyxFQUFFLENBb29CUjtBQXBvQkQsV0FBTyxFQUFFLEVBQUMsQ0FBQztJQUNQQSxZQUFZQSxDQUFDQTtJQUViQSxBQVVBQTs7Ozs7Ozs7O09BREdBO1FBQ1VBLGFBQWFBO1FBQ3RCZ0ssU0FEU0EsYUFBYUEsQ0FDRkEsY0FBMkJBLEVBQVVBLGVBQTZCQSxFQUNsRUEsYUFBeUJBLEVBQVVBLGNBQWNBLEVBQVVBLHVCQUF1QkEsRUFDbEZBLHdCQUF3QkE7WUFGeEJDLG1CQUFjQSxHQUFkQSxjQUFjQSxDQUFhQTtZQUFVQSxvQkFBZUEsR0FBZkEsZUFBZUEsQ0FBY0E7WUFDbEVBLGtCQUFhQSxHQUFiQSxhQUFhQSxDQUFZQTtZQUFVQSxtQkFBY0EsR0FBZEEsY0FBY0EsQ0FBQUE7WUFBVUEsNEJBQXVCQSxHQUF2QkEsdUJBQXVCQSxDQUFBQTtZQUNsRkEsNkJBQXdCQSxHQUF4QkEsd0JBQXdCQSxDQUFBQTtRQUU1Q0EsQ0FBQ0E7UUFFREQ7Ozs7Ozs7OztXQVNHQTtRQUNIQSw4Q0FBc0JBLEdBQXRCQSxVQUF1QkEsV0FBdUJBO1lBQzFDRSxJQUFJQSxLQUFLQSxHQUFHQSxJQUFJQSxDQUFDQTtZQUNqQkEsQUFDQUEsZ0dBRGdHQTtnQkFDNUZBLGFBQWFBLEdBQUdBLENBQUNBLFdBQVdBLEVBQUVBLGFBQWFBLENBQUNBLENBQUNBO1lBQ2pEQSxDQUFDQSxDQUFDQSxJQUFJQSxDQUFDQSxhQUFhQSxFQUFFQSxVQUFDQSxPQUFPQTtnQkFDMUJBLENBQUNBLENBQUNBLFdBQVdBLENBQUNBLENBQUNBLElBQUlBLENBQUNBLE9BQU9BLENBQUNBLENBQUNBLElBQUlBLENBQUNBO29CQUM5QixLQUFLLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDO29CQUN2QixBQUNBLDJCQUQyQjtvQkFDM0IsTUFBTSxDQUFDLEtBQUssQ0FBQztnQkFDakIsQ0FBQyxDQUFDQSxDQUFDQTtZQUNQQSxDQUFDQSxDQUFDQSxDQUFDQTtZQUNIQSxNQUFNQSxDQUFDQSxLQUFLQSxDQUFDQTtRQUNqQkEsQ0FBQ0E7UUFFREY7O2FBRUtBO1FBQ0xBLGlEQUF5QkEsR0FBekJBLFVBQTBCQSxJQUFTQTtZQUMvQkcsSUFBSUEsT0FBT0EsR0FBR0EsSUFBSUEsSUFBSUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsT0FBT0EsRUFBRUEsR0FBR0EsSUFBSUEsQ0FBQ0EsaUJBQWlCQSxFQUFFQSxHQUFHQSxFQUFFQSxHQUFHQSxJQUFJQSxDQUFDQSxDQUFDQTtZQUU5RUEsSUFBSUEsTUFBTUEsR0FBR0EsSUFBSUEsQ0FBQ0EsaUJBQWlCQSxFQUFFQSxHQUFHQSxFQUFFQSxDQUFDQTtZQUMzQ0EsSUFBSUEsS0FBS0EsR0FBR0EsSUFBSUEsQ0FBQ0EsUUFBUUEsRUFBRUEsQ0FBQ0E7WUFFNUJBLE9BQU9BLENBQUNBLFFBQVFBLENBQUNBLEtBQUtBLEdBQUdBLE1BQU1BLENBQUNBLENBQUNBO1lBRWpDQSxNQUFNQSxDQUFDQSxPQUFPQSxDQUFDQTtRQUNuQkEsQ0FBQ0E7UUFFREg7Ozs7Ozs7Ozs7Ozs7V0FhR0E7UUFDSEEsOENBQXNCQSxHQUF0QkEsVUFBdUJBLEtBQVlBLEVBQUVBLEtBQVlBLEVBQUVBLFlBQTBCQTtZQUE3RUksaUJBaUJDQTtZQWhCR0EsTUFBTUEsQ0FBQ0EsVUFBQ0EsU0FBbUJBO2dCQUN2QkEsQUFDQUEsNENBRDRDQTtnQkFDNUNBLFNBQVNBLENBQUNBLFFBQVFBLEdBQUdBLGNBQU1BLG1CQUFZQSxFQUFaQSxDQUFZQSxDQUFDQTtnQkFFeENBLEFBQ0FBLDZFQUQ2RUE7Z0JBQzdFQSxTQUFTQSxDQUFDQSxRQUFRQSxHQUFHQSxjQUFNQSxZQUFLQSxFQUFMQSxDQUFLQSxDQUFDQTtnQkFFakNBLEFBR0FBLCtEQUgrREE7Z0JBQy9EQSxtQ0FBbUNBO29CQUUvQkEsUUFBUUEsR0FBR0EsSUFBSUEsS0FBS0EsQ0FBQ0EsT0FBT0EsQ0FBQ0EsU0FBU0EsQ0FBQ0EsQ0FBQ0E7Z0JBRTVDQSxBQUVBQTtvQ0FEb0JBO2dCQUNwQkEsTUFBTUEsQ0FBQ0EsS0FBSUEsQ0FBQ0EsY0FBY0EsQ0FBQ0EsY0FBY0EsQ0FBQ0EsUUFBUUEsRUFBRUEsWUFBWUEsQ0FBQ0EsQ0FBQ0E7WUFDdEVBLENBQUNBLENBQUFBO1FBQ0xBLENBQUNBO1FBRURKOzs7Ozs7Ozs7O1dBVUdBO1FBQ0hBLHFEQUE2QkEsR0FBN0JBLFVBQThCQSxnQkFBbUNBLEVBQUVBLFdBQXVCQTtZQUExRkssaUJBc0NDQTtZQXJDR0EsSUFBSUEsUUFBUUEsR0FBR0EsRUFBRUEsQ0FBQ0E7WUFFbEJBLEFBQ0FBLHNGQURzRkE7WUFDdEZBLENBQUNBLENBQUNBLElBQUlBLENBQUNBLGdCQUFnQkEsRUFBRUEsVUFBQ0EsS0FBS0E7Z0JBQzNCQSxFQUFFQSxDQUFDQSxDQUFDQSxLQUFLQSxDQUFDQSxVQUFVQSxDQUFDQSxDQUFDQSxDQUFDQTtvQkFDbkJBLFFBQVFBLENBQUNBLEtBQUtBLENBQUNBLFVBQVVBLENBQUNBLEdBQUdBLEtBQUtBLENBQUNBO2dCQUN2Q0EsQ0FBQ0E7WUFDTEEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7WUFFSEEsQUFDQUEsMkNBRDJDQTtnQkFDdkNBLE1BQU1BLEdBQUdBLENBQUNBLENBQUNBLFdBQVdBLENBQUNBLENBQUNBLFlBQVlBLENBQUNBLE9BQU9BLENBQUNBLENBQUNBO1lBRWxEQSxDQUFDQSxDQUFDQSxJQUFJQSxDQUFDQSxNQUFNQSxFQUFFQSxVQUFDQSxRQUFRQTtnQkFHcEJBLElBQUlBLFVBQVVBLEdBQUdBLENBQUNBLENBQUNBLFFBQVFBLENBQUNBLENBQUNBLElBQUlBLENBQUNBLFlBQVlBLENBQUNBLENBQUNBO2dCQUNoREEsSUFBSUEsZUFBZUEsR0FBR0EsUUFBUUEsQ0FBQ0EsVUFBVUEsQ0FBQ0EsQ0FBQ0E7Z0JBRTNDQSxBQUNBQSwyREFEMkRBO2dCQUMzREEsRUFBRUEsQ0FBQ0EsQ0FBQ0EsZUFBZUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7b0JBRWxCQSxLQUFJQSxDQUFDQSw2QkFBNkJBLENBQUNBLFFBQVFBLEVBQUVBLGVBQWVBLEVBQUVBLEtBQUlBLENBQUNBLHdCQUF3QkEsQ0FBQ0EsQ0FBQ0E7b0JBRTdGQSxBQUNBQSx1RkFEdUZBO29CQUN2RkEsRUFBRUEsQ0FBQ0EsQ0FBQ0EsZUFBZUEsQ0FBQ0EsVUFBVUEsS0FBS0EsUUFBUUEsSUFBSUEsZUFBZUEsQ0FBQ0EsVUFBVUEsS0FBS0EsYUFBYUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7d0JBQzFGQSxlQUFlQSxDQUFDQSxPQUFPQSxHQUFHQSxFQUFFQSxDQUFDQTt3QkFDN0JBLEFBQ0FBLHdEQUR3REE7NEJBQ3BEQSxVQUFVQSxHQUFHQSxDQUFDQSxDQUFDQSxRQUFRQSxDQUFDQSxDQUFDQSxJQUFJQSxDQUFDQSxRQUFRQSxDQUFDQSxDQUFDQTt3QkFDNUNBLENBQUNBLENBQUNBLElBQUlBLENBQUNBLFVBQVVBLEVBQUVBLFVBQUNBLFNBQVNBOzRCQUN6QkEsZUFBZUEsQ0FBQ0EsT0FBT0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsU0FBU0EsQ0FBQ0EsQ0FBQ0EsSUFBSUEsRUFBRUEsQ0FBQ0EsQ0FBQ0E7d0JBQ3REQSxDQUFDQSxDQUFDQSxDQUFDQTt3QkFDSEEsZUFBZUEsQ0FBQ0EsT0FBT0EsR0FBR0EsQ0FBQ0EsQ0FBQ0EsUUFBUUEsQ0FBQ0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsU0FBU0EsQ0FBQ0EsQ0FBQ0EsSUFBSUEsRUFBRUEsQ0FBQ0E7b0JBQ2pFQSxDQUFDQTtnQkFDTEEsQ0FBQ0E7WUFDTEEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7WUFFSEEsTUFBTUEsQ0FBQ0EsZ0JBQWdCQSxDQUFDQTtRQUM1QkEsQ0FBQ0E7UUFFREw7Ozs7Ozs7Ozs7O1dBV0dBO1FBQ0hBLG1EQUEyQkEsR0FBM0JBLFVBQTRCQSxJQUFVQSxFQUFFQSxXQUF1QkE7WUFDM0RNLElBQUlBLE9BQU9BLEdBQUdBLElBQUlBLENBQUNBO1lBQ25CQSxDQUFDQSxDQUFDQSxXQUFXQSxDQUFDQSxDQUFDQSxJQUFJQSxDQUFDQSxNQUFNQSxDQUFDQSxDQUFDQSxJQUFJQSxDQUFDQTtnQkFDN0IsT0FBTyxDQUFDLDZCQUE2QixDQUFDLElBQUksRUFBRSxJQUFJLEVBQUUsT0FBTyxDQUFDLHVCQUF1QixDQUFDLENBQUM7WUFDdkYsQ0FBQyxDQUFDQSxDQUFDQTtZQUNIQSxNQUFNQSxDQUFDQSxJQUFJQSxDQUFDQTtRQUNoQkEsQ0FBQ0E7UUFFRE47Ozs7Ozs7OztXQVNHQTtRQUNIQSwwQ0FBa0JBLEdBQWxCQSxVQUFtQkEsS0FBWUEsRUFBRUEsV0FBdUJBO1lBQ3BETyxJQUFJQSxDQUFDQSwyQkFBMkJBLENBQUNBLEtBQUtBLENBQUNBLElBQUlBLEVBQUVBLFdBQVdBLENBQUNBLENBQUNBO1lBQzFEQSxJQUFJQSxDQUFDQSw2QkFBNkJBLENBQUNBLEtBQUtBLENBQUNBLElBQUlBLENBQUNBLE1BQU1BLEVBQUVBLFdBQVdBLENBQUNBLENBQUNBO1FBQ3ZFQSxDQUFDQTtRQUVEUDs7Ozs7Ozs7Ozs7Ozs7V0FjR0E7UUFDSEEscURBQTZCQSxHQUE3QkEsVUFBOEJBLFNBQXFCQSxFQUFFQSxRQUFnQkEsRUFBRUEsY0FBc0JBO1lBQTdGUSxpQkFhQ0E7WUFaR0EsSUFBSUEsY0FBY0EsR0FBR0EsUUFBUUEsSUFBSUEsRUFBRUEsQ0FBQ0E7WUFDcENBLElBQUlBLFlBQVlBLEdBQUdBLGNBQWNBLElBQUlBLEVBQUVBLENBQUNBO1lBQ3hDQSxJQUFJQSxhQUFhQSxHQUFHQSxTQUFTQSxDQUFDQSxVQUFVQSxDQUFDQTtZQUV6Q0EsQ0FBQ0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsYUFBYUEsRUFBRUEsVUFBQ0EsSUFBSUEsRUFBRUEsT0FBT0E7Z0JBQ2hDQSxJQUFJQSxRQUFRQSxHQUFHQSxhQUFhQSxDQUFDQSxPQUFPQSxDQUFDQSxDQUFDQSxJQUFJQSxDQUFDQTtnQkFDM0NBLGNBQWNBLENBQUNBLFFBQVFBLENBQUNBLEdBQUdBLENBQUNBLENBQUNBLFNBQVNBLENBQUNBLENBQUNBLElBQUlBLENBQUNBLFFBQVFBLENBQUNBLENBQUNBO2dCQUN2REEsRUFBRUEsQ0FBQ0EsQ0FBQ0EsWUFBWUEsQ0FBQ0EsUUFBUUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7b0JBQ3pCQSxjQUFjQSxDQUFDQSxRQUFRQSxDQUFDQSxHQUFHQSxLQUFJQSxDQUFDQSxnQkFBZ0JBLENBQUNBLGNBQWNBLENBQUNBLFFBQVFBLENBQUNBLEVBQUVBLFlBQVlBLENBQUNBLFFBQVFBLENBQUNBLENBQUNBLENBQUNBO2dCQUN2R0EsQ0FBQ0E7WUFDTEEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7WUFDSEEsTUFBTUEsQ0FBQ0EsY0FBY0EsQ0FBQ0E7UUFDMUJBLENBQUNBO1FBR0RSLHFDQUFhQSxHQUFiQSxVQUFjQSxHQUFHQTtZQUNiUyxBQWdDQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7ZUFER0E7WUFDSEEsRUFBRUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsS0FBS0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7Z0JBQ2RBLEFBQ0FBLG1EQURtREE7b0JBQy9DQSxHQUFHQSxHQUFHQSxRQUFRQSxDQUFDQSxHQUFHQSxDQUFDQSxDQUFDQTtnQkFDeEJBLEVBQUVBLENBQUNBLENBQUNBLEdBQUdBLEdBQUdBLENBQUNBLENBQUNBLENBQUNBLENBQUNBO29CQUNWQSxNQUFNQSxDQUFDQSxHQUFHQSxDQUFDQTtnQkFDZkEsQ0FBQ0E7Z0JBQUNBLElBQUlBLENBQUNBLENBQUNBO29CQUNKQSxNQUFNQSxDQUFDQSxFQUFFQSxDQUFDQTtnQkFDZEEsQ0FBQ0E7WUFDTEEsQ0FBQ0E7WUFBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0E7Z0JBQ0pBLEFBQ0FBLDZDQUQ2Q0E7Z0JBQzdDQSxNQUFNQSxDQUFDQSxJQUFJQSxDQUFDQSxhQUFhQSxDQUFDQSxHQUFHQSxDQUFDQSxDQUFDQTtZQUNuQ0EsQ0FBQ0E7UUFDTEEsQ0FBQ0E7UUFFRFQsaUNBQVNBLEdBQVRBLFVBQVVBLEdBQVVBO1lBQ2hCVSxBQUNBQSw0R0FENEdBO1lBQzVHQSxNQUFNQSxDQUFDQSxHQUFHQSxLQUFLQSxHQUFHQSxJQUFJQSxHQUFHQSxLQUFLQSxNQUFNQSxJQUFJQSxHQUFHQSxLQUFLQSxNQUFNQSxDQUFDQTtRQUMzREEsQ0FBQ0E7UUFFRFYsOEJBQU1BLEdBQU5BLFVBQU9BLEdBQVVBO1lBQ2JXLEVBQUVBLENBQUNBLENBQUNBLEdBQUdBLENBQUNBLE1BQU1BLEtBQUtBLENBQUNBLENBQUNBLENBQUNBLENBQUNBO2dCQUNuQkEsTUFBTUEsQ0FBQ0EsSUFBSUEsQ0FBQ0E7WUFDaEJBLENBQUNBO1lBQUNBLElBQUlBLENBQUNBLENBQUNBO2dCQUNKQSxJQUFJQSxRQUFRQSxHQUFHQSxHQUFHQSxDQUFDQSxLQUFLQSxDQUFDQSxJQUFJQSxDQUFDQSxDQUFDQTtnQkFDL0JBLEFBQ0FBLHlGQUR5RkE7Z0JBQ3pGQSxNQUFNQSxDQUFDQSxJQUFJQSxDQUFDQSxnQkFBZ0JBLENBQUNBLFFBQVFBLENBQUNBLENBQUNBLENBQUNBLEVBQUVBLFFBQVFBLENBQUNBLENBQUNBLENBQUNBLENBQUNBLENBQUNBO1lBQzNEQSxDQUFDQTtRQUNMQSxDQUFDQTtRQUVEWCxxQ0FBYUEsR0FBYkEsVUFBY0EsR0FBVUE7WUFDcEJZLEVBQUVBLENBQUNBLENBQUNBLEdBQUdBLENBQUNBLE1BQU1BLEtBQUtBLENBQUNBLENBQUNBLENBQUNBLENBQUNBO2dCQUNuQkEsTUFBTUEsQ0FBQ0EsRUFBRUEsQ0FBQ0E7WUFDZEEsQ0FBQ0E7WUFBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0E7Z0JBQ0pBLElBQUlBLHFCQUFxQkEsR0FBR0EsRUFBRUEsQ0FBQ0E7Z0JBQy9CQSxJQUFJQSxlQUFlQSxHQUFHQSxHQUFHQSxDQUFDQSxLQUFLQSxDQUFDQSxJQUFJQSxDQUFDQSxDQUFDQTtnQkFDdENBLEdBQUdBLENBQUNBLENBQUNBLEdBQUdBLENBQUNBLENBQUNBLEdBQUdBLENBQUNBLEVBQUVBLENBQUNBLEdBQUdBLGVBQWVBLENBQUNBLE1BQU1BLEVBQUVBLENBQUNBLEVBQUVBLEVBQUVBLENBQUNBO29CQUM5Q0EsRUFBRUEsQ0FBQ0EsQ0FBQ0EsZUFBZUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsTUFBTUEsS0FBS0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7d0JBQ2xDQSxxQkFBcUJBLENBQUNBLElBQUlBLENBQUNBLGVBQWVBLENBQUNBLENBQUNBLENBQUNBLENBQUNBLENBQUNBO29CQUNuREEsQ0FBQ0E7Z0JBQ0xBLENBQUNBO2dCQUNEQSxNQUFNQSxDQUFDQSxxQkFBcUJBLENBQUNBO1lBQ2pDQSxDQUFDQTtRQUNMQSxDQUFDQTtRQUVEWiw4QkFBTUEsR0FBTkEsVUFBT0EsR0FBVUE7WUFDYmEsRUFBRUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7Z0JBQ1BBLE1BQU1BLENBQUNBLElBQUlBLENBQUNBO1lBQ2hCQSxDQUFDQTtZQUFDQSxJQUFJQSxDQUFDQSxDQUFDQTtnQkFDSkEsQUFDQUEsZ0ZBRGdGQTtvQkFDNUVBLEVBQUVBLEdBQUdBLEdBQUdBLENBQUNBLEtBQUtBLENBQUNBLEdBQUdBLENBQUNBLENBQUNBLENBQUNBLENBQUNBLEtBQUtBLEdBQUdBLEdBQUdBLEdBQUdBLENBQUNBLEtBQUtBLENBQUNBLEdBQUdBLENBQUNBLEdBQUdBLEdBQUdBLENBQUNBLEtBQUtBLENBQUNBLEdBQUdBLENBQUNBLENBQUNBO2dCQUNyRUEsSUFBSUEsQ0FBQ0EsR0FBR0EsRUFBRUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsS0FBS0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsQ0FBQ0E7Z0JBQ3pCQSxJQUFJQSxDQUFDQSxHQUFHQSxFQUFFQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQSxLQUFLQSxDQUFDQSxHQUFHQSxDQUFDQSxDQUFDQTtnQkFDekJBLElBQUlBLEVBQUVBLEdBQUdBLENBQUNBLENBQUNBLENBQUNBLENBQUNBLENBQUNBLEtBQUtBLENBQUNBLEdBQUdBLENBQUNBLENBQUNBO2dCQUN6QkEsTUFBTUEsQ0FBQ0EsSUFBSUEsSUFBSUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsRUFBRUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsQ0FBQ0EsRUFBRUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsRUFBRUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsRUFBRUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsRUFBRUEsRUFBRUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7WUFDL0RBLENBQUNBO1FBQ0xBLENBQUNBO1FBRURiLCtCQUFPQSxHQUFQQSxVQUFRQSxHQUFVQTtZQUNkYyxFQUFFQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFHQSxDQUFDQSxDQUFDQSxDQUFDQTtnQkFDUEEsTUFBTUEsQ0FBQ0EsR0FBR0EsQ0FBQ0E7WUFDZkEsQ0FBQ0E7WUFBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0E7Z0JBQ0pBLE1BQU1BLENBQUNBLFVBQVVBLENBQUNBLEdBQUdBLENBQUNBLENBQUNBO1lBQzNCQSxDQUFDQTtRQUNMQSxDQUFDQTtRQUVEZCw2QkFBS0EsR0FBTEEsVUFBTUEsR0FBVUE7WUFDWmUsRUFBRUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7Z0JBQ1BBLE1BQU1BLENBQUNBLEdBQUdBLENBQUNBO1lBQ2ZBLENBQUNBO1lBQUNBLElBQUlBLENBQUNBLENBQUNBO2dCQUNKQSxNQUFNQSxDQUFDQSxRQUFRQSxDQUFDQSxHQUFHQSxFQUFFQSxFQUFFQSxDQUFDQSxDQUFDQTtZQUM3QkEsQ0FBQ0E7UUFDTEEsQ0FBQ0E7UUFFRGYsZ0NBQVFBLEdBQVJBLFVBQVNBLEdBQVVBLEVBQUVBLE9BQWVBO1lBQ2hDZ0IsRUFBRUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsTUFBTUEsS0FBS0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7Z0JBQ25CQSxNQUFNQSxDQUFDQSxJQUFJQSxDQUFDQTtZQUNoQkEsQ0FBQ0E7WUFBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0E7Z0JBQ0pBLEFBQ0FBLHFCQURxQkE7Z0JBQ3JCQSxNQUFNQSxDQUFDQSxJQUFJQSxDQUFDQSxlQUFlQSxDQUFDQSxNQUFNQSxDQUFDQSxHQUFHQSxFQUFFQSxPQUFPQSxDQUFDQSxDQUFDQTtZQUNyREEsQ0FBQ0E7UUFDTEEsQ0FBQ0E7UUFFRGhCLHFDQUFhQSxHQUFiQSxVQUFjQSxHQUFVQSxFQUFFQSxPQUFlQTtZQUNyQ2lCLEVBQUVBLENBQUNBLENBQUNBLEdBQUdBLENBQUNBLE1BQU1BLEtBQUtBLENBQUNBLENBQUNBLENBQUNBLENBQUNBO2dCQUNuQkEsTUFBTUEsQ0FBQ0EsRUFBRUEsQ0FBQ0E7WUFDZEEsQ0FBQ0E7WUFBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0E7Z0JBQ0pBLElBQUlBLHFCQUFxQkEsR0FBR0EsRUFBRUEsQ0FBQ0E7Z0JBQy9CQSxJQUFJQSxlQUFlQSxHQUFHQSxHQUFHQSxDQUFDQSxLQUFLQSxDQUFDQSxJQUFJQSxDQUFDQSxDQUFDQTtnQkFDdENBLEdBQUdBLENBQUNBLENBQUNBLEdBQUdBLENBQUNBLENBQUNBLEdBQUdBLENBQUNBLEVBQUVBLENBQUNBLEdBQUdBLGVBQWVBLENBQUNBLE1BQU1BLEVBQUVBLENBQUNBLEdBQUdBLENBQUNBLEdBQUdBLENBQUNBLEVBQUVBLENBQUNBO29CQUNwREEsQUFDQUEsMkVBRDJFQTtvQkFDM0VBLEVBQUVBLENBQUNBLENBQUNBLGVBQWVBLENBQUNBLENBQUNBLENBQUNBLENBQUNBLENBQUNBLENBQUNBO3dCQUNyQkEsSUFBSUEsVUFBVUEsR0FBR0EsSUFBSUEsQ0FBQ0EsUUFBUUEsQ0FBQ0EsZUFBZUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsSUFBSUEsR0FBR0EsZUFBZUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsQ0FBQ0EsRUFBRUEsT0FBT0EsQ0FBQ0EsQ0FBQ0E7d0JBQzVGQSxxQkFBcUJBLENBQUNBLElBQUlBLENBQUNBLFVBQVVBLENBQUNBLENBQUNBO29CQUMzQ0EsQ0FBQ0E7Z0JBQ0xBLENBQUNBO2dCQUNEQSxNQUFNQSxDQUFDQSxxQkFBcUJBLENBQUNBO1lBQ2pDQSxDQUFDQTtRQUNMQSxDQUFDQTtRQUVEakIsZ0NBQVFBLEdBQVJBLFVBQVNBLEdBQVVBO1lBQ2ZrQixFQUFFQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFHQSxDQUFDQSxDQUFDQSxDQUFDQTtnQkFDUEEsTUFBTUEsQ0FBQ0EsR0FBR0EsQ0FBQ0E7WUFDZkEsQ0FBQ0E7WUFBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0E7Z0JBQ0pBLEFBQ0FBLHlFQUR5RUE7b0JBQ3JFQSxJQUFJQSxHQUFHQSxJQUFJQSxDQUFDQTtnQkFDaEJBLElBQUFBLENBQUNBO29CQUNHQSxJQUFJQSxHQUFHQSxJQUFJQSxDQUFDQSxLQUFLQSxDQUFDQSxHQUFHQSxDQUFDQSxDQUFDQTtnQkFDM0JBLENBQ0FBO2dCQUFBQSxLQUFLQSxDQUFDQSxDQUFDQSxHQUFHQSxDQUFDQSxDQUFDQSxDQUFDQTtvQkFDVEEsT0FBT0EsQ0FBQ0EsS0FBS0EsQ0FBQ0EsZ0JBQWdCQSxFQUFFQSxHQUFHQSxDQUFDQSxDQUFDQTtnQkFDekNBLENBQUNBO2dCQUNEQSxNQUFNQSxDQUFDQSxJQUFJQSxDQUFDQTtZQUNoQkEsQ0FBQ0E7UUFDTEEsQ0FBQ0E7UUFFRGxCLGdDQUFRQSxHQUFSQSxVQUFTQSxHQUFVQTtZQUNmbUIsTUFBTUEsQ0FBQ0EsR0FBR0EsQ0FBQ0E7UUFDZkEsQ0FBQ0E7UUFFRG5CLDhCQUFNQSxHQUFOQSxVQUFPQSxHQUFVQTtZQUNib0IsRUFBRUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsTUFBTUEsS0FBS0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7Z0JBQ25CQSxNQUFNQSxDQUFDQSxJQUFJQSxDQUFDQTtZQUNoQkEsQ0FBQ0E7WUFDREEsQUFDQUEscUJBRHFCQTtZQUNyQkEsTUFBTUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsYUFBYUEsQ0FBQ0EsTUFBTUEsQ0FBQ0EsR0FBR0EsQ0FBQ0EsQ0FBQ0E7UUFDMUNBLENBQUNBO1FBRURwQixtQ0FBV0EsR0FBWEEsVUFBWUEsR0FBVUE7WUFDbEJxQixFQUFFQSxDQUFDQSxDQUFDQSxHQUFHQSxDQUFDQSxNQUFNQSxLQUFLQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQTtnQkFDbkJBLE1BQU1BLENBQUNBLEVBQUVBLENBQUNBO1lBQ2RBLENBQUNBO1lBQUNBLElBQUlBLENBQUNBLENBQUNBO2dCQUNKQSxJQUFJQSxtQkFBbUJBLEdBQUdBLEVBQUVBLENBQUNBO2dCQUM3QkEsSUFBSUEsYUFBYUEsR0FBR0EsR0FBR0EsQ0FBQ0EsS0FBS0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0E7Z0JBQ3BDQSxHQUFHQSxDQUFDQSxDQUFDQSxHQUFHQSxDQUFDQSxDQUFDQSxHQUFHQSxDQUFDQSxFQUFFQSxDQUFDQSxHQUFHQSxhQUFhQSxDQUFDQSxNQUFNQSxFQUFFQSxDQUFDQSxHQUFHQSxDQUFDQSxHQUFHQSxDQUFDQSxFQUFFQSxDQUFDQTtvQkFDbERBLElBQUlBLFFBQVFBLEdBQUdBLElBQUlBLENBQUNBLE1BQU1BLENBQUNBLGFBQWFBLENBQUNBLENBQUNBLENBQUNBLEdBQUdBLElBQUlBLEdBQUdBLGFBQWFBLENBQUNBLENBQUNBLEdBQUdBLENBQUNBLENBQUNBLENBQUNBLENBQUNBO29CQUMzRUEsbUJBQW1CQSxDQUFDQSxJQUFJQSxDQUFDQSxRQUFRQSxDQUFDQSxDQUFDQTtnQkFDdkNBLENBQUNBO2dCQUNEQSxNQUFNQSxDQUFDQSxtQkFBbUJBLENBQUNBO1lBQy9CQSxDQUFDQTtRQUNMQSxDQUFDQTtRQUVEckI7Ozs7Ozs7Ozs7O1dBV0dBO1FBQ0hBLDBDQUFrQkEsR0FBbEJBLFVBQW1CQSxXQUF1QkEsRUFBRUEsZUFBZ0NBO1lBQTVFc0IsaUJBOEJDQTtZQTdCR0EsSUFBSUEsUUFBUUEsR0FBR0EsRUFBRUEsQ0FBQ0E7WUFDbEJBLElBQUlBLFdBQVdBLEdBQUdBLENBQUNBLENBQUNBLFdBQVdBLENBQUNBLENBQUNBLElBQUlBLENBQUNBLFNBQVNBLENBQUNBLENBQUNBO1lBQ2pEQSxJQUFJQSxZQUFZQSxHQUFHQSxXQUFXQSxDQUFDQSxNQUFNQSxDQUFDQTtZQUV0Q0EsQ0FBQ0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsV0FBV0EsRUFBRUEsVUFBQ0EsVUFBVUEsRUFBRUEsS0FBS0E7Z0JBRWxDQSxBQUdBQTs7bUJBREdBO29CQUNDQSxPQUFPQSxHQUFHQSxLQUFJQSxDQUFDQSxnQkFBZ0JBLENBQUNBLENBQUNBLENBQUNBLFVBQVVBLENBQUNBLENBQUNBLElBQUlBLENBQUNBLFVBQVVBLENBQUNBLEVBQUVBLFVBQVVBLENBQUNBLENBQUNBO2dCQUVoRkEsQUFDQUEsOEVBRDhFQTtvQkFDMUVBLE9BQU9BLEdBQUdBO29CQUNWQSxNQUFNQSxFQUFFQSxLQUFJQSxDQUFDQSxnQkFBZ0JBLENBQUNBLENBQUNBLENBQUNBLFVBQVVBLENBQUNBLENBQUNBLElBQUlBLENBQUNBLFFBQVFBLENBQUNBLEVBQUVBLE1BQU1BLENBQUNBO29CQUNuRUEsQUFDQUEsa0VBRGtFQTtvQkFDbEVBLFFBQVFBLEVBQUVBLEtBQUlBLENBQUNBLHlCQUF5QkEsQ0FBQ0EsT0FBT0EsQ0FBQ0E7b0JBQ2pEQSxBQUNBQSw2RUFENkVBO29CQUM3RUEsT0FBT0EsRUFBRUEsWUFBWUEsR0FBR0EsS0FBS0E7aUJBQ2hDQSxDQUFDQTtnQkFFRkEsQUFDQUEsMkRBRDJEQTtnQkFDM0RBLE9BQU9BLENBQUNBLGVBQWVBLENBQUNBLFVBQVVBLENBQUNBLEdBQy9CQSxLQUFJQSxDQUFDQSxnQkFBZ0JBLENBQUNBLENBQUNBLENBQUNBLFVBQVVBLENBQUNBLENBQUNBLElBQUlBLENBQUNBLGVBQWVBLENBQUNBLFVBQVVBLENBQUNBLEVBQUVBLGVBQWVBLENBQUNBLFVBQVVBLENBQUNBLENBQUNBO2dCQUV0R0EsQUFDQUEsaUNBRGlDQTtnQkFDakNBLFFBQVFBLENBQUNBLE9BQU9BLENBQUNBLE9BQU9BLENBQUNBLENBQUNBO1lBQzlCQSxDQUFDQSxDQUFDQSxDQUFDQTtZQUVIQSxNQUFNQSxDQUFDQSxRQUFRQSxDQUFDQTtRQUNwQkEsQ0FBQ0E7UUFFRHRCOzs7Ozs7Ozs7Ozs7Ozs7V0FlR0E7UUFDSEEsd0NBQWdCQSxHQUFoQkEsVUFBaUJBLEdBQVVBLEVBQUVBLFVBQWtCQSxFQUFFQSxPQUFnREE7WUFFN0Z1QixJQUFJQSxjQUFjQSxHQUFHQSxDQUFDQSxDQUFDQSxRQUFRQSxDQUFDQSxHQUFHQSxDQUFDQSxDQUFDQTtZQUVyQ0EsSUFBSUEsUUFBUUEsQ0FBQ0E7WUFFYkEsTUFBTUEsQ0FBQ0EsQ0FBQ0EsVUFBVUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7Z0JBQ2pCQSxLQUFLQSxhQUFhQTtvQkFDZEEsUUFBUUEsR0FBR0EsSUFBSUEsQ0FBQ0EsYUFBYUEsQ0FBQ0EsY0FBY0EsQ0FBQ0EsQ0FBQ0E7b0JBQzlDQSxLQUFLQSxDQUFDQTtnQkFDVkEsS0FBS0EsU0FBU0E7b0JBQ1ZBLFFBQVFBLEdBQUdBLElBQUlBLENBQUNBLFNBQVNBLENBQUNBLGNBQWNBLENBQUNBLENBQUNBO29CQUMxQ0EsS0FBS0EsQ0FBQ0E7Z0JBQ1ZBLEtBQUtBLFlBQVlBO29CQUNiQSxRQUFRQSxHQUFHQSxJQUFJQSxDQUFDQSxNQUFNQSxDQUFDQSxjQUFjQSxDQUFDQSxDQUFDQTtvQkFDdkNBLEtBQUtBLENBQUNBO2dCQUNWQSxLQUFLQSxVQUFVQSxDQUFDQTtnQkFDaEJBLEtBQUtBLFVBQVVBO29CQUNYQSxBQUNBQSwwRUFEMEVBO29CQUMxRUEsUUFBUUEsR0FBR0EsSUFBSUEsQ0FBQ0EsTUFBTUEsQ0FBQ0EsY0FBY0EsQ0FBQ0EsQ0FBQ0E7b0JBQ3ZDQSxLQUFLQSxDQUFDQTtnQkFDVkEsS0FBS0EsUUFBUUE7b0JBQ1RBLFFBQVFBLEdBQUdBLElBQUlBLENBQUNBLFFBQVFBLENBQUNBLGNBQWNBLEVBQUVBLE9BQU9BLENBQUNBLENBQUNBO29CQUNsREEsS0FBS0EsQ0FBQ0E7Z0JBQ1ZBLEtBQUtBLE1BQU1BO29CQUNQQSxRQUFRQSxHQUFHQSxJQUFJQSxDQUFDQSxNQUFNQSxDQUFDQSxjQUFjQSxDQUFDQSxDQUFDQTtvQkFDdkNBLEtBQUtBLENBQUNBO2dCQUNWQSxLQUFLQSxhQUFhQTtvQkFDZEEsUUFBUUEsR0FBR0EsSUFBSUEsQ0FBQ0EsYUFBYUEsQ0FBQ0EsY0FBY0EsRUFBRUEsT0FBT0EsQ0FBQ0EsQ0FBQ0E7b0JBQ3ZEQSxLQUFLQSxDQUFDQTtnQkFDVkEsS0FBS0EsV0FBV0E7b0JBQ1pBLFFBQVFBLEdBQUdBLElBQUlBLENBQUNBLFdBQVdBLENBQUNBLGNBQWNBLENBQUNBLENBQUNBO29CQUM1Q0EsS0FBS0EsQ0FBQ0E7Z0JBQ1ZBLEtBQUtBLFNBQVNBLENBQUNBO2dCQUNmQSxLQUFLQSxTQUFTQTtvQkFDVkEsUUFBUUEsR0FBR0EsSUFBSUEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsY0FBY0EsQ0FBQ0EsQ0FBQ0E7b0JBQ3RDQSxLQUFLQSxDQUFDQTtnQkFDVkEsS0FBS0EsUUFBUUEsQ0FBQ0E7Z0JBQ2RBLEtBQUtBLFVBQVVBLENBQUNBO2dCQUNoQkEsS0FBS0EsT0FBT0EsQ0FBQ0E7Z0JBQ2JBLEtBQUtBLE9BQU9BO29CQUNSQSxRQUFRQSxHQUFHQSxJQUFJQSxDQUFDQSxPQUFPQSxDQUFDQSxjQUFjQSxDQUFDQSxDQUFDQTtvQkFDeENBLEtBQUtBLENBQUNBO2dCQUNWQSxLQUFLQSxhQUFhQTtvQkFDZEEsUUFBUUEsR0FBR0EsSUFBSUEsQ0FBQ0EsYUFBYUEsQ0FBQ0EsY0FBY0EsQ0FBQ0EsQ0FBQ0E7b0JBQzlDQSxLQUFLQSxDQUFDQTtnQkFDVkEsS0FBS0EsTUFBTUE7b0JBQ1BBLFFBQVFBLEdBQUdBLElBQUlBLENBQUNBLFFBQVFBLENBQUNBLGNBQWNBLENBQUNBLENBQUNBO29CQUN6Q0EsS0FBS0EsQ0FBQ0E7Z0JBQ1ZBLEtBQUtBLFFBQVFBLENBQUNBO2dCQUNkQSxLQUFLQSxNQUFNQSxDQUFDQTtnQkFDWkEsS0FBS0EsTUFBTUEsQ0FBQ0E7Z0JBQ1pBO29CQUNJQSxBQUNBQSwrQ0FEK0NBO29CQUMvQ0EsUUFBUUEsR0FBR0EsSUFBSUEsQ0FBQ0EsUUFBUUEsQ0FBQ0EsY0FBY0EsQ0FBQ0EsQ0FBQ0E7b0JBQ3pDQSxLQUFLQSxDQUFDQTtZQUNkQSxDQUFDQTtZQUNEQSxNQUFNQSxDQUFDQSxRQUFRQSxDQUFDQTtRQUNwQkEsQ0FBQ0E7UUFFRHZCOzs7Ozs7Ozs7Ozs7OztXQWNHQTtRQUNIQSxzQ0FBY0EsR0FBZEEsVUFBZUEsU0FBcUJBLEVBQUVBLGdCQUFzQ0EsRUFDN0RBLE9BQXVJQTtZQUR0SndCLGlCQTBCQ0E7WUF4QkdBLElBQUlBLE1BQU1BLEdBQUdBLEVBQUVBLENBQUNBO1lBQ2hCQSxJQUFJQSxRQUFRQSxHQUFHQSxTQUFTQSxDQUFDQSxVQUFVQSxDQUFDQTtZQUVwQ0EsQUFDQUEsOERBRDhEQTtZQUM5REEsQ0FBQ0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsT0FBT0EsQ0FBQ0EsT0FBT0EsRUFBRUEsVUFBQ0EsZUFBZUE7Z0JBQ3BDQSxNQUFNQSxDQUFDQSxlQUFlQSxDQUFDQSxVQUFVQSxDQUFDQSxHQUFHQSxLQUFJQSxDQUFDQSxjQUFjQSxDQUFDQSxzQkFBc0JBLENBQUNBLGVBQWVBLENBQUNBLFVBQVVBLENBQUNBLENBQUNBO2dCQUM1R0EsMENBQTBDQTtZQUM5Q0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7WUFFSEEsQUFDQUEsNkNBRDZDQTtZQUM3Q0EsQ0FBQ0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsUUFBUUEsRUFBRUEsVUFBQ0EsSUFBSUE7Z0JBQ2xCQSxJQUFJQSxZQUFZQSxHQUFHQSxJQUFJQSxDQUFDQSxJQUFJQSxDQUFDQTtnQkFDN0JBLElBQUlBLFdBQVdBLEdBQUdBLE9BQU9BLENBQUNBLE9BQU9BLENBQUNBLFlBQVlBLENBQUNBLENBQUNBO2dCQUNoREEsSUFBSUEsY0FBY0EsR0FBR0EsT0FBT0EsV0FBV0EsS0FBS0EsV0FBV0EsR0FBR0EsV0FBV0EsQ0FBQ0EsVUFBVUEsR0FBR0EsT0FBT0EsQ0FBQ0EsU0FBU0EsR0FBR0EsWUFBWUEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsTUFBTUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsWUFBWUEsQ0FBQ0E7Z0JBQ3BKQSxJQUFJQSxjQUFjQSxHQUFHQSxPQUFPQSxXQUFXQSxLQUFLQSxXQUFXQSxHQUFHQSxXQUFXQSxDQUFDQSxVQUFVQSxHQUFHQSxTQUFTQSxDQUFDQTtnQkFDN0ZBLEVBQUVBLENBQUNBLENBQUNBLE9BQU9BLENBQUNBLGVBQWVBLElBQUlBLFdBQVdBLEtBQUtBLFNBQVNBLENBQUNBLENBQUNBLENBQUNBO29CQUN2REEsTUFBTUEsQ0FBQ0EsY0FBY0EsQ0FBQ0EsR0FBR0EsS0FBSUEsQ0FBQ0EsZ0JBQWdCQSxDQUFDQSxJQUFJQSxDQUFDQSxLQUFLQSxFQUFFQSxjQUFjQSxFQUFFQTt3QkFDdkVBLE1BQU1BLEVBQUVBLE1BQU1BO3dCQUNkQSxZQUFZQSxFQUFFQSxjQUFjQTtxQkFDL0JBLENBQUNBLENBQUNBO2dCQUNQQSxDQUFDQTtZQUVMQSxDQUFDQSxDQUFDQSxDQUFDQTtZQUNIQSxNQUFNQSxDQUFDQSxnQkFBZ0JBLENBQUNBLE1BQU1BLENBQUNBLENBQUNBO1FBQ3BDQSxDQUFDQTtRQUdEeEI7Ozs7Ozs7Ozs7Ozs7Ozs7V0FnQkdBO1FBQ0hBLHdDQUFnQkEsR0FBaEJBLFVBQWlCQSxLQUFZQSxFQUFFQSxLQUFZQSxFQUFFQSxXQUF1QkEsRUFDbkRBLE9BQWdHQTtZQUM3R3lCLElBQUlBLFFBQVFBLEdBQUdBO2dCQUNYQSxPQUFPQSxFQUFFQSxLQUFLQSxDQUFDQSxPQUFPQTtnQkFDdEJBLE1BQU1BLEVBQUVBLE9BQU9BO2dCQUNmQSxPQUFPQSxFQUFFQSxLQUFLQSxDQUFDQSxJQUFJQSxDQUFDQSxPQUFPQTtnQkFDM0JBLE1BQU1BLEVBQUVBLEtBQUtBLENBQUNBLFFBQVFBLEVBQUVBO2FBQzNCQSxDQUFDQTtZQUVGQSxJQUFJQSxJQUFJQSxHQUFHQSxDQUFDQSxDQUFDQSxNQUFNQSxDQUFDQSxFQUFFQSxFQUFFQSxRQUFRQSxFQUFFQSxPQUFPQSxDQUFDQSxDQUFDQTtZQUUzQ0EsQUFDQUEsaUVBRGlFQTtnQkFDN0RBLGFBQWFBLEdBQUdBLENBQUNBLENBQUNBLFdBQVdBLENBQUNBLENBQUNBLFlBQVlBLENBQUNBLElBQUlBLENBQUNBLE1BQU1BLENBQUNBLENBQUNBO1lBRTdEQSxBQUNBQSw2RkFENkZBO2dCQUN6RkEsZ0JBQWdCQSxHQUFHQSxJQUFJQSxDQUFDQSxzQkFBc0JBLENBQUNBLEtBQUtBLEVBQUVBLEtBQUtBLEVBQUVBLElBQUlBLENBQUNBLE1BQU1BLENBQUNBLENBQUNBO1lBRTlFQSxBQUdBQTs7NkJBRGlCQTtZQUNqQkEsSUFBSUEsQ0FBQ0EsU0FBU0EsQ0FBQ0EsYUFBYUEsRUFBRUEsZ0JBQWdCQSxFQUFFQSxJQUFJQSxDQUFDQSxDQUFDQTtZQUV0REEsTUFBTUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsTUFBTUEsQ0FBQ0E7UUFDdkJBLENBQUNBO1FBRUR6Qjs7Ozs7Ozs7Ozs7Ozs7Ozs7O1dBa0JHQTtRQUNIQSxpQ0FBU0EsR0FBVEEsVUFBVUEsV0FBeUJBLEVBQUVBLGdCQUFzQ0EsRUFDakVBLE9BQXVJQTtZQURqSjBCLGlCQWtCQ0E7WUFmR0EsSUFBSUEsUUFBUUEsR0FBR0E7Z0JBQ1hBLE9BQU9BLEVBQUVBLEVBQUVBO2dCQUNYQSxlQUFlQSxFQUFFQSxLQUFLQTtnQkFDdEJBLFNBQVNBLEVBQUVBLElBQUlBO2FBQ2xCQSxDQUFDQTtZQUVGQSxJQUFJQSxJQUFJQSxHQUFHQSxDQUFDQSxDQUFDQSxNQUFNQSxDQUFDQSxFQUFFQSxFQUFFQSxRQUFRQSxFQUFFQSxPQUFPQSxDQUFDQSxDQUFDQTtZQUMzQ0EsSUFBSUEsY0FBY0EsR0FBR0EsRUFBRUEsQ0FBQ0E7WUFFeEJBLENBQUNBLENBQUNBLElBQUlBLENBQUNBLFdBQVdBLEVBQUVBLFVBQUNBLFNBQVNBO2dCQUMxQkEsSUFBSUEsWUFBWUEsR0FBR0EsS0FBSUEsQ0FBQ0EsY0FBY0EsQ0FBQ0EsU0FBU0EsRUFBRUEsZ0JBQWdCQSxFQUFFQSxJQUFJQSxDQUFDQSxDQUFDQTtnQkFDMUVBLGNBQWNBLENBQUNBLElBQUlBLENBQUNBLFlBQVlBLENBQUNBLENBQUNBO1lBQ3RDQSxDQUFDQSxDQUFDQSxDQUFDQTtZQUVIQSxNQUFNQSxDQUFDQSxjQUFjQSxDQUFDQTtRQUMxQkEsQ0FBQ0E7UUFHTDFCLG9CQUFDQTtJQUFEQSxDQXZtQkFoSyxBQXVtQkNnSyxJQUFBaEs7SUF2bUJZQSxnQkFBYUEsR0FBYkEsYUF1bUJaQSxDQUFBQTtJQUdEQSxBQVVBQSxvREFWb0RBO0lBR3BEQSw0Q0FBNENBO0lBQzVDQSxtR0FBbUdBO0lBTW5HQSxPQUFPQSxDQUFDQSxNQUFNQSxDQUFDQSxjQUFjQSxDQUFDQSxDQUN6QkEsT0FBT0EsQ0FBQ0EsaUJBQWlCQSxFQUFFQSxhQUFhQSxDQUFDQSxDQUFBQTtBQUVsREEsQ0FBQ0EsRUFwb0JNLEVBQUUsS0FBRixFQUFFLFFBb29CUjs7QUN0b0JELDhDQUE4QztBQUU5QyxJQUFPLEVBQUUsQ0F5TlI7QUF6TkQsV0FBTyxFQUFFLEVBQUMsQ0FBQztJQUNQQSxZQUFZQSxDQUFDQTtJQUdiQSxJQUFhQSxhQUFhQTtRQUV0QjJMLFNBRlNBLGFBQWFBLENBRUZBLGdCQUFnQkEsRUFBVUEsVUFBVUE7WUFBcENDLHFCQUFnQkEsR0FBaEJBLGdCQUFnQkEsQ0FBQUE7WUFBVUEsZUFBVUEsR0FBVkEsVUFBVUEsQ0FBQUE7UUFFeERBLENBQUNBO1FBRUREOzs7O1dBSUdBO1FBQ0hBLDJDQUFtQkEsR0FBbkJBLFVBQW9CQSxHQUFhQTtZQUM3QkUsSUFBSUEsR0FBR0EsR0FBR0EsRUFBRUEsQ0FBQ0E7WUFDYkEsSUFBSUEsS0FBS0EsR0FBR0EsSUFBSUEsQ0FBQ0E7WUFFakJBLEVBQUVBLENBQUNBLENBQUNBLEdBQUdBLENBQUNBLE1BQU1BLEdBQUdBLENBQUNBLENBQUNBLENBQUNBLENBQUNBO2dCQUNqQkEsQUFDQUEsbURBRG1EQTtnQkFDbkRBLEdBQUdBLElBQUlBLEtBQUtBLENBQUNBO2dCQUViQSxBQUNBQSxxRUFEcUVBO2dCQUNyRUEsQ0FBQ0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsR0FBR0EsRUFBRUEsVUFBQ0EsTUFBTUEsSUFBS0EsT0FBQUEsR0FBR0EsSUFBSUEsTUFBTUEsR0FBR0EsS0FBS0EsRUFBckJBLENBQXFCQSxDQUFFQSxDQUFDQTtZQUNwREEsQ0FBQ0E7WUFDREEsTUFBTUEsQ0FBQ0EsR0FBR0EsQ0FBQ0E7UUFDZkEsQ0FBQ0E7UUFFREY7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7V0FtQkdBO1FBQ0hBLHVDQUFlQSxHQUFmQSxVQUFnQkEsZUFBaUNBLEVBQUVBLEtBQVNBO1lBQ3hERyxJQUFJQSxZQUFZQSxHQUFHQSxJQUFJQSxDQUFDQSxXQUFXQSxDQUFDQSxlQUFlQSxDQUFDQSxVQUFVQSxFQUFFQSxLQUFLQSxDQUFDQSxDQUFDQTtZQUN2RUEsTUFBTUEsQ0FBQ0EsQ0FBQ0EsZUFBZUEsQ0FBQ0EsVUFBVUEsRUFBRUEsWUFBWUEsQ0FBQ0EsQ0FBQ0E7UUFDdERBLENBQUNBO1FBRURIOzs7Ozs7O1dBT0dBO1FBQ0hBLG1DQUFXQSxHQUFYQSxVQUFZQSxTQUFpQkEsRUFBRUEsS0FBVUE7WUFDckNJLElBQUlBLEdBQUdBLEdBQUdBLEVBQUVBLENBQUNBO1lBQ2JBLEFBQ0FBLG9FQURvRUE7WUFDcEVBLEVBQUVBLENBQUNBLENBQUNBLEtBQUtBLEtBQUtBLEVBQUVBLElBQUlBLENBQUNBLENBQUNBLENBQUNBLFdBQVdBLENBQUNBLEtBQUtBLENBQUNBLElBQUlBLENBQUNBLENBQUNBLENBQUNBLE1BQU1BLENBQUNBLEtBQUtBLENBQUNBLENBQUNBLENBQUNBLENBQUNBO2dCQUM1REEsTUFBTUEsQ0FBQ0EsQ0FBQ0EsU0FBU0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7b0JBQ2hCQSxLQUFLQSxRQUFRQSxDQUFDQTtvQkFDZEEsS0FBS0EsTUFBTUE7d0JBQ1BBLEVBQUVBLENBQUNBLENBQUNBLEtBQUtBLENBQUNBLFFBQVFBLENBQUNBLENBQUNBLENBQUNBOzRCQUNqQkEsQUFDQUEsMENBRDBDQTs0QkFDMUNBLEdBQUdBLEdBQUdBLEtBQUtBLENBQUNBLFFBQVFBLEdBQUdBLElBQUlBLEdBQUdBLENBQUNBLEtBQUtBLENBQUNBLFdBQVdBLElBQUlBLEVBQUVBLENBQUNBLENBQUNBO3dCQUM1REEsQ0FBQ0E7d0JBQ0RBLEtBQUtBLENBQUNBO29CQUNWQSxLQUFLQSxhQUFhQSxDQUFDQTtvQkFDbkJBLEtBQUtBLFdBQVdBO3dCQUNaQSxHQUFHQSxHQUFHQSxJQUFJQSxDQUFDQSw4QkFBOEJBLENBQUNBLEtBQUtBLEVBQUVBLFVBQVVBLENBQUNBLENBQUNBO3dCQUM3REEsS0FBS0EsQ0FBQ0E7b0JBQ1ZBLEtBQUtBLGFBQWFBO3dCQUNkQSxHQUFHQSxHQUFHQSxJQUFJQSxDQUFDQSxtQkFBbUJBLENBQUNBLEtBQUtBLENBQUNBLENBQUNBO3dCQUN0Q0EsS0FBS0EsQ0FBQ0E7b0JBQ1ZBLEtBQUtBLFNBQVNBO3dCQUNWQSxHQUFHQSxHQUFHQSxLQUFLQSxHQUFHQSxDQUFDQSxHQUFHQSxDQUFDQSxDQUFDQTt3QkFDcEJBLEtBQUtBLENBQUNBO29CQUNWQSxLQUFLQSxVQUFVQTt3QkFDWEEsQUFDQUEscUVBRHFFQTt3QkFDckVBLEdBQUdBLEdBQUdBLElBQUlBLENBQUNBLHVCQUF1QkEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsQ0FBQ0E7d0JBQzFDQSxLQUFLQSxDQUFDQTtvQkFDVkEsS0FBS0EsTUFBTUE7d0JBQ1BBLEdBQUdBLEdBQUdBLElBQUlBLENBQUNBLFNBQVNBLENBQUNBLEtBQUtBLENBQUNBLENBQUNBO3dCQUM1QkEsS0FBS0EsQ0FBQ0E7b0JBQ1ZBLEtBQUtBLE1BQU1BLENBQUNBO29CQUNaQSxLQUFLQSxNQUFNQSxDQUFDQTtvQkFDWkE7d0JBQ0lBLEdBQUdBLEdBQUdBLEtBQUtBLENBQUNBO2dCQUNwQkEsQ0FBQ0E7WUFDTEEsQ0FBQ0E7WUFDREEsRUFBRUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsUUFBUUEsQ0FBQ0EsR0FBR0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7Z0JBQ2xCQSxBQUNBQSxpRUFEaUVBO2dCQUNqRUEsR0FBR0EsR0FBR0EsSUFBSUEsQ0FBQ0EsVUFBVUEsQ0FBQ0EsU0FBU0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsQ0FBQ0E7WUFDekNBLENBQUNBO1lBQ0RBLE1BQU1BLENBQUNBLEdBQUdBLENBQUNBO1FBQ2ZBLENBQUNBO1FBRURKOzs7Ozs7Ozs7OztXQVdHQTtRQUNIQSwwQ0FBa0JBLEdBQWxCQSxVQUFtQkEsZ0JBQW9DQSxFQUFFQSxRQUFtQkE7WUFBNUVLLGlCQVNDQTtZQVJHQSxJQUFJQSxLQUFLQSxHQUFHQSxFQUFFQSxDQUFDQTtZQUNmQSxDQUFDQSxDQUFDQSxJQUFJQSxDQUFDQSxnQkFBZ0JBLEVBQUVBLFVBQUNBLEtBQUtBO2dCQUMzQkEsQUFDQUEsd0RBRHdEQTtnQkFDeERBLEVBQUVBLENBQUNBLENBQUNBLENBQUNBLENBQUNBLEdBQUdBLENBQUNBLFFBQVFBLEVBQUVBLEtBQUtBLENBQUNBLFVBQVVBLENBQUNBLENBQUNBLENBQUNBLENBQUNBO29CQUNwQ0EsS0FBS0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsS0FBSUEsQ0FBQ0EsZUFBZUEsQ0FBQ0EsS0FBS0EsRUFBRUEsUUFBUUEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsVUFBVUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7Z0JBQ3hFQSxDQUFDQTtZQUNMQSxDQUFDQSxDQUFDQSxDQUFDQTtZQUNIQSxNQUFNQSxDQUFDQSxLQUFLQSxDQUFDQTtRQUNqQkEsQ0FBQ0E7UUFFREw7Ozs7Ozs7Ozs7O1dBV0dBO1FBQ0hBLCtDQUF1QkEsR0FBdkJBLFVBQXdCQSxJQUFpQkE7WUFDckNNLElBQUlBLE1BQU1BLENBQUNBO1lBQ1hBLEVBQUVBLENBQUNBLENBQUNBLENBQUNBLENBQUNBLENBQUNBLE1BQU1BLENBQUNBLElBQUlBLENBQUNBLElBQUlBLENBQUNBLENBQUNBLFFBQVFBLENBQUNBLElBQUlBLENBQUNBLElBQUlBLElBQUlBLENBQUNBLEtBQUtBLENBQUNBLEdBQUdBLENBQUNBLENBQUNBLE1BQU1BLEtBQUtBLENBQUNBLENBQUNBLENBQUNBLENBQUNBO2dCQUN0RUEsQUFDQUEsdUNBRHVDQTtvQkFDbkNBLGNBQWNBLEdBQUdBLElBQUlBLENBQUNBLEtBQUtBLENBQUNBLEdBQUdBLENBQUNBLENBQUNBO2dCQUNyQ0EsTUFBTUEsR0FBR0EsSUFBSUEsSUFBSUEsQ0FBQ0EsY0FBY0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsRUFBRUEsY0FBY0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsRUFBRUEsY0FBY0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsRUFBRUEsQ0FBQ0EsRUFBRUEsQ0FBQ0EsRUFBRUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7WUFDNUZBLENBQUNBO1lBQUNBLElBQUlBLENBQUNBLEVBQUVBLENBQUNBLENBQUNBLENBQUNBLENBQUNBLENBQUNBLE1BQU1BLENBQUNBLElBQUlBLENBQUNBLENBQUNBLENBQUNBLENBQUNBO2dCQUN6QkEsTUFBTUEsSUFBSUEsS0FBS0EsQ0FBQ0EseUJBQXlCQSxHQUFHQSxJQUFJQSxDQUFDQSxRQUFRQSxFQUFFQSxDQUFDQSxDQUFDQTtZQUNqRUEsQ0FBQ0E7WUFBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0E7Z0JBQ0pBLE1BQU1BLEdBQUdBLElBQUlBLENBQUNBO1lBQ2xCQSxDQUFDQTtZQUVEQSxJQUFJQSxVQUFVQSxHQUFHQSxFQUFFQSxDQUFDQTtZQUNwQkEsVUFBVUEsSUFBSUEsTUFBTUEsQ0FBQ0EsV0FBV0EsRUFBRUEsQ0FBQ0E7WUFDbkNBLFVBQVVBLElBQUlBLEdBQUdBLENBQUNBO1lBQ2xCQSxVQUFVQSxJQUFJQSxJQUFJQSxDQUFDQSxnQkFBZ0JBLENBQUNBLFdBQVdBLENBQUNBLE1BQU1BLENBQUNBLFFBQVFBLEVBQUVBLEdBQUdBLENBQUNBLENBQUNBLENBQUNBO1lBQ3ZFQSxVQUFVQSxJQUFJQSxHQUFHQSxDQUFDQTtZQUNsQkEsVUFBVUEsSUFBSUEsSUFBSUEsQ0FBQ0EsZ0JBQWdCQSxDQUFDQSxXQUFXQSxDQUFDQSxNQUFNQSxDQUFDQSxPQUFPQSxFQUFFQSxDQUFDQSxDQUFDQTtZQUNsRUEsVUFBVUEsSUFBSUEsR0FBR0EsQ0FBQ0E7WUFDbEJBLFVBQVVBLElBQUlBLElBQUlBLENBQUNBLGdCQUFnQkEsQ0FBQ0EsV0FBV0EsQ0FBQ0EsTUFBTUEsQ0FBQ0EsUUFBUUEsRUFBRUEsQ0FBQ0EsQ0FBQ0E7WUFDbkVBLFVBQVVBLElBQUlBLEdBQUdBLENBQUNBO1lBQ2xCQSxVQUFVQSxJQUFJQSxJQUFJQSxDQUFDQSxnQkFBZ0JBLENBQUNBLFdBQVdBLENBQUNBLE1BQU1BLENBQUNBLFVBQVVBLEVBQUVBLENBQUNBLENBQUNBO1lBQ3JFQSxVQUFVQSxJQUFJQSxHQUFHQSxDQUFDQTtZQUNsQkEsVUFBVUEsSUFBSUEsSUFBSUEsQ0FBQ0EsZ0JBQWdCQSxDQUFDQSxXQUFXQSxDQUFDQSxNQUFNQSxDQUFDQSxVQUFVQSxFQUFFQSxDQUFDQSxDQUFDQTtZQUNyRUEsVUFBVUEsSUFBSUEsSUFBSUEsQ0FBQ0E7WUFFbkJBLEVBQUVBLENBQUNBLENBQUNBLENBQUNBLElBQUlBLENBQUNBLGFBQWFBLENBQUNBLENBQUNBLENBQUNBO2dCQUN0QkEsQUFFQUEsZ0ZBRmdGQTtnQkFDaEZBLHVDQUF1Q0E7Z0JBQ3ZDQSxJQUFJQSxDQUFDQSxhQUFhQSxH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RUEsSUFBSUE7Z0JBQ2xCQSxVQUFVQSxFQUFFQSxJQUFJQTtnQkFDaEJBLFdBQVdBLEVBQUVBLGFBQWFBO2FBQzdCQTtZQUNEQSxVQUFVQSxFQUFFQTtnQkFDUkEsWUFBWUEsRUFBRUEsSUFBSUE7Z0JBQ2xCQSxVQUFVQSxFQUFFQSxlQUFlQTtnQkFDM0JBLFdBQVdBLEVBQUVBLFVBQVVBO2FBQzFCQTtZQUNEQSxNQUFNQSxFQUFFQTtnQkFDSkEsWUFBWUEsRUFBRUEsRUFBRUE7Z0JBQ2hCQSxVQUFVQSxFQUFFQSxXQUFXQTtnQkFDdkJBLFdBQVdBLEVBQUVBLFlBQVlBO2FBQzVCQTtZQUNEQSxPQUFPQSxFQUFFQTtnQkFDTEEsWUFBWUEsRUFBRUEsSUFBSUE7Z0JBQ2xCQSxVQUFVQSxFQUFFQSxnQkFBZ0JBLEVBQUVBO2dCQUM5QkEsV0FBV0EsRUFBRUEsZ0JBQWdCQTthQUNoQ0E7WUFDREEsUUFBUUEsRUFBRUE7Z0JBQ05BLFlBQVlBLEVBQUVBLElBQUlBO2dCQUNsQkEsVUFBVUEsRUFBRUEsTUFBTUE7Z0JBQ2xCQSxXQUFXQSxFQUFFQSxjQUFjQTthQUM5QkE7WUFDREEsUUFBUUEsRUFBRUE7Z0JBQ05BLFlBQVlBLEVBQUVBLElBQUlBO2dCQUNsQkEsVUFBVUEsRUFBRUEsSUFBSUEsSUFBSUEsQ0FBQ0EsSUFBSUEsRUFBRUEsQ0FBQ0EsRUFBRUEsQ0FBQ0EsRUFBRUEsRUFBRUEsRUFBRUEsRUFBRUEsRUFBRUEsRUFBRUEsQ0FBQ0E7Z0JBQzVDQSxXQUFXQSxFQUFFQSxVQUFVQTthQUMxQkE7WUFDREEsT0FBT0EsRUFBRUE7Z0JBQ0xBLFlBQVlBLEVBQUVBLElBQUlBO2dCQUNsQkEsVUFBVUEsRUFBRUEsRUFBRUE7Z0JBQ2RBLFdBQVdBLEVBQUVBLGFBQWFBO2FBQzdCQTtZQUNEQSxJQUFJQSxFQUFFQTtnQkFDRkEsWUFBWUEsRUFBRUEsRUFBRUE7Z0JBQ2hCQSxVQUFVQSxFQUFFQTtvQkFDUkEsRUFBQ0EsRUFBRUEsRUFBRUEsQ0FBQ0EsRUFBRUEsS0FBS0EsRUFBRUEsTUFBTUEsRUFBQ0E7b0JB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LENBQUNBO29CQUNoQ0EsR0FBR0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsRUFBRUEsQ0FBQ0EsR0FBR0EsR0FBR0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsTUFBTUEsRUFBRUEsQ0FBQ0EsRUFBRUEsRUFBRUEsQ0FBQ0E7d0JBQ2xDQSxZQUFZQSxDQUFDQSxPQUFPQSxJQUFJQSxRQUFRQSxDQUFDQSxRQUFRQSxFQUFFQSxHQUFHQSxDQUFDQSxHQUFHQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQTtvQkFDM0RBLENBQUNBO29CQUNEQSxZQUFZQSxDQUFDQSxPQUFPQSxJQUFJQSxRQUFRQSxDQUFDQTtvQkFDakNBLEtBQUtBLENBQUNBO2dCQUdWQSxLQUFLQSxNQUFNQTtvQkFDUEEsS0FBS0EsQ0FBQ0E7Z0JBQ1ZBLEtBQUtBLE9BQU9BO29CQUNSQSxZQUFZQSxDQUFDQSxHQUFHQSxFQUFFQSxDQUFDQSxVQUFVQSxFQUFFQSxVQUFVQSxDQUFDQSxDQUFDQSxDQUFDQTtvQkFDNUNBLEtBQUtBLENBQUNBO2dCQUdWQSxLQUFLQSxlQUFlQTtvQkFDaEJBLFlBQVlBLENBQUNBLEdBQUdBLEVBQUVBLENBQUNBLFdBQVdBLENBQUNBLENBQUNBLENBQUNBO29CQUNqQ0EsWUFBWUEsQ0FBQ0EsT0FBT0EsSUFBSUEsbUJBQW1CQSxDQUFDQTtvQkFDNUNBLEdBQUdBLENBQUNBLENBQUNBLENBQUNBLEdBQUdBLENBQUNBLEVBQUVBLENBQUNBLEdBQUdBLEdBQUdBLENBQUNBLGVBQWVBLENBQUNBLE1BQU1BLEVBQUVBLENBQUNBLEVBQUVBLEVBQUVBLENBQUNBO3dCQUM5Q0EsWUFBWUEsQ0FBQ0EsT0FBT0EsSUFBSUEsUUFBUUEsQ0FBQ0EsUUFBUUEsRUFBRUEsR0FBR0EsQ0FBQ0EsZUFBZUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7b0JBQ3ZFQSxDQUFDQTtvQkFDREEsWUFBWUEsQ0FBQ0EsT0FBT0EsSUFBSUEsb0JBQW9CQSxDQUFDQTtvQkFDN0NBLFlBQVlBLENBQUNBLEdBQUdBLEVB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TSxFQUFFLEtBQUYsRUFBRSxRQTZEUiIsImZpbGUiOiJhbmd1bGFyLXBvaW50LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL3R5cGluZ3MvYXAuZC50c1wiIC8+XG5cbm1vZHVsZSBhcCB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4vL1RPRE86IFJlbW92ZSBkZXBlbmRlbmN5IG9uIHRvYXN0clxuICAgIC8qKiBDaGVjayB0byBzZWUgaWYgZGVwZW5kZW50IG1vZHVsZXMgZXhpc3QgKi9cbiAgICB0cnkge1xuICAgICAgICBhbmd1bGFyLm1vZHVsZSgndG9hc3RyJyk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIC8qKiBUb2FzdHIgd2Fzbid0IGZvdW5kIHNvIHJlZGlyZWN0IGFsbCB0b2FzdHIgcmVxdWVzdHMgdG8gJGxvZyAqL1xuICAgICAgICBhbmd1bGFyLm1vZHVsZSgndG9hc3RyJywgW10pXG4gICAgICAgICAgICAuZmFjdG9yeSgndG9hc3RyJywgZnVuY3Rpb24gKCRsb2cpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBlcnJvcjogJGxvZy5lcnJvcixcbiAgICAgICAgICAgICAgICAgICAgaW5mbzogJGxvZy5pbmZvLFxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiAkbG9nLmluZm8sXG4gICAgICAgICAgICAgICAgICAgIHdhcm5pbmc6ICRsb2cud2FyblxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2Mgb3ZlcnZpZXdcbiAgICAgKiBAbW9kdWxlXG4gICAgICogQG5hbWUgYW5ndWxhclBvaW50XG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogVGhpcyBpcyB0aGUgcHJpbWFyeSBhbmd1bGFyUG9pbnQgbW9kdWxlIGFuZCBuZWVkcyB0byBiZSBsaXN0ZWQgaW4geW91ciBhcHAuanMgZGVwZW5kZW5jaWVzIHRvIGdhaW4gdXNlIG9mIEFuZ3VsYXJQb2ludFxuICAgICAqIGZ1bmN0aW9uYWxpdHkgaW4geW91ciBwcm9qZWN0LlxuICAgICAqIEBpbnN0YWxsTW9kdWxlXG4gICAgICovXG4gICAgYW5ndWxhci5tb2R1bGUoJ2FuZ3VsYXJQb2ludCcsIFtcbiAgICAgICAgJ3RvYXN0cidcbiAgICBdKTtcbn1cbiIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi90eXBpbmdzL2FwLmQudHNcIiAvPlxuXG5tb2R1bGUgYXAge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXIubW9kdWxlKCdhbmd1bGFyUG9pbnQnKVxuICAgICAgICAuY29uZmlnKENvbmZpZyk7XG5cbiAgICBmdW5jdGlvbiBDb25maWcoYXBDb25maWcpIHtcblxuICAgICAgICAvKiogQWRkIGEgY29udmVuaWVuY2UgZmxhZywgaW52ZXJzZSBvZiBvZmZsaW5lICovXG4gICAgICAgIGFwQ29uZmlnLm9ubGluZSA9ICFhcENvbmZpZy5vZmZsaW5lO1xuICAgIH1cbn1cbiIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90eXBpbmdzL2FwLmQudHNcIiAvPlxuXG4vKipcbiAqIEBuZ2RvYyBvYmplY3RcbiAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcENvbmZpZ1xuICogQGRlc2NyaXB0aW9uXG4gKiBCYXNpYyBjb25maWcgZm9yIHRoZSBhcHBsaWNhdGlvbiAodW5pcXVlIGZvciBlYWNoIGVudmlyb25tZW50KS4gIFVwZGF0ZSB0byBjaGFuZ2UgZm9yIHlvdXIgZW52aXJvbm1lbnQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGFwcFRpdGxlIE5hbWUgb2YgdGhlIGFwcGxpY2F0aW9uIGluIGNhc2UgeW91IG5lZWQgdG8gcmVmZXJlbmNlLlxuICogQHBhcmFtIHtib29sZWFufSBkZWJ1ZyBEZXRlcm1pbmVzIGlmIHdlIHNob3VsZCBzaG93IGRlYnVnIGNvZGUuXG4gKiBAcGFyYW0ge3N0cmluZ30gZGVmYXVsdFVybCBBdXRvbWF0aWNhbGx5IHNldHMgdGhlIGRlZmF1bHRVcmwgZm9yIHdlYiBzZXJ2aWNlIGNhbGxzIHNvIHdlIGRvbid0IG5lZWQgdG8gbWFrZSB0aGVcbiAqIGluaXRpYWwgYmxvY2tpbmcgY2FsbCBieSBTUFNlcnZpY2VzLlxuICogQHBhcmFtIHtzdHJpbmd9IFtkZWZhdWx0UXVlcnlOYW1lPSdwcmltYXJ5J10gVGhlIG5hbWUgdGhhdCBhIHF1ZXJ5IGlzIHJlZ2lzdGVyZWQgd2l0aCBvbiBhIG1vZGVsIGlmIGEgbmFtZSBpc24ndCBzcGVjaWZpZWQuXG4gKiBAcGFyYW0ge3N0cmluZ30gW2ZpcmViYXNlVXJsXSBOZWNlc3NhcnkgaWYgeW91J3JlIHVzaW5nIGFwU3luY1NlcnZpY2UuICBMb29rIHRoZXJlIGZvciBtb3JlIGRldGFpbHMuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvZmZsaW5lXSBBdXRvbWF0aWNhbGx5IHNldCBiYXNlZCBvbiB0aGUgVVJMIG9mIHRoZSBzaXRlLiAgUHVsbHMgb2ZmbGluZSBYTUwgd2hlbiBob3N0ZWQgbG9jYWxseS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbb2ZmbGluZVhNTD0nZGV2LyddIFRoZSBsb2NhdGlvbiB0byBsb29rIGZvciBvZmZsaW5lIHhtbCBmaWxlcy5cbiAqIEBleGFtcGxlXG4gKiA8aDQ+RGVmYXVsdCBDb25maWd1cmF0aW9uPC9oND5cbiAqIDxwcmU+XG4gKiAuY29uc3RhbnQoJ2FwQ29uZmlnJywge1xuICogICAgIGFwcFRpdGxlOiAnQW5ndWxhci1Qb2ludCcsXG4gKiAgICAgZGVidWdFbmFibGVkOiB0cnVlLFxuICogICAgIGZpcmViYXNlVVJMOiBcIlRoZSBvcHRpb25hbCB1cmwgb2YgeW91ciBmaXJlYmFzZSBzb3VyY2VcIixcbiAqICAgICBvZmZsaW5lOiB3aW5kb3cubG9jYXRpb24uaHJlZi5pbmRleE9mKCdsb2NhbGhvc3QnKSA+IC0xIHx8XG4gKiAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluZGV4T2YoJ2h0dHA6Ly8wLicpID4gLTEgfHxcbiAqICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYuaW5kZXhPZignaHR0cDovLzEwLicpID4gLTEgfHxcbiAqICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYuaW5kZXhPZignaHR0cDovLzE5Mi4nKSA+IC0xXG4gKiB9KVxuICogPC9wcmU+XG4gKlxuICogPGg0PlRvIE92ZXJyaWRlPC9oND5cbiAqIDxwcmU+XG4gKiBhbmd1bGFyLm1vZHVsZSgnTXlBcHAnLCBbJ215IGRlcGVuZGVuY2llcyddKVxuICogICAgICAuY29uZmlnKGZ1bmN0aW9uICgkc3RhdGVQcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyKSB7XG4gKiAgICAgICAgICAvL015IHJvdXRlc1xuICogICAgICB9KVxuICogICAgICAucnVuKGZ1bmN0aW9uKGFwQ29uZmlnKSB7XG4gKiAgICAgICAgICAvL1RvIHNldCB0aGUgZGVmYXVsdCBzaXRlIHJvb3RcbiAqICAgICAgICAgIGFwQ29uZmlnLmRlZmF1bHRVcmwgPVxuICogICAgICAgICAgICAnLy9zaGFyZXBvaW50Lm15c2VydmVyLmNvbS9zaXRlUm9vdCc7XG4gKlxuICogICAgICAgICAgLy9UbyBzZXQgdGhlIGRlZmF1bHQgbG9jYXRpb24gdG8gbG9vayBmb3JcbiAqICAgICAgICAgIC8vb2ZmbGluZSB4bWwgZmlsZXMuXG4gKiAgICAgICAgICBhcENvbmZpZy5vZmZsaW5lWE1MID0gJ215Q2FjaGVkUXVlcmllcy8nO1xuICogICAgICB9KTtcbiAqIDwvcHJlPlxuICovXG5tb2R1bGUgYXAge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGV4cG9ydCBpbnRlcmZhY2UgSUFQQ29uZmlne1xuICAgICAgICBhcHBUaXRsZTogc3RyaW5nO1xuICAgICAgICBkZWJ1ZzogYm9vbGVhbjtcbiAgICAgICAgZGVmYXVsdFF1ZXJ5TmFtZTogc3RyaW5nO1xuICAgICAgICBkZWZhdWx0VXJsOiBzdHJpbmc7XG4gICAgICAgIGVudmlyb25tZW50Pzogc3RyaW5nO1xuICAgICAgICBmaXJlYmFzZVVSTD86IHN0cmluZztcbiAgICAgICAgb2ZmbGluZTogYm9vbGVhbjtcbiAgICAgICAgdXNlckxvZ2luTmFtZVByZWZpeD86c3RyaW5nO1xuICAgIH1cblxuICAgIGV4cG9ydCB2YXIgQVBDb25maWc6SUFQQ29uZmlnID0ge1xuICAgICAgICBhcHBUaXRsZTogJ0FuZ3VsYXItUG9pbnQnLFxuICAgICAgICBkZWJ1ZzogZmFsc2UsXG4gICAgICAgIGRlZmF1bHRRdWVyeU5hbWU6ICdwcmltYXJ5JyxcbiAgICAgICAgZGVmYXVsdFVybDogJycsXG4gICAgICAgIGVudmlyb25tZW50OiAncHJvZHVjdGlvbicsXG4gICAgICAgIGZpcmViYXNlVVJMOiBcIlRoZSBvcHRpb25hbCB1cmwgb2YgeW91ciBmaXJlYmFzZSBzb3VyY2VcIixcbiAgICAgICAgb2ZmbGluZTogd2luZG93LmxvY2F0aW9uLmhyZWYuaW5kZXhPZignbG9jYWxob3N0JykgPiAtMSB8fFxuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYuaW5kZXhPZignaHR0cDovLzAuJykgPiAtMSB8fFxuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYuaW5kZXhPZignaHR0cDovLzEwLicpID4gLTEgfHxcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluZGV4T2YoJ2h0dHA6Ly8xMjcuJykgPiAtMSB8fFxuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYuaW5kZXhPZignaHR0cDovLzE5Mi4nKSA+IC0xLFxuICAgICAgICBvZmZsaW5lWE1MOiAnZGV2LydcbiAgICB9O1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdhbmd1bGFyUG9pbnQnKVxuICAgICAgICAuY29uc3RhbnQoJ2FwQ29uZmlnJywgQVBDb25maWcpO1xufVxuIiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3MvYXAuZC50c1wiIC8+XG5cbm1vZHVsZSBhcCB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG5cbiAgICBleHBvcnQgdmFyIERlZmF1bHRGaWVsZHM6RmllbGRbXSA9IFtcbiAgICAgICAge3N0YXRpY05hbWU6ICdJRCcsIG9iamVjdFR5cGU6ICdDb3VudGVyJywgbWFwcGVkTmFtZTogJ2lkJywgcmVhZE9ubHk6IHRydWV9LFxuICAgICAgICB7c3RhdGljTmFtZTogJ01vZGlmaWVkJywgb2JqZWN0VHlwZTogJ0RhdGVUaW1lJywgbWFwcGVkTmFtZTogJ21vZGlmaWVkJywgcmVhZE9ubHk6IHRydWV9LFxuICAgICAgICB7c3RhdGljTmFtZTogJ0NyZWF0ZWQnLCBvYmplY3RUeXBlOiAnRGF0ZVRpbWUnLCBtYXBwZWROYW1lOiAnY3JlYXRlZCcsIHJlYWRPbmx5OiB0cnVlfSxcbiAgICAgICAge3N0YXRpY05hbWU6ICdBdXRob3InLCBvYmplY3RUeXBlOiAnVXNlcicsIG1hcHBlZE5hbWU6ICdhdXRob3InLCByZWFkT25seTogdHJ1ZX0sXG4gICAgICAgIHtzdGF0aWNOYW1lOiAnRWRpdG9yJywgb2JqZWN0VHlwZTogJ1VzZXInLCBtYXBwZWROYW1lOiAnZWRpdG9yJywgcmVhZE9ubHk6IHRydWV9LFxuICAgICAgICB7c3RhdGljTmFtZTogJ1Blcm1NYXNrJywgb2JqZWN0VHlwZTogJ01hc2snLCBtYXBwZWROYW1lOiAncGVybU1hc2snLCByZWFkT25seTogdHJ1ZX0sXG4gICAgICAgIHtzdGF0aWNOYW1lOiAnVW5pcXVlSWQnLCBvYmplY3RUeXBlOiAnU3RyaW5nJywgbWFwcGVkTmFtZTogJ3VuaXF1ZUlkJywgcmVhZE9ubHk6IHRydWV9LFxuICAgICAgICB7c3RhdGljTmFtZTogJ0ZpbGVSZWYnLCBvYmplY3RUeXBlOiAnTG9va3VwJywgbWFwcGVkTmFtZTogJ2ZpbGVSZWYnLCByZWFkT25seTogdHJ1ZX1cbiAgICBdO1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG9iamVjdFxuICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcERlZmF1bHRGaWVsZHNcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBSZWFkIG9ubHkgZmllbGRzIHRoYXQgc2hvdWxkIGJlIGluY2x1ZGVkIGluIGFsbCBsaXN0c1xuICAgICAqL1xuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnYW5ndWxhclBvaW50JylcbiAgICAgICAgLmNvbnN0YW50KCdhcERlZmF1bHRGaWVsZHMnLCBEZWZhdWx0RmllbGRzKTtcblxufVxuIiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3MvYXAuZC50c1wiIC8+XG5cbm1vZHVsZSBhcCB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgZXhwb3J0IHZhciBEZWZhdWx0TGlzdEl0ZW1RdWVyeU9wdGlvbnM6c3RyaW5nID0gJycgK1xuICAgICAgICAnPFF1ZXJ5T3B0aW9ucz4nICtcbiAgICAgICAgJyAgIDxJbmNsdWRlTWFuZGF0b3J5Q29sdW1ucz5GQUxTRTwvSW5jbHVkZU1hbmRhdG9yeUNvbHVtbnM+JyArXG4gICAgICAgICcgICA8SW5jbHVkZUF0dGFjaG1lbnRVcmxzPlRSVUU8L0luY2x1ZGVBdHRhY2htZW50VXJscz4nICtcbiAgICAgICAgJyAgIDxJbmNsdWRlQXR0YWNobWVudFZlcnNpb24+RkFMU0U8L0luY2x1ZGVBdHRhY2htZW50VmVyc2lvbj4nICtcbiAgICAgICAgJyAgIDxFeHBhbmRVc2VyRmllbGQ+RkFMU0U8L0V4cGFuZFVzZXJGaWVsZD4nICtcbiAgICAgICAgJzwvUXVlcnlPcHRpb25zPic7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2FuZ3VsYXJQb2ludCcpXG4gICAgICAgIC5jb25zdGFudCgnYXBEZWZhdWx0TGlzdEl0ZW1RdWVyeU9wdGlvbnMnLCBEZWZhdWx0TGlzdEl0ZW1RdWVyeU9wdGlvbnMpO1xuXG59XG4iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy9hcC5kLnRzXCIgLz5cblxubW9kdWxlIGFwIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnYW5ndWxhclBvaW50JylcbiAgICAvKiogbG9kYXNoICovXG4gICAgICAgIC5jb25zdGFudCgnXycsIF8pO1xufVxuIiwiLy8gIGFwV2ViU2VydmljZU9wZXJhdGlvbkNvbnN0YW50cy5PcE5hbWUgPSBbV2ViU2VydmljZSwgbmVlZHNfU09BUEFjdGlvbl07XG4vLyAgICAgIE9wTmFtZSAgICAgICAgICAgICAgVGhlIG5hbWUgb2YgdGhlIFdlYiBTZXJ2aWNlIG9wZXJhdGlvbiAtPiBUaGVzZSBuYW1lcyBhcmUgdW5pcXVlXG4vLyAgICAgIFdlYlNlcnZpY2UgICAgICAgICAgVGhlIG5hbWUgb2YgdGhlIFdlYlNlcnZpY2UgdGhpcyBvcGVyYXRpb24gYmVsb25ncyB0b1xuLy8gICAgICBuZWVkc19TT0FQQWN0aW9uICAgIEJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBvcGVyYXRpb24gbmVlZHMgdG8gaGF2ZSB0aGUgU09BUEFjdGlvbiBwYXNzZWQgaW4gdGhlIHNldFJlcXVlc3RIZWFkZXJmdW5jdGlvbi5cbi8vICAgICAgICAgICAgICAgICAgICAgICAgICB0cnVlIGlmIHRoZSBvcGVyYXRpb24gZG9lcyBhIHdyaXRlLCBlbHNlIGZhbHNlXG5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9Jy4uLy4uL3R5cGluZ3MvYXAuZC50cycgLz5cbm1vZHVsZSBhcCB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIGV4cG9ydCB2YXIgV2ViU2VydmljZU9wZXJhdGlvbkNvbnN0YW50czp7W2tleTpzdHJpbmddOltzdHJpbmcsIGJvb2xlYW5dfSA9IHtcbiAgICAgICAgR2V0QWxlcnRzOiBbJ0FsZXJ0cycsIGZhbHNlXSxcbiAgICAgICAgRGVsZXRlQWxlcnRzOiBbJ0FsZXJ0cycsIHRydWVdLFxuICAgICAgICBNb2RlOiBbJ0F1dGhlbnRpY2F0aW9uJywgZmFsc2VdLFxuICAgICAgICBMb2dpbjogWydBdXRoZW50aWNhdGlvbicsIGZhbHNlXSxcbiAgICAgICAgQ29weUludG9JdGVtczogWydDb3B5JywgdHJ1ZV0sXG4gICAgICAgIENvcHlJbnRvSXRlbXNMb2NhbDogWydDb3B5JywgdHJ1ZV0sXG4gICAgICAgIEdldEl0ZW06IFsnQ29weScsIGZhbHNlXSxcbiAgICAgICAgR2V0Rm9ybTogWydGb3JtcycsIGZhbHNlXSxcbiAgICAgICAgR2V0Rm9ybUNvbGxlY3Rpb246IFsnRm9ybXMnLCBmYWxzZV0sXG4gICAgICAgIEFkZEF0dGFjaG1lbnQ6IFsnTGlzdHMnLCB0cnVlXSxcbiAgICAgICAgQWRkRGlzY3Vzc2lvbkJvYXJkSXRlbTogWydMaXN0cycsIHRydWVdLFxuICAgICAgICBBZGRMaXN0OiBbJ0xpc3RzJywgdHJ1ZV0sXG4gICAgICAgIEFkZExpc3RGcm9tRmVhdHVyZTogWydMaXN0cycsIHRydWVdLFxuICAgICAgICBBcHBseUNvbnRlbnRUeXBlVG9MaXN0OiBbJ0xpc3RzJywgdHJ1ZV0sXG4gICAgICAgIENoZWNrSW5GaWxlOiBbJ0xpc3RzJywgdHJ1ZV0sXG4gICAgICAgIENoZWNrT3V0RmlsZTogWydMaXN0cycsIHRydWVdLFxuICAgICAgICBDcmVhdGVDb250ZW50VHlwZTogWydXZWJzJywgdHJ1ZV0sXG4gICAgICAgIERlbGV0ZUF0dGFjaG1lbnQ6IFsnTGlzdHMnLCB0cnVlXSxcbiAgICAgICAgRGVsZXRlQ29udGVudFR5cGU6IFsnTGlzdHMnLCB0cnVlXSxcbiAgICAgICAgRGVsZXRlQ29udGVudFR5cGVYbWxEb2N1bWVudDogWydMaXN0cycsIHRydWVdLFxuICAgICAgICBEZWxldGVMaXN0OiBbJ0xpc3RzJywgdHJ1ZV0sXG4gICAgICAgIEdldEF0dGFjaG1lbnRDb2xsZWN0aW9uOiBbJ0xpc3RzJywgZmFsc2VdLFxuICAgICAgICBHZXRMaXN0OiBbJ0xpc3RzJywgZmFsc2VdLFxuICAgICAgICBHZXRMaXN0QW5kVmlldzogWydMaXN0cycsIGZhbHNlXSxcbiAgICAgICAgR2V0TGlzdENvbGxlY3Rpb246IFsnTGlzdHMnLCBmYWxzZV0sXG4gICAgICAgIEdldExpc3RDb250ZW50VHlwZTogWydMaXN0cycsIGZhbHNlXSxcbiAgICAgICAgR2V0TGlzdENvbnRlbnRUeXBlczogWydMaXN0cycsIGZhbHNlXSxcbiAgICAgICAgR2V0TGlzdEl0ZW1DaGFuZ2VzOiBbJ0xpc3RzJywgZmFsc2VdLFxuICAgICAgICBHZXRMaXN0SXRlbUNoYW5nZXNTaW5jZVRva2VuOiBbJ0xpc3RzJywgZmFsc2VdLFxuICAgICAgICBHZXRMaXN0SXRlbXM6IFsnTGlzdHMnLCBmYWxzZV0sXG4gICAgICAgIEdldFZlcnNpb25Db2xsZWN0aW9uOiBbJ0xpc3RzJywgZmFsc2VdLFxuICAgICAgICBVbmRvQ2hlY2tPdXQ6IFsnTGlzdHMnLCB0cnVlXSxcbiAgICAgICAgVXBkYXRlQ29udGVudFR5cGU6IFsnV2VicycsIHRydWVdLFxuICAgICAgICBVcGRhdGVDb250ZW50VHlwZXNYbWxEb2N1bWVudDogWydMaXN0cycsIHRydWVdLFxuICAgICAgICBVcGRhdGVDb250ZW50VHlwZVhtbERvY3VtZW50OiBbJ0xpc3RzJywgdHJ1ZV0sXG4gICAgICAgIFVwZGF0ZUxpc3Q6IFsnTGlzdHMnLCB0cnVlXSxcbiAgICAgICAgVXBkYXRlTGlzdEl0ZW1zOiBbJ0xpc3RzJywgdHJ1ZV0sXG4gICAgICAgIEFkZE1lZXRpbmc6IFsnTWVldGluZ3MnLCB0cnVlXSxcbiAgICAgICAgQ3JlYXRlV29ya3NwYWNlOiBbJ01lZXRpbmdzJywgdHJ1ZV0sXG4gICAgICAgIFJlbW92ZU1lZXRpbmc6IFsnTWVldGluZ3MnLCB0cnVlXSxcbiAgICAgICAgU2V0V29ya1NwYWNlVGl0bGU6IFsnTWVldGluZ3MnLCB0cnVlXSxcbiAgICAgICAgUmVzb2x2ZVByaW5jaXBhbHM6IFsnUGVvcGxlJywgZmFsc2VdLFxuICAgICAgICBTZWFyY2hQcmluY2lwYWxzOiBbJ1Blb3BsZScsIGZhbHNlXSxcbiAgICAgICAgQWRkUGVybWlzc2lvbjogWydQZXJtaXNzaW9ucycsIHRydWVdLFxuICAgICAgICBBZGRQZXJtaXNzaW9uQ29sbGVjdGlvbjogWydQZXJtaXNzaW9ucycsIHRydWVdLFxuICAgICAgICBHZXRQZXJtaXNzaW9uQ29sbGVjdGlvbjogWydQZXJtaXNzaW9ucycsIHRydWVdLFxuICAgICAgICBSZW1vdmVQZXJtaXNzaW9uOiBbJ1Blcm1pc3Npb25zJywgdHJ1ZV0sXG4gICAgICAgIFJlbW92ZVBlcm1pc3Npb25Db2xsZWN0aW9uOiBbJ1Blcm1pc3Npb25zJywgdHJ1ZV0sXG4gICAgICAgIFVwZGF0ZVBlcm1pc3Npb246IFsnUGVybWlzc2lvbnMnLCB0cnVlXSxcbiAgICAgICAgR2V0TGlua3M6IFsnUHVibGlzaGVkTGlua3NTZXJ2aWNlJywgdHJ1ZV0sXG4gICAgICAgIEdldFBvcnRhbFNlYXJjaEluZm86IFsnU2VhcmNoJywgZmFsc2VdLFxuICAgICAgICBHZXRRdWVyeVN1Z2dlc3Rpb25zOiBbJ1NlYXJjaCcsIGZhbHNlXSxcbiAgICAgICAgR2V0U2VhcmNoTWV0YWRhdGE6IFsnU2VhcmNoJywgZmFsc2VdLFxuICAgICAgICBRdWVyeTogWydTZWFyY2gnLCBmYWxzZV0sXG4gICAgICAgIFF1ZXJ5RXg6IFsnU2VhcmNoJywgZmFsc2VdLFxuICAgICAgICBSZWdpc3RyYXRpb246IFsnU2VhcmNoJywgZmFsc2VdLFxuICAgICAgICBTdGF0dXM6IFsnU2VhcmNoJywgZmFsc2VdLFxuICAgICAgICBTZW5kQ2xpZW50U2NyaXB0RXJyb3JSZXBvcnQ6IFsnU2hhcmVQb2ludERpYWdub3N0aWNzJywgdHJ1ZV0sXG4gICAgICAgIEdldEF0dGFjaG1lbnRzOiBbJ1NpdGVEYXRhJywgZmFsc2VdLFxuICAgICAgICBFbnVtZXJhdGVGb2xkZXI6IFsnU2l0ZURhdGEnLCBmYWxzZV0sXG4gICAgICAgIFNpdGVEYXRhR2V0TGlzdDogWydTaXRlRGF0YScsIGZhbHNlXSxcbiAgICAgICAgU2l0ZURhdGFHZXRMaXN0Q29sbGVjdGlvbjogWydTaXRlRGF0YScsIGZhbHNlXSxcbiAgICAgICAgU2l0ZURhdGFHZXRTaXRlOiBbJ1NpdGVEYXRhJywgZmFsc2VdLFxuICAgICAgICBTaXRlRGF0YUdldFNpdGVVcmw6IFsnU2l0ZURhdGEnLCBmYWxzZV0sXG4gICAgICAgIFNpdGVEYXRhR2V0V2ViOiBbJ1NpdGVEYXRhJywgZmFsc2VdLFxuICAgICAgICBDcmVhdGVXZWI6IFsnU2l0ZXMnLCB0cnVlXSxcbiAgICAgICAgRGVsZXRlV2ViOiBbJ1NpdGVzJywgdHJ1ZV0sXG4gICAgICAgIEdldFNpdGU6IFsnU2l0ZXMnLCBmYWxzZV0sXG4gICAgICAgIEdldFNpdGVUZW1wbGF0ZXM6IFsnU2l0ZXMnLCBmYWxzZV0sXG4gICAgICAgIEFkZENvbW1lbnQ6IFsnU29jaWFsRGF0YVNlcnZpY2UnLCB0cnVlXSxcbiAgICAgICAgQWRkVGFnOiBbJ1NvY2lhbERhdGFTZXJ2aWNlJywgdHJ1ZV0sXG4gICAgICAgIEFkZFRhZ0J5S2V5d29yZDogWydTb2NpYWxEYXRhU2VydmljZScsIHRydWVdLFxuICAgICAgICBDb3VudENvbW1lbnRzT2ZVc2VyOiBbJ1NvY2lhbERhdGFTZXJ2aWNlJywgZmFsc2VdLFxuICAgICAgICBDb3VudENvbW1lbnRzT2ZVc2VyT25Vcmw6IFsnU29jaWFsRGF0YVNlcnZpY2UnLCBmYWxzZV0sXG4gICAgICAgIENvdW50Q29tbWVudHNPblVybDogWydTb2NpYWxEYXRhU2VydmljZScsIGZhbHNlXSxcbiAgICAgICAgQ291bnRSYXRpbmdzT25Vcmw6IFsnU29jaWFsRGF0YVNlcnZpY2UnLCBmYWxzZV0sXG4gICAgICAgIENvdW50VGFnc09mVXNlcjogWydTb2NpYWxEYXRhU2VydmljZScsIGZhbHNlXSxcbiAgICAgICAgRGVsZXRlQ29tbWVudDogWydTb2NpYWxEYXRhU2VydmljZScsIHRydWVdLFxuICAgICAgICBEZWxldGVSYXRpbmc6IFsnU29jaWFsRGF0YVNlcnZpY2UnLCB0cnVlXSxcbiAgICAgICAgRGVsZXRlVGFnOiBbJ1NvY2lhbERhdGFTZXJ2aWNlJywgdHJ1ZV0sXG4gICAgICAgIERlbGV0ZVRhZ0J5S2V5d29yZDogWydTb2NpYWxEYXRhU2VydmljZScsIHRydWVdLFxuICAgICAgICBEZWxldGVUYWdzOiBbJ1NvY2lhbERhdGFTZXJ2aWNlJywgdHJ1ZV0sXG4gICAgICAgIEdldEFsbFRhZ1Rlcm1zOiBbJ1NvY2lhbERhdGFTZXJ2aWNlJywgZmFsc2VdLFxuICAgICAgICBHZXRBbGxUYWdUZXJtc0ZvclVybEZvbGRlcjogWydTb2NpYWxEYXRhU2VydmljZScsIGZhbHNlXSxcbiAgICAgICAgR2V0QWxsVGFnVXJsczogWydTb2NpYWxEYXRhU2VydmljZScsIGZhbHNlXSxcbiAgICAgICAgR2V0QWxsVGFnVXJsc0J5S2V5d29yZDogWydTb2NpYWxEYXRhU2VydmljZScsIGZhbHNlXSxcbiAgICAgICAgR2V0Q29tbWVudHNPZlVzZXI6IFsnU29jaWFsRGF0YVNlcnZpY2UnLCBmYWxzZV0sXG4gICAgICAgIEdldENvbW1lbnRzT2ZVc2VyT25Vcmw6IFsnU29jaWFsRGF0YVNlcnZpY2UnLCBmYWxzZV0sXG4gICAgICAgIEdldENvbW1lbnRzT25Vcmw6IFsnU29jaWFsRGF0YVNlcnZpY2UnLCBmYWxzZV0sXG4gICAgICAgIEdldFJhdGluZ0F2ZXJhZ2VPblVybDogWydTb2NpYWxEYXRhU2VydmljZScsIGZhbHNlXSxcbiAgICAgICAgR2V0UmF0aW5nT2ZVc2VyT25Vcmw6IFsnU29jaWFsRGF0YVNlcnZpY2UnLCBmYWxzZV0sXG4gICAgICAgIEdldFJhdGluZ09uVXJsOiBbJ1NvY2lhbERhdGFTZXJ2aWNlJywgZmFsc2VdLFxuICAgICAgICBHZXRSYXRpbmdzT2ZVc2VyOiBbJ1NvY2lhbERhdGFTZXJ2aWNlJywgZmFsc2VdLFxuICAgICAgICBHZXRSYXRpbmdzT25Vcmw6IFsnU29jaWFsRGF0YVNlcnZpY2UnLCBmYWxzZV0sXG4gICAgICAgIEdldFNvY2lhbERhdGFGb3JGdWxsUmVwbGljYXRpb246IFsnU29jaWFsRGF0YVNlcnZpY2UnLCBmYWxzZV0sXG4gICAgICAgIEdldFRhZ3M6IFsnU29jaWFsRGF0YVNlcnZpY2UnLCB0cnVlXSxcbiAgICAgICAgR2V0VGFnc09mVXNlcjogWydTb2NpYWxEYXRhU2VydmljZScsIHRydWVdLFxuICAgICAgICBHZXRUYWdUZXJtczogWydTb2NpYWxEYXRhU2VydmljZScsIHRydWVdLFxuICAgICAgICBHZXRUYWdUZXJtc09mVXNlcjogWydTb2NpYWxEYXRhU2VydmljZScsIHRydWVdLFxuICAgICAgICBHZXRUYWdUZXJtc09uVXJsOiBbJ1NvY2lhbERhdGFTZXJ2aWNlJywgdHJ1ZV0sXG4gICAgICAgIEdldFRhZ1VybHNPZlVzZXI6IFsnU29jaWFsRGF0YVNlcnZpY2UnLCB0cnVlXSxcbiAgICAgICAgR2V0VGFnVXJsc09mVXNlckJ5S2V5d29yZDogWydTb2NpYWxEYXRhU2VydmljZScsIHRydWVdLFxuICAgICAgICBHZXRUYWdVcmxzOiBbJ1NvY2lhbERhdGFTZXJ2aWNlJywgdHJ1ZV0sXG4gICAgICAgIEdldFRhZ1VybHNCeUtleXdvcmQ6IFsnU29jaWFsRGF0YVNlcnZpY2UnLCB0cnVlXSxcbiAgICAgICAgU2V0UmF0aW5nOiBbJ1NvY2lhbERhdGFTZXJ2aWNlJywgdHJ1ZV0sXG4gICAgICAgIFVwZGF0ZUNvbW1lbnQ6IFsnU29jaWFsRGF0YVNlcnZpY2UnLCB0cnVlXSxcbiAgICAgICAgU3BlbGxDaGVjazogWydTcGVsbENoZWNrJywgZmFsc2VdLFxuICAgICAgICBBZGRUZXJtczogWydUYXhvbm9teUNsaWVudFNlcnZpY2UnLCB0cnVlXSxcbiAgICAgICAgR2V0Q2hpbGRUZXJtc0luVGVybTogWydUYXhvbm9teUNsaWVudFNlcnZpY2UnLCBmYWxzZV0sXG4gICAgICAgIEdldENoaWxkVGVybXNJblRlcm1TZXQ6IFsnVGF4b25vbXlDbGllbnRTZXJ2aWNlJywgZmFsc2VdLFxuICAgICAgICBHZXRLZXl3b3JkVGVybXNCeUd1aWRzOiBbJ1RheG9ub215Q2xpZW50U2VydmljZScsIGZhbHNlXSxcbiAgICAgICAgR2V0VGVybXNCeUxhYmVsOiBbJ1RheG9ub215Q2xpZW50U2VydmljZScsIGZhbHNlXSxcbiAgICAgICAgR2V0VGVybVNldHM6IFsnVGF4b25vbXlDbGllbnRTZXJ2aWNlJywgZmFsc2VdLFxuICAgICAgICBBZGRHcm91cDogWyd1c2VyZ3JvdXAnLCB0cnVlXSxcbiAgICAgICAgQWRkR3JvdXBUb1JvbGU6IFsndXNlcmdyb3VwJywgdHJ1ZV0sXG4gICAgICAgIEFkZFJvbGU6IFsndXNlcmdyb3VwJywgdHJ1ZV0sXG4gICAgICAgIEFkZFJvbGVEZWY6IFsndXNlcmdyb3VwJywgdHJ1ZV0sXG4gICAgICAgIEFkZFVzZXJDb2xsZWN0aW9uVG9Hcm91cDogWyd1c2VyZ3JvdXAnLCB0cnVlXSxcbiAgICAgICAgQWRkVXNlckNvbGxlY3Rpb25Ub1JvbGU6IFsndXNlcmdyb3VwJywgdHJ1ZV0sXG4gICAgICAgIEFkZFVzZXJUb0dyb3VwOiBbJ3VzZXJncm91cCcsIHRydWVdLFxuICAgICAgICBBZGRVc2VyVG9Sb2xlOiBbJ3VzZXJncm91cCcsIHRydWVdLFxuICAgICAgICBHZXRBbGxVc2VyQ29sbGVjdGlvbkZyb21XZWI6IFsndXNlcmdyb3VwJywgZmFsc2VdLFxuICAgICAgICBHZXRHcm91cENvbGxlY3Rpb246IFsndXNlcmdyb3VwJywgZmFsc2VdLFxuICAgICAgICBHZXRHcm91cENvbGxlY3Rpb25Gcm9tUm9sZTogWyd1c2VyZ3JvdXAnLCBmYWxzZV0sXG4gICAgICAgIEdldEdyb3VwQ29sbGVjdGlvbkZyb21TaXRlOiBbJ3VzZXJncm91cCcsIGZhbHNlXSxcbiAgICAgICAgR2V0R3JvdXBDb2xsZWN0aW9uRnJvbVVzZXI6IFsndXNlcmdyb3VwJywgZmFsc2VdLFxuICAgICAgICBHZXRHcm91cENvbGxlY3Rpb25Gcm9tV2ViOiBbJ3VzZXJncm91cCcsIGZhbHNlXSxcbiAgICAgICAgR2V0R3JvdXBJbmZvOiBbJ3VzZXJncm91cCcsIGZhbHNlXSxcbiAgICAgICAgR2V0Um9sZUNvbGxlY3Rpb246IFsndXNlcmdyb3VwJywgZmFsc2VdLFxuICAgICAgICBHZXRSb2xlQ29sbGVjdGlvbkZyb21Hcm91cDogWyd1c2VyZ3JvdXAnLCBmYWxzZV0sXG4gICAgICAgIEdldFJvbGVDb2xsZWN0aW9uRnJvbVVzZXI6IFsndXNlcmdyb3VwJywgZmFsc2VdLFxuICAgICAgICBHZXRSb2xlQ29sbGVjdGlvbkZyb21XZWI6IFsndXNlcmdyb3VwJywgZmFsc2VdLFxuICAgICAgICBHZXRSb2xlSW5mbzogWyd1c2VyZ3JvdXAnLCBmYWxzZV0sXG4gICAgICAgIEdldFJvbGVzQW5kUGVybWlzc2lvbnNGb3JDdXJyZW50VXNlcjogWyd1c2VyZ3JvdXAnLCBmYWxzZV0sXG4gICAgICAgIEdldFJvbGVzQW5kUGVybWlzc2lvbnNGb3JTaXRlOiBbJ3VzZXJncm91cCcsIGZhbHNlXSxcbiAgICAgICAgR2V0VXNlckNvbGxlY3Rpb246IFsndXNlcmdyb3VwJywgZmFsc2VdLFxuICAgICAgICBHZXRVc2VyQ29sbGVjdGlvbkZyb21Hcm91cDogWyd1c2VyZ3JvdXAnLCBmYWxzZV0sXG4gICAgICAgIEdldFVzZXJDb2xsZWN0aW9uRnJvbVJvbGU6IFsndXNlcmdyb3VwJywgZmFsc2VdLFxuICAgICAgICBHZXRVc2VyQ29sbGVjdGlvbkZyb21TaXRlOiBbJ3VzZXJncm91cCcsIGZhbHNlXSxcbiAgICAgICAgR2V0VXNlckNvbGxlY3Rpb25Gcm9tV2ViOiBbJ3VzZXJncm91cCcsIGZhbHNlXSxcbiAgICAgICAgR2V0VXNlckluZm86IFsndXNlcmdyb3VwJywgZmFsc2VdLFxuICAgICAgICBHZXRVc2VyTG9naW5Gcm9tRW1haWw6IFsndXNlcmdyb3VwJywgZmFsc2VdLFxuICAgICAgICBSZW1vdmVHcm91cDogWyd1c2VyZ3JvdXAnLCB0cnVlXSxcbiAgICAgICAgUmVtb3ZlR3JvdXBGcm9tUm9sZTogWyd1c2VyZ3JvdXAnLCB0cnVlXSxcbiAgICAgICAgUmVtb3ZlUm9sZTogWyd1c2VyZ3JvdXAnLCB0cnVlXSxcbiAgICAgICAgUmVtb3ZlVXNlckNvbGxlY3Rpb25Gcm9tR3JvdXA6IFsndXNlcmdyb3VwJywgdHJ1ZV0sXG4gICAgICAgIFJlbW92ZVVzZXJDb2xsZWN0aW9uRnJvbVJvbGU6IFsndXNlcmdyb3VwJywgdHJ1ZV0sXG4gICAgICAgIFJlbW92ZVVzZXJDb2xsZWN0aW9uRnJvbVNpdGU6IFsndXNlcmdyb3VwJywgdHJ1ZV0sXG4gICAgICAgIFJlbW92ZVVzZXJGcm9tR3JvdXA6IFsndXNlcmdyb3VwJywgdHJ1ZV0sXG4gICAgICAgIFJlbW92ZVVzZXJGcm9tUm9sZTogWyd1c2VyZ3JvdXAnLCB0cnVlXSxcbiAgICAgICAgUmVtb3ZlVXNlckZyb21TaXRlOiBbJ3VzZXJncm91cCcsIHRydWVdLFxuICAgICAgICBSZW1vdmVVc2VyRnJvbVdlYjogWyd1c2VyZ3JvdXAnLCB0cnVlXSxcbiAgICAgICAgVXBkYXRlR3JvdXBJbmZvOiBbJ3VzZXJncm91cCcsIHRydWVdLFxuICAgICAgICBVcGRhdGVSb2xlRGVmSW5mbzogWyd1c2VyZ3JvdXAnLCB0cnVlXSxcbiAgICAgICAgVXBkYXRlUm9sZUluZm86IFsndXNlcmdyb3VwJywgdHJ1ZV0sXG4gICAgICAgIFVwZGF0ZVVzZXJJbmZvOiBbJ3VzZXJncm91cCcsIHRydWVdLFxuICAgICAgICBBZGRDb2xsZWFndWU6IFsnVXNlclByb2ZpbGVTZXJ2aWNlJywgdHJ1ZV0sXG4gICAgICAgIEFkZExpbms6IFsnVXNlclByb2ZpbGVTZXJ2aWNlJywgdHJ1ZV0sXG4gICAgICAgIEFkZE1lbWJlcnNoaXA6IFsnVXNlclByb2ZpbGVTZXJ2aWNlJywgdHJ1ZV0sXG4gICAgICAgIEFkZFBpbm5lZExpbms6IFsnVXNlclByb2ZpbGVTZXJ2aWNlJywgdHJ1ZV0sXG4gICAgICAgIENyZWF0ZU1lbWJlckdyb3VwOiBbJ1VzZXJQcm9maWxlU2VydmljZScsIHRydWVdLFxuICAgICAgICBDcmVhdGVVc2VyUHJvZmlsZUJ5QWNjb3VudE5hbWU6IFsnVXNlclByb2ZpbGVTZXJ2aWNlJywgdHJ1ZV0sXG4gICAgICAgIEdldENvbW1vbkNvbGxlYWd1ZXM6IFsnVXNlclByb2ZpbGVTZXJ2aWNlJywgZmFsc2VdLFxuICAgICAgICBHZXRDb21tb25NYW5hZ2VyOiBbJ1VzZXJQcm9maWxlU2VydmljZScsIGZhbHNlXSxcbiAgICAgICAgR2V0Q29tbW9uTWVtYmVyc2hpcHM6IFsnVXNlclByb2ZpbGVTZXJ2aWNlJywgZmFsc2VdLFxuICAgICAgICBHZXRJbkNvbW1vbjogWydVc2VyUHJvZmlsZVNlcnZpY2UnLCBmYWxzZV0sXG4gICAgICAgIEdldFByb3BlcnR5Q2hvaWNlTGlzdDogWydVc2VyUHJvZmlsZVNlcnZpY2UnLCBmYWxzZV0sXG4gICAgICAgIEdldFVzZXJDb2xsZWFndWVzOiBbJ1VzZXJQcm9maWxlU2VydmljZScsIGZhbHNlXSxcbiAgICAgICAgR2V0VXNlckxpbmtzOiBbJ1VzZXJQcm9maWxlU2VydmljZScsIGZhbHNlXSxcbiAgICAgICAgR2V0VXNlck1lbWJlcnNoaXBzOiBbJ1VzZXJQcm9maWxlU2VydmljZScsIGZhbHNlXSxcbiAgICAgICAgR2V0VXNlclBpbm5lZExpbmtzOiBbJ1VzZXJQcm9maWxlU2VydmljZScsIGZhbHNlXSxcbiAgICAgICAgR2V0VXNlclByb2ZpbGVCeUd1aWQ6IFsnVXNlclByb2ZpbGVTZXJ2aWNlJywgZmFsc2VdLFxuICAgICAgICBHZXRVc2VyUHJvZmlsZUJ5SW5kZXg6IFsnVXNlclByb2ZpbGVTZXJ2aWNlJywgZmFsc2VdLFxuICAgICAgICBHZXRVc2VyUHJvZmlsZUJ5TmFtZTogWydVc2VyUHJvZmlsZVNlcnZpY2UnLCBmYWxzZV0sXG4gICAgICAgIEdldFVzZXJQcm9maWxlQ291bnQ6IFsnVXNlclByb2ZpbGVTZXJ2aWNlJywgZmFsc2VdLFxuICAgICAgICBHZXRVc2VyUHJvZmlsZVNjaGVtYTogWydVc2VyUHJvZmlsZVNlcnZpY2UnLCBmYWxzZV0sXG4gICAgICAgIEdldFVzZXJQcm9wZXJ0eUJ5QWNjb3VudE5hbWU6IFsnVXNlclByb2ZpbGVTZXJ2aWNlJywgZmFsc2VdLFxuICAgICAgICBNb2RpZnlVc2VyUHJvcGVydHlCeUFjY291bnROYW1lOiBbJ1VzZXJQcm9maWxlU2VydmljZScsIHRydWVdLFxuICAgICAgICBSZW1vdmVBbGxDb2xsZWFndWVzOiBbJ1VzZXJQcm9maWxlU2VydmljZScsIHRydWVdLFxuICAgICAgICBSZW1vdmVBbGxMaW5rczogWydVc2VyUHJvZmlsZVNlcnZpY2UnLCB0cnVlXSxcbiAgICAgICAgUmVtb3ZlQWxsTWVtYmVyc2hpcHM6IFsnVXNlclByb2ZpbGVTZXJ2aWNlJywgdHJ1ZV0sXG4gICAgICAgIFJlbW92ZUFsbFBpbm5lZExpbmtzOiBbJ1VzZXJQcm9maWxlU2VydmljZScsIHRydWVdLFxuICAgICAgICBSZW1vdmVDb2xsZWFndWU6IFsnVXNlclByb2ZpbGVTZXJ2aWNlJywgdHJ1ZV0sXG4gICAgICAgIFJlbW92ZUxpbms6IFsnVXNlclByb2ZpbGVTZXJ2aWNlJywgdHJ1ZV0sXG4gICAgICAgIFJlbW92ZU1lbWJlcnNoaXA6IFsnVXNlclByb2ZpbGVTZXJ2aWNlJywgdHJ1ZV0sXG4gICAgICAgIFJlbW92ZVBpbm5lZExpbms6IFsnVXNlclByb2ZpbGVTZXJ2aWNlJywgdHJ1ZV0sXG4gICAgICAgIFVwZGF0ZUNvbGxlYWd1ZVByaXZhY3k6IFsnVXNlclByb2ZpbGVTZXJ2aWNlJywgdHJ1ZV0sXG4gICAgICAgIFVwZGF0ZUxpbms6IFsnVXNlclByb2ZpbGVTZXJ2aWNlJywgdHJ1ZV0sXG4gICAgICAgIFVwZGF0ZU1lbWJlcnNoaXBQcml2YWN5OiBbJ1VzZXJQcm9maWxlU2VydmljZScsIHRydWVdLFxuICAgICAgICBVcGRhdGVQaW5uZWRMaW5rOiBbJ1VzZXJQcm9maWxlU2VydmljZScsIHRydWVdLFxuICAgICAgICBEZWxldGVBbGxWZXJzaW9uczogWydWZXJzaW9ucycsIHRydWVdLFxuICAgICAgICBEZWxldGVWZXJzaW9uOiBbJ1ZlcnNpb25zJywgdHJ1ZV0sXG4gICAgICAgIEdldFZlcnNpb25zOiBbJ1ZlcnNpb25zJywgZmFsc2VdLFxuICAgICAgICBSZXN0b3JlVmVyc2lvbjogWydWZXJzaW9ucycsIHRydWVdLFxuICAgICAgICBBZGRWaWV3OiBbJ1ZpZXdzJywgdHJ1ZV0sXG4gICAgICAgIERlbGV0ZVZpZXc6IFsnVmlld3MnLCB0cnVlXSxcbiAgICAgICAgR2V0VmlldzogWydWaWV3cycsIGZhbHNlXSxcbiAgICAgICAgR2V0Vmlld0h0bWw6IFsnVmlld3MnLCBmYWxzZV0sXG4gICAgICAgIEdldFZpZXdDb2xsZWN0aW9uOiBbJ1ZpZXdzJywgZmFsc2VdLFxuICAgICAgICBVcGRhdGVWaWV3OiBbJ1ZpZXdzJywgdHJ1ZV0sXG4gICAgICAgIFVwZGF0ZVZpZXdIdG1sOiBbJ1ZpZXdzJywgdHJ1ZV0sXG4gICAgICAgIEFkZFdlYlBhcnQ6IFsnV2ViUGFydFBhZ2VzJywgdHJ1ZV0sXG4gICAgICAgIEFkZFdlYlBhcnRUb1pvbmU6IFsnV2ViUGFydFBhZ2VzJywgdHJ1ZV0sXG4gICAgICAgIEdldFdlYlBhcnQyOiBbJ1dlYlBhcnRQYWdlcycsIGZhbHNlXSxcbiAgICAgICAgR2V0V2ViUGFydFBhZ2U6IFsnV2ViUGFydFBhZ2VzJywgZmFsc2VdLFxuICAgICAgICBHZXRXZWJQYXJ0UHJvcGVydGllczogWydXZWJQYXJ0UGFnZXMnLCBmYWxzZV0sXG4gICAgICAgIEdldFdlYlBhcnRQcm9wZXJ0aWVzMjogWydXZWJQYXJ0UGFnZXMnLCBmYWxzZV0sXG4gICAgICAgIEdldENvbHVtbnM6IFsnV2VicycsIGZhbHNlXSxcbiAgICAgICAgR2V0Q29udGVudFR5cGU6IFsnV2VicycsIGZhbHNlXSxcbiAgICAgICAgR2V0Q29udGVudFR5cGVzOiBbJ1dlYnMnLCBmYWxzZV0sXG4gICAgICAgIEdldEN1c3RvbWl6ZWRQYWdlU3RhdHVzOiBbJ1dlYnMnLCBmYWxzZV0sXG4gICAgICAgIEdldExpc3RUZW1wbGF0ZXM6IFsnV2VicycsIGZhbHNlXSxcbiAgICAgICAgR2V0T2JqZWN0SWRGcm9tVXJsOiBbJ1dlYnMnLCBmYWxzZV0sXG4gICAgICAgIEdldFdlYjogWydXZWJzJywgZmFsc2VdLFxuICAgICAgICBHZXRXZWJDb2xsZWN0aW9uOiBbJ1dlYnMnLCBmYWxzZV0sXG4gICAgICAgIEdldEFsbFN1YldlYkNvbGxlY3Rpb246IFsnV2VicycsIGZhbHNlXSxcbiAgICAgICAgVXBkYXRlQ29sdW1uczogWydXZWJzJywgdHJ1ZV0sXG4gICAgICAgIFdlYlVybEZyb21QYWdlVXJsOiBbJ1dlYnMnLCBmYWxzZV0sXG4gICAgICAgIEFsdGVyVG9EbzogWydXb3JrZmxvdycsIHRydWVdLFxuICAgICAgICBDbGFpbVJlbGVhc2VUYXNrOiBbJ1dvcmtmbG93JywgdHJ1ZV0sXG4gICAgICAgIEdldFRlbXBsYXRlc0Zvckl0ZW06IFsnV29ya2Zsb3cnLCBmYWxzZV0sXG4gICAgICAgIEdldFRvRG9zRm9ySXRlbTogWydXb3JrZmxvdycsIGZhbHNlXSxcbiAgICAgICAgR2V0V29ya2Zsb3dEYXRhRm9ySXRlbTogWydXb3JrZmxvdycsIGZhbHNlXSxcbiAgICAgICAgR2V0V29ya2Zsb3dUYXNrRGF0YTogWydXb3JrZmxvdycsIGZhbHNlXSxcbiAgICAgICAgU3RhcnRXb3JrZmxvdzogWydXb3JrZmxvdycsIHRydWVdXG4gICAgfTtcblxuICAgIGFuZ3VsYXIubW9kdWxlKCdhbmd1bGFyUG9pbnQnKVxuICAgICAgICAuY29uc3RhbnQoJ2FwV2ViU2VydmljZU9wZXJhdGlvbkNvbnN0YW50cycsIFdlYlNlcnZpY2VPcGVyYXRpb25Db25zdGFudHMpO1xuXG59XG4iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy9hcC5kLnRzXCIgLz5cblxubW9kdWxlIGFwIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBleHBvcnQgdmFyIFhNTEZpZWxkQXR0cmlidXRlVHlwZXMgPSB7XG4gICAgICAgIERlY2ltYWxzOiAnTnVtYmVyJyxcbiAgICAgICAgRW5mb3JjZVVuaXF1ZVZhbHVlczogJ0Jvb2xlYW4nLFxuICAgICAgICBGaWx0ZXJhYmxlOiAnQm9vbGVhbicsXG4gICAgICAgIEZyb21CYXNlVHlwZTogJ0Jvb2xlYW4nLFxuICAgICAgICBIaWRkZW46ICdCb29sZWFuJyxcbiAgICAgICAgSW5kZXhlZDogJ0Jvb2xlYW4nLFxuICAgICAgICBOdW1MaW5lczogJ051bWJlcicsXG4gICAgICAgIFJlYWRPbmx5OiAnQm9vbGVhbicsXG4gICAgICAgIFJlcXVpcmVkOiAnQm9vbGVhbicsXG4gICAgICAgIFNvcnRhYmxlOiAnQm9vbGVhbidcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG9iamVjdFxuICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcFhNTExpc3RBdHRyaWJ1dGVUeXBlc1xuICAgICAqIEBkZXNjcmlwdGlvbiBDb25zdGFudCBvYmplY3QgbWFwIHdoaWNoIGNvbnRhaW5zIG1hbnkgY29tbW9uIFhNTCBhdHRyaWJ1dGVzIGZvdW5kIG9uIGEgZmllbGQgZGVmaW5pdGlvbiB3aXRoIHRoZWlyXG4gICAgICogY29ycmVzcG9uZGluZyB0eXBlLlxuICAgICAqL1xuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnYW5ndWxhclBvaW50JylcbiAgICAgICAgLmNvbnN0YW50KCdhcFhNTEZpZWxkQXR0cmlidXRlVHlwZXMnLCBYTUxGaWVsZEF0dHJpYnV0ZVR5cGVzKTtcblxufVxuIiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3MvYXAuZC50c1wiIC8+XG5cbm1vZHVsZSBhcCB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgZXhwb3J0IHZhciBYTUxMaXN0QXR0cmlidXRlVHlwZXMgPSB7XG4gICAgICAgIEJhc2VUeXBlOiAnTnVtYmVyJyxcbiAgICAgICAgU2VydmVyVGVtcGxhdGU6ICdOdW1iZXInLFxuICAgICAgICBDcmVhdGVkOiAnRGF0ZVRpbWUnLFxuICAgICAgICBNb2RpZmllZDogJ0RhdGVUaW1lJyxcbiAgICAgICAgTGFzdERlbGV0ZWQ6ICdEYXRlVGltZScsXG4gICAgICAgIFZlcnNpb246ICdOdW1iZXInLFxuICAgICAgICBUaHVtYm5haWxTaXplOiAnTnVtYmVyJyxcbiAgICAgICAgV2ViSW1hZ2VXaWR0aDogJ051bWJlcicsXG4gICAgICAgIFdlYkltYWdlSGVpZ2h0OiAnTnVtYmVyJyxcbiAgICAgICAgRmxhZ3M6ICdOdW1iZXInLFxuICAgICAgICBJdGVtQ291bnQ6ICdOdW1iZXInLFxuICAgICAgICBSZWFkU2VjdXJpdHk6ICdOdW1iZXInLFxuICAgICAgICBXcml0ZVNlY3VyaXR5OiAnTnVtYmVyJyxcbiAgICAgICAgQXV0aG9yOiAnTnVtYmVyJyxcbiAgICAgICAgTWFqb3JXaXRoTWlub3JWZXJzaW9uc0xpbWl0OiAnTnVtYmVyJyxcbiAgICAgICAgSGFzVW5pcXVlU2NvcGVzOiAnQm9vbGVhbicsXG4gICAgICAgIE5vVGhyb3R0bGVMaXN0T3BlcmF0aW9uczogJ0Jvb2xlYW4nLFxuICAgICAgICBIYXNSZWxhdGVkTGlzdHM6ICdCb29sZWFuJyxcbiAgICAgICAgQWxsb3dEZWxldGlvbjogJ0Jvb2xlYW4nLFxuICAgICAgICBBbGxvd011bHRpUmVzcG9uc2VzOiAnQm9vbGVhbicsXG4gICAgICAgIEVuYWJsZUF0dGFjaG1lbnRzOiAnQm9vbGVhbicsXG4gICAgICAgIEVuYWJsZU1vZGVyYXRpb246ICdCb29sZWFuJyxcbiAgICAgICAgRW5hYmxlVmVyc2lvbmluZzogJ0Jvb2xlYW4nLFxuICAgICAgICBIYXNFeHRlcm5hbERhdGFTb3VyY2U6ICdCb29sZWFuJyxcbiAgICAgICAgSGlkZGVuOiAnQm9vbGVhbicsXG4gICAgICAgIE11bHRpcGxlRGF0YUxpc3Q6ICdCb29sZWFuJyxcbiAgICAgICAgT3JkZXJlZDogJ0Jvb2xlYW4nLFxuICAgICAgICBTaG93VXNlcjogJ0Jvb2xlYW4nLFxuICAgICAgICBFbmFibGVQZW9wbGVTZWxlY3RvcjogJ0Jvb2xlYW4nLFxuICAgICAgICBFbmFibGVSZXNvdXJjZVNlbGVjdG9yOiAnQm9vbGVhbicsXG4gICAgICAgIEVuYWJsZU1pbm9yVmVyc2lvbjogJ0Jvb2xlYW4nLFxuICAgICAgICBSZXF1aXJlQ2hlY2tvdXQ6ICdCb29sZWFuJyxcbiAgICAgICAgVGhyb3R0bGVMaXN0T3BlcmF0aW9uczogJ0Jvb2xlYW4nLFxuICAgICAgICBFeGNsdWRlRnJvbU9mZmxpbmVDbGllbnQ6ICdCb29sZWFuJyxcbiAgICAgICAgRW5hYmxlRm9sZGVyQ3JlYXRpb246ICdCb29sZWFuJyxcbiAgICAgICAgSXJtRW5hYmxlZDogJ0Jvb2xlYW4nLFxuICAgICAgICBJc0FwcGxpY2F0aW9uTGlzdDogJ0Jvb2xlYW4nLFxuICAgICAgICBQcmVzZXJ2ZUVtcHR5VmFsdWVzOiAnQm9vbGVhbicsXG4gICAgICAgIFN0cmljdFR5cGVDb2VyY2lvbjogJ0Jvb2xlYW4nLFxuICAgICAgICBFbmZvcmNlRGF0YVZhbGlkYXRpb246ICdCb29sZWFuJyxcbiAgICAgICAgTWF4SXRlbXNQZXJUaHJvdHRsZWRPcGVyYXRpb246ICdOdW1iZXInXG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBvYmplY3RcbiAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBYTUxMaXN0QXR0cmlidXRlVHlwZXNcbiAgICAgKiBAZGVzY3JpcHRpb24gQ29uc3RhbnQgb2JqZWN0IG1hcCB3aGljaCBjb250YWlucyBtYW55IGNvbW1vbiBYTUwgYXR0cmlidXRlcyBmb3VuZCBvbiBhIGxpc3QgZGVmaW5pdGlvbiB3aXRoIHRoZWlyXG4gICAgICogY29ycmVzcG9uZGluZyB0eXBlLlxuICAgICAqL1xuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnYW5ndWxhclBvaW50JylcbiAgICAgICAgLmNvbnN0YW50KCdhcFhNTExpc3RBdHRyaWJ1dGVUeXBlcycsIFhNTExpc3RBdHRyaWJ1dGVUeXBlcyk7XG5cbn1cbiIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90eXBpbmdzL2FwLmQudHNcIiAvPlxuXG5tb2R1bGUgYXAge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGV4cG9ydCBjbGFzcyBDYW1sRmFjdG9yeSB7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBDYW1sRmFjdG9yeTpjYW1sQ29udGFpbnNRdWVyeVxuICAgICAgICAgKiBAbWV0aG9kT2YgYW5ndWxhclBvaW50LmFwQ2FtbEZhY3RvcnlcbiAgICAgICAgICogQHBhcmFtZXRlciB7b2JqZWN0W119IGZpZWxkRGVmaW5pdGlvbnNBcnJheSBBcnJheSBvZiBmaWVsZHMgdG8gc2VhcmNoIGZvciBhIGdpdmVuIHNlYXJjaCBzdHJpbmcuXG4gICAgICAgICAqIEBwYXJhbWV0ZXIge3N0cmluZ30gc2VhcmNoU3RyaW5nIFN0cmluZyBvZiB0ZXh0IHRvIHNlYXJjaCByZWNvcmRzIGZvci5cbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIFJldHVybnMgYSBjb21iaW5hdGlvbiBvZiBzZWxlY3RvcnMgdXNpbmcgQ0FNTCAnPE9yPjwvT3I+JyBlbGVtZW50c1xuICAgICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBDYW1sIHNlbGVjdCBzdHJpbmcuXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIDxwcmU+XG4gICAgICAgICAqXG4gICAgICAgICAqIHZhciB0ZXN0SFRNTCA9IHtvYmplY3RUeXBlOiAnSFRNTCcsIHN0YXRpY05hbWU6ICdIVE1MJ307XG4gICAgICAgICAqIHZhciB0ZXN0SlNPTiA9IHtvYmplY3RUeXBlOiAnSlNPTicsIHN0YXRpY05hbWU6ICdKU09OJ307XG4gICAgICAgICAqIHZhciB0ZXN0VGV4dCA9IHtvYmplY3RUeXBlOiAnVGV4dCcsIHN0YXRpY05hbWU6ICdUZXh0J307XG4gICAgICAgICAqIHZhciB0ZXN0VGV4dDIgPSB7b2JqZWN0VHlwZTogJ1RleHQnLCBzdGF0aWNOYW1lOiAnVGV4dCd9O1xuICAgICAgICAgKlxuICAgICAgICAgKiB2YXIgdGVzdENhbWwgPSBjYW1sQ29udGFpbnNRdWVyeShbdGVzdEhUTUwsIHRlc3RUZXh0LCB0ZXN0SlNPTiwgdGVzdFRleHQyXSwgJ1Rlc3QgUXVlcnknKTtcbiAgICAgICAgICogY29uc29sZS5sb2codGVzdENhbWwpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAvL1JldHVybnNcbiAgICAgICAgICogPE9yPjxDb250YWlucz48RmllbGRSZWYgTmFtZT1cXFwiSFRNTFxcXCIgLz48VmFsdWUgVHlwZT1cXFwiVGV4dFxcXCI+PCFbQ0RBVEFbVGVzdCBRdWVyeV1dPlxuICAgICAgICAgKiA8L1ZhbHVlPjwvQ29udGFpbnM+PE9yPjxDb250YWlucz48RmllbGRSZWYgTmFtZT1cXFwiVGV4dFxcXCIgLz48VmFsdWUgVHlwZT1cXFwiVGV4dFxcXCI+VGVzdCBRdWVyeTwvVmFsdWU+XG4gICAgICAgICAqIDwvQ29udGFpbnM+PE9yPjxDb250YWlucz48RmllbGRSZWYgTmFtZT1cXFwiSlNPTlxcXCIgLz48VmFsdWUgVHlwZT1cXFwiVGV4dFxcXCI+PCFbQ0RBVEFbVGVzdCBRdWVyeV1dPlxuICAgICAgICAgKiA8L1ZhbHVlPjwvQ29udGFpbnM+PENvbnRhaW5zPjxGaWVsZFJlZiBOYW1lPVxcXCJUZXh0XFxcIiAvPjxWYWx1ZSBUeXBlPVxcXCJUZXh0XFxcIj5UZXN0IFF1ZXJ5PC9WYWx1ZT5cbiAgICAgICAgICogPC9Db250YWlucz48L09yPjwvT3I+PC9Pcj5cbiAgICAgICAgICogPC9wcmU+XG4gICAgICAgICAqL1xuICAgICAgICBjYW1sQ29udGFpbnNRdWVyeShmaWVsZERlZmluaXRpb25zQXJyYXk6SUZpZWxkRGVmaW5pdGlvbltdLCBzZWFyY2hTdHJpbmc6c3RyaW5nKTpzdHJpbmcge1xuICAgICAgICAgICAgdmFyIHNlbGVjdFN0YXRlbWVudHMgPSBbXTtcblxuICAgICAgICAgICAgLyoqIENyZWF0ZSBhIHNlbGVjdCBzdGF0ZW1lbnQgZm9yIGVhY2ggZmllbGQgKi9cbiAgICAgICAgICAgIF8uZWFjaChmaWVsZERlZmluaXRpb25zQXJyYXksIChmaWVsZERlZmluaXRpb24sIGRlZmluaXRpb25JbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgIHNlbGVjdFN0YXRlbWVudHMucHVzaCh0aGlzLmNyZWF0ZUNhbWxDb250YWluc1NlbGVjdG9yKGZpZWxkRGVmaW5pdGlvbiwgc2VhcmNoU3RyaW5nKSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2hhaW5DYW1sU2VsZWN0cyhzZWxlY3RTdGF0ZW1lbnRzLCAnQW5kJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcENhbWxGYWN0b3J5OmNoYWluQ2FtbFNlbGVjdHNcbiAgICAgICAgICogQG1ldGhvZE9mIGFuZ3VsYXJQb2ludC5hcENhbWxGYWN0b3J5XG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBVc2VkIHRvIGNvbWJpbmUgbXVsdGlwbGUgY2FtbCBzZWxlY3RvcnMgaW50byBhIHNpbmdsZSBDQU1MIHF1ZXJ5IHN0cmluZyB3cmFwcGVkIHByb3Blcmx5LlxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdFtdfSBzZWxlY3RTdGF0ZW1lbnRzIEFuIGFycmF5IG9mIHNlbGVjdCBzdGF0ZW1lbnRzIHRvIHdyYXAgaW4gXCI8T3I+XCIuXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBqb2luVHlwZSBWYWxpZCBjYW1sIGpvaW4gdHlwZSAoJ09yJywgJ0FuZCcsIC4uLikuXG4gICAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IENBTUwgcXVlcnkgc3RyaW5nLlxuICAgICAgICAgKi9cbiAgICAgICAgY2hhaW5DYW1sU2VsZWN0cyhzZWxlY3RTdGF0ZW1lbnRzOk9iamVjdFtdLCBqb2luVHlwZTpzdHJpbmcpOnN0cmluZyB7XG4gICAgICAgICAgICB2YXIgY2FtbFF1ZXJ5ID0gJycsXG4gICAgICAgICAgICAgICAgY2FtbFF1ZXJ5Q2xvc3VyZSA9ICcnO1xuICAgICAgICAgICAgXy5lYWNoKHNlbGVjdFN0YXRlbWVudHMsIGZ1bmN0aW9uIChzdGF0ZW1lbnQsIHN0YXRlbWVudEluZGV4KSB7XG4gICAgICAgICAgICAgICAgLyoqIEFkZCBhbiBvciBjbGF1c2UgaWYgd2Ugc3RpbGwgaGF2ZSBhZGRpdGlvbmFsIGZpZWxkcyB0byBwcm9jZXNzICovXG4gICAgICAgICAgICAgICAgaWYgKHN0YXRlbWVudEluZGV4IDwgc2VsZWN0U3RhdGVtZW50cy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbWxRdWVyeSArPSAnPCcgKyBqb2luVHlwZSArICc+JztcbiAgICAgICAgICAgICAgICAgICAgY2FtbFF1ZXJ5Q2xvc3VyZSA9ICc8LycgKyBqb2luVHlwZSArICc+JyArIGNhbWxRdWVyeUNsb3N1cmU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhbWxRdWVyeSArPSBzdGF0ZW1lbnQ7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBjYW1sUXVlcnkgKyBjYW1sUXVlcnlDbG9zdXJlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBDYW1sRmFjdG9yeTpjcmVhdGVDYW1sQ29udGFpbnNTZWxlY3RvclxuICAgICAgICAgKiBAbWV0aG9kT2YgYW5ndWxhclBvaW50LmFwQ2FtbEZhY3RvcnlcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIEVzY2FwZXMgY2hhcmFjdGVycyB0aGF0IFNoYXJlUG9pbnQgZ2V0cyB1cHNldCBhYm91dCBiYXNlZCBvbiBmaWVsZCB0eXBlLlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiA8cHJlPlxuICAgICAgICAgKiB2YXIgdGVzdEhUTUwgPSB7b2JqZWN0VHlwZTogJ0hUTUwnLCBzdGF0aWNOYW1lOiAnSFRNTCd9O1xuICAgICAgICAgKlxuICAgICAgICAgKiB2YXIgdGVzdENhbWwgPSBjcmVhdGVDYW1sQ29udGFpbnNTZWxlY3Rvcih0ZXN0SFRNTCwgJ1Rlc3QgUXVlcnknKTtcbiAgICAgICAgICogY29uc29sZS5sb2codGVzdENhbWwpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAvL1JldHVybnNcbiAgICAgICAgICogPENvbnRhaW5zPlxuICAgICAgICAgKiAgIDxGaWVsZFJlZiBOYW1lPVxcXCJIVE1MXFxcIiAvPlxuICAgICAgICAgKiAgIDxWYWx1ZSBUeXBlPVxcXCJUZXh0XFxcIj48IVtDREFUQVtUZXN0IFF1ZXJ5XV0+PC9WYWx1ZT5cbiAgICAgICAgICogPC9Db250YWlucz5cbiAgICAgICAgICogPC9wcmU+XG4gICAgICAgICAqL1xuICAgICAgICBjcmVhdGVDYW1sQ29udGFpbnNTZWxlY3RvcihmaWVsZERlZmluaXRpb246SUZpZWxkRGVmaW5pdGlvbiwgc2VhcmNoU3RyaW5nOnN0cmluZyk6c3RyaW5nIHtcbiAgICAgICAgICAgIHZhciBjYW1sU2VsZWN0b3I7XG4gICAgICAgICAgICBzd2l0Y2ggKGZpZWxkRGVmaW5pdGlvbi5vYmplY3RUeXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnSFRNTCc6XG4gICAgICAgICAgICAgICAgY2FzZSAnSlNPTic6XG4gICAgICAgICAgICAgICAgICAgIGNhbWxTZWxlY3RvciA9ICcnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICc8Q29udGFpbnM+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnPEZpZWxkUmVmIE5hbWU9XCInICsgZmllbGREZWZpbml0aW9uLnN0YXRpY05hbWUgKyAnXCIgLz4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKiBVc2UgQ0RBVEEgd3JhcHBlciB0byBlc2NhcGUgWyYsIDwsID4gXSAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgJzxWYWx1ZSBUeXBlPVwiVGV4dFwiPjwhW0NEQVRBWycgKyBzZWFyY2hTdHJpbmcgKyAnXV0+PC9WYWx1ZT4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICc8L0NvbnRhaW5zPic7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGNhbWxTZWxlY3RvciA9ICcnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICc8Q29udGFpbnM+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnPEZpZWxkUmVmIE5hbWU9XCInICsgZmllbGREZWZpbml0aW9uLnN0YXRpY05hbWUgKyAnXCIgLz4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICc8VmFsdWUgVHlwZT1cIlRleHRcIj4nICsgc2VhcmNoU3RyaW5nICsgJzwvVmFsdWU+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnPC9Db250YWlucz4nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNhbWxTZWxlY3RvcjtcbiAgICAgICAgfVxuXG5cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBDYW1sRmFjdG9yeVxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFRvb2xzIHRvIGFzc2lzdCB3aXRoIHRoZSBjcmVhdGlvbiBvZiBDQU1MIHF1ZXJpZXMuXG4gICAgICpcbiAgICAgKi9cbiAgICBhbmd1bGFyLm1vZHVsZSgnYW5ndWxhclBvaW50JylcbiAgICAgICAgLnNlcnZpY2UoJ2FwQ2FtbEZhY3RvcnknLCBDYW1sRmFjdG9yeSk7XG59XG4iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy9hcC5kLnRzXCIgLz5cblxubW9kdWxlIGFwIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgYXBGaWVsZFNlcnZpY2U6IEZpZWxkU2VydmljZSwgYXBVdGlsaXR5U2VydmljZTogVXRpbGl0eVNlcnZpY2U7XG5cbiAgICBleHBvcnQgaW50ZXJmYWNlIElGaWVsZERlZmluaXRpb24ge1xuICAgICAgICBjaG9pY2VzPzogc3RyaW5nW107XG4gICAgICAgIENob2ljZXM/OiBzdHJpbmdbXTtcbiAgICAgICAgZGVzY3JpcHRpb24/OiBzdHJpbmc7XG4gICAgICAgIERlc2NyaXB0aW9uPzogc3RyaW5nO1xuICAgICAgICBkaXNwbGF5TmFtZT86IHN0cmluZztcbiAgICAgICAgRGlzcGxheU5hbWU/OiBzdHJpbmc7XG4gICAgICAgIGdldERlZmF1bHRWYWx1ZUZvclR5cGU/KCk6IHN0cmluZztcbiAgICAgICAgZ2V0RGVmaW5pdGlvbj8oKTogc3RyaW5nO1xuICAgICAgICBnZXRNb2NrRGF0YT8ob3B0aW9ucz86IE9iamVjdCk6IGFueTtcbiAgICAgICAgbGFiZWw6IHN0cmluZztcbiAgICAgICAgbWFwcGVkTmFtZTogc3RyaW5nO1xuICAgICAgICBvYmplY3RUeXBlOiBzdHJpbmc7XG4gICAgICAgIHJlYWRPbmx5PzogYm9vbGVhbjtcbiAgICAgICAgcmVxdWlyZWQ/OiBib29sZWFuO1xuICAgICAgICBSZXF1aXJlZD86IGJvb2xlYW47XG4gICAgICAgIHN0YXRpY05hbWU6IHN0cmluZztcbiAgICAgICAgTGlzdD86c3RyaW5nO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG9iamVjdFxuICAgICAqIEBuYW1lIEZpZWxkXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogRGVmaW5lZCBpbiB0aGUgTU9ERUwubGlzdC5maWVsZERlZmluaXRpb25zIGFycmF5LiAgRWFjaCBmaWVsZCBkZWZpbml0aW9uIG9iamVjdCBtYXBzIGFuIGludGVybmFsIGZpZWxkXG4gICAgICogaW4gYSBTaGFyZVBvaW50IGxpc3QvbGlicmFyeSB0byBhIEphdmFTY3JpcHQgb2JqZWN0IHVzaW5nIHRoZSBpbnRlcm5hbCBTaGFyZVBvaW50IGZpZWxkIG5hbWUsIHRoZSBmaWVsZFxuICAgICAqIHR5cGUsIGFuZCB0aGUgZGVzaXJlZCBKYXZhU2NyaXB0IHByb3BlcnR5IG5hbWUgdG8gYWRkIG9udG8gdGhlIHBhcnNlZCBsaXN0IGl0ZW0gb2JqZWN0LiBJZ25vcmUgc2hvd24gdXNhZ2UsXG4gICAgICogZWFjaCBmaWVsZCBkZWZpbml0aW9uIGlzIGp1c3QgYW4gb2JqZWN0IHdpdGhpbiB0aGUgZmllbGREZWZpbml0aW9ucyBhcnJheS5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb2JqIEZpZWxkIGRlZmluaXRpb24uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG9iai5zdGF0aWNOYW1lIFRoZSBhY3R1YWwgU2hhcmVQb2ludCBmaWVsZCBuYW1lLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb2JqLm9iamVjdFR5cGU9J1RleHQnXVxuICAgICAqIDxkbD5cbiAgICAgKiAgICAgPGR0PkJvb2xlYW48L2R0PlxuICAgICAqICAgICA8ZGQ+VXNlZCB0byBzdG9yZSBhIFRSVUUvRkFMU0UgdmFsdWUgKHN0b3JlZCBpbiBTaGFyZVBvaW50IGFzIDAgb3IgMSkuPC9kZD5cbiAgICAgKiAgICAgPGR0PkNhbGM8L2R0PlxuICAgICAqICAgICA8ZGQ+XCI7I1wiIERlbGltaXRlZCBTdHJpbmc6IFRoZSBmaXJzdCB2YWx1ZSB3aWxsIGJlIHRoZSBjYWxjdWxhdGVkIGNvbHVtbiB2YWx1ZVxuICAgICAqICAgICB0eXBlLCB0aGUgc2Vjb25kIHdpbGwgYmUgdGhlIHZhbHVlPC9kZD5cbiAgICAgKiAgICAgPGR0PkNob2ljZTwvZHQ+XG4gICAgICogICAgIDxkZD5TaW1wbGUgdGV4dCBzdHJpbmcgYnV0IHdoZW4gcHJvY2Vzc2luZyB0aGUgaW5pdGlhbCBsaXN0IGRlZmluaXRpb24sIHdlXG4gICAgICogICAgIGxvb2sgZm9yIGEgQ2hvaWNlcyBYTUwgZWxlbWVudCB3aXRoaW4gdGhlIGZpZWxkIGRlZmluaXRpb24gYW5kIHN0b3JlIGVhY2hcbiAgICAgKiAgICAgdmFsdWUuICBXZSBjYW4gdGhlbiByZXRyaWV2ZSB0aGUgdmFsaWQgQ2hvaWNlcyB3aXRoIG9uZSBvZiB0aGUgZm9sbG93aW5nOlxuICAgICAqICAgICBgYGB2YXIgZmllbGREZWZpbml0aW9uID0gTElTVElURU0uZ2V0RmllbGREZWZpbml0aW9uKCdDSE9JQ0VfRklFTERfTkFNRScpO2BgYFxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvclxuICAgICAqICAgICBgYGB2YXIgZmllbGREZWZpbml0aW9uID0gTU9ERUxOQU1FLmdldEZpZWxkRGVmaW5pdGlvbignQ0hPSUNFX0ZJRUxEX05BTUUnKTtgYGBcbiAgICAgKiAgICAgYGBgdmFyIGNob2ljZXMgPSBmaWVsZERlZmluaXRpb24uQ2hvaWNlcztgYGBcblxuICAgICAqICAgICA8L2RkPlxuICAgICAqICAgICA8ZHQ+Q291bnRlcjwvZHQ+XG4gICAgICogICAgIDxkZD5TYW1lIGFzIEludGVnZXIuIEdlbmVyYWxseSB1c2VkIG9ubHkgZm9yIHRoZSBpbnRlcm5hbCBJRCBmaWVsZC4gSXRzIGludGVnZXJcbiAgICAgKiAgICAgdmFsdWUgaXMgc2V0IGF1dG9tYXRpY2FsbHkgdG8gYmUgdW5pcXVlIHdpdGggcmVzcGVjdCB0byBldmVyeSBvdGhlciBpdGVtIGluIHRoZVxuICAgICAqICAgICBjdXJyZW50IGxpc3QuIFRoZSBDb3VudGVyIHR5cGUgaXMgYWx3YXlzIHJlYWQtb25seSBhbmQgY2Fubm90IGJlIHNldCB0aHJvdWdoIGFcbiAgICAgKiAgICAgZm9ybSBwb3N0LjwvZGQ+XG4gICAgICogICAgIDxkdD5DdXJyZW5jeTwvZHQ+XG4gICAgICogICAgIDxkZD5GbG9hdGluZyBwb2ludCBudW1iZXIuPC9kZD5cbiAgICAgKiAgICAgPGR0PkRhdGVUaW1lPC9kdD5cbiAgICAgKiAgICAgPGRkPlJlcGxhY2UgZGFzaGVzIHdpdGggc2xhc2hlcyBhbmQgdGhlIFwiVFwiIGRlbGltaW5hdG9yIHdpdGggYSBzcGFjZSBpZiBmb3VuZC4gIFRoZW5cbiAgICAgKiAgICAgY29udmVydHMgaW50byBhIHZhbGlkIEpTIGRhdGUgb2JqZWN0LjwvZGQ+XG4gICAgICogICAgIDxkdD5GbG9hdDwvZHQ+XG4gICAgICogICAgIDxkZD5GbG9hdGluZyBwb2ludCBudW1iZXIuPC9kZD5cbiAgICAgKiAgICAgPGR0PkhUTUw8L2R0PlxuICAgICAqICAgICA8ZGQ+YGBgXy51bmVzY2FwZShTVFJJTkcpYGBgPC9kZD5cbiAgICAgKiAgICAgPGR0PkludGVnZXI8L2R0PlxuICAgICAqICAgICA8ZGQ+UGFyc2VzIHRoZSBzdHJpbmcgdG8gYSBiYXNlIDEwIGludC48L2RkPlxuICAgICAqICAgICA8ZHQ+SlNPTjwvZHQ+XG4gICAgICogICAgIDxkZD5QYXJzZXMgSlNPTiBpZiB2YWxpZCBhbmQgY29udmVydHMgaW50byBhIGEgSlMgb2JqZWN0LiAgSWYgbm90IHZhbGlkLCBhbiBlcnJvciBpc1xuICAgICAqICAgICB0aHJvd24gd2l0aCBhZGRpdGlvbmFsIGluZm8gb24gc3BlY2lmaWNhbGx5IHdoYXQgaXMgaW52YWxpZC48L2RkPlxuICAgICAqICAgICA8ZHQ+TG9va3VwPC9kdD5cbiAgICAgKiAgICAgPGRkPlBhc3NlcyBzdHJpbmcgdG8gTG9va3VwIGNvbnN0cnVjdG9yIHdoZXJlIGl0IGlzIGJyb2tlbiBpbnRvIGFuIG9iamVjdCBjb250YWluaW5nXG4gICAgICogICAgIGEgXCJsb29rdXBWYWx1ZVwiIGFuZCBcImxvb2t1cElkXCIgYXR0cmlidXRlLiAgSW5oZXJpdHMgYWRkaXRpb25hbCBwcm90b3R5cGUgbWV0aG9kcyBmcm9tXG4gICAgICogICAgIExvb2t1cC4gIFNlZSBbTG9va3VwXSgjL2FwaS9Mb29rdXApIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICAgICAqICAgICA8L2RkPlxuICAgICAqICAgICA8ZHQ+TG9va3VwTXVsdGk8L2R0PlxuICAgICAqICAgICA8ZGQ+Q29udmVydHMgbXVsdGlwbGUgZGVsaW1pdGVkIFwiOyNcIiBzdHJpbmdzIGludG8gYW4gYXJyYXkgb2YgTG9va3VwIG9iamVjdHMuPC9kZD5cbiAgICAgKiAgICAgPGR0Pk11bHRpQ2hvaWNlPC9kdD5cbiAgICAgKiAgICAgPGRkPkNvbnZlcnRzIGRlbGltaXRlZCBcIjsjXCIgc3RyaW5nIGludG8gYW4gYXJyYXkgb2Ygc3RyaW5ncyByZXByZXNlbnRpbmcgZWFjaCBvZiB0aGVcbiAgICAgKiAgICAgc2VsZWN0ZWQgY2hvaWNlcy4gIFNpbWlsYXIgdG8gdGhlIHNpbmdsZSBcIkNob2ljZVwiLCB0aGUgWE1MIENob2ljZXMgYXJlIHN0b3JlZCBpbiB0aGVcbiAgICAgKiAgICAgZmllbGQgZGVmaW5pdGlvbiBhZnRlciB0aGUgaW5pdGlhbCBjYWxsIGlzIHJldHVybmVkIGZyb20gU2hhcmVQb2ludCBzbyB3ZSBjYW4gcmVmZXJlbmNlXG4gICAgICogICAgIGxhdGVyLlxuICAgICAqICAgICA8L2RkPlxuICAgICAqICAgICA8ZHQ+TnVtYmVyPC9kdD5cbiAgICAgKiAgICAgPGRkPlRyZWF0cyBhcyBhIGZsb2F0LjwvZGQ+XG4gICAgICogICAgIDxkdD5UZXh0PC9kdD5cbiAgICAgKiAgICAgPGRkPioqRGVmYXVsdCoqIE5vIHByb2Nlc3Npbmcgb2YgdGhlIHRleHQgc3RyaW5nIGZyb20gWE1MLjwvZGQ+XG4gICAgICogICAgIDxkdD5Vc2VyPC9kdD5cbiAgICAgKiAgICAgPGRkPlNpbWlsYXIgdG8gTG9va3VwIGJ1dCB1c2VzIHRoZSBcIlVzZXJcIiBwcm90b3R5cGUgYXMgYSBjb25zdHJ1Y3RvciB0byBjb252ZXJ0IGludG8gYVxuICAgICAqICAgICBVc2VyIG9iamVjdCB3aXRoIFwibG9va3VwSWRcIiBhbmQgXCJsb29rdXBWYWx1ZVwiIGF0dHJpYnV0ZXMuICBUaGUgbG9va3VwSWQgaXMgdGhlIHNpdGUgY29sbGVjdGlvblxuICAgICAqICAgICBJRCBmb3IgdGhlIHVzZXIgYW5kIHRoZSBsb29rdXBWYWx1ZSBpcyB0eXBpY2FsbHkgdGhlIGRpc3BsYXkgbmFtZS5cbiAgICAgKiAgICAgU2VlIFtVc2VyXSgjL2FwaS9Vc2VyKSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAgICAgKiAgICAgPC9kZD5cbiAgICAgKiAgICAgPGR0PlVzZXJNdWx0aTwvZHQ+XG4gICAgICogICAgIDxkZD5QYXJzZXMgZGVsaW1pdGVkIHN0cmluZyB0byByZXR1cm5zIGFuIGFycmF5IG9mIFVzZXIgb2JqZWN0cy48L2RkPlxuICAgICAqIDwvZGw+XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG9iai5tYXBwZWROYW1lIFRoZSBhdHRyaWJ1dGUgbmFtZSB3ZSdkIGxpa2UgdG8gdXNlXG4gICAgICogZm9yIHRoaXMgZmllbGQgb24gdGhlIG5ld2x5IGNyZWF0ZWQgSlMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29iai5yZWFkT25seT1mYWxzZV0gV2hlbiBzYXZpbmcsIHdlIG9ubHkgcHVzaCBmaWVsZHNcbiAgICAgKiB0aGF0IGFyZSBtYXBwZWQgYW5kIG5vdCByZWFkIG9ubHkuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb2JqLnJlcXVpcmVkPWZhbHNlXSBBbGxvd3MgdXMgdG8gdmFsaWRhdGUgdGhlIGZpZWxkIHRvIGVuc3VyZSBpdCBpcyB2YWxpZCBiYXNlZFxuICAgICAqIG9uIGZpZWxkIHR5cGUuXG4gICAgICogQHJldHVybnMge29iamVjdH0gRmllbGRcbiAgICAgKlxuICAgICAqIEByZXF1aXJlcyBhbmd1bGFyUG9pbnQuYXBGaWVsZEZhY3RvcnlcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKi9cbiAgICBleHBvcnQgY2xhc3MgRmllbGQgaW1wbGVtZW50cyBJRmllbGREZWZpbml0aW9ue1xuICAgICAgICBkaXNwbGF5TmFtZTtcbiAgICAgICAgaW50ZXJuYWxOYW1lO1xuICAgICAgICBsYWJlbDtcbiAgICAgICAgbWFwcGVkTmFtZTtcbiAgICAgICAgb2JqZWN0VHlwZTtcbiAgICAgICAgc3RhdGljTmFtZTtcbiAgICAgICAgY29uc3RydWN0b3Iob2JqKSB7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgICAgICB2YXIgZGVmYXVsdHMgPSB7XG4gICAgICAgICAgICAgICAgcmVhZE9ubHk6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG9iamVjdFR5cGU6ICdUZXh0J1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIF8uZXh0ZW5kKHNlbGYsIGRlZmF1bHRzLCBvYmopO1xuICAgICAgICAgICAgc2VsZi5kaXNwbGF5TmFtZSA9IHNlbGYuZGlzcGxheU5hbWUgPyBzZWxmLmRpc3BsYXlOYW1lIDogYXBVdGlsaXR5U2VydmljZS5mcm9tQ2FtZWxDYXNlKHNlbGYubWFwcGVkTmFtZSk7XG4gICAgICAgICAgICAvKiogRGVwcmVjYXRlZCBpbnRlcm5hbCBuYW1lIGFuZCByZXBsYWNlIHdpdGggc3RhdGljTmFtZSBidXQgbWFpbnRhaW4gY29tcGF0aWJpbGl0eSAqL1xuICAgICAgICAgICAgc2VsZi5zdGF0aWNOYW1lID0gc2VsZi5zdGF0aWNOYW1lIHx8IHNlbGYuaW50ZXJuYWxOYW1lO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBGaWVsZDpnZXREZWZhdWx0VmFsdWVGb3JUeXBlXG4gICAgICAgICAqIEBtZXRob2RPZiBGaWVsZFxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogUmV0dXJucyBhbiBvYmplY3QgZGVmaW5pbmcgYSBzcGVjaWZpYyBmaWVsZCB0eXBlXG4gICAgICAgICAqIEByZXR1cm5zIHtvYmplY3R9IHsgZGVmYXVsdFZhbHVlOiAnLi4uJzpzdHJpbmcsIHN0YXRpY01vY2s6ICcuLi4nOnN0cmluZywgZHluYW1pY01vY2s6IC4uLjpGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIGdldERlZmluaXRpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gYXBGaWVsZFNlcnZpY2UuZ2V0RGVmaW5pdGlvbih0aGlzLm9iamVjdFR5cGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBGaWVsZDpnZXREZWZhdWx0VmFsdWVGb3JUeXBlXG4gICAgICAgICAqIEBtZXRob2RPZiBGaWVsZFxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogQ2FuIHJldHVybiBtb2NrIGRhdGEgYXBwcm9wcmlhdGUgZm9yIHRoZSBmaWVsZCB0eXBlLCBieSBkZWZhdWx0IGl0IGR5bmFtaWNhbGx5IGdlbmVyYXRlcyBkYXRhIGJ1dFxuICAgICAgICAgKiB0aGUgc3RhdGljVmFsdWUgcGFyYW0gd2lsbCBpbnN0ZWFkIHJldHVybiBhIGhhcmQgY29kZWQgdHlwZSBzcGVjaWZpYyB2YWx1ZS5cbiAgICAgICAgICovXG4gICAgICAgIGdldERlZmF1bHRWYWx1ZUZvclR5cGUoKSB7XG4gICAgICAgICAgICByZXR1cm4gYXBGaWVsZFNlcnZpY2UuZ2V0RGVmYXVsdFZhbHVlRm9yVHlwZSh0aGlzLm9iamVjdFR5cGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBGaWVsZDpnZXRNb2NrRGF0YVxuICAgICAgICAgKiBAbWV0aG9kT2YgRmllbGRcbiAgICAgICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSBPcHRpb25hbCBwYXJhbXMgcGFzc2VkIHRvIGFwRmllbGRTZXJ2aWNlLmdldE1vY2tEYXRhLlxuICAgICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnN0YXRpY1ZhbHVlPWZhbHNlXSBEZWZhdWx0IHRvIGR5bmFtaWNhbGx5IGJ1aWxkIG1vY2sgZGF0YS5cbiAgICAgICAgICogQHJldHVybnMgeyp9IG1vY2tEYXRhXG4gICAgICAgICAqL1xuICAgICAgICBnZXRNb2NrRGF0YSAob3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIGFwRmllbGRTZXJ2aWNlLmdldE1vY2tEYXRhKHRoaXMub2JqZWN0VHlwZSwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2Mgc2VydmljZVxuICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcEZpZWxkRmFjdG9yeVxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIENvbnRhaW5zIHRoZSBGaWVsZCBjb25zdHJ1Y3RvciBhbmQgcHJvdG90eXBlIGRlZmluaXRpb25zLlxuICAgICAqIEBwcm9wZXJ0eSB7Y29uc3RydWN0b3J9IEZpZWxkIFRoZSBGaWVsZCBjb25zdHJ1Y3Rvci5cbiAgICAgKlxuICAgICAqIEByZXF1aXJlcyBhbmd1bGFyUG9pbnQuYXBGaWVsZFNlcnZpY2VcbiAgICAgKiBAcmVxdWlyZXMgYW5ndWxhclBvaW50LmFwVXRpbGl0eVNlcnZpY2VcbiAgICAgKlxuICAgICAqL1xuICAgIGV4cG9ydCBjbGFzcyBGaWVsZEZhY3Rvcnl7XG4gICAgICAgIEZpZWxkID0gRmllbGQ7XG4gICAgICAgIGNvbnN0cnVjdG9yKCRpbmplY3Rvcikge1xuICAgICAgICAgICAgYXBGaWVsZFNlcnZpY2UgPSAkaW5qZWN0b3IuZ2V0KCdhcEZpZWxkU2VydmljZScpO1xuICAgICAgICAgICAgYXBVdGlsaXR5U2VydmljZSA9ICRpbmplY3Rvci5nZXQoJ2FwVXRpbGl0eVNlcnZpY2UnKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdhbmd1bGFyUG9pbnQnKVxuICAgICAgICAuc2VydmljZSgnYXBGaWVsZEZhY3RvcnknLCBGaWVsZEZhY3RvcnkpO1xuXG59XG4iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy9hcC5kLnRzXCIgLz5cblxubW9kdWxlIGFwIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBleHBvcnQgaW50ZXJmYWNlIElJbmRleGVkQ2FjaGUgPFQ+IHtcbiAgICAgICAgYWRkRW50aXR5KGVudGl0eTpUKTogdm9pZDtcbiAgICAgICAgY2xlYXIoKTogdm9pZDtcbiAgICAgICAgY291bnQoKTogbnVtYmVyO1xuICAgICAgICBmaXJzdCgpOiBUO1xuICAgICAgICBrZXlzKCk6IHN0cmluZ1tdO1xuICAgICAgICBsYXN0KCk6IFQ7XG4gICAgICAgIG50aEVudGl0eShpbmRleDpudW1iZXIpOiBUO1xuICAgICAgICByZW1vdmVFbnRpdHkobGlzdEl0ZW06VHxudW1iZXIpOiB2b2lkO1xuICAgICAgICB0b0FycmF5KCk6IFRbXTtcbiAgICAgICAgLy9PYmplY3Qgd2l0aCBrZXlzIGVxdWFsaW5nIElEIGFuZCB2YWx1ZXMgYmVpbmcgdGhlIGluZGl2aWR1YWwgbGlzdCBpdGVtXG4gICAgICAgIFtrZXk6IG51bWJlcl06IFQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG9iamVjdFxuICAgICAqIEBuYW1lIEluZGV4ZWRDYWNoZVxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIENhY2hlIGNvbnN0cnVjdG9yIHRoYXQgaXMgZXh0ZW5kZWQgdG8gbWFrZSBpdCBlYXNpZXIgdG8gd29yayB3aXRoIHZpYSBwcm90b3R5cGUgbWV0aG9kcy4gIExvY2F0ZWQgaW5cbiAgICAgKiBhcEluZGV4ZWRDYWNoZUZhY3RvcnkuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvYmplY3RdIE9wdGlvbmFsbHkgZXh0ZW5kIG5ldyBjYWNoZSB3aXRoIHByb3ZpZGVkIG9iamVjdC5cbiAgICAgKiBAcmVxdWlyZXMgYW5ndWxhclBvaW50LmFwSW5kZXhlZENhY2hlRmFjdG9yeVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqL1xuICAgIGV4cG9ydCBjbGFzcyBJbmRleGVkQ2FjaGUgaW1wbGVtZW50cyBJSW5kZXhlZENhY2hlIHtcbiAgICAgICAgY29uc3RydWN0b3Iob2JqZWN0PzpPYmplY3QpIHtcbiAgICAgICAgICAgIGlmIChvYmplY3QpIHtcbiAgICAgICAgICAgICAgICBfLmV4dGVuZCh0aGlzLCBvYmplY3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBJbmRleGVkQ2FjaGUuYWRkRW50aXR5XG4gICAgICAgICAqIEBtZXRob2RPZiBJbmRleGVkQ2FjaGVcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIEFkZHMgYSBuZXcga2V5IHRvIHRoZSBjYWNoZSBpZiBub3QgYWxyZWFkeSB0aGVyZSB3aXRoIGEgdmFsdWUgb2YgdGhlIG5ldyBsaXN0SXRlbS5cbiAgICAgICAgICogQHBhcmFtIHtvYmplY3R9IGxpc3RJdGVtIEVudGl0eSB0byBhZGQgdG8gdGhlIGNhY2hlLlxuICAgICAgICAgKi9cbiAgICAgICAgYWRkRW50aXR5KGxpc3RJdGVtOkxpc3RJdGVtKSB7XG4gICAgICAgICAgICBpZiAoXy5pc09iamVjdChsaXN0SXRlbSkgJiYgISFsaXN0SXRlbS5pZCkge1xuICAgICAgICAgICAgICAgIC8qKiBPbmx5IGFkZCB0aGUgbGlzdEl0ZW0gdG8gdGhlIGNhY2hlIGlmIGl0J3Mgbm90IGFscmVhZHkgdGhlcmUgKi9cbiAgICAgICAgICAgICAgICBpZiAoIXRoaXNbbGlzdEl0ZW0uaWRdKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXNbbGlzdEl0ZW0uaWRdID0gbGlzdEl0ZW07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyAnQSB2YWxpZCBsaXN0SXRlbSB3YXNuXFwndCBmb3VuZDogJyArIEpTT04uc3RyaW5naWZ5KGxpc3RJdGVtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAgICogQG5hbWUgSW5kZXhlZENhY2hlLmNsZWFyXG4gICAgICAgICAqIEBtZXRob2RPZiBJbmRleGVkQ2FjaGVcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIENsZWFycyBhbGwgY2FjaGVkIGVsZW1lbnRzIGZyb20gdGhlIGNvbnRhaW5pbmcgY2FjaGUgb2JqZWN0LlxuICAgICAgICAgKi9cbiAgICAgICAgY2xlYXIoKSB7XG4gICAgICAgICAgICBfLmVhY2godGhpcywgKGxpc3RJdGVtLCBrZXkpID0+IGRlbGV0ZSB0aGlzW2tleV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBJbmRleGVkQ2FjaGUuY291bnRcbiAgICAgICAgICogQG1ldGhvZE9mIEluZGV4ZWRDYWNoZVxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogUmV0dXJucyB0aGUgbnVtYmVyIG9mIGVudGl0aWVzIGluIHRoZSBjYWNoZS5cbiAgICAgICAgICogQHJldHVybnMge251bWJlcn0gTnVtYmVyIG9mIGVudGl0aWVzIGluIHRoZSBjYWNoZS5cbiAgICAgICAgICovXG4gICAgICAgIGNvdW50KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMua2V5cygpLmxlbmd0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAgICogQG5hbWUgSW5kZXhlZENhY2hlLmZpcnN0XG4gICAgICAgICAqIEBtZXRob2RPZiBJbmRleGVkQ2FjaGVcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIFJldHVybnMgdGhlIGZpcnN0IGxpc3RJdGVtIGluIHRoZSBpbmRleCAoc21hbGxlc3QgSUQpLlxuICAgICAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSBGaXJzdCBsaXN0SXRlbSBpbiBjYWNoZS5cbiAgICAgICAgICovXG4gICAgICAgIGZpcnN0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubnRoRW50aXR5KDApO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBJbmRleGVkQ2FjaGUua2V5c1xuICAgICAgICAgKiBAbWV0aG9kT2YgSW5kZXhlZENhY2hlXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBSZXR1cm5zIHRoZSBhcnJheSBvZiBrZXlzIChsaXN0SXRlbSBJRCdzKSBmb3IgdGhlIGNhY2hlLlxuICAgICAgICAgKiBAcmV0dXJucyB7c3RyaW5nW119IEFycmF5IG9mIGxpc3RJdGVtIGlkJ3MgYXMgc3RyaW5ncy5cbiAgICAgICAgICovXG4gICAgICAgIGtleXMoKSB7XG4gICAgICAgICAgICByZXR1cm4gXy5rZXlzKHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBJbmRleGVkQ2FjaGUubGFzdFxuICAgICAgICAgKiBAbWV0aG9kT2YgSW5kZXhlZENhY2hlXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBSZXR1cm5zIHRoZSBsYXN0IGxpc3RJdGVtIGluIHRoZSBpbmRleCAobGFyZ2VzdCBJRCkuXG4gICAgICAgICAqIEByZXR1cm5zIHtvYmplY3R9IExhc3QgbGlzdEl0ZW0gaW4gY2FjaGUuXG4gICAgICAgICAqL1xuICAgICAgICBsYXN0KCkge1xuICAgICAgICAgICAgdmFyIGtleXMgPSB0aGlzLmtleXMoKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzW2tleXNba2V5cy5sZW5ndGggLSAxXV07XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIEluZGV4ZWRDYWNoZS5udGhFbnRpdHlcbiAgICAgICAgICogQG1ldGhvZE9mIEluZGV4ZWRDYWNoZVxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogQmFzZWQgb24gdGhlXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCBUaGUgaW5kZXggb2YgdGhlIGl0ZW0gcmVxdWVzdGVkLlxuICAgICAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSBGaXJzdCBsaXN0SXRlbSBpbiBjYWNoZS5cbiAgICAgICAgICovXG4gICAgICAgIG50aEVudGl0eShpbmRleCkge1xuICAgICAgICAgICAgdmFyIGtleXMgPSB0aGlzLmtleXMoKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzW2tleXNbaW5kZXhdXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAgICogQG5hbWUgSW5kZXhlZENhY2hlLnJlbW92ZUVudGl0eVxuICAgICAgICAgKiBAbWV0aG9kT2YgSW5kZXhlZENhY2hlXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBSZW1vdmVzIGEgbGlzdEl0ZW0gZnJvbSB0aGUgY2FjaGUuXG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0fG51bWJlcn0gbGlzdEl0ZW0gRW50aXR5IHRvIHJlbW92ZSBvciBJRCBvZiBsaXN0SXRlbSB0byBiZSByZW1vdmVkLlxuICAgICAgICAgKi9cbiAgICAgICAgcmVtb3ZlRW50aXR5KGxpc3RJdGVtKSB7XG4gICAgICAgICAgICBpZiAoXy5pc09iamVjdCAmJiBsaXN0SXRlbS5pZCAmJiB0aGlzW2xpc3RJdGVtLmlkXSkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzW2xpc3RJdGVtLmlkXTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoXy5pc051bWJlcihsaXN0SXRlbSkpIHtcbiAgICAgICAgICAgICAgICAvKiogQWxsb3cgbGlzdEl0ZW0gSUQgdG8gYmUgdXNlZCBpbnN0ZWFkIG9mIHRoZW4gbGlzdEl0ZW0gKi9cbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpc1tsaXN0SXRlbV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIEluZGV4ZWRDYWNoZS50b0FycmF5XG4gICAgICAgICAqIEBtZXRob2RPZiBJbmRleGVkQ2FjaGVcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIFR1cm5zIHRoZSBjYWNoZSBvYmplY3QgaW50byBhbiBhcnJheSBvZiBlbnRpdGllcy5cbiAgICAgICAgICogQHJldHVybnMge29iamVjdFtdfSBSZXR1cm5zIHRoZSBhcnJheSBvZiBlbnRpdGllcyBjdXJyZW50bHkgaW4gdGhlIGNhY2hlLlxuICAgICAgICAgKi9cbiAgICAgICAgdG9BcnJheSgpIHtcbiAgICAgICAgICAgIHJldHVybiBfLnRvQXJyYXkodGhpcyk7XG4gICAgICAgIH1cblxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG9iamVjdFxuICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcEluZGV4ZWRDYWNoZUZhY3RvcnlcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBFeHBvc2VzIHRoZSBFbnRpdHlGYWN0b3J5IHByb3RvdHlwZSBhbmQgYSBjb25zdHJ1Y3RvciB0byBpbnN0YW50aWF0ZSBhIG5ldyBFbnRpdHkgRmFjdG9yeSBpbiBhcENhY2hlU2VydmljZS5cbiAgICAgKlxuICAgICAqL1xuXG4gICAgZXhwb3J0IGNsYXNzIEluZGV4ZWRDYWNoZUZhY3Rvcnkge1xuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcEluZGV4ZWRDYWNoZUZhY3Rvcnk6Y3JlYXRlXG4gICAgICAgICAqIEBtZXRob2RPZiBhbmd1bGFyUG9pbnQuYXBJbmRleGVkQ2FjaGVGYWN0b3J5XG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBJbnN0YW50aWF0ZXMgYW5kIHJldHVybnMgYSBuZXcgSW5kZXhlZCBDYWNoZS5ncnVudFxuICAgICAgICAgKi9cbiAgICAgICAgY3JlYXRlKG92ZXJyaWRlcz86T2JqZWN0KTogSUluZGV4ZWRDYWNoZSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEluZGV4ZWRDYWNoZShvdmVycmlkZXMpO1xuICAgICAgICB9XG4gICAgICAgIEluZGV4ZWRDYWNoZSA9IEluZGV4ZWRDYWNoZTtcblxuICAgIH1cblxuICAgIGFuZ3VsYXIubW9kdWxlKCdhbmd1bGFyUG9pbnQnKVxuICAgICAgICAuc2VydmljZSgnYXBJbmRleGVkQ2FjaGVGYWN0b3J5JywgSW5kZXhlZENhY2hlRmFjdG9yeSApO1xufVxuIiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3MvYXAuZC50c1wiIC8+XG5cbm1vZHVsZSBhcCB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIGFwQ29uZmlnOklBUENvbmZpZywgYXBEZWZhdWx0RmllbGRzLCBhcEZpZWxkRmFjdG9yeTpGaWVsZEZhY3Rvcnk7XG5cbiAgICBleHBvcnQgaW50ZXJmYWNlIElMaXN0IHtcbiAgICAgICAgY3VzdG9tRmllbGRzOiBJRmllbGREZWZpbml0aW9uW107XG4gICAgICAgIGVmZmVjdGl2ZVBlcm1NYXNrPzogc3RyaW5nO1xuICAgICAgICBlbnZpcm9ubWVudHM7XG4gICAgICAgIGZpZWxkczogSUZpZWxkRGVmaW5pdGlvbltdO1xuICAgICAgICBnZXRMaXN0SWQoKTogc3RyaW5nO1xuICAgICAgICBndWlkOiBzdHJpbmc7XG4gICAgICAgIGlkZW50aWZ5V2ViVVJMKCk6IHN0cmluZztcbiAgICAgICAgaXNSZWFkeTogYm9vbGVhbjtcbiAgICAgICAgbWFwcGluZzogT2JqZWN0O1xuICAgICAgICB0aXRsZTogc3RyaW5nO1xuICAgICAgICB2aWV3RmllbGRzOiBzdHJpbmc7XG4gICAgICAgIHdlYlVSTDogc3RyaW5nO1xuICAgICAgICBXZWJGdWxsVXJsPzpzdHJpbmc7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBvYmplY3RcbiAgICAgKiBAbmFtZSBMaXN0XG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogTGlzdCBPYmplY3QgQ29uc3RydWN0b3IuICBUaGlzIGlzIGhhbmRsZWQgYXV0b21hdGljYWxseSB3aGVuIGNyZWF0aW5nIGEgbmV3IG1vZGVsIHNvIHRoZXJlIHNob3VsZG4ndCBiZVxuICAgICAqIGFueSByZWFzb24gdG8gbWFudWFsbHkgY2FsbC5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gY29uZmlnIEluaXRpYWxpemF0aW9uIHBhcmFtZXRlcnMuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbmZpZy5ndWlkIFVuaXF1ZSBTaGFyZVBvaW50IEdVSUQgZm9yIHRoZSBsaXN0IHdlJ2xsIGJlIGJhc2luZyB0aGUgbW9kZWwgb25cbiAgICAgKiBleDonezRENzQ4MzFBLTQyQjItNDU1OC1BNjdGLUIwQjVBREJDMEVBQ30nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbmZpZy50aXRsZSBNYXBzIHRvIHRoZSBvZmZsaW5lIFhNTCBmaWxlIGluIGRldiBmb2xkZXIgKG5vIHNwYWNlcylcbiAgICAgKiBleDogJ1Byb2plY3RzTGlzdCcgc28gdGhlIG9mZmxpbmUgWE1MIGZpbGUgd291bGQgYmUgbG9jYXRlZCBhdCBhcENvbmZpZy5vZmZsaW5lWE1MICsgJ1Byb2plY3RzTGlzdC54bWwnXG4gICAgICogQHBhcmFtIHtvYmplY3RbXX0gW2NvbmZpZy5jdXN0b21GaWVsZHNdIE1hcHBpbmcgb2YgU2hhcmVQb2ludCBmaWVsZCBuYW1lcyB0byB0aGUgaW50ZXJuYWwgbmFtZXMgd2UnbGwgYmUgdXNpbmdcbiAgICAgKiBpbiBvdXIgYXBwbGljYXRpb24uICBBbHNvIGNvbnRhaW5zIGZpZWxkIHR5cGUsIHJlYWRvbmx5IGF0dHJpYnV0ZSwgYW5kIGFueSBvdGhlciBub24tc3RhbmRhcmQgc2V0dGluZ3MuXG4gICAgICogPHByZT5cbiAgICAgKiBbXG4gICAgICogICB7XG4gICAgICAgICAqICAgICAgIHN0YXRpY05hbWU6IFwiVGl0bGVcIixcbiAgICAgICAgICogICAgICAgb2JqZWN0VHlwZTogXCJUZXh0XCIsXG4gICAgICAgICAqICAgICAgIG1hcHBlZE5hbWU6IFwibGFzdE5hbWVcIixcbiAgICAgICAgICogICAgICAgcmVhZE9ubHk6ZmFsc2VcbiAgICAgICAgICogICB9LFxuICAgICAqICAge1xuICAgICAgICAgKiAgICAgICBzdGF0aWNOYW1lOiBcIkZpcnN0TmFtZVwiLFxuICAgICAgICAgKiAgICAgICBvYmplY3RUeXBlOiBcIlRleHRcIixcbiAgICAgICAgICogICAgICAgbWFwcGVkTmFtZTogXCJmaXJzdE5hbWVcIixcbiAgICAgICAgICogICAgICAgcmVhZE9ubHk6ZmFsc2VcbiAgICAgICAgICogICB9LFxuICAgICAqICAge1xuICAgICAgICAgKiAgICAgICBzdGF0aWNOYW1lOiBcIk9yZ2FuaXphdGlvblwiLFxuICAgICAgICAgKiAgICAgICBvYmplY3RUeXBlOiBcIkxvb2t1cFwiLFxuICAgICAgICAgKiAgICAgICBtYXBwZWROYW1lOiBcIm9yZ2FuaXphdGlvblwiLFxuICAgICAgICAgKiAgICAgICByZWFkT25seTpmYWxzZVxuICAgICAgICAgKiAgIH0sXG4gICAgICogICB7XG4gICAgICAgICAqICAgICAgIHN0YXRpY05hbWU6IFwiQWNjb3VudFwiLFxuICAgICAgICAgKiAgICAgICBvYmplY3RUeXBlOiBcIlVzZXJcIixcbiAgICAgICAgICogICAgICAgbWFwcGVkTmFtZTogXCJhY2NvdW50XCIsXG4gICAgICAgICAqICAgICAgIHJlYWRPbmx5OmZhbHNlXG4gICAgICAgICAqICAgfSxcbiAgICAgKiAgIHtcbiAgICAgICAgICogICAgICAgc3RhdGljTmFtZTogXCJEZXRhaWxzXCIsXG4gICAgICAgICAqICAgICAgIG9iamVjdFR5cGU6IFwiVGV4dFwiLFxuICAgICAgICAgKiAgICAgICBtYXBwZWROYW1lOiBcImRldGFpbHNcIixcbiAgICAgICAgICogICAgICAgcmVhZE9ubHk6ZmFsc2VcbiAgICAgICAgICogICB9XG4gICAgICogXVxuICAgICAqIDwvcHJlPlxuICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSB2aWV3RmllbGRzIFhNTCBzdHJpbmcgZGVmaW5pbmcgZWFjaCBvZiB0aGUgZmllbGRzIHRvIGluY2x1ZGUgaW4gYWxsIENSVUQgcmVxdWVzdHMsXG4gICAgICogZ2VuZXJhdGVkIHdoZW4gdGhlIE1vZGVsLkxpc3QgaXMgaW5zdGFudGlhdGVkLlxuICAgICAqIDxwcmU+XG4gICAgICogICAgIDxWaWV3RmllbGRzPi4uLjwvVmlld0ZpZWxkcz5cbiAgICAgKiA8L3ByZT5cbiAgICAgKiBAcHJvcGVydHkge0ZpZWxkW119IGZpZWxkcyBHZW5lcmF0ZWQgd2hlbiB0aGUgTW9kZWwuTGlzdCBpcyBpbnN0YW50aWF0ZWQuICBDb21iaW5lcyB0aGUgc3RhbmRhcmRcbiAgICAgKiBkZWZhdWx0IGZpZWxkcyBmb3IgYWxsIGxpc3RzIHdpdGggdGhlIGZpZWxkcyBpZGVudGlmaWVkIGluIHRoZSBjb25maWcuY3VzdG9tRmllbGRzIGFuZCBpbnN0YW50aWF0ZXMgZWFjaFxuICAgICAqIHdpdGggdGhlIEZpZWxkIGNvbnN0cnVjdG9yLlxuICAgICAqIEByZXF1aXJlcyBhbmd1bGFyUG9pbnQuYXBMaXN0RmFjdG9yeVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqL1xuICAgIGV4cG9ydCBjbGFzcyBMaXN0IGltcGxlbWVudHMgSUxpc3Qge1xuICAgICAgICBjdXN0b21GaWVsZHMgPSBbXTtcbiAgICAgICAgZW52aXJvbm1lbnRzO1xuICAgICAgICBmaWVsZHMgPSBbXTtcbiAgICAgICAgZ3VpZCA9ICcnO1xuICAgICAgICBpc1JlYWR5ID0gZmFsc2U7XG4gICAgICAgIG1hcHBpbmcgPSB7fTtcbiAgICAgICAgdGl0bGUgPSAnJztcbiAgICAgICAgdmlld0ZpZWxkcyA9ICcnO1xuICAgICAgICBXZWJGdWxsVXJsOyAvL09ubHkgYXBwZWFycyBpZiBleHRlbmRlZCBmcm9tIGxpc3QgZGVmaW5pdGlvblxuICAgICAgICB3ZWJVUkw6c3RyaW5nO1xuICAgICAgICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcbiAgICAgICAgICAgIHRoaXMud2ViVVJMID0gYXBDb25maWcuZGVmYXVsdFVybDtcbiAgICAgICAgICAgIF8uZXh0ZW5kKHRoaXMsIGNvbmZpZyk7XG4gICAgICAgICAgICB0aGlzLmVudmlyb25tZW50cyA9IHRoaXMuZW52aXJvbm1lbnRzIHx8IHtwcm9kdWN0aW9uOiB0aGlzLmd1aWR9O1xuICAgICAgICAgICAgdGhpcy5leHRlbmRGaWVsZERlZmluaXRpb25zKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIDEuIFBvcHVsYXRlcyB0aGUgZmllbGRzIGFycmF5IHdoaWNoIHVzZXMgdGhlIEZpZWxkIGNvbnN0cnVjdG9yIHRvIGNvbWJpbmUgdGhlIGRlZmF1bHRcbiAgICAgICAgICogU2hhcmVQb2ludCBmaWVsZHMgd2l0aCB0aG9zZSBkZWZpbmVkIGluIHRoZSBsaXN0IGRlZmluaXRpb24gb24gdGhlIG1vZGVsXG4gICAgICAgICAqIDIuIENyZWF0ZXMgdGhlIGxpc3Qudmlld0ZpZWxkcyBYTUwgc3RyaW5nIHRoYXQgZGVmaW5lcyB0aGUgZmllbGRzIHRvIGJlIHJlcXVlc3RlZCBvbiBhIHF1ZXJ5XG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBsaXN0IFJlZmVyZW5jZSB0byB0aGUgbGlzdCB3aXRoaW4gYSBtb2RlbC5cbiAgICAgICAgICovXG4gICAgICAgIGV4dGVuZEZpZWxkRGVmaW5pdGlvbnMoKSB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIENvbnN0cnVjdHMgdGhlIGZpZWxkXG4gICAgICAgICAgICAgKiAtIGFkZHMgdG8gdmlld0ZpZWxkXG4gICAgICAgICAgICAgKiAtIGNyZWF0ZSBvd3NfIG1hcHBpbmdcbiAgICAgICAgICAgICAqIEBwYXJhbSBmaWVsZERlZmluaXRpb25cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdmFyIGJ1aWxkRmllbGQgPSAoZmllbGREZWZpbml0aW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIGZpZWxkID0gbmV3IGFwRmllbGRGYWN0b3J5LkZpZWxkKGZpZWxkRGVmaW5pdGlvbik7XG4gICAgICAgICAgICAgICAgdGhpcy5maWVsZHMucHVzaChmaWVsZCk7XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3RmllbGRzICs9ICc8RmllbGRSZWYgTmFtZT1cIicgKyBmaWVsZC5zdGF0aWNOYW1lICsgJ1wiLz4nO1xuICAgICAgICAgICAgICAgIHRoaXMubWFwcGluZ1snb3dzXycgKyBmaWVsZC5zdGF0aWNOYW1lXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgbWFwcGVkTmFtZTogZmllbGQubWFwcGVkTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0VHlwZTogZmllbGQub2JqZWN0VHlwZVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvKiogT3BlbiB2aWV3RmllbGRzICovXG4gICAgICAgICAgICB0aGlzLnZpZXdGaWVsZHMgKz0gJzxWaWV3RmllbGRzPic7XG5cbiAgICAgICAgICAgIC8qKiBBZGQgdGhlIGRlZmF1bHQgZmllbGRzICovXG4gICAgICAgICAgICBfLmVhY2goYXBEZWZhdWx0RmllbGRzLCAoZmllbGQpID0+IGJ1aWxkRmllbGQoZmllbGQpICk7XG5cbiAgICAgICAgICAgIC8qKiBBZGQgZWFjaCBvZiB0aGUgZmllbGRzIGRlZmluZWQgaW4gdGhlIG1vZGVsICovXG4gICAgICAgICAgICBfLmVhY2godGhpcy5jdXN0b21GaWVsZHMsIChmaWVsZCkgPT4gYnVpbGRGaWVsZChmaWVsZCkgKTtcblxuICAgICAgICAgICAgLyoqIENsb3NlIHZpZXdGaWVsZHMgKi9cbiAgICAgICAgICAgIHRoaXMudmlld0ZpZWxkcyArPSAnPC9WaWV3RmllbGRzPic7XG4gICAgICAgIH1cblxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAgICogQG5hbWUgTGlzdDpnZXRMaXN0SWRcbiAgICAgICAgICogQG1ldGhvZE9mIExpc3RcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIERlZmF1bHRzIHRvIGxpc3QuZ3VpZC4gIEZvciBhIG11bHRpLWVudmlyb25tZW50IHNldHVwLCB3ZSBhY2NlcHQgYSBsaXN0LmVudmlyb25tZW50cyBvYmplY3Qgd2l0aCBhIHByb3BlcnR5IGZvciBlYWNoIG5hbWVkXG4gICAgICAgICAqIGVudmlyb25tZW50IHdpdGggYSBjb3JyZXNwb25kaW5nIHZhbHVlIG9mIHRoZSBsaXN0IGd1aWQuICBUaGUgYWN0aXZlIGVudmlyb25tZW50IGNhbiBiZSBzZWxlY3RlZFxuICAgICAgICAgKiBieSBzZXR0aW5nIGFwQ29uZmlnLmVudmlyb25tZW50IHRvIHRoZSBzdHJpbmcgbmFtZSBvZiB0aGUgZGVzaXJlZCBlbnZpcm9ubWVudC5cbiAgICAgICAgICogQHJldHVybnMge3N0cmluZ30gTGlzdCBJRC5cbiAgICAgICAgICovXG4gICAgICAgIGdldExpc3RJZCgpIHtcbiAgICAgICAgICAgIGlmIChfLmlzU3RyaW5nKHRoaXMuZW52aXJvbm1lbnRzW2FwQ29uZmlnLmVudmlyb25tZW50XSkpIHtcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBGb3IgYSBtdWx0aS1lbnZpcm9ubWVudCBzZXR1cCwgd2UgYWNjZXB0IGEgbGlzdC5lbnZpcm9ubWVudHMgb2JqZWN0IHdpdGggYSBwcm9wZXJ0eSBmb3IgZWFjaCBuYW1lZFxuICAgICAgICAgICAgICAgICAqIGVudmlyb25tZW50IHdpdGggYSBjb3JyZXNwb25kaW5nIHZhbHVlIG9mIHRoZSBsaXN0IGd1aWQuICBUaGUgYWN0aXZlIGVudmlyb25tZW50IGNhbiBiZSBzZWxlY3RlZFxuICAgICAgICAgICAgICAgICAqIGJ5IHNldHRpbmcgYXBDb25maWcuZW52aXJvbm1lbnQgdG8gdGhlIHN0cmluZyBuYW1lIG9mIHRoZSBkZXNpcmVkIGVudmlyb25tZW50LlxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVudmlyb25tZW50c1thcENvbmZpZy5lbnZpcm9ubWVudF07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlcmUgaXNuXFwndCBhIHZhbGlkIGVudmlyb25tZW50IGRlZmluaXRpb24gZm9yIGFwQ29uZmlnLmVudmlyb25tZW50PScgKyBhcENvbmZpZy5lbnZpcm9ubWVudCArICcgICcgK1xuICAgICAgICAgICAgICAgICAgICAnUGxlYXNlIGNvbmZpcm0gdGhhdCB0aGUgbGlzdCBcIicgKyB0aGlzLnRpdGxlICsgJ1wiIGhhcyB0aGUgbmVjZXNzYXJ5IGVudmlyb25tZW50YWwgY29uZmlndXJhdGlvbi4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAgICogQG5hbWUgTGlzdDppZGVudGlmeVdlYlVSTFxuICAgICAgICAgKiBAbWV0aG9kT2YgTGlzdFxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogSWYgYSBsaXN0IGlzIGV4dGVuZGVkLCB1c2UgdGhlIHByb3ZpZGVkIHdlYlVSTCwgb3RoZXJ3aXNlIHVzZSBsaXN0LndlYlVSTC4gIElmIG5ldmVyIHNldCBpdCB3aWxsIGRlZmF1bHRcbiAgICAgICAgICogdG8gYXBDb25maWcuZGVmYXVsdFVybC5cbiAgICAgICAgICogQHJldHVybnMge3N0cmluZ30gd2ViVVJMIHBhcmFtLlxuICAgICAgICAgKi9cbiAgICAgICAgaWRlbnRpZnlXZWJVUkwoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5XZWJGdWxsVXJsID8gdGhpcy5XZWJGdWxsVXJsIDogdGhpcy53ZWJVUkw7XG4gICAgICAgIH1cblxuXG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2Mgc2VydmljZVxuICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcExpc3RGYWN0b3J5XG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogRXhwb3NlcyB0aGUgTGlzdCBwcm90b3R5cGUgYW5kIGEgY29uc3RydWN0b3IgdG8gaW5zdGFudGlhdGUgYSBuZXcgTGlzdC5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSB7Y29uc3RydWN0b3J9IExpc3QgVGhlIExpc3QgY29uc3RydWN0b3IuXG4gICAgICpcbiAgICAgKiBAcmVxdWlyZXMgYW5ndWxhclBvaW50LmFwQ29uZmlnXG4gICAgICogQHJlcXVpcmVzIGFuZ3VsYXJQb2ludC5hcERlZmF1bHRGaWVsZHNcbiAgICAgKiBAcmVxdWlyZXMgYW5ndWxhclBvaW50LmFwRmllbGRGYWN0b3J5XG4gICAgICovXG4gICAgZXhwb3J0IGNsYXNzIExpc3RGYWN0b3J5IHtcbiAgICAgICAgY29uc3RydWN0b3IoJGluamVjdG9yKSB7XG5cbiAgICAgICAgICAgIGFwQ29uZmlnID0gJGluamVjdG9yLmdldCgnYXBDb25maWcnKTtcbiAgICAgICAgICAgIGFwRGVmYXVsdEZpZWxkcyA9ICRpbmplY3Rvci5nZXQoJ2FwRGVmYXVsdEZpZWxkcycpO1xuICAgICAgICAgICAgYXBGaWVsZEZhY3RvcnkgPSAkaW5qZWN0b3IuZ2V0KCdhcEZpZWxkRmFjdG9yeScpO1xuXG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcExpc3RGYWN0b3J5OmNyZWF0ZVxuICAgICAgICAgKiBAbWV0aG9kT2YgYW5ndWxhclBvaW50LmFwTGlzdEZhY3RvcnlcbiAgICAgICAgICogQHBhcmFtIHtvYmplY3R9IGNvbmZpZyBPcHRpb25zIG9iamVjdC5cbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIEluc3RhbnRpYXRlcyBhbmQgcmV0dXJucyBhIG5ldyBMaXN0LlxuICAgICAgICAgKi9cbiAgICAgICAgY3JlYXRlKGNvbmZpZykge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBMaXN0KGNvbmZpZyk7XG4gICAgICAgIH1cblxuICAgICAgICBMaXN0ID0gTGlzdDtcbiAgICB9XG5cblxuICAgIGFuZ3VsYXIubW9kdWxlKCdhbmd1bGFyUG9pbnQnKVxuICAgICAgICAuc2VydmljZSgnYXBMaXN0RmFjdG9yeScsIExpc3RGYWN0b3J5KTtcblxuXG4gICAgLyoqKioqKioqKioqKioqKioqKioqKiogUFJJVkFURSAqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG59XG4iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy9hcC5kLnRzXCIgLz5cblxubW9kdWxlIGFwIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgJHEsIHRvYXN0ciwgYXBDYWNoZVNlcnZpY2U6IENhY2hlU2VydmljZSwgYXBEYXRhU2VydmljZTogRGF0YVNlcnZpY2UsIGFwRW5jb2RlU2VydmljZTogRW5jb2RlU2VydmljZSxcbiAgICAgICAgYXBVdGlsaXR5U2VydmljZTogVXRpbGl0eVNlcnZpY2UsIGFwRm9ybWF0dGVkRmllbGRWYWx1ZVNlcnZpY2U6IEZvcm1hdHRlZEZpZWxkVmFsdWVTZXJ2aWNlLCBhcENvbmZpZzogSUFQQ29uZmlnO1xuXG4gICAgZXhwb3J0IGludGVyZmFjZSBJTGlzdEl0ZW0ge1xuICAgICAgICBhdXRob3I/OiBJVXNlcjtcbiAgICAgICAgY3JlYXRlZD86IERhdGU7XG4gICAgICAgIGVkaXRvcj86IElVc2VyO1xuICAgICAgICBmaWxlUmVmPzogSUxvb2t1cDtcbiAgICAgICAgaWQ/OiBudW1iZXI7XG4gICAgICAgIG1vZGlmaWVkPzogRGF0ZTtcbiAgICAgICAgcGVybU1hc2s/OiBzdHJpbmc7XG4gICAgICAgIHVuaXF1ZUlkPzogc3RyaW5nO1xuXG4gICAgICAgIGRlbGV0ZUF0dGFjaG1lbnQodXJsOiBzdHJpbmcpOiBuZy5JUHJvbWlzZTxhbnk+O1xuICAgICAgICBkZWxldGVJdGVtKG9wdGlvbnM/OiBJTGlzdEl0ZW1DcnVkT3B0aW9ucyk6IG5nLklQcm9taXNlPGFueT47XG4gICAgICAgIGdldEF0dGFjaG1lbnRDb2xsZWN0aW9uKCk6IG5nLklQcm9taXNlPHN0cmluZ1tdPjtcbiAgICAgICAgZ2V0QXZhaWxhYmxlV29ya2Zsb3dzKCk6IG5nLklQcm9taXNlPElXb3JrZmxvd0RlZmluaXRpb25bXT47XG4gICAgICAgIGdldENhY2hlPygpOiBJQ2FjaGU7XG4gICAgICAgIGdldEZpZWxkQ2hvaWNlcyhmaWVsZE5hbWU6IHN0cmluZyk6IHN0cmluZ1tdO1xuICAgICAgICBnZXRGaWVsZERlZmluaXRpb24oZmllbGROYW1lOiBzdHJpbmcpOiBJRmllbGREZWZpbml0aW9uO1xuICAgICAgICBnZXRGaWVsZERlc2NyaXB0aW9uKGZpZWxkTmFtZTogc3RyaW5nKTogc3RyaW5nO1xuICAgICAgICBnZXRGaWVsZExhYmVsKGZpZWxkTmFtZTogc3RyaW5nKTogc3RyaW5nO1xuICAgICAgICBnZXRGaWVsZFZlcnNpb25IaXN0b3J5KGZpZWxkTmFtZXM6IHN0cmluZ1tdKTogbmcuSVByb21pc2U8SUxpc3RJdGVtVmVyc2lvbj47XG4gICAgICAgIGdldEZvcm1hdHRlZFZhbHVlKGZpZWxkTmFtZTogc3RyaW5nLCBvcHRpb25zOiBPYmplY3QpOiBzdHJpbmc7XG4gICAgICAgIGdldExvb2t1cFJlZmVyZW5jZShmaWVsZE5hbWU6IHN0cmluZywgbG9va3VwSWQ6IG51bWJlcik6IElMaXN0SXRlbTtcbiAgICAgICAgZ2V0UXVlcnk/KCk6SVF1ZXJ5O1xuICAgICAgICByZXNvbHZlUGVybWlzc2lvbnMoKTogSVVzZXJQZXJtaXNzaW9uc09iamVjdDtcbiAgICAgICAgc2F2ZUNoYW5nZXMob3B0aW9ucz86IElMaXN0SXRlbUNydWRPcHRpb25zKTogbmcuSVByb21pc2U8SUxpc3RJdGVtPjtcbiAgICAgICAgc2F2ZUZpZWxkcyhmaWVsZEFycmF5OiBzdHJpbmdbXSwgb3B0aW9ucz86IElMaXN0SXRlbUNydWRPcHRpb25zKTogbmcuSVByb21pc2U8SUxpc3RJdGVtPjtcbiAgICAgICAgc3RhcnRXb3JrZmxvdyhvcHRpb25zOiBJU3RhcnRXb3JrZmxvd1BhcmFtcyk6IG5nLklQcm9taXNlPGFueT47XG4gICAgICAgIHZhbGlkYXRlRW50aXR5KG9wdGlvbnM/OiBPYmplY3QpOiBib29sZWFuO1xuXG4gICAgICAgIC8vQWRkZWQgYnkgTW9kZWwgSW5zdGFudGlhdGlvblxuICAgICAgICBnZXRNb2RlbCgpOiBJTW9kZWw7XG4gICAgICAgIGdldExpc3RJZCgpOiBzdHJpbmc7XG4gICAgICAgIGdldExpc3Q/KCk6IElMaXN0O1xuXG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2Mgb2JqZWN0XG4gICAgICogQG5hbWUgTGlzdEl0ZW1cbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBCYXNlIHByb3RvdHlwZSB3aGljaCBhbGwgbGlzdCBpdGVtcyBpbmhlcml0IGZyb20uICBBbGwgbWV0aG9kcyBjYW4gYmUgYWNjZXNzZWQgdGhyb3VnaCB0aGlzIHByb3RvdHlwZSBzbyBhbGwgQ1JVRFxuICAgICAqIGZ1bmN0aW9uYWxpdHkgY2FuIGJlIGNhbGxlZCBkaXJlY3RseSBmcm9tIGEgZ2l2ZW4gbGlzdCBpdGVtLlxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqL1xuICAgIGV4cG9ydCBjbGFzcyBMaXN0SXRlbSBpbXBsZW1lbnRzIElMaXN0SXRlbSB7XG4gICAgICAgIGF1dGhvcjogSVVzZXI7XG4gICAgICAgIGNyZWF0ZWQ6IERhdGU7XG4gICAgICAgIGVkaXRvcjogSVVzZXI7XG4gICAgICAgIGZpbGVSZWY6IElMb29rdXA7XG4gICAgICAgIGdldENhY2hlOkZ1bmN0aW9uO1xuICAgICAgICBnZXRNb2RlbCgpOiBJTW9kZWw7XG4gICAgICAgIGdldFF1ZXJ5KCk6SVF1ZXJ5O1xuICAgICAgICBpZDogbnVtYmVyO1xuICAgICAgICBtb2RpZmllZDogRGF0ZTtcbiAgICAgICAgcGVybU1hc2s6IHN0cmluZztcbiAgICAgICAgdW5pcXVlSWQ6IHN0cmluZztcbiAgICAgICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIExpc3RJdGVtLnNhdmVDaGFuZ2VzXG4gICAgICAgICAqIEBtZXRob2RPZiBMaXN0SXRlbVxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogVXBkYXRlcyByZWNvcmQgZGlyZWN0bHkgZnJvbSB0aGUgb2JqZWN0XG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gT3B0aW9uYWxseSBwYXNzIHBhcmFtcyB0byB0aGUgZGF0YSBzZXJ2aWNlLlxuICAgICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnVwZGF0ZUFsbENhY2hlcz1mYWxzZV0gU2VhcmNoIHRocm91Z2ggdGhlIGNhY2hlIGZvciBlYWNoIHF1ZXJ5IHRvIGVuc3VyZSBsaXN0SXRlbSBpc1xuICAgICAgICAgKiB1cGRhdGVkIGV2ZXJ5d2hlcmUuICBUaGlzIGlzIG1vcmUgcHJvY2VzcyBpbnRlbnNpdmUgc28gYnkgZGVmYXVsdCB3ZSBvbmx5IHVwZGF0ZSB0aGUgY2FjaGVkIGxpc3RJdGVtIGluIHRoZVxuICAgICAgICAgKiBjYWNoZSB3aGVyZSB0aGlzIGxpc3RJdGVtIGlzIGN1cnJlbnRseSBzdG9yZWQuXG4gICAgICAgICAqIEByZXR1cm5zIHtvYmplY3R9IFByb21pc2Ugd2hpY2ggcmVzb2x2ZWQgd2l0aCB0aGUgdXBkYXRlZCBsaXN0IGl0ZW0gZnJvbSB0aGUgc2VydmVyLlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiA8cHJlPlxuICAgICAgICAgKiAvLyBFeGFtcGxlIG9mIHNhdmUgZnVuY3Rpb24gb24gYSBmaWN0aXRpb3VzXG4gICAgICAgICAqIC8vIGFwcC9tb2R1bGVzL3Rhc2tzL1Rhc2tEZXRhaWxzQ3RybC5qcyBtb2RhbCBmb3JtLlxuICAgICAgICAgKiAkc2NvcGUuc2F2ZUNoYW5nZXMgPSBmdW5jdGlvbih0YXNrKSB7XG4gICAgICAgICAqICAgICAgdGFzay5zYXZlQ2hhbmdlcygpLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAqICAgICAgICAgIC8vIFN1Y2Nlc3NmdWxseSBzYXZlZCBzbyB3ZSBjYW4gZG8gc29tZXRoaW5nXG4gICAgICAgICAqICAgICAgICAgIC8vIGxpa2UgY2xvc2UgZm9ybVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgICAgICB9LCBmdW5jdGlvbigpIHtcbiAgICAgICAgICogICAgICAgICAgLy8gRmFpbHVyZVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgICAgICB9KTtcbiAgICAgICAgICogfVxuICAgICAgICAgKiA8L3ByZT5cbiAgICAgICAgICovXG4gICAgICAgIHNhdmVDaGFuZ2VzKCBvcHRpb25zPzogSUxpc3RJdGVtQ3J1ZE9wdGlvbnMgKTogbmcuSVByb21pc2U8TGlzdEl0ZW0+IHtcbiAgICAgICAgICAgIHZhciBsaXN0SXRlbSA9IHRoaXM7XG4gICAgICAgICAgICB2YXIgbW9kZWwgPSBsaXN0SXRlbS5nZXRNb2RlbCgpO1xuICAgICAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgICAgICAgLyoqIFJlZGlyZWN0IGlmIHRoZSByZXF1ZXN0IGlzIGFjdHVhbGx5IGNyZWF0aW5nIGEgbmV3IGxpc3QgaXRlbS4gIFRoaXMgY2FuIG9jY3VyIGlmIHdlIGNyZWF0ZVxuICAgICAgICAgICAgICogYW4gZW1wdHkgaXRlbSB0aGF0IGlzIGluc3RhbnRpYXRlZCBmcm9tIHRoZSBtb2RlbCBhbmQgdGhlbiBhdHRlbXB0IHRvIHNhdmUgaW5zdGVhZCBvZiB1c2luZ1xuICAgICAgICAgICAgICogbW9kZWwuYWRkTmV3SXRlbSAqL1xuICAgICAgICAgICAgaWYgKCFsaXN0SXRlbS5pZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBtb2RlbC5hZGROZXdJdGVtKGxpc3RJdGVtLCBvcHRpb25zKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYXBEYXRhU2VydmljZS51cGRhdGVMaXN0SXRlbShtb2RlbCwgbGlzdEl0ZW0sIG9wdGlvbnMpXG4gICAgICAgICAgICAgICAgLnRoZW4oICh1cGRhdGVkTGlzdEl0ZW0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSh1cGRhdGVkTGlzdEl0ZW0pO1xuICAgICAgICAgICAgICAgICAgICAvKiogT3B0aW9uYWxseSBicm9hZGNhc3QgY2hhbmdlIGV2ZW50ICovXG4gICAgICAgICAgICAgICAgICAgIGFwVXRpbGl0eVNlcnZpY2UucmVnaXN0ZXJDaGFuZ2UobW9kZWwsICd1cGRhdGUnLCB1cGRhdGVkTGlzdEl0ZW0uaWQpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAgICogQG5hbWUgTGlzdEl0ZW0uc2F2ZUZpZWxkc1xuICAgICAgICAgKiBAbWV0aG9kT2YgTGlzdEl0ZW1cbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIFNhdmVzIGEgbmFtZWQgc3Vic2V0IG9mIGZpZWxkcyBiYWNrIHRvIFNoYXJlUG9pbnQuICBUaGlzIGlzIGFuIGFsdGVybmF0aXZlIHRvIHNhdmluZyBhbGwgZmllbGRzLlxuICAgICAgICAgKiBAcGFyYW0ge2FycmF5fHN0cmluZ30gZmllbGRBcnJheSBBcnJheSBvZiBpbnRlcm5hbCBmaWVsZCBuYW1lcyB0aGF0IHNob3VsZCBiZSBzYXZlZCB0byBTaGFyZVBvaW50IG9yIGEgc2luZ2xlXG4gICAgICAgICAqIHN0cmluZyB0byBzYXZlIGFuIGluZGl2aWR1YWwgZmllbGQuXG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gT3B0aW9uYWxseSBwYXNzIHBhcmFtcyB0byB0aGUgZGF0YSBzZXJ2aWNlLlxuICAgICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnVwZGF0ZUFsbENhY2hlcz1mYWxzZV0gU2VhcmNoIHRocm91Z2ggdGhlIGNhY2hlIGZvciBlYWNoIHF1ZXJ5IHRvIGVuc3VyZSBsaXN0SXRlbSBpc1xuICAgICAgICAgKiB1cGRhdGVkIGV2ZXJ5d2hlcmUuICBUaGlzIGlzIG1vcmUgcHJvY2VzcyBpbnRlbnNpdmUgc28gYnkgZGVmYXVsdCB3ZSBvbmx5IHVwZGF0ZSB0aGUgY2FjaGVkIGxpc3RJdGVtIGluIHRoZVxuICAgICAgICAgKiBjYWNoZSB3aGVyZSB0aGlzIGxpc3RJdGVtIGlzIGN1cnJlbnRseSBzdG9yZWQuXG4gICAgICAgICAqIEByZXR1cm5zIHtvYmplY3R9IFByb21pc2Ugd2hpY2ggcmVzb2x2ZXMgd2l0aCB0aGUgdXBkYXRlZCBsaXN0IGl0ZW0gZnJvbSB0aGUgc2VydmVyLlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiA8cHJlPlxuICAgICAgICAgKiAvLyBFeGFtcGxlIG9mIHNhdmVGaWVsZHMgZnVuY3Rpb24gb24gYSBmaWN0aXRpb3VzXG4gICAgICAgICAqIC8vIGFwcC9tb2R1bGVzL3Rhc2tzL1Rhc2tEZXRhaWxzQ3RybC5qcyBtb2RhbCBmb3JtLlxuICAgICAgICAgKiAvLyBTaW1pbGFyIHRvIHNhdmVDaGFuZ2VzIGJ1dCBpbnN0ZWFkIHdlIG9ubHkgc2F2ZVxuICAgICAgICAgKiAvLyBzcGVjaWZpZWQgZmllbGRzIGluc3RlYWQgb2YgcHVzaGluZyBldmVyeXRoaW5nLlxuICAgICAgICAgKiAkc2NvcGUudXBkYXRlU3RhdHVzID0gZnVuY3Rpb24odGFzaykge1xuICAgICAgICAgKiAgICAgIHRhc2suc2F2ZUZpZWxkcyhbJ3N0YXR1cycsICdub3RlcyddKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgKiAgICAgICAgICAvLyBTdWNjZXNzZnVsbHkgdXBkYXRlZCB0aGUgc3RhdHVzIGFuZFxuICAgICAgICAgKiAgICAgICAgICAvLyBub3RlcyBmaWVsZHMgZm9yIHRoZSBnaXZlbiB0YXNrXG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAgICAgIH0sIGZ1bmN0aW9uKCkge1xuICAgICAgICAgKiAgICAgICAgICAvLyBGYWlsdXJlIHRvIHVwZGF0ZSB0aGUgZmllbGRcbiAgICAgICAgICpcbiAgICAgICAgICogICAgICAgICAgfSk7XG4gICAgICAgICAqIH1cbiAgICAgICAgICogPC9wcmU+XG4gICAgICAgICAqL1xuICAgICAgICBzYXZlRmllbGRzKCBmaWVsZEFycmF5OiBzdHJpbmdbXSwgb3B0aW9ucz86IElMaXN0SXRlbUNydWRPcHRpb25zICk6IG5nLklQcm9taXNlPExpc3RJdGVtPiB7XG5cbiAgICAgICAgICAgIHZhciBsaXN0SXRlbSA9IHRoaXM7XG4gICAgICAgICAgICB2YXIgbW9kZWwgPSBsaXN0SXRlbS5nZXRNb2RlbCgpO1xuICAgICAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAgICAgICAgICAgIHZhciBkZWZpbml0aW9ucyA9IFtdO1xuICAgICAgICAgICAgLyoqIEFsbG93IGEgc3RyaW5nIHRvIGJlIHBhc3NlZCBpbiB0byBzYXZlIGEgc2luZ2xlIGZpZWxkICovXG4gICAgICAgICAgICB2YXIgZmllbGROYW1lcyA9IF8uaXNTdHJpbmcoZmllbGRBcnJheSkgPyBbZmllbGRBcnJheV0gOiBmaWVsZEFycmF5O1xuICAgICAgICAgICAgLyoqIEZpbmQgdGhlIGZpZWxkIGRlZmluaXRpb24gZm9yIGVhY2ggb2YgdGhlIHJlcXVlc3RlZCBmaWVsZHMgKi9cbiAgICAgICAgICAgIF8uZWFjaChmaWVsZE5hbWVzLCAoZmllbGQpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgbWF0Y2ggPSBfLmZpbmQobW9kZWwubGlzdC5jdXN0b21GaWVsZHMsIHttYXBwZWROYW1lOiBmaWVsZH0pO1xuICAgICAgICAgICAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICAgICAgICAgICAgICBkZWZpbml0aW9ucy5wdXNoKG1hdGNoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLyoqIEdlbmVyYXRlIHZhbHVlIHBhaXJzIGZvciBzcGVjaWZpZWQgZmllbGRzICovXG4gICAgICAgICAgICB2YXIgdmFsdWVQYWlycyA9IGFwRW5jb2RlU2VydmljZS5nZW5lcmF0ZVZhbHVlUGFpcnMoZGVmaW5pdGlvbnMsIGxpc3RJdGVtKTtcblxuICAgICAgICAgICAgdmFyIGRlZmF1bHRzID0ge2J1aWxkVmFsdWVQYWlyczogZmFsc2UsIHZhbHVlUGFpcnM6IHZhbHVlUGFpcnN9O1xuXG4gICAgICAgICAgICAvKiogRXh0ZW5kIGRlZmF1bHRzIHdpdGggYW55IHByb3ZpZGVkIG9wdGlvbnMgKi9cbiAgICAgICAgICAgIHZhciBvcHRzID0gXy5leHRlbmQoe30sIGRlZmF1bHRzLCBvcHRpb25zKTtcblxuICAgICAgICAgICAgYXBEYXRhU2VydmljZS51cGRhdGVMaXN0SXRlbShtb2RlbCwgbGlzdEl0ZW0sIG9wdHMpXG4gICAgICAgICAgICAgICAgLnRoZW4oICh1cGRhdGVkTGlzdEl0ZW0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSh1cGRhdGVkTGlzdEl0ZW0pO1xuICAgICAgICAgICAgICAgICAgICAvKiogT3B0aW9uYWxseSBicm9hZGNhc3QgY2hhbmdlIGV2ZW50ICovXG4gICAgICAgICAgICAgICAgICAgIGFwVXRpbGl0eVNlcnZpY2UucmVnaXN0ZXJDaGFuZ2UobW9kZWwsICd1cGRhdGUnLCB1cGRhdGVkTGlzdEl0ZW0uaWQpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAgICogQG5hbWUgTGlzdEl0ZW0uZGVsZXRlSXRlbVxuICAgICAgICAgKiBAbWV0aG9kT2YgTGlzdEl0ZW1cbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIERlbGV0ZXMgcmVjb3JkIGRpcmVjdGx5IGZyb20gdGhlIG9iamVjdCBhbmQgcmVtb3ZlcyByZWNvcmQgZnJvbSB1c2VyIGNhY2hlLlxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIE9wdGlvbmFsbHkgcGFzcyBwYXJhbXMgdG8gdGhlIGRhdGFTZXJ2aWNlLlxuICAgICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnVwZGF0ZUFsbENhY2hlcz1mYWxzZV0gSXRlcmF0ZSBvdmVyIGVhY2ggb2YgdGhlIHF1ZXJ5IGNhY2hlJ3MgYW5kIGVuc3VyZSB0aGUgbGlzdEl0ZW0gaXNcbiAgICAgICAgICogcmVtb3ZlZCBldmVyeXdoZXJlLiAgVGhpcyBpcyBtb3JlIHByb2Nlc3MgaW50ZW5zaXZlIHNvIGJ5IGRlZmF1bHQgd2Ugb25seSByZW1vdmUgdGhlIGNhY2hlZCBsaXN0SXRlbSBpbiB0aGVcbiAgICAgICAgICogY2FjaGUgd2hlcmUgdGhpcyBsaXN0SXRlbSBpcyBjdXJyZW50bHkgc3RvcmVkLlxuICAgICAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSBQcm9taXNlIHdoaWNoIHJlYWxseSBvbmx5IGxldHMgdXMga25vdyB0aGUgcmVxdWVzdCBpcyBjb21wbGV0ZS5cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogYGBgXG4gICAgICAgICAqIDx1bD5cbiAgICAgICAgICogICAgPGxpIG5nLXJlcGVhdD1cInRhc2sgaW4gdGFza3NcIj5cbiAgICAgICAgICogICAgICAgIHt7dGFzay50aXRsZX19IDxhIGhyZWYgbmctY2xpY2s9XCJ0YXNrLmRlbGV0ZUl0ZW0oKT5kZWxldGU8L2E+XG4gICAgICAgICAqICAgIDwvbGk+XG4gICAgICAgICAqIDwvdWw+XG4gICAgICAgICAqIGBgYFxuICAgICAgICAgKiBMaXN0IG9mIHRhc2tzLiAgV2hlbiB0aGUgZGVsZXRlIGxpbmsgaXMgY2xpY2tlZCwgdGhlIGxpc3QgaXRlbSBpdGVtIGlzIHJlbW92ZWQgZnJvbSB0aGUgbG9jYWwgY2FjaGUgYW5kXG4gICAgICAgICAqIHRoZSB2aWV3IGlzIHVwZGF0ZWQgdG8gbm8gbG9uZ2VyIHNob3cgdGhlIHRhc2suXG4gICAgICAgICAqL1xuICAgICAgICBkZWxldGVJdGVtKCBvcHRpb25zPzogSUxpc3RJdGVtQ3J1ZE9wdGlvbnMgKTogbmcuSVByb21pc2U8YW55PiB7XG4gICAgICAgICAgICB2YXIgbGlzdEl0ZW0gPSB0aGlzO1xuICAgICAgICAgICAgdmFyIG1vZGVsID0gbGlzdEl0ZW0uZ2V0TW9kZWwoKTtcbiAgICAgICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgICAgICAgIGFwRGF0YVNlcnZpY2UuZGVsZXRlTGlzdEl0ZW0obW9kZWwsIGxpc3RJdGVtLCBvcHRpb25zKS50aGVuKCAocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAvKiogT3B0aW9uYWxseSBicm9hZGNhc3QgY2hhbmdlIGV2ZW50ICovXG4gICAgICAgICAgICAgICAgYXBVdGlsaXR5U2VydmljZS5yZWdpc3RlckNoYW5nZShtb2RlbCwgJ2RlbGV0ZScsIGxpc3RJdGVtLmlkKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBMaXN0SXRlbS5nZXRMb29rdXBSZWZlcmVuY2VcbiAgICAgICAgICogQG1ldGhvZE9mIExpc3RJdGVtXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBBbGxvd3MgdXMgdG8gcmV0cmlldmUgdGhlIGxpc3RJdGVtIGJlaW5nIHJlZmVyZW5jZWQgaW4gYSBnaXZlbiBsb29rdXAgZmllbGQuXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmaWVsZE5hbWUgTmFtZSBvZiB0aGUgbG9va3VwIHByb3BlcnR5IG9uIHRoZSBsaXN0IGl0ZW0gdGhhdCByZWZlcmVuY2VzIGEgbGlzdEl0ZW0uXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbG9va3VwSWQ9bGlzdEl0ZW0uZmllbGROYW1lLmxvb2t1cElkXSBUaGUgbGlzdEl0ZW0ubG9va3VwSWQgb2YgdGhlIGxvb2t1cCBvYmplY3QuICBUaGlzIGFsbG93cyB1cyB0byBhbHNvIHVzZSB0aGlzIGxvZ2ljXG4gICAgICAgICAqIG9uIGEgbXVsdGktc2VsZWN0IGJ5IGl0ZXJhdGluZyBvdmVyIGVhY2ggb2YgdGhlIGxvb2t1cHMuXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIDxwcmU+XG4gICAgICAgICAqIHZhciBwcm9qZWN0ID0ge1xuICAgICAgICAgICAgICogICAgdGl0bGU6ICdQcm9qZWN0IDEnLFxuICAgICAgICAgICAgICogICAgbG9jYXRpb246IHtcbiAgICAgICAgICAgICAqICAgICAgICBsb29rdXBJZDogNSxcbiAgICAgICAgICAgICAqICAgICAgICBsb29rdXBWYWx1ZTogJ1NvbWUgQnVpbGRpbmcnXG4gICAgICAgICAgICAgKiAgICB9XG4gICAgICAgICAgICAgKiB9O1xuICAgICAgICAgKlxuICAgICAgICAgKiAvL1RvIGdldCB0aGUgbG9jYXRpb24gbGlzdEl0ZW1cbiAgICAgICAgICogdmFyIGxpc3RJdGVtID0gcHJvamVjdC5nZXRMb29rdXBSZWZlcmVuY2UoJ2xvY2F0aW9uJyk7XG4gICAgICAgICAqIDwvcHJlPlxuICAgICAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSBUaGUgbGlzdEl0ZW0gdGhlIGxvb2t1cCBpcyByZWZlcmVuY2luZyBvciB1bmRlZmluZWQgaWYgbm90IGluIHRoZSBjYWNoZS5cbiAgICAgICAgICovXG4gICAgICAgIGdldExvb2t1cFJlZmVyZW5jZSggZmllbGROYW1lOiBzdHJpbmcsIGxvb2t1cElkPzogbnVtYmVyICk6IExpc3RJdGVte1xuICAgICAgICAgICAgdmFyIGxpc3RJdGVtID0gdGhpcztcbiAgICAgICAgICAgIHZhciBsb29rdXBSZWZlcmVuY2U7XG4gICAgICAgICAgICBpZiAoXy5pc1VuZGVmaW5lZChmaWVsZE5hbWUpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBIGZpZWxkIG5hbWUgaXMgcmVxdWlyZWQuJyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKF8uaXNFbXB0eShsaXN0SXRlbVtmaWVsZE5hbWVdKSkge1xuICAgICAgICAgICAgICAgIGxvb2t1cFJlZmVyZW5jZSA9ICcnO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgbW9kZWwgPSBsaXN0SXRlbS5nZXRNb2RlbCgpO1xuICAgICAgICAgICAgICAgIHZhciBmaWVsZERlZmluaXRpb24gPSBtb2RlbC5nZXRGaWVsZERlZmluaXRpb24oZmllbGROYW1lKTtcbiAgICAgICAgICAgICAgICAvKiogRW5zdXJlIHRoZSBmaWVsZCBkZWZpbml0aW9uIGhhcyB0aGUgTGlzdCBhdHRyaWJ1dGUgd2hpY2ggY29udGFpbnMgdGhlIEdVSUQgb2YgdGhlIGxpc3RcbiAgICAgICAgICAgICAgICAgKiAgdGhhdCBhIGxvb2t1cCBpcyByZWZlcmVuY2luZy4gKi9cbiAgICAgICAgICAgICAgICBpZiAoZmllbGREZWZpbml0aW9uICYmIGZpZWxkRGVmaW5pdGlvbi5MaXN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0YXJnZXRJZCA9IGxvb2t1cElkIHx8IGxpc3RJdGVtW2ZpZWxkTmFtZV0ubG9va3VwSWQ7XG4gICAgICAgICAgICAgICAgICAgIGxvb2t1cFJlZmVyZW5jZSA9IGFwQ2FjaGVTZXJ2aWNlLmdldENhY2hlZEVudGl0eShmaWVsZERlZmluaXRpb24uTGlzdCwgdGFyZ2V0SWQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhpcyBpc25cXCd0IGEgdmFsaWQgTG9va3VwIGZpZWxkIG9yIHRoZSBmaWVsZCBkZWZpbml0aW9ucyBuZWVkIHRvIGJlIGV4dGVuZGVkICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2JlZm9yZSB3ZSBjYW4gY29tcGxldGUgdGhpcyByZXF1ZXN0LicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBsb29rdXBSZWZlcmVuY2U7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIExpc3RJdGVtLmdldEZvcm1hdHRlZFZhbHVlXG4gICAgICAgICAqIEBtZXRob2RPZiBMaXN0SXRlbVxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogR2l2ZW4gdGhlIGF0dHJpYnV0ZSBuYW1lIG9uIGEgbGlzdEl0ZW0sIHdlIGNhbiBsb29rdXAgdGhlIGZpZWxkIHR5cGUgYW5kIGZyb20gdGhlcmUgcmV0dXJuIGEgZm9ybWF0dGVkXG4gICAgICAgICAqIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGF0IHZhbHVlLlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gZmllbGROYW1lIEF0dHJpYnV0ZSBuYW1lIG9uIHRoZSBvYmplY3QgdGhhdCBjb250YWlucyB0aGUgdmFsdWUgdG8gc3RyaW5naWZ5LlxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIFBhc3MgdGhyb3VnaCB0byBhcEZvcm1hdHRlZEZpZWxkVmFsdWVTZXJ2aWNlLmdldEZvcm1hdHRlZEZpZWxkVmFsdWUuXG4gICAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IEZvcm1hdHRlZCBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBmaWVsZCB2YWx1ZS5cbiAgICAgICAgICovXG4gICAgICAgIGdldEZvcm1hdHRlZFZhbHVlKCBmaWVsZE5hbWU6IHN0cmluZywgb3B0aW9ucz86IE9iamVjdCApOiBzdHJpbmcge1xuICAgICAgICAgICAgdmFyIGxpc3RJdGVtID0gdGhpcztcbiAgICAgICAgICAgIHZhciBmaWVsZERlZmluaXRpb24gPSBsaXN0SXRlbS5nZXRGaWVsZERlZmluaXRpb24oZmllbGROYW1lKTtcbiAgICAgICAgICAgIGlmICghZmllbGREZWZpbml0aW9uKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgJ0EgZmllbGQgZGVmaW5pdGlvbiBmb3IgYSBmaWVsZCBuYW1lZCAnICsgZmllbGROYW1lICsgJyB3YXNuXFwndCBmb3VuZC4nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGFwRm9ybWF0dGVkRmllbGRWYWx1ZVNlcnZpY2VcbiAgICAgICAgICAgICAgICAuZ2V0Rm9ybWF0dGVkRmllbGRWYWx1ZShsaXN0SXRlbVtmaWVsZE5hbWVdLCBmaWVsZERlZmluaXRpb24ub2JqZWN0VHlwZSwgb3B0aW9ucyk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIExpc3RJdGVtLnZhbGlkYXRlRW50aXR5XG4gICAgICAgICAqIEBtZXRob2RPZiBMaXN0SXRlbVxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgcGFzc2VzIHRoZSBjdXJyZW50IGl0ZW0gdG8gTW9kZWwudmFsaWRhdGVFbnRpdHlcbiAgICAgICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSBPcHRpb25hbGx5IHBhc3MgcGFyYW1zIHRvIHRoZSBkYXRhU2VydmljZS5cbiAgICAgICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50b2FzdD10cnVlXSBTZXQgdG8gZmFsc2UgdG8gcHJldmVudCB0b2FzdHIgbWVzc2FnZXMgZnJvbSBiZWluZyBkaXNwbGF5ZWQuXG4gICAgICAgICAqIEByZXR1cm5zIHtib29sZWFufSBFdmFsdWF0aW9uIG9mIHZhbGlkaXR5LlxuICAgICAgICAgKi9cbiAgICAgICAgdmFsaWRhdGVFbnRpdHkoIG9wdGlvbnM/OiBPYmplY3QgKTogYm9vbGVhbiB7XG4gICAgICAgICAgICB2YXIgbGlzdEl0ZW0gPSB0aGlzLFxuICAgICAgICAgICAgICAgIG1vZGVsID0gbGlzdEl0ZW0uZ2V0TW9kZWwoKTtcbiAgICAgICAgICAgIHJldHVybiBtb2RlbC52YWxpZGF0ZUVudGl0eShsaXN0SXRlbSwgb3B0aW9ucyk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIExpc3RJdGVtLmdldEZpZWxkRGVmaW5pdGlvblxuICAgICAgICAgKiBAbWV0aG9kT2YgTGlzdEl0ZW1cbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIFJldHVybnMgdGhlIGZpZWxkIGRlZmluaXRpb24gZnJvbSB0aGUgZGVmaW5pdGlvbnMgZGVmaW5lZCBpbiB0aGUgY3VzdG9tIGZpZWxkcyBhcnJheSB3aXRoaW4gYSBtb2RlbC5cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogPHByZT5cbiAgICAgICAgICogdmFyIHByb2plY3QgPSB7XG4gICAgICAgICAgICAgKiAgICB0aXRsZTogJ1Byb2plY3QgMScsXG4gICAgICAgICAgICAgKiAgICBsb2NhdGlvbjoge1xuICAgICAgICAgICAgICogICAgICAgIGxvb2t1cElkOiA1LFxuICAgICAgICAgICAgICogICAgICAgIGxvb2t1cFZhbHVlOiAnU29tZSBCdWlsZGluZydcbiAgICAgICAgICAgICAqICAgIH1cbiAgICAgICAgICAgICAqIH07XG4gICAgICAgICAqXG4gICAgICAgICAqIC8vVG8gZ2V0IGZpZWxkIG1ldGFkYXRhXG4gICAgICAgICAqIHZhciBsb2NhdGlvbkRlZmluaXRpb24gPSBwcm9qZWN0LmdldEZpZWxkRGVmaW5pdGlvbignbG9jYXRpb24nKTtcbiAgICAgICAgICogPC9wcmU+XG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmaWVsZE5hbWUgSW50ZXJuYWwgZmllbGQgbmFtZS5cbiAgICAgICAgICogQHJldHVybnMge29iamVjdH0gRmllbGQgZGVmaW5pdGlvbi5cbiAgICAgICAgICovXG4gICAgICAgIGdldEZpZWxkRGVmaW5pdGlvbiggZmllbGROYW1lOiBzdHJpbmcgKTogSUZpZWxkRGVmaW5pdGlvbiB7XG4gICAgICAgICAgICB2YXIgbGlzdEl0ZW0gPSB0aGlzO1xuICAgICAgICAgICAgcmV0dXJuIGxpc3RJdGVtLmdldE1vZGVsKCkuZ2V0RmllbGREZWZpbml0aW9uKGZpZWxkTmFtZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIExpc3RJdGVtLmdldEZpZWxkTGFiZWxcbiAgICAgICAgICogQG1ldGhvZE9mIExpc3RJdGVtXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmaWVsZE5hbWUgSW50ZXJuYWwgZmllbGQgbmFtZS5cbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIFVzZXMgdGhlIGZpZWxkIGRlZmluaXRpb24gZGVmaW5lZCBpbiB0aGUgbW9kZWwgdG8gYXR0ZW1wdCB0byBmaW5kIHRoZSBsYWJlbCBmb3IgYSBnaXZlbiBmaWVsZC4gIFRoZSBkZWZhdWx0XG4gICAgICAgICAqIHZhbHVlIGlzIGZpZWxkRGVmaW5pdGlvbi5sYWJlbC4gIElmIG5vdCBhdmFpbGFibGUgaXQgd2lsbCB0aGVuIHVzZSBmaWVsZERlZmluaXRpb24uRGlzcGxheU5hbWUgd2hpY2ggaXNcbiAgICAgICAgICogcG9wdWxhdGVkIGFmdGVyIGEgR2V0TGlzdEl0ZW1zU2luY2VUb2tlbiBvcGVyYXRpb24gb3IgYSBNb2RlbC5leHRlbmRMaXN0TWV0YWRhdGEgb3BlcmF0aW9uLiAgSWYgdGhpcyBpc24ndFxuICAgICAgICAgKiBhdmFpbGFibGUgaXQgd2lsbCBmYWxsYmFjayB0byB0aGUgdGhlIGZpZWxkRGVmaW5pdGlvbi5EaXNwbGF5TmFtZSB3aGljaCBpcyBhIGJlc3QgZ3Vlc3MgYXQgY29udmVydGluZyB0aGVcbiAgICAgICAgICogY2FtbCBjYXNlIHZlcnNpb24gb2YgdGhlIG1hcHBlZCBuYW1lIHVzaW5nIGFwVXRpbGl0eVNlcnZpY2UuZnJvbUNhbWVsQ2FzZS5cbiAgICAgICAgICogQHJldHVybnMge3N0cmluZ30gVGhlIGxhYmVsIGZvciBhIGdpdmVuIGZpZWxkIG9iamVjdC5cbiAgICAgICAgICovXG4gICAgICAgIGdldEZpZWxkTGFiZWwoIGZpZWxkTmFtZTogc3RyaW5nICk6IHN0cmluZyB7XG4gICAgICAgICAgICB2YXIgbGlzdEl0ZW0gPSB0aGlzO1xuICAgICAgICAgICAgdmFyIGZpZWxkRGVmaW5pdGlvbiA9IGxpc3RJdGVtLmdldEZpZWxkRGVmaW5pdGlvbihmaWVsZE5hbWUpO1xuICAgICAgICAgICAgcmV0dXJuIGZpZWxkRGVmaW5pdGlvbi5sYWJlbCB8fCBmaWVsZERlZmluaXRpb24uRGlzcGxheU5hbWUgfHwgZmllbGREZWZpbml0aW9uLmRpc3BsYXlOYW1lO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBMaXN0SXRlbS5nZXRGaWVsZERlc2NyaXB0aW9uXG4gICAgICAgICAqIEBtZXRob2RPZiBMaXN0SXRlbVxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gZmllbGROYW1lIEludGVybmFsIGZpZWxkIG5hbWUuXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBVc2VzIHRoZSBmaWVsZCBkZWZpbml0aW9uIGRlZmluZWQgaW4gdGhlIG1vZGVsIHRvIGF0dGVtcHQgdG8gZmluZCB0aGUgZGVzY3JpcHRpb24gZm9yIGEgZ2l2ZW4gZmllbGQuICBUaGUgZGVmYXVsdFxuICAgICAgICAgKiB2YWx1ZSBpcyBmaWVsZERlZmluaXRpb24uRGVzY3JpcHRpb24gd2hpY2ggaXMgcG9wdWxhdGVkIGFmdGVyIGEgR2V0TGlzdEl0ZW1zU2luY2VUb2tlbiBvcGVyYXRpb24gb3IgYVxuICAgICAgICAgKiBNb2RlbC5leHRlbmRMaXN0TWV0YWRhdGEgb3BlcmF0aW9uLiAgSWYgdGhpcyBpc24ndCBhdmFpbGFibGUgd2UgbG9vayBmb3IgYW4gb3B0aW9uYWwgYXR0cmlidXRlIG9mIGEgZmllbGRcbiAgICAgICAgICogZmllbGREZWZpbml0aW9uLmRlc2NyaXB0aW9uLiAgRmluYWxseSBpZiB0aGF0IGhhdmUgYW55dGhpbmcgaXQgcmV0dXJucyBhbiBlbXB0eSBzdHJpbmcuXG4gICAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBkZXNjcmlwdGlvbiBmb3IgYSBnaXZlbiBmaWVsZCBvYmplY3QuXG4gICAgICAgICAqL1xuICAgICAgICBnZXRGaWVsZERlc2NyaXB0aW9uKGZpZWxkTmFtZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgICAgIHZhciBsaXN0SXRlbSA9IHRoaXM7XG4gICAgICAgICAgICB2YXIgZmllbGREZWZpbml0aW9uID0gbGlzdEl0ZW0uZ2V0RmllbGREZWZpbml0aW9uKGZpZWxkTmFtZSk7XG4gICAgICAgICAgICByZXR1cm4gZmllbGREZWZpbml0aW9uLmRlc2NyaXB0aW9uIHx8IGZpZWxkRGVmaW5pdGlvbi5EZXNjcmlwdGlvbiB8fCAnJztcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAgICogQG5hbWUgTGlzdEl0ZW0uZ2V0RmllbGRDaG9pY2VzXG4gICAgICAgICAqIEBtZXRob2RPZiBMaXN0SXRlbVxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gZmllbGROYW1lIEludGVybmFsIGZpZWxkIG5hbWUuXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBVc2VzIHRoZSBmaWVsZCBkZWZpbml0aW9uIGRlZmluZWQgaW4gdGhlIG1vZGVsIHRvIGF0dGVtcHQgdG8gZmluZCB0aGUgY2hvaWNlcyBhcnJheSBmb3IgYSBnaXZlbiBMb29rdXAgb3JcbiAgICAgICAgICogTXVsdGlMb29rdXAgdHlwZSBmaWVsZC4gIFRoZSBkZWZhdWx0IHZhbHVlIGlzIGZpZWxkRGVmaW5pdGlvbi5jaG9pY2VzIHdoaWNoIGNhbiBvcHRpb25hbGx5IGJlIGFkZGVkIHRvIGFcbiAgICAgICAgICogZ2l2ZW4gZmllbGQgZGVmaW5pdGlvbi4gIElmIHRoaXMgaXNuJ3QgZm91bmQsIHdlIGNoZWNrIGZpZWxkRGVmaW5pdGlvbi5DaG9pY2VzIHdoaWNoIGlzIHBvcHVsYXRlZCBhZnRlciBhXG4gICAgICAgICAqIEdldExpc3RJdGVtc1NpbmNlVG9rZW4gb3BlcmF0aW9uIG9yIGEgTW9kZWwuZXh0ZW5kTGlzdE1ldGFkYXRhIG9wZXJhdGlvbi4gIEZpbmFsbHkgaWYgdGhhdCBpc24ndCBhdmFpbGFibGVcbiAgICAgICAgICogd2UgcmV0dXJuIGFuIGVtcHR5IGFycmF5LlxuICAgICAgICAgKiBAcmV0dXJucyB7c3RyaW5nW119IEFuIGFycmF5IG9mIGNob2ljZXMgZm9yIGEgQ2hvaWNlIG9yIE11bHRpQ2hvaWNlIHR5cGUgZmllbGQuXG4gICAgICAgICAqL1xuICAgICAgICBnZXRGaWVsZENob2ljZXMoZmllbGROYW1lOiBzdHJpbmcpOiBzdHJpbmdbXSB7XG4gICAgICAgICAgICB2YXIgbGlzdEl0ZW0gPSB0aGlzO1xuICAgICAgICAgICAgdmFyIGZpZWxkRGVmaW5pdGlvbiA9IGxpc3RJdGVtLmdldEZpZWxkRGVmaW5pdGlvbihmaWVsZE5hbWUpO1xuICAgICAgICAgICAgcmV0dXJuIGZpZWxkRGVmaW5pdGlvbi5jaG9pY2VzIHx8IGZpZWxkRGVmaW5pdGlvbi5DaG9pY2VzIHx8IFtdO1xuICAgICAgICB9XG5cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIExpc3RJdGVtLmdldEF2YWlsYWJsZVdvcmtmbG93c1xuICAgICAgICAgKiBAbWV0aG9kT2YgTGlzdEl0ZW1cbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIFdyYXBwZXIgZm9yIGFwRGF0YVNlcnZpY2UuZ2V0QXZhaWxhYmxlV29ya2Zsb3dzLiAgU2ltcGx5IHBhc3NlcyB0aGUgY3VycmVudCBpdGVtIGluLlxuICAgICAgICAgKiBAcmV0dXJucyB7cHJvbWlzZX0gQXJyYXkgb2Ygb2JqZWN0cyBkZWZpbmluZyBlYWNoIG9mIHRoZSBhdmFpbGFibGUgd29ya2Zsb3dzLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0QXZhaWxhYmxlV29ya2Zsb3dzKCk6IG5nLklQcm9taXNlPElXb3JrZmxvd0RlZmluaXRpb25bXT4ge1xuICAgICAgICAgICAgdmFyIGxpc3RJdGVtID0gdGhpcztcbiAgICAgICAgICAgIHJldHVybiBhcERhdGFTZXJ2aWNlLmdldEF2YWlsYWJsZVdvcmtmbG93cyhsaXN0SXRlbS5maWxlUmVmLmxvb2t1cFZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAgICogQG5hbWUgTGlzdEl0ZW0uZ2V0TGlzdElkXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBBbGxvd3MgdXMgdG8gcmVmZXJlbmNlIHRoZSBsaXN0IElEIGRpcmVjdGx5IGZyb20gdGhlIGxpc3QgaXRlbS4gIFRoaXMgaXMgYWRkZWQgdG8gdGhlXG4gICAgICAgICAqIG1vZGVsLmZhY3RvcnkgcHJvdG90eXBlIGluIGFwTW9kZWxGYWN0b3J5LlxuICAgICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBMaXN0IElELlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0TGlzdElkKCk6IHN0cmluZyB7XG4gICAgICAgICAgICB2YXIgbW9kZWwgPSB0aGlzLmdldE1vZGVsKCk7XG4gICAgICAgICAgICByZXR1cm4gbW9kZWwuZ2V0TGlzdElkKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIExpc3RJdGVtLmdldExpc3RcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIEFic3RyYWN0aW9uIHRvIGFsbG93IGxvZ2ljIGluIG1vZGVsIHRvIGJlIHVzZWQgaW5zdGVhZCBvZiBkZWZpbmluZyB0aGUgbGlzdCBsb2NhdGlvbiBpbiBtb3JlIHRoYW4gb25lIHBsYWNlLlxuICAgICAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSBMaXN0IGZvciB0aGUgbGlzdCBpdGVtLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0TGlzdCgpOiBJTGlzdCB7XG4gICAgICAgICAgICB2YXIgbW9kZWw6IElNb2RlbCA9IHRoaXMuZ2V0TW9kZWwoKTtcbiAgICAgICAgICAgIHJldHVybiBtb2RlbC5nZXRMaXN0KCk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIExpc3RJdGVtLnN0YXJ0V29ya2Zsb3dcbiAgICAgICAgICogQG1ldGhvZE9mIExpc3RJdGVtXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBHaXZlbiBhIHdvcmtmbG93IG5hbWUgb3IgdGVtcGxhdGVJZCB3ZSBpbml0aWF0ZSBhIGdpdmVuIHdvcmtmbG93IHVzaW5nIGFwRGF0YVNlcnZpY2Uuc3RhcnRXb3JrZmxvdy5cbiAgICAgICAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgUGFyYW1zIGZvciBtZXRob2QgYW5kIHBhc3MgdGhyb3VnaCBvcHRpb25zIHRvIGFwRGF0YVNlcnZpY2Uuc3RhcnRXb3JrZmxvdy5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnRlbXBsYXRlSWRdIFVzZWQgdG8gZGlyZWN0bHkgc3RhcnQgdGhlIHdvcmtmbG93IHdpdGhvdXQgbG9va2luZyB1cCB0aGUgdGVtcGxhdGVJZC5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLndvcmtmbG93TmFtZV0gVXNlIHRoaXMgdmFsdWUgdG8gbG9va3VwIHRoZSB0ZW1wbGF0ZUlkIGFuZCB0aGVuIHN0YXJ0IHRoZSB3b3JrZmxvdy5cbiAgICAgICAgICogQHJldHVybnMge3Byb21pc2V9IFJlc29sdmVzIHdpdGggc2VydmVyIHJlc3BvbnNlLlxuICAgICAgICAgKi9cbiAgICAgICAgc3RhcnRXb3JrZmxvdyhvcHRpb25zOiBJU3RhcnRXb3JrZmxvd1BhcmFtcyk6IG5nLklQcm9taXNlPGFueT4ge1xuICAgICAgICAgICAgdmFyIGxpc3RJdGVtID0gdGhpcyxcbiAgICAgICAgICAgICAgICBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgICAgICAgIC8qKiBTZXQgdGhlIHJlbGF0aXZlIGZpbGUgcmVmZXJlbmNlICovXG4gICAgICAgICAgICBvcHRpb25zLmZpbGVSZWYgPSBsaXN0SXRlbS5maWxlUmVmLmxvb2t1cFZhbHVlO1xuXG4gICAgICAgICAgICBpZiAoIW9wdGlvbnMudGVtcGxhdGVJZCAmJiAhb3B0aW9ucy53b3JrZmxvd05hbWUpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyAnRWl0aGVyIGEgdGVtcGxhdGVJZCBvciB3b3JrZmxvd05hbWUgaXMgcmVxdWlyZWQgdG8gaW5pdGlhdGUgYSB3b3JrZmxvdy4nO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChvcHRpb25zLnRlbXBsYXRlSWQpIHtcbiAgICAgICAgICAgICAgICAvKiogVGhlIHRlbXBsYXRlSWQgaXMgYWxyZWFkeSBwcm92aWRlZCBzbyB3ZSBkb24ndCBuZWVkIHRvIGxvb2sgZm9yIGl0ICovXG4gICAgICAgICAgICAgICAgaW5pdGlhdGVSZXF1ZXN0KCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8qKiBXZSBmaXJzdCBuZWVkIHRvIGdldCB0aGUgdGVtcGxhdGUgR1VJRCBmb3IgdGhlIHdvcmtmbG93ICovXG4gICAgICAgICAgICAgICAgbGlzdEl0ZW0uZ2V0QXZhaWxhYmxlV29ya2Zsb3dzKClcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oICh3b3JrZmxvd3MpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0YXJnZXRXb3JrbG93ID0gXy5maW5kV2hlcmUod29ya2Zsb3dzLCB7bmFtZTogb3B0aW9ucy53b3JrZmxvd05hbWV9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGFyZ2V0V29ya2xvdykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93ICdBIHdvcmtmbG93IHdpdGggdGhlIHNwZWNpZmllZCBuYW1lIHdhc25cXCd0IGZvdW5kLic7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvKiogQ3JlYXRlIGFuIGV4dGVuZGVkIHNldCBvZiBvcHRpb25zIHRvIHBhc3MgYW55IG92ZXJyaWRlcyB0byBhcERhdGFTZXJ2aWNlICovXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLnRlbXBsYXRlSWQgPSB0YXJnZXRXb3JrbG93LnRlbXBsYXRlSWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbml0aWF0ZVJlcXVlc3QoKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuXG4gICAgICAgICAgICBmdW5jdGlvbiBpbml0aWF0ZVJlcXVlc3QoKSB7XG4gICAgICAgICAgICAgICAgYXBEYXRhU2VydmljZS5zdGFydFdvcmtmbG93KG9wdGlvbnMpXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKCAoeG1sUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoeG1sUmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBMaXN0SXRlbS5nZXRBdHRhY2htZW50Q29sbGVjdGlvblxuICAgICAgICAgKiBAbWV0aG9kT2YgTGlzdEl0ZW1cbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIFJlcXVlc3RzIGFsbCBhdHRhY2htZW50cyBmb3IgYSBnaXZlbiBsaXN0IGl0ZW0uXG4gICAgICAgICAqIEByZXR1cm5zIHtvYmplY3R9IFByb21pc2Ugd2hpY2ggcmVzb2x2ZXMgd2l0aCBhbGwgYXR0YWNobWVudHMgZm9yIGEgbGlzdCBpdGVtLlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiA8cHJlPlxuICAgICAgICAgKiAvL1B1bGwgZG93biBhbGwgYXR0YWNobWVudHMgZm9yIHRoZSBjdXJyZW50IGxpc3QgaXRlbVxuICAgICAgICAgKiB2YXIgZmV0Y2hBdHRhY2htZW50cyA9IGZ1bmN0aW9uIChsaXN0SXRlbSkge1xuICAgICAgICAgICAgICogICAgIGxpc3RJdGVtLmdldEF0dGFjaG1lbnRDb2xsZWN0aW9uKClcbiAgICAgICAgICAgICAqICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGF0dGFjaG1lbnRzKSB7XG4gICAgICAgICAgICAgKiAgICAgICAgICAgICBzY29wZS5hdHRhY2htZW50cyA9IGF0dGFjaG1lbnRzO1xuICAgICAgICAgICAgICogICAgICAgICB9KTtcbiAgICAgICAgICAgICAqIH07XG4gICAgICAgICAqIDwvcHJlPlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0QXR0YWNobWVudENvbGxlY3Rpb24oKTogbmcuSVByb21pc2U8c3RyaW5nW10+IHtcbiAgICAgICAgICAgIHZhciBsaXN0SXRlbSA9IHRoaXM7XG4gICAgICAgICAgICByZXR1cm4gYXBEYXRhU2VydmljZS5nZXRDb2xsZWN0aW9uKHtcbiAgICAgICAgICAgICAgICBvcGVyYXRpb246ICdHZXRBdHRhY2htZW50Q29sbGVjdGlvbicsXG4gICAgICAgICAgICAgICAgbGlzdE5hbWU6IGxpc3RJdGVtLmdldE1vZGVsKCkubGlzdC5nZXRMaXN0SWQoKSxcbiAgICAgICAgICAgICAgICB3ZWJVUkw6IGxpc3RJdGVtLmdldE1vZGVsKCkubGlzdC53ZWJVUkwsXG4gICAgICAgICAgICAgICAgSUQ6IGxpc3RJdGVtLmlkLFxuICAgICAgICAgICAgICAgIGZpbHRlck5vZGU6ICdBdHRhY2htZW50J1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIExpc3RJdGVtLmRlbGV0ZUF0dGFjaG1lbnRcbiAgICAgICAgICogQG1ldGhvZE9mIExpc3RJdGVtXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBEZWxldGUgYW4gYXR0YWNobWVudCBmcm9tIGEgbGlzdCBpdGVtLlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFJlcXVpcmVzIHRoZSBVUkwgZm9yIHRoZSBhdHRhY2htZW50IHdlIHdhbnQgdG8gZGVsZXRlLlxuICAgICAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSBQcm9taXNlIHdoaWNoIHJlc29sdmVzIHdpdGggdGhlIHVwZGF0ZWQgYXR0YWNobWVudCBjb2xsZWN0aW9uLlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiA8cHJlPlxuICAgICAgICAgKiAkc2NvcGUuZGVsZXRlQXR0YWNobWVudCA9IGZ1bmN0aW9uIChhdHRhY2htZW50KSB7XG4gICAgICAgICAgICAgKiAgICAgdmFyIGNvbmZpcm1hdGlvbiA9IHdpbmRvdy5jb25maXJtKFwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSB0aGlzIGZpbGU/XCIpO1xuICAgICAgICAgICAgICogICAgIGlmIChjb25maXJtYXRpb24pIHtcbiAgICAgICAgICAgICAqICAgICAgICAgc2NvcGUubGlzdEl0ZW0uZGVsZXRlQXR0YWNobWVudChhdHRhY2htZW50KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAqICAgICAgICAgICAgIGFsZXJ0KFwiQXR0YWNobWVudCBzdWNjZXNzZnVsbHkgZGVsZXRlZFwiKTtcbiAgICAgICAgICAgICAqICAgICAgICAgfSk7XG4gICAgICAgICAgICAgKiAgICAgfVxuICAgICAgICAgICAgICogfTtcbiAgICAgICAgICogPC9wcmU+XG4gICAgICAgICAqL1xuICAgICAgICBkZWxldGVBdHRhY2htZW50KHVybDogc3RyaW5nKTogbmcuSVByb21pc2U8YW55PiB7XG4gICAgICAgICAgICB2YXIgbGlzdEl0ZW0gPSB0aGlzO1xuICAgICAgICAgICAgcmV0dXJuIGFwRGF0YVNlcnZpY2UuZGVsZXRlQXR0YWNobWVudCh7XG4gICAgICAgICAgICAgICAgbGlzdEl0ZW1JRDogbGlzdEl0ZW0uaWQsXG4gICAgICAgICAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgICAgICAgICAgbGlzdE5hbWU6IGxpc3RJdGVtLmdldE1vZGVsKCkubGlzdC5nZXRMaXN0SWQoKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIExpc3RJdGVtLnJlc29sdmVQZXJtaXNzaW9uc1xuICAgICAgICAgKiBAbWV0aG9kT2YgTGlzdEl0ZW1cbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIFNlZSBhcE1vZGVsU2VydmljZS5yZXNvbHZlUGVybWlzc2lvbnMgZm9yIGRldGFpbHMgb24gd2hhdCB3ZSBleHBlY3QgdG8gaGF2ZSByZXR1cm5lZC5cbiAgICAgICAgICogQHJldHVybnMge09iamVjdH0gQ29udGFpbnMgcHJvcGVydGllcyBmb3IgZWFjaCBwZXJtaXNzaW9uIGxldmVsIGV2YWx1YXRlZCBmb3IgY3VycmVudCB1c2VyLlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiBMZXRzIGFzc3VtZSB3ZSdyZSBjaGVja2luZyB0byBzZWUgaWYgYSB1c2VyIGhhcyBlZGl0IHJpZ2h0cyBmb3IgYSBnaXZlbiB0YXNrIGxpc3QgaXRlbS5cbiAgICAgICAgICogPHByZT5cbiAgICAgICAgICogdmFyIGNhblVzZXJFZGl0ID0gZnVuY3Rpb24odGFzaykge1xuICAgICAgICAgICAgICogICAgICB2YXIgdXNlclBlcm1pc3Npb25zID0gdGFzay5yZXNvbHZlUGVybWlzc2lvbnMoKTtcbiAgICAgICAgICAgICAqICAgICAgcmV0dXJuIHVzZXJQZXJtaXNzaW9ucy5FZGl0TGlzdEl0ZW1zO1xuICAgICAgICAgICAgICogfTtcbiAgICAgICAgICogPC9wcmU+XG4gICAgICAgICAqIEV4YW1wbGUgb2Ygd2hhdCB0aGUgcmV0dXJuZWQgb2JqZWN0IHdvdWxkIGxvb2sgbGlrZVxuICAgICAgICAgKiBmb3IgYSBzaXRlIGFkbWluLlxuICAgICAgICAgKiA8cHJlPlxuICAgICAgICAgKiB1c2VyUGVybWlzc2lvbnMgPSB7XG4gICAgICAgICAgICAgKiAgICBcIlZpZXdMaXN0SXRlbXNcIjogdHJ1ZSxcbiAgICAgICAgICAgICAqICAgIFwiQWRkTGlzdEl0ZW1zXCI6IHRydWUsXG4gICAgICAgICAgICAgKiAgICBcIkVkaXRMaXN0SXRlbXNcIjogdHJ1ZSxcbiAgICAgICAgICAgICAqICAgIFwiRGVsZXRlTGlzdEl0ZW1zXCI6IHRydWUsXG4gICAgICAgICAgICAgKiAgICBcIkFwcHJvdmVJdGVtc1wiOiB0cnVlLFxuICAgICAgICAgICAgICogICAgXCJPcGVuSXRlbXNcIjogdHJ1ZSxcbiAgICAgICAgICAgICAqICAgIFwiVmlld1ZlcnNpb25zXCI6IHRydWUsXG4gICAgICAgICAgICAgKiAgICBcIkRlbGV0ZVZlcnNpb25zXCI6IHRydWUsXG4gICAgICAgICAgICAgKiAgICBcIkNhbmNlbENoZWNrb3V0XCI6IHRydWUsXG4gICAgICAgICAgICAgKiAgICBcIlBlcnNvbmFsVmlld3NcIjogdHJ1ZSxcbiAgICAgICAgICAgICAqICAgIFwiTWFuYWdlTGlzdHNcIjogdHJ1ZSxcbiAgICAgICAgICAgICAqICAgIFwiVmlld0Zvcm1QYWdlc1wiOiB0cnVlLFxuICAgICAgICAgICAgICogICAgXCJPcGVuXCI6IHRydWUsXG4gICAgICAgICAgICAgKiAgICBcIlZpZXdQYWdlc1wiOiB0cnVlLFxuICAgICAgICAgICAgICogICAgXCJBZGRBbmRDdXN0b21pemVQYWdlc1wiOiB0cnVlLFxuICAgICAgICAgICAgICogICAgXCJBcHBseVRoZW1lQW5kQm9yZGVyXCI6IHRydWUsXG4gICAgICAgICAgICAgKiAgICBcIkFwcGx5U3R5bGVTaGVldHNcIjogdHJ1ZSxcbiAgICAgICAgICAgICAqICAgIFwiVmlld1VzYWdlRGF0YVwiOiB0cnVlLFxuICAgICAgICAgICAgICogICAgXCJDcmVhdGVTU0NTaXRlXCI6IHRydWUsXG4gICAgICAgICAgICAgKiAgICBcIk1hbmFnZVN1YndlYnNcIjogdHJ1ZSxcbiAgICAgICAgICAgICAqICAgIFwiQ3JlYXRlR3JvdXBzXCI6IHRydWUsXG4gICAgICAgICAgICAgKiAgICBcIk1hbmFnZVBlcm1pc3Npb25zXCI6IHRydWUsXG4gICAgICAgICAgICAgKiAgICBcIkJyb3dzZURpcmVjdG9yaWVzXCI6IHRydWUsXG4gICAgICAgICAgICAgKiAgICBcIkJyb3dzZVVzZXJJbmZvXCI6IHRydWUsXG4gICAgICAgICAgICAgKiAgICBcIkFkZERlbFByaXZhdGVXZWJQYXJ0c1wiOiB0cnVlLFxuICAgICAgICAgICAgICogICAgXCJVcGRhdGVQZXJzb25hbFdlYlBhcnRzXCI6IHRydWUsXG4gICAgICAgICAgICAgKiAgICBcIk1hbmFnZVdlYlwiOiB0cnVlLFxuICAgICAgICAgICAgICogICAgXCJVc2VSZW1vdGVBUElzXCI6IHRydWUsXG4gICAgICAgICAgICAgKiAgICBcIk1hbmFnZUFsZXJ0c1wiOiB0cnVlLFxuICAgICAgICAgICAgICogICAgXCJDcmVhdGVBbGVydHNcIjogdHJ1ZSxcbiAgICAgICAgICAgICAqICAgIFwiRWRpdE15VXNlckluZm9cIjogdHJ1ZSxcbiAgICAgICAgICAgICAqICAgIFwiRW51bWVyYXRlUGVybWlzc2lvbnNcIjogdHJ1ZSxcbiAgICAgICAgICAgICAqICAgIFwiRnVsbE1hc2tcIjogdHJ1ZVxuICAgICAgICAgICAgICogfVxuICAgICAgICAgKiA8L3ByZT5cbiAgICAgICAgICovXG4gICAgICAgIHJlc29sdmVQZXJtaXNzaW9ucygpOiBJVXNlclBlcm1pc3Npb25zT2JqZWN0IHtcbiAgICAgICAgICAgIHJldHVybiBhcFV0aWxpdHlTZXJ2aWNlLnJlc29sdmVQZXJtaXNzaW9ucyh0aGlzLnBlcm1NYXNrKTtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBMaXN0SXRlbS5nZXRGaWVsZFZlcnNpb25IaXN0b3J5XG4gICAgICAgICAqIEBtZXRob2RPZiBMaXN0SXRlbVxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogVGFrZXMgYW4gYXJyYXkgb2YgZmllbGQgbmFtZXMsIGZpbmRzIHRoZSB2ZXJzaW9uIGhpc3RvcnkgZm9yIGZpZWxkLCBhbmQgcmV0dXJucyBhIHNuYXBzaG90IG9mIHRoZSBvYmplY3QgYXQgZWFjaFxuICAgICAgICAgKiB2ZXJzaW9uLiAgSWYgbm8gZmllbGRzIGFyZSBwcm92aWRlZCwgd2UgbG9vayBhdCB0aGUgZmllbGQgZGVmaW5pdGlvbnMgaW4gdGhlIG1vZGVsIGFuZCBwdWxsIGFsbCBub24tcmVhZG9ubHlcbiAgICAgICAgICogZmllbGRzLiAgVGhlIG9ubHkgd2F5IHRvIGRvIHRoaXMgdGhhdCBJJ3ZlIGJlZW4gYWJsZSB0byBnZXQgd29ya2luZyBpcyB0byBnZXQgdGhlIHZlcnNpb24gaGlzdG9yeSBmb3IgZWFjaFxuICAgICAgICAgKiBmaWVsZCBpbmRlcGVuZGVudGx5IGFuZCB0aGVuIGJ1aWxkIHRoZSBoaXN0b3J5IGJ5IGNvbWJpbmluZyB0aGUgc2VydmVyIHJlc3BvbnNlcyBmb3IgZWFjaCByZXF1ZXN0cyBpbnRvIGFcbiAgICAgICAgICogc25hcHNob3Qgb2YgdGhlIG9iamVjdC5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmdbXX0gW2ZpZWxkTmFtZXNdIEFuIGFycmF5IG9mIGZpZWxkIG5hbWVzIHRoYXQgd2UncmUgaW50ZXJlc3RlZCBpbi5cbiAgICAgICAgICogQHJldHVybnMge29iamVjdH0gcHJvbWlzZSAtIGNvbnRhaW5pbmcgYXJyYXkgb2YgY2hhbmdlc1xuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiBBc3N1bWluZyB3ZSBoYXZlIGEgbW9kYWwgZm9ybSB3aGVyZSB3ZSB3YW50IHRvIGRpc3BsYXkgZWFjaCB2ZXJzaW9uIG9mIHRoZSB0aXRsZSBhbmQgcHJvamVjdCBmaWVsZHNcbiAgICAgICAgICogb2YgYSBnaXZlbiBsaXN0IGl0ZW0uXG4gICAgICAgICAqIDxwcmU+XG4gICAgICAgICAqIG15R2VuZXJpY0xpc3RJdGVtLmdldEZpZWxkVmVyc2lvbkhpc3RvcnkoWyd0aXRsZScsICdwcm9qZWN0J10pXG4gICAgICAgICAqICAgICAudGhlbihmdW5jdGlvbih2ZXJzaW9uSGlzdG9yeSkge1xuICAgICAgICAgICAgICogICAgICAgICAgICAvLyBXZSBub3cgaGF2ZSBhbiBhcnJheSBvZiBldmVyeSB2ZXJzaW9uIG9mIHRoZXNlIGZpZWxkc1xuICAgICAgICAgICAgICogICAgICAgICAgICAkc2NvcGUudmVyc2lvbkhpc3RvcnkgPSB2ZXJzaW9uSGlzdG9yeTtcbiAgICAgICAgICAgICAqICAgICAgfTtcbiAgICAgICAgICogPC9wcmU+XG4gICAgICAgICAqL1xuICAgICAgICBnZXRGaWVsZFZlcnNpb25IaXN0b3J5KGZpZWxkTmFtZXM6IHN0cmluZ1tdKTogbmcuSVByb21pc2U8SUxpc3RJdGVtVmVyc2lvbltdPiB7XG4gICAgICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuICAgICAgICAgICAgdmFyIHByb21pc2VBcnJheSA9IFtdO1xuICAgICAgICAgICAgdmFyIGxpc3RJdGVtID0gdGhpcztcbiAgICAgICAgICAgIHZhciBtb2RlbCA9IGxpc3RJdGVtLmdldE1vZGVsKCk7XG5cbiAgICAgICAgICAgIC8qKiBDb25zdHJ1Y3RvciB0aGF0IGNyZWF0ZXMgYSBwcm9taXNlIGZvciBlYWNoIGZpZWxkICovXG4gICAgICAgICAgICB2YXIgY3JlYXRlUHJvbWlzZSA9IChmaWVsZE5hbWUpID0+IHtcblxuICAgICAgICAgICAgICAgIHZhciBmaWVsZERlZmluaXRpb24gPSBfLmZpbmQobW9kZWwubGlzdC5maWVsZHMsIHttYXBwZWROYW1lOiBmaWVsZE5hbWV9KTtcblxuICAgICAgICAgICAgICAgIHZhciBwYXlsb2FkID0ge1xuICAgICAgICAgICAgICAgICAgICBvcGVyYXRpb246ICdHZXRWZXJzaW9uQ29sbGVjdGlvbicsXG4gICAgICAgICAgICAgICAgICAgIHN0cmxpc3RJRDogbW9kZWwubGlzdC5nZXRMaXN0SWQoKSxcbiAgICAgICAgICAgICAgICAgICAgc3RybGlzdEl0ZW1JRDogbGlzdEl0ZW0uaWQsXG4gICAgICAgICAgICAgICAgICAgIHN0ckZpZWxkTmFtZTogZmllbGREZWZpbml0aW9uLnN0YXRpY05hbWUsXG4gICAgICAgICAgICAgICAgICAgIHdlYlVSTDogdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKiBNYW51YWxseSBzZXQgc2l0ZSB1cmwgaWYgZGVmaW5lZCwgcHJldmVudHMgU1BTZXJ2aWNlcyBmcm9tIG1ha2luZyBhIGJsb2NraW5nIGNhbGwgdG8gZmV0Y2ggaXQuICovXG4gICAgICAgICAgICAgICAgaWYgKGFwQ29uZmlnLmRlZmF1bHRVcmwpIHtcbiAgICAgICAgICAgICAgICAgICAgcGF5bG9hZC53ZWJVUkwgPSBhcENvbmZpZy5kZWZhdWx0VXJsO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHByb21pc2VBcnJheS5wdXNoKGFwRGF0YVNlcnZpY2UuZ2V0RmllbGRWZXJzaW9uSGlzdG9yeShwYXlsb2FkLCBmaWVsZERlZmluaXRpb24pKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGlmICghZmllbGROYW1lcykge1xuICAgICAgICAgICAgICAgIC8qKiBJZiBmaWVsZHMgYXJlbid0IHByb3ZpZGVkLCBwdWxsIHRoZSB2ZXJzaW9uIGhpc3RvcnkgZm9yIGFsbCBOT04tcmVhZG9ubHkgZmllbGRzICovXG4gICAgICAgICAgICAgICAgdmFyIHRhcmdldEZpZWxkcyA9IF8ud2hlcmUobW9kZWwubGlzdC5maWVsZHMsIHtyZWFkT25seTogZmFsc2V9KTtcbiAgICAgICAgICAgICAgICBmaWVsZE5hbWVzID0gW107XG4gICAgICAgICAgICAgICAgXy5lYWNoKHRhcmdldEZpZWxkcywgKGZpZWxkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGZpZWxkTmFtZXMucHVzaChmaWVsZC5tYXBwZWROYW1lKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoXy5pc1N0cmluZyhmaWVsZE5hbWVzKSkge1xuICAgICAgICAgICAgICAgIC8qKiBJZiBhIHNpbmdsZSBmaWVsZCBuYW1lIGlzIHByb3ZpZGVkLCBhZGQgaXQgdG8gYW4gYXJyYXkgc28gd2UgY2FuIHByb2Nlc3MgaXQgbW9yZSBlYXNpbHkgKi9cbiAgICAgICAgICAgICAgICBmaWVsZE5hbWVzID0gW2ZpZWxkTmFtZXNdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvKiogR2VuZXJhdGUgcHJvbWlzZXMgZm9yIGVhY2ggZmllbGQgKi9cbiAgICAgICAgICAgIF8uZWFjaChmaWVsZE5hbWVzLCAoZmllbGROYW1lKSA9PiB7XG4gICAgICAgICAgICAgICAgY3JlYXRlUHJvbWlzZShmaWVsZE5hbWUpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8qKiBQYXVzZSB1bnRpbCBhbGwgcmVxdWVzdHMgYXJlIHJlc29sdmVkICovXG4gICAgICAgICAgICAkcS5hbGwocHJvbWlzZUFycmF5KS50aGVuKCAoY2hhbmdlcykgPT4ge1xuICAgICAgICAgICAgICAgIHZhciB2ZXJzaW9uSGlzdG9yeSA9IHt9O1xuXG4gICAgICAgICAgICAgICAgLyoqIEFsbCBmaWVsZHMgc2hvdWxkIGhhdmUgdGhlIHNhbWUgbnVtYmVyIG9mIHZlcnNpb25zICovXG4gICAgICAgICAgICAgICAgXy5lYWNoKGNoYW5nZXMsIChmaWVsZFZlcnNpb25zKSA9PiB7XG5cbiAgICAgICAgICAgICAgICAgICAgXy5lYWNoKGZpZWxkVmVyc2lvbnMsIChmaWVsZFZlcnNpb24pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlcnNpb25IaXN0b3J5W2ZpZWxkVmVyc2lvbi5tb2RpZmllZC50b0pTT04oKV0gPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZlcnNpb25IaXN0b3J5W2ZpZWxkVmVyc2lvbi5tb2RpZmllZC50b0pTT04oKV0gfHwge307XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKiBBZGQgZmllbGQgdG8gdGhlIHZlcnNpb24gaGlzdG9yeSBmb3IgdGhpcyB2ZXJzaW9uICovXG4gICAgICAgICAgICAgICAgICAgICAgICBfLmV4dGVuZCh2ZXJzaW9uSGlzdG9yeVtmaWVsZFZlcnNpb24ubW9kaWZpZWQudG9KU09OKCldLCBmaWVsZFZlcnNpb24pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHZhciB2ZXJzaW9uQXJyYXkgPSBbXTtcbiAgICAgICAgICAgICAgICAvKiogQWRkIGEgdmVyc2lvbiBwcm9wIG9uIGVhY2ggdmVyc2lvbiB0byBpZGVudGlmeSB0aGUgbnVtZXJpYyBzZXF1ZW5jZSAqL1xuICAgICAgICAgICAgICAgIF8uZWFjaCh2ZXJzaW9uSGlzdG9yeSwgKHZlciwgbnVtKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZlci52ZXJzaW9uID0gbnVtO1xuICAgICAgICAgICAgICAgICAgICB2ZXJzaW9uQXJyYXkucHVzaCh2ZXIpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSh2ZXJzaW9uQXJyYXkpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICAvKiogSW4gdGhlIGV2ZW50IHRoYXQgYSBmYWN0b3J5IGlzbid0IHNwZWNpZmllZCwganVzdCB1c2UgYVxuICAgICAqIHN0YW5kYXJkIGNvbnN0cnVjdG9yIHRvIGFsbG93IGl0IHRvIGluaGVyaXQgZnJvbSBMaXN0SXRlbSAqL1xuICAgIGV4cG9ydCBjbGFzcyBTdGFuZGFyZExpc3RJdGVtIHtcbiAgICAgICAgY29uc3RydWN0b3Iob2JqPzogT2JqZWN0KSB7XG4gICAgICAgICAgICBfLmFzc2lnbih0aGlzLCBvYmopO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG9iamVjdFxuICAgICAqIEBuYW1lIGFwTGlzdEl0ZW1GYWN0b3J5XG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogRXhwb3NlcyB0aGUgTGlzdEl0ZW0gcHJvdG90eXBlIGFuZCBhIGNvbnN0cnVjdG9yIHRvIGluc3RhbnRpYXRlIGEgbmV3IExpc3RJdGVtLlxuICAgICAqIFNlZSBbTGlzdEl0ZW1dKCMvYXBpL0xpc3RJdGVtKSBmb3IgZGV0YWlscyBvZiB0aGUgbWV0aG9kcyBhdmFpbGFibGUgb24gdGhlIHByb3RvdHlwZS5cbiAgICAgKlxuICAgICAqIEByZXF1aXJlcyBMaXN0SXRlbVxuICAgICAqIEByZXF1aXJlcyBhcENhY2hlU2VydmljZVxuICAgICAqIEByZXF1aXJlcyBhcERhdGFTZXJ2aWNlXG4gICAgICogQHJlcXVpcmVzIGFwVXRpbGl0eVNlcnZpY2VcbiAgICAgKi9cblxuICAgIGV4cG9ydCBjbGFzcyBMaXN0SXRlbUZhY3Rvcnkge1xuICAgICAgICBMaXN0SXRlbSA9IExpc3RJdGVtO1xuICAgICAgICBjb25zdHJ1Y3RvcigkaW5qZWN0b3IpIHtcbiAgICAgICAgICAgICRxID0gJGluamVjdG9yLmdldChcIiRxXCIpO1xuICAgICAgICAgICAgYXBDYWNoZVNlcnZpY2UgPSAkaW5qZWN0b3IuZ2V0KFwiYXBDYWNoZVNlcnZpY2VcIik7XG4gICAgICAgICAgICBhcENvbmZpZyA9ICRpbmplY3Rvci5nZXQoXCJhcENvbmZpZ1wiKTtcbiAgICAgICAgICAgIGFwRGF0YVNlcnZpY2UgPSAkaW5qZWN0b3IuZ2V0KFwiYXBEYXRhU2VydmljZVwiKTtcbiAgICAgICAgICAgIGFwRW5jb2RlU2VydmljZSA9ICRpbmplY3Rvci5nZXQoXCJhcEVuY29kZVNlcnZpY2VcIik7XG4gICAgICAgICAgICBhcEZvcm1hdHRlZEZpZWxkVmFsdWVTZXJ2aWNlID0gJGluamVjdG9yLmdldChcImFwRm9ybWF0dGVkRmllbGRWYWx1ZVNlcnZpY2VcIik7XG4gICAgICAgICAgICBhcFV0aWxpdHlTZXJ2aWNlID0gJGluamVjdG9yLmdldChcImFwVXRpbGl0eVNlcnZpY2VcIik7XG4gICAgICAgICAgICB0b2FzdHIgPSAkaW5qZWN0b3IuZ2V0KFwidG9hc3RyXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBhcExpc3RJdGVtRmFjdG9yeTogY3JlYXRlXG4gICAgICAgICAqIEBtZXRob2RPZiBhcExpc3RJdGVtRmFjdG9yeVxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogSW5zdGFudGlhdGVzIGFuZCByZXR1cm5zIGEgbmV3IExpc3RJdGVtLlxuICAgICAgICAgKi9cbiAgICAgICAgY3JlYXRlKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBMaXN0SXRlbSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBhcExpc3RJdGVtRmFjdG9yeTogY3JlYXRlR2VuZXJpY0ZhY3RvcnlcbiAgICAgICAgICogQG1ldGhvZE9mIGFwTGlzdEl0ZW1GYWN0b3J5XG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBJbiB0aGUgZXZlbnQgdGhhdCBhIGZhY3RvcnkgaXNuJ3Qgc3BlY2lmaWVkLCBqdXN0IHVzZSBhXG4gICAgICAgICAqIHN0YW5kYXJkIGNvbnN0cnVjdG9yIHRvIGFsbG93IGl0IHRvIGluaGVyaXQgZnJvbSBMaXN0SXRlbVxuICAgICAgICAgKi9cbiAgICAgICAgY3JlYXRlR2VuZXJpY0ZhY3RvcnkoKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFN0YW5kYXJkTGlzdEl0ZW0oKTtcbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdhbmd1bGFyUG9pbnQnKVxuICAgICAgICAuc2VydmljZSgnYXBMaXN0SXRlbUZhY3RvcnknLCBMaXN0SXRlbUZhY3RvcnkpO1xufVxuIiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3MvYXAuZC50c1wiIC8+XG5cbm1vZHVsZSBhcCB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyICRxLCBhcFV0aWxpdHlTZXJ2aWNlO1xuXG4gICAgZXhwb3J0IGludGVyZmFjZSBJTG9va3VwIHtcbiAgICAgICAgbG9va3VwVmFsdWU6IHN0cmluZztcbiAgICAgICAgbG9va3VwSWQ6IG51bWJlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBMb29rdXBcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBBbGxvd3MgZm9yIGVhc2llciBkaXN0aW5jdGlvbiB3aGVuIGRlYnVnZ2luZyBpZiBvYmplY3QgdHlwZSBpcyBzaG93biBhcyBlaXRoZXIgTG9va3VwIG9yIFVzZXIuICBBbHNvIGFsbG93cyB1c1xuICAgICAqIHRvIGNyZWF0ZSBhbiBhc3luYyByZXF1ZXN0IGZvciB0aGUgZW50aXR5IGJlaW5nIHJlZmVyZW5jZWQgYnkgdGhlIGxvb2t1cFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzIFN0cmluZyB0byBzcGxpdCBpbnRvIGxvb2t1cFZhbHVlIGFuZCBsb29rdXBJZFxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIENvbnRhaW5zIGEgcmVmZXJlbmNlIHRvIHRoZSBwYXJlbnQgbGlzdCBpdGVtIGFuZCB0aGUgcHJvcGVydHkgbmFtZS5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucy5lbnRpdHkgUmVmZXJlbmNlIHRvIHBhcmVudCBsaXN0IGl0ZW0uXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMucHJvcGVydHlOYW1lIEtleSBvbiBsaXN0IGl0ZW0gb2JqZWN0LlxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqL1xuICAgIGV4cG9ydCBjbGFzcyBMb29rdXAgaW1wbGVtZW50cyBJTG9va3Vwe1xuICAgICAgICBsb29rdXBJZDpudW1iZXI7XG4gICAgICAgIGxvb2t1cFZhbHVlOnN0cmluZztcblxuICAgICAgICBjb25zdHJ1Y3RvcihzLCBvcHRpb25zKSB7XG4gICAgICAgICAgICB2YXIgbG9va3VwID0gdGhpcztcbiAgICAgICAgICAgIHZhciB0aGlzTG9va3VwID0gbmV3IGFwVXRpbGl0eVNlcnZpY2UuU3BsaXRJbmRleChzKTtcbiAgICAgICAgICAgIGxvb2t1cC5sb29rdXBJZCA9IHRoaXNMb29rdXAuaWQ7XG4gICAgICAgICAgICBsb29rdXAubG9va3VwVmFsdWUgPSB0aGlzTG9va3VwLnZhbHVlIHx8ICcnO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBleHBvcnQgY2xhc3MgTG9va3VwRmFjdG9yeSB7XG4gICAgICAgIExvb2t1cCA9IExvb2t1cDtcbiAgICAgICAgY29uc3RydWN0b3IoJGluamVjdG9yKSB7XG4gICAgICAgICAgICAkcSA9ICRpbmplY3Rvci5nZXQoJyRxJyk7XG4gICAgICAgICAgICBhcFV0aWxpdHlTZXJ2aWNlID0gJGluamVjdG9yLmdldCgnYXBVdGlsaXR5U2VydmljZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBMb29rdXBGYWN0b3J5OmNyZWF0ZVxuICAgICAgICAgKiBAbWV0aG9kT2YgYW5ndWxhclBvaW50LmFwTG9va3VwRmFjdG9yeVxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogSW5zdGFudGlhdGVzIGFuZCByZXR1cm5zIGEgbmV3IExvb2t1cCBmaWVsZC5cbiAgICAgICAgICovXG4gICAgICAgIGNyZWF0ZShzLCBvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IExvb2t1cChzLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcExvb2t1cEZhY3RvcnlcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBUb29scyB0byBhc3Npc3Qgd2l0aCB0aGUgY3JlYXRpb24gb2YgQ0FNTCBxdWVyaWVzLlxuICAgICAqXG4gICAgICovXG4gICAgYW5ndWxhci5tb2R1bGUoJ2FuZ3VsYXJQb2ludCcpXG4gICAgICAgIC5zZXJ2aWNlKCdhcExvb2t1cEZhY3RvcnknLCBMb29rdXBGYWN0b3J5KTtcblxuXG59XG4iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy9hcC5kLnRzXCIgLz5cblxubW9kdWxlIGFwIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgYXBDYWNoZVNlcnZpY2UsIGFwRGF0YVNlcnZpY2UsIGFwTGlzdEZhY3RvcnksIExpc3RJdGVtRmFjdG9yeSxcbiAgICAgICAgYXBRdWVyeUZhY3RvcnksIGFwVXRpbGl0eVNlcnZpY2UsIGFwRmllbGRTZXJ2aWNlLCBhcENvbmZpZyxcbiAgICAgICAgYXBJbmRleGVkQ2FjaGVGYWN0b3J5LCBhcERlY29kZVNlcnZpY2UsICRxLCB0b2FzdHI7XG5cbiAgICBleHBvcnQgaW50ZXJmYWNlIElNb2RlbCB7XG4gICAgICAgIGFkZE5ld0l0ZW0oZW50aXR5OiBPYmplY3QsIG9wdGlvbnM/OiBPYmplY3QpOiBuZy5JUHJvbWlzZTxJTGlzdEl0ZW0+O1xuICAgICAgICBjcmVhdGVFbXB0eUl0ZW0ob3ZlcnJpZGVzPzogT2JqZWN0KTogSUxpc3RJdGVtO1xuICAgICAgICBkZWZlcnJlZExpc3REZWZpbml0aW9uOm5nLklQcm9taXNlPE9iamVjdD47XG4gICAgICAgIGV4ZWN1dGVRdWVyeTxUPihxdWVyeU5hbWU/OiBzdHJpbmcsIG9wdGlvbnM/OiBPYmplY3QpOiBuZy5JUHJvbWlzZTxJbmRleGVkQ2FjaGU8VD4+O1xuICAgICAgICBleHRlbmRMaXN0TWV0YWRhdGEob3B0aW9ucz86IE9iamVjdCk6IG5nLklQcm9taXNlPGFueT47XG4gICAgICAgIGZhY3Rvcnk8VD4ob2JqOiBPYmplY3QpOiBUO1xuICAgICAgICBnZW5lcmF0ZU1vY2tEYXRhKG9wdGlvbnM/OiBPYmplY3QpOiBJTGlzdEl0ZW1bXTtcbiAgICAgICAgZ2V0QWxsTGlzdEl0ZW1zPFQ+KCk6IG5nLklQcm9taXNlPEluZGV4ZWRDYWNoZTxUPj47XG4gICAgICAgIGdldENhY2hlKHF1ZXJ5TmFtZT86IHN0cmluZyk6IElDYWNoZTtcbiAgICAgICAgZ2V0Q2FjaGVkRW50aXRpZXM8VD4oKTogSUluZGV4ZWRDYWNoZTxUPjtcbiAgICAgICAgZ2V0Q2FjaGVkRW50aXR5KGVudGl0eUlkOiBudW1iZXIpOiBJTGlzdEl0ZW07XG4gICAgICAgIGdldEZpZWxkRGVmaW5pdGlvbihmaWVsZE5hbWU6IHN0cmluZyk6IElGaWVsZERlZmluaXRpb247XG4gICAgICAgIGdldExpc3QoKTogSUxpc3Q7XG4gICAgICAgIGdldExpc3RJZCgpOiBzdHJpbmc7XG4gICAgICAgIGdldExpc3RJdGVtQnlJZChlbnRpdHlJZDogbnVtYmVyLCBvcHRpb25zPzogT2JqZWN0KTogbmcuSVByb21pc2U8SUxpc3RJdGVtPjtcbiAgICAgICAgZ2V0TW9kZWwoKTogSU1vZGVsO1xuICAgICAgICBnZXRRdWVyeShxdWVyeU5hbWU6IHN0cmluZyk6IElRdWVyeTtcbiAgICAgICAgaXNJbml0aWFsaXNlZCgpOiBib29sZWFuO1xuICAgICAgICBsYXN0U2VydmVyVXBkYXRlOiBEYXRlO1xuICAgICAgICBsaXN0OiBJTGlzdDtcbiAgICAgICAgcXVlcmllczoge2dldEFsbExpc3RJdGVtczogSVF1ZXJ5OyBba2V5OiBzdHJpbmddOiBJUXVlcnl9O1xuICAgICAgICByZWdpc3RlclF1ZXJ5KHF1ZXJ5T3B0aW9uczogSVF1ZXJ5T3B0aW9ucyk6IElRdWVyeTtcbiAgICAgICAgcmVzb2x2ZVBlcm1pc3Npb25zKCk6IElVc2VyUGVybWlzc2lvbnNPYmplY3Q7XG4gICAgICAgIHZhbGlkYXRlRW50aXR5KGVudGl0eTogSUxpc3RJdGVtLCBvcHRpb25zPzogT2JqZWN0KTogYm9vbGVhbjtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIE1vZGVsXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogTW9kZWwgQ29uc3RydWN0b3JcbiAgICAgKiBQcm92aWRlcyB0aGUgRm9sbG93aW5nXG4gICAgICogLSBhZGRzIGFuIGVtcHR5IFwiZGF0YVwiIGFycmF5XG4gICAgICogLSBhZGRzIGFuIGVtcHR5IFwicXVlcmllc1wiIG9iamVjdFxuICAgICAqIC0gYWRkcyBhIGRlZmVycmVkIG9iaiBcInJlYWR5XCJcbiAgICAgKiAtIGJ1aWxkcyBcIm1vZGVsLmxpc3RcIiB3aXRoIGNvbnN0cnVjdG9yXG4gICAgICogLSBhZGRzIFwiZ2V0QWxsTGlzdEl0ZW1zXCIgZnVuY3Rpb25cbiAgICAgKiAtIGFkZHMgXCJhZGROZXdJdGVtXCIgZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gY29uZmlnIE9iamVjdCBjb250YWluaW5nIG9wdGlvbmFsIHBhcmFtcy5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW2NvbmZpZy5mYWN0b3J5ID0gYXBMaXN0SXRlbUZhY3RvcnkuY3JlYXRlR2VuZXJpY0ZhY3RvcnkoKV0gLSBDb25zdHJ1Y3RvciBmdW5jdGlvbiBmb3JcbiAgICAgKiBpbmRpdmlkdWFsIGxpc3QgaXRlbXMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbY29uZmlnLmZpZWxkRGVmaW5pdGlvbnNFeHRlbmRlZD1mYWxzZV0gUXVlcmllcyB1c2luZyB0aGUgR2V0TGlzdEl0ZW1DaGFuZ2VzU2luY2VUb2tlblxuICAgICAqIG9wZXJhdGlvbiByZXR1cm4gdGhlIGZ1bGwgbGlzdCBkZWZpbml0aW9uIGFsb25nIHdpdGggdGhlIHJlcXVlc3RlZCBlbnRpdGllcy4gIFRoZSBmaXJzdCB0aW1lIG9uZSBvZiB0aGVzZVxuICAgICAqIHF1ZXJpZXMgaXMgZXhlY3V0ZWQgd2Ugd2lsbCB0cnkgdG8gZXh0ZW5kIG91ciBmaWVsZCBkZWZpbml0aW9ucyBkZWZpbmVkIGluIHRoZSBtb2RlbCB3aXRoIHRoZSBhZGRpdGlvbmFsXG4gICAgICogaW5mb3JtYXRpb24gcHJvdmlkZWQgZnJvbSB0aGUgc2VydmVyLiAgRXhhbXBsZXMgYXJlIG9wdGlvbnMgZm9yIGEgQ2hvaWNlIGZpZWxkLCBkaXNwbGF5IG5hbWUgb2YgdGhlIGZpZWxkLFxuICAgICAqIGZpZWxkIGRlc2NyaXB0aW9uLCBhbmQgYW55IG90aGVyIGZpZWxkIGluZm9ybWF0aW9uIHByb3ZpZGVkIGZvciB0aGUgZmllbGRzIHNwZWNpZmllZCBpbiB0aGUgbW9kZWwuICBUaGlzXG4gICAgICogZmxhZyBpcyBzZXQgb25jZSB0aGUgZmlyc3QgcXVlcnkgaXMgY29tcGxldGUgc28gd2UgZG9uJ3QgcHJvY2VzcyBhZ2Fpbi5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gY29uZmlnLmxpc3QgLSBEZWZpbml0aW9uIG9mIHRoZSBsaXN0IGluIFNoYXJlUG9pbnQuXG4gICAgICogYmUgcGFzc2VkIHRvIHRoZSBsaXN0IGNvbnN0cnVjdG9yIHRvIGV4dGVuZCBmdXJ0aGVyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbmZpZy5saXN0LnRpdGxlIC0gTGlzdCBuYW1lLCBubyBzcGFjZXMuICBPZmZsaW5lIFhNTCBmaWxlIHdpbGwgbmVlZCB0byBiZVxuICAgICAqIG5hbWVkIHRoZSBzYW1lIChleDogQ3VzdG9tTGlzdCBzbyB4bWwgZmlsZSB3b3VsZCBiZSBhcENvbmZpZy5vZmZsaW5lWE1MICsgJy9DdXN0b21MaXN0LnhtbCcpXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbmZpZy5saXN0LmdldExpc3RJZCgpIC0gVW5pcXVlIFNoYXJlUG9pbnQgSUQgKGV4OiAnezNEQkVCMjVBLUJFRjAtNDIxMy1BNjM0LTAwREFGNDZFMzg5N30nKVxuICAgICAqIEBwYXJhbSB7b2JqZWN0W119IGNvbmZpZy5saXN0LmN1c3RvbUZpZWxkcyAtIE1hcHMgU2hhcmVQb2ludCBmaWVsZHMgd2l0aCBuYW1lcyB3ZSdsbCB1c2Ugd2l0aGluIHRoZVxuICAgICAqIGFwcGxpY2F0aW9uLiAgSWRlbnRpZmllcyBmaWVsZCB0eXBlcyBhbmQgZm9ybWF0cyBhY2NvcmRpbmdseS4gIEFsc28gZGVub3RlcyBpZiBhIGZpZWxkIGlzIHJlYWQgb25seS5cbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogPHByZT5cbiAgICAgKiAvL1Rha2VuIGZyb20gYSBmaWN0aXRpb3VzIHByb2plY3RzTW9kZWwuanNcbiAgICAgKiB2YXIgbW9kZWwgPSBuZXcgYXBNb2RlbEZhY3RvcnkuTW9kZWwoe1xuICAgICogICAgIGZhY3Rvcnk6IFByb2plY3QsXG4gICAgKiAgICAgbGlzdDoge1xuICAgICogICAgICAgICBndWlkOiAne1BST0pFQ1QgTElTVCBHVUlEfScsXG4gICAgKiAgICAgICAgIHRpdGxlOiAnUHJvamVjdHMnLFxuICAgICogICAgICAgICBjdXN0b21GaWVsZHM6IFtcbiAgICAgICAgKiAgICAgICAgICAgICB7XG4gICAgICAgICogICAgICAgICAgICAgICAgc3RhdGljTmFtZTogJ1RpdGxlJyxcbiAgICAqICAgICAgICAgICAgICAgIG9iamVjdFR5cGU6ICdUZXh0JyxcbiAgICAqICAgICAgICAgICAgICAgIG1hcHBlZE5hbWU6ICd0aXRsZScsXG4gICAgKiAgICAgICAgICAgICAgICByZWFkT25seTogZmFsc2VcbiAgICAgICAgKiAgICAgICAgICAgICB9LFxuICAgICogICAgICAgICAgICAge1xuICAgICogICAgICAgICAgICAgICAgc3RhdGljTmFtZTogJ0N1c3RvbWVyJyxcbiAgICAqICAgICAgICAgICAgICAgIG9iamVjdFR5cGU6ICdMb29rdXAnLFxuICAgICogICAgICAgICAgICAgICAgbWFwcGVkTmFtZTogJ2N1c3RvbWVyJyxcbiAgICAqICAgICAgICAgICAgICAgIHJlYWRPbmx5OiBmYWxzZVxuICAgICAgICAqICAgICAgICAgICAgIH0sXG4gICAgKiAgICAgICAgICAgICB7XG4gICAgKiAgICAgICAgICAgICAgICBzdGF0aWNOYW1lOiAnUHJvamVjdERlc2NyaXB0aW9uJyxcbiAgICAqICAgICAgICAgICAgICAgIG9iamVjdFR5cGU6ICdUZXh0JyxcbiAgICAqICAgICAgICAgICAgICAgIG1hcHBlZE5hbWU6ICdwcm9qZWN0RGVzY3JpcHRpb24nLFxuICAgICogICAgICAgICAgICAgICAgcmVhZE9ubHk6IGZhbHNlXG4gICAgICAgICogICAgICAgICAgICAgfSxcbiAgICAqICAgICAgICAgICAgIHtcbiAgICAqICAgICAgICAgICAgICAgIHN0YXRpY05hbWU6ICdTdGF0dXMnLFxuICAgICogICAgICAgICAgICAgICAgb2JqZWN0VHlwZTogJ1RleHQnLFxuICAgICogICAgICAgICAgICAgICAgbWFwcGVkTmFtZTogJ3N0YXR1cycsXG4gICAgKiAgICAgICAgICAgICAgICByZWFkT25seTogZmFsc2VcbiAgICAgICAgKiAgICAgICAgICAgICB9LFxuICAgICogICAgICAgICAgICAge1xuICAgICogICAgICAgICAgICAgICAgc3RhdGljTmFtZTogJ1Rhc2tNYW5hZ2VyJyxcbiAgICAqICAgICAgICAgICAgICAgIG9iamVjdFR5cGU6ICdVc2VyJyxcbiAgICAqICAgICAgICAgICAgICAgIG1hcHBlZE5hbWU6ICd0YXNrTWFuYWdlcicsXG4gICAgKiAgICAgICAgICAgICAgICByZWFkT25seTogZmFsc2VcbiAgICAgICAgKiAgICAgICAgICAgICB9LFxuICAgICogICAgICAgICAgICAge1xuICAgICogICAgICAgICAgICAgICAgc3RhdGljTmFtZTogJ1Byb2plY3RHcm91cCcsXG4gICAgKiAgICAgICAgICAgICAgICBvYmplY3RUeXBlOiAnTG9va3VwJyxcbiAgICAqICAgICAgICAgICAgICAgIG1hcHBlZE5hbWU6ICdncm91cCcsXG4gICAgKiAgICAgICAgICAgICAgICByZWFkT25seTogZmFsc2VcbiAgICAgICAgKiAgICAgICAgICAgICB9LFxuICAgICogICAgICAgICAgICAge1xuICAgICogICAgICAgICAgICAgICAgc3RhdGljTmFtZTogJ0Nvc3RFc3RpbWF0ZScsXG4gICAgKiAgICAgICAgICAgICAgICBvYmplY3RUeXBlOiAnQ3VycmVuY3knLFxuICAgICogICAgICAgICAgICAgICAgbWFwcGVkTmFtZTogJ2Nvc3RFc3RpbWF0ZScsXG4gICAgKiAgICAgICAgICAgICAgICByZWFkT25seTogZmFsc2VcbiAgICAgICAgKiAgICAgICAgICAgICB9LFxuICAgICogICAgICAgICAgICAge1xuICAgICogICAgICAgICAgICAgICAgc3RhdGljTmFtZTogJ0FjdGl2ZScsXG4gICAgKiAgICAgICAgICAgICAgICBvYmplY3RUeXBlOiAnQm9vbGVhbicsXG4gICAgKiAgICAgICAgICAgICAgICBtYXBwZWROYW1lOiAnYWN0aXZlJyxcbiAgICAqICAgICAgICAgICAgICAgIHJlYWRPbmx5OiBmYWxzZVxuICAgICAgICAqICAgICAgICAgICAgIH0sXG4gICAgKiAgICAgICAgICAgICB7XG4gICAgKiAgICAgICAgICAgICAgICBzdGF0aWNOYW1lOiAnQXR0YWNobWVudHMnLFxuICAgICogICAgICAgICAgICAgICAgb2JqZWN0VHlwZTogJ0F0dGFjaG1lbnRzJyxcbiAgICAqICAgICAgICAgICAgICAgIG1hcHBlZE5hbWU6ICdhdHRhY2htZW50cycsXG4gICAgKiAgICAgICAgICAgICAgICByZWFkT25seTogdHJ1ZVxuICAgICAgICAqICAgICAgICAgICAgIH1cbiAgICAqICAgICAgICAgXVxuICAgICogICAgIH1cbiAgICAqIH0pO1xuICAgICAqIDwvcHJlPlxuICAgICAqL1xuXG4gICAgaW50ZXJmYWNlIFF1ZXJpZXNDb250YWluZXJ7XG4gICAgICAgIGdldEFsbExpc3RJdGVtcz86IElRdWVyeTtcbiAgICAgICAgW2tleTogc3RyaW5nXTogSVF1ZXJ5XG4gICAgfVxuXG4gICAgZXhwb3J0IGNsYXNzIE1vZGVsIGltcGxlbWVudHMgSU1vZGVsIHtcbiAgICAgICAgZGF0YSA9IFtdO1xuICAgICAgICBkZWZlcnJlZExpc3REZWZpbml0aW9uO1xuICAgICAgICBsaXN0OiBJTGlzdDtcbiAgICAgICAgZmFjdG9yeTxUPihvYmopOiBUO1xuICAgICAgICBmaWVsZERlZmluaXRpb25zRXh0ZW5kZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgLyoqIERhdGUvVGltZSBvZiBsYXN0IGNvbW11bmljYXRpb24gd2l0aCBzZXJ2ZXIgKi9cbiAgICAgICAgbGFzdFNlcnZlclVwZGF0ZTogRGF0ZTtcbiAgICAgICAgcXVlcmllczogUXVlcmllc0NvbnRhaW5lciA9IHt9O1xuICAgICAgICByZXF1ZXN0Rm9yRmllbGREZWZpbml0aW9ucztcbiAgICAgICAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgICAgICAgICB2YXIgbW9kZWwgPSB0aGlzO1xuXG4gICAgICAgICAgICBfLmFzc2lnbihtb2RlbCwgY29uZmlnKTtcblxuICAgICAgICAgICAgbW9kZWwuZmFjdG9yeS5wcm90b3R5cGUuZ2V0TW9kZWwgPSAoKSA9PiB0aGlzO1xuXG4gICAgICAgICAgICAvKiogVXNlIGxpc3QgY29uc3RydWN0b3IgdG8gZGVjb3JhdGUgKi9cbiAgICAgICAgICAgIG1vZGVsLmxpc3QgPSBhcExpc3RGYWN0b3J5LmNyZWF0ZShtb2RlbC5saXN0KTtcblxuICAgICAgICAgICAgLyoqIFJlZ2lzdGVyIGNhY2hlIG5hbWUgd2l0aCBjYWNoZSBzZXJ2aWNlIHNvIHdlIGNhbiBtYXAgZmFjdG9yeSBuYW1lIHdpdGggbGlzdCBHVUlEICovXG4gICAgICAgICAgICBhcENhY2hlU2VydmljZS5yZWdpc3Rlck1vZGVsKG1vZGVsKTtcblxuICAgICAgICAgICAgLyoqIENvbnZlbmllbmNlIHF1ZXJ5IHRoYXQgc2ltcGx5IHJldHVybnMgYWxsIGxpc3QgaXRlbXMgd2l0aGluIGEgbGlzdC4gKi9cbiAgICAgICAgICAgIG1vZGVsLnJlZ2lzdGVyUXVlcnkoe1xuICAgICAgICAgICAgICAgIG5hbWU6ICdnZXRBbGxMaXN0SXRlbXMnLFxuICAgICAgICAgICAgICAgIG9wZXJhdGlvbjogJ0dldExpc3RJdGVtcydcbiAgICAgICAgICAgIH0pO1xuXG5cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAgICogQG5hbWUgTGlzdEl0ZW0uZ2V0TW9kZWxcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIEFsbG93cyB1cyB0byByZWZlcmVuY2UgdGhlIHBhcmVudCBtb2RlbCBkaXJlY3RseSBmcm9tIHRoZSBsaXN0IGl0ZW0uICBUaGlzIGlzIGFkZGVkIHRvIHRoZVxuICAgICAgICAgKiBtb2RlbC5mYWN0b3J5IHByb3RvdHlwZSBpbiBhcE1vZGVsRmFjdG9yeS4gIFNlZSB0aGUgW0xpc3RdKCMvYXBpL0xpc3QpIGRvY3VtZW50YXRpb24gZm9yIG1vcmUgaW5mby5cbiAgICAgICAgICogQHJldHVybnMge29iamVjdH0gTW9kZWwgZm9yIHRoZSBsaXN0IGl0ZW0uXG4gICAgICAgICAqL1xuICAgICAgICBnZXRNb2RlbCgpOiBhcC5Nb2RlbCB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAgICogQG5hbWUgTGlzdEl0ZW0uZ2V0TGlzdElkXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBBbGxvd3MgdXMgdG8gcmVmZXJlbmNlIHRoZSBsaXN0IElEIGRpcmVjdGx5IGZyb20gdGhlIG1vZGVsLlxuICAgICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBMaXN0IElELlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0TGlzdElkKCk6IHN0cmluZyB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5saXN0LmdldExpc3RJZCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBMaXN0SXRlbS5nZXRMaXN0XG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBBbGxvd3MgdXMgdG8gcmVmZXJlbmNlIHRoZSBsaXN0IGRlZmluaXRpb24gZGlyZWN0bHkgZnJvbSB0aGUgbGlzdCBpdGVtLiAgVGhpcyBpcyBhZGRlZCB0byB0aGVcbiAgICAgICAgICogbW9kZWwuZmFjdG9yeSBwcm90b3R5cGUgaW4gYXBNb2RlbEZhY3RvcnkuICBTZWUgdGhlIFtMaXN0XSgjL2FwaS9MaXN0KSBkb2N1bWVudGF0aW9uIGZvciBtb3JlIGluZm8uXG4gICAgICAgICAqIEByZXR1cm5zIHtvYmplY3R9IExpc3QgZm9yIHRoZSBsaXN0IGl0ZW0uXG4gICAgICAgICAqL1xuICAgICAgICBnZXRMaXN0KCk6IGFwLklMaXN0IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxpc3Q7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIE1vZGVsLmFkZE5ld0l0ZW1cbiAgICAgICAgICogQG1vZHVsZSBNb2RlbFxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogVXNpbmcgdGhlIGRlZmluaXRpb24gb2YgYSBsaXN0IHN0b3JlZCBpbiBhIG1vZGVsLCBjcmVhdGUgYSBuZXcgbGlzdCBpdGVtIGluIFNoYXJlUG9pbnQuXG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBlbnRpdHkgQW4gb2JqZWN0IHRoYXQgd2lsbCBiZSBjb252ZXJ0ZWQgaW50byBrZXkvdmFsdWUgcGFpcnMgYmFzZWQgb24gdGhlIGZpZWxkIGRlZmluaXRpb25zXG4gICAgICAgICAqIGRlZmluZWQgaW4gdGhlIG1vZGVsLlxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gUGFzcyBhZGRpdGlvbmFsIG9wdGlvbnMgdG8gdGhlIGRhdGEgc2VydmljZS5cbiAgICAgICAgICogQHJldHVybnMge29iamVjdH0gQSBwcm9taXNlIHdoaWNoIHdoZW4gcmVzb2x2ZWQgd2lsbCByZXR1cm5lZCB0aGUgbmV3bHkgY3JlYXRlZCBsaXN0IGl0ZW0gZnJvbSB0aGVyZSBzZXJ2ZXIuXG4gICAgICAgICAqIFRoaXMgYWxsb3dzIHVzIHRvIHVwZGF0ZSB0aGUgdmlldyB3aXRoIGEgdmFsaWQgbmV3IG9iamVjdCB0aGF0IGNvbnRhaW5zIGEgdW5pcXVlIGxpc3QgaXRlbSBpZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogPHByZT5cbiAgICAgICAgICogPGZpbGUgbmFtZT1cImFwcC9tb2R1bGVzL3Byb2plY3QvcHJvamVjdHNNb2RlbC5qc1wiPlxuICAgICAgICAgKiBwcm9qZWN0TW9kZWwuYWRkTmV3SXRlbSh7XG4gICAgICAgICAgICAgKiAgICAgICAgdGl0bGU6ICdBIFByb2plY3QnLFxuICAgICAgICAgICAgICogICAgICAgIGN1c3RvbWVyOiB7bG9va3VwVmFsdWU6ICdNeSBDdXN0b21lcicsIGxvb2t1cElkOiAxMjN9LFxuICAgICAgICAgICAgICogICAgICAgIGRlc2NyaXB0aW9uOiAnVGhpcyBpcyB0aGUgcHJvamVjdCBkZXNjcmlwdGlvbidcbiAgICAgICAgICAgICAqICAgICB9KS50aGVuKGZ1bmN0aW9uKG5ld0VudGl0eUZyb21TZXJ2ZXIpIHtcbiAgICAgICAgICAgICAqICAgICAgICAgLy9UaGUgbG9jYWwgcXVlcnkgY2FjaGUgaXMgYXV0b21hdGljYWxseSB1cGRhdGVkIGJ1dFxuICAgICAgICAgICAgICogICAgICAgICAvL2FueSBvdGhlciBkZXBlbmRlbnQgbG9naWMgY2FuIGdvIGhlcmVcbiAgICAgICAgICAgICAqIH07XG4gICAgICAgICAqIDwvZmlsZT5cbiAgICAgICAgICogPC9wcmU+XG4gICAgICAgICAqL1xuICAgICAgICBhZGROZXdJdGVtPFQ+KGVudGl0eTogT2JqZWN0LCBvcHRpb25zPzogT2JqZWN0KTogbmcuSVByb21pc2U8VD4ge1xuICAgICAgICAgICAgdmFyIG1vZGVsID0gdGhpcyxcbiAgICAgICAgICAgICAgICBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgICAgICAgIGFwRGF0YVNlcnZpY2UuY3JlYXRlTGlzdEl0ZW0obW9kZWwsIGVudGl0eSwgb3B0aW9ucylcbiAgICAgICAgICAgICAgICAudGhlbiggKGxpc3RJdGVtKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUobGlzdEl0ZW0pO1xuICAgICAgICAgICAgICAgICAgICAvKiogT3B0aW9uYWxseSBicm9hZGNhc3QgY2hhbmdlIGV2ZW50ICovXG4gICAgICAgICAgICAgICAgICAgIGFwVXRpbGl0eVNlcnZpY2UucmVnaXN0ZXJDaGFuZ2UobW9kZWwsICdjcmVhdGUnLCBsaXN0SXRlbS5pZCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAgICogQG5hbWUgTW9kZWwuY3JlYXRlRW1wdHlJdGVtXG4gICAgICAgICAqIEBtb2R1bGUgTW9kZWxcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IHVzaW5nIHRoZSBlZGl0YWJsZSBmaWVsZHMgZnJvbSB0aGUgbW9kZWwsIGFsbCBhdHRyaWJ1dGVzIGFyZSBlbXB0eSBiYXNlZCBvbiB0aGUgZmllbGRcbiAgICAgICAgICogdHlwZSB1bmxlc3MgYW4gb3ZlcnJpZGVzIG9iamVjdCBpcyBwYXNzZWQgaW4uICBUaGUgb3ZlcnJpZGVzIG9iamVjdCBleHRlbmRzIHRoZSBkZWZhdWx0cy4gIEEgYmVuZWZpdCB0byB0aGlzXG4gICAgICAgICAqIGFwcHJvYWNoIGlzIHRoZSByZXR1cm5lZCBvYmplY3QgaW5oZXJpdHMgZnJvbSB0aGUgTGlzdEl0ZW0gcHJvdG90eXBlIHNvIHdlIGhhdmUgdGhlIGFiaWxpdHkgdG8gY2FsbFxuICAgICAgICAgKiBlbnRpdHkuc2F2ZUNoYW5nZXMgaW5zdGVhZCBvZiBjYWxsaW5nIHRoZSBtb2RlbC5hZGROZXdJdGVtKGVudGl0eSkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3ZlcnJpZGVzXSAtIE9wdGlvbmFsbHkgZXh0ZW5kIHRoZSBuZXcgZW1wdHkgaXRlbSB3aXRoIHNwZWNpZmljIHZhbHVlcy5cbiAgICAgICAgICogQHJldHVybnMge29iamVjdH0gTmV3bHkgY3JlYXRlZCBsaXN0IGl0ZW0uXG4gICAgICAgICAqL1xuICAgICAgICBjcmVhdGVFbXB0eUl0ZW08VD4ob3ZlcnJpZGVzPzogT2JqZWN0KTogVCB7XG4gICAgICAgICAgICB2YXIgbW9kZWwgPSB0aGlzO1xuICAgICAgICAgICAgdmFyIG5ld0l0ZW0gPSB7fTtcbiAgICAgICAgICAgIF8uZWFjaChtb2RlbC5saXN0LmN1c3RvbUZpZWxkcywgKGZpZWxkRGVmaW5pdGlvbikgPT4ge1xuICAgICAgICAgICAgICAgIC8qKiBDcmVhdGUgYXR0cmlidXRlcyBmb3IgZWFjaCBub24tcmVhZG9ubHkgZmllbGQgZGVmaW5pdGlvbiAqL1xuICAgICAgICAgICAgICAgIGlmICghZmllbGREZWZpbml0aW9uLnJlYWRPbmx5KSB7XG4gICAgICAgICAgICAgICAgICAgIC8qKiBDcmVhdGUgYW4gYXR0cmlidXRlIHdpdGggdGhlIGV4cGVjdGVkIGVtcHR5IHZhbHVlIGJhc2VkIG9uIGZpZWxkIGRlZmluaXRpb24gdHlwZSAqL1xuICAgICAgICAgICAgICAgICAgICBuZXdJdGVtW2ZpZWxkRGVmaW5pdGlvbi5tYXBwZWROYW1lXSA9IGFwRmllbGRTZXJ2aWNlLmdldERlZmF1bHRWYWx1ZUZvclR5cGUoZmllbGREZWZpbml0aW9uLm9iamVjdFR5cGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLyoqIEV4dGVuZCBhbnkgdmFsdWVzIHRoYXQgc2hvdWxkIG92ZXJyaWRlIHRoZSBkZWZhdWx0IGVtcHR5IHZhbHVlcyAqL1xuICAgICAgICAgICAgdmFyIHJhd09iamVjdCA9IF8uYXNzaWduKHt9LCBuZXdJdGVtLCBvdmVycmlkZXMpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBtb2RlbC5mYWN0b3J5KHJhd09iamVjdCk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIE1vZGVsLmV4ZWN1dGVRdWVyeVxuICAgICAgICAgKiBAbW9kdWxlIE1vZGVsXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBUaGUgcHJpbWFyeSBtZXRob2QgZm9yIHJldHJpZXZpbmcgZGF0YSBmcm9tIGEgcXVlcnkgcmVnaXN0ZXJlZCBvbiBhIG1vZGVsLiAgSXQgcmV0dXJucyBhIHByb21pc2VcbiAgICAgICAgICogd2hpY2ggcmVzb2x2ZXMgdG8gdGhlIGxvY2FsIGNhY2hlIGFmdGVyIHBvc3QgcHJvY2Vzc2luZyBlbnRpdGllcyB3aXRoIGNvbnN0cnVjdG9ycy5cbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtxdWVyeU5hbWU9YXBDb25maWcuZGVmYXVsdFF1ZXJ5TmFtZV0gQSB1bmlxdWUga2V5IHRvIGlkZW50aWZ5IHRoaXMgcXVlcnlcbiAgICAgICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSBQYXNzIG9wdGlvbnMgdG8gdGhlIGRhdGEgc2VydmljZS5cbiAgICAgICAgICogQHJldHVybnMge29iamVjdH0gUHJvbWlzZSB0aGF0IHdoZW4gcmVzb2x2ZXMgcmV0dXJucyBhbiBhcnJheSBvZiBsaXN0IGl0ZW1zIHdoaWNoIGluaGVyaXQgZnJvbSBMaXN0SXRlbSBhbmRcbiAgICAgICAgICogb3B0aW9uYWxseSBnbyB0aHJvdWdoIGEgZGVmaW5lZCBjb25zdHJ1Y3RvciBvbiB0aGUgbW9kZWwuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBleGFtcGxlIFRvIGNhbGwgdGhlIHF1ZXJ5IG9yIGNoZWNrIGZvciBjaGFuZ2VzIHNpbmNlIHRoZSBsYXN0IGNhbGwuXG4gICAgICAgICAqIDxwcmU+XG4gICAgICAgICAqIHByb2plY3RNb2RlbC5leGVjdXRlUXVlcnkoJ015Q3VzdG9tUXVlcnknKS50aGVuKGZ1bmN0aW9uKGVudGl0aWVzKSB7XG4gICAgICAgICAgICAgKiAgICAgIC8vV2Ugbm93IGhhdmUgYSByZWZlcmVuY2UgdG8gYXJyYXkgb2YgZW50aXRpZXMgc3RvcmVkIGluIHRoZSBsb2NhbCBjYWNoZVxuICAgICAgICAgICAgICogICAgICAvL1RoZXNlIGluaGVyaXQgZnJvbSB0aGUgTGlzdEl0ZW0gcHJvdG90eXBlIGFzIHdlbGwgYXMgdGhlIFByb2plY3QgcHJvdG90eXBlIG9uIHRoZSBtb2RlbFxuICAgICAgICAgICAgICogICAgICAkc2NvcGUuc3Vic2V0T2ZQcm9qZWN0cyA9IGVudGl0aWVzO1xuICAgICAgICAgICAgICogIH0pO1xuICAgICAgICAgKiA8L3ByZT5cbiAgICAgICAgICovXG4gICAgICAgIGV4ZWN1dGVRdWVyeShxdWVyeU5hbWU/OiBzdHJpbmcsIG9wdGlvbnM/OiBPYmplY3QpOiBuZy5JUHJvbWlzZTxhcC5JbmRleGVkQ2FjaGU+IHtcbiAgICAgICAgICAgIHZhciBtb2RlbCA9IHRoaXM7XG4gICAgICAgICAgICB2YXIgcXVlcnkgPSBtb2RlbC5nZXRRdWVyeShxdWVyeU5hbWUpO1xuICAgICAgICAgICAgaWYgKHF1ZXJ5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHF1ZXJ5LmV4ZWN1dGUob3B0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIE1vZGVsLmV4dGVuZExpc3RNZXRhZGF0YVxuICAgICAgICAgKiBAbW9kdWxlIE1vZGVsXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBFeHRlbmRzIHRoZSBMaXN0IGFuZCBGaWVsZHMgd2l0aCBsaXN0IGluZm9ybWF0aW9uIHJldHVybmVkIGZyb20gdGhlIHNlcnZlci4gIE9ubHkgcnVucyBvbmNlIGFuZCBhZnRlciB0aGF0XG4gICAgICAgICAqIHJldHVybnMgdGhlIGV4aXN0aW5nIHByb21pc2UuXG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gUGFzcy10aHJvdWdoIG9wdGlvbnMgdG8gYXBEYXRhU2VydmljZS5nZXRMaXN0XG4gICAgICAgICAqIEByZXR1cm5zIHtvYmplY3R9IFByb21pc2UgdGhhdCBpcyByZXNvbHZlZCBvbmNlIHRoZSBpbmZvcm1hdGlvbiBoYXMgYmVlbiBhZGRlZC5cbiAgICAgICAgICovXG4gICAgICAgIGV4dGVuZExpc3RNZXRhZGF0YShvcHRpb25zPzogT2JqZWN0KTogbmcuSVByb21pc2U8YW55PiB7XG4gICAgICAgICAgICB2YXIgbW9kZWwgPSB0aGlzLFxuICAgICAgICAgICAgICAgIGRlZmVycmVkID0gJHEuZGVmZXIoKSxcbiAgICAgICAgICAgICAgICBkZWZhdWx0cyA9IHtsaXN0TmFtZTogbW9kZWwubGlzdC5nZXRMaXN0SWQoKX07XG5cbiAgICAgICAgICAgIC8qKiBPbmx5IHJlcXVlc3QgaW5mb3JtYXRpb24gaWYgdGhlIGxpc3QgaGFzbid0IGFscmVhZHkgYmVlbiBleHRlbmRlZCBhbmQgaXMgbm90IGN1cnJlbnRseSBiZWluZyByZXF1ZXN0ZWQgKi9cbiAgICAgICAgICAgIGlmICghbW9kZWwuZGVmZXJyZWRMaXN0RGVmaW5pdGlvbikge1xuICAgICAgICAgICAgICAgIC8qKiBBbGwgRnV0dXJlIFJlcXVlc3RzIGdldCB0aGlzICovXG4gICAgICAgICAgICAgICAgbW9kZWwuZGVmZXJyZWRMaXN0RGVmaW5pdGlvbiA9IGRlZmVycmVkLnByb21pc2U7XG5cbiAgICAgICAgICAgICAgICB2YXIgb3B0cyA9IF8uZXh0ZW5kKHt9LCBkZWZhdWx0cywgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgYXBEYXRhU2VydmljZS5nZXRMaXN0KG9wdHMpXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKCAocmVzcG9uc2VYTUwpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwRGVjb2RlU2VydmljZS5leHRlbmRMaXN0TWV0YWRhdGEobW9kZWwsIHJlc3BvbnNlWE1MKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUobW9kZWwpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBtb2RlbC5kZWZlcnJlZExpc3REZWZpbml0aW9uO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBNb2RlbC5nZW5lcmF0ZU1vY2tEYXRhXG4gICAgICAgICAqIEBtb2R1bGUgTW9kZWxcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIEdlbmVyYXRlcyAnbicgbW9jayByZWNvcmRzIGZvciB0ZXN0aW5nIHVzaW5nIHRoZSBmaWVsZCB0eXBlcyBkZWZpbmVkIGluIHRoZSBtb2RlbCB0byBwcm92aWRlIHNvbWV0aGluZyB0byB2aXN1YWxpemUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gT2JqZWN0IGNvbnRhaW5pbmcgb3B0aW9uYWwgcGFyYW1ldGVycy5cbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnF1YW50aXR5PTEwXSBUaGUgcmVxdWVzdGVkIG51bWJlciBvZiBtb2NrIHJlY29yZHMgdG8gcmV0dXJuLlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMucGVybWlzc2lvbkxldmVsPUZ1bGxNYXNrXSBTZXRzIHRoZSBtYXNrIG9uIHRoZSBtb2NrIHJlY29yZHMgdG8gc2ltdWxhdGUgZGVzaXJlZFxuICAgICAgICAgKiBwZXJtaXNzaW9uIGxldmVsLlxuICAgICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnN0YXRpY1ZhbHVlPWZhbHNlXSBCeSBkZWZhdWx0IGFsbCBtb2NrIGRhdGEgaXMgZHluYW1pY2FsbHkgY3JlYXRlZCBidXQgaWYgc2V0LFxuICAgICAgICAgKiB0aGlzIHdpbGwgY2F1c2Ugc3RhdGljIGRhdGEgdG8gYmUgdXNlZCBpbnN0ZWFkLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2VuZXJhdGVNb2NrRGF0YTxUPihvcHRpb25zPzogT2JqZWN0KTogVFtdIHtcbiAgICAgICAgICAgIHZhciBtb2NrRGF0YSA9IFtdLFxuICAgICAgICAgICAgICAgIG1vZGVsID0gdGhpcztcblxuICAgICAgICAgICAgdmFyIGRlZmF1bHRzID0ge1xuICAgICAgICAgICAgICAgIHF1YW50aXR5OiAxMCxcbiAgICAgICAgICAgICAgICBzdGF0aWNWYWx1ZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgcGVybWlzc2lvbkxldmVsOiAnRnVsbE1hc2snXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvKiogRXh0ZW5kIGRlZmF1bHRzIHdpdGggYW55IHByb3ZpZGVkIG9wdGlvbnMgKi9cbiAgICAgICAgICAgIHZhciBvcHRzID0gXy5leHRlbmQoe30sIGRlZmF1bHRzLCBvcHRpb25zKTtcblxuICAgICAgICAgICAgXy50aW1lcyhvcHRzLnF1YW50aXR5LCAgKGNvdW50KSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIG1vY2sgPSB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiBjb3VudCArIDFcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIC8qKiBDcmVhdGUgYW4gYXR0cmlidXRlIHdpdGggbW9jayBkYXRhIGZvciBlYWNoIGZpZWxkICovXG4gICAgICAgICAgICAgICAgXy5lYWNoKG1vZGVsLmxpc3QuZmllbGRzLCAoZmllbGQ6IGFwLkZpZWxkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIG1vY2tbZmllbGQubWFwcGVkTmFtZV0gPSBmaWVsZC5nZXRNb2NrRGF0YShvcHRzKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIC8qKiBVc2UgdGhlIGZhY3Rvcnkgb24gdGhlIG1vZGVsIHRvIGV4dGVuZCB0aGUgb2JqZWN0ICovXG4gICAgICAgICAgICAgICAgbW9ja0RhdGEucHVzaChuZXcgbW9kZWwuZmFjdG9yeShtb2NrKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBtb2NrRGF0YTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAgICogQG5hbWUgTW9kZWwuZ2V0QWxsTGlzdEl0ZW1zXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBJbmhlcml0ZWQgZnJvbSBNb2RlbCBjb25zdHJ1Y3RvclxuICAgICAgICAgKiBHZXRzIGFsbCBsaXN0IGl0ZW1zIGluIHRoZSBjdXJyZW50IGxpc3QsIHByb2Nlc3NlcyB0aGUgeG1sLCBhbmQgY2FjaGVzIHRoZSBkYXRhIGluIG1vZGVsLlxuICAgICAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSBQcm9taXNlIHJldHVybmluZyBhbGwgbGlzdCBpdGVtcyB3aGVuIHJlc29sdmVkLlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiA8cHJlPlxuICAgICAgICAgKiAvL1Rha2VuIGZyb20gYSBmaWN0aXRpb3VzIHByb2plY3RzTW9kZWwuanNcbiAgICAgICAgICogcHJvamVjdE1vZGVsLmdldEFsbExpc3RJdGVtcygpLnRoZW4oZnVuY3Rpb24oZW50aXRpZXMpIHtcbiAgICAgICAgICAgICAqICAgICAvL0RvIHNvbWV0aGluZyB3aXRoIGFsbCBvZiB0aGUgcmV0dXJuZWQgZW50aXRpZXNcbiAgICAgICAgICAgICAqICAgICAkc2NvcGUucHJvamVjdHMgPSBlbnRpdGllcztcbiAgICAgICAgICAgICAqIH07XG4gICAgICAgICAqIDwvcHJlPlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0QWxsTGlzdEl0ZW1zKCk6IG5nLklQcm9taXNlPGFwLkluZGV4ZWRDYWNoZT4ge1xuICAgICAgICAgICAgdmFyIG1vZGVsID0gdGhpcztcbiAgICAgICAgICAgIHJldHVybiBhcERhdGFTZXJ2aWNlLmV4ZWN1dGVRdWVyeShtb2RlbCwgbW9kZWwucXVlcmllcy5nZXRBbGxMaXN0SXRlbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBNb2RlbC5nZXRDYWNoZVxuICAgICAgICAgKiBAbW9kdWxlIE1vZGVsXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCByZXR1cm4gdGhlIGxvY2FsIGNhY2hlIGZvciBhIG5hbWVkIHF1ZXJ5IGlmIHByb3ZpZGVkLCBvdGhlcndpc2VcbiAgICAgICAgICogaXQgcmV0dXJucyB0aGUgY2FjaGUgZm9yIHRoZSBwcmltYXJ5IHF1ZXJ5IGZvciB0aGUgbW9kZWwuICBVc2VmdWwgaWYgeW91IGtub3cgdGhlIHF1ZXJ5XG4gICAgICAgICAqIGhhcyBhbHJlYWR5IGJlZW4gcmVzb2x2ZWQgYW5kIHRoZXJlJ3Mgbm8gbmVlZCB0byBjaGVjayBTaGFyZVBvaW50IGZvciBjaGFuZ2VzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3F1ZXJ5TmFtZT1hcENvbmZpZy5kZWZhdWx0UXVlcnlOYW1lXSBBIHVuaXF1ZSBrZXkgdG8gaWRlbnRpZnkgdGhpcyBxdWVyeS5cbiAgICAgICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjb250ZW50cyBvZiB0aGUgY3VycmVudCBjYWNoZSBmb3IgYSBuYW1lZCBxdWVyeS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogPHByZT5cbiAgICAgICAgICogdmFyIHByaW1hcnlRdWVyeUNhY2hlID0gcHJvamVjdE1vZGVsLmdldENhY2hlKCk7XG4gICAgICAgICAqIDwvcHJlPlxuICAgICAgICAgKlxuICAgICAgICAgKiA8cHJlPlxuICAgICAgICAgKiB2YXIgcHJpbWFyeVF1ZXJ5Q2FjaGUgPSBwcm9qZWN0TW9kZWwuZ2V0Q2FjaGUoJ3ByaW1hcnknKTtcbiAgICAgICAgICogPC9wcmU+XG4gICAgICAgICAqXG4gICAgICAgICAqIDxwcmU+XG4gICAgICAgICAqIHZhciBuYW1lZFF1ZXJ5Q2FjaGUgPSBwcm9qZWN0TW9kZWwuZ2V0Q2FjaGUoJ2N1c3RvbVF1ZXJ5Jyk7XG4gICAgICAgICAqIDwvcHJlPlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0Q2FjaGUocXVlcnlOYW1lPzogc3RyaW5nKTogYXAuSUNhY2hlIHtcbiAgICAgICAgICAgIHZhciBtb2RlbCA9IHRoaXMsIHF1ZXJ5LCBjYWNoZTtcbiAgICAgICAgICAgIHF1ZXJ5ID0gbW9kZWwuZ2V0UXVlcnkocXVlcnlOYW1lKTtcbiAgICAgICAgICAgIGlmIChxdWVyeSAmJiBxdWVyeS5pbmRleGVkQ2FjaGUpIHtcbiAgICAgICAgICAgICAgICBjYWNoZSA9IHF1ZXJ5LmluZGV4ZWRDYWNoZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjYWNoZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAgICogQG5hbWUgTW9kZWwuZ2V0Q2FjaGVkRW50aXR5XG4gICAgICAgICAqIEBtb2R1bGUgTW9kZWxcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIEF0dGVtcHRzIHRvIGxvY2F0ZSBhIG1vZGVsIGxpc3RJdGVtIGJ5IGlkLlxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gbGlzdEl0ZW1JZCBUaGUgSUQgb2YgdGhlIHJlcXVlc3RlZCBsaXN0SXRlbS5cbiAgICAgICAgICogQHJldHVybnMge29iamVjdH0gUmV0dXJucyBlaXRoZXIgdGhlIHJlcXVlc3RlZCBsaXN0SXRlbSBvciB1bmRlZmluZWQgaWYgaXQncyBub3QgZm91bmQuXG4gICAgICAgICAqL1xuICAgICAgICBnZXRDYWNoZWRFbnRpdHk8VD4obGlzdEl0ZW1JZDogbnVtYmVyKTogVCB7XG4gICAgICAgICAgICB2YXIgbW9kZWwgPSB0aGlzO1xuICAgICAgICAgICAgcmV0dXJuIGFwQ2FjaGVTZXJ2aWNlLmdldENhY2hlZEVudGl0eShtb2RlbC5saXN0LmdldExpc3RJZCgpLCBsaXN0SXRlbUlkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAgICogQG5hbWUgTW9kZWwuZ2V0Q2FjaGVkRW50aXRpZXNcbiAgICAgICAgICogQG1vZHVsZSBNb2RlbFxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogUmV0dXJucyBhbGwgZW50aXRpZXMgcmVnaXN0ZXJlZCBmb3IgdGhpcyBtb2RlbCByZWdhcmRsZXNzIG9mIHF1ZXJ5LlxuICAgICAgICAgKiBAcmV0dXJucyB7b2JqZWN0W119IEFsbCByZWdpc3RlcmVkIGVudGl0aWVzIGZvciB0aGlzIG1vZGVsLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0Q2FjaGVkRW50aXRpZXMoKTogYXAuSW5kZXhlZENhY2hlIHtcbiAgICAgICAgICAgIHZhciBtb2RlbCA9IHRoaXM7XG4gICAgICAgICAgICByZXR1cm4gYXBDYWNoZVNlcnZpY2UuZ2V0Q2FjaGVkRW50aXRpZXMobW9kZWwubGlzdC5nZXRMaXN0SWQoKSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIE1vZGVsLmdldEZpZWxkRGVmaW5pdGlvblxuICAgICAgICAgKiBAbW9kdWxlIE1vZGVsXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBSZXR1cm5zIHRoZSBmaWVsZCBkZWZpbml0aW9uIGZyb20gdGhlIGRlZmluaXRpb25zIGRlZmluZWQgaW4gdGhlIGN1c3RvbSBmaWVsZHMgYXJyYXkgd2l0aGluIGEgbW9kZWwuXG4gICAgICAgICAqIDxwcmU+XG4gICAgICAgICAqIHZhciBwcm9qZWN0ID0ge1xuICAgICAgICAgICAgICogICAgdGl0bGU6ICdQcm9qZWN0IDEnLFxuICAgICAgICAgICAgICogICAgbG9jYXRpb246IHtcbiAgICAgICAgICAgICAqICAgICAgICBsb29rdXBJZDogNSxcbiAgICAgICAgICAgICAqICAgICAgICBsb29rdXBWYWx1ZTogJ1NvbWUgQnVpbGRpbmcnXG4gICAgICAgICAgICAgKiAgICB9XG4gICAgICAgICAgICAgKiB9O1xuICAgICAgICAgKlxuICAgICAgICAgKiAvL1RvIGdldCBmaWVsZCBtZXRhZGF0YVxuICAgICAgICAgKiB2YXIgbG9jYXRpb25EZWZpbml0aW9uID0gcHJvamVjdHNNb2RlbC5nZXRGaWVsZERlZmluaXRpb24oJ2xvY2F0aW9uJyk7XG4gICAgICAgICAqIDwvcHJlPlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gZmllbGROYW1lIEludGVybmFsIGZpZWxkIG5hbWUuXG4gICAgICAgICAqIEByZXR1cm5zIHtvYmplY3R9IEZpZWxkIGRlZmluaXRpb24uXG4gICAgICAgICAqL1xuICAgICAgICBnZXRGaWVsZERlZmluaXRpb24oZmllbGROYW1lOiBzdHJpbmcpOiBJRmllbGREZWZpbml0aW9uIHtcbiAgICAgICAgICAgIHZhciBtb2RlbCA9IHRoaXM7XG4gICAgICAgICAgICByZXR1cm4gXy5maW5kKG1vZGVsLmxpc3QuZmllbGRzLCB7bWFwcGVkTmFtZTogZmllbGROYW1lfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIE1vZGVsLmdldExpc3RJdGVtQnlJZFxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gbGlzdEl0ZW1JZCBJZCBvZiB0aGUgaXRlbSBiZWluZyByZXF1ZXN0ZWQuXG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIFVzZWQgdG8gb3ZlcnJpZGUgYXBEYXRhU2VydmljZSBkZWZhdWx0cy5cbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIEluaGVyaXRlZCBmcm9tIE1vZGVsIGNvbnN0cnVjdG9yXG4gICAgICAgICAqIEF0dGVtcHRzIHRvIHJldHJpZXZlIHRoZSByZXF1ZXN0ZWQgbGlzdCBpdGVtIGZyb20gdGhlIHNlcnZlci5cbiAgICAgICAgICogQHJldHVybnMge29iamVjdH0gUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggdGhlIHJlcXVlc3RlZCBsaXN0IGl0ZW0gaWYgZm91bmQuICBPdGhlcndpc2UgaXQgcmV0dXJucyB1bmRlZmluZWQuXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIDxwcmU+XG4gICAgICAgICAqIC8vVGFrZW4gZnJvbSBhIGZpY3RpdGlvdXMgcHJvamVjdHNNb2RlbC5qc1xuICAgICAgICAgKiBwcm9qZWN0TW9kZWwuZ2V0TGlzdEl0ZW1CeUlkKDEyKS50aGVuKGZ1bmN0aW9uKGxpc3RJdGVtKSB7XG4gICAgICAgICAgICAgKiAgICAgLy9EbyBzb21ldGhpbmcgd2l0aCB0aGUgbG9jYXRlZCBsaXN0SXRlbVxuICAgICAgICAgICAgICogICAgICRzY29wZS5wcm9qZWN0ID0gbGlzdEl0ZW07XG4gICAgICAgICAgICAgKiB9O1xuICAgICAgICAgKiA8L3ByZT5cbiAgICAgICAgICovXG4gICAgICAgIGdldExpc3RJdGVtQnlJZDxUPihsaXN0SXRlbUlkOiBudW1iZXIsIG9wdGlvbnM/OiBPYmplY3QpOiBuZy5JUHJvbWlzZTxUPiB7XG4gICAgICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpLFxuICAgICAgICAgICAgICAgIG1vZGVsID0gdGhpcyxcbiAgICAgICAgICAgICAgICAvKiogVW5pcXVlIFF1ZXJ5IE5hbWUgKi9cbiAgICAgICAgICAgICAgICBxdWVyeUtleSA9ICdHZXRMaXN0SXRlbUJ5SWQtJyArIGxpc3RJdGVtSWQ7XG5cbiAgICAgICAgICAgIC8qKiBSZWdpc3RlciBhIG5ldyBRdWVyeSBpZiBpdCBkb2Vzbid0IGFscmVhZHkgZXhpc3QgKi9cbiAgICAgICAgICAgIGlmICghbW9kZWwuZ2V0UXVlcnkocXVlcnlLZXkpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRlZmF1bHRzID0ge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBxdWVyeUtleSxcbiAgICAgICAgICAgICAgICAgICAgb3BlcmF0aW9uOiAnR2V0TGlzdEl0ZW1zJyxcbiAgICAgICAgICAgICAgICAgICAgQ0FNTFJvd0xpbWl0OiAxLFxuICAgICAgICAgICAgICAgICAgICBDQU1MUXVlcnk6ICcnICtcbiAgICAgICAgICAgICAgICAgICAgJzxRdWVyeT4nICtcbiAgICAgICAgICAgICAgICAgICAgJyA8V2hlcmU+JyArXG4gICAgICAgICAgICAgICAgICAgICcgICA8RXE+JyArXG4gICAgICAgICAgICAgICAgICAgICcgICAgIDxGaWVsZFJlZiBOYW1lPVwiSURcIi8+JyArXG4gICAgICAgICAgICAgICAgICAgICcgICAgIDxWYWx1ZSBUeXBlPVwiTnVtYmVyXCI+JyArIGxpc3RJdGVtSWQgKyAnPC9WYWx1ZT4nICtcbiAgICAgICAgICAgICAgICAgICAgJyAgIDwvRXE+JyArXG4gICAgICAgICAgICAgICAgICAgICcgPC9XaGVyZT4nICtcbiAgICAgICAgICAgICAgICAgICAgJzwvUXVlcnk+J1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgLyoqIEFsbG93cyB1cyB0byBvdmVycmlkZSBkZWZhdWx0cyAqL1xuICAgICAgICAgICAgICAgIHZhciBvcHRzID0gXy5leHRlbmQoe30sIGRlZmF1bHRzLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICBtb2RlbC5yZWdpc3RlclF1ZXJ5KG9wdHMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBtb2RlbC5leGVjdXRlUXVlcnkocXVlcnlLZXkpXG4gICAgICAgICAgICAgICAgLnRoZW4oIChpbmRleGVkQ2FjaGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLyoqIFNob3VsZCByZXR1cm4gYW4gaW5kZXhlZCBjYWNoZSBvYmplY3Qgd2l0aCBhIHNpbmdsZSBsaXN0SXRlbSBzbyBqdXN0IHJldHVybiB0aGUgcmVxdWVzdGVkIGxpc3RJdGVtICovXG4gICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoaW5kZXhlZENhY2hlLmZpcnN0KCkpO1xuICAgICAgICAgICAgICAgIH0sIChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBNb2RlbC5nZXRRdWVyeVxuICAgICAgICAgKiBAbW9kdWxlIE1vZGVsXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBhdHRlbXB0cyB0byBsb2NhdGUgYW5kIHJldHVybiBhIHJlZmVyZW5jZSB0byB0aGUgcmVxdWVzdGVkIG9yIGNhdGNoYWxsIHF1ZXJ5LlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3F1ZXJ5TmFtZT1hcENvbmZpZy5kZWZhdWx0UXVlcnlOYW1lXSBBIHVuaXF1ZSBrZXkgdG8gaWRlbnRpZnkgdGhpcyBxdWVyeS5cbiAgICAgICAgICogQHJldHVybnMge29iamVjdH0gU2VlIFF1ZXJ5IHByb3RvdHlwZSBmb3IgYWRkaXRpb25hbCBkZXRhaWxzIG9uIHdoYXQgYSBRdWVyeSBsb29rcyBsaWtlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiA8cHJlPlxuICAgICAgICAgKiB2YXIgcHJpbWFyeVF1ZXJ5ID0gcHJvamVjdE1vZGVsLmdldFF1ZXJ5KCk7XG4gICAgICAgICAqIDwvcHJlPlxuICAgICAgICAgKlxuICAgICAgICAgKiA8cHJlPlxuICAgICAgICAgKiB2YXIgcHJpbWFyeVF1ZXJ5ID0gcHJvamVjdE1vZGVsLmdldFF1ZXJ5KCdwcmltYXJ5Jyk7XG4gICAgICAgICAqIDwvcHJlPlxuICAgICAgICAgKlxuICAgICAgICAgKiA8cHJlPlxuICAgICAgICAgKiB2YXIgbmFtZWRRdWVyeSA9IHByb2plY3RNb2RlbC5nZXRRdWVyeSgnY3VzdG9tUXVlcnknKTtcbiAgICAgICAgICogPC9wcmU+XG4gICAgICAgICAqL1xuICAgICAgICBnZXRRdWVyeShxdWVyeU5hbWU6IHN0cmluZyk6IGFwLklRdWVyeSB7XG4gICAgICAgICAgICB2YXIgbW9kZWwgPSB0aGlzLCBxdWVyeTtcbiAgICAgICAgICAgIGlmIChfLmlzT2JqZWN0KG1vZGVsLnF1ZXJpZXNbcXVlcnlOYW1lXSkpIHtcbiAgICAgICAgICAgICAgICAvKiogVGhlIG5hbWVkIHF1ZXJ5IGV4aXN0cyAqL1xuICAgICAgICAgICAgICAgIHF1ZXJ5ID0gbW9kZWwucXVlcmllc1txdWVyeU5hbWVdO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChfLmlzT2JqZWN0KG1vZGVsLnF1ZXJpZXNbYXBDb25maWcuZGVmYXVsdFF1ZXJ5TmFtZV0pICYmICFxdWVyeU5hbWUpIHtcbiAgICAgICAgICAgICAgICAvKiogQSBuYW1lZCBxdWVyeSB3YXNuJ3Qgc3BlY2lmaWVkIGFuZCB0aGUgY2F0Y2hhbGwgcXVlcnkgZXhpc3RzICovXG4gICAgICAgICAgICAgICAgcXVlcnkgPSBtb2RlbC5xdWVyaWVzW2FwQ29uZmlnLmRlZmF1bHRRdWVyeU5hbWVdO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvKiogUmVxdWVzdGVkIHF1ZXJ5IG5vdCBmb3VuZCAqL1xuICAgICAgICAgICAgICAgIHF1ZXJ5ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHF1ZXJ5O1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBNb2RlbC5yZXNvbHZlUGVybWlzc2lvbnNcbiAgICAgICAgICogQG1vZHVsZSBNb2RlbFxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogU2VlIGFwTW9kZWxGYWN0b3J5LnJlc29sdmVQZXJtaXNzaW9ucyBmb3IgZGV0YWlscyBvbiB3aGF0IHdlIGV4cGVjdCB0byBoYXZlIHJldHVybmVkLlxuICAgICAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBDb250YWlucyBwcm9wZXJ0aWVzIGZvciBlYWNoIHBlcm1pc3Npb24gbGV2ZWwgZXZhbHVhdGVkIGZvciBjdXJyZW50IHVzZXIuXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIExldHMgYXNzdW1lIHdlJ3JlIGNoZWNraW5nIHRvIHNlZSBpZiBhIHVzZXIgaGFzIGVkaXQgcmlnaHRzIGZvciBhIGdpdmVuIGxpc3QuXG4gICAgICAgICAqIDxwcmU+XG4gICAgICAgICAqIHZhciB1c2VyUGVybWlzc2lvbnMgPSB0YXNrc01vZGVsLnJlc29sdmVQZXJtaXNzaW9ucygpO1xuICAgICAgICAgKiB2YXIgdXNlckNhbkVkaXQgPSB1c2VyUGVybWlzc2lvbnMuRWRpdExpc3RJdGVtcztcbiAgICAgICAgICogPC9wcmU+XG4gICAgICAgICAqIEV4YW1wbGUgb2Ygd2hhdCB0aGUgcmV0dXJuZWQgb2JqZWN0IHdvdWxkIGxvb2sgbGlrZVxuICAgICAgICAgKiBmb3IgYSBzaXRlIGFkbWluLlxuICAgICAgICAgKiA8cHJlPlxuICAgICAgICAgKiBwZXJtID0ge1xuICAgICAgICAgICAgKiAgICBcIlZpZXdMaXN0SXRlbXNcIjogdHJ1ZSxcbiAgICAgICAgICAgICogICAgXCJBZGRMaXN0SXRlbXNcIjogdHJ1ZSxcbiAgICAgICAgICAgICogICAgXCJFZGl0TGlzdEl0ZW1zXCI6IHRydWUsXG4gICAgICAgICAgICAqICAgIFwiRGVsZXRlTGlzdEl0ZW1zXCI6IHRydWUsXG4gICAgICAgICAgICAqICAgIFwiQXBwcm92ZUl0ZW1zXCI6IHRydWUsXG4gICAgICAgICAgICAqICAgIFwiT3Blbkl0ZW1zXCI6IHRydWUsXG4gICAgICAgICAgICAqICAgIFwiVmlld1ZlcnNpb25zXCI6IHRydWUsXG4gICAgICAgICAgICAqICAgIFwiRGVsZXRlVmVyc2lvbnNcIjogdHJ1ZSxcbiAgICAgICAgICAgICogICAgXCJDYW5jZWxDaGVja291dFwiOiB0cnVlLFxuICAgICAgICAgICAgKiAgICBcIlBlcnNvbmFsVmlld3NcIjogdHJ1ZSxcbiAgICAgICAgICAgICogICAgXCJNYW5hZ2VMaXN0c1wiOiB0cnVlLFxuICAgICAgICAgICAgKiAgICBcIlZpZXdGb3JtUGFnZXNcIjogdHJ1ZSxcbiAgICAgICAgICAgICogICAgXCJPcGVuXCI6IHRydWUsXG4gICAgICAgICAgICAqICAgIFwiVmlld1BhZ2VzXCI6IHRydWUsXG4gICAgICAgICAgICAqICAgIFwiQWRkQW5kQ3VzdG9taXplUGFnZXNcIjogdHJ1ZSxcbiAgICAgICAgICAgICogICAgXCJBcHBseVRoZW1lQW5kQm9yZGVyXCI6IHRydWUsXG4gICAgICAgICAgICAqICAgIFwiQXBwbHlTdHlsZVNoZWV0c1wiOiB0cnVlLFxuICAgICAgICAgICAgKiAgICBcIlZpZXdVc2FnZURhdGFcIjogdHJ1ZSxcbiAgICAgICAgICAgICogICAgXCJDcmVhdGVTU0NTaXRlXCI6IHRydWUsXG4gICAgICAgICAgICAqICAgIFwiTWFuYWdlU3Vid2Vic1wiOiB0cnVlLFxuICAgICAgICAgICAgKiAgICBcIkNyZWF0ZUdyb3Vwc1wiOiB0cnVlLFxuICAgICAgICAgICAgKiAgICBcIk1hbmFnZVBlcm1pc3Npb25zXCI6IHRydWUsXG4gICAgICAgICAgICAqICAgIFwiQnJvd3NlRGlyZWN0b3JpZXNcIjogdHJ1ZSxcbiAgICAgICAgICAgICogICAgXCJCcm93c2VVc2VySW5mb1wiOiB0cnVlLFxuICAgICAgICAgICAgKiAgICBcIkFkZERlbFByaXZhdGVXZWJQYXJ0c1wiOiB0cnVlLFxuICAgICAgICAgICAgKiAgICBcIlVwZGF0ZVBlcnNvbmFsV2ViUGFydHNcIjogdHJ1ZSxcbiAgICAgICAgICAgICogICAgXCJNYW5hZ2VXZWJcIjogdHJ1ZSxcbiAgICAgICAgICAgICogICAgXCJVc2VSZW1vdGVBUElzXCI6IHRydWUsXG4gICAgICAgICAgICAqICAgIFwiTWFuYWdlQWxlcnRzXCI6IHRydWUsXG4gICAgICAgICAgICAqICAgIFwiQ3JlYXRlQWxlcnRzXCI6IHRydWUsXG4gICAgICAgICAgICAqICAgIFwiRWRpdE15VXNlckluZm9cIjogdHJ1ZSxcbiAgICAgICAgICAgICogICAgXCJFbnVtZXJhdGVQZXJtaXNzaW9uc1wiOiB0cnVlLFxuICAgICAgICAgICAgKiAgICBcIkZ1bGxNYXNrXCI6IHRydWVcbiAgICAgICAgICAgICogfVxuICAgICAgICAgKiA8L3ByZT5cbiAgICAgICAgICovXG4gICAgICAgIHJlc29sdmVQZXJtaXNzaW9ucygpOiBhcC5JVXNlclBlcm1pc3Npb25zT2JqZWN0IHtcbiAgICAgICAgICAgIHZhciBtb2RlbCA9IHRoaXM7XG4gICAgICAgICAgICBpZiAobW9kZWwubGlzdCAmJiBtb2RlbC5saXN0LmVmZmVjdGl2ZVBlcm1NYXNrKSB7XG4gICAgICAgICAgICAgICAgLyoqIEdldCB0aGUgcGVybWlzc2lvbiBtYXNrIGZyb20gdGhlIHBlcm1pc3Npb24gbWFzayBuYW1lICovXG4gICAgICAgICAgICAgICAgdmFyIHBlcm1pc3Npb25NYXNrID0gYXBVdGlsaXR5U2VydmljZS5jb252ZXJ0RWZmZWN0aXZlUGVybU1hc2sobW9kZWwubGlzdC5lZmZlY3RpdmVQZXJtTWFzayk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFwVXRpbGl0eVNlcnZpY2UucmVzb2x2ZVBlcm1pc3Npb25zKHBlcm1pc3Npb25NYXNrKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgd2luZG93LmNvbnNvbGUuZXJyb3IoJ0F0dGVtcHRlZCB0byByZXNvbHZlIHBlcm1pc3Npb25zIG9mIGEgbW9kZWwgdGhhdCBoYXNuXFwndCBiZWVuIGluaXRpYWxpemVkLicsIG1vZGVsKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXBVdGlsaXR5U2VydmljZS5yZXNvbHZlUGVybWlzc2lvbnMobnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIE1vZGVsLmlzSW5pdGlhbGlzZWRcbiAgICAgICAgICogQG1vZHVsZSBNb2RlbFxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogTWV0aG9kcyB3aGljaCBhbGxvd3MgdXMgdG8gZWFzaWx5IGRldGVybWluZSBpZiB3ZSd2ZSBzdWNjZXNzZnVsbHkgbWFkZSBhbnkgcXVlcmllcyB0aGlzIHNlc3Npb24uXG4gICAgICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGV2YWx1YXRpb24uXG4gICAgICAgICAqL1xuICAgICAgICBpc0luaXRpYWxpc2VkKCk6IGJvb2xlYW4ge1xuICAgICAgICAgICAgdmFyIG1vZGVsID0gdGhpcztcbiAgICAgICAgICAgIHJldHVybiBfLmlzRGF0ZShtb2RlbC5sYXN0U2VydmVyVXBkYXRlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAgICogQG5hbWUgTW9kZWwucmVnaXN0ZXJRdWVyeVxuICAgICAgICAgKiBAbW9kdWxlIE1vZGVsXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBDb25zdHJ1Y3RvciB0aGF0IGFsbG93cyB1cyBjcmVhdGUgYSBzdGF0aWMgcXVlcnkgd2l0aCB0aGUgb3B0aW9uIHRvIGJ1aWxkIGR5bmFtaWMgcXVlcmllcyBhcyBzZWVuIGluIHRoZVxuICAgICAgICAgKiB0aGlyZCBleGFtcGxlLiAgVGhpcyBjb25zdHJ1Y3QgaXMgYSBwYXNzdGhyb3VnaCB0byBbU1BTZXJ2aWNlc10oaHR0cDogLy9zcHNlcnZpY2VzLmNvZGVwbGV4LmNvbS8pXG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbcXVlcnlPcHRpb25zXSBPcHRpb25hbCBvcHRpb25zIHRvIHBhc3MgdGhyb3VnaCB0byB0aGVcbiAgICAgICAgICogW2RhdGFTZXJ2aWNlXSgjL2FwaS9kYXRhU2VydmljZS5leGVjdXRlUXVlcnkpLlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3F1ZXJ5T3B0aW9ucy5uYW1lPWFwQ29uZmlnLmRlZmF1bHRRdWVyeU5hbWVdIE9wdGlvbmFsIG5hbWUgb2YgdGhlIG5ldyBxdWVyeSAocmVjb21tZW5kZWQgYnV0IHdpbGxcbiAgICAgICAgICogZGVmYXVsdCB0byAnUHJpbWFyeScgaWYgbm90IHNwZWNpZmllZClcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtxdWVyeU9wdGlvbnMub3BlcmF0aW9uPVwiR2V0TGlzdEl0ZW1DaGFuZ2VzU2luY2VUb2tlblwiXSBEZWZhdWx0cyB0b1xuICAgICAgICAgKiBbR2V0TGlzdEl0ZW1DaGFuZ2VzU2luY2VUb2tlbl0oaHR0cDogLy9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9saXN0cy5saXN0cy5nZXRsaXN0aXRlbWNoYW5nZXNzaW5jZXRva2VuJTI4dj1vZmZpY2UuMTIlMjkuYXNweClcbiAgICAgICAgICogYnV0IGZvciBhIHNtYWxsZXIgcGF5bG9hZCBhbmQgZmFzdGVyIHJlc3BvbnNlIHlvdSBjYW4gdXNlXG4gICAgICAgICAqIFtHZXRMaXN0SXRlbXNdKGh0dHA6IC8vc3BzZXJ2aWNlcy5jb2RlcGxleC5jb20vd2lraXBhZ2U/dGl0bGU9R2V0TGlzdEl0ZW1zJnJlZmVycmluZ1RpdGxlPUxpc3RzKS5cbiAgICAgICAgICogQHBhcmFtIHtib29sZWFufSBbcXVlcnlPcHRpb25zLmNhY2hlWE1MPWZhbHNlXSBUeXBpY2FsbHkgZG9uJ3QgbmVlZCB0byBzdG9yZSB0aGUgWE1MIHJlc3BvbnNlIGJlY2F1c2UgaXRcbiAgICAgICAgICogaGFzIGFscmVhZHkgYmVlbiBwYXJzZWQgaW50byBKUyBvYmplY3RzLlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3F1ZXJ5T3B0aW9ucy5vZmZsaW5lWE1MXSBPcHRpb25hbGx5IHJlZmVyZW5jZSBhIHNwZWNpZmljIFhNTCBmaWxlIHRvIHVzZSBmb3IgdGhpcyBxdWVyeSBpbnN0ZWFkXG4gICAgICAgICAqIG9mIHVzaW5nIHRoZSBzaGFyZWQgWE1MIGZpbGUgdXNlZCBieSBhbGwgcXVlcmllcyBvbiB0aGlzIG1vZGVsLiAgVXNlZnVsIHRvIG1vY2sgY3VzdG9tIHF1ZXJ5IHJlc3VsdHMuXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbcXVlcnlPcHRpb25zLnF1ZXJ5XSBDQU1MIFF1ZXJ5IC0gSm9zaCBNY0NhcnR5IGhhcyBhIGdvb2QgcXVpY2sgcmVmZXJlbmNlXG4gICAgICAgICAqIFtoZXJlXShodHRwOiAvL2pvc2htY2NhcnR5LmNvbS8yMDEyLzA2L2EtY2FtbC1xdWVyeS1xdWljay1yZWZlcmVuY2UpXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbcXVlcnlPcHRpb25zLnF1ZXJ5T3B0aW9uc11cbiAgICAgICAgICogPHByZT5cbiAgICAgICAgICogLy8gRGVmYXVsdCBvcHRpb25zXG4gICAgICAgICAqICc8UXVlcnlPcHRpb25zPicgK1xuICAgICAgICAgKiAnICAgPEluY2x1ZGVNYW5kYXRvcnlDb2x1bW5zPicgK1xuICAgICAgICAgKiAgICAgICdGQUxTRScgK1xuICAgICAgICAgKiAgICAgJzwvSW5jbHVkZU1hbmRhdG9yeUNvbHVtbnM+JyArXG4gICAgICAgICAqICcgICA8SW5jbHVkZUF0dGFjaG1lbnRVcmxzPicgK1xuICAgICAgICAgKiAgICAgICdUUlVFJyArXG4gICAgICAgICAqICAgICAnPC9JbmNsdWRlQXR0YWNobWVudFVybHM+JyArXG4gICAgICAgICAqICcgICA8SW5jbHVkZUF0dGFjaG1lbnRWZXJzaW9uPicgK1xuICAgICAgICAgKiAgICAgICdGQUxTRScgK1xuICAgICAgICAgKiAgICAgJzwvSW5jbHVkZUF0dGFjaG1lbnRWZXJzaW9uPicgK1xuICAgICAgICAgKiAnICAgPEV4cGFuZFVzZXJGaWVsZD4nICtcbiAgICAgICAgICogICAgICAnRkFMU0UnICtcbiAgICAgICAgICogICAgICc8L0V4cGFuZFVzZXJGaWVsZD4nICtcbiAgICAgICAgICogJzwvUXVlcnlPcHRpb25zPicsXG4gICAgICAgICAqIDwvcHJlPlxuICAgICAgICAgKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSBRdWVyeSBSZXR1cm5zIGEgbmV3IHF1ZXJ5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogPGg0PkV4YW1wbGUgIzE8L2g0PlxuICAgICAgICAgKiA8cHJlPlxuICAgICAgICAgKiAvLyBRdWVyeSB0byByZXRyaWV2ZSB0aGUgbW9zdCByZWNlbnQgMjUgbW9kaWZpY2F0aW9uc1xuICAgICAgICAgKiBtb2RlbC5yZWdpc3RlclF1ZXJ5KHtcbiAgICAgKiAgICBuYW1lOiAncmVjZW50Q2hhbmdlcycsXG4gICAgICogICAgQ0FNTFJvd0xpbWl0OiAyNSxcbiAgICAgKiAgICBxdWVyeTogJycgK1xuICAgICAqICAgICAgICAnPFF1ZXJ5PicgK1xuICAgICAqICAgICAgICAnICAgPE9yZGVyQnk+JyArXG4gICAgICogICAgICAgICcgICAgICAgPEZpZWxkUmVmIE5hbWU9XCJNb2RpZmllZFwiIEFzY2VuZGluZz1cIkZBTFNFXCIvPicgK1xuICAgICAqICAgICAgICAnICAgPC9PcmRlckJ5PicgK1xuICAgICAqICAgICAgICAgICAgLy9QcmV2ZW50cyBhbnkgcmVjb3JkcyBmcm9tIGJlaW5nIHJldHVybmVkIGlmIHVzZXIgZG9lc24ndFxuICAgICAqICAgICAgICAgICAgLy8gaGF2ZSBwZXJtaXNzaW9ucyBvbiBwcm9qZWN0XG4gICAgICogICAgICAgICcgICA8V2hlcmU+JyArXG4gICAgICogICAgICAgICcgICAgICAgPElzTm90TnVsbD4nICtcbiAgICAgKiAgICAgICAgJyAgICAgICAgICAgPEZpZWxkUmVmIE5hbWU9XCJQcm9qZWN0XCIvPicgK1xuICAgICAqICAgICAgICAnICAgICAgIDwvSXNOb3ROdWxsPicgK1xuICAgICAqICAgICAgICAnICAgPC9XaGVyZT4nICtcbiAgICAgKiAgICAgICAgJzwvUXVlcnk+J1xuICAgICAqIH0pO1xuICAgICAgICAgKiA8L3ByZT5cbiAgICAgICAgICpcbiAgICAgICAgICogPGg0PkV4YW1wbGUgIzI8L2g0PlxuICAgICAgICAgKiA8cHJlPlxuICAgICAgICAgKiAvLyBDb3VsZCBiZSBwbGFjZWQgb24gdGhlIHByb2plY3RNb2RlbCBhbmQgY3JlYXRlcyB0aGUgcXVlcnkgYnV0IGRvZXNuJ3RcbiAgICAgICAgICogLy8gY2FsbCBpdFxuICAgICAgICAgKiBwcm9qZWN0TW9kZWwucmVnaXN0ZXJRdWVyeSh7XG4gICAgICogICAgIG5hbWU6ICdwcmltYXJ5JyxcbiAgICAgKiAgICAgcXVlcnk6ICcnICtcbiAgICAgKiAgICAgICAgICc8UXVlcnk+JyArXG4gICAgICogICAgICAgICAnICAgPE9yZGVyQnk+JyArXG4gICAgICogICAgICAgICAnICAgICAgIDxGaWVsZFJlZiBOYW1lPVwiVGl0bGVcIiBBc2NlbmRpbmc9XCJUUlVFXCIvPicgK1xuICAgICAqICAgICAgICAgJyAgIDwvT3JkZXJCeT4nICtcbiAgICAgKiAgICAgICAgICc8L1F1ZXJ5PidcbiAgICAgKiB9KTtcbiAgICAgICAgICpcbiAgICAgICAgICogLy9UbyBjYWxsIHRoZSBxdWVyeSBvciBjaGVjayBmb3IgY2hhbmdlcyBzaW5jZSB0aGUgbGFzdCBjYWxsXG4gICAgICAgICAqIHByb2plY3RNb2RlbC5leGVjdXRlUXVlcnkoJ3ByaW1hcnknKS50aGVuKGZ1bmN0aW9uKGVudGl0aWVzKSB7XG4gICAgICogICAgIC8vIFdlIG5vdyBoYXZlIGEgcmVmZXJlbmNlIHRvIGFycmF5IG9mIGVudGl0aWVzIHN0b3JlZCBpbiB0aGUgbG9jYWxcbiAgICAgKiAgICAgLy8gY2FjaGUuICBUaGVzZSBpbmhlcml0IGZyb20gdGhlIExpc3RJdGVtIHByb3RvdHlwZSBhcyB3ZWxsIGFzIHRoZVxuICAgICAqICAgICAvLyBQcm9qZWN0IHByb3RvdHlwZSBvbiB0aGUgbW9kZWxcbiAgICAgKiAgICAgJHNjb3BlLnByb2plY3RzID0gZW50aXRpZXM7XG4gICAgICogfSk7XG4gICAgICAgICAqIDwvcHJlPlxuICAgICAgICAgKlxuXG4gICAgICAgICAqIDxoND5FeGFtcGxlICMzPC9oND5cbiAgICAgICAgICogPHByZT5cbiAgICAgICAgICogLy8gQWR2YW5jZWQgZnVuY3Rpb25hbGl0eSB0aGF0IHdvdWxkIGFsbG93IHVzIHRvIGR5bmFtaWNhbGx5IGNyZWF0ZVxuICAgICAgICAgKiAvLyBxdWVyaWVzIGZvciBsaXN0IGl0ZW1zIHdpdGggYSBsb29rdXAgZmllbGQgYXNzb2NpYXRlZCB3aXRoIGEgc3BlY2lmaWNcbiAgICAgICAgICogLy8gcHJvamVjdCBpZC4gIExldCdzIGFzc3VtZSB0aGlzIGlzIG9uIHRoZSBwcm9qZWN0VGFza3NNb2RlbC5cbiAgICAgICAgICogbW9kZWwucXVlcnlCeVByb2plY3RJZChwcm9qZWN0SWQpIHtcbiAgICAgKiAgICAgLy8gVW5pcXVlIHF1ZXJ5IG5hbWVcbiAgICAgKiAgICAgdmFyIHF1ZXJ5S2V5ID0gJ3BpZCcgKyBwcm9qZWN0SWQ7XG4gICAgICpcbiAgICAgKiAgICAgLy8gUmVnaXN0ZXIgcHJvamVjdCBxdWVyeSBpZiBpdCBkb2Vzbid0IGV4aXN0XG4gICAgICogICAgIGlmICghXy5pc09iamVjdChtb2RlbC5xdWVyaWVzW3F1ZXJ5S2V5XSkpIHtcbiAgICAgKiAgICAgICAgIG1vZGVsLnJlZ2lzdGVyUXVlcnkoe1xuICAgICAqICAgICAgICAgICAgIG5hbWU6IHF1ZXJ5S2V5LFxuICAgICAqICAgICAgICAgICAgIHF1ZXJ5OiAnJyArXG4gICAgICogICAgICAgICAgICAgICAgICc8UXVlcnk+JyArXG4gICAgICogICAgICAgICAgICAgICAgICcgICA8T3JkZXJCeT4nICtcbiAgICAgKiAgICAgICAgICAgICAgICAgJyAgICAgICA8RmllbGRSZWYgTmFtZT1cIklEXCIgQXNjZW5kaW5nPVwiVFJVRVwiLz4nICtcbiAgICAgKiAgICAgICAgICAgICAgICAgJyAgIDwvT3JkZXJCeT4nICtcbiAgICAgKiAgICAgICAgICAgICAgICAgJyAgIDxXaGVyZT4nICtcbiAgICAgKiAgICAgICAgICAgICAgICAgJyAgICAgICA8QW5kPicgK1xuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUHJldmVudHMgYW55IHJlY29yZHMgZnJvbSBiZWluZyByZXR1cm5lZFxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9pZiB1c2VyIGRvZXNuJ3QgaGF2ZSBwZXJtaXNzaW9ucyBvbiBwcm9qZWN0XG4gICAgICogICAgICAgICAgICAgICAgICcgICAgICAgICAgIDxJc05vdE51bGw+JyArXG4gICAgICogICAgICAgICAgICAgICAgICcgICAgICAgICAgICAgICA8RmllbGRSZWYgTmFtZT1cIlByb2plY3RcIi8+JyArXG4gICAgICogICAgICAgICAgICAgICAgICcgICAgICAgICAgIDwvSXNOb3ROdWxsPicgK1xuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmV0dXJuIGFsbCByZWNvcmRzIGZvciB0aGUgcHJvamVjdCBtYXRjaGluZ1xuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcGFyYW0gcHJvamVjdElkXG4gICAgICogICAgICAgICAgICAgICAgICcgICAgICAgICAgIDxFcT4nICtcbiAgICAgKiAgICAgICAgICAgICAgICAgJyAgICAgICAgICAgICAgIDxGaWVsZFJlZiBOYW1lPVwiUHJvamVjdFwiIExvb2t1cElkPVwiVFJVRVwiLz4nICtcbiAgICAgKiAgICAgICAgICAgICAgICAgJyAgICAgICAgICAgICAgIDxWYWx1ZSBUeXBlPVwiTG9va3VwXCI+JyArIHByb2plY3RJZCArICc8L1ZhbHVlPicgK1xuICAgICAqICAgICAgICAgICAgICAgICAnICAgICAgICAgICA8L0VxPicgK1xuICAgICAqICAgICAgICAgICAgICAgICAnICAgICAgIDwvQW5kPicgK1xuICAgICAqICAgICAgICAgICAgICAgICAnICAgPC9XaGVyZT4nICtcbiAgICAgKiAgICAgICAgICAgICAgICAgJzwvUXVlcnk+J1xuICAgICAqICAgICAgICAgfSk7XG4gICAgICogICAgIH1cbiAgICAgKiAgICAgLy9TdGlsbCB1c2luZyBleGVjdXRlIHF1ZXJ5IGJ1dCBub3cgd2UgaGF2ZSBhIGN1c3RvbSBxdWVyeVxuICAgICAqICAgICByZXR1cm4gbW9kZWwuZXhlY3V0ZVF1ZXJ5KHF1ZXJ5S2V5KTtcbiAgICAgKiB9O1xuICAgICAgICAgcHJlPlxuICAgICAgICAgKi9cbiAgICAgICAgcmVnaXN0ZXJRdWVyeShxdWVyeU9wdGlvbnM6IGFwLklRdWVyeU9wdGlvbnMpOiBhcC5JUXVlcnkge1xuICAgICAgICAgICAgdmFyIG1vZGVsID0gdGhpcztcblxuICAgICAgICAgICAgdmFyIGRlZmF1bHRzID0ge1xuICAgICAgICAgICAgICAgIC8qKiBJZiBuYW1lIGlzbid0IHNldCwgYXNzdW1lIHRoaXMgaXMgdGhlIG9ubHkgbW9kZWwgYW5kIGRlc2lnbmF0ZSBhcyBwcmltYXJ5ICovXG4gICAgICAgICAgICAgICAgbmFtZTogYXBDb25maWcuZGVmYXVsdFF1ZXJ5TmFtZVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgcXVlcnlPcHRpb25zID0gXy5leHRlbmQoe30sIGRlZmF1bHRzLCBxdWVyeU9wdGlvbnMpO1xuXG4gICAgICAgICAgICBtb2RlbC5xdWVyaWVzW3F1ZXJ5T3B0aW9ucy5uYW1lXSA9IGFwUXVlcnlGYWN0b3J5LmNyZWF0ZShxdWVyeU9wdGlvbnMsIG1vZGVsKTtcblxuICAgICAgICAgICAgLyoqIFJldHVybiB0aGUgbmV3bHkgY3JlYXRlZCBxdWVyeSAqL1xuICAgICAgICAgICAgcmV0dXJuIG1vZGVsLnF1ZXJpZXNbcXVlcnlPcHRpb25zLm5hbWVdO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBNb2RlbC52YWxpZGF0ZUVudGl0eVxuICAgICAgICAgKiBAbW9kdWxlIE1vZGVsXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBVc2VzIHRoZSBjdXN0b20gZmllbGRzIGRlZmluZWQgaW4gYW4gbW9kZWwgdG8gZW5zdXJlIGVhY2ggZmllbGQgKHJlcXVpcmVkID0gdHJ1ZSkgaXMgZXZhbHVhdGVkXG4gICAgICAgICAqIGJhc2VkIG9uIGZpZWxkIHR5cGVcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHtvYmplY3R9IGxpc3RJdGVtIFNoYXJlUG9pbnQgbGlzdCBpdGVtLlxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIE9iamVjdCBjb250YWluaW5nIG9wdGlvbmFsIHBhcmFtZXRlcnMuXG4gICAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudG9hc3Q9dHJ1ZV0gU2hvdWxkIHRvYXN0cyBiZSBnZW5lcmF0ZWQgdG8gYWxlcnQgdGhlIHVzZXIgb2YgaXNzdWVzLlxuICAgICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gRXZhbHVhdGlvbiBvZiB2YWxpZGl0eS5cbiAgICAgICAgICovXG4gICAgICAgIHZhbGlkYXRlRW50aXR5KGxpc3RJdGVtOiBJTGlzdEl0ZW0sIG9wdGlvbnM/OiBPYmplY3QpOiBib29sZWFuIHtcbiAgICAgICAgICAgIHZhciB2YWxpZCA9IHRydWUsXG4gICAgICAgICAgICAgICAgbW9kZWwgPSB0aGlzO1xuXG4gICAgICAgICAgICB2YXIgZGVmYXVsdHMgPSB7XG4gICAgICAgICAgICAgICAgdG9hc3Q6IHRydWVcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8qKiBFeHRlbmQgZGVmYXVsdHMgd2l0aCBhbnkgcHJvdmlkZWQgb3B0aW9ucyAqL1xuICAgICAgICAgICAgdmFyIG9wdHMgPSBfLmV4dGVuZCh7fSwgZGVmYXVsdHMsIG9wdGlvbnMpO1xuXG4gICAgICAgICAgICB2YXIgY2hlY2tPYmplY3QgPSAoZmllbGRWYWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBfLmlzT2JqZWN0KGZpZWxkVmFsdWUpICYmIF8uaXNOdW1iZXIoZmllbGRWYWx1ZS5sb29rdXBJZCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBfLmVhY2gobW9kZWwubGlzdC5jdXN0b21GaWVsZHMsIChmaWVsZERlZmluaXRpb246IElGaWVsZERlZmluaXRpb24pID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgZmllbGRWYWx1ZSA9IGxpc3RJdGVtW2ZpZWxkRGVmaW5pdGlvbi5tYXBwZWROYW1lXTtcbiAgICAgICAgICAgICAgICB2YXIgZmllbGREZXNjcmlwdG9yID0gJ1wiJyArIGZpZWxkRGVmaW5pdGlvbi5vYmplY3RUeXBlICsgJ1wiIHZhbHVlLic7XG4gICAgICAgICAgICAgICAgLyoqIE9ubHkgZXZhbHVhdGUgcmVxdWlyZWQgZmllbGRzICovXG4gICAgICAgICAgICAgICAgaWYgKChmaWVsZERlZmluaXRpb24ucmVxdWlyZWQgfHwgZmllbGREZWZpbml0aW9uLlJlcXVpcmVkKSAmJiB2YWxpZCkge1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGZpZWxkRGVmaW5pdGlvbi5vYmplY3RUeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdCb29sZWFuJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IF8uaXNCb29sZWFuKGZpZWxkVmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnRGF0ZVRpbWUnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkID0gXy5pc0RhdGUoZmllbGRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdMb29rdXAnOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnVXNlcic6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSBjaGVja09iamVjdChmaWVsZFZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ0xvb2t1cE11bHRpJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ1VzZXJNdWx0aSc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyoqIEVuc3VyZSBpdCdzIGEgdmFsaWQgYXJyYXkgY29udGFpbmluZyBvYmplY3RzICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSBfLmlzQXJyYXkoZmllbGRWYWx1ZSkgJiYgZmllbGRWYWx1ZS5sZW5ndGggPiAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiogQWRkaXRpb25hbGx5IGNoZWNrIHRoYXQgZWFjaCBsb29rdXAvcGVyc29uIGNvbnRhaW5zIGEgbG9va3VwSWQgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5lYWNoKGZpZWxkVmFsdWUsIChmaWVsZE9iamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSBjaGVja09iamVjdChmaWVsZE9iamVjdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKiBTaG9ydCBjaXJjdWl0ICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKiBFdmFsdWF0ZSBldmVyeXRoaW5nIGVsc2UgYXMgYSBzdHJpbmcgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZCA9ICFfLmlzRW1wdHkoZmllbGRWYWx1ZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoIXZhbGlkICYmIG9wdHMudG9hc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaWVsZE5hbWUgPSBmaWVsZERlZmluaXRpb24ubGFiZWwgfHwgZmllbGREZWZpbml0aW9uLnN0YXRpY05hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuZXJyb3IoZmllbGROYW1lICsgJyBkb2VzIG5vdCBhcHBlYXIgdG8gYmUgYSB2YWxpZCAnICsgZmllbGREZXNjcmlwdG9yKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIXZhbGlkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiB2YWxpZDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGV4cG9ydCBjbGFzcyBNb2RlbEZhY3Rvcnkge1xuICAgICAgICBNb2RlbCA9IE1vZGVsO1xuICAgICAgICBjb25zdHJ1Y3RvcigkaW5qZWN0b3IpIHtcbiAgICAgICAgICAgICRxID0gJGluamVjdG9yLmdldCgnJHEnKTtcbiAgICAgICAgICAgIGFwQ2FjaGVTZXJ2aWNlID0gJGluamVjdG9yLmdldCgnYXBDYWNoZVNlcnZpY2UnKTtcbiAgICAgICAgICAgIGFwQ29uZmlnID0gJGluamVjdG9yLmdldCgnYXBDb25maWcnKTtcbiAgICAgICAgICAgIGFwRGF0YVNlcnZpY2UgPSAkaW5qZWN0b3IuZ2V0KCdhcERhdGFTZXJ2aWNlJyk7XG4gICAgICAgICAgICBhcERlY29kZVNlcnZpY2UgPSAkaW5qZWN0b3IuZ2V0KCdhcERlY29kZVNlcnZpY2UnKTtcbiAgICAgICAgICAgIGFwRmllbGRTZXJ2aWNlID0gJGluamVjdG9yLmdldCgnYXBGaWVsZFNlcnZpY2UnKTtcbiAgICAgICAgICAgIGFwSW5kZXhlZENhY2hlRmFjdG9yeSA9ICRpbmplY3Rvci5nZXQoJ2FwSW5kZXhlZENhY2hlRmFjdG9yeScpO1xuICAgICAgICAgICAgYXBMaXN0RmFjdG9yeSA9ICRpbmplY3Rvci5nZXQoJ2FwTGlzdEZhY3RvcnknKTtcbiAgICAgICAgICAgIGFwUXVlcnlGYWN0b3J5ID0gJGluamVjdG9yLmdldCgnYXBRdWVyeUZhY3RvcnknKTtcbiAgICAgICAgICAgIGFwVXRpbGl0eVNlcnZpY2UgPSAkaW5qZWN0b3IuZ2V0KCdhcFV0aWxpdHlTZXJ2aWNlJyk7XG4gICAgICAgICAgICBMaXN0SXRlbUZhY3RvcnkgPSAkaW5qZWN0b3IuZ2V0KCdhcExpc3RJdGVtRmFjdG9yeScpO1xuICAgICAgICAgICAgdG9hc3RyID0gJGluamVjdG9yLmdldCgndG9hc3RyJyk7XG4gICAgICAgIH1cblxuICAgICAgICBjcmVhdGUoY29uZmlnKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IE1vZGVsKGNvbmZpZyk7XG4gICAgICAgIH1cblxuICAgIH1cblxuXG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2FuZ3VsYXJQb2ludCcpXG4gICAgICAgIC5zZXJ2aWNlKCdhcE1vZGVsRmFjdG9yeScsIE1vZGVsRmFjdG9yeSk7XG5cblxufVxuIiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3MvYXAuZC50c1wiIC8+XG5cbm1vZHVsZSBhcCB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyICRxLCBhcEluZGV4ZWRDYWNoZUZhY3Rvcnk6SW5kZXhlZENhY2hlRmFjdG9yeSwgYXBDb25maWc6SUFQQ29uZmlnLCBhcERlZmF1bHRMaXN0SXRlbVF1ZXJ5T3B0aW9ucyxcbiAgICAgICAgYXBEYXRhU2VydmljZTpEYXRhU2VydmljZTtcblxuICAgIGV4cG9ydCBpbnRlcmZhY2UgSVF1ZXJ5IHtcbiAgICAgICAgY2FjaGVYTUw/OiBib29sZWFuO1xuICAgICAgICBjaGFuZ2VUb2tlbj86c3RyaW5nO1xuICAgICAgICBleGVjdXRlPzxUPihvcHRpb25zPzpPYmplY3QpOiBuZy5JUHJvbWlzZTwgSUluZGV4ZWRDYWNoZTxUPiA+O1xuICAgICAgICBnZXRNb2RlbCgpOklNb2RlbDtcbiAgICAgICAgaW5kZXhlZENhY2hlOklJbmRleGVkQ2FjaGU7XG4gICAgICAgIGluaXRpYWxpemVkOm5nLklEZWZlcnJlZDxhbnk+XG4gICAgICAgIGxhc3RSdW46IERhdGU7XG4gICAgICAgIGxpc3ROYW1lOnN0cmluZztcbiAgICAgICAgbmFtZTpzdHJpbmc7XG4gICAgICAgIG5lZ290aWF0aW5nV2l0aFNlcnZlcjpib29sZWFuO1xuICAgICAgICBvZmZsaW5lWE1MPzogc3RyaW5nO1xuICAgICAgICBvcGVyYXRpb24/OiBzdHJpbmc7XG4gICAgICAgIHByb21pc2U/Om5nLklQcm9taXNlO1xuICAgICAgICBxdWVyeT86IHN0cmluZztcbiAgICAgICAgcXVlcnlPcHRpb25zPzpJUXVlcnlPcHRpb25zO1xuICAgICAgICB2aWV3RmllbGRzOnN0cmluZztcbiAgICAgICAgd2ViVVJMPzpzdHJpbmc7XG4gICAgfVxuXG4gICAgZXhwb3J0IGludGVyZmFjZSBJUXVlcnlPcHRpb25zIHtcbiAgICAgICAgbmFtZT86IHN0cmluZztcbiAgICAgICAgb3BlcmF0aW9uPzogc3RyaW5nO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgUXVlcnlcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBQcmltYXJ5IGNvbnN0cnVjdG9yIHRoYXQgYWxsIHF1ZXJpZXMgaW5oZXJpdCBmcm9tLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBjb25maWcgSW5pdGlhbGl6YXRpb24gcGFyYW1ldGVycy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NvbmZpZy5vcGVyYXRpb249R2V0TGlzdEl0ZW1DaGFuZ2VzU2luY2VUb2tlbl0gT3B0aW9uYWxseSB1c2UgJ0dldExpc3RJdGVtcycgdG9cbiAgICAgKiByZWNlaXZlIGEgbW9yZSBlZmZpY2llbnQgcmVzcG9uc2UsIGp1c3QgZG9uJ3QgaGF2ZSB0aGUgYWJpbGl0eSB0byBjaGVjayBmb3IgY2hhbmdlcyBzaW5jZSB0aGUgbGFzdCB0aW1lXG4gICAgICogdGhlIHF1ZXJ5IHdhcyBjYWxsZWQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbY29uZmlnLmNhY2hlWE1MPXRydWVdIFNldCB0byBmYWxzZSBpZiB5b3Ugd2FudCBhIGZyZXNoIHJlcXVlc3QuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtjb25maWcub2ZmbGluZVhNTF0gT3B0aW9uYWxseSByZWZlcmVuY2UgYSBzcGVjaWZpYyBYTUwgZmlsZSB0byB1c2UgZm9yIHRoaXMgcXVlcnkgaW5zdGVhZFxuICAgICAqIG9mIHVzaW5nIHRoZSBzaGFyZWQgWE1MIGZpbGUgZm9yIHRoaXMgbGlzdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NvbmZpZy5xdWVyeT1PcmRlcmVkIGFzY2VuZGluZyBieSBJRF0gQ0FNTCBxdWVyeSBwYXNzZWQgdG8gU2hhcmVQb2ludCB0byBjb250cm9sXG4gICAgICogdGhlIGRhdGEgU2hhcmVQb2ludCByZXR1cm5zLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY29uZmlnLnF1ZXJ5T3B0aW9uc10gU2hhcmVQb2ludCBvcHRpb25zLlxuICAgICAqIDxwcmU+XG4gICAgICogLy9EZWZhdWx0XG4gICAgICogcXVlcnlPcHRpb25zOiAnJyArXG4gICAgICogJzxRdWVyeU9wdGlvbnM+JyArXG4gICAgICogJyAgIDxJbmNsdWRlTWFuZGF0b3J5Q29sdW1ucz4nICtcbiAgICAgKiAgICAgICdGQUxTRScgK1xuICAgICAqICAgICAnPC9JbmNsdWRlTWFuZGF0b3J5Q29sdW1ucz4nICtcbiAgICAgKiAnICAgPEluY2x1ZGVBdHRhY2htZW50VXJscz4nICtcbiAgICAgKiAgICAgICdUUlVFJyArXG4gICAgICogICAgICc8L0luY2x1ZGVBdHRhY2htZW50VXJscz4nICtcbiAgICAgKiAnICAgPEluY2x1ZGVBdHRhY2htZW50VmVyc2lvbj4nICtcbiAgICAgKiAgICAgICdGQUxTRScgK1xuICAgICAqICAgICAnPC9JbmNsdWRlQXR0YWNobWVudFZlcnNpb24+JyArXG4gICAgICogJyAgIDxFeHBhbmRVc2VyRmllbGQ+JyArXG4gICAgICogICAgICAnRkFMU0UnICtcbiAgICAgKiAgICAgJzwvRXhwYW5kVXNlckZpZWxkPicgK1xuICAgICAqICc8L1F1ZXJ5T3B0aW9ucz4nLFxuICAgICAqIDwvcHJlPlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBtb2RlbCBSZWZlcmVuY2UgdG8gdGhlIHBhcmVudCBtb2RlbCBmb3IgdGhlIHF1ZXJ5LiAgQWxsb3dzIHVzIHRvIHJlZmVyZW5jZSB3aGVuIG91dCBvZlxuICAgICAqIHNjb3BlLlxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiA8cHJlPlxuICAgICAqIC8vIFF1ZXJ5IHRvIHJldHJpZXZlIHRoZSBtb3N0IHJlY2VudCAyNSBtb2RpZmljYXRpb25zXG4gICAgICogbW9kZWwucmVnaXN0ZXJRdWVyeSh7XG4gICAgICAgICAqICAgIG5hbWU6ICdyZWNlbnRDaGFuZ2VzJyxcbiAgICAgICAgICogICAgQ0FNTFJvd0xpbWl0OiAyNSxcbiAgICAgICAgICogICAgcXVlcnk6ICcnICtcbiAgICAgICAgICogICAgICAgICc8UXVlcnk+JyArXG4gICAgICAgICAqICAgICAgICAnICAgPE9yZGVyQnk+JyArXG4gICAgICAgICAqICAgICAgICAnICAgICAgIDxGaWVsZFJlZiBOYW1lPVwiTW9kaWZpZWRcIiBBc2NlbmRpbmc9XCJGQUxTRVwiLz4nICtcbiAgICAgICAgICogICAgICAgICcgICA8L09yZGVyQnk+JyArXG4gICAgICAgICAqICAgICAgICAgICAgLy8gUHJldmVudHMgYW55IHJlY29yZHMgZnJvbSBiZWluZyByZXR1cm5lZCBpZiB1c2VyXG4gICAgICAgICAqICAgICAgICAgICAgLy8gZG9lc24ndCBoYXZlIHBlcm1pc3Npb25zIG9uIHByb2plY3RcbiAgICAgICAgICogICAgICAgICcgICA8V2hlcmU+JyArXG4gICAgICAgICAqICAgICAgICAnICAgICAgIDxJc05vdE51bGw+JyArXG4gICAgICAgICAqICAgICAgICAnICAgICAgICAgICA8RmllbGRSZWYgTmFtZT1cIlByb2plY3RcIi8+JyArXG4gICAgICAgICAqICAgICAgICAnICAgICAgIDwvSXNOb3ROdWxsPicgK1xuICAgICAgICAgKiAgICAgICAgJyAgIDwvV2hlcmU+JyArXG4gICAgICAgICAqICAgICAgICAnPC9RdWVyeT4nXG4gICAgICAgICAqIH0pO1xuICAgICAqIDwvcHJlPlxuICAgICAqL1xuICAgIGV4cG9ydCBjbGFzcyBRdWVyeSBpbXBsZW1lbnRzIElRdWVyeSB7XG4gICAgICAgIC8qKiBWZXJ5IG1lbW9yeSBpbnRlbnNpdmUgdG8gZW5hYmxlIGNhY2hlWE1MIHdoaWNoIGlzIGRpc2FibGVkIGJ5IGRlZmF1bHQqL1xuICAgICAgICBjYWNoZVhNTDpib29sZWFuID0gZmFsc2U7XG4gICAgICAgIC8qKiBSZWZlcmVuY2UgdG8gdGhlIG1vc3QgcmVjZW50IHF1ZXJ5IHdoZW4gcGVyZm9ybWluZyBHZXRMaXN0SXRlbUNoYW5nZXNTaW5jZVRva2VuICovXG4gICAgICAgIGNoYW5nZVRva2VuID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIGdldE1vZGVsKCk6SU1vZGVsO1xuXG4gICAgICAgIC8qKiBLZXkgdmFsdWUgaGFzaCBtYXAgd2l0aCBrZXkgYmVpbmcgdGhlIGlkIG9mIHRoZSBlbnRpdHkgKi9cbiAgICAgICAgaW5kZXhlZENhY2hlOklJbmRleGVkQ2FjaGU7XG4gICAgICAgIC8qKiBQcm9taXNlIHJlc29sdmVkIGFmdGVyIGZpcnN0IHRpbWUgcXVlcnkgaXMgZXhlY3V0ZWQgKi9cbiAgICAgICAgaW5pdGlhbGl6ZWQ6bmcuSURlZmVycmVkO1xuICAgICAgICAvKiogRGF0ZS9UaW1lIGxhc3QgcnVuICovXG4gICAgICAgIGxhc3RSdW47XG4gICAgICAgIGxpc3ROYW1lO1xuICAgICAgICBuYW1lOnN0cmluZztcbiAgICAgICAgLyoqIEZsYWcgdG8gcHJldmVudCB1cyBmcm9tIG1ha2VpbmcgY29uY3VycmVudCByZXF1ZXN0cyAqL1xuICAgICAgICBuZWdvdGlhdGluZ1dpdGhTZXJ2ZXI6Ym9vbGVhbiA9IGZhbHNlO1xuICAgICAgICAvKiogRXZlcnkgdGltZSB3ZSBydW4gd2Ugd2FudCB0byBjaGVjayB0byB1cGRhdGUgb3VyIGNhY2hlZCBkYXRhIHdpdGhcbiAgICAgICAgICogYW55IGNoYW5nZXMgbWFkZSBvbiB0aGUgc2VydmVyICovXG4gICAgICAgIG9wZXJhdGlvbiA9ICdHZXRMaXN0SXRlbUNoYW5nZXNTaW5jZVRva2VuJztcbiAgICAgICAgcHJvbWlzZTtcbiAgICAgICAgLyoqIERlZmF1bHQgcXVlcnkgcmV0dXJucyBsaXN0IGl0ZW1zIGluIGFzY2VuZGluZyBJRCBvcmRlciAqL1xuICAgICAgICBxdWVyeTpzdHJpbmcgPSBgXG4gICAgICAgIDxRdWVyeT5cbiAgICAgICAgICAgPE9yZGVyQnk+XG4gICAgICAgICAgICAgICA8RmllbGRSZWYgTmFtZT1cIklEXCIgQXNjZW5kaW5nPVwiVFJVRVwiLz5cbiAgICAgICAgICAgPC9PcmRlckJ5PlxuICAgICAgICA8L1F1ZXJ5PmA7XG4gICAgICAgIHF1ZXJ5T3B0aW9ucztcbiAgICAgICAgdmlld0ZpZWxkcztcbiAgICAgICAgd2ViVVJMO1xuXG4gICAgICAgIGNvbnN0cnVjdG9yKGNvbmZpZywgbW9kZWw6TW9kZWwpIHtcbiAgICAgICAgICAgIHRoaXMuaW5kZXhlZENhY2hlID0gYXBJbmRleGVkQ2FjaGVGYWN0b3J5LmNyZWF0ZSgpO1xuICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplZCA9ICRxLmRlZmVyKCk7XG4gICAgICAgICAgICB0aGlzLmxpc3ROYW1lID0gbW9kZWwubGlzdC5nZXRMaXN0SWQoKTtcbiAgICAgICAgICAgIHRoaXMucXVlcnlPcHRpb25zID0gYXBEZWZhdWx0TGlzdEl0ZW1RdWVyeU9wdGlvbnM7XG4gICAgICAgICAgICB0aGlzLnZpZXdGaWVsZHMgPSBtb2RlbC5saXN0LnZpZXdGaWVsZHM7XG5cbiAgICAgICAgICAgIC8qKiBTZXQgdGhlIGRlZmF1bHQgdXJsIGlmIHRoZSBjb25maWcgcGFyYW0gaXMgZGVmaW5lZCwgb3RoZXJ3aXNlIGxldCBTUFNlcnZpY2VzIGhhbmRsZSBpdCAqL1xuICAgICAgICAgICAgaWYgKGFwQ29uZmlnLmRlZmF1bHRVcmwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLndlYlVSTCA9IGFwQ29uZmlnLmRlZmF1bHRVcmw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIF8uZXh0ZW5kKHRoaXMsIGNvbmZpZyk7XG5cbiAgICAgICAgICAgIC8qKiBBbGxvdyB0aGUgbW9kZWwgdG8gYmUgcmVmZXJlbmNlZCBhdCBhIGxhdGVyIHRpbWUgKi9cbiAgICAgICAgICAgIHRoaXMuZ2V0TW9kZWwgPSAoKSA9PiBtb2RlbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAgICogQG5hbWUgUXVlcnkuZXhlY3V0ZVxuICAgICAgICAgKiBAbWV0aG9kT2YgUXVlcnlcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIFF1ZXJ5IFNoYXJlUG9pbnQsIHB1bGwgZG93biBhbGwgaW5pdGlhbCByZWNvcmRzIG9uIGZpcnN0IGNhbGwgYWxvbmcgd2l0aCBsaXN0IGRlZmluaXRpb24gaWYgdXNpbmdcbiAgICAgICAgICogXCJHZXRMaXN0SXRlbUNoYW5nZXNTaW5jZVRva2VuXCIuICBOb3RlOiB0aGlzIGlzICBzdWJzdGFudGlhbGx5IGxhcmdlciB0aGFuIFwiR2V0TGlzdEl0ZW1zXCIgb24gZmlyc3QgY2FsbC5cbiAgICAgICAgICogU3Vic2VxdWVudCBjYWxscyBwdWxscyBkb3duIGNoYW5nZXMgKEFzc3VtaW5nIG9wZXJhdGlvbjogXCJHZXRMaXN0SXRlbUNoYW5nZXNTaW5jZVRva2VuXCIpLlxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIEFueSBvcHRpb25zIHRoYXQgc2hvdWxkIGJlIHBhc3NlZCB0byBkYXRhU2VydmljZS5leGVjdXRlUXVlcnkuXG4gICAgICAgICAqIEByZXR1cm5zIHtvYmplY3RbXX0gQXJyYXkgb2YgbGlzdCBpdGVtIG9iamVjdHMuXG4gICAgICAgICAqL1xuICAgICAgICBleGVjdXRlKG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHZhciBxdWVyeSA9IHRoaXM7XG4gICAgICAgICAgICB2YXIgbW9kZWwgPSBxdWVyeS5nZXRNb2RlbCgpO1xuICAgICAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgICAgICAgLyoqIFJldHVybiBleGlzdGluZyBwcm9taXNlIGlmIHJlcXVlc3QgaXMgYWxyZWFkeSB1bmRlcndheSBvciBoYXMgYmVlbiBwcmV2aW91c2x5IGV4ZWN1dGVkIGluIHRoZSBwYXN0XG4gICAgICAgICAgICAgKiAxLzEwdGggb2YgYSBzZWNvbmQgKi9cbiAgICAgICAgICAgIGlmIChxdWVyeS5uZWdvdGlhdGluZ1dpdGhTZXJ2ZXIgfHwgKF8uaXNEYXRlKHF1ZXJ5Lmxhc3RSdW4pICYmIHF1ZXJ5Lmxhc3RSdW4uZ2V0VGltZSgpICsgMTAwID4gbmV3IERhdGUoKS5nZXRUaW1lKCkpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHF1ZXJ5LnByb21pc2U7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8qKiBTZXQgZmxhZyB0byBwcmV2ZW50IGFub3RoZXIgY2FsbCB3aGlsZSB0aGlzIHF1ZXJ5IGlzIGFjdGl2ZSAqL1xuICAgICAgICAgICAgICAgIHF1ZXJ5Lm5lZ290aWF0aW5nV2l0aFNlcnZlciA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAvKiogU2V0IGZsYWcgaWYgdGhpcyBpZiB0aGUgZmlyc3QgdGltZSB0aGlzIHF1ZXJ5IGhhcyBiZWVuIHJ1biAqL1xuICAgICAgICAgICAgICAgIHZhciBmaXJzdFJ1blF1ZXJ5ID0gXy5pc051bGwocXVlcnkubGFzdFJ1bik7XG5cbiAgICAgICAgICAgICAgICB2YXIgZGVmYXVsdHMgPSB7XG4gICAgICAgICAgICAgICAgICAgIC8qKiBEZXNpZ25hdGUgdGhlIGNlbnRyYWwgY2FjaGUgZm9yIHRoaXMgcXVlcnkgaWYgbm90IGFscmVhZHkgc2V0ICovXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldDogcXVlcnkuZ2V0Q2FjaGUoKVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKiogRXh0ZW5kIGRlZmF1bHRzIHdpdGggYW55IG9wdGlvbnMgKi9cbiAgICAgICAgICAgICAgICB2YXIgcXVlcnlPcHRpb25zID0gXy5leHRlbmQoe30sIGRlZmF1bHRzLCBvcHRpb25zKTtcblxuICAgICAgICAgICAgICAgIGFwRGF0YVNlcnZpY2UuZXhlY3V0ZVF1ZXJ5KG1vZGVsLCBxdWVyeSwgcXVlcnlPcHRpb25zKS50aGVuKChyZXN1bHRzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmaXJzdFJ1blF1ZXJ5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvKiogUHJvbWlzZSByZXNvbHZlZCB0aGUgZmlyc3QgdGltZSBxdWVyeSBpcyBjb21wbGV0ZWQgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5LmluaXRpYWxpemVkLnJlc29sdmUocXVlcnlPcHRpb25zLnRhcmdldCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvKiogUmVtb3ZlIGxvY2sgdG8gYWxsb3cgZm9yIGZ1dHVyZSByZXF1ZXN0cyAqL1xuICAgICAgICAgICAgICAgICAgICBxdWVyeS5uZWdvdGlhdGluZ1dpdGhTZXJ2ZXIgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAvKiogU3RvcmUgcXVlcnkgY29tcGxldGlvbiBkYXRlL3RpbWUgb24gbW9kZWwgdG8gYWxsb3cgdXMgdG8gaWRlbnRpZnkgYWdlIG9mIGRhdGEgKi9cbiAgICAgICAgICAgICAgICAgICAgbW9kZWwubGFzdFNlcnZlclVwZGF0ZSA9IG5ldyBEYXRlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShxdWVyeU9wdGlvbnMudGFyZ2V0KTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIC8qKiBTYXZlIHJlZmVyZW5jZSBvbiB0aGUgcXVlcnkgKiovXG4gICAgICAgICAgICAgICAgcXVlcnkucHJvbWlzZSA9IGRlZmVycmVkLnByb21pc2U7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBnZXRDYWNoZSgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmluZGV4ZWRDYWNoZTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgZXhwb3J0IGNsYXNzIFF1ZXJ5RmFjdG9yeSB7XG4gICAgICAgIFF1ZXJ5ID0gUXVlcnk7XG4gICAgICAgIGNvbnN0cnVjdG9yKCRpbmplY3Rvcikge1xuICAgICAgICAgICAgJHEgPSAkaW5qZWN0b3IuZ2V0KCckcScpO1xuICAgICAgICAgICAgYXBDb25maWcgPSAkaW5qZWN0b3IuZ2V0KCdhcENvbmZpZycpO1xuICAgICAgICAgICAgYXBEYXRhU2VydmljZSA9ICRpbmplY3Rvci5nZXQoJ2FwRGF0YVNlcnZpY2UnKTtcbiAgICAgICAgICAgIGFwRGVmYXVsdExpc3RJdGVtUXVlcnlPcHRpb25zID0gJGluamVjdG9yLmdldCgnYXBEZWZhdWx0TGlzdEl0ZW1RdWVyeU9wdGlvbnMnKTtcbiAgICAgICAgICAgIGFwSW5kZXhlZENhY2hlRmFjdG9yeSA9ICRpbmplY3Rvci5nZXQoJ2FwSW5kZXhlZENhY2hlRmFjdG9yeScpO1xuXG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBRdWVyeUZhY3Rvcnk6Y3JlYXRlXG4gICAgICAgICAqIEBtZXRob2RPZiBhbmd1bGFyUG9pbnQuYXBRdWVyeUZhY3RvcnlcbiAgICAgICAgICogQHBhcmFtIHtvYmplY3R9IGNvbmZpZyBPcHRpb25zIG9iamVjdC5cbiAgICAgICAgICogQHBhcmFtIHtvYmplY3R9IG1vZGVsIFJlZmVyZW5jZSB0byB0aGUgbW9kZWwuXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBJbnN0YW50aWF0ZXMgYW5kIHJldHVybnMgYSBuZXcgUXVlcnkuXG4gICAgICAgICAqL1xuICAgICAgICBjcmVhdGUoY29uZmlnLCBtb2RlbCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBRdWVyeShjb25maWcsIG1vZGVsKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBvYmplY3RcbiAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBRdWVyeUZhY3RvcnlcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBFeHBvc2VzIHRoZSBRdWVyeSBwcm90b3R5cGUgYW5kIGEgY29uc3RydWN0b3IgdG8gaW5zdGFudGlhdGUgYSBuZXcgUXVlcnkuXG4gICAgICpcbiAgICAgKiBAcmVxdWlyZXMgYW5ndWxhclBvaW50LmFwRGF0YVNlcnZpY2VcbiAgICAgKiBAcmVxdWlyZXMgYW5ndWxhclBvaW50LmFwQ29uZmlnXG4gICAgICovXG4gICAgYW5ndWxhci5tb2R1bGUoJ2FuZ3VsYXJQb2ludCcpXG4gICAgICAgIC5zZXJ2aWNlKCdhcFF1ZXJ5RmFjdG9yeScsIFF1ZXJ5RmFjdG9yeSk7XG5cblxufVxuIiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3MvYXAuZC50c1wiIC8+XG5cbm1vZHVsZSBhcCB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIGFwVXRpbGl0eVNlcnZpY2U7XG5cbiAgICBleHBvcnQgaW50ZXJmYWNlIElVc2VyIHtcbiAgICAgICAgZW1haWw/OnN0cmluZztcbiAgICAgICAgbG9naW5OYW1lPzpzdHJpbmc7XG4gICAgICAgIGxvb2t1cElkOiBudW1iZXI7XG4gICAgICAgIGxvb2t1cFZhbHVlOiBzdHJpbmc7XG4gICAgICAgIHNpcEFkZHJlc3M/OnN0cmluZztcbiAgICAgICAgdGl0bGU/OnN0cmluZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBVc2VyXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogQWxsb3dzIGZvciBlYXNpZXIgZGlzdGluY3Rpb24gd2hlbiBkZWJ1Z2dpbmcgaWYgb2JqZWN0IHR5cGUgaXMgc2hvd24gYXMgYSBVc2VyLiAgVHVybnMgYSBkZWxpbWl0ZWQgXCI7I1wiXG4gICAgICogc3RyaW5nIGludG8gYW4gb2JqZWN0IHNob3duIGJlbG93IGRlcGVpbmRpbmcgb24gZmllbGQgc2V0dGluZ3M6XG4gICAgICogPHByZT5cbiAgICAgKiB7XG4gICAgICAgICAqICAgICAgbG9va3VwSWQ6IDEsXG4gICAgICAgICAqICAgICAgbG9va3VwVmFsdWU6ICdKb2UgVXNlcidcbiAgICAgICAgICogfVxuICAgICAqIDwvcHJlPlxuICAgICAqIG9yXG4gICAgICogPHByZT5cbiAgICAgKiB7XG4gICAgICAgICAqICAgICAgbG9va3VwSWQ6IDEsXG4gICAgICAgICAqICAgICAgbG9va3VwVmFsdWU6ICdKb2UgVXNlcicsXG4gICAgICAgICAqICAgICAgbG9naW5OYW1lOiAnam9lLnVzZXInLFxuICAgICAgICAgKiAgICAgIGVtYWlsOiAnam9lQGNvbXBhbnkuY29tJyxcbiAgICAgICAgICogICAgICBzaXBBZGRyZXNzOiAnd2hhdGV2ZXInLFxuICAgICAgICAgKiAgICAgIHRpdGxlOiAnU3IuIFdpZGdldCBNYWtlcidcbiAgICAgICAgICogfVxuICAgICAqIDwvcHJlPlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzIERlbGltaXRlZCBzdHJpbmcgdXNlZCB0byBjcmVhdGUgYSBVc2VyIG9iamVjdC5cbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKi9cbiAgICBjbGFzcyBVc2VyIGltcGxlbWVudHMgSVVzZXJ7XG4gICAgICAgIGxvb2t1cFZhbHVlOiBzdHJpbmc7XG4gICAgICAgIGxvb2t1cElkOiBudW1iZXI7XG4gICAgICAgIGxvZ2luTmFtZTpzdHJpbmc7XG4gICAgICAgIGVtYWlsOnN0cmluZztcbiAgICAgICAgc2lwQWRkcmVzczpzdHJpbmc7XG4gICAgICAgIHRpdGxlOnN0cmluZztcbiAgICAgICAgY29uc3RydWN0b3Ioc3RyOnN0cmluZykge1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICAgICAgdmFyIHRoaXNVc2VyID0gbmV3IGFwVXRpbGl0eVNlcnZpY2UuU3BsaXRJbmRleChzdHIpO1xuXG4gICAgICAgICAgICB2YXIgdGhpc1VzZXJFeHBhbmRlZCA9IHRoaXNVc2VyLnZhbHVlLnNwbGl0KCcsIycpO1xuICAgICAgICAgICAgaWYgKHRoaXNVc2VyRXhwYW5kZWQubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgLy9TdGFuZGFyZCB1c2VyIGNvbHVtbnMgb25seSByZXR1cm4gYSBpZCwjdmFsdWUgcGFpclxuICAgICAgICAgICAgICAgIHNlbGYubG9va3VwSWQgPSB0aGlzVXNlci5pZDtcbiAgICAgICAgICAgICAgICBzZWxmLmxvb2t1cFZhbHVlID0gdGhpc1VzZXIudmFsdWU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vQWxsb3cgZm9yIGNhc2Ugd2hlcmUgdXNlciBhZGRzIGFkZGl0aW9uYWwgcHJvcGVydGllcyB3aGVuIHNldHRpbmcgdXAgZmllbGRcbiAgICAgICAgICAgICAgICBzZWxmLmxvb2t1cElkID0gdGhpc1VzZXIuaWQ7XG4gICAgICAgICAgICAgICAgc2VsZi5sb29rdXBWYWx1ZSA9IHRoaXNVc2VyRXhwYW5kZWRbMF0ucmVwbGFjZSgvKCwsKS9nLCAnLCcpO1xuICAgICAgICAgICAgICAgIHNlbGYubG9naW5OYW1lID0gdGhpc1VzZXJFeHBhbmRlZFsxXS5yZXBsYWNlKC8oLCwpL2csICcsJyk7XG4gICAgICAgICAgICAgICAgc2VsZi5lbWFpbCA9IHRoaXNVc2VyRXhwYW5kZWRbMl0ucmVwbGFjZSgvKCwsKS9nLCAnLCcpO1xuICAgICAgICAgICAgICAgIHNlbGYuc2lwQWRkcmVzcyA9IHRoaXNVc2VyRXhwYW5kZWRbM10ucmVwbGFjZSgvKCwsKS9nLCAnLCcpO1xuICAgICAgICAgICAgICAgIHNlbGYudGl0bGUgPSB0aGlzVXNlckV4cGFuZGVkWzRdLnJlcGxhY2UoLygsLCkvZywgJywnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuXG5cbiAgICBleHBvcnQgY2xhc3MgVXNlckZhY3Rvcnkge1xuICAgICAgICBVc2VyID0gVXNlcjtcbiAgICAgICAgY29uc3RydWN0b3IoJGluamVjdG9yKSB7XG4gICAgICAgICAgICBhcFV0aWxpdHlTZXJ2aWNlID0gJGluamVjdG9yLmdldCgnYXBVdGlsaXR5U2VydmljZScpO1xuXG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcFVzZXJGYWN0b3J5OmNyZWF0ZVxuICAgICAgICAgKiBAbWV0aG9kT2YgYW5ndWxhclBvaW50LmFwVXNlckZhY3RvcnlcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIEluc3RhbnRpYXRlcyBhbmQgcmV0dXJucyBhIG5ldyBVc2VyIGZpZWxkLlxuICAgICAgICAgKi9cbiAgICAgICAgY3JlYXRlKHMpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgVXNlcihzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcFVzZXJGYWN0b3J5XG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogVG9vbHMgdG8gYXNzaXN0IHdpdGggdGhlIGNyZWF0aW9uIG9mIENBTUwgcXVlcmllcy5cbiAgICAgKlxuICAgICAqL1xuICAgIGFuZ3VsYXIubW9kdWxlKCdhbmd1bGFyUG9pbnQnKVxuICAgICAgICAuc2VydmljZSgnYXBVc2VyRmFjdG9yeScsIFVzZXJGYWN0b3J5KTtcblxuXG59XG4iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy9hbmd1bGFyanMvYW5ndWxhci5kLnRzXCIgLz5cblxuXG5kZWNsYXJlIG1vZHVsZSBhcCB7XG5cblxuXG4gICAgZXhwb3J0IGludGVyZmFjZSBJTGlzdEl0ZW1DcnVkT3B0aW9uczxUPiB7XG4gICAgICAgIHRhcmdldDpJSW5kZXhlZENhY2hlPFQ+O1xuICAgIH1cblxuXG4gICAgZXhwb3J0IGludGVyZmFjZSBJTGlzdEl0ZW1WZXJzaW9uIGV4dGVuZHMgSUxpc3RJdGVtIHtcbiAgICAgICAgdmVyc2lvbjogRGF0ZTtcbiAgICB9XG5cbiAgICBleHBvcnQgaW50ZXJmYWNlIElXb3JrZmxvd0RlZmluaXRpb24ge1xuICAgICAgICBuYW1lOiBzdHJpbmc7XG4gICAgICAgIGluc3RhbnRpYXRpb25Vcmw6IHN0cmluZztcbiAgICAgICAgdGVtcGxhdGVJZDogc3RyaW5nO1xuICAgIH1cblxuICAgIGV4cG9ydCBpbnRlcmZhY2UgSVN0YXJ0V29ya2Zsb3dQYXJhbXMge1xuICAgICAgICBpdGVtOiBzdHJpbmc7XG4gICAgICAgIHRlbXBsYXRlSWQ6IHN0cmluZztcbiAgICAgICAgd29ya2Zsb3dQYXJhbWV0ZXJzPzogc3RyaW5nO1xuICAgICAgICBmaWxlUmVmPzogc3RyaW5nO1xuICAgICAgICB3b3JrZmxvd05hbWU/OiBzdHJpbmc7XG4gICAgfVxuXG4gICAgZXhwb3J0IGludGVyZmFjZSBJRGlzY3Vzc2lvblRocmVhZCB7XG4gICAgICAgIHBvc3RzOiBJRGlzY3Vzc2lvblRocmVhZFBvc3RbXTtcbiAgICAgICAgbmV4dElkOiBudW1iZXI7XG4gICAgICAgIGdldE5leHRJZCgpOiBudW1iZXI7XG4gICAgICAgIGNyZWF0ZVBvc3QocGFyZW50SWQ6IG51bWJlciwgY29udGVudDogc3RyaW5nKTogSURpc2N1c3Npb25UaHJlYWRQb3N0O1xuICAgICAgICBnZXRMaXN0SXRlbSgpOiBJTGlzdEl0ZW07XG4gICAgICAgIHBydW5lKCk6IHZvaWQ7XG4gICAgICAgIHNhdmVDaGFuZ2VzKCk6IG5nLklQcm9taXNlPElMaXN0SXRlbT47XG4gICAgfVxuXG4gICAgZXhwb3J0IGludGVyZmFjZSBJRGlzY3Vzc2lvblRocmVhZFBvc3Qge1xuICAgICAgICBjb250ZW50OiBzdHJpbmc7XG4gICAgICAgIGlkOiBudW1iZXI7XG4gICAgICAgIHBhcmVudElkOiBudW1iZXI7XG4gICAgICAgIGNyZWF0ZWQ6IERhdGU7XG4gICAgICAgIHVzZXI6IElVc2VyO1xuICAgICAgICByZW1vdmVQb3N0KCk6IHZvaWQ7XG4gICAgICAgIGRlbGV0ZVBvc3QoKTogbmcuSVByb21pc2U8SUxpc3RJdGVtPjtcbiAgICAgICAgc2F2ZVBvc3QoKTogbmcuSVByb21pc2U8SUxpc3RJdGVtPjtcbiAgICAgICAgcmVwbHkoKTogbmcuSVByb21pc2U8SUxpc3RJdGVtPjtcbiAgICB9XG5cbiAgICBleHBvcnQgaW50ZXJmYWNlIElDYWNoZTxUPiBleHRlbmRzIElJbmRleGVkQ2FjaGU8VD57XG4gICAgICAgIC8vVE9ETyBQb3B1bGF0ZSBtZSFcbiAgICB9XG5cbiAgICBleHBvcnQgaW50ZXJmYWNlIElVc2VyUGVybWlzc2lvbnNPYmplY3Qge1xuICAgICAgICBWaWV3TGlzdEl0ZW1zOiBib29sZWFuO1xuICAgICAgICBBZGRMaXN0SXRlbXM6IGJvb2xlYW47XG4gICAgICAgIEVkaXRMaXN0SXRlbXM6IGJvb2xlYW47XG4gICAgICAgIERlbGV0ZUxpc3RJdGVtczogYm9vbGVhbjtcbiAgICAgICAgQXBwcm92ZUl0ZW1zOiBib29sZWFuO1xuICAgICAgICBPcGVuSXRlbXM6IGJvb2xlYW47XG4gICAgICAgIFZpZXdWZXJzaW9uczogYm9vbGVhbjtcbiAgICAgICAgRGVsZXRlVmVyc2lvbnM6IGJvb2xlYW47XG4gICAgICAgIENhbmNlbENoZWNrb3V0OiBib29sZWFuO1xuICAgICAgICBQZXJzb25hbFZpZXdzOiBib29sZWFuO1xuICAgICAgICBNYW5hZ2VMaXN0czogYm9vbGVhbjtcbiAgICAgICAgVmlld0Zvcm1QYWdlczogYm9vbGVhbjtcbiAgICAgICAgT3BlbjogYm9vbGVhbjtcbiAgICAgICAgVmlld1BhZ2VzOiBib29sZWFuO1xuICAgICAgICBBZGRBbmRDdXN0b21pemVQYWdlczogYm9vbGVhbjtcbiAgICAgICAgQXBwbHlUaGVtZUFuZEJvcmRlcjogYm9vbGVhbjtcbiAgICAgICAgQXBwbHlTdHlsZVNoZWV0czogYm9vbGVhbjtcbiAgICAgICAgVmlld1VzYWdlRGF0YTogYm9vbGVhbjtcbiAgICAgICAgQ3JlYXRlU1NDU2l0ZTogYm9vbGVhbjtcbiAgICAgICAgTWFuYWdlU3Vid2ViczogYm9vbGVhbjtcbiAgICAgICAgQ3JlYXRlR3JvdXBzOiBib29sZWFuO1xuICAgICAgICBNYW5hZ2VQZXJtaXNzaW9uczogYm9vbGVhbjtcbiAgICAgICAgQnJvd3NlRGlyZWN0b3JpZXM6IGJvb2xlYW47XG4gICAgICAgIEJyb3dzZVVzZXJJbmZvOiBib29sZWFuO1xuICAgICAgICBBZGREZWxQcml2YXRlV2ViUGFydHM6IGJvb2xlYW47XG4gICAgICAgIFVwZGF0ZVBlcnNvbmFsV2ViUGFydHM6IGJvb2xlYW47XG4gICAgICAgIE1hbmFnZVdlYjogYm9vbGVhbjtcbiAgICAgICAgVXNlUmVtb3RlQVBJczogYm9vbGVhbjtcbiAgICAgICAgTWFuYWdlQWxlcnRzOiBib29sZWFuO1xuICAgICAgICBDcmVhdGVBbGVydHM6IGJvb2xlYW47XG4gICAgICAgIEVkaXRNeVVzZXJJbmZvOiBib29sZWFuO1xuICAgICAgICBFbnVtZXJhdGVQZXJtaXNzaW9uczogYm9vbGVhbjtcbiAgICAgICAgRnVsbE1hc2s6IGJvb2xlYW47XG4gICAgfVxuXG5cbn1cblxuaW50ZXJmYWNlIEpRdWVyeSB7XG4gICAgU1BGaWx0ZXJOb2RlKHN0cmluZyk7XG59XG5cbmludGVyZmFjZSBfIHtcbiAgICBpc0d1aWQoc3RyaW5nKTpib29sZWFuO1xuICAgIGRlZXBJbihPYmplY3QsIHN0cmluZyk6IGJvb2xlYW47XG4gICAgZGVlcEdldChPYmplY3QsIHN0cmluZyk6IGFueTtcbiAgICBpc0RlZmluZWQodmFsOmFueSk6IGJvb2xlYW47XG59XG5cbmludGVyZmFjZSBjaGFuY2Uge1xuXG59XG5cbmludGVyZmFjZSB3aW5kb3cge1xuICAgIFVSTDtcbiAgICBDaGFuY2U7XG59XG5cbmludGVyZmFjZSBJVG9hc3R7XG4gICAgdG9hc3RJZDpudW1iZXI7XG4gICAgc2NvcGU6bmcuSVNjb3BlO1xuICAgIGljb25DbGFzczpzdHJpbmc7XG59XG5cbmludGVyZmFjZSB0b2FzdHIge1xuICAgIGVycm9yKG1lc3NhZ2U6IHN0cmluZywgdGl0bGU/OnN0cmluZywgb3B0aW9uc092ZXJyaWRlPzpPYmplY3QpOklUb2FzdDtcbiAgICBpbmZvKG1lc3NhZ2U6IHN0cmluZywgdGl0bGU/OnN0cmluZywgb3B0aW9uc092ZXJyaWRlPzpPYmplY3QpOklUb2FzdDtcbiAgICBzdWNjZXNzKG1lc3NhZ2U6IHN0cmluZywgdGl0bGU/OnN0cmluZywgb3B0aW9uc092ZXJyaWRlPzpPYmplY3QpOklUb2FzdDtcbiAgICB3YXJuaW5nKG1lc3NhZ2U6IHN0cmluZywgdGl0bGU/OnN0cmluZywgb3B0aW9uc092ZXJyaWRlPzpPYmplY3QpOklUb2FzdDtcbiAgICBjbGVhcihJVG9hc3Q/KTp2b2lkO1xufVxuIiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3MvYXAuZC50c1wiIC8+XG5cbm1vZHVsZSBhcCB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyoqIExvY2FsIHJlZmVyZW5jZXMgdG8gY2FjaGVkIHByb21pc2VzICovXG4gICAgdmFyIF9nZXRHcm91cENvbGxlY3Rpb24sIF9nZXRVc2VyUHJvZmlsZTtcblxuICAgIGNsYXNzIFVzZXJNb2RlbCB7XG4gICAgICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgJHE6bmcuSVFTZXJ2aWNlLCBwcml2YXRlIGFwRGF0YVNlcnZpY2U6RGF0YVNlcnZpY2UpIHtcblxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBVc2VyTW9kZWw6Y2hlY2tJZk1lbWJlclxuICAgICAgICAgKiBAbWV0aG9kT2YgYW5ndWxhclBvaW50LmFwVXNlck1vZGVsXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBDaGVja3MgdG8gc2VlIGlmIGN1cnJlbnQgdXNlciBpcyBhIG1lbWJlciBvZiB0aGUgc3BlY2lmaWVkIGdyb3VwLlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gZ3JvdXBOYW1lIE5hbWUgb2YgdGhlIGdyb3VwLlxuICAgICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmb3JjZT1mYWxzZV0gSWdub3JlIGFueSBjYWNoZWQgdmFsdWUuXG4gICAgICAgICAqIEByZXR1cm5zIHt7SUQ6c3RyaW5nLCBOYW1lOnN0cmluZywgRGVzY3JpcHRpb246c3RyaW5nLCBPd25lcklkOnN0cmluZywgT3duZXJJc1VzZXI6c3RyaW5nfX0gSXMgdGhlIHVzZXIgYSBtZW1iZXIgb2YgdGhlIGdyb3VwP1xuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiA8cHJlPntJRDogXCIxOTBcIiwgTmFtZTogXCJCbG9nIENvbnRyaWJ1dG9yc1wiLCBEZXNjcmlwdGlvbjogXCJXZSBhcmUgYmxvZ2dlcnMuLi5cIiwgT3duZXJJRDogXCIxMjZcIiwgT3duZXJJc1VzZXI6IFwiRmFsc2VcIn08L3ByZT5cbiAgICAgICAgICovXG4gICAgICAgIGNoZWNrSWZNZW1iZXIoZ3JvdXBOYW1lOnN0cmluZywgZm9yY2U/OmJvb2xlYW4pIHtcbiAgICAgICAgICAgIC8vQWxsb3cgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIGJlZm9yZSBncm91cCBjb2xsZWN0aW9uIGlzIHJlYWR5XG4gICAgICAgICAgICB2YXIgZGVmZXJyZWQgPSB0aGlzLiRxLmRlZmVyKCk7XG5cbiAgICAgICAgICAgIC8vSW5pdGlhbGx5IGVuc3VyZSBncm91cHMgYXJlIHJlYWR5LCBhbnkgZnV0dXJlIGNhbGxzIHdpbGwgcmVjZWl2ZSB0aGUgcmV0dXJuXG4gICAgICAgICAgICB0aGlzLmdldEdyb3VwQ29sbGVjdGlvbihmb3JjZSkudGhlbigoZ3JvdXBDb2xsZWN0aW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIGdyb3VwRGVmaW5pdGlvbiA9IF8uZmluZChncm91cENvbGxlY3Rpb24sIHtOYW1lOiBncm91cE5hbWV9KTtcbiAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGdyb3VwRGVmaW5pdGlvbik7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcFVzZXJNb2RlbDpnZXRHcm91cENvbGxlY3Rpb25cbiAgICAgICAgICogQG1ldGhvZE9mIGFuZ3VsYXJQb2ludC5hcFVzZXJNb2RlbFxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogUmV0dXJucyB0aGUgZ3JvdXAgbmFtZXMgZm9yIHRoZSBjdXJyZW50IHVzZXIgYW5kIGNhY2hlcyByZXN1bHRzLlxuICAgICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmb3JjZT1mYWxzZV0gSWdub3JlIGFueSBjYWNoZWQgdmFsdWUuXG4gICAgICAgICAqIEByZXR1cm5zIHtzdHJpbmdbXX0gUHJvbWlzZSB3aGljaCByZXNvbHZlcyB3aXRoIHRoZSBhcnJheSBvZiBncm91cHMgdGhlIHVzZXIgYmVsb25ncyB0by5cbiAgICAgICAgICovXG4gICAgICAgIGdldEdyb3VwQ29sbGVjdGlvbihmb3JjZT86Ym9vbGVhbikge1xuICAgICAgICAgICAgaWYgKCFfZ2V0R3JvdXBDb2xsZWN0aW9uIHx8IGZvcmNlKSB7XG4gICAgICAgICAgICAgICAgLyoqIENyZWF0ZSBhIG5ldyBkZWZlcnJlZCBvYmplY3QgaWYgbm90IGFscmVhZHkgZGVmaW5lZCAqL1xuICAgICAgICAgICAgICAgIHZhciBkZWZlcnJlZCA9IHRoaXMuJHEuZGVmZXIoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmdldFVzZXJQcm9maWxlKGZvcmNlKS50aGVuKCh1c2VyUHJvZmlsZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFwRGF0YVNlcnZpY2UuZ2V0R3JvdXBDb2xsZWN0aW9uRnJvbVVzZXIodXNlclByb2ZpbGUudXNlckxvZ2luTmFtZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKChncm91cENvbGxlY3Rpb24pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGdyb3VwQ29sbGVjdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBfZ2V0R3JvdXBDb2xsZWN0aW9uID0gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBfZ2V0R3JvdXBDb2xsZWN0aW9uO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBVc2VyTW9kZWw6Z2V0VXNlclByb2ZpbGVcbiAgICAgICAgICogQG1ldGhvZE9mIGFuZ3VsYXJQb2ludC5hcFVzZXJNb2RlbFxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogUmV0dXJucyB0aGUgdXNlciBwcm9maWxlIGZvciB0aGUgY3VycmVudCB1c2VyIGFuZCBjYWNoZXMgcmVzdWx0cy5cbiAgICAgICAgICogUHVsbCB1c2VyIHByb2ZpbGUgaW5mbyBhbmQgcGFyc2UgaW50byBhIHByb2ZpbGUgb2JqZWN0XG4gICAgICAgICAqIGh0dHA6Ly9zcHNlcnZpY2VzLmNvZGVwbGV4LmNvbS93aWtpcGFnZT90aXRsZT1HZXRVc2VyUHJvZmlsZUJ5TmFtZVxuICAgICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmb3JjZT1mYWxzZV0gSWdub3JlIGFueSBjYWNoZWQgdmFsdWUuXG4gICAgICAgICAqIEByZXR1cm5zIHtvYmplY3R9IFByb21pc2Ugd2hpY2ggcmVzb2x2ZXMgd2l0aCB0aGUgcmVxdWVzdGVkIHVzZXIgcHJvZmlsZS5cbiAgICAgICAgICovXG4gICAgICAgIGdldFVzZXJQcm9maWxlKGZvcmNlPzpib29sZWFuKSB7XG4gICAgICAgICAgICBpZiAoIV9nZXRVc2VyUHJvZmlsZSB8fCBmb3JjZSkge1xuICAgICAgICAgICAgICAgIC8qKiBDcmVhdGUgYSBuZXcgZGVmZXJyZWQgb2JqZWN0IGlmIG5vdCBhbHJlYWR5IGRlZmluZWQgKi9cbiAgICAgICAgICAgICAgICBfZ2V0VXNlclByb2ZpbGUgPSB0aGlzLmFwRGF0YVNlcnZpY2UuZ2V0VXNlclByb2ZpbGVCeU5hbWUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBfZ2V0VXNlclByb2ZpbGU7XG4gICAgICAgIH1cblxuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIHNlcnZpY2VcbiAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBVc2VyTW9kZWxcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBTaW1wbGUgc2VydmljZSB0aGF0IGFsbG93cyB1cyB0byByZXF1ZXN0IGFuZCBjYWNoZSBib3RoIHRoZSBjdXJyZW50IHVzZXIgYW5kIHRoZWlyIGdyb3VwIG1lbWJlcnNoaXBzLlxuICAgICAqXG4gICAgICogQHJlcXVpcmVzIGFwRGF0YVNlcnZpY2VcbiAgICAgKlxuICAgICAqL1xuICAgIGFuZ3VsYXIubW9kdWxlKCdhbmd1bGFyUG9pbnQnKVxuICAgICAgICAuc2VydmljZSgnYXBVc2VyTW9kZWwnLCBVc2VyTW9kZWwpO1xuXG59XG4iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy9hcC5kLnRzXCIgLz5cblxubW9kdWxlIGFwIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgc2VydmljZTogQ2FjaGVTZXJ2aWNlLCAkcTogbmcuSVFTZXJ2aWNlLCAkbG9nOiBuZy5JTG9nU2VydmljZSwgYXBJbmRleGVkQ2FjaGVGYWN0b3J5OiBJbmRleGVkQ2FjaGVGYWN0b3J5O1xuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIFN0b3JlcyBsaXN0IG5hbWVzIHdoZW4gYSBuZXcgbW9kZWwgaXMgcmVnaXN0ZXJlZCBhbG9uZyB3aXRoIHRoZSBHVUlEIHRvIGFsbG93IHVzIHRvXG4gICAgICogICAgIHJldHJpZXZlIHRoZSBHVUlEIGluIGZ1dHVyZVxuICAgICAqIEBleGFtcGxlXG4gICAgICogPHByZT5cbiAgICAgKiAgICAgbGlzdE5hbWVUb0lkTWFwID0ge1xuICAgICAgICAgKiAgICAgICAgICBsaXN0MU5hbWU6IHtcbiAgICAgICAgICogICAgICAgICAgICAgIG1vZGVsOiBsaXN0MU1vZGVsLFxuICAgICAgICAgKiAgICAgICAgICAgICAgbGlzdElkOiBsaXN0MUdVSURcbiAgICAgICAgICogICAgICAgICAgfSxcbiAgICAgICAgICogICAgICAgICAgbGlzdDJOYW1lOiB7XG4gICAgICAgICAqICAgICAgICAgICAgICBtb2RlbDogbGlzdDJNb2RlbCxcbiAgICAgICAgICogICAgICAgICAgICAgIGxpc3RJZDogbGlzdDJHVUlEXG4gICAgICAgICAqICAgICAgICAgIH1cbiAgICAgICAgICogICAgICAgICAgLi4uXG4gICAgICAgICAqICAgICB9XG4gICAgICogPC9wcmU+XG4gICAgICovXG4gICAgdmFyIGxpc3ROYW1lVG9JZE1hcCA9IHt9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gU3RvcmVzIGxpc3QgR1VJRCB3aGVuIGEgbmV3IG1vZGVsIGlzIHJlZ2lzdGVyZWQgd2l0aCBhIHJlZmVyZW5jZSB0byB0aGUgbW9kZWwgZm9yXG4gICAgICAgICAqICAgICBmdXR1cmUgcmVmZXJlbmNlLlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiA8cHJlPlxuICAgICAgICAgKiAgICAgbGlzdHNNYXBwZWRCeUxpc3RJZCA9IHtcbiAgICAgICAgICogICAgICAgICAgbGlzdDFHVUlEOiB7XG4gICAgICAgICAqICAgICAgICAgICAgICBtb2RlbDogbGlzdDFNb2RlbFxuICAgICAgICAgKiAgICAgICAgICB9LFxuICAgICAgICAgKiAgICAgICAgICBsaXN0MkdVSUQ6IHtcbiAgICAgICAgICogICAgICAgICAgICAgIG1vZGVsOiBsaXN0Mk1vZGVsXG4gICAgICAgICAqICAgICAgICAgIH1cbiAgICAgICAgICogICAgICAgICAgLi4uXG4gICAgICAgICAqICAgICB9XG4gICAgICAgICAqIDwvcHJlPlxuICAgICAgICAgKi9cbiAgICAgICAgbGlzdHNNYXBwZWRCeUxpc3RJZCA9IHt9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIFRoZSBNYWluIGNhY2hlIG9iamVjdCB3aGljaCBzdG9yZXMgTW9kZWxDYWNoZSBvYmplY3RzLiAgS2V5cyBiZWluZyB0aGUgbW9kZWwgR1VJRCBhbmRcbiAgICAgICAgICogICAgIHZhbHVlIGJlaW5nIGFuIGEgTW9kZWxDYWNoZSBvYmplY3RcbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogPHByZT5cbiAgICAgICAgICogICAgIGVudGl0eUNhY2hlID0ge1xuICAgICAgICAgKiAgICAgICAgICBsaXN0MUdVSUQ6IHtcbiAgICAgICAgICogICAgICAgICAgICAgIGl0ZW0xSUQ6IHsgLy9Fbml0eUNhY2hlIGZvciBlbnRpdHkgMVxuICAgICAgICAgKiAgICAgICAgICAgICAgICAgIGFzc29jaWF0aW9uUXVldWU6IFtdLFxuICAgICAgICAgKiAgICAgICAgICAgICAgICAgIHVwZGF0ZUNvdW50OiAzLFxuICAgICAgICAgKiAgICAgICAgICAgICAgICAgIGxpc3RJZDogbGlzdDFHVUlELFxuICAgICAgICAgKiAgICAgICAgICAgICAgICAgIGVudGl0eUlkOiBpdGVtMUlELFxuICAgICAgICAgKiAgICAgICAgICAgICAgICAgIGVudGl0eUxvY2F0aW9uczogW10sXG4gICAgICAgICAqICAgICAgICAgICAgICAgICAgZW50aXR5OiB7fSAvL1RoaXMgaXMgd2hlcmUgdGhlIGFjdHVhbCBlbnRpdHkgaXMgcmVmZXJlbmNlZFxuICAgICAgICAgKiAgICAgICAgICAgICAgfVxuICAgICAgICAgKiAgICAgICAgICAgICAgaXRlbTJJRDogeyAvL0VuaXR5Q2FjaGUgZm9yIGVudGl0eSAyXG4gICAgICAgICAqICAgICAgICAgICAgICAgICAgLi4uXG4gICAgICAgICAqICAgICAgICAgICAgICB9XG4gICAgICAgICAqICAgICAgICAgIH0sXG4gICAgICAgICAqICAgICAgICAgIGxpc3QyR1VJRDoge1xuICAgICAgICAgKiAgICAgICAgICAgICAgaXRlbTFJRDogLi4uXG4gICAgICAgICAqICAgICAgICAgIH1cbiAgICAgICAgICogICAgICAgICAgLi4uXG4gICAgICAgICAqICAgICB9XG4gICAgICAgICAqIDwvcHJlPlxuICAgICAgICAgKi9cbiAgICAgICAgZW50aXR5Q2FjaGUgPSB7fTtcblxuXG4gICAgLyoqXG4gICAgICogQG5hbWUgRW50aXR5Q2FjaGVcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBDYWNoZSBjb25zdHJ1Y3RvciB0aGF0IG1haW50YWlucyBhIHF1ZXVlIG9mIGFsbCByZXF1ZXN0cyBmb3IgYSBsaXN0IGl0ZW0sIGNvdW50ZXIgZm9yIHRoZSBudW1iZXIgb2YgdGltZXNcbiAgICAgKiB0aGUgY2FjaGUgaGFzIGJlZW4gdXBkYXRlZCwgdGltZXN0YW1wIG9mIGxhc3QgdXBkYXRlLCBhbmQgYWRkL3VwZGF0ZS9yZW1vdmUgZnVuY3Rpb25hbGl0eS5cbiAgICAgKiBAY29uc3RydWN0b3IgYXBDYWNoZVNlcnZpY2VcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbGlzdElkIEdVSUQgZm9yIGxpc3QgdGhlIGxpc3QgaXRlbSBiZWxvbmdzIHRvLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbnRpdHlJZCBUaGUgZW50aXR5LmlkLlxuICAgICAqL1xuICAgIGNsYXNzIEVudGl0eUNvbnRhaW5lciB7XG4gICAgICAgIGFzc29jaWF0aW9uUXVldWUgPSBbXTtcbiAgICAgICAgZW50aXR5O1xuICAgICAgICBlbnRpdHlMb2NhdGlvbnMgPSBbXTtcbiAgICAgICAgbGlzdElkO1xuICAgICAgICB1cGRhdGVDb3VudCA9IDA7XG5cbiAgICAgICAgY29uc3RydWN0b3IobGlzdElkOiBzdHJpbmcsIHByaXZhdGUgZW50aXR5SWQ6IG51bWJlcikge1xuICAgICAgICAgICAgdGhpcy5saXN0SWQgPSBzZXJ2aWNlLmdldExpc3RJZChsaXN0SWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuYW1lIEVudGl0eUNvbnRhaW5lci5nZXRFbnRpdHlcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIFByb21pc2Ugd2hpY2ggcmV0dXJucyB0aGUgcmVxdWVzdGVkIGVudGl0eSBvbmNlIGl0IGhhcyBiZWVuIHJlZ2lzdGVyZWQgaW4gdGhlIGNhY2hlLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0RW50aXR5KCkge1xuICAgICAgICAgICAgdmFyIGVudGl0eUNvbnRhaW5lciA9IHRoaXM7XG4gICAgICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuICAgICAgICAgICAgaWYgKGVudGl0eUNvbnRhaW5lci5lbnRpdHkpIHtcbiAgICAgICAgICAgICAgICAvKiogRW50aXR5IGFscmVhZHkgZXhpc3RzIHNvIHJlc29sdmUgaW1tZWRpYXRlbHkgKi9cbiAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGVudGl0eUNvbnRhaW5lci5lbnRpdHkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBlbnRpdHlDb250YWluZXIuYXNzb2NpYXRpb25RdWV1ZS5wdXNoKGRlZmVycmVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgICB9XG5cblxuICAgICAgICByZW1vdmVFbnRpdHkoKSB7XG4gICAgICAgICAgICB2YXIgZW50aXR5Q29udGFpbmVyID0gdGhpcztcbiAgICAgICAgICAgIHNlcnZpY2UucmVtb3ZlRW50aXR5KGVudGl0eUNvbnRhaW5lci5saXN0SWQsIGVudGl0eUNvbnRhaW5lci5lbnRpdHlJZCk7XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBuYW1lIE1vZGVsQ2FjaGVcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBDYWNoZSBvZiBFbnRpdHkgQ29udGFpbmVycyBmb3IgZWFjaCByZWdpc3RlcmVkIGVudGl0eSByZXRyaWV2ZWQgYnkgdGhlIG1vZGVsLlxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqL1xuICAgIGNsYXNzIE1vZGVsQ2FjaGUgZXh0ZW5kcyBJbmRleGVkQ2FjaGUge1xuXG4gICAgfVxuXG4gICAgZXhwb3J0IGNsYXNzIENhY2hlU2VydmljZSB7XG4gICAgICAgIGVudGl0eUNhY2hlID0gZW50aXR5Q2FjaGU7XG4gICAgICAgIGNvbnN0cnVjdG9yKCRpbmplY3Rvcikge1xuICAgICAgICAgICAgJHEgPSAkaW5qZWN0b3IuZ2V0KCckcScpO1xuICAgICAgICAgICAgJGxvZyA9ICRpbmplY3Rvci5nZXQoJyRsb2cnKTtcbiAgICAgICAgICAgIGFwSW5kZXhlZENhY2hlRmFjdG9yeSA9ICRpbmplY3Rvci5nZXQoJ2FwSW5kZXhlZENhY2hlRmFjdG9yeScpO1xuICAgICAgICAgICAgc2VydmljZSA9IHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcENhY2hlU2VydmljZTpkZWxldGVFbnRpdHlcbiAgICAgICAgICogQG1ldGhvZE9mIGFuZ3VsYXJQb2ludC5hcENhY2hlU2VydmljZVxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogRGVsZXRlcyBhbGwgcmVmZXJlbmNlcyB0byBhbiBlbnRpdHkuXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsaXN0SWQgR1VJRCBmb3IgbGlzdCB0aGUgbGlzdCBpdGVtIGJlbG9uZ3MgdG8uXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbnRpdHlJZCBUaGUgZW50aXR5LmlkLlxuICAgICAgICAgKi9cbiAgICAgICAgZGVsZXRlRW50aXR5KGxpc3RJZDogc3RyaW5nLCBlbnRpdHlJZDogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgICAgICB2YXIgZW50aXR5VHlwZUtleSA9IHRoaXMuZ2V0TGlzdElkKGxpc3RJZCk7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZUVudGl0eShlbnRpdHlUeXBlS2V5LCBlbnRpdHlJZCk7XG4gICAgICAgICAgICB2YXIgbW9kZWwgPSB0aGlzLmdldE1vZGVsKGVudGl0eVR5cGVLZXkpO1xuICAgICAgICAgICAgXy5lYWNoKG1vZGVsLnF1ZXJpZXMsIChxdWVyeSkgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBjYWNoZSA9IHF1ZXJ5LmdldENhY2hlKCk7XG4gICAgICAgICAgICAgICAgY2FjaGUucmVtb3ZlRW50aXR5KGVudGl0eUlkKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBDYWNoZVNlcnZpY2U6Z2V0Q2FjaGVkRW50aXRpZXNcbiAgICAgICAgICogQG1ldGhvZE9mIGFuZ3VsYXJQb2ludC5hcENhY2hlU2VydmljZVxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogUmV0dXJucyBhbGwgZW50aXRpZXMgZm9yIGEgZ2l2ZW4gbW9kZWwgYXMgYW4gaW5kZXhlZCBjYWNoZSB3aXRoIGtleXMgYmVpbmcgdGhlIGVudGl0eSBpZCdzLlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbGlzdElkIEdVSUQgZm9yIGxpc3QgdGhlIGxpc3QgaXRlbSBiZWxvbmdzIHRvLlxuICAgICAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSBJbmRleGVkIGNhY2hlIGNvbnRhaW5pbmcgYWxsIGVudGl0aWVzIGZvciBhIG1vZGVsLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0Q2FjaGVkRW50aXRpZXMobGlzdElkOiBzdHJpbmcpOiBJSW5kZXhlZENhY2hlIHtcbiAgICAgICAgICAgIHZhciBtb2RlbENhY2hlID0gdGhpcy5nZXRNb2RlbENhY2hlKGxpc3RJZCksXG4gICAgICAgICAgICAgICAgYWxsRW50aXRpZXMgPSBhcEluZGV4ZWRDYWNoZUZhY3RvcnkuY3JlYXRlKCk7XG4gICAgICAgICAgICBfLmVhY2gobW9kZWxDYWNoZSwgKGVudGl0eUNvbnRhaW5lcikgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChlbnRpdHlDb250YWluZXIuZW50aXR5ICYmIGVudGl0eUNvbnRhaW5lci5lbnRpdHkuaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgYWxsRW50aXRpZXMuYWRkRW50aXR5KGVudGl0eUNvbnRhaW5lci5lbnRpdHkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGFsbEVudGl0aWVzO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBDYWNoZVNlcnZpY2U6Z2V0Q2FjaGVkRW50aXR5XG4gICAgICAgICAqIEBtZXRob2RPZiBhbmd1bGFyUG9pbnQuYXBDYWNoZVNlcnZpY2VcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIFN5bmNocm9uaXNlIGNhbGwgdG8gcmV0dXJuIGEgY2FjaGVkIGVudGl0eTtcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGxpc3RJZCBHVUlEIGZvciBsaXN0IHRoZSBsaXN0IGl0ZW0gYmVsb25ncyB0by5cbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IGVudGl0eUlkIFRoZSBlbnRpdHkuaWQuXG4gICAgICAgICAqIEByZXR1cm5zIHtvYmplY3R9IGVudGl0eSB8fCB1bmRlZmluZWRcbiAgICAgICAgICovXG4gICAgICAgIGdldENhY2hlZEVudGl0eShsaXN0SWQ6IHN0cmluZywgZW50aXR5SWQ6IG51bWJlcik6IElMaXN0SXRlbSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRFbnRpdHlDb250YWluZXIobGlzdElkLCBlbnRpdHlJZCkuZW50aXR5O1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBDYWNoZVNlcnZpY2U6Z2V0RW50aXR5XG4gICAgICAgICAqIEBtZXRob2RPZiBhbmd1bGFyUG9pbnQuYXBDYWNoZVNlcnZpY2VcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIFJldHVybnMgYSBkZWZlcnJlZCBvYmplY3QgdGhhdCByZXNvbHZlcyB3aXRoIHRoZSByZXF1ZXN0ZWQgZW50aXR5IGltbWVkaWF0ZWx5IGlmIGFscmVhZHkgcHJlc2VudCBvciBhdFxuICAgICAgICAgKiAgICAgc29tZSBwb2ludCBpbiB0aGUgZnV0dXJlIGFzc3VtaW5nIHRoZSBlbnRpdHkgaXMgZXZlbnR1YWxseSByZWdpc3RlcmVkLlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbGlzdElkIEdVSUQgZm9yIGxpc3QgdGhlIGxpc3QgaXRlbSBiZWxvbmdzIHRvLlxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gZW50aXR5SWQgVGhlIGVudGl0eS5pZC5cbiAgICAgICAgICogQHJldHVybnMge3Byb21pc2V9IGVudGl0eVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0RW50aXR5KGxpc3RJZDogc3RyaW5nLCBlbnRpdHlJZDogbnVtYmVyKTogbmcuSVByb21pc2U8SUxpc3RJdGVtPiB7XG4gICAgICAgICAgICB2YXIgZW50aXR5Q29udGFpbmVyID0gdGhpcy5nZXRFbnRpdHlDb250YWluZXIobGlzdElkLCBlbnRpdHlJZCk7XG4gICAgICAgICAgICByZXR1cm4gZW50aXR5Q29udGFpbmVyLmdldEVudGl0eSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2V0RW50aXR5Q29udGFpbmVyKGxpc3RJZDogc3RyaW5nLCBlbnRpdHlJZDogbnVtYmVyKTogRW50aXR5Q29udGFpbmVyIHtcbiAgICAgICAgICAgIHZhciBlbnRpdHlUeXBlS2V5ID0gdGhpcy5nZXRMaXN0SWQobGlzdElkKTtcbiAgICAgICAgICAgIHZhciBtb2RlbENhY2hlID0gdGhpcy5nZXRNb2RlbENhY2hlKGVudGl0eVR5cGVLZXkpO1xuICAgICAgICAgICAgLyoqIENyZWF0ZSB0aGUgb2JqZWN0IHN0cnVjdHVyZSBpZiBpdCBkb2Vzbid0IGFscmVhZHkgZXhpc3QgKi9cbiAgICAgICAgICAgIG1vZGVsQ2FjaGVbZW50aXR5SWRdID0gbW9kZWxDYWNoZVtlbnRpdHlJZF0gfHwgbmV3IEVudGl0eUNvbnRhaW5lcihlbnRpdHlUeXBlS2V5LCBlbnRpdHlJZCk7XG4gICAgICAgICAgICByZXR1cm4gbW9kZWxDYWNoZVtlbnRpdHlJZF07XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcENhY2hlU2VydmljZTpnZXRMaXN0SWRcbiAgICAgICAgICogQG1ldGhvZE9mIGFuZ3VsYXJQb2ludC5hcENhY2hlU2VydmljZVxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogQWxsb3dzIHVzIHRvIHVzZSBlaXRoZXIgdGhlIExpc3QgTmFtZSBvciB0aGUgbGlzdCBHVUlEIGFuZCByZXR1cm5zIHRoZSBsb3dlcmNhc2UgR1VJRFxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5U3RyaW5nIExpc3QgR1VJRCBvciBuYW1lLlxuICAgICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBMb3dlcmNhc2UgbGlzdCBHVUlELlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0TGlzdElkKGtleVN0cmluZzogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgICAgIGlmIChfLmlzR3VpZChrZXlTdHJpbmcpKSB7XG4gICAgICAgICAgICAgICAgLyoqIEdVSUQgKi9cbiAgICAgICAgICAgICAgICByZXR1cm4ga2V5U3RyaW5nLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8qKiBMaXN0IFRpdGxlICovXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TGlzdElkRnJvbUxpc3ROYW1lKGtleVN0cmluZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcENhY2hlU2VydmljZTpnZXRMaXN0SWRGcm9tTGlzdE5hbWVcbiAgICAgICAgICogQG1ldGhvZE9mIGFuZ3VsYXJQb2ludC5hcENhY2hlU2VydmljZVxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogQWxsb3dzIHVzIHRvIGxvb2t1cCBhbiBlbnRpdHkgY2FjaGUgdXNpbmcgdGhlIG5hbWUgb2YgdGhlIGxpc3QgaW5zdGVhZCBvZiB0aGUgR1VJRC5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIG5hbWUgb2YgdGhlIGxpc3QuXG4gICAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IEdVSUQgZm9yIHRoZSBsaXN0LlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0TGlzdElkRnJvbUxpc3ROYW1lKG5hbWU6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgICAgICB2YXIgZ3VpZDtcbiAgICAgICAgICAgIGlmIChsaXN0TmFtZVRvSWRNYXBbbmFtZV0gJiYgbGlzdE5hbWVUb0lkTWFwW25hbWVdLmxpc3RJZCkge1xuICAgICAgICAgICAgICAgIGd1aWQgPSBsaXN0TmFtZVRvSWRNYXBbbmFtZV0ubGlzdElkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGd1aWQ7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcENhY2hlU2VydmljZTpnZXRNb2RlbFxuICAgICAgICAgKiBAbWV0aG9kT2YgYW5ndWxhclBvaW50LmFwQ2FjaGVTZXJ2aWNlXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBBbGxvd3MgdXMgdG8gcmV0cmlldmUgYSByZWZlcmVuY2UgdG8gYSBnaXZlbiBtb2RlbCBieSBlaXRoZXIgdGhlIGxpc3QgdGl0bGUgb3IgbGlzdCBHVUlELlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbGlzdElkIExpc3QgdGl0bGUgb3IgbGlzdCBHVUlELlxuICAgICAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSBBIHJlZmVyZW5jZSB0byB0aGUgcmVxdWVzdGVkIG1vZGVsLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0TW9kZWwobGlzdElkOiBzdHJpbmcpOiBJTW9kZWwge1xuICAgICAgICAgICAgdmFyIG1vZGVsLFxuICAgICAgICAgICAgICAgIGVudGl0eVR5cGVLZXkgPSB0aGlzLmdldExpc3RJZChsaXN0SWQpO1xuXG4gICAgICAgICAgICBpZiAobGlzdHNNYXBwZWRCeUxpc3RJZFtlbnRpdHlUeXBlS2V5XSkge1xuICAgICAgICAgICAgICAgIG1vZGVsID0gbGlzdHNNYXBwZWRCeUxpc3RJZFtlbnRpdHlUeXBlS2V5XS5tb2RlbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBtb2RlbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKiBMb2NhdGVzIHRoZSBzdG9yZWQgY2FjaGUgZm9yIGEgbW9kZWwgKi9cbiAgICAgICAgZ2V0TW9kZWxDYWNoZShsaXN0SWQ6IHN0cmluZyk6IE1vZGVsQ2FjaGUge1xuICAgICAgICAgICAgdmFyIGVudGl0eVR5cGVLZXkgPSB0aGlzLmdldExpc3RJZChsaXN0SWQpO1xuICAgICAgICAgICAgZW50aXR5Q2FjaGVbZW50aXR5VHlwZUtleV0gPSBlbnRpdHlDYWNoZVtlbnRpdHlUeXBlS2V5XSB8fCBuZXcgTW9kZWxDYWNoZSgpO1xuICAgICAgICAgICAgcmV0dXJuIGVudGl0eUNhY2hlW2VudGl0eVR5cGVLZXldO1xuICAgICAgICB9XG5cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcENhY2hlU2VydmljZTpyZWdpc3RlckVudGl0eVxuICAgICAgICAgKiBAbWV0aG9kT2YgYW5ndWxhclBvaW50LmFwQ2FjaGVTZXJ2aWNlXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBSZWdpc3RlcnMgYW4gZW50aXR5IGluIHRoZSBjYWNoZSBhbmQgZnVsZmlsbHMgYW55IHBlbmRpbmcgZGVmZXJyZWQgcmVxdWVzdHMgZm9yIHRoZSBlbnRpdHkuIElmIHRoZVxuICAgICAgICAgKiBlbnRpdHkgYWxyZWFkeSBleGlzdHMgaW4gdGhlIGNhY2hlLCB3ZSBleHRlbmQgdGhlIGV4aXN0aW5nIG9iamVjdCB3aXRoIHRoZSB1cGRhdGVkIGVudGl0eSBhbmQgcmV0dXJuIGFcbiAgICAgICAgICogcmVmZXJlbmNlIHRvIHRoaXMgdXBkYXRlZCBvYmplY3Qgc28gdGhlIHRoZXJlIGlzIG9ubHkgYSBzaW5nbGUgaW5zdGFuY2Ugb2YgdGhpcyBlbnRpdHkgd2l0aGluZyB0aGUgY2FjaGUuXG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBlbnRpdHkgUGFzcyBpbiBhIG5ld2x5IGNyZWF0ZWQgZW50aXR5IHRvIGFkZCB0byB0aGUgY2FjaGUuXG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbdGFyZ2V0Q2FjaGVdIE9wdGlvbmFsbHkgcGFzcyBpbiBhIHNlY29uZGFyeSBjYWNoZSB0byBhZGQgYSByZWZlcmVuY2UgdG8gdGhpcyBlbnRpdHkuXG4gICAgICAgICAqL1xuICAgICAgICByZWdpc3RlckVudGl0eShlbnRpdHk6IElMaXN0SXRlbSwgdGFyZ2V0Q2FjaGU/OiBJSW5kZXhlZENhY2hlKTogSUxpc3RJdGVtIHtcbiAgICAgICAgICAgIHZhciBtb2RlbCA9IGVudGl0eS5nZXRNb2RlbCgpO1xuICAgICAgICAgICAgdmFyIGVudGl0eUNvbnRhaW5lciA9IHRoaXMuZ2V0RW50aXR5Q29udGFpbmVyKG1vZGVsLmxpc3QuZ2V0TGlzdElkKCksIGVudGl0eS5pZCk7XG4gICAgICAgICAgICAvKiogTWFpbnRhaW4gYSBzaW5nbGUgb2JqZWN0IGluIGNhY2hlIGZvciB0aGlzIGVudGl0eSAqL1xuICAgICAgICAgICAgaWYgKCFfLmlzT2JqZWN0KGVudGl0eUNvbnRhaW5lci5lbnRpdHkpKSB7XG4gICAgICAgICAgICAgICAgLyoqIEVudGl0eSBpc24ndCBjdXJyZW50bHkgaW4gdGhlIGNhY2hlICovXG4gICAgICAgICAgICAgICAgZW50aXR5Q29udGFpbmVyLmVudGl0eSA9IGVudGl0eTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLyoqIEFscmVhZHkgZXhpc3RzIHNvIHVwZGF0ZSB0byBtYWludGFpbiBhbnkgb3RoZXIgcmVmZXJlbmNlcyBiZWluZyB1c2VkIGZvciB0aGlzIGVudGl0eS4gKi9cbiAgICAgICAgICAgICAgICAgICAgLy9UT0RPIExvb2sgYXQgcGVyZm9ybWFuY2UgaGl0IGZyb20gZXh0ZW5kaW5nIGFuZCBzZWUgaWYgaXQgd291bGQgYmUgYWNjZXB0YWJsZSBqdXN0IHRvIHJlcGxhY2VcbiAgICAgICAgICAgICAgICBfLmFzc2lnbihlbnRpdHlDb250YWluZXIuZW50aXR5LCBlbnRpdHkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvKiogQ291bnRlciB0byBrZWVwIHRyYWNrIG9mIHRoZSBudW1iZXIgb2YgdXBkYXRlcyBmb3IgdGhpcyBlbnRpdHkgKi9cbiAgICAgICAgICAgIGVudGl0eUNvbnRhaW5lci51cGRhdGVDb3VudCsrO1xuXG4gICAgICAgICAgICBpZiAoXy5pc09iamVjdCh0YXJnZXRDYWNoZSkgJiYgIV8uaXNBcnJheSh0YXJnZXRDYWNoZSkgJiYgIXRhcmdldENhY2hlW2VudGl0eS5pZF0gKSB7XG4gICAgICAgICAgICAgICAgLyoqIEVudGl0eSBoYXNuJ3QgYmVlbiBhZGRlZCB0byB0aGUgdGFyZ2V0IGNhY2hlIHlldCAqL1xuICAgICAgICAgICAgICAgIHRhcmdldENhY2hlW2VudGl0eS5pZF0gPSBlbnRpdHlDb250YWluZXIuZW50aXR5O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvKiogUmVzb2x2ZSBhbnkgcmVxdWVzdHMgZm9yIHRoaXMgZW50aXR5ICovXG4gICAgICAgICAgICBfLmVhY2goZW50aXR5Q29udGFpbmVyLmFzc29jaWF0aW9uUXVldWUsIChkZWZlcnJlZFJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgICAgICBkZWZlcnJlZFJlcXVlc3QucmVzb2x2ZShlbnRpdHlDb250YWluZXIuZW50aXR5KTtcbiAgICAgICAgICAgICAgICAvKiogUmVtb3ZlIHJlcXVlc3QgZnJvbSBxdWV1ZSAqL1xuICAgICAgICAgICAgICAgIGVudGl0eUNvbnRhaW5lci5hc3NvY2lhdGlvblF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIGVudGl0eUNvbnRhaW5lci5lbnRpdHk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcENhY2hlU2VydmljZTpyZWdpc3Rlck1vZGVsXG4gICAgICAgICAqIEBtZXRob2RPZiBhbmd1bGFyUG9pbnQuYXBDYWNoZVNlcnZpY2VcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIENyZWF0ZXMgYSBuZXcgTW9kZWxDYWNoZSBmb3IgdGhlIHByb3ZpZGUgbW9kZWwgd2hlcmUgYWxsIGxpc3QgaXRlbXMgd2lsbCBiZSBzdG9yZWQgd2l0aCB0aGUga2V5IGVxdWFsaW5nXG4gICAgICAgICAqIHRoZSBlbnRpdHkgaWQncyBhbmQgdmFsdWUgYmVpbmcgYSBFbnRpdHlDb250YWluZXIuICBUaGUgZW50aXR5IGlzIHN0b3JlZCBhdCBFbnRpdHlDb250YWluZXIuZW50aXR5LlxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gbW9kZWwgTW9kZWwgdG8gY3JlYXRlIHRoZSBjYWNoZSBmb3IuXG4gICAgICAgICAqL1xuICAgICAgICByZWdpc3Rlck1vZGVsKG1vZGVsOiBJTW9kZWwpOiB2b2lkIHtcbiAgICAgICAgICAgIGlmIChtb2RlbC5saXN0ICYmIG1vZGVsLmxpc3QuZ2V0TGlzdElkKCkgJiYgbW9kZWwubGlzdC50aXRsZSkge1xuICAgICAgICAgICAgICAgIHZhciBsaXN0SWQgPSBtb2RlbC5saXN0LmdldExpc3RJZCgpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgLyoqIFN0b3JlIGEgcmVmZXJlbmNlIHRvIHRoZSBtb2RlbCBieSBsaXN0IHRpdGxlICovXG4gICAgICAgICAgICAgICAgbGlzdE5hbWVUb0lkTWFwW21vZGVsLmxpc3QudGl0bGVdID0ge1xuICAgICAgICAgICAgICAgICAgICBtb2RlbDogbW9kZWwsXG4gICAgICAgICAgICAgICAgICAgIGxpc3RJZDogbGlzdElkXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKiBTdG9yZSBhIHJlZmVyZW5jZSB0byB0aGUgbW9kZWwgYnkgbGlzdCBndWlkICovXG4gICAgICAgICAgICAgICAgbGlzdHNNYXBwZWRCeUxpc3RJZFtsaXN0SWRdID0ge1xuICAgICAgICAgICAgICAgICAgICBtb2RlbDogbW9kZWxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBDYWNoZVNlcnZpY2U6cmVtb3ZlRW50aXR5XG4gICAgICAgICAqIEBtZXRob2RPZiBhbmd1bGFyUG9pbnQuYXBDYWNoZVNlcnZpY2VcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIFJlbW92ZXMgdGhlIGVudGl0eSBmcm9tIHRoZSBsb2NhbCBlbnRpdHkgY2FjaGUuXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsaXN0SWQgR1VJRCBmb3IgbGlzdCB0aGUgbGlzdCBpdGVtIGJlbG9uZ3MgdG8uXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbnRpdHlJZCBUaGUgZW50aXR5LmlkLlxuICAgICAgICAgKi9cbiAgICAgICAgcmVtb3ZlRW50aXR5KGxpc3RJZDogc3RyaW5nLCBlbnRpdHlJZDogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgICAgICB2YXIgbW9kZWxDYWNoZSA9IHRoaXMuZ2V0TW9kZWxDYWNoZShsaXN0SWQpO1xuICAgICAgICAgICAgaWYgKG1vZGVsQ2FjaGVbZW50aXR5SWRdKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIG1vZGVsQ2FjaGVbZW50aXR5SWRdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cblxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBzZXJ2aWNlXG4gICAgICogQG5hbWUgYW5ndWxhclBvaW50LmFwQ2FjaGVTZXJ2aWNlXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU3RvcmVzIGEgcmVmZXJlbmNlIGZvciBhbGwgbGlzdCBpdGVtcyBiYXNlZCBvbiBsaXN0IEdVSUQgYW5kIGxpc3QgaXRlbSBpZC4gIEFsbG93cyB1cyB0byB0aGVuIHJlZ2lzdGVyIHByb21pc2VzXG4gICAgICogICAgIHRoYXQgcmVzb2x2ZSBvbmNlIGEgcmVxdWVzdGVkIGxpc3QgaXRlbSBpcyByZWdpc3RlcmVkIGluIHRoZSBmdXR1cmUuXG4gICAgICovXG4gICAgYW5ndWxhci5tb2R1bGUoJ2FuZ3VsYXJQb2ludCcpXG4gICAgICAgIC5zZXJ2aWNlKCdhcENhY2hlU2VydmljZScsIENhY2hlU2VydmljZSk7XG5cbn1cbiIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90eXBpbmdzL2FwLmQudHNcIiAvPlxuXG5tb2R1bGUgYXAge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBzZXJ2aWNlXG4gICAgICogQG5hbWUgYXBDaGFuZ2VTZXJ2aWNlXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogUHJpbWFyaWx5IHVzZWQgZm9yIGFwTW9ja0JhY2tlbmQgc28gd2UgY2FuIGtub3cgd2hhdCB0byBleHBlY3QgYmVmb3JlIGFuIGF0dGVtcHQgdG8gdXBkYXRlIGEgbGlzdFxuICAgICAqIGl0ZW0gaXMgaW50ZXJjZXB0ZWQuXG4gICAgICovXG4gICAgZXhwb3J0IGNsYXNzIENoYW5nZVNlcnZpY2V7XG4gICAgICAgIGNhbGxiYWNrUXVldWUgPSBbXTtcbiAgICAgICAgcmVnaXN0ZXJMaXN0SXRlbVVwZGF0ZShlbnRpdHksIG9wdGlvbnMsIHByb21pc2UpIHtcbiAgICAgICAgICAgIF8uZWFjaCh0aGlzLmNhbGxiYWNrUXVldWUsIChjYWxsYmFjaykgPT4ge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVudGl0eSwgb3B0aW9ucywgcHJvbWlzZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBzdWJzY3JpYmVUb1VwZGF0ZXMoY2FsbGJhY2spIHtcbiAgICAgICAgICAgIHRoaXMuY2FsbGJhY2tRdWV1ZS5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnYW5ndWxhclBvaW50JylcbiAgICAgICAgLnNlcnZpY2UoJ2FwQ2hhbmdlU2VydmljZScsIENoYW5nZVNlcnZpY2UpO1xuXG59XG4iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy9hcC5kLnRzXCIgLz5cblxubW9kdWxlIGFwIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgc2VydmljZTogRGF0YVNlcnZpY2UsICRxOiBuZy5JUVNlcnZpY2UsICR0aW1lb3V0LCAkaHR0cDogbmcuSUh0dHBTZXJ2aWNlLCBhcENvbmZpZzogSUFQQ29uZmlnLFxuICAgICAgICBhcFV0aWxpdHlTZXJ2aWNlOiBVdGlsaXR5U2VydmljZSwgYXBDYWNoZVNlcnZpY2U6IENhY2hlU2VydmljZSwgYXBEZWNvZGVTZXJ2aWNlOiBEZWNvZGVTZXJ2aWNlLFxuICAgICAgICBhcEVuY29kZVNlcnZpY2U6IEVuY29kZVNlcnZpY2UsIGFwRmllbGRTZXJ2aWNlOiBGaWVsZFNlcnZpY2UsIGFwSW5kZXhlZENhY2hlRmFjdG9yeTogSW5kZXhlZENhY2hlRmFjdG9yeSxcbiAgICAgICAgdG9hc3RyLCBTUFNlcnZpY2VzLCBhcERlZmF1bHRMaXN0SXRlbVF1ZXJ5T3B0aW9ucywgYXBXZWJTZXJ2aWNlT3BlcmF0aW9uQ29uc3RhbnRzLCBhcFhNTFRvSlNPTlNlcnZpY2UsXG4gICAgICAgIGFwQ2hhbmdlU2VydmljZTogQ2hhbmdlU2VydmljZTtcblxuICAgIGV4cG9ydCBjbGFzcyBEYXRhU2VydmljZSB7XG4gICAgICAgIHF1ZXJ5Rm9yQ3VycmVudFNpdGU6IG5nLklQcm9taXNlPHN0cmluZz47XG5cbiAgICAgICAgY29uc3RydWN0b3IoJGluamVjdG9yKSB7XG4gICAgICAgICAgICBzZXJ2aWNlID0gdGhpcztcbiAgICAgICAgICAgICRodHRwID0gJGluamVjdG9yLmdldCgnJGh0dHAnKTtcbiAgICAgICAgICAgICRxID0gJGluamVjdG9yLmdldCgnJHEnKTtcbiAgICAgICAgICAgICR0aW1lb3V0ID0gJGluamVjdG9yLmdldCgnJHRpbWVvdXQnKTtcbiAgICAgICAgICAgIGFwQ2FjaGVTZXJ2aWNlID0gJGluamVjdG9yLmdldCgnYXBDYWNoZVNlcnZpY2UnKTtcbiAgICAgICAgICAgIGFwQ2hhbmdlU2VydmljZSA9ICRpbmplY3Rvci5nZXQoJ2FwQ2hhbmdlU2VydmljZScpO1xuICAgICAgICAgICAgYXBDb25maWcgPSAkaW5qZWN0b3IuZ2V0KCdhcENvbmZpZycpO1xuICAgICAgICAgICAgYXBEZWNvZGVTZXJ2aWNlID0gJGluamVjdG9yLmdldCgnYXBEZWNvZGVTZXJ2aWNlJyk7XG4gICAgICAgICAgICBhcERlZmF1bHRMaXN0SXRlbVF1ZXJ5T3B0aW9ucyA9ICRpbmplY3Rvci5nZXQoJ2FwRGVmYXVsdExpc3RJdGVtUXVlcnlPcHRpb25zJyk7XG4gICAgICAgICAgICBhcEVuY29kZVNlcnZpY2UgPSAkaW5qZWN0b3IuZ2V0KCdhcEVuY29kZVNlcnZpY2UnKTtcbiAgICAgICAgICAgIGFwRmllbGRTZXJ2aWNlID0gJGluamVjdG9yLmdldCgnYXBGaWVsZFNlcnZpY2UnKTtcbiAgICAgICAgICAgIGFwSW5kZXhlZENhY2hlRmFjdG9yeSA9ICRpbmplY3Rvci5nZXQoJ2FwSW5kZXhlZENhY2hlRmFjdG9yeScpO1xuICAgICAgICAgICAgYXBVdGlsaXR5U2VydmljZSA9ICRpbmplY3Rvci5nZXQoJ2FwVXRpbGl0eVNlcnZpY2UnKTtcbiAgICAgICAgICAgIGFwV2ViU2VydmljZU9wZXJhdGlvbkNvbnN0YW50cyA9ICRpbmplY3Rvci5nZXQoJ2FwV2ViU2VydmljZU9wZXJhdGlvbkNvbnN0YW50cycpO1xuICAgICAgICAgICAgYXBYTUxUb0pTT05TZXJ2aWNlID0gJGluamVjdG9yLmdldCgnYXBYTUxUb0pTT05TZXJ2aWNlJyk7XG4gICAgICAgICAgICBTUFNlcnZpY2VzID0gJGluamVjdG9yLmdldCgnU1BTZXJ2aWNlcycpO1xuICAgICAgICAgICAgdG9hc3RyID0gJGluamVjdG9yLmdldCgndG9hc3RyJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIERhdGFTZXJ2aWNlLmNyZWF0ZUxpc3RJdGVtXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBDcmVhdGVzIGEgbmV3IGxpc3QgaXRlbSBmb3IgdGhlIHByb3ZpZGVkIG1vZGVsLlxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gbW9kZWwgUmVmZXJlbmNlIHRvIHRoZSBlbnRpdGllcyBtb2RlbC5cbiAgICAgICAgICogQHBhcmFtIHtvYmplY3R9IGxpc3RJdGVtIEphdmFTY3JpcHQgb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgU2hhcmVQb2ludCBsaXN0IGl0ZW0uXG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gT3B0aW9uYWwgY29uZmlndXJhdGlvbiBwYXJhbXMuXG4gICAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYnVpbGRWYWx1ZVBhaXJzPXRydWVdIEF1dG9tYXRpY2FsbHkgZ2VuZXJhdGUgcGFpcnMgYmFzZWQgb24gZmllbGRzIGRlZmluZWQgaW4gbW9kZWwuXG4gICAgICAgICAqIEBwYXJhbSB7QXJyYXlbXX0gW29wdGlvbnMudmFsdWVQYWlyc10gUHJlY29tcHV0ZWQgdmFsdWUgcGFpcnMgdG8gdXNlIGluc3RlYWQgb2YgZ2VuZXJhdGluZyB0aGVtIGZvciBlYWNoXG4gICAgICAgICAqIGZpZWxkIGlkZW50aWZpZWQgaW4gdGhlIG1vZGVsLlxuICAgICAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSBQcm9taXNlIHdoaWNoIHJlc29sdmVzIHdpdGggdGhlIG5ld2x5IGNyZWF0ZWQgaXRlbS5cbiAgICAgICAgICovXG4gICAgICAgIGNyZWF0ZUxpc3RJdGVtKG1vZGVsOiBJTW9kZWwsIGxpc3RJdGVtOiBMaXN0SXRlbSwgb3B0aW9ucz86IHtidWlsZFZhbHVlUGFpcnM6IGJvb2xlYW47IHZhbHVlUGFpcnM6IFsgW3N0cmluZywgYW55XVtdIF19KTogbmcuSVByb21pc2U8SUxpc3RJdGVtPiB7XG4gICAgICAgICAgICB2YXIgZGVmYXVsdHMgPSB7XG4gICAgICAgICAgICAgICAgICAgIGJhdGNoQ21kOiAnTmV3JyxcbiAgICAgICAgICAgICAgICAgICAgYnVpbGRWYWx1ZVBhaXJzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBpbmRleGVkQ2FjaGU6IGFwSW5kZXhlZENhY2hlRmFjdG9yeS5jcmVhdGUoe30pLFxuICAgICAgICAgICAgICAgICAgICBsaXN0TmFtZTogbW9kZWwubGlzdC5nZXRMaXN0SWQoKSxcbiAgICAgICAgICAgICAgICAgICAgb3BlcmF0aW9uOiAnVXBkYXRlTGlzdEl0ZW1zJyxcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlUGFpcnM6IFtdLFxuICAgICAgICAgICAgICAgICAgICB3ZWJVUkw6IG1vZGVsLmxpc3QuaWRlbnRpZnlXZWJVUkwoKVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICAgICAgICBkZWZhdWx0cy50YXJnZXQgPSBkZWZhdWx0cy5pbmRleGVkQ2FjaGU7XG4gICAgICAgICAgICB2YXIgb3B0czoge2J1aWxkVmFsdWVQYWlyczogYm9vbGVhbjsgdmFsdWVQYWlyczogW1tzdHJpbmcsIGFueV1bXV07IGdldENhY2hlKCk6IElDYWNoZTsgaW5kZXhlZENhY2hlOiBJSW5kZXhlZENhY2hlfVxuICAgICAgICAgICAgICAgID0gXy5leHRlbmQoe30sIGRlZmF1bHRzLCBvcHRpb25zKTtcblxuICAgICAgICAgICAgaWYgKG9wdHMuYnVpbGRWYWx1ZVBhaXJzID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGVkaXRhYmxlRmllbGRzOiBJRmllbGREZWZpbml0aW9uW10gPSBfLndoZXJlKG1vZGVsLmxpc3QuZmllbGRzLCB7cmVhZE9ubHk6IGZhbHNlfSk7XG4gICAgICAgICAgICAgICAgb3B0cy52YWx1ZVBhaXJzID0gYXBFbmNvZGVTZXJ2aWNlLmdlbmVyYXRlVmFsdWVQYWlycyhlZGl0YWJsZUZpZWxkcywgbGlzdEl0ZW0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBvcHRzLmdldENhY2hlID0gKCkgPT4gb3B0cy5pbmRleGVkQ2FjaGU7XG5cbiAgICAgICAgICAgIC8qKiBPdmVybG9hZCB0aGUgZnVuY3Rpb24gdGhlbiBwYXNzIGFueXRoaW5nIHBhc3QgdGhlIGZpcnN0IHBhcmFtZXRlciB0byB0aGUgc3VwcG9ydGluZyBtZXRob2RzICovXG4gICAgICAgICAgICB0aGlzLnNlcnZpY2VXcmFwcGVyKG9wdHMpXG4gICAgICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8qKiBPbmxpbmUgdGhpcyBzaG91bGQgcmV0dXJuIGFuIFhNTCBvYmplY3QgKi9cbiAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ZWRDYWNoZSA9IGFwRGVjb2RlU2VydmljZS5wcm9jZXNzTGlzdEl0ZW1zKG1vZGVsLCBvcHRzLCByZXNwb25zZSwgb3B0cyk7XG4gICAgICAgICAgICAgICAgICAgIC8qKiBSZXR1cm4gcmVmZXJlbmNlIHRvIGxhc3QgbGlzdEl0ZW0gaW4gY2FjaGUgYmVjYXVzZSBpdCB3aWxsIGhhdmUgdGhlIG5ldyBoaWdoZXN0IGlkICovXG4gICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoaW5kZXhlZENhY2hlLmxhc3QoKSk7XG4gICAgICAgICAgICAgICAgfSwgKGVycikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgICB9XG5cbiAgICAgICAgY3JlYXRlSXRlbVVybEZyb21GaWxlUmVmKGZpbGVSZWZTdHJpbmc6IHN0cmluZykge1xuICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCArICcvLycgKyB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUgKyAnLycgKyBmaWxlUmVmU3RyaW5nO1xuICAgICAgICB9XG5cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIERhdGFTZXJ2aWNlLmRlbGV0ZUF0dGFjaG1lbnRcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIERlbGV0ZXMgYW5kIGF0dGFjaG1lbnQgb24gYSBsaXN0IGl0ZW0uICBNb3N0IGNvbW1vbmx5IHVzZWQgYnkgTGlzdEl0ZW0uZGVsZXRlQXR0YWNobWVudCB3aGljaCBpcyBzaG93blxuICAgICAgICAgKiBpbiB0aGUgZXhhbXBsZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgQ29uZmlndXJhdGlvbiBwYXJhbWV0ZXJzLlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy5saXN0SXRlbUlkIElEIG9mIHRoZSBsaXN0IGl0ZW0gd2l0aCB0aGUgYXR0YWNobWVudC5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMudXJsIFJlcXVpcmVzIHRoZSBVUkwgZm9yIHRoZSBhdHRhY2htZW50IHdlIHdhbnQgdG8gZGVsZXRlLlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy5saXN0TmFtZSBCZXN0IG9wdGlvbiBpcyB0aGUgR1VJRCBvZiB0aGUgbGlzdC5cbiAgICAgICAgICogPHByZT4nezM3Mzg4QTk4LTUzNEMtNEEyOC1CRkZBLTIyNDI5Mjc2ODk3Qn0nPC9wcmU+XG4gICAgICAgICAqXG4gICAgICAgICAqIEByZXR1cm5zIHtvYmplY3R9IFByb21pc2Ugd2hpY2ggcmVzb2x2ZXMgd2l0aCB0aGUgdXBkYXRlZCBhdHRhY2htZW50IGNvbGxlY3Rpb24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIDxwcmU+XG4gICAgICAgICAqIExpc3RJdGVtLnByb3RvdHlwZS5kZWxldGVBdHRhY2htZW50ID0gZnVuY3Rpb24gKHVybCkge1xuICAgICAgICAgKiAgICB2YXIgbGlzdEl0ZW0gPSB0aGlzO1xuICAgICAgICAgKiAgICByZXR1cm4gRGF0YVNlcnZpY2UuZGVsZXRlQXR0YWNobWVudCh7XG4gICAgICAgICAqICAgICAgICBsaXN0SXRlbUlkOiBsaXN0SXRlbS5pZCxcbiAgICAgICAgICogICAgICAgIHVybDogdXJsLFxuICAgICAgICAgKiAgICAgICAgbGlzdE5hbWU6IGxpc3RJdGVtLmdldE1vZGVsKCkubGlzdC5nZXRMaXN0SWQoKVxuICAgICAgICAgKiAgICB9KTtcbiAgICAgICAgICogfTtcbiAgICAgICAgICogPC9wcmU+XG4gICAgICAgICAqL1xuICAgICAgICBkZWxldGVBdHRhY2htZW50KG9wdGlvbnM6IHtsaXN0SXRlbUlEOiBudW1iZXI7IHVybDogc3RyaW5nOyBsaXN0TmFtZTogc3RyaW5nOyB9KSB7XG4gICAgICAgICAgICB2YXIgZGVmYXVsdHMgPSB7XG4gICAgICAgICAgICAgICAgb3BlcmF0aW9uOiAnRGVsZXRlQXR0YWNobWVudCcsXG4gICAgICAgICAgICAgICAgZmlsdGVyTm9kZTogJ0ZpZWxkJ1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdmFyIG9wdHMgPSBfLmV4dGVuZCh7fSwgZGVmYXVsdHMsIG9wdGlvbnMpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zZXJ2aWNlV3JhcHBlcihvcHRzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAgICogQG5hbWUgRGF0YVNlcnZpY2UuZGVsZXRlTGlzdEl0ZW1cbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIFR5cGljYWxseSBjYWxsZWQgZGlyZWN0bHkgZnJvbSBhIGxpc3QgaXRlbSwgcmVtb3ZlcyB0aGUgbGlzdCBpdGVtIGZyb20gU2hhcmVQb2ludFxuICAgICAgICAgKiBhbmQgdGhlIGxvY2FsIGNhY2hlLlxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gbW9kZWwgUmVmZXJlbmNlIHRvIHRoZSBlbnRpdGllcyBtb2RlbC5cbiAgICAgICAgICogQHBhcmFtIHtvYmplY3R9IGxpc3RJdGVtIEphdmFTY3JpcHQgb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgU2hhcmVQb2ludCBsaXN0IGl0ZW0uXG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gT3B0aW9uYWwgY29uZmlndXJhdGlvbiBwYXJhbXMuXG4gICAgICAgICAqIEBwYXJhbSB7QXJyYXl9IFtvcHRpb25zLnRhcmdldD1pdGVtLmdldENhY2hlKCldIE9wdGlvbmFsIGxvY2F0aW9uIHRvIHNlYXJjaCB0aHJvdWdoIGFuZCByZW1vdmUgdGhlXG4gICAgICAgICAqIGxvY2FsIGNhY2hlZCBjb3B5LlxuICAgICAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSBQcm9taXNlIHdoaWNoIHJlc29sdmVzIHdoZW4gdGhlIG9wZXJhdGlvbiBpcyBjb21wbGV0ZS4gIE5vdGhpbmcgb2YgaW1wb3J0YW5jZSBpcyByZXR1cm5lZC5cbiAgICAgICAgICovXG4gICAgICAgIGRlbGV0ZUxpc3RJdGVtKG1vZGVsOiBJTW9kZWwsIGxpc3RJdGVtOiBMaXN0SXRlbSwgb3B0aW9ucz86IHt0YXJnZXQ6IElDYWNoZX0pIHtcbiAgICAgICAgICAgIHZhciBkZWZhdWx0cyA9IHtcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IF8uaXNGdW5jdGlvbihsaXN0SXRlbS5nZXRDYWNoZSkgPyBsaXN0SXRlbS5nZXRDYWNoZSgpIDogbW9kZWwuZ2V0Q2FjaGUoKSxcbiAgICAgICAgICAgICAgICBvcGVyYXRpb246ICdVcGRhdGVMaXN0SXRlbXMnLFxuICAgICAgICAgICAgICAgIGxpc3ROYW1lOiBtb2RlbC5saXN0LmdldExpc3RJZCgpLFxuICAgICAgICAgICAgICAgIGJhdGNoQ21kOiAnRGVsZXRlJyxcbiAgICAgICAgICAgICAgICBJRDogbGlzdEl0ZW0uaWQsXG4gICAgICAgICAgICAgICAgd2ViVVJMOiBtb2RlbC5saXN0LmlkZW50aWZ5V2ViVVJMKClcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHZhciBvcHRzID0gXy5leHRlbmQoe30sIGRlZmF1bHRzLCBvcHRpb25zKTtcblxuICAgICAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgICAgICAgdGhpcy5zZXJ2aWNlV3JhcHBlcihvcHRzKVxuICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLyoqIFN1Y2Nlc3MgKi9cbiAgICAgICAgICAgICAgICAgICAgYXBDYWNoZVNlcnZpY2UuZGVsZXRlRW50aXR5KG9wdHMubGlzdE5hbWUsIGxpc3RJdGVtLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIH0sIChvdXRjb21lKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vSW4gdGhlIGV2ZW50IG9mIGFuIGVycm9yLCBkaXNwbGF5IHRvYXN0XG4gICAgICAgICAgICAgICAgICAgIHRvYXN0ci5lcnJvcignVGhlcmUgd2FzIGFuIGVycm9yIGRlbGV0aW5nIGEgbGlzdCBpdGVtIGZyb20gJyArIG1vZGVsLmxpc3QudGl0bGUpO1xuICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZWplY3Qob3V0Y29tZSk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBEYXRhU2VydmljZS5leGVjdXRlUXVlcnlcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIFByaW1hcnkgbWV0aG9kIG9mIHJldHJpZXZpbmcgbGlzdCBpdGVtcyBmcm9tIFNoYXJlUG9pbnQuICBMb29rIGF0IFF1ZXJ5IGFuZCBNb2RlbCBmb3Igc3BlY2lmaWNzLlxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gbW9kZWwgUmVmZXJlbmNlIHRvIHRoZSBtb2RlbCB3aGVyZSB0aGUgUXVlcnkgcmVzaWRlcy5cbiAgICAgICAgICogQHBhcmFtIHtvYmplY3R9IHF1ZXJ5IFJlZmVyZW5jZSB0byB0aGUgUXVlcnkgbWFraW5nIHRoZSBjYWxsLlxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gcGFyYW1ldGVycy5cbiAgICAgICAgICogQHBhcmFtIHtBcnJheX0gW29wdGlvbnMudGFyZ2V0PW1vZGVsLmdldENhY2hlKCldIFRoZSB0YXJnZXQgZGVzdGluYXRpb24gZm9yIHJldHVybmVkIGVudGl0aWVzXG4gICAgICAgICAqIEByZXR1cm5zIHtvYmplY3R9IC0gS2V5IHZhbHVlIGhhc2ggY29udGFpbmluZyBhbGwgbGlzdCBpdGVtIGlkJ3MgYXMga2V5cyB3aXRoIHRoZSBsaXN0SXRlbSBhcyB0aGUgdmFsdWUuXG4gICAgICAgICAqL1xuICAgICAgICBleGVjdXRlUXVlcnkobW9kZWw6IElNb2RlbCwgcXVlcnk6IElRdWVyeSwgb3B0aW9ucz86IHt0YXJnZXQ6IElDYWNoZTt9KSB7XG5cbiAgICAgICAgICAgIHZhciBkZWZhdWx0cyA9IHtcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IG1vZGVsLmdldENhY2hlKClcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgICAgICAgIC8qKiBFeHRlbmQgZGVmYXVsdHMgKiovXG4gICAgICAgICAgICB2YXIgb3B0cyA9IF8uZXh0ZW5kKHt9LCBkZWZhdWx0cywgb3B0aW9ucyk7XG5cbiAgICAgICAgICAgIHRoaXMuc2VydmljZVdyYXBwZXIocXVlcnkpXG4gICAgICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChxdWVyeS5vcGVyYXRpb24gPT09ICdHZXRMaXN0SXRlbUNoYW5nZXNTaW5jZVRva2VuJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzQ2hhbmdlVG9rZW5YTUwobW9kZWwsIHF1ZXJ5LCByZXNwb25zZSwgb3B0cyk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvKiogQ29udmVydCB0aGUgWE1MIGludG8gSlMgb2JqZWN0cyAqL1xuICAgICAgICAgICAgICAgICAgICB2YXIgZW50aXRpZXMgPSBhcERlY29kZVNlcnZpY2UucHJvY2Vzc0xpc3RJdGVtcyhtb2RlbCwgcXVlcnksIHJlc3BvbnNlLCBvcHRzKTtcbiAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShlbnRpdGllcyk7XG5cbiAgICAgICAgICAgICAgICAgICAgLyoqIFNldCBkYXRlIHRpbWUgdG8gYWxsb3cgZm9yIHRpbWUgYmFzZWQgdXBkYXRlcyAqL1xuICAgICAgICAgICAgICAgICAgICBxdWVyeS5sYXN0UnVuID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIERhdGFTZXJ2aWNlLmdlbmVyYXRlV2ViU2VydmljZVVybFxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogQnVpbGRzIHRoZSBhcHByb3ByaWF0ZSBTaGFyZVBvaW50IHJlc291cmNlIFVSTC4gIElmIGEgVVJMIGlzbid0IHByb3ZpZGVkIGFuZCBpdCBoYXNuJ3QgYWxyZWFkeSBiZWVuIGNhY2hlZFxuICAgICAgICAgKiB3ZSBtYWtlIGEgY2FsbCB0byB0aGUgc2VydmVyIHRvIGZpbmQgdGhlIHJvb3QgVVJMLiAgQWxsIGZ1dHVyZSByZXF1ZXN0cyB3aWxsIHRoZW4gdXNlIHRoaXMgY2FjaGVkIHZhbHVlLlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gc2VydmljZSBUaGUgbmFtZSBvZiB0aGUgc2VydmljZSB0aGUgU09BUCBvcGVyYXRpb24gaXMgdXNpbmcuXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbd2ViVVJMXSBPcHRpb25hbGx5IHByb3ZpZGUgdGhlIFVSTCBzbyB3ZSBkb24ndCBuZWVkIHRvIG1ha2UgYSBjYWxsIHRvIHRoZSBzZXJ2ZXIuXG4gICAgICAgICAqIEByZXR1cm5zIHtwcm9taXNlfSBSZXNvbHZlcyB3aXRoIHRoZSB1cmwgZm9yIHRoZSBzZXJ2aWNlLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2VuZXJhdGVXZWJTZXJ2aWNlVXJsKHNlcnZpY2U6IHN0cmluZywgd2ViVVJMPzogc3RyaW5nKSB7XG4gICAgICAgICAgICB2YXIgYWpheFVSTCA9IFwiX3Z0aV9iaW4vXCIgKyBzZXJ2aWNlICsgXCIuYXNteFwiLFxuICAgICAgICAgICAgICAgIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgICAgICAgaWYgKHdlYlVSTCkge1xuICAgICAgICAgICAgICAgIGFqYXhVUkwgPSB3ZWJVUkwuY2hhckF0KHdlYlVSTC5sZW5ndGggLSAxKSA9PT0gJy8nID9cbiAgICAgICAgICAgICAgICB3ZWJVUkwgKyBhamF4VVJMIDogd2ViVVJMICsgJy8nICsgYWpheFVSTDtcbiAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGFqYXhVUkwpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmdldEN1cnJlbnRTaXRlKCkudGhlbigodGhpc1NpdGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgYWpheFVSTCA9IHRoaXNTaXRlICsgKCh0aGlzU2l0ZS5jaGFyQXQodGhpc1NpdGUubGVuZ3RoIC0gMSkgPT09ICcvJykgPyBhamF4VVJMIDogKCcvJyArIGFqYXhVUkwpKTtcbiAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShhamF4VVJMKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBEYXRhU2VydmljZS5nZXRBdmFpbGFibGVXb3JrZmxvd3NcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIEdpdmVuIGEgbGlzdCBpdGVtIG9yIGRvY3VtZW50LCByZXR1cm4gYW4gYXJyYXkgb2YgYWxsIGF2YWlsYWJsZSB3b3JrZmxvd3MuICBUaGlzIGlzIHVzZWQgaW4gY29tYmluYXRpb24gd2l0aFxuICAgICAgICAgKiBEYXRhU2VydmljZS5zdGFydFdvcmtmbG93IGJlY2F1c2UgaXQgcmVxdWlyZXMgdGhlIHRlbXBsYXRlIEdVSUQgZm9yIHRoZSB0YXJnZXQgd29ya2Zsb3cuXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIDxwcmU+XG4gICAgICAgICAqIERhdGFTZXJ2aWNlLmdldEF2YWlsYWJsZVdvcmtmbG93cyhsaXN0SXRlbS5maWxlUmVmLmxvb2t1cFZhbHVlKVxuICAgICAgICAgKiAgICAgLnRoZW4oZnVuY3Rpb24odGVtcGxhdGVBcnJheSkge1xuICAgICAgICAgKiAgICAgICAgICAuLi4udGVtcGxhdGVBcnJheSA9IFt7XG4gICAgICAgICAqICAgICAgICAgICAgICBcIm5hbWVcIjogXCJXaWRnZXRBcHByb3ZhbFwiLFxuICAgICAgICAgKiAgICAgICAgICAgICAgXCJpbnN0YW50aWF0aW9uVXJsXCI6IFwiaHR0cHM6IC8vc2hhcmVwb2ludC5teWNvbXBhbnkuY29tL19sYXlvdXRzL0luaVdya2ZsSVAuYXNweD9MaXN0PWZjMTc4OTBlLThjMOKApjMxMS1jZWE5LTQwZDEtYTE4My02ZWRkZTkzMzM4MTV9JldlYj17ZWM3NDRkOGUtYWUwYS00NWRkLWJjZDEtOGE2M2I5YjM5OWJkfVwiLFxuICAgICAgICAgKiAgICAgICAgICAgICAgXCJ0ZW1wbGF0ZUlkXCI6IFwiNTkwNjIzMTEtY2VhOS00MGQxLWExODMtNmVkZGU5MzMzODE1XCJcbiAgICAgICAgICogICAgICAgICAgfV1cbiAgICAgICAgICogICAgIH0pO1xuICAgICAgICAgKiA8L3ByZT5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGZpbGVSZWZTdHJpbmcgUmVsYXRpdmUgb3Igc3RhdGljIHVybCByZWZlcmVuY2luZyB0aGUgaXRlbS5cbiAgICAgICAgICogQHJldHVybnMge29iamVjdH0gUmVzb2x2ZXMgd2l0aCBhbiBhcnJheSBvZiBvYmplY3RzIGRlZmluaW5nIGVhY2ggb2YgdGhlIGF2YWlsYWJsZSB3b3JrZmxvd3MgZm9yIHRoZSBpdGVtLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0QXZhaWxhYmxlV29ya2Zsb3dzKGZpbGVSZWZTdHJpbmc6IHN0cmluZykge1xuICAgICAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAgICAgICAgICAgIC8qKiBCdWlsZCB0aGUgZnVsbCB1cmwgZm9yIHRoZSBmaWxlUmVmIGlmIG5vdCBhbHJlYWR5IHByb3ZpZGVkLiAgRmlsZVJlZiBmb3IgYW4gaXRlbSBkZWZhdWx0cyB0byBhIHJlbGF0aXZlIHVybCAqL1xuICAgICAgICAgICAgdmFyIGl0ZW1VcmwgPSBmaWxlUmVmU3RyaW5nLmluZGV4T2YoJzogLy8nKSA+IC0xID8gZmlsZVJlZlN0cmluZyA6IHRoaXMuY3JlYXRlSXRlbVVybEZyb21GaWxlUmVmKGZpbGVSZWZTdHJpbmcpO1xuXG4gICAgICAgICAgICB0aGlzLnNlcnZpY2VXcmFwcGVyKHtcbiAgICAgICAgICAgICAgICBvcGVyYXRpb246ICdHZXRUZW1wbGF0ZXNGb3JJdGVtJyxcbiAgICAgICAgICAgICAgICBpdGVtOiBpdGVtVXJsXG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZVhNTCkge1xuICAgICAgICAgICAgICAgIHZhciB3b3JrZmxvd1RlbXBsYXRlcyA9IFtdO1xuICAgICAgICAgICAgICAgIHZhciB4bWxUZW1wbGF0ZXMgPSAkKHJlc3BvbnNlWE1MKS5TUEZpbHRlck5vZGUoJ1dvcmtmbG93VGVtcGxhdGUnKTtcbiAgICAgICAgICAgICAgICBfLmVhY2goeG1sVGVtcGxhdGVzLCBmdW5jdGlvbiAoeG1sVGVtcGxhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXBsYXRlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJCh4bWxUZW1wbGF0ZSkuYXR0cignTmFtZScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5zdGFudGlhdGlvblVybDogJCh4bWxUZW1wbGF0ZSkuYXR0cignSW5zdGFudGlhdGlvblVybCcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVJZDogJ3snICsgJCh4bWxUZW1wbGF0ZSkuZmluZCgnV29ya2Zsb3dUZW1wbGF0ZUlkU2V0JykuYXR0cignVGVtcGxhdGVJZCcpICsgJ30nXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHdvcmtmbG93VGVtcGxhdGVzLnB1c2godGVtcGxhdGUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUod29ya2Zsb3dUZW1wbGF0ZXMpO1xuICAgICAgICAgICAgfSk7XG5cblxuICAgICAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIERhdGFTZXJ2aWNlLmdldENvbGxlY3Rpb25cbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIFVzZWQgdG8gaGFuZGxlIGFueSBvZiB0aGUgR2V0W2ZpbHRlck5vZGVdQ29sbGVjdGlvbiBjYWxscyB0byBTaGFyZVBvaW50XG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gb2JqZWN0IHVzZWQgdG8gZXh0ZW5kIHBheWxvYWQgYW5kIG5lZWRzIHRvIGluY2x1ZGUgYWxsIFNQU2VydmljZXMgcmVxdWlyZWQgYXR0cmlidXRlc1xuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMub3BlcmF0aW9uXSBHZXRVc2VyQ29sbGVjdGlvbkZyb21TaXRlXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5vcGVyYXRpb25dIEdldEdyb3VwQ29sbGVjdGlvbkZyb21TaXRlXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5vcGVyYXRpb25dIEdldEdyb3VwQ29sbGVjdGlvbkZyb21Vc2VyIEByZXF1aXJlcyBvcHRpb25zLnVzZXJMb2dpbk5hbWVcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLm9wZXJhdGlvbl0gR2V0VXNlckNvbGxlY3Rpb25Gcm9tR3JvdXAgQHJlcXVpcmVzIG9wdGlvbnMuZ3JvdXBOYW1lXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5vcGVyYXRpb25dIEdldExpc3RDb2xsZWN0aW9uXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5vcGVyYXRpb25dIEdldFZpZXdDb2xsZWN0aW9uIEByZXF1aXJlcyBvcHRpb25zLmxpc3ROYW1lXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5vcGVyYXRpb25dIEdldEF0dGFjaG1lbnRDb2xsZWN0aW9uIEByZXF1aXJlcyBvcHRpb25zLmxpc3ROYW1lICYgb3B0aW9ucy5JRFxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMuZmlsdGVyTm9kZV0gLSBWYWx1ZSB0byBpdGVyYXRlIG92ZXIgaW4gcmV0dXJuZWQgWE1MXG4gICAgICAgICAqICAgICAgICAgaWYgbm90IHByb3ZpZGVkIGl0J3MgZXh0cmFjdGVkIGZyb20gdGhlIG5hbWUgb2YgdGhlIG9wZXJhdGlvblxuICAgICAgICAgKiAgICAgICAgIGV4OiBHZXRbVXNlcl1Db2xsZWN0aW9uRnJvbVNpdGUsIFwiVXNlclwiIGlzIHVzZWQgYXMgdGhlIGZpbHRlck5vZGVcbiAgICAgICAgICpcbiAgICAgICAgICogQHJldHVybnMge29iamVjdFtdfSBQcm9taXNlIHdoaWNoIHdoZW4gcmVzb2x2ZWQgd2lsbCBjb250YWluIGFuIGFycmF5IG9mIG9iamVjdHMgcmVwcmVzZW50aW5nIHRoZVxuICAgICAgICAgKiByZXF1ZXN0ZWQgY29sbGVjdGlvbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogPHByZT5cbiAgICAgICAgICogRGF0YVNlcnZpY2UuZ2V0Q29sbGVjdGlvbih7XG4gICAgICAgICAqICAgICAgICBvcGVyYXRpb246IFwiR2V0R3JvdXBDb2xsZWN0aW9uRnJvbVVzZXJcIixcbiAgICAgICAgICogICAgICAgIHVzZXJMb2dpbk5hbWU6ICRzY29wZS5zdGF0ZS5zZWxlY3RlZFVzZXIuTG9naW5OYW1lXG4gICAgICAgICAqICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgKiAgICAgICAgICAgIHBvc3RQcm9jZXNzRnVuY3Rpb24ocmVzcG9uc2UpO1xuICAgICAgICAgKiAgICAgICB9KTtcbiAgICAgICAgICogPC9wcmU+XG4gICAgICAgICAqL1xuICAgICAgICBnZXRDb2xsZWN0aW9uKG9wdGlvbnM6IHtvcGVyYXRpb246IHN0cmluZzsgdXNlckxvZ2luTmFtZT86IHN0cmluZzsgZ3JvdXBOYW1lPzogc3RyaW5nOyBsaXN0TmFtZT86IHN0cmluZzsgZmlsdGVyTm9kZTogc3RyaW5nO30pOiBuZy5JUHJvbWlzZTxPYmplY3RbXT4ge1xuICAgICAgICAgICAgdmFyIGRlZmF1bHRzID0ge1xuICAgICAgICAgICAgICAgIHBvc3RQcm9jZXNzOiBwcm9jZXNzWE1MXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIG9wdHMgPSBfLmV4dGVuZCh7fSwgZGVmYXVsdHMsIG9wdGlvbnMpO1xuXG4gICAgICAgICAgICAvKiogRGV0ZXJtaW5lIHRoZSBYTUwgbm9kZSB0byBpdGVyYXRlIG92ZXIgaWYgZmlsdGVyTm9kZSBpc24ndCBwcm92aWRlZCAqL1xuICAgICAgICAgICAgdmFyIGZpbHRlck5vZGUgPSBvcHRzLmZpbHRlck5vZGUgfHwgb3B0cy5vcGVyYXRpb24uc3BsaXQoJ0dldCcpWzFdLnNwbGl0KCdDb2xsZWN0aW9uJylbMF07XG5cbiAgICAgICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgICAgICAgIC8qKiBDb252ZXJ0IHRoZSB4bWwgcmV0dXJuZWQgZnJvbSB0aGUgc2VydmVyIGludG8gYW4gYXJyYXkgb2YganMgb2JqZWN0cyAqL1xuICAgICAgICAgICAgZnVuY3Rpb24gcHJvY2Vzc1hNTChzZXJ2ZXJSZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIHZhciBjb252ZXJ0ZWRJdGVtcyA9IFtdO1xuICAgICAgICAgICAgICAgIC8qKiBHZXQgYXR0YWNobWVudHMgb25seSByZXR1cm5zIHRoZSBsaW5rcyBhc3NvY2lhdGVkIHdpdGggYSBsaXN0IGl0ZW0gKi9cbiAgICAgICAgICAgICAgICBpZiAob3B0cy5vcGVyYXRpb24gPT09ICdHZXRBdHRhY2htZW50Q29sbGVjdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgLyoqIFVubGlrZSBvdGhlciBjYWxsLCBnZXQgYXR0YWNobWVudHMgb25seSByZXR1cm5zIHN0cmluZ3MgaW5zdGVhZCBvZiBhbiBvYmplY3Qgd2l0aCBhdHRyaWJ1dGVzICovXG4gICAgICAgICAgICAgICAgICAgICQoc2VydmVyUmVzcG9uc2UpLlNQRmlsdGVyTm9kZShmaWx0ZXJOb2RlKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnZlcnRlZEl0ZW1zLnB1c2goJCh0aGlzKS50ZXh0KCkpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbm9kZXMgPSAkKHNlcnZlclJlc3BvbnNlKS5TUEZpbHRlck5vZGUoZmlsdGVyTm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnZlcnRlZEl0ZW1zID0gYXBYTUxUb0pTT05TZXJ2aWNlLnBhcnNlKG5vZGVzLCB7aW5jbHVkZUFsbEF0dHJzOiB0cnVlLCByZW1vdmVPd3M6IGZhbHNlfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBjb252ZXJ0ZWRJdGVtcztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHZhbGlkUGF5bG9hZCA9IHRoaXMudmFsaWRhdGVDb2xsZWN0aW9uUGF5bG9hZChvcHRzKTtcbiAgICAgICAgICAgIGlmICh2YWxpZFBheWxvYWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlcnZpY2VXcmFwcGVyKG9wdHMpXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0b2FzdHIuZXJyb3IoJ0ludmFsaWQgcGF5bG9hZDogJywgb3B0cyk7XG4gICAgICAgICAgICAgICAgZGVmZXJyZWQucmVqZWN0KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBEYXRhU2VydmljZS5nZXRDdXJyZW50U2l0ZVxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogUmVxdWVzdHMgYW5kIGNhY2hlcyB0aGUgcm9vdCB1cmwgZm9yIHRoZSBjdXJyZW50IHNpdGUuICBJdCBjYWNoZXMgdGhlIHJlc3BvbnNlIHNvIGFueSBmdXR1cmUgY2FsbHMgcmVjZWl2ZVxuICAgICAgICAgKiB0aGUgY2FjaGVkIHByb21pc2UuXG4gICAgICAgICAqIEByZXR1cm5zIHtwcm9taXNlfSBSZXNvbHZlcyB3aXRoIHRoZSBjdXJyZW50IHNpdGUgcm9vdCB1cmwuXG4gICAgICAgICAqL1xuICAgICAgICBnZXRDdXJyZW50U2l0ZSgpOiBuZy5JUHJvbWlzZTxzdHJpbmc+IHtcbiAgICAgICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG4vL3ZhciBzZWxmID0gdGhpcy5nZXRDdXJyZW50U2l0ZTtcbiAgICAgICAgICAgIGlmICghdGhpcy5xdWVyeUZvckN1cnJlbnRTaXRlKSB7XG4gICAgICAgICAgICAgICAgLyoqIFdlIG9ubHkgd2FudCB0byBydW4gdGhpcyBvbmNlIHNvIGNhY2hlIHRoZSBwcm9taXNlIHRoZSBmaXJzdCB0aW1lIGFuZCBqdXN0IHJlZmVyZW5jZSBpdCBpbiB0aGUgZnV0dXJlICovXG4gICAgICAgICAgICAgICAgdGhpcy5xdWVyeUZvckN1cnJlbnRTaXRlID0gZGVmZXJyZWQucHJvbWlzZTtcblxuICAgICAgICAgICAgICAgIHZhciBtc2cgPSBTUFNlcnZpY2VzLlNPQVBFbnZlbG9wZS5oZWFkZXIgK1xuICAgICAgICAgICAgICAgICAgICBcIjxXZWJVcmxGcm9tUGFnZVVybCB4bWxucz0nXCIgKyBTUFNlcnZpY2VzLlNDSEVNQVNoYXJlUG9pbnQgKyBcIi9zb2FwLycgPjxwYWdlVXJsPlwiICtcbiAgICAgICAgICAgICAgICAgICAgKChsb2NhdGlvbi5ocmVmLmluZGV4T2YoXCI/XCIpID4gMCkgPyBsb2NhdGlvbi5ocmVmLnN1YnN0cigwLCBsb2NhdGlvbi5ocmVmLmluZGV4T2YoXCI/XCIpKSA6IGxvY2F0aW9uLmhyZWYpICtcbiAgICAgICAgICAgICAgICAgICAgXCI8L3BhZ2VVcmw+PC9XZWJVcmxGcm9tUGFnZVVybD5cIiArXG4gICAgICAgICAgICAgICAgICAgIFNQU2VydmljZXMuU09BUEVudmVsb3BlLmZvb3RlcjtcblxuICAgICAgICAgICAgICAgICRodHRwKHtcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgICAgIHVybDogJy9fdnRpX2Jpbi9XZWJzLmFzbXgnLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiBtc2csXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlVHlwZTogXCJkb2N1bWVudFwiLFxuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcInRleHQveG1sO2NoYXJzZXQ9J3V0Zi04J1wiXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvKiogU3VjY2VzcyAqL1xuICAgICAgICAgICAgICAgICAgICBhcENvbmZpZy5kZWZhdWx0VXJsID0gJChyZXNwb25zZS5kYXRhKS5maW5kKFwiV2ViVXJsRnJvbVBhZ2VVcmxSZXN1bHRcIikudGV4dCgpO1xuICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGFwQ29uZmlnLmRlZmF1bHRVcmwpXG4gICAgICAgICAgICAgICAgfSwgKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8qKiBFcnJvciAqL1xuICAgICAgICAgICAgICAgICAgICB2YXIgZXJyb3IgPSBhcERlY29kZVNlcnZpY2UuY2hlY2tSZXNwb25zZUZvckVycm9ycyhyZXNwb25zZS5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLnF1ZXJ5Rm9yQ3VycmVudFNpdGU7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIERhdGFTZXJ2aWNlLmdldEZpZWxkVmVyc2lvbkhpc3RvcnlcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIFJldHVybnMgdGhlIHZlcnNpb24gaGlzdG9yeSBmb3IgYSBmaWVsZCBpbiBhIGxpc3QgaXRlbS5cbiAgICAgICAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgQ29uZmlndXJhdGlvbiBvYmplY3QgcGFzc2VkIHRvIFNQU2VydmljZXMuXG4gICAgICAgICAqIDxwcmU+XG4gICAgICAgICAqIHZhciBvcHRpb25zID0ge1xuICAgICAgICAgKiAgICAgICAgb3BlcmF0aW9uOiAnR2V0VmVyc2lvbkNvbGxlY3Rpb24nLFxuICAgICAgICAgKiAgICAgICAgd2ViVVJMOiBhcENvbmZpZy5kZWZhdWx0VXJsLFxuICAgICAgICAgKiAgICAgICAgc3RybGlzdElEOiBtb2RlbC5saXN0LmdldExpc3RJZCgpLFxuICAgICAgICAgKiAgICAgICAgc3RybGlzdEl0ZW1JRDogbGlzdEl0ZW0uaWQsXG4gICAgICAgICAqICAgICAgICBzdHJGaWVsZE5hbWU6IGZpZWxkRGVmaW5pdGlvbi5zdGF0aWNOYW1lXG4gICAgICAgICAqICAgIH07XG4gICAgICAgICAqIDwvcHJlPlxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gZmllbGREZWZpbml0aW9uIEZpZWxkIGRlZmluaXRpb24gb2JqZWN0IGZyb20gdGhlIG1vZGVsLlxuICAgICAgICAgKiBAcmV0dXJucyB7b2JqZWN0W119IFByb21pc2Ugd2hpY2ggcmVzb2x2ZXMgd2l0aCBhbiBhcnJheSBvZiBsaXN0IGl0ZW0gY2hhbmdlcyBmb3IgdGhlIHNwZWNpZmllZCBmaWVsZC5cbiAgICAgICAgICovXG4gICAgICAgIGdldEZpZWxkVmVyc2lvbkhpc3Rvcnkob3B0aW9uczoge29wZXJhdGlvbj86IHN0cmluZzsgd2ViVVJMPzogc3RyaW5nOyBzdHJMaXN0SUQ6IHN0cmluZzsgc3RyTGlzdEl0ZW1JRDogbnVtYmVyOyBzdHJGaWVsZE5hbWU/OiBzdHJpbmc7fSwgZmllbGREZWZpbml0aW9uOiBJRmllbGREZWZpbml0aW9uKTogbmcuSVByb21pc2U8YXAuSUxpc3RJdGVtVmVyc2lvbj4ge1xuICAgICAgICAgICAgdmFyIGRlZmF1bHRzID0ge1xuICAgICAgICAgICAgICAgIG9wZXJhdGlvbjogJ0dldFZlcnNpb25Db2xsZWN0aW9uJ1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciBvcHRzID0gXy5leHRlbmQoe30sIGRlZmF1bHRzLCBvcHRpb25zKTtcblxuICAgICAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgICAgICAgdGhpcy5zZXJ2aWNlV3JhcHBlcihvcHRzKVxuICAgICAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvKiogUGFyc2UgWE1MIHJlc3BvbnNlICovXG4gICAgICAgICAgICAgICAgICAgIHZhciB2ZXJzaW9ucyA9IGFwRGVjb2RlU2VydmljZS5wYXJzZUZpZWxkVmVyc2lvbnMocmVzcG9uc2UsIGZpZWxkRGVmaW5pdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIC8qKiBSZXNvbHZlIHdpdGggYW4gYXJyYXkgb2YgYWxsIGZpZWxkIHZlcnNpb25zICovXG4gICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUodmVyc2lvbnMpO1xuICAgICAgICAgICAgICAgIH0sIChvdXRjb21lKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8qKiBGYWlsdXJlICovXG4gICAgICAgICAgICAgICAgICAgIHRvYXN0ci5lcnJvcignRmFpbGVkIHRvIGZldGNoIHZlcnNpb24gaGlzdG9yeS4nKTtcbiAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVqZWN0KG91dGNvbWUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIERhdGFTZXJ2aWNlLmdldEdyb3VwQ29sbGVjdGlvbkZyb21Vc2VyXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBGZXRjaGVzIGFuIGFycmF5IG9mIGdyb3VwIG5hbWVzIHRoZSB1c2VyIGlzIGEgbWVtYmVyIG9mLiAgSWYgbm8gdXNlciBpcyBwcm92aWRlZCB3ZSB1c2UgdGhlIGN1cnJlbnQgdXNlci5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtsb2dpbj1DdXJyZW50VXNlcl0gT3B0aW9uYWwgcGFyYW0gb2YgYW5vdGhlciB1c2VyJ3MgbG9naW4gdG8gcmV0dXJuIHRoZSBwcm9maWxlIGZvci5cbiAgICAgICAgICogQHJldHVybnMge3N0cmluZ1tdfSBQcm9taXNlIHdoaWNoIHJlc29sdmVzIHdpdGggdGhlIGFycmF5IG9mIGdyb3VwcyB0aGUgdXNlciBiZWxvbmdzIHRvLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0R3JvdXBDb2xsZWN0aW9uRnJvbVVzZXIobG9naW4/OiBzdHJpbmcpOiBuZy5JUHJvbWlzZTxPYmplY3RbXT4ge1xuICAgICAgICAgICAgLyoqIENyZWF0ZSBhIG5ldyBkZWZlcnJlZCBvYmplY3QgaWYgbm90IGFscmVhZHkgZGVmaW5lZCAqL1xuICAgICAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAgICAgICAgICAgIHZhciBnZXRHcm91cENvbGxlY3Rpb24gPSAodXNlckxvZ2luTmFtZSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VydmljZVdyYXBwZXIoe1xuICAgICAgICAgICAgICAgICAgICBvcGVyYXRpb246ICdHZXRHcm91cENvbGxlY3Rpb25Gcm9tVXNlcicsXG4gICAgICAgICAgICAgICAgICAgIHVzZXJMb2dpbk5hbWU6IHVzZXJMb2dpbk5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGZpbHRlck5vZGU6ICdHcm91cCdcbiAgICAgICAgICAgICAgICB9KS50aGVuKChncm91cENvbGxlY3Rpb24pID0+IGRlZmVycmVkLnJlc29sdmUoZ3JvdXBDb2xsZWN0aW9uKSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBpZiAoIWxvZ2luKSB7XG4gICAgICAgICAgICAgICAgLyoqIE5vIGxvZ2luIG5hbWUgcHJvdmlkZWQgc28gbG9va3VwIHByb2ZpbGUgZm9yIGN1cnJlbnQgdXNlciAqL1xuICAgICAgICAgICAgICAgIHRoaXMuZ2V0VXNlclByb2ZpbGVCeU5hbWUoKVxuICAgICAgICAgICAgICAgICAgICAudGhlbigodXNlclByb2ZpbGUpID0+IGdldEdyb3VwQ29sbGVjdGlvbih1c2VyUHJvZmlsZS51c2VyTG9naW5OYW1lKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGdldEdyb3VwQ29sbGVjdGlvbihsb2dpbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAgICogQG5hbWUgRGF0YVNlcnZpY2UuZ2V0TGlzdFxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogUmV0dXJucyBhbGwgbGlzdCBkZXRhaWxzIGluY2x1ZGluZyBmaWVsZCBhbmQgbGlzdCBjb25maWcuXG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIENvbmZpZ3VyYXRpb24gcGFyYW1ldGVycy5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMubGlzdE5hbWUgR1VJRCBvZiB0aGUgbGlzdC5cbiAgICAgICAgICogQHJldHVybnMge29iamVjdH0gUHJvbWlzZSB3aGljaCByZXNvbHZlcyB3aXRoIGFuIG9iamVjdCBkZWZpbmluZyBmaWVsZCBhbmQgbGlzdCBjb25maWcuXG4gICAgICAgICAqL1xuICAgICAgICBnZXRMaXN0KG9wdGlvbnM6IHtsaXN0TmFtZTogc3RyaW5nfSk6IG5nLklQcm9taXNlPE9iamVjdD4ge1xuICAgICAgICAgICAgdmFyIGRlZmF1bHRzID0ge1xuICAgICAgICAgICAgICAgIG9wZXJhdGlvbjogJ0dldExpc3QnXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB2YXIgb3B0cyA9IF8uZXh0ZW5kKHt9LCBkZWZhdWx0cywgb3B0aW9ucyk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zZXJ2aWNlV3JhcHBlcihvcHRzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAgICogQG5hbWUgRGF0YVNlcnZpY2UuZ2V0TGlzdEZpZWxkc1xuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogUmV0dXJucyBmaWVsZCBkZWZpbml0aW9ucyBmb3IgYSBzcGVjaWZpZWQgbGlzdC5cbiAgICAgICAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgQ29uZmlndXJhdGlvbiBwYXJhbWV0ZXJzLlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy5saXN0TmFtZSBHVUlEIG9mIHRoZSBsaXN0LlxuICAgICAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSBQcm9taXNlIHdoaWNoIHJlc29sdmVzIHdpdGggYW4gYXJyYXkgb2YgZmllbGQgZGVmaW5pdGlvbnMgZm9yIHRoZSBsaXN0LlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0TGlzdEZpZWxkcyhvcHRpb25zOiB7bGlzdE5hbWU6IHN0cmluZzt9KTogbmcuSVByb21pc2U8T2JqZWN0W10+IHtcbiAgICAgICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG4gICAgICAgICAgICB0aGlzLmdldExpc3Qob3B0aW9ucylcbiAgICAgICAgICAgICAgICAudGhlbigocmVzcG9uc2VYbWwpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5vZGVzID0gJChyZXNwb25zZVhtbCkuU1BGaWx0ZXJOb2RlKCdGaWVsZCcpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZmllbGRzID0gYXBYTUxUb0pTT05TZXJ2aWNlLnBhcnNlKG5vZGVzLCB7aW5jbHVkZUFsbEF0dHJzOiB0cnVlLCByZW1vdmVPd3M6IGZhbHNlfSk7XG4gICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoZmllbGRzKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBEYXRhU2VydmljZS5nZXRVc2VyUHJvZmlsZVxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogUmV0dXJucyB0aGUgcHJvZmlsZSBmb3IgYW4gb3B0aW9uYWwgdXNlciwgYnV0IGRlZmF1bHRzIHRoZSB0aGUgY3VycmVudCB1c2VyIGlmIG9uZSBpc24ndCBwcm92aWRlZC5cbiAgICAgICAgICogUHVsbCB1c2VyIHByb2ZpbGUgaW5mbyBhbmQgcGFyc2UgaW50byBhIHByb2ZpbGUgb2JqZWN0XG4gICAgICAgICAqIGh0dHA6IC8vc3BzZXJ2aWNlcy5jb2RlcGxleC5jb20vd2lraXBhZ2U/dGl0bGU9R2V0VXNlclByb2ZpbGVCeU5hbWVcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtsb2dpbj1DdXJyZW50VXNlcl0gT3B0aW9uYWwgcGFyYW0gb2YgYW5vdGhlciB1c2VyJ3MgbG9naW4gdG8gcmV0dXJuIHRoZSBwcm9maWxlIGZvci5cbiAgICAgICAgICogQHJldHVybnMge29iamVjdH0gUHJvbWlzZSB3aGljaCByZXNvbHZlcyB3aXRoIHRoZSByZXF1ZXN0ZWQgdXNlciBwcm9maWxlLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0VXNlclByb2ZpbGVCeU5hbWUobG9naW4/OiBzdHJpbmcpOiBuZy5JUHJvbWlzZTx7IEFjY291bnROYW1lOiBzdHJpbmc7IHVzZXJMb2dpbk5hbWU6IHN0cmluZzsgfT4ge1xuICAgICAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAgICAgICAgICAgIHZhciBwYXlsb2FkID0ge1xuICAgICAgICAgICAgICAgIGFjY291bnROYW1lOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgb3BlcmF0aW9uOiAnR2V0VXNlclByb2ZpbGVCeU5hbWUnXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKGxvZ2luKSB7XG4gICAgICAgICAgICAgICAgcGF5bG9hZC5hY2NvdW50TmFtZSA9IGxvZ2luO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnNlcnZpY2VXcmFwcGVyKHBheWxvYWQpXG4gICAgICAgICAgICAgICAgLnRoZW4oKHNlcnZlclJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB1c2VyUHJvZmlsZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIEFjY291bnROYW1lOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyTG9naW5OYW1lOiB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgLy9Ob3QgZm9ybWF0dGVkIGxpa2UgYSBub3JtYWwgU1AgcmVzcG9uc2Ugc28gbmVlZCB0byBtYW51YWxseSBwYXJzZVxuICAgICAgICAgICAgICAgICAgICAkKHNlcnZlclJlc3BvbnNlKS5TUEZpbHRlck5vZGUoJ1Byb3BlcnR5RGF0YScpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5vZGVOYW1lID0gJCh0aGlzKS5TUEZpbHRlck5vZGUoJ05hbWUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBub2RlVmFsdWUgPSAkKHRoaXMpLlNQRmlsdGVyTm9kZSgnVmFsdWUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub2RlTmFtZS5sZW5ndGggPiAwICYmIG5vZGVWYWx1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlclByb2ZpbGVbbm9kZU5hbWUudGV4dCgpLnRyaW0oKV0gPSBub2RlVmFsdWUudGV4dCgpLnRyaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIC8qKiBPcHRpb25hbGx5IHNwZWNpZnkgYSBuZWNlc3NhcnkgcHJlZml4IHRoYXQgc2hvdWxkIGFwcGVhciBiZWZvcmUgdGhlIHVzZXIgbG9naW4gKi9cbiAgICAgICAgICAgICAgICAgICAgdXNlclByb2ZpbGUudXNlckxvZ2luTmFtZSA9IGFwQ29uZmlnLnVzZXJMb2dpbk5hbWVQcmVmaXggP1xuICAgICAgICAgICAgICAgICAgICAgICAgKGFwQ29uZmlnLnVzZXJMb2dpbk5hbWVQcmVmaXggKyB1c2VyUHJvZmlsZS5BY2NvdW50TmFtZSkgOiB1c2VyUHJvZmlsZS5BY2NvdW50TmFtZTtcbiAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSh1c2VyUHJvZmlsZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAgICogQG5hbWUgRGF0YVNlcnZpY2UucHJvY2Vzc0NoYW5nZVRva2VuWE1MXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBUaGUgaW5pdGlhbCBjYWxsIHRvIEdldExpc3RJdGVtQ2hhbmdlc1NpbmNlVG9rZW4gYWxzbyBpbmNsdWRlcyB0aGUgZmllbGQgZGVmaW5pdGlvbnMgZm9yIHRoZVxuICAgICAgICAgKiBsaXN0IHNvIGV4dGVuZCB0aGUgZXhpc3RpbmcgZmllbGQgZGVmaW5pdGlvbnMgYW5kIGxpc3QgZGVmaW5lZCBpbiB0aGUgbW9kZWwuICBBZnRlciB0aGF0LCBzdG9yZVxuICAgICAgICAgKiB0aGUgY2hhbmdlIHRva2VuIGFuZCBtYWtlIGFueSBjaGFuZ2VzIHRvIHRoZSB1c2VyJ3MgcGVybWlzc2lvbnMgZm9yIHRoZSBsaXN0LlxuICAgICAgICAgKiBAcGFyYW0ge01vZGVsfSBtb2RlbCBMaXN0IG1vZGVsLlxuICAgICAgICAgKiBAcGFyYW0ge0lRdWVyeX0gcXVlcnkgVmFsaWQgcXVlcnkgb2JqZWN0LlxuICAgICAgICAgKiBAcGFyYW0ge1hNTERvY3VtZW50fSByZXNwb25zZVhNTCBYTUwgcmVzcG9uc2UgZnJvbSB0aGUgc2VydmVyLlxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gb3B0cyBDb25maWcgb3B0aW9ucyBidWlsdCB1cCBhbG9uZyB0aGUgd2F5LlxuICAgICAgICAgKi9cbiAgICAgICAgcHJvY2Vzc0NoYW5nZVRva2VuWE1MKG1vZGVsOiBJTW9kZWwsIHF1ZXJ5OiBJUXVlcnksIHJlc3BvbnNlWE1MOiBYTUxEb2N1bWVudCwgb3B0cykge1xuICAgICAgICAgICAgaWYgKCFtb2RlbC5kZWZlcnJlZExpc3REZWZpbml0aW9uKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgICAgICAgICAgIC8qKiBSZXBsYWNlIHRoZSBudWxsIHBsYWNlaG9sZGVyIHdpdGggdGhpcyBwcm9taXNlIHNvIHdlIGRvbid0IGhhdmUgdG8gcHJvY2VzcyBpbiB0aGUgZnV0dXJlIGFuZCBhbHNvXG4gICAgICAgICAgICAgICAgICogZG9uJ3QgaGF2ZSB0byBxdWVyeSBhZ2FpbiBpZiB3ZSBydW4gTW9kZWwuZXh0ZW5kTGlzdE1ldGFkYXRhLiAqL1xuICAgICAgICAgICAgICAgIG1vZGVsLmRlZmVycmVkTGlzdERlZmluaXRpb24gPSBkZWZlcnJlZC5wcm9taXNlO1xuXG4gICAgICAgICAgICAgICAgLyoqIEltbWVkaWF0ZWx5IHJlc29sdmUgYmVjYXVzZSB0aGVyZSdzIG5vIG5lZWQgdG8gcGVyZm9ybSBhbnkgYXN5bmMgYWN0aW9ucyAqL1xuICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUobW9kZWwpO1xuICAgICAgICAgICAgICAgIGFwRGVjb2RlU2VydmljZS5leHRlbmRMaXN0TWV0YWRhdGEobW9kZWwsIHJlc3BvbnNlWE1MKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLyoqIFN0b3JlIHRva2VuIGZvciBmdXR1cmUgd2ViIHNlcnZpY2UgY2FsbHMgdG8gcmV0dXJuIGNoYW5nZXMgKi9cbiAgICAgICAgICAgIHF1ZXJ5LmNoYW5nZVRva2VuID0gdGhpcy5yZXRyaWV2ZUNoYW5nZVRva2VuKHJlc3BvbnNlWE1MKTtcblxuICAgICAgICAgICAgLyoqIFVwZGF0ZSB0aGUgdXNlciBwZXJtaXNzaW9ucyBmb3IgdGhpcyBsaXN0ICovXG4gICAgICAgICAgICB2YXIgZWZmZWN0aXZlUGVybWlzc2lvbk1hc2sgPSB0aGlzLnJldHJpZXZlUGVybU1hc2socmVzcG9uc2VYTUwpO1xuICAgICAgICAgICAgaWYgKGVmZmVjdGl2ZVBlcm1pc3Npb25NYXNrKSB7XG4gICAgICAgICAgICAgICAgbW9kZWwubGlzdC5lZmZlY3RpdmVQZXJtTWFzayA9IGVmZmVjdGl2ZVBlcm1pc3Npb25NYXNrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvKiogQ2hhbmdlIHRva2VuIHF1ZXJ5IGluY2x1ZGVzIGRlbGV0ZWQgaXRlbXMgYXMgd2VsbCBzbyB3ZSBuZWVkIHRvIHByb2Nlc3MgdGhlbSBzZXBhcmF0ZWx5ICovXG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NEZWxldGlvbnNTaW5jZVRva2VuKHJlc3BvbnNlWE1MLCBvcHRzLnRhcmdldCk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIERhdGFTZXJ2aWNlLnByb2Nlc3NEZWxldGlvbnNTaW5jZVRva2VuXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBHZXRMaXN0SXRlbUNoYW5nZXNTaW5jZVRva2VuIHJldHVybnMgaXRlbXMgdGhhdCBoYXZlIGJlZW4gYWRkZWQgYXMgd2VsbCBhcyBkZWxldGVkIHNvIHdlIG5lZWRcbiAgICAgICAgICogdG8gcmVtb3ZlIHRoZSBkZWxldGVkIGl0ZW1zIGZyb20gdGhlIGxvY2FsIGNhY2hlLlxuICAgICAgICAgKiBAcGFyYW0ge1hNTERvY3VtZW50fSByZXNwb25zZVhNTCBYTUwgcmVzcG9uc2UgZnJvbSB0aGUgc2VydmVyLlxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5kZXhlZENhY2hlIENhY2hlZCBvYmplY3Qgb2Yga2V5IHZhbHVlIHBhaXJzLlxuICAgICAgICAgKi9cbiAgICAgICAgcHJvY2Vzc0RlbGV0aW9uc1NpbmNlVG9rZW4ocmVzcG9uc2VYTUw6IFhNTERvY3VtZW50LCBpbmRleGVkQ2FjaGU6IElJbmRleGVkQ2FjaGUpIHtcbiAgICAgICAgICAgIC8qKiBSZW1vdmUgYW55IGxvY2FsbHkgY2FjaGVkIGVudGl0aWVzIHRoYXQgd2VyZSBkZWxldGVkIGZyb20gdGhlIHNlcnZlciAqL1xuICAgICAgICAgICAgJChyZXNwb25zZVhNTCkuU1BGaWx0ZXJOb2RlKCdJZCcpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIC8qKiBDaGVjayBmb3IgdGhlIHR5cGUgb2YgY2hhbmdlICovXG4gICAgICAgICAgICAgICAgdmFyIGNoYW5nZVR5cGUgPSAkKHRoaXMpLmF0dHIoJ0NoYW5nZVR5cGUnKTtcblxuICAgICAgICAgICAgICAgIGlmIChjaGFuZ2VUeXBlID09PSAnRGVsZXRlJykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbGlzdEl0ZW1JZCA9IHBhcnNlSW50KCQodGhpcykudGV4dCgpLCAxMCk7XG4gICAgICAgICAgICAgICAgICAgIC8qKiBSZW1vdmUgZnJvbSBsb2NhbCBkYXRhIGFycmF5ICovXG4gICAgICAgICAgICAgICAgICAgIGluZGV4ZWRDYWNoZS5yZW1vdmVFbnRpdHkobGlzdEl0ZW1JZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIERhdGFTZXJ2aWNlLnJlcXVlc3REYXRhXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBUaGUgcHJpbWFyeSBmdW5jdGlvbiB0aGF0IGhhbmRsZXMgYWxsIGNvbW11bmljYXRpb24gd2l0aCB0aGUgc2VydmVyLiAgVGhpcyBpcyB2ZXJ5IGxvdyBsZXZlbCBhbmQgaXNuJ3RcbiAgICAgICAgICogaW50ZW5kZWQgdG8gYmUgY2FsbGVkIGRpcmVjdGx5LlxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gb3B0cyBQYXlsb2FkIG9iamVjdCBjb250YWluaW5nIHRoZSBkZXRhaWxzIG9mIHRoZSByZXF1ZXN0LlxuICAgICAgICAgKiBAcmV0dXJucyB7cHJvbWlzZX0gUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggdGhlIHNlcnZlciByZXNwb25zZS5cbiAgICAgICAgICovXG4gICAgICAgIHJlcXVlc3REYXRhKG9wdHMpOiBuZy5JUHJvbWlzZTxYTUxEb2N1bWVudD4ge1xuICAgICAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgICAgICAgdmFyIHNvYXBEYXRhID0gU1BTZXJ2aWNlcy5nZW5lcmF0ZVhNTENvbXBvbmVudHMob3B0cyk7XG4gICAgICAgICAgICB2YXIgc2VydmljZSA9IGFwV2ViU2VydmljZU9wZXJhdGlvbkNvbnN0YW50c1tvcHRzLm9wZXJhdGlvbl1bMF07XG4gICAgICAgICAgICB0aGlzLmdlbmVyYXRlV2ViU2VydmljZVVybChzZXJ2aWNlLCBvcHRzLndlYlVSTClcbiAgICAgICAgICAgICAgICAudGhlbigodXJsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICRodHRwLnBvc3QodXJsLCBzb2FwRGF0YS5tc2csIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlVHlwZTogXCJkb2N1bWVudFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwidGV4dC94bWw7Y2hhcnNldD0ndXRmLTgnXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU09BUEFjdGlvbjogKCkgPT4gc29hcERhdGEuU09BUEFjdGlvbiA/IHNvYXBEYXRhLlNPQVBBY3Rpb24gOiBudWxsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtUmVzcG9uc2U6IChkYXRhLCBoZWFkZXJzR2V0dGVyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF8uaXNTdHJpbmcoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9ICQucGFyc2VYTUwoZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLyoqIFN1Y2Nlc3MgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKiBFcnJvcnMgY2FuIHN0aWxsIGJlIHJlc29sdmVkIHdpdGhvdXQgdGhyb3dpbmcgYW4gZXJyb3Igc28gY2hlY2sgdGhlIFhNTCAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVycm9yID0gYXBEZWNvZGVTZXJ2aWNlLmNoZWNrUmVzcG9uc2VGb3JFcnJvcnMocmVzcG9uc2UuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yLCBvcHRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHJlc3BvbnNlLmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LCAocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKiBGYWlsdXJlICovXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXJyb3IgPSBhcERlY29kZVNlcnZpY2UuY2hlY2tSZXNwb25zZUZvckVycm9ycyhyZXNwb25zZS5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IocmVzcG9uc2Uuc3RhdHVzVGV4dCwgb3B0cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZWplY3QocmVzcG9uc2Uuc3RhdHVzVGV4dCArICc6ICcgKyBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAgICogQG5hbWUgRGF0YVNlcnZpY2UucmV0cmlldmVDaGFuZ2VUb2tlblxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogUmV0dXJucyB0aGUgY2hhbmdlIHRva2VuIGZyb20gdGhlIHhtbCByZXNwb25zZSBvZiBhIEdldExpc3RJdGVtQ2hhbmdlc1NpbmNlVG9rZW4gcXVlcnlcbiAgICAgICAgICogTm90ZTogdGhpcyBhdHRyaWJ1dGUgaXMgb25seSBmb3VuZCB3aGVuIHVzaW5nICdHZXRMaXN0SXRlbUNoYW5nZXNTaW5jZVRva2VuJ1xuICAgICAgICAgKiBAcGFyYW0ge1hNTERvY3VtZW50fSByZXNwb25zZVhNTCBYTUwgcmVzcG9uc2UgZnJvbSB0aGUgc2VydmVyLlxuICAgICAgICAgKi9cbiAgICAgICAgcmV0cmlldmVDaGFuZ2VUb2tlbihyZXNwb25zZVhNTDogWE1MRG9jdW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiAkKHJlc3BvbnNlWE1MKS5maW5kKCdDaGFuZ2VzJykuYXR0cignTGFzdENoYW5nZVRva2VuJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIERhdGFTZXJ2aWNlLnJldHJpZXZlUGVybU1hc2tcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIFJldHVybnMgdGhlIHRleHQgcmVwcmVzZW50YXRpb24gb2YgdGhlIHVzZXJzIHBlcm1pc3Npb24gbWFza1xuICAgICAgICAgKiBOb3RlOiB0aGlzIGF0dHJpYnV0ZSBpcyBvbmx5IGZvdW5kIHdoZW4gdXNpbmcgJ0dldExpc3RJdGVtQ2hhbmdlc1NpbmNlVG9rZW4nXG4gICAgICAgICAqIEBwYXJhbSB7WE1MRG9jdW1lbnR9IHJlc3BvbnNlWE1MIFhNTCByZXNwb25zZSBmcm9tIHRoZSBzZXJ2ZXIuXG4gICAgICAgICAqL1xuICAgICAgICByZXRyaWV2ZVBlcm1NYXNrKHJlc3BvbnNlWE1MOiBYTUxEb2N1bWVudCkge1xuICAgICAgICAgICAgcmV0dXJuICQocmVzcG9uc2VYTUwpLmZpbmQoJ2xpc3RpdGVtcycpLmF0dHIoJ0VmZmVjdGl2ZVBlcm1NYXNrJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIERhdGFTZXJ2aWNlLnNlcnZpY2VXcmFwcGVyXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBHZW5lcmljIHdyYXBwZXIgZm9yIGFueSBTUFNlcnZpY2VzIHdlYiBzZXJ2aWNlIGNhbGwuICBUaGUgYmlnIGJlbmVmaXQgdG8gdGhpcyBmdW5jdGlvbiBpcyBpdCBhbGxvd3MgdXNcbiAgICAgICAgICogdG8gY29udGludWUgdG8gdXNlIHRoZSAkcSBwcm9taXNlIG1vZGVsIHRocm91Z2hvdXQgdGhlIGFwcGxpY2F0aW9uIGluc3RlYWQgb2YgdXNpbmcgdGhlIHByb21pc2VcbiAgICAgICAgICogaW1wbGVtZW50YXRpb24gdXNlZCBpbiBTUFNlcnZpY2VzIHNvIHdlIGhhdmUgYSBtb3JlIGNvbnNpc3RlbnQgZXhwZXJpZW5jZS5cbiAgICAgICAgICogQ2hlY2sgaHR0cDogLy9zcHNlcnZpY2VzLmNvZGVwbGV4LmNvbS9kb2N1bWVudGF0aW9uIGZvciBkZXRhaWxzIG9uIGV4cGVjdGVkIHBhcmFtZXRlcnMgZm9yIGVhY2ggb3BlcmF0aW9uLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyBQYXlsb2FkIHBhcmFtcyB0aGF0IGlzIGRpcmVjdGx5IHBhc3NlZCB0byBTUFNlcnZpY2VzLlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMud2ViVVJMXSBYTUwgZmlsdGVyIHN0cmluZyB1c2VkIHRvIGZpbmQgdGhlIGVsZW1lbnRzIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmZpbHRlck5vZGVdIFhNTCBmaWx0ZXIgc3RyaW5nIHVzZWQgdG8gZmluZCB0aGUgZWxlbWVudHMgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAgICAgKiBUaGlzIGlzIHR5cGljYWxseSAnejogcm93JyBmb3IgbGlzdCBpdGVtcy5cbiAgICAgICAgICogQHJldHVybnMge29iamVjdH0gUmV0dXJucyBhIHByb21pc2Ugd2hpY2ggd2hlbiByZXNvbHZlZCBlaXRoZXIgcmV0dXJucyBjbGVhbiBvYmplY3RzIHBhcnNlZCBieSB0aGUgdmFsdWVcbiAgICAgICAgICogaW4gb3B0aW9ucy5maWx0ZXJOb2RlIG9yIHRoZSByYXcgWE1MIHJlc3BvbnNlIGlmIGEgb3B0aW9ucy5maWx0ZXJOb2RlXG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAgSWYgb3B0aW9ucy5maWx0ZXJOb2RlIGlzIHByb3ZpZGVkLCByZXR1cm5zIFhNTCBwYXJzZWQgYnkgbm9kZSBuYW1lXG4gICAgICAgICAqICAgICAgT3RoZXJ3aXNlIHJldHVybnMgdGhlIHNlcnZlciByZXNwb25zZVxuICAgICAgICAgKi9cbiAgICAgICAgc2VydmljZVdyYXBwZXIob3B0aW9ucyk6IG5nLklQcm9taXNlPGFueT4ge1xuICAgICAgICAgICAgdmFyIGRlZmF1bHRzID0ge1xuICAgICAgICAgICAgICAgIHBvc3RQcm9jZXNzOiBwcm9jZXNzWE1MLFxuICAgICAgICAgICAgICAgIHdlYlVSTDogYXBDb25maWcuZGVmYXVsdFVybFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciBvcHRzID0gXy5leHRlbmQoe30sIGRlZmF1bHRzLCBvcHRpb25zKTtcbiAgICAgICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgICAgICAgIC8qKiBDb252ZXJ0IHRoZSB4bWwgcmV0dXJuZWQgZnJvbSB0aGUgc2VydmVyIGludG8gYW4gYXJyYXkgb2YganMgb2JqZWN0cyAqL1xuICAgICAgICAgICAgZnVuY3Rpb24gcHJvY2Vzc1hNTChzZXJ2ZXJSZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIGlmIChvcHRzLmZpbHRlck5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5vZGVzID0gJChzZXJ2ZXJSZXNwb25zZSkuU1BGaWx0ZXJOb2RlKG9wdHMuZmlsdGVyTm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhcFhNTFRvSlNPTlNlcnZpY2UucGFyc2Uobm9kZXMsIHtpbmNsdWRlQWxsQXR0cnM6IHRydWUsIHJlbW92ZU93czogZmFsc2V9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2VydmVyUmVzcG9uc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnJlcXVlc3REYXRhKG9wdHMpXG4gICAgICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8qKiBGYWlsdXJlICovXG4gICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gb3B0cy5wb3N0UHJvY2VzcyhyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoZGF0YSk7XG4gICAgICAgICAgICAgICAgfSwgKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8qKiBGYWlsdXJlICovXG4gICAgICAgICAgICAgICAgICAgIHRvYXN0ci5lcnJvcignRmFpbGVkIHRvIGNvbXBsZXRlIHRoZSByZXF1ZXN0ZWQgJyArIG9wdHMub3BlcmF0aW9uICsgJyBvcGVyYXRpb24uJyk7XG4gICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdChyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBEYXRhU2VydmljZS5zdGFydFdvcmtmbG93XG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBJbml0aWF0ZSBhIHdvcmtmbG93IGZvciBhIGdpdmVuIGxpc3QgaXRlbSBvciBkb2N1bWVudC4gIFlvdSBjYW4gdmlldyBhZGRpdGlvbmFsIGluZm8gYXRcbiAgICAgICAgICogW1N0YXJ0V29ya2Zsb3ddKGh0dHA6IC8vc3BzZXJ2aWNlcy5jb2RlcGxleC5jb20vd2lraXBhZ2U/dGl0bGU9U3RhcnRXb3JrZmxvdyZyZWZlcnJpbmdUaXRsZT1Xb3JrZmxvdykuXG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIENvbmZpZ3VyYXRpb24gb3B0aW9ucy5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMuaXRlbSBGdWxsIGZpbGVSZWYgZm9yIHRoZSBnaXZlbiBsaXN0IGl0ZW0vZG9jdW1lbnQuXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBvcHRpb25zLnRlbXBsYXRlSWQgVGhlIHdvcmtmbG93IHRlbXBsYXRlIEdVSUQuICBZb3UgY2FuIHVzZSBkYXRhU2VydmljZS5nZXRBdmFpbGFibGVXb3JrZmxvd3NcbiAgICAgICAgICogdG8gbG9jYXRlIHRvIGFwcHJvcHJpYXRlIG9uZS5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLndvcmtmbG93UGFyYW1ldGVycz0nPHJvb3QgLz4nXSBPcHRpb25hbGx5IHByb3ZpZGUgcGFyYW1hdGVycyB0byB0aGUgd29ya2Zsb3cuXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5maWxlUmVmXSBPcHRpb25hbGx5IHBhc3MgaW4gdGhlIHJlbGF0aXZlIGZpbGVSZWYgb2YgYW4gbGlzdEl0ZW0gYW5kIHRoZW4gd2UgY2FuXG4gICAgICAgICAqIGNvbnZlcnQgaXQgdG8gb3B0aW9ucy5pdGVtLlxuICAgICAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSBEZWZlcnJlZCBvYmplY3QgdGhhdCByZXNvbHZlcyBvbmNlIGNvbXBsZXRlLlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiA8cHJlPlxuICAgICAgICAgKiBEYXRhU2VydmljZS5zdGFydFdvcmtmbG93KHtcbiAgICAgICAgICogICAgIGl0ZW06IFwiaHR0cHM6IC8vc2VydmVyL3NpdGUvTGlzdHMvaXRlbVwiICsgaWREYXRhICsgXCJfLjAwMFwiLFxuICAgICAgICAgKiAgICAgdGVtcGxhdGVJZDogXCJ7YzI5YzEyOTEtYTI1Yy00N2Q3LTkzNDUtOGZiMWRlMmExZmEzfVwiLFxuICAgICAgICAgKiAgICAgd29ya2Zsb3dQYXJhbWV0ZXJzOiBcIjxEYXRhPjxtb250aE5hbWU+XCIgKyB0eHRCb3gudmFsdWUgKyBcIjwvbW9udGhOYW1lPjwvRGF0YT5cIixcbiAgICAgICAgICogICAuLi59KS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgKiAgICAgICAvL1N1Y2Nlc3NcbiAgICAgICAgICogICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICogICAgICAgLy9FcnJvclxuICAgICAgICAgKiAgIH0pXG4gICAgICAgICAqIDwvcHJlPlxuICAgICAgICAgKi9cbiAgICAgICAgc3RhcnRXb3JrZmxvdyhvcHRpb25zOiB7aXRlbTogc3RyaW5nOyB0ZW1wbGF0ZUlkOiBzdHJpbmc7IHdvcmtmbG93UGFyYW1ldGVycz86IHN0cmluZzsgZmlsZVJlZj86IHN0cmluZzt9KTogbmcuSVByb21pc2U8YW55PiB7XG4gICAgICAgICAgICB2YXIgZGVmYXVsdHMgPSB7XG4gICAgICAgICAgICAgICAgICAgIG9wZXJhdGlvbjogJ1N0YXJ0V29ya2Zsb3cnLFxuICAgICAgICAgICAgICAgICAgICBpdGVtOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgZmlsZVJlZjogJycsXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlSWQ6ICcnLFxuICAgICAgICAgICAgICAgICAgICB3b3JrZmxvd1BhcmFtZXRlcnM6ICc8cm9vdCAvPidcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9wdHM6IHtpdGVtOiBzdHJpbmc7IGZpbGVSZWY6IHN0cmluZzt9ID0gXy5leHRlbmQoe30sIGRlZmF1bHRzLCBvcHRpb25zKTtcblxuICAgICAgICAgICAgLyoqIFdlIGhhdmUgdGhlIHJlbGF0aXZlIGZpbGUgcmVmZXJlbmNlIGJ1dCB3ZSBuZWVkIHRvIGNyZWF0ZSB0aGUgZnVsbHkgcXVhbGlmaWVkIHJlZmVyZW5jZSAqL1xuICAgICAgICAgICAgaWYgKCFvcHRzLml0ZW0gJiYgb3B0cy5maWxlUmVmKSB7XG4gICAgICAgICAgICAgICAgb3B0cy5pdGVtID0gdGhpcy5jcmVhdGVJdGVtVXJsRnJvbUZpbGVSZWYob3B0cy5maWxlUmVmKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2VydmljZVdyYXBwZXIob3B0cyk7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAgICogQG5hbWUgRGF0YVNlcnZpY2UudXBkYXRlTGlzdEl0ZW1cbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIFVwZGF0ZXMgYW4gZXhpc3RpbmcgbGlzdCBpdGVtLlxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gbW9kZWwgUmVmZXJlbmNlIHRvIHRoZSBlbnRpdGllcyBtb2RlbC5cbiAgICAgICAgICogQHBhcmFtIHtvYmplY3R9IGxpc3RJdGVtIEphdmFTY3JpcHQgb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgU2hhcmVQb2ludCBsaXN0IGl0ZW0uXG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gT3B0aW9uYWwgY29uZmlndXJhdGlvbiBwYXJhbXMuXG4gICAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYnVpbGRWYWx1ZVBhaXJzPXRydWVdIEF1dG9tYXRpY2FsbHkgZ2VuZXJhdGUgcGFpcnMgYmFzZWQgb24gZmllbGRzIGRlZmluZWQgaW4gbW9kZWwuXG4gICAgICAgICAqIEBwYXJhbSB7QXJyYXlbXX0gW29wdGlvbnMudmFsdWVQYWlyc10gUHJlY29tcHV0ZWQgdmFsdWUgcGFpcnMgdG8gdXNlIGluc3RlYWQgb2YgZ2VuZXJhdGluZyB0aGVtIGZvciBlYWNoXG4gICAgICAgICAqIGZpZWxkIGlkZW50aWZpZWQgaW4gdGhlIG1vZGVsLlxuICAgICAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSBQcm9taXNlIHdoaWNoIHJlc29sdmVzIHdpdGggdGhlIG5ld2x5IGNyZWF0ZWQgaXRlbS5cbiAgICAgICAgICovXG4gICAgICAgIHVwZGF0ZUxpc3RJdGVtKG1vZGVsOiBJTW9kZWwsIGxpc3RJdGVtOiBMaXN0SXRlbSwgb3B0aW9ucykge1xuICAgICAgICAgICAgdmFyIGRlZmF1bHRzID0ge1xuICAgICAgICAgICAgICAgICAgICBiYXRjaENtZDogJ1VwZGF0ZScsXG4gICAgICAgICAgICAgICAgICAgIGJ1aWxkVmFsdWVQYWlyczogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgSUQ6IGxpc3RJdGVtLmlkLFxuICAgICAgICAgICAgICAgICAgICBsaXN0TmFtZTogbW9kZWwubGlzdC5nZXRMaXN0SWQoKSxcbiAgICAgICAgICAgICAgICAgICAgb3BlcmF0aW9uOiAnVXBkYXRlTGlzdEl0ZW1zJyxcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBsaXN0SXRlbS5nZXRDYWNoZSgpLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZVBhaXJzOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgd2ViVVJMOiBtb2RlbC5saXN0LmlkZW50aWZ5V2ViVVJMKClcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGRlZmVycmVkID0gJHEuZGVmZXIoKSxcbiAgICAgICAgICAgICAgICBvcHRzOiB7YnVpbGRWYWx1ZVBhaXJzOiBib29sZWFuOyB2YWx1ZVBhaXJzOiBbW3N0cmluZywgYW55XVtdXTsgd2ViVVJMOiBzdHJpbmc7fSA9IF8uZXh0ZW5kKHt9LCBkZWZhdWx0cywgb3B0aW9ucyk7XG5cbiAgICAgICAgICAgIGlmIChvcHRzLmJ1aWxkVmFsdWVQYWlycyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHZhciBlZGl0YWJsZUZpZWxkcyA9IF8ud2hlcmUobW9kZWwubGlzdC5maWVsZHMsIHtyZWFkT25seTogZmFsc2V9KTtcbiAgICAgICAgICAgICAgICBvcHRzLnZhbHVlUGFpcnMgPSBhcEVuY29kZVNlcnZpY2UuZ2VuZXJhdGVWYWx1ZVBhaXJzKGVkaXRhYmxlRmllbGRzLCBsaXN0SXRlbSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChtb2RlbC5saXN0LndlYlVSTCAmJiAhb3B0cy53ZWJVUkwpIHtcbiAgICAgICAgICAgICAgICBvcHRzLndlYlVSTCA9IG1vZGVsLmxpc3Qud2ViVVJMO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvKiogTm90aWZ5IGFueSBsaXN0ZW5lcnMgdG8gZXhwZWN0IGEgY2hhbmdlICovXG4gICAgICAgICAgICBhcENoYW5nZVNlcnZpY2UucmVnaXN0ZXJMaXN0SXRlbVVwZGF0ZShsaXN0SXRlbSwgb3B0cywgZGVmZXJyZWQucHJvbWlzZSk7XG5cbiAgICAgICAgICAgIC8vLyoqIE92ZXJsb2FkIHRoZSBmdW5jdGlvbiB0aGVuIHBhc3MgYW55dGhpbmcgcGFzdCB0aGUgZmlyc3QgcGFyYW1ldGVyIHRvIHRoZSBzdXBwb3J0aW5nIG1ldGhvZHMgKi9cbiAgICAgICAgICAgIC8vdGhpcy5zZXJ2aWNlV3JhcHBlcihvcHRzLCBsaXN0SXRlbSwgbW9kZWwpXG4gICAgICAgICAgICB0aGlzLnNlcnZpY2VXcmFwcGVyKG9wdHMpXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleGVkQ2FjaGUgPSBhcERlY29kZVNlcnZpY2UucHJvY2Vzc0xpc3RJdGVtcyhtb2RlbCwgbGlzdEl0ZW0uZ2V0UXVlcnkoKSwgcmVzcG9uc2UsIG9wdHMpO1xuICAgICAgICAgICAgICAgICAgICAvKiogUmV0dXJuIHJlZmVyZW5jZSB0byB1cGRhdGVkIGxpc3RJdGVtICAqL1xuICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGluZGV4ZWRDYWNoZVtsaXN0SXRlbS5pZF0pO1xuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBTaW1wbHkgdmVyaWZpZXMgdGhhdCBhbGwgY29tcG9uZW50cyBvZiB0aGUgcGF5bG9hZCBhcmUgcHJlc2VudC5cbiAgICAgICAgICogQHBhcmFtIHtvYmplY3R9IG9wdHMgUGF5bG9hZCBjb25maWcuXG4gICAgICAgICAqIEByZXR1cm5zIHtib29sZWFufSBDb2xsZWN0aW9uIGlzIHZhbGlkLlxuICAgICAgICAgKi9cbiAgICAgICAgdmFsaWRhdGVDb2xsZWN0aW9uUGF5bG9hZChvcHRzKSB7XG4gICAgICAgICAgICB2YXIgdmFsaWRQYXlsb2FkID0gdHJ1ZTtcbiAgICAgICAgICAgIHZhciB2ZXJpZnlQYXJhbXMgPSAocGFyYW1zKSA9PiB7XG4gICAgICAgICAgICAgICAgXy5lYWNoKHBhcmFtcywgKHBhcmFtKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghb3B0c1twYXJhbV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5lcnJvcignb3B0aW9ucycgKyBwYXJhbSArICcgaXMgcmVxdWlyZWQgdG8gY29tcGxldGUgdGhpcyBvcGVyYXRpb24nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkUGF5bG9hZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuXG4vL1ZlcmlmeSBhbGwgcmVxdWlyZWQgcGFyYW1zIGFyZSBpbmNsdWRlZFxuICAgICAgICAgICAgc3dpdGNoIChvcHRzLm9wZXJhdGlvbikge1xuICAgICAgICAgICAgICAgIGNhc2UgJ0dldEdyb3VwQ29sbGVjdGlvbkZyb21Vc2VyJzpcbiAgICAgICAgICAgICAgICAgICAgdmVyaWZ5UGFyYW1zKFsndXNlckxvZ2luTmFtZSddKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnR2V0VXNlckNvbGxlY3Rpb25Gcm9tR3JvdXAnOlxuICAgICAgICAgICAgICAgICAgICB2ZXJpZnlQYXJhbXMoWydncm91cE5hbWUnXSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ0dldFZpZXdDb2xsZWN0aW9uJzpcbiAgICAgICAgICAgICAgICAgICAgdmVyaWZ5UGFyYW1zKFsnbGlzdE5hbWUnXSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ0dldEF0dGFjaG1lbnRDb2xsZWN0aW9uJzpcbiAgICAgICAgICAgICAgICAgICAgdmVyaWZ5UGFyYW1zKFsnbGlzdE5hbWUnLCAnSUQnXSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHZhbGlkUGF5bG9hZDtcbiAgICAgICAgfVxuXG5cbiAgICB9XG5cblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnYW5ndWxhclBvaW50JylcbiAgICAgICAgLnNlcnZpY2UoJ2FwRGF0YVNlcnZpY2UnLCBEYXRhU2VydmljZSk7XG5cbn1cbiIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90eXBpbmdzL2FwLmQudHNcIiAvPlxuXG5tb2R1bGUgYXAge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBzZXJ2aWNlXG4gICAgICogQG5hbWUgYW5ndWxhclBvaW50LmFwRGVjb2RlU2VydmljZVxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFByb2Nlc3NlcyB0aGUgWE1MIHJlY2VpdmVkIGZyb20gU2hhcmVQb2ludCBhbmQgY29udmVydHMgaXQgaW50byBKYXZhU2NyaXB0IG9iamVjdHMgYmFzZWQgb24gcHJlZGVmaW5lZCBmaWVsZCB0eXBlcy5cbiAgICAgKlxuICAgICAqIEByZXF1aXJlcyBhbmd1bGFyUG9pbnQuYXBVdGlsaXR5U2VydmljZVxuICAgICAqIEByZXF1aXJlcyBhbmd1bGFyUG9pbnQuYXBDb25maWdcbiAgICAgKiBAcmVxdWlyZXMgYW5ndWxhclBvaW50LmFwQ2FjaGVTZXJ2aWNlXG4gICAgICovXG4gICAgZXhwb3J0IGNsYXNzIERlY29kZVNlcnZpY2Uge1xuICAgICAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGFwQ2FjaGVTZXJ2aWNlOkNhY2hlU2VydmljZSwgcHJpdmF0ZSBhcExvb2t1cEZhY3Rvcnk6TG9va3VwRmFjdG9yeSxcbiAgICAgICAgICAgICAgICAgICAgcHJpdmF0ZSBhcFVzZXJGYWN0b3J5OlVzZXJGYWN0b3J5LCBwcml2YXRlIGFwRmllbGRTZXJ2aWNlLCBwcml2YXRlIGFwWE1MTGlzdEF0dHJpYnV0ZVR5cGVzLFxuICAgICAgICAgICAgICAgICAgICBwcml2YXRlIGFwWE1MRmllbGRBdHRyaWJ1dGVUeXBlcykge1xuXG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcERlY29kZVNlcnZpY2U6Y2hlY2tSZXNwb25zZUZvckVycm9yc1xuICAgICAgICAgKiBAbWV0aG9kT2YgYW5ndWxhclBvaW50LmFwRGVjb2RlU2VydmljZVxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogRXJyb3JzIGRvbid0IGFsd2F5cyB0aHJvdyBjb3JyZWN0bHkgZnJvbSBTUFNlcnZpY2VzIHNvIHRoaXMgZnVuY3Rpb24gY2hlY2tzIHRvIHNlZSBpZiBwYXJ0XG4gICAgICAgICAqIG9mIHRoZSBYSFIgcmVzcG9uc2UgY29udGFpbnMgYW4gXCJlcnJvcnN0cmluZ1wiIGVsZW1lbnQuXG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSByZXNwb25zZVhNTCBYSFIgcmVzcG9uc2UgZnJvbSB0aGUgc2VydmVyLlxuICAgICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfG51bGx9IFJldHVybnMgYW4gZXJyb3Igc3RyaW5nIGlmIHByZXNlbnQsIG90aGVyd2lzZSByZXR1cm5zIG51bGwuXG4gICAgICAgICAqL1xuICAgICAgICBjaGVja1Jlc3BvbnNlRm9yRXJyb3JzKHJlc3BvbnNlWE1MOlhNTERvY3VtZW50KTpzdHJpbmcge1xuICAgICAgICAgICAgdmFyIGVycm9yID0gbnVsbDtcbiAgICAgICAgICAgIC8qKiBMb29rIGZvciA8ZXJyb3JzdHJpbmc+PC9lcnJvcnN0cmluZz4gb3IgPEVycm9yVGV4dD48L0Vycm9yVGV4dD4gZm9yIGRldGFpbHMgb24gYW55IGVycm9ycyAqL1xuICAgICAgICAgICAgdmFyIGVycm9yRWxlbWVudHMgPSBbJ0Vycm9yVGV4dCcsICdlcnJvcnN0cmluZyddO1xuICAgICAgICAgICAgXy5lYWNoKGVycm9yRWxlbWVudHMsIChlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgJChyZXNwb25zZVhNTCkuZmluZChlbGVtZW50KS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IgPSAkKHRoaXMpLnRleHQoKTtcbiAgICAgICAgICAgICAgICAgICAgLyoqIEJyZWFrIGVhcmx5IGlmIGZvdW5kICovXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGVycm9yO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqIENvbnZlcnRzIFVUQyBkYXRlIHRvIGEgbG9jYWxpemVkIGRhdGVcbiAgICAgICAgICogVGFrZW4gZnJvbTogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy82NTI1NTM4L2NvbnZlcnQtdXRjLWRhdGUtdGltZS10by1sb2NhbC1kYXRlLXRpbWUtdXNpbmctamF2YXNjcmlwdFxuICAgICAgICAgKiAqL1xuICAgICAgICBjb252ZXJ0VVRDRGF0ZVRvTG9jYWxEYXRlKGRhdGU6RGF0ZSk6RGF0ZSB7XG4gICAgICAgICAgICB2YXIgbmV3RGF0ZSA9IG5ldyBEYXRlKGRhdGUuZ2V0VGltZSgpICsgZGF0ZS5nZXRUaW1lem9uZU9mZnNldCgpICogNjAgKiAxMDAwKTtcblxuICAgICAgICAgICAgdmFyIG9mZnNldCA9IGRhdGUuZ2V0VGltZXpvbmVPZmZzZXQoKSAvIDYwO1xuICAgICAgICAgICAgdmFyIGhvdXJzID0gZGF0ZS5nZXRIb3VycygpO1xuXG4gICAgICAgICAgICBuZXdEYXRlLnNldEhvdXJzKGhvdXJzIC0gb2Zmc2V0KTtcblxuICAgICAgICAgICAgcmV0dXJuIG5ld0RhdGU7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcERlY29kZVNlcnZpY2U6Y3JlYXRlTGlzdEl0ZW1Qcm92aWRlclxuICAgICAgICAgKiBAbWV0aG9kT2YgYW5ndWxhclBvaW50LmFwRGVjb2RlU2VydmljZVxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogVGhlIGluaXRpYWwgY29uc3RydWN0b3IgZm9yIGEgbGlzdCBpdGVtIHRoYXQgcmVmZXJlbmNlcyB0aGUgYXJyYXkgd2hlcmUgdGhlIGVudGl0eSBleGlzdHMgYW5kIHRoZVxuICAgICAgICAgKiBxdWVyeSB1c2VkIHRvIGZldGNoIHRoZSBlbnRpdHkuICBGcm9tIHRoZXJlIGl0IGV4dGVuZHMgdGhlIGVudGl0eSB1c2luZyB0aGUgZmFjdG9yeSBkZWZpbmVkIGluIHRoZVxuICAgICAgICAgKiBtb2RlbCBmb3IgdGhlIGxpc3QgaXRlbS5cbiAgICAgICAgICogQHBhcmFtIHtvYmplY3R9IG1vZGVsIFJlZmVyZW5jZSB0byB0aGUgbW9kZWwgZm9yIHRoZSBsaXN0IGl0ZW0uXG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBxdWVyeSBSZWZlcmVuY2UgdG8gdGhlIHF1ZXJ5IG9iamVjdCB1c2VkIHRvIHJldHJpZXZlIHRoZSBlbnRpdHkuXG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBpbmRleGVkQ2FjaGUgTG9jYXRpb24gd2hlcmUgd2UnbGwgYmUgcHVzaGluZyB0aGUgbmV3IGVudGl0eS5cbiAgICAgICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCB0YWtlcyB0aGUgbmV3IGxpc3QgaXRlbSB3aGlsZSBrZWVwaW5nIG1vZGVsLCBxdWVyeSxcbiAgICAgICAgICogYW5kIGNvbnRhaW5lciBpbiBzY29wZSBmb3IgZnV0dXJlIHJlZmVyZW5jZS5cbiAgICAgICAgICovXG4gICAgICAgIGNyZWF0ZUxpc3RJdGVtUHJvdmlkZXIobW9kZWw6SU1vZGVsLCBxdWVyeTpJUXVlcnksIGluZGV4ZWRDYWNoZTpJSW5kZXhlZENhY2hlKTooT2JqZWN0KSA9PiBJTGlzdEl0ZW0ge1xuICAgICAgICAgICAgcmV0dXJuIChyYXdPYmplY3Q6SUxpc3RJdGVtKSA9PiB7XG4gICAgICAgICAgICAgICAgLyoqIENyZWF0ZSBSZWZlcmVuY2UgdG8gdGhlIGluZGV4ZWQgY2FjaGUgKi9cbiAgICAgICAgICAgICAgICByYXdPYmplY3QuZ2V0Q2FjaGUgPSAoKSA9PiBpbmRleGVkQ2FjaGU7XG5cbiAgICAgICAgICAgICAgICAvKiogQWxsb3cgdXMgdG8gcmVmZXJlbmNlIHRoZSBvcmlnaW5hdGluZyBxdWVyeSB0aGF0IGdlbmVyYXRlZCB0aGlzIG9iamVjdCAqL1xuICAgICAgICAgICAgICAgIHJhd09iamVjdC5nZXRRdWVyeSA9ICgpID0+IHF1ZXJ5O1xuXG4gICAgICAgICAgICAgICAgLyoqIEFsbG93IHVzIHRvIHJlZmVyZW5jZSB0aGUgcGFyZW50IG1vZGVsIGZvciBhbnkgbGlzdCBpdGVtICovXG4gICAgICAgICAgICAgICAgLy9yYXdPYmplY3QuZ2V0TW9kZWwgPSAoKSA9PiBtb2RlbDtcblxuICAgICAgICAgICAgICAgIHZhciBsaXN0SXRlbSA9IG5ldyBtb2RlbC5mYWN0b3J5KHJhd09iamVjdCk7XG5cbiAgICAgICAgICAgICAgICAvKiogUmVnaXN0ZXIgaW4gZ2xvYmFsIGFwcGxpY2F0aW9uIGxpc3RJdGVtIGNhY2hlIGFuZCBleHRlbmRzIHRoZSBleGlzdGluZyBsaXN0SXRlbSBpZiBpdFxuICAgICAgICAgICAgICAgICAqIGFscmVhZHkgZXhpc3RzICovXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXBDYWNoZVNlcnZpY2UucmVnaXN0ZXJFbnRpdHkobGlzdEl0ZW0sIGluZGV4ZWRDYWNoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcERlY29kZVNlcnZpY2U6ZXh0ZW5kRmllbGREZWZpbml0aW9uc0Zyb21YTUxcbiAgICAgICAgICogQG1ldGhvZE9mIGFuZ3VsYXJQb2ludC5hcERlY29kZVNlcnZpY2VcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIFRha2VzIHRoZSBYTUwgcmVzcG9uc2UgZnJvbSBhIHdlYiBzZXJ2aWNlIGNhbGwgYW5kIGV4dGVuZHMgYW55IGZpZWxkIGRlZmluaXRpb25zIGluIHRoZSBtb2RlbFxuICAgICAgICAgKiB3aXRoIGFkZGl0aW9uYWwgZmllbGQgbWV0YWRhdGEuICBJbXBvcnRhbnQgdG8gbm90ZSB0aGF0IGFsbCBwcm9wZXJ0aWVzIHdpbGwgY29taW5nIGZyb20gdGhlIFhNTCBzdGFydFxuICAgICAgICAgKiB3aXRoIGEgY2FwaXRhbCBsZXR0ZXIuXG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0W119IGZpZWxkRGVmaW5pdGlvbnMgRmllbGQgZGVmaW5pdGlvbnMgZnJvbSB0aGUgbW9kZWwuXG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSByZXNwb25zZVhNTCBYTUwgcmVzcG9uc2UgZnJvbSB0aGUgc2VydmVyLlxuICAgICAgICAgKi9cbiAgICAgICAgZXh0ZW5kRmllbGREZWZpbml0aW9uc0Zyb21YTUwoZmllbGREZWZpbml0aW9uczpJRmllbGREZWZpbml0aW9uW10sIHJlc3BvbnNlWE1MOlhNTERvY3VtZW50KTpJRmllbGREZWZpbml0aW9uW10ge1xuICAgICAgICAgICAgdmFyIGZpZWxkTWFwID0ge307XG5cbiAgICAgICAgICAgIC8qKiBNYXAgYWxsIGN1c3RvbSBmaWVsZHMgd2l0aCBrZXlzIG9mIHRoZSBzdGF0aWNOYW1lIGFuZCB2YWx1ZXMgPSBmaWVsZCBkZWZpbml0aW9uICovXG4gICAgICAgICAgICBfLmVhY2goZmllbGREZWZpbml0aW9ucywgKGZpZWxkKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGZpZWxkLnN0YXRpY05hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgZmllbGRNYXBbZmllbGQuc3RhdGljTmFtZV0gPSBmaWVsZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLyoqIEl0ZXJhdGUgb3ZlciBlYWNoIG9mIHRoZSBmaWVsZCBub2RlcyAqL1xuICAgICAgICAgICAgdmFyIGZpZWxkcyA9ICQocmVzcG9uc2VYTUwpLlNQRmlsdGVyTm9kZSgnRmllbGQnKTtcblxuICAgICAgICAgICAgXy5lYWNoKGZpZWxkcywgKHhtbEZpZWxkKSA9PiB7XG5cblxuICAgICAgICAgICAgICAgIHZhciBzdGF0aWNOYW1lID0gJCh4bWxGaWVsZCkuYXR0cignU3RhdGljTmFtZScpO1xuICAgICAgICAgICAgICAgIHZhciBmaWVsZERlZmluaXRpb24gPSBmaWVsZE1hcFtzdGF0aWNOYW1lXTtcblxuICAgICAgICAgICAgICAgIC8qKiBJZiB3ZSd2ZSBkZWZpbmVkIHRoaXMgZmllbGQgdGhlbiB3ZSBzaG91bGQgZXh0ZW5kIGl0ICovXG4gICAgICAgICAgICAgICAgaWYgKGZpZWxkRGVmaW5pdGlvbikge1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXh0ZW5kT2JqZWN0V2l0aFhNTEF0dHJpYnV0ZXMoeG1sRmllbGQsIGZpZWxkRGVmaW5pdGlvbiwgdGhpcy5hcFhNTEZpZWxkQXR0cmlidXRlVHlwZXMpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8qKiBBZGRpdGlvbmFsIHByb2Nlc3NpbmcgZm9yIENob2ljZSBmaWVsZHMgdG8gaW5jbHVkZSB0aGUgZGVmYXVsdCB2YWx1ZSBhbmQgY2hvaWNlcyAqL1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmllbGREZWZpbml0aW9uLm9iamVjdFR5cGUgPT09ICdDaG9pY2UnIHx8IGZpZWxkRGVmaW5pdGlvbi5vYmplY3RUeXBlID09PSAnTXVsdGlDaG9pY2UnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZERlZmluaXRpb24uQ2hvaWNlcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgLyoqIENvbnZlcnQgWE1MIENob2ljZXMgb2JqZWN0IHRvIGFuIGFycmF5IG9mIGNob2ljZXMgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB4bWxDaG9pY2VzID0gJCh4bWxGaWVsZCkuZmluZCgnQ0hPSUNFJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfLmVhY2goeG1sQ2hvaWNlcywgKHhtbENob2ljZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkRGVmaW5pdGlvbi5DaG9pY2VzLnB1c2goJCh4bWxDaG9pY2UpLnRleHQoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkRGVmaW5pdGlvbi5EZWZhdWx0ID0gJCh4bWxGaWVsZCkuZmluZCgnRGVmYXVsdCcpLnRleHQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gZmllbGREZWZpbml0aW9ucztcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAgICogQG5hbWUgYW5ndWxhclBvaW50LmFwRGVjb2RlU2VydmljZTpleHRlbmRMaXN0RGVmaW5pdGlvbkZyb21YTUxcbiAgICAgICAgICogQG1ldGhvZE9mIGFuZ3VsYXJQb2ludC5hcERlY29kZVNlcnZpY2VcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIFRha2VzIHRoZSBYTUwgcmVzcG9uc2UgZnJvbSBhIHdlYiBzZXJ2aWNlIGNhbGwgYW5kIGV4dGVuZHMgdGhlIGxpc3QgZGVmaW5pdGlvbiBpbiB0aGUgbW9kZWxcbiAgICAgICAgICogd2l0aCBhZGRpdGlvbmFsIGZpZWxkIG1ldGFkYXRhLiAgSW1wb3J0YW50IHRvIG5vdGUgdGhhdCBhbGwgcHJvcGVydGllcyB3aWxsIGNvbWluZyBmcm9tIHRoZSBYTUwgc3RhcnRcbiAgICAgICAgICogd2l0aCBhIGNhcGl0YWwgbGV0dGVyLlxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gbGlzdCBtb2RlbC5saXN0XG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSByZXNwb25zZVhNTCBYTUwgcmVzcG9uc2UgZnJvbSB0aGUgc2VydmVyLlxuICAgICAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSBFeHRlbmRlZCBsaXN0IG9iamVjdC5cbiAgICAgICAgICovXG4gICAgICAgIGV4dGVuZExpc3REZWZpbml0aW9uRnJvbVhNTChsaXN0OklMaXN0LCByZXNwb25zZVhNTDpYTUxEb2N1bWVudCk6SUxpc3Qge1xuICAgICAgICAgICAgdmFyIHNlcnZpY2UgPSB0aGlzO1xuICAgICAgICAgICAgJChyZXNwb25zZVhNTCkuZmluZChcIkxpc3RcIikuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgc2VydmljZS5leHRlbmRPYmplY3RXaXRoWE1MQXR0cmlidXRlcyh0aGlzLCBsaXN0LCBzZXJ2aWNlLmFwWE1MTGlzdEF0dHJpYnV0ZVR5cGVzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGxpc3Q7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcERlY29kZVNlcnZpY2U6ZXh0ZW5kTGlzdE1ldGFkYXRhXG4gICAgICAgICAqIEBtZXRob2RPZiBhbmd1bGFyUG9pbnQuYXBEZWNvZGVTZXJ2aWNlXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBDb252ZW5pZW5jZSBtZXRob2QgdGhhdCBleHRlbmRzIHRoZSBsaXN0IGRlZmluaXRpb24gYW5kIHRoZSBmaWVsZCBkZWZpbml0aW9ucyBmcm9tIGFuIHhtbCBsaXN0IHJlc3BvbnNlXG4gICAgICAgICAqIGZyb20gdGhlIHNlcnZlci4gIENhbiBiZSB1c2VkIHNwZWNpZmljYWxseSB3aXRoIEdldExpc3RJdGVtc1NpbmNlVG9rZW4gYW5kIEdldExpc3Qgb3BlcmF0aW9ucy5cbiAgICAgICAgICogQHBhcmFtIHtvYmplY3R9IG1vZGVsIE1vZGVsIGZvciBhIGdpdmVuIGxpc3QuXG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSByZXNwb25zZVhNTCBYTUwgcmVzcG9uc2UgZnJvbSB0aGUgc2VydmVyLlxuICAgICAgICAgKi9cbiAgICAgICAgZXh0ZW5kTGlzdE1ldGFkYXRhKG1vZGVsOklNb2RlbCwgcmVzcG9uc2VYTUw6WE1MRG9jdW1lbnQpOnZvaWQge1xuICAgICAgICAgICAgdGhpcy5leHRlbmRMaXN0RGVmaW5pdGlvbkZyb21YTUwobW9kZWwubGlzdCwgcmVzcG9uc2VYTUwpO1xuICAgICAgICAgICAgdGhpcy5leHRlbmRGaWVsZERlZmluaXRpb25zRnJvbVhNTChtb2RlbC5saXN0LmZpZWxkcywgcmVzcG9uc2VYTUwpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBEZWNvZGVTZXJ2aWNlOmV4dGVuZE9iamVjdFdpdGhYTUxBdHRyaWJ1dGVzXG4gICAgICAgICAqIEBtZXRob2RPZiBhbmd1bGFyUG9pbnQuYXBEZWNvZGVTZXJ2aWNlXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBUYWtlcyBhbiBYTUwgZWxlbWVudCBhbmQgY29waWVzIGFsbCBhdHRyaWJ1dGVzIG92ZXIgdG8gYSBnaXZlbiBKUyBvYmplY3Qgd2l0aCBjb3JyZXNwb25kaW5nIHZhbHVlcy4gIElmXG4gICAgICAgICAqIG5vIEpTIE9iamVjdCBpcyBwcm92aWRlZCwgaXQgZXh0ZW5kcyBhbiBlbXB0eSBvYmplY3QgYW5kIHJldHVybnMgaXQuICBJZiBhbiBhdHRyaWJ1dGVUeXBlcyBvYmplY3QgaXMgcHJvdmlkZWRcbiAgICAgICAgICogd2UgcGFyc2UgZWFjaCBvZiB0aGUgZGVmaW5lZCBmaWVsZCBzbyB0aGV5IGFyZSB0eXBlZCBjb3JyZWN0bHkgaW5zdGVhZCBvZiBiZWluZyBhIHNpbXBsZSBzdHJpbmcuXG4gICAgICAgICAqIE5vdGU6IFByb3BlcnRpZXMgYXJlIG5vdCBuZWNlc3NhcmlseSBDQU1MQ2FzZS5cbiAgICAgICAgICogQHBhcmFtIHtvYmplY3R9IHhtbE9iamVjdCBBbiBYTUwgZWxlbWVudC5cbiAgICAgICAgICogQHBhcmFtIHtvYmplY3R9IFtqc09iamVjdD17fV0gQW4gb3B0aW9uYWwgSlMgT2JqZWN0IHRvIGV4dGVuZCBYTUwgYXR0cmlidXRlcyB0by5cbiAgICAgICAgICogQHBhcmFtIHtvYmplY3R9IFthdHRyaWJ1dGVUeXBlcz17fV0gS2V5L1ZhbCBvYmplY3Qgd2l0aCBrZXlzIGJlaW5nIHRoZSBuYW1lIG9mIHRoZSBmaWVsZCBhbmQgdmFsIGJlaW5nIHRoZVxuICAgICAgICAgKiB0eXBlIG9mIGZpZWxkLlxuICAgICAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSBKUyBPYmplY3RcbiAgICAgICAgICovXG4gICAgICAgIGV4dGVuZE9iamVjdFdpdGhYTUxBdHRyaWJ1dGVzKHhtbE9iamVjdDpYTUxEb2N1bWVudCwganNPYmplY3Q/Ok9iamVjdCwgYXR0cmlidXRlVHlwZXM/Ok9iamVjdCk6T2JqZWN0IHtcbiAgICAgICAgICAgIHZhciBvYmplY3RUb0V4dGVuZCA9IGpzT2JqZWN0IHx8IHt9O1xuICAgICAgICAgICAgdmFyIGF0dHJpYnV0ZU1hcCA9IGF0dHJpYnV0ZVR5cGVzIHx8IHt9O1xuICAgICAgICAgICAgdmFyIHhtbEF0dHJpYnV0ZXMgPSB4bWxPYmplY3QuYXR0cmlidXRlcztcblxuICAgICAgICAgICAgXy5lYWNoKHhtbEF0dHJpYnV0ZXMsIChhdHRyLCBhdHRyTnVtKSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIGF0dHJOYW1lID0geG1sQXR0cmlidXRlc1thdHRyTnVtXS5uYW1lO1xuICAgICAgICAgICAgICAgIG9iamVjdFRvRXh0ZW5kW2F0dHJOYW1lXSA9ICQoeG1sT2JqZWN0KS5hdHRyKGF0dHJOYW1lKTtcbiAgICAgICAgICAgICAgICBpZiAoYXR0cmlidXRlTWFwW2F0dHJOYW1lXSkge1xuICAgICAgICAgICAgICAgICAgICBvYmplY3RUb0V4dGVuZFthdHRyTmFtZV0gPSB0aGlzLnBhcnNlU3RyaW5nVmFsdWUob2JqZWN0VG9FeHRlbmRbYXR0ck5hbWVdLCBhdHRyaWJ1dGVNYXBbYXR0ck5hbWVdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBvYmplY3RUb0V4dGVuZDtcbiAgICAgICAgfVxuXG5cbiAgICAgICAganNBdHRhY2htZW50cyhzdHIpOnN0cmluZ1tdfG51bWJlcnxzdHJpbmcge1xuICAgICAgICAgICAgLyogRGVwZW5kaW5nIG9uIENBTUxRdWVyeU9wdGlvbnMgQ29uZmlnIGFuIGF0dGFjaG1lbnQgY2FuIGJlIGZvcm1hdHRlZCBpbiAxIG9mIHRoZSBiZWxvdyAzIHdheXM6XG4gICAgICAgICAgICAgMS4ge251bWJlcn0gVGhlIG51bWJlciBvZiBhdHRhY2htZW50cyBmb3IgYSBnaXZlbiBsaXN0IGl0ZW0uXG4gICAgICAgICAgICAgQ0FNTFF1ZXJ5T3B0aW9uc1xuICAgICAgICAgICAgIDxJbmNsdWRlQXR0YWNobWVudFVybHM+RkFMU0U8L0luY2x1ZGVBdHRhY2htZW50VXJscz5cbiAgICAgICAgICAgICA8SW5jbHVkZUF0dGFjaG1lbnRWZXJzaW9uPkZBTFNFPC9JbmNsdWRlQXR0YWNobWVudFZlcnNpb24+XG5cbiAgICAgICAgICAgICBFeGFtcGxlXG4gICAgICAgICAgICAgb3dzX0F0dGFjaG1lbnRzPVwiMlwiXG5cbiAgICAgICAgICAgICAyLiB7c3RyaW5nfVxuICAgICAgICAgICAgIENBTUxRdWVyeU9wdGlvbnNcbiAgICAgICAgICAgICA8SW5jbHVkZUF0dGFjaG1lbnRVcmxzPlRSVUU8L0luY2x1ZGVBdHRhY2htZW50VXJscz5cbiAgICAgICAgICAgICA8SW5jbHVkZUF0dGFjaG1lbnRWZXJzaW9uPkZBTFNFPC9JbmNsdWRlQXR0YWNobWVudFZlcnNpb24+XG5cbiAgICAgICAgICAgICBGb3JtYXRcbiAgICAgICAgICAgICA7I1tMaXN0VXJsXS9BdHRhY2htZW50cy9bTGlzdEl0ZW1JZF0vW0ZpbGVOYW1lXTsjXG5cbiAgICAgICAgICAgICBFeGFtcGxlOlxuICAgICAgICAgICAgIG93c19BdHRhY2htZW50cz1cIjsjaHR0cHM6Ly9TaGFyZVBvaW50U2l0ZS5jb20vTGlzdHMvV2lkZ2V0cy9BdHRhY2htZW50cy80L0RvY3VtZW50TmFtZS54bHN4OyNcIlxuXG4gICAgICAgICAgICAgLy9Ub2RvIENoZWNrIHRvIHNlZSBpZiB0aGVyZSBpcyBhbnkgdmFsdWUgaW4gdGhpcyBvcHRpb25cbiAgICAgICAgICAgICAzLiB7c3RyaW5nfSBOT1RFOiBXZSBkb24ndCBjdXJyZW50bHkgaGFuZGxlIHRoaXMgZm9ybWF0LlxuICAgICAgICAgICAgIENBTUxRdWVyeU9wdGlvbnNcbiAgICAgICAgICAgICA8SW5jbHVkZUF0dGFjaG1lbnRVcmxzPlRSVUU8L0luY2x1ZGVBdHRhY2htZW50VXJscz5cbiAgICAgICAgICAgICA8SW5jbHVkZUF0dGFjaG1lbnRWZXJzaW9uPlRSVUU8L0luY2x1ZGVBdHRhY2htZW50VmVyc2lvbj5cblxuICAgICAgICAgICAgIEZvcm1hdFxuICAgICAgICAgICAgIDsjW0xpc3RVcmxdL0F0dGFjaG1lbnRzL1tMaXN0SXRlbUlkXS9bRmlsZU5hbWVdOyNbQXR0YWNobWVudEdVSURdLFtWZXJzaW9uIE51bWJlcl07I1xuXG4gICAgICAgICAgICAgRXhhbXBsZTpcbiAgICAgICAgICAgICBvd3NfQXR0YWNobWVudHM9XCI7I2h0dHBzOi8vU2hhcmVQb2ludFNpdGUuY29tL0xpc3RzL1dpZGdldHMvQXR0YWNobWVudHMvNC9Eb2N1bWVudE5hbWUueGxzeDsjezQzNzhEMzk0LTg2MDEtNDgwRC1BQkQwLTBBMDUwNUU3MjZGQn0sMTsjXCJcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaWYgKCFpc05hTihzdHIpKSB7XG4gICAgICAgICAgICAgICAgLyoqIFZhbHVlIGlzIGEgbnVtYmVyIGN1cnJlbnQgc3RvcmVkIGFzIGEgc3RyaW5nICovXG4gICAgICAgICAgICAgICAgdmFyIGludCA9IHBhcnNlSW50KHN0cik7XG4gICAgICAgICAgICAgICAgaWYgKGludCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGludDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvKiogU3BsaXQgaW50byBhbiBhcnJheSBvZiBhdHRhY2htZW50IFVSTHMgKi9cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5qc0Nob2ljZU11bHRpKHN0cik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBqc0Jvb2xlYW4oc3RyOnN0cmluZyk6Ym9vbGVhbiB7XG4gICAgICAgICAgICAvKiogU2hhcmVQb2ludCB1c2VzIGRpZmZlcmVudCBzdHJpbmcgcmVwcmVzZW50YXRpb25zIGZvciBib29sZWFucyBpbiBkaWZmZXJlbnQgcGxhY2VzIHNvIGFjY291bnQgZm9yIGVhY2ggKi9cbiAgICAgICAgICAgIHJldHVybiBzdHIgPT09ICcxJyB8fCBzdHIgPT09ICdUcnVlJyB8fCBzdHIgPT09ICdUUlVFJztcbiAgICAgICAgfVxuXG4gICAgICAgIGpzQ2FsYyhzdHI6c3RyaW5nKTphbnkge1xuICAgICAgICAgICAgaWYgKHN0ci5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIHRoaXNDYWxjID0gc3RyLnNwbGl0KCc7IycpO1xuICAgICAgICAgICAgICAgIC8vIFRoZSBmaXJzdCB2YWx1ZSB3aWxsIGJlIHRoZSBjYWxjdWxhdGVkIGNvbHVtbiB2YWx1ZSB0eXBlLCB0aGUgc2Vjb25kIHdpbGwgYmUgdGhlIHZhbHVlXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VTdHJpbmdWYWx1ZSh0aGlzQ2FsY1sxXSwgdGhpc0NhbGNbMF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAganNDaG9pY2VNdWx0aShzdHI6c3RyaW5nKTpzdHJpbmdbXSB7XG4gICAgICAgICAgICBpZiAoc3RyLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIHRoaXNDaG9pY2VNdWx0aU9iamVjdCA9IFtdO1xuICAgICAgICAgICAgICAgIHZhciB0aGlzQ2hvaWNlTXVsdGkgPSBzdHIuc3BsaXQoJzsjJyk7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzQ2hvaWNlTXVsdGkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXNDaG9pY2VNdWx0aVtpXS5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNDaG9pY2VNdWx0aU9iamVjdC5wdXNoKHRoaXNDaG9pY2VNdWx0aVtpXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXNDaG9pY2VNdWx0aU9iamVjdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGpzRGF0ZShzdHI6c3RyaW5nKTpEYXRlIHtcbiAgICAgICAgICAgIGlmICghc3RyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8qKiBSZXBsYWNlIGRhc2hlcyB3aXRoIHNsYXNoZXMgYW5kIHRoZSBcIlRcIiBkZWxpbWluYXRvciB3aXRoIGEgc3BhY2UgaWYgZm91bmQgKi9cbiAgICAgICAgICAgICAgICB2YXIgZHQgPSBzdHIuc3BsaXQoXCJUXCIpWzBdICE9PSBzdHIgPyBzdHIuc3BsaXQoXCJUXCIpIDogc3RyLnNwbGl0KFwiIFwiKTtcbiAgICAgICAgICAgICAgICB2YXIgZCA9IGR0WzBdLnNwbGl0KFwiLVwiKTtcbiAgICAgICAgICAgICAgICB2YXIgdCA9IGR0WzFdLnNwbGl0KFwiOlwiKTtcbiAgICAgICAgICAgICAgICB2YXIgdDMgPSB0WzJdLnNwbGl0KFwiWlwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IERhdGUoZFswXSwgKGRbMV0gLSAxKSwgZFsyXSwgdFswXSwgdFsxXSwgdDNbMF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAganNGbG9hdChzdHI6c3RyaW5nKTpudW1iZXIge1xuICAgICAgICAgICAgaWYgKCFzdHIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RyO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VGbG9hdChzdHIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAganNJbnQoc3RyOnN0cmluZyk6bnVtYmVyIHtcbiAgICAgICAgICAgIGlmICghc3RyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0cjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KHN0ciwgMTApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAganNMb29rdXAoc3RyOnN0cmluZywgb3B0aW9ucz86T2JqZWN0KTpJTG9va3VwIHtcbiAgICAgICAgICAgIGlmIChzdHIubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vU2VuZCB0byBjb25zdHJ1Y3RvclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmFwTG9va3VwRmFjdG9yeS5jcmVhdGUoc3RyLCBvcHRpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGpzTG9va3VwTXVsdGkoc3RyOnN0cmluZywgb3B0aW9ucz86T2JqZWN0KTpJTG9va3VwW10ge1xuICAgICAgICAgICAgaWYgKHN0ci5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciB0aGlzTG9va3VwTXVsdGlPYmplY3QgPSBbXTtcbiAgICAgICAgICAgICAgICB2YXIgdGhpc0xvb2t1cE11bHRpID0gc3RyLnNwbGl0KCc7IycpO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpc0xvb2t1cE11bHRpLmxlbmd0aDsgaSA9IGkgKyAyKSB7XG4gICAgICAgICAgICAgICAgICAgIC8qKiBFbnN1cmUgYSBsb29rdXAgaWQgaXMgcHJlc2VudCBiZWZvcmUgYXR0ZW1wdGluZyB0byBwdXNoIGEgbmV3IGxvb2t1cCAqL1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpc0xvb2t1cE11bHRpW2ldKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGhpc0xvb2t1cCA9IHRoaXMuanNMb29rdXAodGhpc0xvb2t1cE11bHRpW2ldICsgJzsjJyArIHRoaXNMb29rdXBNdWx0aVtpICsgMV0sIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpc0xvb2t1cE11bHRpT2JqZWN0LnB1c2godGhpc0xvb2t1cCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXNMb29rdXBNdWx0aU9iamVjdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGpzT2JqZWN0KHN0cjpzdHJpbmcpOk9iamVjdCB7XG4gICAgICAgICAgICBpZiAoIXN0cikge1xuICAgICAgICAgICAgICAgIHJldHVybiBzdHI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8qKiBFbnN1cmUgSlNPTiBpcyB2YWxpZCBhbmQgaWYgbm90IHRocm93IGVycm9yIHdpdGggYWRkaXRpb25hbCBkZXRhaWwgKi9cbiAgICAgICAgICAgICAgICB2YXIganNvbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAganNvbiA9IEpTT04ucGFyc2Uoc3RyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdJbnZhbGlkIEpTT046ICcsIHN0cik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBqc29uO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAganNTdHJpbmcoc3RyOnN0cmluZyk6c3RyaW5nIHtcbiAgICAgICAgICAgIHJldHVybiBzdHI7XG4gICAgICAgIH1cblxuICAgICAgICBqc1VzZXIoc3RyOnN0cmluZyk6SVVzZXIge1xuICAgICAgICAgICAgaWYgKHN0ci5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vU2VuZCB0byBjb25zdHJ1Y3RvclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXBVc2VyRmFjdG9yeS5jcmVhdGUoc3RyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGpzVXNlck11bHRpKHN0cjpzdHJpbmcpOklVc2VyW10ge1xuICAgICAgICAgICAgaWYgKHN0ci5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciB0aGlzVXNlck11bHRpT2JqZWN0ID0gW107XG4gICAgICAgICAgICAgICAgdmFyIHRoaXNVc2VyTXVsdGkgPSBzdHIuc3BsaXQoJzsjJyk7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzVXNlck11bHRpLmxlbmd0aDsgaSA9IGkgKyAyKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0aGlzVXNlciA9IHRoaXMuanNVc2VyKHRoaXNVc2VyTXVsdGlbaV0gKyAnOyMnICsgdGhpc1VzZXJNdWx0aVtpICsgMV0pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzVXNlck11bHRpT2JqZWN0LnB1c2godGhpc1VzZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpc1VzZXJNdWx0aU9iamVjdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAgICogQG5hbWUgYW5ndWxhclBvaW50LmFwRGVjb2RlU2VydmljZTpwYXJzZUZpZWxkVmVyc2lvbnNcbiAgICAgICAgICogQG1ldGhvZE9mIGFuZ3VsYXJQb2ludC5hcERlY29kZVNlcnZpY2VcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIFRha2VzIGFuIFhNTCByZXNwb25zZSBmcm9tIFNoYXJlUG9pbnQgd2Vic2VydmljZSBhbmQgcmV0dXJucyBhbiBhcnJheSBvZiBmaWVsZCB2ZXJzaW9ucy5cbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHt4bWx9IHJlc3BvbnNlWE1MIFJldHVybmVkIFhNTCBmcm9tIHdlYiBzZXJ2aWNlIGNhbGwuXG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBmaWVsZERlZmluaXRpb24gRmllbGQgZGVmaW5pdGlvbiBmcm9tIHRoZSBtb2RlbC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHJldHVybnMge0FycmF5fSBBcnJheSBvYmplY3RzIGNvbnRhaW5pbmcgdGhlIHZhcmlvdXMgdmVyc2lvbiBvZiBhIGZpZWxkIGZvciBlYWNoIGNoYW5nZS5cbiAgICAgICAgICovXG4gICAgICAgIHBhcnNlRmllbGRWZXJzaW9ucyhyZXNwb25zZVhNTDpYTUxEb2N1bWVudCwgZmllbGREZWZpbml0aW9uOklGaWVsZERlZmluaXRpb24pOklMaXN0SXRlbVZlcnNpb25bXSB7XG4gICAgICAgICAgICB2YXIgdmVyc2lvbnMgPSBbXTtcbiAgICAgICAgICAgIHZhciB4bWxWZXJzaW9ucyA9ICQocmVzcG9uc2VYTUwpLmZpbmQoJ1ZlcnNpb24nKTtcbiAgICAgICAgICAgIHZhciB2ZXJzaW9uQ291bnQgPSB4bWxWZXJzaW9ucy5sZW5ndGg7XG5cbiAgICAgICAgICAgIF8uZWFjaCh4bWxWZXJzaW9ucywgKHhtbFZlcnNpb24sIGluZGV4KSA9PiB7XG5cbiAgICAgICAgICAgICAgICAvKiogQnVnIGluIFNPQVAgV2ViIFNlcnZpY2UgcmV0dXJucyB0aW1lIGluIFVUQyB0aW1lIGZvciB2ZXJzaW9uIGhpc3RvcnlcbiAgICAgICAgICAgICAgICAgKiAgRGV0YWlsczogaHR0cHM6Ly9zcHNlcnZpY2VzLmNvZGVwbGV4LmNvbS9kaXNjdXNzaW9ucy8zOTE4NzlcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICB2YXIgdXRjRGF0ZSA9IHRoaXMucGFyc2VTdHJpbmdWYWx1ZSgkKHhtbFZlcnNpb24pLmF0dHIoJ01vZGlmaWVkJyksICdEYXRlVGltZScpO1xuXG4gICAgICAgICAgICAgICAgLyoqIFBhcnNlIHRoZSB4bWwgYW5kIGNyZWF0ZSBhIHJlcHJlc2VudGF0aW9uIG9mIHRoZSB2ZXJzaW9uIGFzIGEganMgb2JqZWN0ICovXG4gICAgICAgICAgICAgICAgdmFyIHZlcnNpb24gPSB7XG4gICAgICAgICAgICAgICAgICAgIGVkaXRvcjogdGhpcy5wYXJzZVN0cmluZ1ZhbHVlKCQoeG1sVmVyc2lvbikuYXR0cignRWRpdG9yJyksICdVc2VyJyksXG4gICAgICAgICAgICAgICAgICAgIC8qKiBUdXJuIHRoZSBTaGFyZVBvaW50IGZvcm1hdHRlZCBkYXRlIGludG8gYSB2YWxpZCBkYXRlIG9iamVjdCAqL1xuICAgICAgICAgICAgICAgICAgICBtb2RpZmllZDogdGhpcy5jb252ZXJ0VVRDRGF0ZVRvTG9jYWxEYXRlKHV0Y0RhdGUpLFxuICAgICAgICAgICAgICAgICAgICAvKiogUmV0dXJucyByZWNvcmRzIGluIGRlc2Mgb3JkZXIgc28gY29tcHV0ZSB0aGUgdmVyc2lvbiBudW1iZXIgZnJvbSBpbmRleCAqL1xuICAgICAgICAgICAgICAgICAgICB2ZXJzaW9uOiB2ZXJzaW9uQ291bnQgLSBpbmRleFxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKiogUHJvcGVybHkgZm9ybWF0IGZpZWxkIGJhc2VkIG9uIGRlZmluaXRpb24gZnJvbSBtb2RlbCAqL1xuICAgICAgICAgICAgICAgIHZlcnNpb25bZmllbGREZWZpbml0aW9uLm1hcHBlZE5hbWVdID1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJzZVN0cmluZ1ZhbHVlKCQoeG1sVmVyc2lvbikuYXR0cihmaWVsZERlZmluaXRpb24uc3RhdGljTmFtZSksIGZpZWxkRGVmaW5pdGlvbi5vYmplY3RUeXBlKTtcblxuICAgICAgICAgICAgICAgIC8qKiBQdXNoIHRvIGJlZ2lubmluZyBvZiBhcnJheSAqL1xuICAgICAgICAgICAgICAgIHZlcnNpb25zLnVuc2hpZnQodmVyc2lvbik7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIHZlcnNpb25zO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBEZWNvZGVTZXJ2aWNlOnBhcnNlU3RyaW5nVmFsdWVcbiAgICAgICAgICogQG1ldGhvZE9mIGFuZ3VsYXJQb2ludC5hcERlY29kZVNlcnZpY2VcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIENvbnZlcnRzIGEgU2hhcmVQb2ludCBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSBmaWVsZCBpbnRvIHRoZSBjb3JyZWN0bHkgZm9ybWF0dGVkIEphdmFTY3JpcHQgdmVyc2lvblxuICAgICAgICAgKiBiYXNlZCBvbiBvYmplY3QgdHlwZS4gIEEgbWFqb3JpdHkgb2YgdGhpcyBjb2RlIGlzIGRpcmVjdGx5IHRha2VuIGZyb20gTWFyYyBBbmRlcnNvbidzIGluY3JlZGlibGVcbiAgICAgICAgICogW1NQU2VydmljZXNdKGh0dHA6Ly9zcHNlcnZpY2VzLmNvZGVwbGV4LmNvbS8pIHByb2plY3QgYnV0IGl0IG5lZWRlZCBzb21lIG1pbm9yIHR3ZWFraW5nIHRvIHdvcmsgaGVyZS5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHN0ciBTaGFyZVBvaW50IHN0cmluZyByZXByZXNlbnRpbmcgdGhlIHZhbHVlLlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29iamVjdFR5cGU9J1RleHQnXSBUaGUgdHlwZSBiYXNlZCBvbiBmaWVsZCBkZWZpbml0aW9uLiAgU2VlXG4gICAgICAgICAqIFNlZSBbTGlzdC5jdXN0b21GaWVsZHNdKCMvYXBpL0xpc3QuRmllbGREZWZpbml0aW9uKSBmb3IgYWRkaXRpb25hbCBpbmZvIG9uIGhvdyB0byBkZWZpbmUgYSBmaWVsZCB0eXBlLlxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgdG8gcGFzcyB0byB0aGUgb2JqZWN0IGNvbnN0cnVjdG9yLlxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnMuZW50aXR5XSBSZWZlcmVuY2UgdG8gdGhlIHBhcmVudCBsaXN0IGl0ZW0gd2hpY2ggY2FuIGJlIHVzZWQgYnkgY2hpbGQgY29uc3RydWN0b3JzLlxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnMucHJvcGVydHlOYW1lXSBOYW1lIG9mIHByb3BlcnR5IG9uIHRoZSBsaXN0IGl0ZW0uXG4gICAgICAgICAqIEByZXR1cm5zIHsqfSBUaGUgbmV3bHkgaW5zdGFudGlhdGVkIEphdmFTY3JpcHQgdmFsdWUgYmFzZWQgb24gZmllbGQgdHlwZS5cbiAgICAgICAgICovXG4gICAgICAgIHBhcnNlU3RyaW5nVmFsdWUoc3RyOnN0cmluZywgb2JqZWN0VHlwZT86c3RyaW5nLCBvcHRpb25zPzp7ZW50aXR5OiBPYmplY3Q7IHByb3BlcnR5TmFtZTogc3RyaW5nO30pOmFueSB7XG5cbiAgICAgICAgICAgIHZhciB1bmVzY2FwZWRWYWx1ZSA9IF8udW5lc2NhcGUoc3RyKTtcblxuICAgICAgICAgICAgdmFyIGNvbFZhbHVlO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKG9iamVjdFR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdBdHRhY2htZW50cyc6XG4gICAgICAgICAgICAgICAgICAgIGNvbFZhbHVlID0gdGhpcy5qc0F0dGFjaG1lbnRzKHVuZXNjYXBlZFZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnQm9vbGVhbic6XG4gICAgICAgICAgICAgICAgICAgIGNvbFZhbHVlID0gdGhpcy5qc0Jvb2xlYW4odW5lc2NhcGVkVmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdDYWxjdWxhdGVkJzogLy8gRm9ybWF0dGVkIGxpa2UgdHlwZTsjdmFsdWUgc28gd2UgYnJlYWsgaXQgYXBhcnQgYW5kIHRoZW4gcGFzcyBiYWNrIGluIHRvIGZvcm1hdCBjb3JyZWN0bHlcbiAgICAgICAgICAgICAgICAgICAgY29sVmFsdWUgPSB0aGlzLmpzQ2FsYyh1bmVzY2FwZWRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2RhdGV0aW1lJzogLy8gRm9yIGNhbGN1bGF0ZWQgY29sdW1ucywgc3RvcmVkIGFzIGRhdGV0aW1lOyN2YWx1ZVxuICAgICAgICAgICAgICAgIGNhc2UgJ0RhdGVUaW1lJzpcbiAgICAgICAgICAgICAgICAgICAgLy8gRGF0ZXMgaGF2ZSBkYXNoZXMgaW5zdGVhZCBvZiBzbGFzaGVzOiBvd3NfQ3JlYXRlZD0nMjAwOS0wOC0yNSAxNDoyNDo0OCdcbiAgICAgICAgICAgICAgICAgICAgY29sVmFsdWUgPSB0aGlzLmpzRGF0ZSh1bmVzY2FwZWRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ0xvb2t1cCc6XG4gICAgICAgICAgICAgICAgICAgIGNvbFZhbHVlID0gdGhpcy5qc0xvb2t1cCh1bmVzY2FwZWRWYWx1ZSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ1VzZXInOlxuICAgICAgICAgICAgICAgICAgICBjb2xWYWx1ZSA9IHRoaXMuanNVc2VyKHVuZXNjYXBlZFZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnTG9va3VwTXVsdGknOlxuICAgICAgICAgICAgICAgICAgICBjb2xWYWx1ZSA9IHRoaXMuanNMb29rdXBNdWx0aSh1bmVzY2FwZWRWYWx1ZSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ1VzZXJNdWx0aSc6XG4gICAgICAgICAgICAgICAgICAgIGNvbFZhbHVlID0gdGhpcy5qc1VzZXJNdWx0aSh1bmVzY2FwZWRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ0ludGVnZXInOlxuICAgICAgICAgICAgICAgIGNhc2UgJ0NvdW50ZXInOiAvLyBPbmx5IHJlYWxseSB1c2VkIGZvciB0aGUgSUQgZmllbGRcbiAgICAgICAgICAgICAgICAgICAgY29sVmFsdWUgPSB0aGlzLmpzSW50KHVuZXNjYXBlZFZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnTnVtYmVyJzpcbiAgICAgICAgICAgICAgICBjYXNlICdDdXJyZW5jeSc6XG4gICAgICAgICAgICAgICAgY2FzZSAnZmxvYXQnOiAvLyBGb3IgY2FsY3VsYXRlZCBjb2x1bW5zLCBzdG9yZWQgYXMgZmxvYXQ7I3ZhbHVlXG4gICAgICAgICAgICAgICAgY2FzZSAnRmxvYXQnOlxuICAgICAgICAgICAgICAgICAgICBjb2xWYWx1ZSA9IHRoaXMuanNGbG9hdCh1bmVzY2FwZWRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ011bHRpQ2hvaWNlJzpcbiAgICAgICAgICAgICAgICAgICAgY29sVmFsdWUgPSB0aGlzLmpzQ2hvaWNlTXVsdGkodW5lc2NhcGVkVmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdKU09OJzogLy8gTm90IGEgdHJ1ZSBTaGFyZVBvaW50IGZpZWxkIHR5cGUgYnV0IGFjdHMgYXMgYSBkZWNvcmF0b3IgZm9yIE5vdGVcbiAgICAgICAgICAgICAgICAgICAgY29sVmFsdWUgPSB0aGlzLmpzT2JqZWN0KHVuZXNjYXBlZFZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnQ2hvaWNlJzpcbiAgICAgICAgICAgICAgICBjYXNlICdIVE1MJzpcbiAgICAgICAgICAgICAgICBjYXNlICdOb3RlJzpcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAvLyBBbGwgb3RoZXIgb2JqZWN0VHlwZXMgd2lsbCBiZSBzaW1wbGUgc3RyaW5nc1xuICAgICAgICAgICAgICAgICAgICBjb2xWYWx1ZSA9IHRoaXMuanNTdHJpbmcodW5lc2NhcGVkVmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjb2xWYWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAgICogQG5hbWUgYW5ndWxhclBvaW50LmFwRGVjb2RlU2VydmljZTpwYXJzZVhNTEVudGl0eVxuICAgICAgICAgKiBAbWV0aG9kT2YgYW5ndWxhclBvaW50LmFwRGVjb2RlU2VydmljZVxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogQ29udmVydCBhbiBYTUwgbGlzdCBpdGVtIGludG8gYSBKUyBvYmplY3QgdXNpbmcgdGhlIGZpZWxkcyBkZWZpbmVkIGluIHRoZSBtb2RlbCBmb3IgdGhlIGdpdmVuIGxpc3QgaXRlbS5cbiAgICAgICAgICogQHBhcmFtIHtvYmplY3R9IHhtbEVudGl0eSBYTUwgT2JqZWN0LlxuICAgICAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBsaXN0SXRlbVByb3ZpZGVyIENvbnN0cnVjdG9yIGZ1bmN0aW9uIHRoYXQgaW5zdGFudGlhdGVzIGEgbmV3IG9iamVjdC5cbiAgICAgICAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgQ29uZmlndXJhdGlvbiBvcHRpb25zLlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy5tYXBwaW5nIE1hcHBpbmcgb2YgZmllbGRzIHdlJ2QgbGlrZSB0byBleHRlbmQgb24gb3VyIEpTIG9iamVjdC5cbiAgICAgICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5pbmNsdWRlQWxsQXR0cnM9ZmFsc2VdIElmIHRydWUsIHJldHVybiBhbGwgYXR0cmlidXRlcywgcmVnYXJkbGVzcyB3aGV0aGVyXG4gICAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMubGlzdEl0ZW1Qcm92aWRlcl0gTGlzdCBpdGVtIGNvbnN0cnVjdG9yLlxuICAgICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnJlbW92ZU93cz10cnVlXSBTcGVjaWZpY2FsbHkgZm9yIEdldExpc3RJdGVtcywgaWYgdHJ1ZSwgdGhlIGxlYWRpbmcgb3dzXyB3aWxsXG4gICAgICAgICAqIEByZXR1cm5zIHtvYmplY3R9IE5ldyBlbnRpdHkgdXNpbmcgdGhlIGZhY3Rvcnkgb24gdGhlIG1vZGVsLlxuICAgICAgICAgKi9cbiAgICAgICAgcGFyc2VYTUxFbnRpdHkoeG1sRW50aXR5OlhNTERvY3VtZW50LCBsaXN0SXRlbVByb3ZpZGVyOihPYmplY3QpID0+IElMaXN0SXRlbSxcbiAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uczp7bWFwcGluZzogSUZpZWxkRGVmaW5pdGlvbltdOyBpbmNsdWRlQWxsQXR0cnM/OiBib29sZWFuOyBsaXN0SXRlbVByb3ZpZGVyPzpGdW5jdGlvbjtyZW1vdmVPd3M/OmJvb2xlYW47IHRhcmdldD86IElJbmRleGVkQ2FjaGV9KTpJTGlzdEl0ZW0ge1xuICAgICAgICAgICAgdmFyIGVudGl0eSA9IHt9O1xuICAgICAgICAgICAgdmFyIHJvd0F0dHJzID0geG1sRW50aXR5LmF0dHJpYnV0ZXM7XG5cbiAgICAgICAgICAgIC8qKiBCcmluZyBiYWNrIGFsbCBtYXBwZWQgY29sdW1ucywgZXZlbiB0aG9zZSB3aXRoIG5vIHZhbHVlICovXG4gICAgICAgICAgICBfLmVhY2gob3B0aW9ucy5tYXBwaW5nLCAoZmllbGREZWZpbml0aW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgZW50aXR5W2ZpZWxkRGVmaW5pdGlvbi5tYXBwZWROYW1lXSA9IHRoaXMuYXBGaWVsZFNlcnZpY2UuZ2V0RGVmYXVsdFZhbHVlRm9yVHlwZShmaWVsZERlZmluaXRpb24ub2JqZWN0VHlwZSk7XG4gICAgICAgICAgICAgICAgLy9lbnRpdHlbZmllbGREZWZpbml0aW9uLm1hcHBlZE5hbWVdID0gJyc7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLyoqIFBhcnNlIHRocm91Z2ggdGhlIGVsZW1lbnQncyBhdHRyaWJ1dGVzICovXG4gICAgICAgICAgICBfLmVhY2gocm93QXR0cnMsIChhdHRyKSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIHRoaXNBdHRyTmFtZSA9IGF0dHIubmFtZTtcbiAgICAgICAgICAgICAgICB2YXIgdGhpc01hcHBpbmcgPSBvcHRpb25zLm1hcHBpbmdbdGhpc0F0dHJOYW1lXTtcbiAgICAgICAgICAgICAgICB2YXIgdGhpc09iamVjdE5hbWUgPSB0eXBlb2YgdGhpc01hcHBpbmcgIT09ICd1bmRlZmluZWQnID8gdGhpc01hcHBpbmcubWFwcGVkTmFtZSA6IG9wdGlvbnMucmVtb3ZlT3dzID8gdGhpc0F0dHJOYW1lLnNwbGl0KCdvd3NfJylbMV0gOiB0aGlzQXR0ck5hbWU7XG4gICAgICAgICAgICAgICAgdmFyIHRoaXNPYmplY3RUeXBlID0gdHlwZW9mIHRoaXNNYXBwaW5nICE9PSAndW5kZWZpbmVkJyA/IHRoaXNNYXBwaW5nLm9iamVjdFR5cGUgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuaW5jbHVkZUFsbEF0dHJzIHx8IHRoaXNNYXBwaW5nICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZW50aXR5W3RoaXNPYmplY3ROYW1lXSA9IHRoaXMucGFyc2VTdHJpbmdWYWx1ZShhdHRyLnZhbHVlLCB0aGlzT2JqZWN0VHlwZSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW50aXR5OiBlbnRpdHksXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eU5hbWU6IHRoaXNPYmplY3ROYW1lXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gbGlzdEl0ZW1Qcm92aWRlcihlbnRpdHkpO1xuICAgICAgICB9XG5cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcERlY29kZVNlcnZpY2U6cHJvY2Vzc0xpc3RJdGVtc1xuICAgICAgICAgKiBAbWV0aG9kT2YgYW5ndWxhclBvaW50LmFwRGVjb2RlU2VydmljZVxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogUG9zdCBwcm9jZXNzaW5nIG9mIGRhdGEgYWZ0ZXIgcmV0dXJuaW5nIGxpc3QgaXRlbXMgZnJvbSBzZXJ2ZXIuICBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGhcbiAgICAgICAgICogdGhlIHByb2Nlc3NlZCBlbnRpdGllcy4gIFByb21pc2UgYWxsb3dzIHVzIHRvIGJhdGNoIGNvbnZlcnNpb25zIG9mIGxhcmdlIGxpc3RzIHRvIHByZXZlbnQgdWkgc2xvd2Rvd25zLlxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gbW9kZWwgUmVmZXJlbmNlIHRvIGFsbG93IHVwZGF0aW5nIG9mIG1vZGVsLlxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gcXVlcnkgUmVmZXJlbmNlIHRvIHRoZSBxdWVyeSByZXNwb25zaWJsZSBmb3IgcmVxdWVzdGluZyBlbnRpdGllcy5cbiAgICAgICAgICogQHBhcmFtIHt4bWx9IHJlc3BvbnNlWE1MIFJlc29sdmVkIHByb21pc2UgZnJvbSBTUFNlcnZpY2VzIHdlYiBzZXJ2aWNlIGNhbGwuXG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gT3B0aW9uYWwgY29uZmlndXJhdGlvbiBvYmplY3QuXG4gICAgICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IFtvcHRpb25zLmZhY3Rvcnk9bW9kZWwuZmFjdG9yeV0gQ29uc3RydWN0b3IgZnVuY3Rpb24gdHlwaWNhbGx5IHN0b3JlZCBvbiB0aGUgbW9kZWwuXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5maWx0ZXI9J3o6cm93J10gWE1MIGZpbHRlciBzdHJpbmcgdXNlZCB0byBmaW5kIHRoZSBlbGVtZW50cyB0byBpdGVyYXRlIG92ZXIuXG4gICAgICAgICAqIEBwYXJhbSB7QXJyYXl9IFtvcHRpb25zLm1hcHBpbmc9bW9kZWwubGlzdC5tYXBwaW5nXSBGaWVsZCBkZWZpbml0aW9ucywgdHlwaWNhbGx5IHN0b3JlZCBvbiB0aGUgbW9kZWwuXG4gICAgICAgICAqIEBwYXJhbSB7QXJyYXl9IFtvcHRpb25zLnRhcmdldD1tb2RlbC5nZXRDYWNoZSgpXSBPcHRpb25hbGx5IHBhc3MgaW4gYXJyYXkgdG8gdXBkYXRlIGFmdGVyIHByb2Nlc3NpbmcuXG4gICAgICAgICAqIEByZXR1cm5zIHtPYmplY3R9IEluZWRleGVkIENhY2hlLlxuICAgICAgICAgKi9cbiAgICAgICAgcHJvY2Vzc0xpc3RJdGVtcyhtb2RlbDpJTW9kZWwsIHF1ZXJ5OklRdWVyeSwgcmVzcG9uc2VYTUw6WE1MRG9jdW1lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucz86e2ZhY3Rvcnk6IEZ1bmN0aW9uOyBmaWx0ZXI6IHN0cmluZzsgbWFwcGluZzogSUZpZWxkRGVmaW5pdGlvbltdOyB0YXJnZXQ6IElJbmRleGVkQ2FjaGV9KTpJSW5kZXhlZENhY2hlIHtcbiAgICAgICAgICAgIHZhciBkZWZhdWx0cyA9IHtcbiAgICAgICAgICAgICAgICBmYWN0b3J5OiBtb2RlbC5mYWN0b3J5LFxuICAgICAgICAgICAgICAgIGZpbHRlcjogJ3o6cm93JyxcbiAgICAgICAgICAgICAgICBtYXBwaW5nOiBtb2RlbC5saXN0Lm1hcHBpbmcsXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiBtb2RlbC5nZXRDYWNoZSgpXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB2YXIgb3B0cyA9IF8uZXh0ZW5kKHt9LCBkZWZhdWx0cywgb3B0aW9ucyk7XG5cbiAgICAgICAgICAgIC8qKiBNYXAgcmV0dXJuZWQgWE1MIHRvIEpTIG9iamVjdHMgYmFzZWQgb24gbWFwcGluZyBmcm9tIG1vZGVsICovXG4gICAgICAgICAgICB2YXIgZmlsdGVyZWROb2RlcyA9ICQocmVzcG9uc2VYTUwpLlNQRmlsdGVyTm9kZShvcHRzLmZpbHRlcik7XG5cbiAgICAgICAgICAgIC8qKiBQcmVwYXJlIGNvbnN0cnVjdG9yIGZvciBYTUwgZW50aXRpZXMgd2l0aCByZWZlcmVuY2VzIHRvIHRoZSBxdWVyeSBhbmQgY2FjaGVkIGNvbnRhaW5lciAqL1xuICAgICAgICAgICAgdmFyIGxpc3RJdGVtUHJvdmlkZXIgPSB0aGlzLmNyZWF0ZUxpc3RJdGVtUHJvdmlkZXIobW9kZWwsIHF1ZXJ5LCBvcHRzLnRhcmdldCk7XG5cbiAgICAgICAgICAgIC8qKiBDb252ZXJ0IFhNTCBlbnRpdGllcyBpbnRvIEpTIG9iamVjdHMgYW5kIHJlZ2lzdGVyIGluIGNhY2hlIHdpdGggbGlzdEl0ZW1Qcm92aWRlciwgdGhpcyByZXR1cm5zIGFuXG4gICAgICAgICAgICAgKiBhcnJheSBvZiBlbnRpdGllcyBidXQgYXQgdGhpcyBwb2ludCB3ZSdyZSBub3QgdXNpbmcgdGhlbSBiZWNhdXNlIHRoZSBpbmRleGVkIGNhY2hlIHNob3VsZCBiZSBtb3JlXG4gICAgICAgICAgICAgKiBwZXJmb3JtYW50LiAqL1xuICAgICAgICAgICAgdGhpcy54bWxUb0pzb24oZmlsdGVyZWROb2RlcywgbGlzdEl0ZW1Qcm92aWRlciwgb3B0cyk7XG5cbiAgICAgICAgICAgIHJldHVybiBvcHRzLnRhcmdldDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAgICogQG5hbWUgYW5ndWxhclBvaW50LmFwRGVjb2RlU2VydmljZTp4bWxUb0pzb25cbiAgICAgICAgICogQG1ldGhvZE9mIGFuZ3VsYXJQb2ludC5hcERlY29kZVNlcnZpY2VcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIENvbnZlcnRzIGFuIFhNTCBub2RlIHNldCB0byBKYXZhc2NyaXB0IG9iamVjdCBhcnJheS4gVGhpcyBpcyBhIG1vZGlmaWVkIHZlcnNpb24gb2YgdGhlIFNQU2VydmljZXNcbiAgICAgICAgICogXCJTUFhtbFRvSnNvblwiIGZ1bmN0aW9uLlxuICAgICAgICAgKiBAcGFyYW0ge2FycmF5fSB4bWxFbnRpdGllcyBbXCJ6OnJvd3NcIl0gWE1MIHJvd3MgdGhhdCBuZWVkIHRvIGJlIHBhcnNlZC5cbiAgICAgICAgICogQHBhcmFtIHtmdW5jdGlvbn0gbGlzdEl0ZW1Qcm92aWRlciBDb25zdHJ1Y3RvciBmdW5jdGlvbiB1c2VkIHRvIGJ1aWxkIHRoZSBsaXN0IGl0ZW0gd2l0aCByZWZlcmVuY2VzIHRvXG4gICAgICAgICAqIHRoZSBxdWVyeSwgY2FjaGVkIGNvbnRhaW5lciwgYW5kIHJlZ2lzdGVycyBlYWNoIGxpc3QgaXRlbSBpbiB0aGUgYXBDYWNoZVNlcnZpY2UuXG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIE9wdGlvbnMgb2JqZWN0LlxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdFtdfSBvcHRpb25zLm1hcHBpbmcgW2NvbHVtbk5hbWU6IFwibWFwcGVkTmFtZVwiLCBvYmplY3RUeXBlOiBcIm9iamVjdFR5cGVcIl1cbiAgICAgICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5pbmNsdWRlQWxsQXR0cnM9ZmFsc2VdIElmIHRydWUsIHJldHVybiBhbGwgYXR0cmlidXRlcywgcmVnYXJkbGVzcyB3aGV0aGVyXG4gICAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMubGlzdEl0ZW1Qcm92aWRlcl0gTGlzdCBpdGVtIGNvbnN0cnVjdG9yLlxuICAgICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnJlbW92ZU93cz10cnVlXSBTcGVjaWZpY2FsbHkgZm9yIEdldExpc3RJdGVtcywgaWYgdHJ1ZSwgdGhlIGxlYWRpbmcgb3dzXyB3aWxsXG4gICAgICAgICAqIGJlIHN0cmlwcGVkIG9mZiB0aGUgZmllbGQgbmFtZS5cbiAgICAgICAgICogQHBhcmFtIHthcnJheX0gW29wdGlvbnMudGFyZ2V0XSBPcHRpb25hbCBsb2NhdGlvbiB0byBwdXNoIHBhcnNlZCBlbnRpdGllcy5cbiAgICAgICAgICogQHJldHVybnMge29iamVjdFtdfSBBbiBhcnJheSBvZiBKYXZhU2NyaXB0IG9iamVjdHMuXG4gICAgICAgICAqL1xuICAgICAgICB4bWxUb0pzb24oeG1sRW50aXRpZXM6WE1MRG9jdW1lbnRbXSwgbGlzdEl0ZW1Qcm92aWRlcjooT2JqZWN0KSA9PiBJTGlzdEl0ZW0sXG4gICAgICAgICAgICAgICAgICBvcHRpb25zOnttYXBwaW5nOiBJRmllbGREZWZpbml0aW9uW107IGluY2x1ZGVBbGxBdHRycz86IGJvb2xlYW47IGxpc3RJdGVtUHJvdmlkZXI/OkZ1bmN0aW9uO3JlbW92ZU93cz86Ym9vbGVhbjsgdGFyZ2V0PzogSUluZGV4ZWRDYWNoZX0pOk9iamVjdFtdIHtcblxuICAgICAgICAgICAgdmFyIGRlZmF1bHRzID0ge1xuICAgICAgICAgICAgICAgIG1hcHBpbmc6IHt9LFxuICAgICAgICAgICAgICAgIGluY2x1ZGVBbGxBdHRyczogZmFsc2UsXG4gICAgICAgICAgICAgICAgcmVtb3ZlT3dzOiB0cnVlXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB2YXIgb3B0cyA9IF8uZXh0ZW5kKHt9LCBkZWZhdWx0cywgb3B0aW9ucyk7XG4gICAgICAgICAgICB2YXIgcGFyc2VkRW50aXRpZXMgPSBbXTtcblxuICAgICAgICAgICAgXy5lYWNoKHhtbEVudGl0aWVzLCAoeG1sRW50aXR5KSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIHBhcnNlZEVudGl0eSA9IHRoaXMucGFyc2VYTUxFbnRpdHkoeG1sRW50aXR5LCBsaXN0SXRlbVByb3ZpZGVyLCBvcHRzKTtcbiAgICAgICAgICAgICAgICBwYXJzZWRFbnRpdGllcy5wdXNoKHBhcnNlZEVudGl0eSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlZEVudGl0aWVzO1xuICAgICAgICB9XG5cblxuICAgIH1cblxuXG4gICAgLyoqKioqKioqKioqKioqKioqKioqKipQUklWQVRFKioqKioqKioqKioqKioqKioqKioqL1xuXG5cbiAgICAvKipDb25zdHJ1Y3RvcnMgZm9yIHVzZXIgYW5kIGxvb2t1cCBmaWVsZHMqL1xuICAgIC8qKkFsbG93cyBmb3IgZWFzaWVyIGRpc3RpbmN0aW9uIHdoZW4gZGVidWdnaW5nIGlmIG9iamVjdCB0eXBlIGlzIHNob3duIGFzIGVpdGhlciBMb29rdXAgb3IgVXNlcioqL1xuXG5cblxuXG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnYW5ndWxhclBvaW50JylcbiAgICAgICAgLnNlcnZpY2UoJ2FwRGVjb2RlU2VydmljZScsIERlY29kZVNlcnZpY2UpXG5cbn1cbiIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90eXBpbmdzL2FwLmQudHNcIiAvPlxuXG5tb2R1bGUgYXAge1xuICAgICd1c2Ugc3RyaWN0JztcblxuXG4gICAgZXhwb3J0IGNsYXNzIEVuY29kZVNlcnZpY2Uge1xuICAgICAgICBzYXZlZFRpbWVab25lO1xuICAgICAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGFwVXRpbGl0eVNlcnZpY2UsIHByaXZhdGUgU1BTZXJ2aWNlcykge1xuXG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQ29udmVydHMgYW4gYXJyYXkgb2Ygc2VsZWN0ZWQgdmFsdWVzIGludG8gYSBTaGFyZVBvaW50IE11bHRpQ2hvaWNlIHN0cmluZ1xuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBhcnJcbiAgICAgICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIGNob2ljZU11bHRpVG9TdHJpbmcoYXJyOiBzdHJpbmdbXSk6IHN0cmluZyB7XG4gICAgICAgICAgICB2YXIgc3RyID0gJyc7XG4gICAgICAgICAgICB2YXIgZGVsaW0gPSAnOyMnO1xuXG4gICAgICAgICAgICBpZiAoYXJyLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAvKiogU3RyaW5nIGlzIHJlcXVpcmVkIHRvIGJlZ2luIHdpdGggZGVsaW1pbmF0b3IgKi9cbiAgICAgICAgICAgICAgICBzdHIgKz0gZGVsaW07XG5cbiAgICAgICAgICAgICAgICAvKiogQXBwZW5kIGVhY2ggaXRlbSBpbiB0aGUgc3VwcGxpZWQgYXJyYXkgZm9sbG93ZWQgYnkgZGVsaW1pbmF0b3IgKi9cbiAgICAgICAgICAgICAgICBfLmVhY2goYXJyLCAoY2hvaWNlKSA9PiBzdHIgKz0gY2hvaWNlICsgZGVsaW0gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzdHI7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcEVuY29kZVNlcnZpY2U6Y3JlYXRlVmFsdWVQYWlyXG4gICAgICAgICAqIEBtZXRob2RPZiBhbmd1bGFyUG9pbnQuYXBFbmNvZGVTZXJ2aWNlXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBVc2VzIGEgZmllbGQgZGVmaW5pdGlvbiBmcm9tIGEgbW9kZWwgdG8gcHJvcGVybHkgZm9ybWF0IGEgdmFsdWUgZm9yIHN1Ym1pc3Npb24gdG8gU2hhcmVQb2ludC4gIFR5cGljYWxseVxuICAgICAgICAgKiB1c2VkIHByaW9yIHRvIHNhdmluZyBhIGxpc3QgaXRlbSwgd2UgaXRlcmF0ZSBvdmVyIGVhY2ggb2YgdGhlIG5vbi1yZWFkb25seSBwcm9wZXJ0aWVzIGRlZmluZWQgaW4gdGhlIG1vZGVsXG4gICAgICAgICAqIGZvciBhIGxpc3QgaXRlbSBhbmQgY29udmVydCB0aG9zZSB2YWx1ZSBpbnRvIHZhbHVlIHBhaXJzIHRoYXQgd2UgY2FuIHRoZW4gaGFuZCBvZmYgdG8gU1BTZXJ2aWNlcy5cbiAgICAgICAgICogQHBhcmFtIHtvYmplY3R9IGZpZWxkRGVmaW5pdGlvbiBUaGUgZmllbGQgZGVmaW5pdGlvbiwgdHlwaWNhbGx5IGRlZmluZWQgaW4gdGhlIG1vZGVsLlxuICAgICAgICAgKiA8cHJlPlxuICAgICAgICAgKiB7XG4gICAgICAgICAgICAgKiAgc3RhdGljTmFtZTogXCJUaXRsZVwiLFxuICAgICAgICAgICAgICogIG9iamVjdFR5cGU6IFwiVGV4dFwiLFxuICAgICAgICAgICAgICogIG1hcHBlZE5hbWU6IFwibGFzdE5hbWVcIixcbiAgICAgICAgICAgICAqICByZWFkT25seTpmYWxzZVxuICAgICAgICAgICAgICogfVxuICAgICAgICAgKiA8L3ByZT5cbiAgICAgICAgICogQHBhcmFtIHsqfSB2YWx1ZSBDdXJyZW50IGZpZWxkIHZhbHVlLlxuICAgICAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFtmaWVsZE5hbWUsIGZpZWxkVmFsdWVdXG4gICAgICAgICAqL1xuICAgICAgICBjcmVhdGVWYWx1ZVBhaXIoZmllbGREZWZpbml0aW9uOiBJRmllbGREZWZpbml0aW9uLCB2YWx1ZTphbnkpOiBbc3RyaW5nLCBzdHJpbmddIHtcbiAgICAgICAgICAgIHZhciBlbmNvZGVkVmFsdWUgPSB0aGlzLmVuY29kZVZhbHVlKGZpZWxkRGVmaW5pdGlvbi5vYmplY3RUeXBlLCB2YWx1ZSk7XG4gICAgICAgICAgICByZXR1cm4gW2ZpZWxkRGVmaW5pdGlvbi5zdGF0aWNOYW1lLCBlbmNvZGVkVmFsdWVdO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBFbmNvZGVTZXJ2aWNlOmVuY29kZVZhbHVlXG4gICAgICAgICAqIEBtZXRob2RPZiBhbmd1bGFyUG9pbnQuYXBFbmNvZGVTZXJ2aWNlXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmaWVsZFR5cGUgT25lIG9mIHRoZSB2YWxpZCBmaWVsZCB0eXBlcy5cbiAgICAgICAgICogQHBhcmFtIHsqfSB2YWx1ZSBWYWx1ZSB0byBiZSBlbmNvZGVkLlxuICAgICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBFbmNvZGVkIHZhbHVlIHJlYWR5IHRvIGJlIHNlbnQgdG8gdGhlIHNlcnZlci5cbiAgICAgICAgICovXG4gICAgICAgIGVuY29kZVZhbHVlKGZpZWxkVHlwZTogc3RyaW5nLCB2YWx1ZTogYW55KTogc3RyaW5nIHtcbiAgICAgICAgICAgIHZhciBzdHIgPSAnJztcbiAgICAgICAgICAgIC8qKiBPbmx5IHByb2Nlc3MgaWYgbm90ZSBlbXB0eSwgdW5kZWZpbmVkLCBvciBudWxsLiAgQWxsb3cgZmFsc2UuICovXG4gICAgICAgICAgICBpZiAodmFsdWUgIT09ICcnICYmICFfLmlzVW5kZWZpbmVkKHZhbHVlKSAmJiAhXy5pc051bGwodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChmaWVsZFR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnTG9va3VwJzpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnVXNlcic6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUubG9va3VwSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiogT25seSBpbmNsdWRlIGxvb2t1cFZhbHVlIGlmIGRlZmluZWQgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHIgPSB2YWx1ZS5sb29rdXBJZCArICc7IycgKyAodmFsdWUubG9va3VwVmFsdWUgfHwgJycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ0xvb2t1cE11bHRpJzpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnVXNlck11bHRpJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0ciA9IHRoaXMuc3RyaW5naWZ5U2hhcmVQb2ludE11bHRpU2VsZWN0KHZhbHVlLCAnbG9va3VwSWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdNdWx0aUNob2ljZSc6XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHIgPSB0aGlzLmNob2ljZU11bHRpVG9TdHJpbmcodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ0Jvb2xlYW4nOlxuICAgICAgICAgICAgICAgICAgICAgICAgc3RyID0gdmFsdWUgPyAxIDogMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdEYXRlVGltZSc6XG4gICAgICAgICAgICAgICAgICAgICAgICAvL0Egc3RyaW5nIGRhdGUgaW4gSVNPODYwMSBmb3JtYXQsIGUuZy4sICcyMDEzLTA1LTA4VDAxOjIwOjI5Wi0wNTowMCdcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0ciA9IHRoaXMuc3RyaW5naWZ5U2hhcmVQb2ludERhdGUodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ0pTT04nOlxuICAgICAgICAgICAgICAgICAgICAgICAgc3RyID0gSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ0hUTUwnOlxuICAgICAgICAgICAgICAgICAgICBjYXNlICdOb3RlJzpcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0ciA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChfLmlzU3RyaW5nKHN0cikpIHtcbiAgICAgICAgICAgICAgICAvKiogRW5zdXJlIHdlIGVuY29kZSBiZWZvcmUgc2VuZGluZyB0byBzZXJ2ZXIgKHJlcGxhY2UgXCIsIDwsID4pKi9cbiAgICAgICAgICAgICAgICBzdHIgPSB0aGlzLlNQU2VydmljZXMuZW5jb2RlWG1sKHN0cik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gc3RyO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBFbmNvZGVTZXJ2aWNlOmdlbmVyYXRlVmFsdWVQYWlyc1xuICAgICAgICAgKiBAbWV0aG9kT2YgYW5ndWxhclBvaW50LmFwRW5jb2RlU2VydmljZVxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogVHlwaWNhbGx5IHVzZWQgdG8gaXRlcmF0ZSBvdmVyIHRoZSBub24tcmVhZG9ubHkgZmllbGQgZGVmaW5pdGlvbnMgc3RvcmVkIGluIGEgbW9kZWwgYW5kIGNvbnZlcnQgYVxuICAgICAgICAgKiBnaXZlbiBsaXN0IGl0ZW0gZW50aXR5IGludG8gdmFsdWUgcGFpcnMgdGhhdCB3ZSBjYW4gcGFzcyB0byBTUFNlcnZpY2VzIGZvciBzYXZpbmcuXG4gICAgICAgICAqIEBwYXJhbSB7QXJyYXl9IGZpZWxkRGVmaW5pdGlvbnMgRGVmaW5pdGlvbnMgZnJvbSB0aGUgbW9kZWwuXG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBsaXN0SXRlbSBsaXN0IGl0ZW0gdGhhdCB3ZSdsbCBhdHRlbXB0IHRvIGl0ZXJhdGUgb3ZlciB0byBmaW5kIHRoZSBwcm9wZXJ0aWVzIHRoYXQgd2UgbmVlZCB0b1xuICAgICAgICAgKiBzYXZlIGl0IHRvIFNoYXJlUG9pbnQuXG4gICAgICAgICAqIEByZXR1cm5zIHtBcnJheVtdfSBWYWx1ZSBwYWlycyBvZiBhbGwgbm9uLXJlYWRvbmx5IGZpZWxkcy4gW1tmaWVsZE5hbWUsIGZpZWxkVmFsdWVdXVxuICAgICAgICAgKi9cbiAgICAgICAgZ2VuZXJhdGVWYWx1ZVBhaXJzKGZpZWxkRGVmaW5pdGlvbnM6IElGaWVsZERlZmluaXRpb25bXSwgbGlzdEl0ZW06IElMaXN0SXRlbSk6IFtbc3RyaW5nLCBzdHJpbmddW11dIHtcbiAgICAgICAgICAgIHZhciBwYWlycyA9IFtdO1xuICAgICAgICAgICAgXy5lYWNoKGZpZWxkRGVmaW5pdGlvbnMsIChmaWVsZCkgPT4ge1xuICAgICAgICAgICAgICAgIC8qKiBDaGVjayB0byBzZWUgaWYgaXRlbSBjb250YWlucyBkYXRhIGZvciB0aGlzIGZpZWxkICovXG4gICAgICAgICAgICAgICAgaWYgKF8uaGFzKGxpc3RJdGVtLCBmaWVsZC5tYXBwZWROYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICBwYWlycy5wdXNoKHRoaXMuY3JlYXRlVmFsdWVQYWlyKGZpZWxkLCBsaXN0SXRlbVtmaWVsZC5tYXBwZWROYW1lXSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHBhaXJzO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBFbmNvZGVTZXJ2aWNlOnN0cmluZ2lmeVNoYXJlUG9pbnREYXRlXG4gICAgICAgICAqIEBtZXRob2RPZiBhbmd1bGFyUG9pbnQuYXBFbmNvZGVTZXJ2aWNlXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBDb252ZXJ0cyBhIEphdmFTY3JpcHQgZGF0ZSBpbnRvIGEgbW9kaWZpZWQgSVNPODYwMSBkYXRlIHN0cmluZyB1c2luZyB0aGUgVGltZVpvbmVcbiAgICAgICAgICogb2Zmc2V0IGZvciB0aGUgY3VycmVudCB1c2VyLlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiA8cHJlPicyMDE0LTA1LTA4VDA4OjEyOjE4Wi0wNzowMCc8L3ByZT5cbiAgICAgICAgICogQHBhcmFtIHtEYXRlfSBkYXRlIFZhbGlkIEpTIGRhdGUuXG4gICAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IElTTzg2MDEgZGF0ZSBzdHJpbmcuXG4gICAgICAgICAqL1xuICAgICAgICBzdHJpbmdpZnlTaGFyZVBvaW50RGF0ZShkYXRlOiBEYXRlfHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgICAgICB2YXIganNEYXRlO1xuICAgICAgICAgICAgaWYgKCFfLmlzRGF0ZShkYXRlKSAmJiBfLmlzU3RyaW5nKGRhdGUpICYmIGRhdGUuc3BsaXQoJy0nKS5sZW5ndGggPT09IDMpIHtcbiAgICAgICAgICAgICAgICAvKiogRGF0ZSBzdHJpbmcgZm9ybWF0dGVkIFlZWVktTU0tREQgKi9cbiAgICAgICAgICAgICAgICB2YXIgZGF0ZUNvbXBvbmVudHMgPSBkYXRlLnNwbGl0KCctJyk7XG4gICAgICAgICAgICAgICAganNEYXRlID0gbmV3IERhdGUoZGF0ZUNvbXBvbmVudHNbMF0sIGRhdGVDb21wb25lbnRzWzFdIC0gMSwgZGF0ZUNvbXBvbmVudHNbMl0sIDAsIDAsIDApO1xuICAgICAgICAgICAgfSBlbHNlIGlmICghXy5pc0RhdGUoZGF0ZSkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgRGF0ZSBQcm92aWRlZDogJyArIGRhdGUudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGpzRGF0ZSA9IGRhdGU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBkYXRlU3RyaW5nID0gJyc7XG4gICAgICAgICAgICBkYXRlU3RyaW5nICs9IGpzRGF0ZS5nZXRGdWxsWWVhcigpO1xuICAgICAgICAgICAgZGF0ZVN0cmluZyArPSAnLSc7XG4gICAgICAgICAgICBkYXRlU3RyaW5nICs9IHRoaXMuYXBVdGlsaXR5U2VydmljZS5kb3VibGVEaWdpdChqc0RhdGUuZ2V0TW9udGgoKSArIDEpO1xuICAgICAgICAgICAgZGF0ZVN0cmluZyArPSAnLSc7XG4gICAgICAgICAgICBkYXRlU3RyaW5nICs9IHRoaXMuYXBVdGlsaXR5U2VydmljZS5kb3VibGVEaWdpdChqc0RhdGUuZ2V0RGF0ZSgpKTtcbiAgICAgICAgICAgIGRhdGVTdHJpbmcgKz0gJ1QnO1xuICAgICAgICAgICAgZGF0ZVN0cmluZyArPSB0aGlzLmFwVXRpbGl0eVNlcnZpY2UuZG91YmxlRGlnaXQoanNEYXRlLmdldEhvdXJzKCkpO1xuICAgICAgICAgICAgZGF0ZVN0cmluZyArPSAnOic7XG4gICAgICAgICAgICBkYXRlU3RyaW5nICs9IHRoaXMuYXBVdGlsaXR5U2VydmljZS5kb3VibGVEaWdpdChqc0RhdGUuZ2V0TWludXRlcygpKTtcbiAgICAgICAgICAgIGRhdGVTdHJpbmcgKz0gJzonO1xuICAgICAgICAgICAgZGF0ZVN0cmluZyArPSB0aGlzLmFwVXRpbGl0eVNlcnZpY2UuZG91YmxlRGlnaXQoanNEYXRlLmdldFNlY29uZHMoKSk7XG4gICAgICAgICAgICBkYXRlU3RyaW5nICs9ICdaLSc7XG5cbiAgICAgICAgICAgIGlmICghdGhpcy5zYXZlZFRpbWVab25lKSB7XG4gICAgICAgICAgICAgICAgLy9HZXQgZGlmZmVyZW5jZSBiZXR3ZWVuIFVUQyB0aW1lIGFuZCBsb2NhbCB0aW1lIGluIG1pbnV0ZXMgYW5kIGNvbnZlcnQgdG8gaG91cnNcbiAgICAgICAgICAgICAgICAvL1N0b3JlIHNvIHdlIG9ubHkgbmVlZCB0byBkbyB0aGlzIG9uY2VcbiAgICAgICAgICAgICAgICB0aGlzLnNhdmVkVGltZVpvbmUgPSBuZXcgRGF0ZSgpLmdldFRpbWV6b25lT2Zmc2V0KCkgLyA2MDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRhdGVTdHJpbmcgKz0gdGhpcy5hcFV0aWxpdHlTZXJ2aWNlLmRvdWJsZURpZ2l0KHRoaXMuc2F2ZWRUaW1lWm9uZSk7XG4gICAgICAgICAgICBkYXRlU3RyaW5nICs9ICc6MDAnO1xuICAgICAgICAgICAgcmV0dXJuIGRhdGVTdHJpbmc7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcEVuY29kZVNlcnZpY2U6c3RyaW5naWZ5U2hhcmVQb2ludE11bHRpU2VsZWN0XG4gICAgICAgICAqIEBtZXRob2RPZiBhbmd1bGFyUG9pbnQuYXBFbmNvZGVTZXJ2aWNlXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBUdXJucyBhbiBhcnJheSBvZiwgdHlwaWNhbGx5IHtsb29rdXBJZDogc29tZUlkLCBsb29rdXBWYWx1ZTogc29tZVZhbHVlfSwgb2JqZWN0cyBpbnRvIGEgc3RyaW5nXG4gICAgICAgICAqIG9mIGRlbGltaXRlZCBpZCdzIHRoYXQgY2FuIGJlIHBhc3NlZCB0byBTaGFyZVBvaW50IGZvciBhIG11bHRpIHNlbGVjdCBsb29rdXAgb3IgbXVsdGkgdXNlciBzZWxlY3Rpb25cbiAgICAgICAgICogZmllbGQuICBTaGFyZVBvaW50IGRvZXNuJ3QgbmVlZCB0aGUgbG9va3VwIHZhbHVlcyBzbyB3ZSBvbmx5IG5lZWQgdG8gcGFzcyB0aGUgSUQncyBiYWNrLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdFtdfSBtdWx0aVNlbGVjdFZhbHVlIEFycmF5IG9mIHtsb29rdXBJZDogIywgbG9va3VwVmFsdWU6ICdTb21lIFZhbHVlJ30gb2JqZWN0cy5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtpZFByb3BlcnR5PSdsb29rdXBJZCddIFByb3BlcnR5IG5hbWUgd2hlcmUgd2UnbGwgZmluZCB0aGUgSUQgdmFsdWUgb24gZWFjaCBvZiB0aGUgb2JqZWN0cy5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFt2YWx1ZVByb3BlcnR5PSdsb29rdXBWYWx1ZSddIFByb3BlcnR5IG5hbWUgd2hlcmUgd2UnbGwgZmluZCB0aGUgdmFsdWUgZm9yIHRoaXMgb2JqZWN0LlxuICAgICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBOZWVkIHRvIGZvcm1hdCBzdHJpbmcgb2YgaWQncyBpbiBmb2xsb3dpbmcgZm9ybWF0IFtJRDBdOyM7I1tJRDFdOyM7I1tJRDFdXG4gICAgICAgICAqL1xuICAgICAgICBzdHJpbmdpZnlTaGFyZVBvaW50TXVsdGlTZWxlY3QobXVsdGlTZWxlY3RWYWx1ZTogSUxvb2t1cFtdLCBpZFByb3BlcnR5ID0gJ2xvb2t1cElkJywgdmFsdWVQcm9wZXJ0eSA9ICdsb29rdXBWYWx1ZScpOiBzdHJpbmcge1xuICAgICAgICAgICAgdmFyIHN0cmluZ2lmaWVkVmFsdWVzID0gJyc7XG4gICAgICAgICAgICB2YXIgaWRQcm9wID0gaWRQcm9wZXJ0eSB8fCAnbG9va3VwSWQnO1xuICAgICAgICAgICAgdmFyIHZhbFByb3AgPSB2YWx1ZVByb3BlcnR5IHx8ICdsb29rdXBWYWx1ZSc7XG4gICAgICAgICAgICBfLmVhY2gobXVsdGlTZWxlY3RWYWx1ZSwgZnVuY3Rpb24gKGxvb2t1cE9iamVjdCwgaXRlcmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgLyoqIE5lZWQgdG8gZm9ybWF0IHN0cmluZyBvZiBpZCdzIGluIGZvbGxvd2luZyBmb3JtYXQgW0lEMF07I1tWQUwwXTsjW0lEMV07I1tWQUwxXTsjICovXG4gICAgICAgICAgICAgICAgc3RyaW5naWZpZWRWYWx1ZXMgKz0gbG9va3VwT2JqZWN0W2lkUHJvcF0gKyAnOyMnICsgKGxvb2t1cE9iamVjdFt2YWxQcm9wXSB8fCAnJyk7XG4gICAgICAgICAgICAgICAgaWYgKGl0ZXJhdGlvbiA8IG11bHRpU2VsZWN0VmFsdWUubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0cmluZ2lmaWVkVmFsdWVzICs9ICc7Iyc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gc3RyaW5naWZpZWRWYWx1ZXM7XG4gICAgICAgIH1cblxuXG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2Mgc2VydmljZVxuICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcEVuY29kZVNlcnZpY2VcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBQcm9jZXNzZXMgSmF2YVNjcmlwdCBvYmplY3RzIGFuZCBjb252ZXJ0cyB0aGVtIHRvIGEgZm9ybWF0IFNoYXJlUG9pbnQgZXhwZWN0cy5cbiAgICAgKlxuICAgICAqIEByZXF1aXJlcyBhbmd1bGFyUG9pbnQuYXBVdGlsaXR5U2VydmljZVxuICAgICAqL1xuICAgIGFuZ3VsYXIubW9kdWxlKCdhbmd1bGFyUG9pbnQnKVxuICAgICAgICAuc2VydmljZSgnYXBFbmNvZGVTZXJ2aWNlJywgRW5jb2RlU2VydmljZSk7XG59XG4iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy9hcC5kLnRzXCIgLz5cblxubW9kdWxlIGFwIHtcbiAgICAndXNlIHN0cmljdCc7XG5cblxuICAgIGV4cG9ydCBjbGFzcyBFeHBvcnRTZXJ2aWNlIHtcbiAgICAgICAgY29uc3RydWN0b3IocHJpdmF0ZSBhcFV0aWxpdHlTZXJ2aWNlLCBwcml2YXRlIGFwRm9ybWF0dGVkRmllbGRWYWx1ZVNlcnZpY2UpIHtcblxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBFeHBvcnRTZXJ2aWNlOmdlbmVyYXRlQ1NWXG4gICAgICAgICAqIEBtZXRob2RPZiBhbmd1bGFyUG9pbnQuYXBFeHBvcnRTZXJ2aWNlXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBDb252ZXJ0cyBhbiBhcnJheSBvZiBvYmplY3RzIGludG8gYSBwYXJzZWQgYXJyYXkgb2YgYXJyYXlzIGJhc2VkIG9uIGEgZmllbGQgY29uZmlnIG9iamVjdC5cbiAgICAgICAgICogQHBhcmFtIHtvYmplY3RbXX0gZW50aXRpZXMgQXJyYXkgb2Ygb2JqZWN0cyB0byBjb252ZXJ0LlxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdHxzdHJpbmdbXX0gZmllbGRzIEFycmF5IG9mIG9iamVjdHMgZGVmaW5pbmcgdGhlIGZpZWxkcyB0byBwYXJzZS4gIENhbiBhbHNvIHBhc3MgaW4gc3RyaW5ncyByZXByZXNlbnRpbmcgdGhlIG5hbWUgb2YgdGhlIGZpZWxkIHdoaWNoIHdpbGwgdGhlbiBiZSBwYXJzZWQgYmFzZWQgb24gZmllbGQgdHlwZS5cbiAgICAgICAgICogRmllbGREZWZpbml0aW9uOlxuICAgICAgICAgKiB7c3RyaW5nfSBvYmplY3QuZmllbGQgUHJvcGVydHkgbmFtZSBvbiB0aGUgb2JqZWN0IHRoYXQgd2Ugd2FudCB0byBwYXJzZS5cbiAgICAgICAgICoge3N0cmluZ30gW29iamVjdC5sYWJlbD1vYmplY3QuZmllbGQgY2FwaXRhbGl6ZWRdIENvbHVtbiBMYWJlbFxuICAgICAgICAgKiB7ZnVuY3Rpb259IFtvYmplY3QuZ2V0VmFsXSBDdXN0b20gZnVuY3Rpb24gdGhhdCBvdmVycmlkZXMgdGhlIGRlZmF1bHQgbWV0aG9kIG9mIHBhcnNpbmcgYmFzZWQgb24gZmllbGQgdHlwZS5cbiAgICAgICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSBPcHRpb25hbCBjb25maWcgc2V0dGluZ3MuXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5kZWxpbT0nOyAnXSBEZWxpbWl0ZXIgdXNlZCB0byBzZXBhcmF0ZSBmaWVsZHMgdGhhdCBwb3RlbnRpYWxseSBjb250YWluIG11bHRpcGxlIHZhbHVlcyB0aGF0IHdpbGwgYmUgY29uY2F0ZW5hdGVkIGludG8gYSBzdHJpbmcuXG4gICAgICAgICAqIEByZXR1cm5zIHthcnJheVtdfSBSZXR1cm4gYXJyYXkgb2YgYXJyYXlzLCB3aXRoIHRoZSBmaXJzdCBhcnJheSBiZWluZyB0aGUgY29sdW1uIG5hbWVzIGFuZCBldmVyeSBzdWJzZXF1ZW50IGFycmF5IHJlcHJlc2VudGluZyBhIHJvdyBpbiB0aGUgY3N2IGRhdGFzZXQuXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIDxwcmU+XG4gICAgICAgICAqIHZhciBjdXN0b21EZWxpbWl0ZXIgPSAnIHwgJztcbiAgICAgICAgICogdmFyIHNhdmVDU1YgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAqICAgIHZhciBwYXJzZWRDU1YgPSBhcEV4cG9ydFNlcnZpY2UuZ2VuZXJhdGVDU1YoZW50aXRpZXMsIFtcbiAgICAgICAgICAgICAqICAgICAvL0ZpZWxkIGRlZmluaXRpb25cbiAgICAgICAgICAgICAqICAgICB7IGxhYmVsOiAnSUQnLCBmaWVsZDogJ2lkJyB9LFxuICAgICAgICAgICAgICogICAgIC8vRmllbGQgYXMgc2ltcGxlIHN0cmluZ1xuICAgICAgICAgICAgICogICAgICd0aXRsZScsXG4gICAgICAgICAgICAgKiAgICAgJ3Byb2plY3QnLFxuICAgICAgICAgICAgICogICAgIHsgbGFiZWw6ICdQcm9qZWN0OklEJywgZmllbGQ6ICdwcm9qZWN0Lmxvb2t1cElkJyB9LFxuICAgICAgICAgICAgICogICAgIHsgbGFiZWw6ICdUeXBlJywgZmllbGQ6ICdldmVudFR5cGUnIH0sXG4gICAgICAgICAgICAgKiAgICAgeyBsYWJlbDogJ1N0YXJ0IERhdGUnLCBmaWVsZDogJ3N0YXJ0RGF0ZScgfSxcbiAgICAgICAgICAgICAqICAgICB7IGxhYmVsOiAnRW5kIERhdGUnLCBmaWVsZDogJ2VuZERhdGUnIH0sXG4gICAgICAgICAgICAgKiAgICAgJ2xvY2F0aW9uJyxcbiAgICAgICAgICAgICAqICAgICAnZGVzY3JpcHRpb24nLFxuICAgICAgICAgICAgICogICAgIC8vRmllbGQgZGVmaW5pdGlvbiB3aXRoIGN1c3RvbSBwYXJzZSBsb2dpY1xuICAgICAgICAgICAgICogICAgIHsgbGFiZWw6ICdDb21tZW50cycsIGZpZWxkOiAnY29tbWVudHMnLCBzdHJpbmdpZnk6IGZ1bmN0aW9uIChjb21tZW50cykge1xuICAgICAgICAgICAgICogICAgICAgdmFyIHN0ciA9ICcnO1xuICAgICAgICAgICAgICogICAgICAgXy5lYWNoKGNvbW1lbnRzLCBmdW5jdGlvbiAoY29tbWVudCwgaSkge1xuICAgICAgICAgICAgICogICAgICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgICAgICAqICAgICAgICAgICBzdHIgKz0gJ1xcbic7XG4gICAgICAgICAgICAgKiAgICAgICAgIH1cbiAgICAgICAgICAgICAqICAgICAgICAgc3RyICs9IGNvbW1lbnQudGV4dCArICdcXG4nO1xuICAgICAgICAgICAgICogICAgICAgfSk7XG4gICAgICAgICAgICAgKiAgICAgICByZXR1cm4gc3RyO1xuICAgICAgICAgICAgICogICAgIH19XG4gICAgICAgICAgICAgKiAgIF0pO1xuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqICAgLy9TYXZlIHRvIHVzZXIncyBtYWNoaW5lXG4gICAgICAgICAgICAgKiAgIGFwRXhwb3J0U2VydmljZS5zYXZlQ1NWKHBhcnNlZENTViwgJ015RmlsZScsIHtkZWxpbTogY3VzdG9tRGVsaW1pdGVyfSk7XG4gICAgICAgICAgICAgKiB9XG4gICAgICAgICAqIDwvcHJlPlxuICAgICAgICAgKlxuICAgICAgICAgKi9cbiAgICAgICAgZ2VuZXJhdGVDU1YoZW50aXRpZXM6IExpc3RJdGVtW10sIGZpZWxkczogW3N0cmluZ1tdfE9iamVjdFtdXSwgb3B0aW9ucz86e2RlbGltOnN0cmluZ30pOiBbW3N0cmluZ1tdXVtdXSB7XG4gICAgICAgICAgICB2YXIgZGVmYXVsdHMgPSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGVGb3JtYXQ6ICdqc29uJywgLy9Gb3JtYXQgYXMgSlNPTiBkYXRlIHJhdGhlciB0aGFuIGEgZm9ybWFsIGRhdGUgc3RyaW5nXG4gICAgICAgICAgICAgICAgICAgIGRlbGltOiAnOyAnLFxuICAgICAgICAgICAgICAgICAgICBpbmNsdWRlVGl0bGVSb3c6IHRydWVcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9wdHMgPSBfLmV4dGVuZCh7fSwgZGVmYXVsdHMsIG9wdGlvbnMpLFxuICAgICAgICAgICAgICAgIGVudGl0aWVzQXJyYXkgPSBbXG4gICAgICAgICAgICAgICAgICAgIFtdXG4gICAgICAgICAgICAgICAgXTtcblxuICAgICAgICAgICAgLyoqIFByb2Nlc3MgZWFjaCBvZiB0aGUgZW50aXRpZXMgaW4gdGhlIGRhdGEgc291cmNlICovXG4gICAgICAgICAgICBfLmVhY2goZW50aXRpZXMsIChlbnRpdHksIGVudGl0eUluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIGVudGl0eUFycmF5ID0gW107XG4gICAgICAgICAgICAgICAgLyoqIFByb2Nlc3MgZWFjaCBvZiB0aGUgc3BlY2lmaWVkIGZpZWxkcyAqL1xuICAgICAgICAgICAgICAgIF8uZWFjaChmaWVsZHMsIChmKSA9PiB7XG5cbiAgICAgICAgICAgICAgICAgICAgLyoqIEhhbmRsZSBib3RoIHN0cmluZyBhbmQgb2JqZWN0IGRlZmluaXRpb24gKi9cbiAgICAgICAgICAgICAgICAgICAgdmFyIGZpZWxkRGVmaW5pdGlvbiA9IF8uaXNTdHJpbmcoZikgPyB7ZmllbGQ6IGZ9IDogZjtcblxuICAgICAgICAgICAgICAgICAgICAvKiogU3BsaXQgdGhlIGZpZWxkIG5hbWUgZnJvbSB0aGUgcHJvcGVydHkgaWYgcHJvdmlkZWQgKi9cbiAgICAgICAgICAgICAgICAgICAgdmFyIGZpZWxkQ29tcG9uZW50cyA9IGZpZWxkRGVmaW5pdGlvbi5maWVsZC5zcGxpdCgnLicpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcHJvcGVydHlOYW1lID0gZmllbGRDb21wb25lbnRzWzBdO1xuXG4gICAgICAgICAgICAgICAgICAgIC8qKiBGaXJzdCBhcnJheSBoYXMgdGhlIGZpZWxkIG5hbWVzICovXG4gICAgICAgICAgICAgICAgICAgIGlmIChlbnRpdHlJbmRleCA9PT0gMCAmJiBvcHRzLmluY2x1ZGVUaXRsZVJvdykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLyoqIFRha2UgYSBiZXN0IGd1ZXNzIGlmIGEgY29sdW1uIGxhYmVsIGlzbid0IHNwZWNpZmllZCBieSBjYXBpdGFsaXppbmcgYW5kIGluc2VydGluZyBzcGFjZXMgYmV0d2VlbiBjYW1lbCBodW1wcyovXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGFiZWwgPSBmaWVsZERlZmluaXRpb24ubGFiZWwgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkRGVmaW5pdGlvbi5sYWJlbCA6IHRoaXMuYXBVdGlsaXR5U2VydmljZS5mcm9tQ2FtZWxDYXNlKHByb3BlcnR5TmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbnRpdGllc0FycmF5WzBdLnB1c2gobGFiZWwpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHZhbCA9ICcnO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChfLmlzRnVuY3Rpb24oZmllbGREZWZpbml0aW9uLnN0cmluZ2lmeSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKiBBbGxvd3MgdXMgdG8gb3ZlcnJpZGUgc3RhbmRhcmQgZmllbGQgbG9naWMgZm9yIHNwZWNpYWwgY2FzZXMgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbCA9IGZpZWxkRGVmaW5pdGlvbi5zdHJpbmdpZnkoZW50aXR5W2ZpZWxkRGVmaW5pdGlvbi5maWVsZF0pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGZpZWxkQ29tcG9uZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvKiogQWxsb3cgdXNlciB0byBzcGVjaWZ5IGRvdCBzZXBhcmF0ZWQgcHJvcGVydHkgcGF0aCAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF8uZGVlcEluKGVudGl0eSwgZmllbGREZWZpbml0aW9uLmZpZWxkKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbCA9IF8uZGVlcEdldChlbnRpdHksIGZpZWxkRGVmaW5pdGlvbi5maWVsZCkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKiBHZXQgdGhlIHZhbHVlIGJhc2VkIG9uIGZpZWxkIHR5cGUgZGVmaW5lZCBpbiB0aGUgbW9kZWwgZm9yIHRoZSBlbnRpdHkqL1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1vZGVsRGVmaW5pdGlvbiA9IGVudGl0eS5nZXRGaWVsZERlZmluaXRpb24ocHJvcGVydHlOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbCA9IHRoaXMuYXBGb3JtYXR0ZWRGaWVsZFZhbHVlU2VydmljZS5nZXRGb3JtYXR0ZWRGaWVsZFZhbHVlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudGl0eVtmaWVsZERlZmluaXRpb24uZmllbGRdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsRGVmaW5pdGlvbi5vYmplY3RUeXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdHNcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvKiogQWRkIHN0cmluZyB0byBjb2x1bW4gKi9cbiAgICAgICAgICAgICAgICAgICAgZW50aXR5QXJyYXkucHVzaCh2YWwpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIC8qKiBBZGQgcm93ICovXG4gICAgICAgICAgICAgICAgZW50aXRpZXNBcnJheS5wdXNoKGVudGl0eUFycmF5KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGVudGl0aWVzQXJyYXk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIFJlcGxhY2VzIGNvbW1vbmx5LXVzZWQgV2luZG93cyAxMjUyIGVuY29kZWQgY2hhcnMgdGhhdCBkbyBub3QgZXhpc3QgaW4gQVNDSUkgb3JcbiAgICAgICAgICogIElTTy04ODU5LTEgd2l0aCBJU08tODg1OS0xIGNvZ25hdGVzLlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCBUZXh0IHRvIGJlIHZhbGlkYXRlZCBhbmQgY2xlYW5lZC5cbiAgICAgICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHJlcGxhY2VXb3JkQ2hhcnModGV4dDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgICAgIHZhciBzID0gdGV4dDtcbiAgICAgICAgICAgIC8vIHNtYXJ0IHNpbmdsZSBxdW90ZXMgYW5kIGFwb3N0cm9waGVcbiAgICAgICAgICAgIHMgPSBzLnJlcGxhY2UoL1tcXHUyMDE4fFxcdTIwMTl8XFx1MjAxQV0vZywgXCJcXCdcIik7XG4gICAgICAgICAgICAvLyBzbWFydCBkb3VibGUgcXVvdGVzXG4gICAgICAgICAgICBzID0gcy5yZXBsYWNlKC9bXFx1MjAxQ3xcXHUyMDFEfFxcdTIwMUVdL2csIFwiXFxcIlwiKTtcbiAgICAgICAgICAgIC8vIGVsbGlwc2lzXG4gICAgICAgICAgICBzID0gcy5yZXBsYWNlKC9cXHUyMDI2L2csIFwiLi4uXCIpO1xuICAgICAgICAgICAgLy8gZGFzaGVzXG4gICAgICAgICAgICBzID0gcy5yZXBsYWNlKC9bXFx1MjAxM3xcXHUyMDE0XS9nLCBcIi1cIik7XG4gICAgICAgICAgICAvLyBjaXJjdW1mbGV4XG4gICAgICAgICAgICBzID0gcy5yZXBsYWNlKC9cXHUwMkM2L2csIFwiXlwiKTtcbiAgICAgICAgICAgIC8vIG9wZW4gYW5nbGUgYnJhY2tldFxuICAgICAgICAgICAgcyA9IHMucmVwbGFjZSgvXFx1MjAzOS9nLCBcIjxcIik7XG4gICAgICAgICAgICAvLyBjbG9zZSBhbmdsZSBicmFja2V0XG4gICAgICAgICAgICBzID0gcy5yZXBsYWNlKC9cXHUyMDNBL2csIFwiPlwiKTtcbiAgICAgICAgICAgIC8vIHNwYWNlc1xuICAgICAgICAgICAgcyA9IHMucmVwbGFjZSgvW1xcdTAyREN8XFx1MDBBMF0vZywgXCIgXCIpO1xuICAgICAgICAgICAgcmV0dXJuIHM7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcEV4cG9ydFNlcnZpY2U6c2F2ZUNTVlxuICAgICAgICAgKiBAbWV0aG9kT2YgYW5ndWxhclBvaW50LmFwRXhwb3J0U2VydmljZVxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogQ29udmVydHMgYW4gYXJyYXkgb2YgYXJyYXlzIGludG8gYSB2YWxpZCBDU1YgZmlsZSB0aGF0IGlzIHRoZW4gZG93bmxvYWRlZCB0byB0aGUgdXNlcnMgbWFjaGluZVxuICAgICAgICAgKiBAcmVxdWlyZXMgYW5ndWxhclBvaW50LmFwRXhwb3J0U2VydmljZTpzYXZlRmlsZVxuICAgICAgICAgKiBAcGFyYW0ge2FycmF5W119IGRhdGEgQXJyYXkgb2YgYXJyYXlzIHRoYXQgd2UnZCBsaWtlIHRvIGR1bXAgdG8gYSBDU1YgZmlsZSBhbmQgc2F2ZSB0byB0aGUgbG9jYWwgbWFjaGluZS5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtmaWxlbmFtZT1kZWJ1Zy5jc3ZdIE9wdGlvbmFsbHkgbmFtZSB0aGUgZmlsZS5cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogPHByZT5cbiAgICAgICAgICogLy9MZXRzIGFzc3VtZSB3ZSB3YW50IHRvIGxvb2tzIGF0IGFuIG9iamVjdCB0aGF0IGlzIHRvbyBiaWcgdG8gYmUgZWFzaWx5IHZpZXdlZCBpbiB0aGUgY29uc29sZS5cbiAgICAgICAgICogYXBFeHBvcnRTZXJ2aWNlLnNhdmVDU1Yob2JqZWN0VG9TYXZlLCAnTXlGaWxlJyk7XG4gICAgICAgICAqIC8vVGhpcyB3b3VsZCBkb3dubG9hZCBhIGZpbGUgbmFtZWQgTXlGaWxlLmNzdlxuICAgICAgICAgKiA8L3ByZT5cbiAgICAgICAgICpcbiAgICAgICAgICovXG4gICAgICAgIHNhdmVDU1YoZGF0YTogW1tzdHJpbmdbXV1bXV0sIGZpbGVuYW1lID0gJ2RlYnVnLmNzdicpOiB2b2lkIHtcbiAgICAgICAgICAgIHZhciBjc3ZTdHJpbmcgPSAnJztcbiAgICAgICAgICAgIF8uZWFjaChkYXRhLCBmdW5jdGlvbiAocm93KSB7XG4gICAgICAgICAgICAgICAgXy5lYWNoKHJvdywgZnVuY3Rpb24gKGNvbHVtbiwgY29sdW1uSW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGNvbHVtbiA9PT0gbnVsbCA/ICcnIDogdGhpcy5yZXBsYWNlV29yZENoYXJzKGNvbHVtbik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb2x1bW5JbmRleCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNzdlN0cmluZyArPSAnLCc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLyoqIEVzY2FwZSBzaW5nbGUgcXVvdGVzIHdpdGggZG91YmxlcyBpbiB3aXRoaW4gdGhlIHN0cmluZyAqL1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSByZXN1bHQucmVwbGFjZSgvXCIvZywgJ1wiXCInKTtcblxuICAgICAgICAgICAgICAgICAgICAvKiogU3Vycm91bmQgc3RyaW5nIHdpdGggcXVvdGVzIHNvIHdlIGNhbiBoYXZlIGxpbmUgYnJlYWtzICovXG4gICAgICAgICAgICAgICAgICAgIGNzdlN0cmluZyArPSAnXCInICsgcmVzdWx0ICsgJ1wiJztcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjc3ZTdHJpbmcgKz0gJ1xcbic7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuc2F2ZUZpbGUoY3N2U3RyaW5nLCAnY3N2O2NoYXJzZXQ9dXRmLTg7JywgZmlsZW5hbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBFeHBvcnRTZXJ2aWNlOnNhdmVGaWxlXG4gICAgICAgICAqIEBtZXRob2RPZiBhbmd1bGFyUG9pbnQuYXBFeHBvcnRTZXJ2aWNlXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBVc2VkIHRvIGNvbnZlcnQgYSBKUyBvYmplY3Qgb3IgWE1MIGRvY3VtZW50IGludG8gYSBmaWxlIHRoYXQgaXMgdGhlbiBkb3dubG9hZGVkIG9uIHRoZSB1c2Vyc1xuICAgICAgICAgKiBsb2NhbCBtYWNoaW5lLiAgT3JpZ2luYWwgd29yayBsb2NhdGVkOlxuICAgICAgICAgKiBbaGVyZV0oaHR0cDovL2Jncmlucy5naXRodWIuaW8vZGV2dG9vbHMtc25pcHBldHMvI2NvbnNvbGUtc2F2ZSkuXG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBkYXRhIEpTIG9iamVjdCB0aGF0IHdlJ2QgbGlrZSB0byBkdW1wIHRvIGEgSlNPTiBmaWxlIGFuZCBzYXZlIHRvIHRoZSBsb2NhbCBtYWNoaW5lLlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gZmlsZVR5cGUgQ2FuIGJlIGVpdGhlciAneG1sJyBvciAnanNvbicuXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbZmlsZW5hbWU9ZGVidWcuanNvbl0gT3B0aW9uYWxseSBuYW1lIHRoZSBmaWxlLlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiA8cHJlPlxuICAgICAgICAgKiAvL0xldHMgYXNzdW1lIHdlIHdhbnQgdG8gbG9va3MgYXQgYW4gb2JqZWN0IHRoYXQgaXMgdG9vIGJpZyB0byBiZSBlYXNpbHkgdmlld2VkIGluIHRoZSBjb25zb2xlLlxuICAgICAgICAgKiBhcEV4cG9ydFNlcnZpY2Uuc2F2ZUpTT04ob2JqZWN0VG9TYXZlLCAnbXlvYmplY3QuanNvbicpO1xuICAgICAgICAgKiA8L3ByZT5cbiAgICAgICAgICpcbiAgICAgICAgICovXG4gICAgICAgIHNhdmVGaWxlKGRhdGEsIGZpbGVUeXBlOiBzdHJpbmcsIGZpbGVuYW1lID0gJ2RlYnVnLmpzb24nKSB7XG4gICAgICAgICAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdhcEV4cG9ydFNlcnZpY2Uuc2F2ZScgKyBmaWxlVHlwZS50b1VwcGVyQ2FzZSgpICsgJzogTm8gZGF0YScpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLyoqIElmIHBhc3NlZCBpbiBmaWxlVHlwZT1cImNzdjtjaGFyc2V0PXV0Zi04O1wiIHdlIGp1c3Qgd2FudCB0byB1c2UgXCJjc3ZcIiAqL1xuICAgICAgICAgICAgdmFyIGZpbGVFeHRlbnNpb24gPSBmaWxlVHlwZS5zcGxpdCgnOycpWzBdO1xuXG4gICAgICAgICAgICBpZiAoIWZpbGVuYW1lKSB7XG4gICAgICAgICAgICAgICAgZmlsZW5hbWUgPSAnZGVidWcuJyArIGZpbGVFeHRlbnNpb247XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChmaWxlVHlwZSA9PT0gJ2pzb24nICYmIHR5cGVvZiBkYXRhID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgIGRhdGEgPSBKU09OLnN0cmluZ2lmeShkYXRhLCB1bmRlZmluZWQsIDQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgYmxvYiA9IG5ldyBCbG9iKFtkYXRhXSwge3R5cGU6ICd0ZXh0LycgKyBmaWxlVHlwZX0pLFxuICAgICAgICAgICAgICAgIGUgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnTW91c2VFdmVudHMnKSxcbiAgICAgICAgICAgICAgICBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuXG4gICAgICAgICAgICBhLmRvd25sb2FkID0gZmlsZW5hbWU7XG4gICAgICAgICAgICBhLmhyZWYgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgICAgICAgICAgIGEuZGF0YXNldC5kb3dubG9hZHVybCA9IFsndGV4dC8nICsgZmlsZVR5cGUsIGEuZG93bmxvYWQsIGEuaHJlZl0uam9pbignOicpO1xuICAgICAgICAgICAgZS5pbml0TW91c2VFdmVudCgnY2xpY2snLCB0cnVlLCBmYWxzZSwgd2luZG93LCAwLCAwLCAwLCAwLCAwLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgMCwgbnVsbCk7XG4gICAgICAgICAgICBhLmRpc3BhdGNoRXZlbnQoZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcEV4cG9ydFNlcnZpY2U6c2F2ZUpTT05cbiAgICAgICAgICogQG1ldGhvZE9mIGFuZ3VsYXJQb2ludC5hcEV4cG9ydFNlcnZpY2VcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIFNpbXBsZSBjb252ZW5pZW5jZSBmdW5jdGlvbiB0aGF0IHVzZXMgYW5ndWxhclBvaW50LmFwRXhwb3J0U2VydmljZTpzYXZlRmlsZSB0byBkb3dubG9hZCBqc29uIHRvIHRoZSBsb2NhbCBtYWNoaW5lLlxuICAgICAgICAgKiBAcmVxdWlyZXMgYW5ndWxhclBvaW50LmFwRXhwb3J0U2VydmljZTpzYXZlRmlsZVxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gZGF0YSBKUyBvYmplY3QgdGhhdCB3ZSdkIGxpa2UgdG8gZHVtcCB0byBhIEpTT04gZmlsZSBhbmQgc2F2ZSB0byB0aGUgbG9jYWwgbWFjaGluZS5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtmaWxlbmFtZT1kZWJ1Zy5qc29uXSBPcHRpb25hbGx5IG5hbWUgdGhlIGZpbGUuXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIDxwcmU+XG4gICAgICAgICAqIC8vTGV0cyBhc3N1bWUgd2Ugd2FudCB0byBsb29rcyBhdCBhbiBvYmplY3QgdGhhdCBpcyB0b28gYmlnIHRvIGJlIGVhc2lseSB2aWV3ZWQgaW4gdGhlIGNvbnNvbGUuXG4gICAgICAgICAqIGFwRXhwb3J0U2VydmljZS5zYXZlSlNPTihvYmplY3RUb1NhdmUsICdteW9iamVjdC5qc29uJyk7XG4gICAgICAgICAqIDwvcHJlPlxuICAgICAgICAgKlxuICAgICAgICAgKi9cbiAgICAgICAgc2F2ZUpTT04oZGF0YTpPYmplY3QsIGZpbGVuYW1lID0gJ2RlYnVnLmpzb24nKSB7XG4gICAgICAgICAgICB0aGlzLnNhdmVGaWxlKGRhdGEsICdqc29uJywgZmlsZW5hbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBFeHBvcnRTZXJ2aWNlOnNhdmVYTUxcbiAgICAgICAgICogQG1ldGhvZE9mIGFuZ3VsYXJQb2ludC5hcEV4cG9ydFNlcnZpY2VcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIFNpbXBsZSBjb252ZW5pZW5jZSBmdW5jdGlvbiB0aGF0IHVzZXMgYW5ndWxhclBvaW50LmFwRXhwb3J0U2VydmljZTpzYXZlRmlsZSB0byBkb3dubG9hZCB4bWwgdG8gdGhlIGxvY2FsIG1hY2hpbmUuXG4gICAgICAgICAqIEByZXF1aXJlcyBhbmd1bGFyUG9pbnQuYXBFeHBvcnRTZXJ2aWNlOnNhdmVGaWxlXG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBkYXRhIFhNTCBvYmplY3QgdGhhdCB3ZSdkIGxpa2UgdG8gZHVtcCB0byBhIFhNTCBmaWxlIGFuZCBzYXZlIHRvIHRoZSBsb2NhbCBtYWNoaW5lLlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2ZpbGVuYW1lPWRlYnVnLnhtbF0gT3B0aW9uYWxseSBuYW1lIHRoZSBmaWxlLlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiA8cHJlPlxuICAgICAgICAgKiAvL0xldHMgYXNzdW1lIHdlIHdhbnQgdG8gbG9va3MgYXQgYW4gb2JqZWN0IHRoYXQgaXMgdG9vIGJpZyB0byBiZSBlYXNpbHkgdmlld2VkIGluIHRoZSBjb25zb2xlLlxuICAgICAgICAgKiBhcEV4cG9ydFNlcnZpY2Uuc2F2ZVhNTChvYmplY3RUb1NhdmUsICdteW9iamVjdC54bWwnKTtcbiAgICAgICAgICogPC9wcmU+XG4gICAgICAgICAqXG4gICAgICAgICAqL1xuICAgICAgICBzYXZlWE1MKGRhdGE6IFhNTERvY3VtZW50LCBmaWxlbmFtZSA9ICdkZWJ1Zy54bWwnKSB7XG4gICAgICAgICAgICB0aGlzLnNhdmVGaWxlKGRhdGEsICd4bWwnLCBmaWxlbmFtZSk7XG4gICAgICAgIH1cblxuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIHNlcnZpY2VcbiAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBFeHBvcnRTZXJ2aWNlXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogVG9vbHMgdG8gYXNzaXN0IHdpdGggZGV2ZWxvcG1lbnQuXG4gICAgICogQHJlcXVpcmVzIGFuZ3VsYXJQb2ludC5hcFV0aWxpdHlTZXJ2aWNlXG4gICAgICovXG4gICAgYW5ndWxhci5tb2R1bGUoJ2FuZ3VsYXJQb2ludCcpXG4gICAgICAgIC5zZXJ2aWNlKCdhcEV4cG9ydFNlcnZpY2UnLCBFeHBvcnRTZXJ2aWNlKTtcblxufVxuIiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3MvYXAuZC50c1wiIC8+XG5cbm1vZHVsZSBhcCB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIHVuaXF1ZUNvdW50ID0gMDtcblxuXG4gICAgaW50ZXJmYWNlIElGaWVsZFR5cGUge1xuICAgICAgICBkZWZhdWx0VmFsdWU6IHN0cmluZztcbiAgICAgICAgZHluYW1pY01vY2s6IEZ1bmN0aW9uO1xuICAgICAgICBzdGF0aWNNb2NrOmFueTtcbiAgICB9XG5cbiAgICBleHBvcnQgY2xhc3MgRmllbGRTZXJ2aWNlIHtcbiAgICAgICAgZmllbGRUeXBlczp7W2tleTogc3RyaW5nXTogSUZpZWxkRGVmaW5pdGlvbn07XG4gICAgICAgIGdldERlZmF1bHRWYWx1ZUZvclR5cGUgPSBnZXREZWZhdWx0VmFsdWVGb3JUeXBlO1xuICAgICAgICBnZXREZWZpbml0aW9uID0gZ2V0RGVmaW5pdGlvbjtcbiAgICAgICAgZ2V0TW9ja0RhdGEgPSBnZXRNb2NrRGF0YTtcbiAgICAgICAgbW9ja1Blcm1NYXNrID0gbW9ja1Blcm1NYXNrO1xuICAgICAgICByZXNvbHZlVmFsdWVGb3JFZmZlY3RpdmVQZXJtTWFzayA9IHJlc29sdmVWYWx1ZUZvckVmZmVjdGl2ZVBlcm1NYXNrO1xuXG4gICAgICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAgICAgdGhpcy5maWVsZFR5cGVzID0gZ2V0RmllbGRUeXBlcygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqIFN0b3JlIGFzIGEgZnVuY3Rpb24gdG8gZW5zdXJlIHdlIGluc3RhbnRpYXRlIG5ldyBvYmplY3RzIGZvciBkZWZhdWx0IHZhbHVlcyBpbnN0ZWFkXG4gICAgICogIG9mIGhhdmluZyBhbGwgYmxhbmsgZmllbGQgdGhhdCBoYXZlIGFuIGFycmF5IGZvciBhIGRlZmF1bHQgdmFsdWUgc2hhcmUgdGhlIHNhbWUgYXJyYXkgKi9cbiAgICBmdW5jdGlvbiBnZXRGaWVsZFR5cGVzKCkge1xuICAgICAgICAvKiogRmllbGQgdHlwZXMgdXNlZCBvbiB0aGUgbW9kZWxzIHRvIGNyZWF0ZSBhIGZpZWxkIGRlZmluaXRpb24gKi9cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIFRleHQ6IHtcbiAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU6ICcnLFxuICAgICAgICAgICAgICAgIHN0YXRpY01vY2s6ICdUZXN0IFN0cmluZycsXG4gICAgICAgICAgICAgICAgZHluYW1pY01vY2s6IHJhbmRvbVN0cmluZ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIE5vdGU6IHtcbiAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU6ICcnLFxuICAgICAgICAgICAgICAgIHN0YXRpY01vY2s6ICdUaGlzIGlzIGEgc2VudGVuY2UuJyxcbiAgICAgICAgICAgICAgICBkeW5hbWljTW9jazogcmFuZG9tUGFyYWdyYXBoXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgQm9vbGVhbjoge1xuICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogbnVsbCxcbiAgICAgICAgICAgICAgICBzdGF0aWNNb2NrOiB0cnVlLFxuICAgICAgICAgICAgICAgIGR5bmFtaWNNb2NrOiByYW5kb21Cb29sZWFuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgQ2FsY3VsYXRlZDoge1xuICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogbnVsbCxcbiAgICAgICAgICAgICAgICBzdGF0aWNNb2NrOiAnZmxvYXQ7IzEyMy40NScsXG4gICAgICAgICAgICAgICAgZHluYW1pY01vY2s6IHJhbmRvbUNhbGNcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBDaG9pY2U6IHtcbiAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU6ICcnLFxuICAgICAgICAgICAgICAgIHN0YXRpY01vY2s6ICdNeSBDaG9pY2UnLFxuICAgICAgICAgICAgICAgIGR5bmFtaWNNb2NrOiByYW5kb21TdHJpbmdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBDb3VudGVyOiB7XG4gICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiBudWxsLFxuICAgICAgICAgICAgICAgIHN0YXRpY01vY2s6IGdldFVuaXF1ZUNvdW50ZXIoKSxcbiAgICAgICAgICAgICAgICBkeW5hbWljTW9jazogZ2V0VW5pcXVlQ291bnRlclxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIEN1cnJlbmN5OiB7XG4gICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiBudWxsLFxuICAgICAgICAgICAgICAgIHN0YXRpY01vY2s6IDEyMC41MCxcbiAgICAgICAgICAgICAgICBkeW5hbWljTW9jazogcmFuZG9tQ3VycmVuY3lcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBEYXRlVGltZToge1xuICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogbnVsbCxcbiAgICAgICAgICAgICAgICBzdGF0aWNNb2NrOiBuZXcgRGF0ZSgyMDE0LCA1LCA0LCAxMSwgMzMsIDI1KSxcbiAgICAgICAgICAgICAgICBkeW5hbWljTW9jazogcmFuZG9tRGF0ZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIEludGVnZXI6IHtcbiAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU6IG51bGwsXG4gICAgICAgICAgICAgICAgc3RhdGljTW9jazogMTQsXG4gICAgICAgICAgICAgICAgZHluYW1pY01vY2s6IHJhbmRvbUludGVnZXJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBKU09OOiB7XG4gICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiAnJyxcbiAgICAgICAgICAgICAgICBzdGF0aWNNb2NrOiBbXG4gICAgICAgICAgICAgICAgICAgIHtpZDogMSwgdGl0bGU6ICd0ZXN0J30sXG4gICAgICAgICAgICAgICAgICAgIHtpZDogMn1cbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIGR5bmFtaWNNb2NrOiByYW5kb21TdHJpbmdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBMb29rdXA6IHtcbiAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU6ICcnLFxuICAgICAgICAgICAgICAgIHN0YXRpY01vY2s6IHtsb29rdXBJZDogNDksIGxvb2t1cFZhbHVlOiAnU3RhdGljIExvb2t1cCd9LFxuICAgICAgICAgICAgICAgIGR5bmFtaWNNb2NrOiByYW5kb21Mb29rdXBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBMb29rdXBNdWx0aToge1xuICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogW10sXG4gICAgICAgICAgICAgICAgc3RhdGljTW9jazogW1xuICAgICAgICAgICAgICAgICAgICB7bG9va3VwSWQ6IDUwLCBsb29rdXBWYWx1ZTogJ1N0YXRpYyBNdWx0aSAxJ30sXG4gICAgICAgICAgICAgICAgICAgIHtsb29rdXBJZDogNTEsIGxvb2t1cFZhbHVlOiAnU3RhdGljIE11bHRpIDInfVxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgZHluYW1pY01vY2s6IHJhbmRvbUxvb2t1cE11bHRpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgTWFzazoge1xuICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogbW9ja1Blcm1NYXNrKCksXG4gICAgICAgICAgICAgICAgc3RhdGljTW9jazogbW9ja1Blcm1NYXNrKCksXG4gICAgICAgICAgICAgICAgZHluYW1pY01vY2s6IG1vY2tQZXJtTWFza1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIE11bHRpQ2hvaWNlOiB7XG4gICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiBbXSxcbiAgICAgICAgICAgICAgICBzdGF0aWNNb2NrOiBbJ0EgR29vZCBDaG9pY2UnLCAnQSBCYWQgQ2hvaWNlJ10sXG4gICAgICAgICAgICAgICAgZHluYW1pY01vY2s6IHJhbmRvbVN0cmluZ0FycmF5XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgVXNlcjoge1xuICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogJycsXG4gICAgICAgICAgICAgICAgc3RhdGljTW9jazoge2xvb2t1cElkOiA1MiwgbG9va3VwVmFsdWU6ICdTdGF0aWMgVXNlcid9LFxuICAgICAgICAgICAgICAgIGR5bmFtaWNNb2NrOiByYW5kb21Vc2VyXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgVXNlck11bHRpOiB7XG4gICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiBbXSxcbiAgICAgICAgICAgICAgICBzdGF0aWNNb2NrOiBbXG4gICAgICAgICAgICAgICAgICAgIHtsb29rdXBJZDogNTMsIGxvb2t1cFZhbHVlOiAnU3RhdGljIFVzZXIgMSd9LFxuICAgICAgICAgICAgICAgICAgICB7bG9va3VwSWQ6IDU0LCBsb29rdXBWYWx1ZTogJ1N0YXRpYyBVc2VyIDInfVxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgZHluYW1pY01vY2s6IHJhbmRvbVVzZXJNdWx0aVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cblxuXG4gICAgLyoqPT09PT09PT09PT09PT09PT1QUklWQVRFPT09PT09PT09PT09PT09PT09PSovXG5cbiAgICBmdW5jdGlvbiBnZXRVbmlxdWVDb3VudGVyKCkge1xuICAgICAgICB1bmlxdWVDb3VudCsrO1xuICAgICAgICByZXR1cm4gdW5pcXVlQ291bnQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmFuZG9tQm9vbGVhbigpIHtcbiAgICAgICAgcmV0dXJuIGNoYW5jZS5ib29sKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmFuZG9tQ2FsYygpIHtcbiAgICAgICAgcmV0dXJuICdmbG9hdDsjJyArIGNoYW5jZS5mbG9hdGluZyh7bWluOiAwLCBtYXg6IDEwMDAwfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmFuZG9tU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gY2hhbmNlLndvcmQoKSArICcgJyArIGNoYW5jZS53b3JkKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmFuZG9tU3RyaW5nQXJyYXkoKSB7XG4gICAgICAgIHZhciByYW5kb21BcnIgPSBbXTtcbiAgICAgICAgLyoqIENyZWF0ZSBhIHJhbmRvbSAoMS00KSBudW1iZXIgb2Ygc3RyaW5ncyBhbmQgYWRkIHRvIGFycmF5ICovXG4gICAgICAgIF8udGltZXMoXy5yYW5kb20oMSwgNCksIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJhbmRvbUFyci5wdXNoKHJhbmRvbVN0cmluZygpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByYW5kb21BcnI7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmFuZG9tUGFyYWdyYXBoKCkge1xuICAgICAgICByZXR1cm4gY2hhbmNlLnBhcmFncmFwaCgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJhbmRvbUN1cnJlbmN5KCkge1xuICAgICAgICByZXR1cm4gcGFyc2VJbnQoXy5yYW5kb20oMTAwMDAwMDAsIHRydWUpICogMTAwKSAvIDEwMDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByYW5kb21EYXRlKCkge1xuICAgICAgICByZXR1cm4gY2hhbmNlLmRhdGUoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByYW5kb21JbnRlZ2VyKCkge1xuICAgICAgICByZXR1cm4gY2hhbmNlLmludGVnZXIoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBGaWVsZFNlcnZpY2U6cmVzb2x2ZVZhbHVlRm9yRWZmZWN0aXZlUGVybU1hc2tcbiAgICAgKiBAbWV0aG9kT2YgYW5ndWxhclBvaW50LmFwRmllbGRTZXJ2aWNlXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogVGFrZXMgdGhlIG5hbWUgb2YgYSBwZXJtaXNzaW9uIG1hc2sgYW5kIHJldHVybnMgYSBwZXJtaXNzaW9uIHZhbHVlIHdoaWNoIGNhbiB0aGVuIGJlIHVzZWRcbiAgICAgKiB0byBnZW5lcmF0ZSBhIHBlcm1pc3Npb24gb2JqZWN0IHVzaW5nIG1vZGVsU2VydmljZS5yZXNvbHZlUGVybWlzc2lvbnMob3V0cHV0ZnJvbXRoaXMpXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHBlck1hc2sgT3B0aW9uczpcbiAgICAgKiAgLSBBZGRMaXN0SXRlbXNcbiAgICAgKiAgLSBFZGl0TGlzdEl0ZW1zXG4gICAgICogIC0gRGVsZXRlTGlzdEl0ZW1zXG4gICAgICogIC0gQXBwcm92ZUl0ZW1zXG4gICAgICogIC0gRnVsbE1hc2tcbiAgICAgKiAgLSBWaWV3TGlzdEl0ZW1zXG4gICAgICogQHJldHVybnMge3N0cmluZ30gdmFsdWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZXNvbHZlVmFsdWVGb3JFZmZlY3RpdmVQZXJtTWFzayhwZXJNYXNrKSB7XG4gICAgICAgIHZhciBwZXJtaXNzaW9uVmFsdWU7XG4gICAgICAgIHN3aXRjaCAocGVyTWFzaykge1xuICAgICAgICAgICAgY2FzZSAnQWRkTGlzdEl0ZW1zJzpcbiAgICAgICAgICAgICAgICBwZXJtaXNzaW9uVmFsdWUgPSAnMHgwMDAwMDAwMDAwMDAwMDAyJztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0VkaXRMaXN0SXRlbXMnOlxuICAgICAgICAgICAgICAgIHBlcm1pc3Npb25WYWx1ZSA9ICcweDAwMDAwMDAwMDAwMDAwMDQnO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnRGVsZXRlTGlzdEl0ZW1zJzpcbiAgICAgICAgICAgICAgICBwZXJtaXNzaW9uVmFsdWUgPSAnMHgwMDAwMDAwMDAwMDAwMDA4JztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0FwcHJvdmVJdGVtcyc6XG4gICAgICAgICAgICAgICAgcGVybWlzc2lvblZhbHVlID0gJzB4MDAwMDAwMDAwMDAwMDAxMCc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdGdWxsTWFzayc6XG4gICAgICAgICAgICAgICAgcGVybWlzc2lvblZhbHVlID0gJzB4N0ZGRkZGRkZGRkZGRkZGRic7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdWaWV3TGlzdEl0ZW1zJzpcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcGVybWlzc2lvblZhbHVlID0gJzB4MDAwMDAwMDAwMDAwMDAwMSc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBlcm1pc3Npb25WYWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBGaWVsZFNlcnZpY2U6bW9ja1Blcm1NYXNrXG4gICAgICogQG1ldGhvZE9mIGFuZ3VsYXJQb2ludC5hcEZpZWxkU2VydmljZVxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIERlZmF1bHRzIHRvIGEgZnVsbCBtYXNrIGJ1dCBhbGxvd3Mgc2ltdWxhdGlvbiBvZiBlYWNoIG9mIG1haW4gcGVybWlzc2lvbiBsZXZlbHNcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgY29udGFpbmVyLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5wZXJtaXNzaW9uTGV2ZWw9RnVsbE1hc2tdIE9wdGlvbmFsIG1hc2suXG4gICAgICogQHJldHVybnMge3N0cmluZ30gVmFsdWVzIGZvciBtYXNrLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1vY2tQZXJtTWFzayhvcHRpb25zPzp7cGVybWlzc2lvbkxldmVsOiBzdHJpbmd9KSB7XG4gICAgICAgIHZhciBtYXNrID0gJ0Z1bGxNYXNrJztcbiAgICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5wZXJtaXNzaW9uTGV2ZWwpIHtcbiAgICAgICAgICAgIG1hc2sgPSBvcHRpb25zLnBlcm1pc3Npb25MZXZlbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzb2x2ZVZhbHVlRm9yRWZmZWN0aXZlUGVybU1hc2sobWFzayk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmFuZG9tTG9va3VwKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbG9va3VwSWQ6IGdldFVuaXF1ZUNvdW50ZXIoKSxcbiAgICAgICAgICAgIGxvb2t1cFZhbHVlOiBjaGFuY2Uud29yZCgpXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmFuZG9tVXNlcigpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGxvb2t1cElkOiBnZXRVbmlxdWVDb3VudGVyKCksXG4gICAgICAgICAgICBsb29rdXBWYWx1ZTogY2hhbmNlLm5hbWUoKVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJhbmRvbUxvb2t1cE11bHRpKCkge1xuICAgICAgICB2YXIgbW9ja0RhdGEgPSBbXTtcbiAgICAgICAgXy5lYWNoKF8ucmFuZG9tKDEwKSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgbW9ja0RhdGEucHVzaChyYW5kb21Mb29rdXAoKSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbW9ja0RhdGE7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmFuZG9tVXNlck11bHRpKCkge1xuICAgICAgICB2YXIgbW9ja0RhdGEgPSBbXTtcbiAgICAgICAgXy5lYWNoKF8ucmFuZG9tKDEwKSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgbW9ja0RhdGEucHVzaChyYW5kb21Vc2VyKCkpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG1vY2tEYXRhO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbiBvYmplY3QgZGVmaW5pbmcgYSBzcGVjaWZpYyBmaWVsZCB0eXBlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGZpZWxkVHlwZVxuICAgICAqIEByZXR1cm5zIHtvYmplY3R9IGZpZWxkVHlwZURlZmluaXRpb25cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXREZWZpbml0aW9uKGZpZWxkVHlwZSkge1xuICAgICAgICB2YXIgZmllbGRUeXBlcyA9IGdldEZpZWxkVHlwZXMoKTtcbiAgICAgICAgcmV0dXJuIGZpZWxkVHlwZXNbZmllbGRUeXBlXSA/IGZpZWxkVHlwZXNbZmllbGRUeXBlXSA6IGZpZWxkVHlwZXNbJ1RleHQnXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBGaWVsZFNlcnZpY2U6Z2V0RGVmYXVsdFZhbHVlRm9yVHlwZVxuICAgICAqIEBtZXRob2RPZiBhbmd1bGFyUG9pbnQuYXBGaWVsZFNlcnZpY2VcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBSZXR1cm5zIHRoZSBlbXB0eSB2YWx1ZSBleHBlY3RlZCBmb3IgYSBmaWVsZCB0eXBlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGZpZWxkVHlwZSBUeXBlIG9mIGZpZWxkLlxuICAgICAqIEByZXR1cm5zIHsqfSBEZWZhdWx0IHZhbHVlIGJhc2VkIG9uIGZpZWxkIHR5cGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0RGVmYXVsdFZhbHVlRm9yVHlwZShmaWVsZFR5cGUpIHtcbiAgICAgICAgdmFyIGZpZWxkRGVmaW5pdGlvbiA9IGdldERlZmluaXRpb24oZmllbGRUeXBlKSxcbiAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTtcblxuICAgICAgICBpZiAoZmllbGREZWZpbml0aW9uKSB7XG4gICAgICAgICAgICBkZWZhdWx0VmFsdWUgPSBmaWVsZERlZmluaXRpb24uZGVmYXVsdFZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgYW5ndWxhclBvaW50LmFwRmllbGRTZXJ2aWNlOmdldE1vY2tEYXRhXG4gICAgICogQG1ldGhvZE9mIGFuZ3VsYXJQb2ludC5hcEZpZWxkU2VydmljZVxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIENhbiByZXR1cm4gbW9jayBkYXRhIGFwcHJvcHJpYXRlIGZvciB0aGUgZmllbGQgdHlwZSwgYnkgZGVmYXVsdCBpdCBkeW5hbWljYWxseSBnZW5lcmF0ZXMgZGF0YSBidXRcbiAgICAgKiB0aGUgc3RhdGljVmFsdWUgcGFyYW0gd2lsbCBpbnN0ZWFkIHJldHVybiBhIGhhcmQgY29kZWQgdHlwZSBzcGVjaWZpYyB2YWx1ZVxuICAgICAqXG4gICAgICogQHJlcXVpcmVzIENoYW5jZUpTIHRvIHByb2R1Y2UgZHluYW1pYyBkYXRhLlxuICAgICAqIGh0dHBzOi8vZ2l0aHViLmNvbS92aWN0b3JxdWlubi9jaGFuY2Vqc1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmaWVsZFR5cGUgRmllbGQgdHlwZSBmcm9tIHRoZSBmaWVsZCBkZWZpbml0aW9uLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gT3B0aW9uYWwgcGFyYW1zLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuc3RhdGljVmFsdWU9ZmFsc2VdIERlZmF1bHQgdG8gZHluYW1pY2FsbHkgYnVpbGQgbW9jayBkYXRhLlxuICAgICAqIEByZXR1cm5zIHsqfSBtb2NrRGF0YVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldE1vY2tEYXRhKGZpZWxkVHlwZSwgb3B0aW9ucykge1xuICAgICAgICB2YXIgbW9jaztcbiAgICAgICAgdmFyIGZpZWxkRGVmaW5pdGlvbiA9IGdldERlZmluaXRpb24oZmllbGRUeXBlKTtcbiAgICAgICAgaWYgKGZpZWxkRGVmaW5pdGlvbikge1xuICAgICAgICAgICAgaWYgKF8uaXNGdW5jdGlvbih3aW5kb3cuQ2hhbmNlKSAmJiBvcHRpb25zICYmICFvcHRpb25zLnN0YXRpY1ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgLyoqIFJldHVybiBkeW5hbWljIGRhdGEgaWYgQ2hhbmNlSlMgaXMgYXZhaWxhYmxlIGFuZCBmbGFnIGlzbid0IHNldCByZXF1aXJpbmcgc3RhdGljIGRhdGEgKi9cbiAgICAgICAgICAgICAgICBtb2NrID0gZmllbGREZWZpbml0aW9uLmR5bmFtaWNNb2NrKG9wdGlvbnMpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvKiogUmV0dXJuIHN0YXRpYyBkYXRhIGlmIHRoZSBmbGFnIGlzIHNldCBvciBDaGFuY2VKUyBpc24ndCBhdmFpbGFibGUgKi9cbiAgICAgICAgICAgICAgICBtb2NrID0gZmllbGREZWZpbml0aW9uLnN0YXRpY01vY2s7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1vY2s7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2Mgc2VydmljZVxuICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcEZpZWxkU2VydmljZVxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIEhhbmRsZXMgdGhlIG1hcHBpbmcgb2YgdGhlIHZhcmlvdXMgdHlwZXMgb2YgZmllbGRzIHVzZWQgd2l0aGluIGEgU2hhcmVQb2ludCBsaXN0XG4gICAgICovXG4gICAgYW5ndWxhci5tb2R1bGUoJ2FuZ3VsYXJQb2ludCcpXG4gICAgICAgIC5zZXJ2aWNlKCdhcEZpZWxkU2VydmljZScsIEZpZWxkU2VydmljZSk7XG5cbn1cbiIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90eXBpbmdzL2FwLmQudHNcIiAvPlxuXG5tb2R1bGUgYXAge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciAkZmlsdGVyO1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIHNlcnZpY2VcbiAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBGb3JtYXR0ZWRGaWVsZFZhbHVlU2VydmljZVxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFJldHVybnMgdGhlIGZvcm1hdHRlZCBzdHJpbmcgdmFsdWUgZm9yIGEgZmllbGQgYmFzZWQgb24gZmllbGQgdHlwZS5cbiAgICAgKi9cbiAgICBleHBvcnQgY2xhc3MgRm9ybWF0dGVkRmllbGRWYWx1ZVNlcnZpY2Uge1xuICAgICAgICBnZXRGb3JtYXR0ZWRGaWVsZFZhbHVlID0gZ2V0Rm9ybWF0dGVkRmllbGRWYWx1ZTtcbiAgICAgICAgc3RyaW5naWZ5Qm9vbGVhbiA9IHN0cmluZ2lmeUJvb2xlYW47XG4gICAgICAgIHN0cmluZ2lmeUNhbGMgPSBzdHJpbmdpZnlDYWxjO1xuICAgICAgICBzdHJpbmdpZnlDdXJyZW5jeSA9IHN0cmluZ2lmeUN1cnJlbmN5O1xuICAgICAgICBzdHJpbmdpZnlEYXRlID0gc3RyaW5naWZ5RGF0ZTtcbiAgICAgICAgc3RyaW5naWZ5TG9va3VwID0gc3RyaW5naWZ5TG9va3VwO1xuICAgICAgICBzdHJpbmdpZnlNdWx0aUNob2ljZSA9IHN0cmluZ2lmeU11bHRpQ2hvaWNlO1xuICAgICAgICBzdHJpbmdpZnlNdWx0aUxvb2t1cCA9IHN0cmluZ2lmeU11bHRpTG9va3VwO1xuICAgICAgICBzdHJpbmdpZnlOdW1iZXIgPSBzdHJpbmdpZnlOdW1iZXI7XG5cbiAgICAgICAgY29uc3RydWN0b3IoJGluamVjdG9yKSB7XG4gICAgICAgICAgICAkZmlsdGVyID0gJGluamVjdG9yLmdldCgnJGZpbHRlcicpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqPT09PT09PT09PT09PT09PT09UFJJVkFURT09PT09PT09PT09PT09PT09PSovXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBGb3JtYXR0ZWRGaWVsZFZhbHVlU2VydmljZTpnZXRGb3JtYXR0ZWRGaWVsZFZhbHVlXG4gICAgICogQG1ldGhvZE9mIGFuZ3VsYXJQb2ludC5hcEZvcm1hdHRlZEZpZWxkVmFsdWVTZXJ2aWNlXG4gICAgICogQHBhcmFtIHtvYmplY3R8YXJyYXl8c3RyaW5nfGludGVnZXJ8Ym9vbGVhbn0gcHJvcCBUYXJnZXQgdGhhdCB3ZSdkIGxpa2UgdG8gc3RyaW5naWZ5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbcHJvcGVydHlUeXBlPSdTdHJpbmcnXSBBc3N1bWVzIGJ5IGRlZmF1bHQgdGhhdCBpdCdzIGFscmVhZHkgYSBzdHJpbmcuICBNb3N0IG9mIHRoZSBub3JtYWwgZmllbGRcbiAgICAgKiB0eXBlcyBpZGVudGlmaWVkIGluIHRoZSBtb2RlbCBmaWVsZCBkZWZpbml0aW9ucyBhcmUgc3VwcG9ydGVkLlxuICAgICAqXG4gICAgICogLSBMb29rdXBcbiAgICAgKiAtIFVzZXJcbiAgICAgKiAtIEJvb2xlYW5cbiAgICAgKiAtIERhdGVUaW1lXG4gICAgICogLSBJbnRlZ2VyXG4gICAgICogLSBOdW1iZXJcbiAgICAgKiAtIENvdW50ZXJcbiAgICAgKiAtIE11bHRpQ2hvaWNlXG4gICAgICogLSBVc2VyTXVsdGlcbiAgICAgKiAtIExvb2t1cE11bHRpXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgT3B0aW9uYWwgY29uZmlnLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5kZWxpbT0nLCAnXSBPcHRpb25hbCBkZWxpbWl0ZXIgdG8gc3BsaXQgY29uY2F0ZW5hdGVkIHN0cmluZ3MuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmRhdGVGb3JtYXQ9J3Nob3J0J10gRWl0aGVyICdqc29uJyB3aGljaCBjb252ZXJ0cyBhIGRhdGUgaW50byBJU084NjAxIGRhdGUgc3RyaW5nXG4gICAgICogb3IgYSBtYXNrIGZvciB0aGUgYW5ndWxhciBkYXRlIGZpbHRlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIDxwcmU+XG4gICAgICogIHZhciBwcm9qZWN0ID0ge1xuICAgICAqICAgIHRpdGxlOiAnU3VwZXIgUHJvamVjdCcsXG4gICAgICogICBtZW1iZXJzOiBbXG4gICAgICogICAgIHsgbG9va3VwSWQ6IDEyLCBsb29rdXBWYWx1ZTogJ0pvZScgfSxcbiAgICAgKiAgICAgeyBsb29rdXBJZDogMTksIGxvb2t1cFZhbHVlOiAnQmV0aCcgfVxuICAgICAqICAgXVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiB2YXIgbWVtYmVyc0FzU3RyaW5nID0gYXBGb3JtYXR0ZWRGaWVsZFZhbHVlU2VydmljZTpnZXRGb3JtYXR0ZWRGaWVsZFZhbHVlKHtcbiAgICAgKiAgICBwcm9qZWN0Lm1lbWJlcnMsXG4gICAgICogICAgJ1VzZXJNdWx0aScsXG4gICAgICogICAgeyBkZWxpbTogJyB8ICd9IC8vQ3VzdG9tIERlbGltaXRlclxuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogLy8gbWVtYmVyc0FzU3RyaW5nID0gJ0pvZSB8IEJldGgnO1xuICAgICAqXG4gICAgICogPC9wcmU+XG4gICAgICogQHJldHVybnMge3N0cmluZ30gU3RyaW5naWZpZWQgcHJvcGVydHkgb24gdGhlIG9iamVjdCBiYXNlZCBvbiB0aGUgZmllbGQgdHlwZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRGb3JtYXR0ZWRGaWVsZFZhbHVlKHByb3AsIHByb3BlcnR5VHlwZSA9ICdTdHJpbmcnLCBvcHRpb25zPzp7ZGVsaW06IHN0cmluZzsgZGF0ZUZvcm1hdDogc3RyaW5nfSk6IHN0cmluZyB7XG4gICAgICAgIHZhciBkZWZhdWx0cyA9IHtcbiAgICAgICAgICAgICAgICBkZWxpbTogJywgJyxcbiAgICAgICAgICAgICAgICBkYXRlRm9ybWF0OiAnc2hvcnQnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb3B0cyA9IF8uZXh0ZW5kKHt9LCBkZWZhdWx0cywgb3B0aW9ucyk7XG5cbiAgICAgICAgdmFyIHN0ciA9ICcnO1xuICAgICAgICAvKiogT25seSBwcm9jZXNzIGlmIHByb3AgaXMgZGVmaW5lZCAqL1xuICAgICAgICBpZiAocHJvcCkge1xuICAgICAgICAgICAgc3dpdGNoIChwcm9wZXJ0eVR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdCb29sZWFuJzpcbiAgICAgICAgICAgICAgICAgICAgc3RyID0gc3RyaW5naWZ5Qm9vbGVhbihwcm9wKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnQ2FsY3VsYXRlZCc6IC8vIENhbiBiZSBEYXRlVGltZSwgRmxvYXQsIG9yIFN0cmluZ1xuICAgICAgICAgICAgICAgICAgICBzdHIgPSBzdHJpbmdpZnlDYWxjKHByb3ApO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdMb29rdXAnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ1VzZXInOlxuICAgICAgICAgICAgICAgICAgICBzdHIgPSBzdHJpbmdpZnlMb29rdXAocHJvcCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ0RhdGVUaW1lJzpcbiAgICAgICAgICAgICAgICAgICAgc3RyID0gc3RyaW5naWZ5RGF0ZShwcm9wLCBvcHRzLmRhdGVGb3JtYXQpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdJbnRlZ2VyJzpcbiAgICAgICAgICAgICAgICBjYXNlICdOdW1iZXInOlxuICAgICAgICAgICAgICAgIGNhc2UgJ0Zsb2F0JzpcbiAgICAgICAgICAgICAgICBjYXNlICdDb3VudGVyJzpcbiAgICAgICAgICAgICAgICAgICAgc3RyID0gc3RyaW5naWZ5TnVtYmVyKHByb3ApO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdDdXJyZW5jeSc6XG4gICAgICAgICAgICAgICAgICAgIHN0ciA9IHN0cmluZ2lmeUN1cnJlbmN5KHByb3ApO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdNdWx0aUNob2ljZSc6XG4gICAgICAgICAgICAgICAgICAgIHN0ciA9IHN0cmluZ2lmeU11bHRpQ2hvaWNlKHByb3AsIG9wdHMuZGVsaW0pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdVc2VyTXVsdGknOlxuICAgICAgICAgICAgICAgIGNhc2UgJ0xvb2t1cE11bHRpJzpcbiAgICAgICAgICAgICAgICAgICAgc3RyID0gc3RyaW5naWZ5TXVsdGlMb29rdXAocHJvcCwgb3B0cy5kZWxpbSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHN0ciA9IHByb3A7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0cjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzdHJpbmdpZnlDYWxjKHByb3ApOiBzdHJpbmcge1xuICAgICAgICBpZiAocHJvcC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfSBlbHNlIGlmIChfLmlzTnVtYmVyKHByb3ApKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0Rm9ybWF0dGVkRmllbGRWYWx1ZShwcm9wLCAnTnVtYmVyJyk7XG4gICAgICAgIH0gZWxzZSBpZiAoXy5pc0RhdGUocHJvcCkpIHtcbiAgICAgICAgICAgIHJldHVybiBnZXRGb3JtYXR0ZWRGaWVsZFZhbHVlKHByb3AsICdEYXRlVGltZScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGdldEZvcm1hdHRlZEZpZWxkVmFsdWUocHJvcCwgJ1RleHQnKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgYW5ndWxhclBvaW50LmFwRm9ybWF0dGVkRmllbGRWYWx1ZVNlcnZpY2U6c3RyaW5naWZ5TnVtYmVyXG4gICAgICogQG1ldGhvZE9mIGFuZ3VsYXJQb2ludC5hcEZvcm1hdHRlZEZpZWxkVmFsdWVTZXJ2aWNlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHByb3AgUHJvcGVydHkgb24gb2JqZWN0IHRvIHBhcnNlLlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIENvbnZlcnRzIGEgbnVtYmVyIHRvIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFN0cmluZ2lmaWVkIG51bWJlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdHJpbmdpZnlOdW1iZXIocHJvcCkge1xuICAgICAgICB2YXIgc3RyID0gJyc7XG4gICAgICAgIGlmIChfLmlzTnVtYmVyKHByb3ApKSB7XG4gICAgICAgICAgICBzdHIgPSBwcm9wLnRvU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0cjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBGb3JtYXR0ZWRGaWVsZFZhbHVlU2VydmljZTpzdHJpbmdpZnlDdXJyZW5jeVxuICAgICAqIEBtZXRob2RPZiBhbmd1bGFyUG9pbnQuYXBGb3JtYXR0ZWRGaWVsZFZhbHVlU2VydmljZVxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIENvbnZlcnRzIGEgbnVtZXJpYyB2YWx1ZSBpbnRvIGEgZm9ybWF0dGVkIGN1cnJlbmN5IHN0cmluZy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcHJvcCBQcm9wZXJ0eSBvbiBvYmplY3QgdG8gcGFyc2UuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gU3RyaW5naWZpZWQgY3VycmVuY3kuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3RyaW5naWZ5Q3VycmVuY3kocHJvcCkge1xuICAgICAgICByZXR1cm4gJGZpbHRlcignY3VycmVuY3knKShwcm9wLCAnJCcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcEZvcm1hdHRlZEZpZWxkVmFsdWVTZXJ2aWNlOnN0cmluZ2lmeUxvb2t1cFxuICAgICAqIEBtZXRob2RPZiBhbmd1bGFyUG9pbnQuYXBGb3JtYXR0ZWRGaWVsZFZhbHVlU2VydmljZVxuICAgICAqIEBwYXJhbSB7b2JqfSBwcm9wIFByb3BlcnR5IG9uIG9iamVjdCB0byBwYXJzZS5cbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBSZXR1cm5zIHRoZSBwcm9wZXJ0eS5sb29rdXBWYWx1ZSBpZiBwcmVzZW50LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFByb3BlcnR5Lmxvb2t1cFZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0cmluZ2lmeUxvb2t1cChwcm9wKSB7XG4gICAgICAgIHZhciBzdHIgPSAnJztcbiAgICAgICAgaWYgKHByb3AgJiYgcHJvcC5sb29rdXBWYWx1ZSkge1xuICAgICAgICAgICAgc3RyID0gcHJvcC5sb29rdXBWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcEZvcm1hdHRlZEZpZWxkVmFsdWVTZXJ2aWNlOnN0cmluZ2lmeUJvb2xlYW5cbiAgICAgKiBAbWV0aG9kT2YgYW5ndWxhclBvaW50LmFwRm9ybWF0dGVkRmllbGRWYWx1ZVNlcnZpY2VcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHByb3AgQm9vbGVhbiB0byBzdHJpbmdpZnkuXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogUmV0dXJucyB0aGUgc3RyaW5naWZpZWQgYm9vbGVhbiBpZiBpdCBpcyBzZXQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gU3RyaW5naWZpZWQgYm9vbGVhbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdHJpbmdpZnlCb29sZWFuKHByb3ApIHtcbiAgICAgICAgdmFyIHN0ciA9ICcnO1xuICAgICAgICBpZiAoXy5pc0Jvb2xlYW4ocHJvcCkpIHtcbiAgICAgICAgICAgIHN0ciA9IHByb3AudG9TdHJpbmcoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcEZvcm1hdHRlZEZpZWxkVmFsdWVTZXJ2aWNlOnN0cmluZ2lmeURhdGVcbiAgICAgKiBAbWV0aG9kT2YgYW5ndWxhclBvaW50LmFwRm9ybWF0dGVkRmllbGRWYWx1ZVNlcnZpY2VcbiAgICAgKiBAcGFyYW0ge2RhdGV9IHByb3AgRGF0ZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGRhdGVGb3JtYXQgRWl0aGVyICdqc29uJyB3aGljaCBjb252ZXJ0cyBhIGRhdGUgaW50byBJU084NjAxIGRhdGUgc3RyaW5nIG9yIGEgbWFzayBmb3JcbiAgICAgKiB0aGUgYW5ndWxhciBkYXRlIGZpbHRlci5cbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBSZXR1cm5zIEpTT04gZGF0ZS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBKU09OIGRhdGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3RyaW5naWZ5RGF0ZShwcm9wLCBkYXRlRm9ybWF0KSB7XG4gICAgICAgIHZhciBzdHIgPSAnJztcbiAgICAgICAgaWYgKF8uaXNEYXRlKHByb3ApKSB7XG4gICAgICAgICAgICBzdHIgPSBkYXRlRm9ybWF0ID09PSAnanNvbicgPyBwcm9wLnRvSlNPTigpIDogJGZpbHRlcignZGF0ZScpKHByb3AsIGRhdGVGb3JtYXQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgYW5ndWxhclBvaW50LmFwRm9ybWF0dGVkRmllbGRWYWx1ZVNlcnZpY2U6c3RyaW5naWZ5TXVsdGlDaG9pY2VcbiAgICAgKiBAbWV0aG9kT2YgYW5ndWxhclBvaW50LmFwRm9ybWF0dGVkRmllbGRWYWx1ZVNlcnZpY2VcbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBwcm9wIEFycmF5IG9mIHNlbGVjdGVkIGNob2ljZXMuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtkZWxpbT0nOyAnXSBDdXN0b20gZGVsaW1pdGVyIHVzZWQgYmV0d2VlbiB0aGUgY29uY2F0ZW5hdGVkIHZhbHVlcy5cbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBDb252ZXJ0cyBhbiBhcnJheSBvZiBzdHJpbmdzIGludG8gYSBzaW5nbGUgY29uY2F0ZW5hdGVkIHN0cmluZy5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBDb25jYXRlbmF0ZWQgc3RyaW5nIHJlcHJlc2VudGF0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0cmluZ2lmeU11bHRpQ2hvaWNlKHByb3AsIGRlbGltKSB7XG4gICAgICAgIHZhciBzdHIgPSAnJyxcbiAgICAgICAgICAgIGQgPSBkZWxpbSB8fCAnOyAnO1xuICAgICAgICBfLmVhY2gocHJvcCwgZnVuY3Rpb24gKGNob2ljZSwgaSkge1xuICAgICAgICAgICAgaWYgKGkgPiAwKSB7XG4gICAgICAgICAgICAgICAgc3RyICs9IGQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdHIgKz0gY2hvaWNlO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHN0cjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBGb3JtYXR0ZWRGaWVsZFZhbHVlU2VydmljZTpzdHJpbmdpZnlNdWx0aUxvb2t1cFxuICAgICAqIEBtZXRob2RPZiBhbmd1bGFyUG9pbnQuYXBGb3JtYXR0ZWRGaWVsZFZhbHVlU2VydmljZVxuICAgICAqIEBwYXJhbSB7b2JqZWN0W119IHByb3AgQXJyYXkgb2YgbG9va3VwIG9iamVjdHMuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtkZWxpbT0nOyAnXSBDdXN0b20gZGVsaW1pdGVyIHVzZWQgYmV0d2VlbiB0aGUgY29uY2F0ZW5hdGVkIHZhbHVlcy5cbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBDb252ZXJ0cyBhbiBhcnJheSBvZiBzZWxlY3RlZCBsb29rdXAgdmFsdWVzIGludG8gYSBzaW5nbGUgY29uY2F0ZW5hdGVkIHN0cmluZy5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBDb25jYXRlbmF0ZWQgc3RyaW5nIHJlcHJlc2VudGF0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0cmluZ2lmeU11bHRpTG9va3VwKHByb3AsIGRlbGltKSB7XG4gICAgICAgIHZhciBzdHIgPSAnJyxcbiAgICAgICAgICAgIGQgPSBkZWxpbSB8fCAnOyAnO1xuICAgICAgICBfLmVhY2gocHJvcCwgZnVuY3Rpb24gKHZhbCwgdmFsSW5kZXgpIHtcblxuICAgICAgICAgICAgLyoqIEFkZCBhcnRpZmljaWFsIGRlbGltICovXG4gICAgICAgICAgICBpZiAodmFsSW5kZXggPiAwKSB7XG4gICAgICAgICAgICAgICAgc3RyICs9IGQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHN0ciArPSBzdHJpbmdpZnlMb29rdXAodmFsKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdhbmd1bGFyUG9pbnQnKVxuICAgICAgICAuc2VydmljZSgnYXBGb3JtYXR0ZWRGaWVsZFZhbHVlU2VydmljZScsIEZvcm1hdHRlZEZpZWxkVmFsdWVTZXJ2aWNlKTtcblxuXG59XG4iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy9hcC5kLnRzXCIgLz5cblxubW9kdWxlIGFwIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2Mgc2VydmljZVxuICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5TUFNlcnZpY2VzXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogVGhpcyBpcyBqdXN0IGEgdHJpbW1lZCBkb3duIHZlcnNpb24gb2YgTWFyYyBBbmRlcnNvbidzIGF3ZXNvbWUgW1NQU2VydmljZXNdKGh0dHA6Ly9zcHNlcnZpY2VzLmNvZGVwbGV4LmNvbS8pIGxpYnJhcnkuXG4gICAgICogV2UncmUgcHJpbWFyaWx5IGxvb2tpbmcgZm9yIHRoZSBhYmlsaXR5IHRvIGNyZWF0ZSB0aGUgU09BUCBlbnZlbG9wZSBhbmQgbGV0IEFuZ3VsYXJKUydzICRodHRwIHNlcnZpY2UgaGFuZGxlIGFsbFxuICAgICAqIGNvbW11bmljYXRpb24gd2l0aCB0aGUgc2VydmVyLlxuICAgICAqXG4gICAgICogKi9cbiAgICBhbmd1bGFyLm1vZHVsZSgnYW5ndWxhclBvaW50JylcbiAgICAgICAgLmZhY3RvcnkoJ1NQU2VydmljZXMnLCBTZXJ2aWNlKTtcblxuICAgIC8vVE9ETyBDbGVhbnVwIGFuZCBjb252ZXJ0IHRvIFRTXG4gICAgZnVuY3Rpb24gU2VydmljZShhcFdlYlNlcnZpY2VPcGVyYXRpb25Db25zdGFudHMsIGFwV2ViU2VydmljZVNlcnZpY2UpIHtcblxuICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAqIFNQU2VydmljZXMgLSBXb3JrIHdpdGggU2hhcmVQb2ludCdzIFdlYiBTZXJ2aWNlcyB1c2luZyBqUXVlcnlcbiAgICAgICAgICAgICAqIFZlcnNpb24gMjAxNC4wMmFcbiAgICAgICAgICAgICAqIEByZXF1aXJlcyBqUXVlcnkgdjEuOCBvciBncmVhdGVyIC0galF1ZXJ5IDEuMTAueCByZWNvbW1lbmRlZFxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIENvcHlyaWdodCAoYykgMjAwOS0yMDEzIFN5bXByYXhpcyBDb25zdWx0aW5nIExMQ1xuICAgICAgICAgICAgICogRXhhbXBsZXMgYW5kIGRvY3MgYXQ6XG4gICAgICAgICAgICAgKiBodHRwOi8vc3BzZXJ2aWNlcy5jb2RlcGxleC5jb21cbiAgICAgICAgICAgICAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZTpcbiAgICAgICAgICAgICAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgKiBAZGVzY3JpcHRpb24gV29yayB3aXRoIFNoYXJlUG9pbnQncyBXZWIgU2VydmljZXMgdXNpbmcgalF1ZXJ5XG4gICAgICAgICAgICAgKiBAdHlwZSBqUXVlcnlcbiAgICAgICAgICAgICAqIEBuYW1lIFNQU2VydmljZXNcbiAgICAgICAgICAgICAqIEBjYXRlZ29yeSBQbHVnaW5zL1NQU2VydmljZXNcbiAgICAgICAgICAgICAqIEBhdXRob3IgU3ltcHJheGlzIENvbnN1bHRpbmcgTExDL21hcmMuYW5kZXJzb25Ac3ltcHJheGlzY29uc3VsdGluZy5jb21cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLyoganNoaW50IHVuZGVmOiB0cnVlICovXG4gICAgICAgICAgICAvKiBnbG9iYWwgTF9NZW51X0Jhc2VVcmwsIF9zcFVzZXJJZCwgX3NwUGFnZUNvbnRleHRJbmZvLCBHaXBBZGRTZWxlY3RlZEl0ZW1zLCBHaXBSZW1vdmVTZWxlY3RlZEl0ZW1zLCBHaXBHZXRHcm91cERhdGEgKi9cblxuICAgICAgICAgICAgLy8gR2xvYmFsIHZhcmlhYmxlc1xuICAgICAgICAgICAgdmFyIFNDSEVNQVNoYXJlUG9pbnQgPSBcImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vc2hhcmVwb2ludFwiO1xuICAgICAgICAgICAgdmFyIGkgPSAwOyAvLyBHZW5lcmljIGxvb3AgY291bnRlclxuICAgICAgICAgICAgdmFyIGVuY29kZU9wdGlvbkxpc3QgPSBbXCJsaXN0TmFtZVwiLCBcImRlc2NyaXB0aW9uXCJdOyAvLyBVc2VkIHRvIGVuY29kZSBvcHRpb25zIHdoaWNoIG1heSBjb250YWluIHNwZWNpYWwgY2hhcmFjdGVyc1xuXG4gICAgICAgICAgICAvLyBEZWZhdWx0cyBhZGRlZCBhcyBhIGZ1bmN0aW9uIGluIG91ciBsaWJyYXJ5IG1lYW5zIHRoYXQgdGhlIGNhbGxlciBjYW4gb3ZlcnJpZGUgdGhlIGRlZmF1bHRzXG4gICAgICAgICAgICAvLyBmb3IgdGhlaXIgc2Vzc2lvbiBieSBjYWxsaW5nIHRoaXMgZnVuY3Rpb24uICBFYWNoIG9wZXJhdGlvbiByZXF1aXJlcyBhIGRpZmZlcmVudCBzZXQgb2Ygb3B0aW9ucztcbiAgICAgICAgICAgIC8vIHdlIGFsbG93IGZvciBhbGwgaW4gYSBzdGFuZGFyZGl6ZWQgd2F5LlxuICAgICAgICAgICAgdmFyIGRlZmF1bHRzID0ge1xuXG4gICAgICAgICAgICAgICAgb3BlcmF0aW9uOiBcIlwiLCAvLyBUaGUgV2ViIFNlcnZpY2Ugb3BlcmF0aW9uXG4gICAgICAgICAgICAgICAgd2ViVVJMOiBcIlwiLCAvLyBVUkwgb2YgdGhlIHRhcmdldCBXZWJcbiAgICAgICAgICAgICAgICBtYWtlVmlld0RlZmF1bHQ6IGZhbHNlLCAvLyB0cnVlIHRvIG1ha2UgdGhlIHZpZXcgdGhlIGRlZmF1bHQgdmlldyBmb3IgdGhlIGxpc3RcblxuICAgICAgICAgICAgICAgIC8vIEZvciBvcGVyYXRpb25zIHJlcXVpcmluZyBDQU1MLCB0aGVzZSBvcHRpb25zIHdpbGwgb3ZlcnJpZGUgYW55IGFic3RyYWN0aW9uc1xuICAgICAgICAgICAgICAgIENBTUxWaWV3TmFtZTogXCJcIiwgLy8gVmlldyBuYW1lIGluIENBTUwgZm9ybWF0LlxuICAgICAgICAgICAgICAgIENBTUxRdWVyeTogXCJcIiwgLy8gUXVlcnkgaW4gQ0FNTCBmb3JtYXRcbiAgICAgICAgICAgICAgICBDQU1MVmlld0ZpZWxkczogXCJcIiwgLy8gVmlldyBmaWVsZHMgaW4gQ0FNTCBmb3JtYXRcbiAgICAgICAgICAgICAgICBDQU1MUm93TGltaXQ6IDAsIC8vIFJvdyBsaW1pdCBhcyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnRlZ2VyXG4gICAgICAgICAgICAgICAgQ0FNTFF1ZXJ5T3B0aW9uczogXCI8UXVlcnlPcHRpb25zPjwvUXVlcnlPcHRpb25zPlwiLCAvLyBRdWVyeSBvcHRpb25zIGluIENBTUwgZm9ybWF0XG5cbiAgICAgICAgICAgICAgICAvLyBBYnN0cmFjdGlvbnMgZm9yIENBTUwgc3ludGF4XG4gICAgICAgICAgICAgICAgYmF0Y2hDbWQ6IFwiVXBkYXRlXCIsIC8vIE1ldGhvZCBDbWQgZm9yIFVwZGF0ZUxpc3RJdGVtc1xuICAgICAgICAgICAgICAgIHZhbHVlUGFpcnM6IFtdLCAvLyBGaWVsZG5hbWUgLyBGaWVsZHZhbHVlIHBhaXJzIGZvciBVcGRhdGVMaXN0SXRlbXNcblxuICAgICAgICAgICAgICAgIC8vIEFzIG9mIHYwLjcuMSwgcmVtb3ZlZCBhbGwgb3B0aW9ucyB3aGljaCB3ZXJlIGFzc2lnbmVkIGFuIGVtcHR5IHN0cmluZyAoXCJcIilcbiAgICAgICAgICAgICAgICBEZXN0aW5hdGlvblVybHM6IFtdLCAvLyBBcnJheSBvZiBkZXN0aW5hdGlvbiBVUkxzIGZvciBjb3B5IG9wZXJhdGlvbnNcbiAgICAgICAgICAgICAgICBiZWhhdmlvcjogXCJWZXJzaW9uM1wiLCAvLyBBbiBTUFdlYlNlcnZpY2VCZWhhdmlvciBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIGNsaWVudCBzdXBwb3J0cyBXaW5kb3dzIFNoYXJlUG9pbnQgU2VydmljZXMgMi4wIG9yIFdpbmRvd3MgU2hhcmVQb2ludCBTZXJ2aWNlcyAzLjA6IHtWZXJzaW9uMiB8IFZlcnNpb24zIH1cbiAgICAgICAgICAgICAgICBzdG9yYWdlOiBcIlNoYXJlZFwiLCAvLyBBIFN0b3JhZ2UgdmFsdWUgaW5kaWNhdGluZyBob3cgdGhlIFdlYiBQYXJ0IGlzIHN0b3JlZDoge05vbmUgfCBQZXJzb25hbCB8IFNoYXJlZH1cbiAgICAgICAgICAgICAgICBvYmplY3RUeXBlOiBcIkxpc3RcIiwgLy8gb2JqZWN0VHlwZSBmb3Igb3BlcmF0aW9ucyB3aGljaCByZXF1aXJlIGl0XG4gICAgICAgICAgICAgICAgY2FuY2VsTWVldGluZzogdHJ1ZSwgLy8gdHJ1ZSB0byBkZWxldGUgYSBtZWV0aW5nO2ZhbHNlIHRvIHJlbW92ZSBpdHMgYXNzb2NpYXRpb24gd2l0aCBhIE1lZXRpbmcgV29ya3NwYWNlIHNpdGVcbiAgICAgICAgICAgICAgICBub25HcmVnb3JpYW46IGZhbHNlLCAvLyB0cnVlIGlmIHRoZSBjYWxlbmRhciBpcyBzZXQgdG8gYSBmb3JtYXQgb3RoZXIgdGhhbiBHcmVnb3JpYW47b3RoZXJ3aXNlLCBmYWxzZS5cbiAgICAgICAgICAgICAgICBmQ2xhaW06IGZhbHNlLCAvLyBTcGVjaWZpZXMgaWYgdGhlIGFjdGlvbiBpcyBhIGNsYWltIG9yIGEgcmVsZWFzZS4gU3BlY2lmaWVzIHRydWUgZm9yIGEgY2xhaW0gYW5kIGZhbHNlIGZvciBhIHJlbGVhc2UuXG4gICAgICAgICAgICAgICAgcmVjdXJyZW5jZUlkOiAwLCAvLyBUaGUgcmVjdXJyZW5jZSBJRCBmb3IgdGhlIG1lZXRpbmcgdGhhdCBuZWVkcyBpdHMgYXNzb2NpYXRpb24gcmVtb3ZlZC4gVGhpcyBwYXJhbWV0ZXIgY2FuIGJlIHNldCB0byAwIGZvciBzaW5nbGUtaW5zdGFuY2UgbWVldGluZ3MuXG4gICAgICAgICAgICAgICAgc2VxdWVuY2U6IDAsIC8vIEFuIGludGVnZXIgdGhhdCBpcyB1c2VkIHRvIGRldGVybWluZSB0aGUgb3JkZXJpbmcgb2YgdXBkYXRlcyBpbiBjYXNlIHRoZXkgYXJyaXZlIG91dCBvZiBzZXF1ZW5jZS4gVXBkYXRlcyB3aXRoIGEgbG93ZXItdGhhbi1jdXJyZW50IHNlcXVlbmNlIGFyZSBkaXNjYXJkZWQuIElmIHRoZSBzZXF1ZW5jZSBpcyBlcXVhbCB0byB0aGUgY3VycmVudCBzZXF1ZW5jZSwgdGhlIGxhdGVzdCB1cGRhdGUgYXJlIGFwcGxpZWQuXG4gICAgICAgICAgICAgICAgbWF4aW11bUl0ZW1zVG9SZXR1cm46IDAsIC8vIFNvY2lhbERhdGFTZXJ2aWNlIG1heGltdW1JdGVtc1RvUmV0dXJuXG4gICAgICAgICAgICAgICAgc3RhcnRJbmRleDogMCwgLy8gU29jaWFsRGF0YVNlcnZpY2Ugc3RhcnRJbmRleFxuICAgICAgICAgICAgICAgIGlzSGlnaFByaW9yaXR5OiBmYWxzZSwgLy8gU29jaWFsRGF0YVNlcnZpY2UgaXNIaWdoUHJpb3JpdHlcbiAgICAgICAgICAgICAgICBpc1ByaXZhdGU6IGZhbHNlLCAvLyBTb2NpYWxEYXRhU2VydmljZSBpc1ByaXZhdGVcbiAgICAgICAgICAgICAgICByYXRpbmc6IDEsIC8vIFNvY2lhbERhdGFTZXJ2aWNlIHJhdGluZ1xuICAgICAgICAgICAgICAgIG1heFJlc3VsdHM6IDEwLCAvLyBVbmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZCwgdGhlIG1heGltdW0gbnVtYmVyIG9mIHByaW5jaXBhbHMgdGhhdCBjYW4gYmUgcmV0dXJuZWQgZnJvbSBhIHByb3ZpZGVyIGlzIDEwLlxuICAgICAgICAgICAgICAgIHByaW5jaXBhbFR5cGU6IFwiVXNlclwiLCAvLyBTcGVjaWZpZXMgdXNlciBzY29wZSBhbmQgb3RoZXIgaW5mb3JtYXRpb246IFtOb25lIHwgVXNlciB8IERpc3RyaWJ1dGlvbkxpc3QgfCBTZWN1cml0eUdyb3VwIHwgU2hhcmVQb2ludEdyb3VwIHwgQWxsXVxuXG4gICAgICAgICAgICAgICAgYXN5bmM6IHRydWUsIC8vIEFsbG93IHRoZSB1c2VyIHRvIGZvcmNlIGFzeW5jXG4gICAgICAgICAgICAgICAgY29tcGxldGVmdW5jOiBudWxsIC8vIEZ1bmN0aW9uIHRvIGNhbGwgb24gY29tcGxldGlvblxuXG4gICAgICAgICAgICB9OyAvLyBFbmQgU1BTZXJ2aWNlcy5kZWZhdWx0c1xuXG5cbiAgICAgICAgICAgIC8vIFNldCB1cCBTT0FQIGVudmVsb3BlXG4gICAgICAgICAgICBmdW5jdGlvbiBTT0FQRW52ZWxvcGUoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyOiBcIjxzb2FwOkVudmVsb3BlIHhtbG5zOnhzaT0naHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEtaW5zdGFuY2UnIFwiICtcbiAgICAgICAgICAgICAgICAgICAgXCJ4bWxuczp4c2Q9J2h0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hJyBcIiArXG4gICAgICAgICAgICAgICAgICAgIFwieG1sbnM6c29hcD0naHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvc29hcC9lbnZlbG9wZS8nPjxzb2FwOkJvZHk+XCIsXG4gICAgICAgICAgICAgICAgICAgIGZvb3RlcjogXCI8L3NvYXA6Qm9keT48L3NvYXA6RW52ZWxvcGU+XCIsXG4gICAgICAgICAgICAgICAgICAgIHBheWxvYWQ6IFwiXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgLy8gTWFpbiBmdW5jdGlvbiwgd2hpY2ggY2FsbHMgU2hhcmVQb2ludCdzIFdlYiBTZXJ2aWNlcyBkaXJlY3RseS5cbiAgICAgICAgICAgIHZhciBTUFNlcnZpY2VzID0ge1xuICAgICAgICAgICAgICAgIGRlZmF1bHRzOiBkZWZhdWx0cyxcbiAgICAgICAgICAgICAgICBlbmNvZGVYbWw6IGVuY29kZVhtbCxcbiAgICAgICAgICAgICAgICBnZW5lcmF0ZVhNTENvbXBvbmVudHM6IGdlbmVyYXRlWE1MQ29tcG9uZW50cyxcbiAgICAgICAgICAgICAgICBTQ0hFTUFTaGFyZVBvaW50OiBTQ0hFTUFTaGFyZVBvaW50LFxuICAgICAgICAgICAgICAgIFNPQVBFbnZlbG9wZTogbmV3IFNPQVBFbnZlbG9wZSgpXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBmdW5jdGlvbiBnZW5lcmF0ZVhNTENvbXBvbmVudHMob3B0aW9ucykge1xuXG4gICAgICAgICAgICAgICAgLyoqIEtleS9WYWx1ZSBtYXBwaW5nIG9mIFNoYXJlUG9pbnQgcHJvcGVydGllcyB0byBTUFNlcnZpY2VzIHByb3BlcnRpZXMgKi9cbiAgICAgICAgICAgICAgICB2YXIgbWFwcGluZyA9IFtcbiAgICAgICAgICAgICAgICAgICAgWydxdWVyeScsICdDQU1MUXVlcnknXSxcbiAgICAgICAgICAgICAgICAgICAgWyd2aWV3RmllbGRzJywgJ0NBTUxWaWV3RmllbGRzJ10sXG4gICAgICAgICAgICAgICAgICAgIFsncm93TGltaXQnLCAnQ0FNTFJvd0xpbWl0J10sXG4gICAgICAgICAgICAgICAgICAgIFsncXVlcnlPcHRpb25zJywgJ0NBTUxRdWVyeU9wdGlvbnMnXSxcbiAgICAgICAgICAgICAgICAgICAgWydsaXN0SXRlbUlEJywgJ0lEJ11cbiAgICAgICAgICAgICAgICBdO1xuXG4gICAgICAgICAgICAgICAgLyoqIEVuc3VyZSB0aGUgU2hhcmVQb2ludCBwcm9wZXJ0aWVzIGFyZSBhdmFpbGFibGUgcHJpb3IgdG8gZXh0ZW5kaW5nIHdpdGggZGVmYXVsdHMgKi9cbiAgICAgICAgICAgICAgICBfLmVhY2gobWFwcGluZywgZnVuY3Rpb24gKG1hcCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9uc1ttYXBbMF1dICYmICFvcHRpb25zW21hcFsxXV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKiBFbnN1cmUgU1BTZXJ2aWNlcyBwcm9wZXJ0aWVzIGFyZSBhZGRlZCBpbiB0aGUgZXZlbnQgdGhlIHRydWUgcHJvcGVydHkgbmFtZSBpcyB1c2VkICovXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zW21hcFsxXV0gPSBvcHRpb25zW21hcFswXV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHZhciBzb2FwRW52ZWxvcGUgPSBuZXcgU09BUEVudmVsb3BlKCk7XG4gICAgICAgICAgICAgICAgdmFyIFNPQVBBY3Rpb247XG5cbiAgICAgICAgICAgICAgICAvLyBJZiB0aGVyZSBhcmUgbm8gb3B0aW9ucyBwYXNzZWQgaW4sIHVzZSB0aGUgZGVmYXVsdHMuICBFeHRlbmQgcmVwbGFjZXMgZWFjaCBkZWZhdWx0IHdpdGggdGhlIHBhc3NlZCBvcHRpb24uXG4gICAgICAgICAgICAgICAgdmFyIG9wdCA9IF8uZXh0ZW5kKHt9LCBkZWZhdWx0cywgb3B0aW9ucyk7XG5cbiAgICAgICAgICAgICAgICAvLyBFbmNvZGUgb3B0aW9ucyB3aGljaCBtYXkgY29udGFpbiBzcGVjaWFsIGNoYXJhY3RlciwgZXNwLiBhbXBlcnNhbmRcbiAgICAgICAgICAgICAgICBfLmVhY2goZW5jb2RlT3B0aW9uTGlzdCwgZnVuY3Rpb24gKG9wdGlvbk5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF8uaXNTdHJpbmcob3B0W29wdGlvbk5hbWVdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3B0W29wdGlvbk5hbWVdID0gZW5jb2RlWG1sKG9wdFtvcHRpb25OYW1lXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHZhciBzZXJ2aWNlID0gYXBXZWJTZXJ2aWNlT3BlcmF0aW9uQ29uc3RhbnRzW29wdC5vcGVyYXRpb25dWzBdO1xuXG4gICAgICAgICAgICAgICAgLy8gUHV0IHRvZ2V0aGVyIG9wZXJhdGlvbiBoZWFkZXIgYW5kIFNPQVBBY3Rpb24gZm9yIHRoZSBTT0FQIGNhbGwgYmFzZWQgb24gd2hpY2ggV2ViIFNlcnZpY2Ugd2UncmUgY2FsbGluZ1xuICAgICAgICAgICAgICAgIHNvYXBFbnZlbG9wZS5vcGhlYWRlciA9IFwiPFwiICsgb3B0Lm9wZXJhdGlvbiArIFwiIHhtbG5zPSdcIiArIGFwV2ViU2VydmljZVNlcnZpY2UueG1sbnMoc2VydmljZSkgKyBcIicgPlwiO1xuICAgICAgICAgICAgICAgIFNPQVBBY3Rpb24gPSBhcFdlYlNlcnZpY2VTZXJ2aWNlLmFjdGlvbihzZXJ2aWNlKTtcblxuICAgICAgICAgICAgICAgIC8vIEFkZCB0aGUgb3BlcmF0aW9uIHRvIHRoZSBTT0FQQWN0aW9uIGFuZCBvcGZvb3RlclxuICAgICAgICAgICAgICAgIFNPQVBBY3Rpb24gKz0gb3B0Lm9wZXJhdGlvbjtcbiAgICAgICAgICAgICAgICBzb2FwRW52ZWxvcGUub3Bmb290ZXIgPSBcIjwvXCIgKyBvcHQub3BlcmF0aW9uICsgXCI+XCI7XG5cbiAgICAgICAgICAgICAgICAvLyBFYWNoIG9wZXJhdGlvbiByZXF1aXJlcyBhIGRpZmZlcmVudCBzZXQgb2YgdmFsdWVzLiAgVGhpcyBzd2l0Y2ggc3RhdGVtZW50IHNldHMgdGhlbSB1cCBpbiB0aGUgc29hcEVudmVsb3BlLnBheWxvYWQuXG4gICAgICAgICAgICAgICAgc3dpdGNoIChvcHQub3BlcmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEFMRVJUIE9QRVJBVElPTlNcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkdldEFsZXJ0c1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJEZWxldGVBbGVydHNcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvYXBFbnZlbG9wZS5wYXlsb2FkICs9IFwiPElEcz5cIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBvcHQuSURzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc29hcEVudmVsb3BlLnBheWxvYWQgKz0gd3JhcE5vZGUoXCJzdHJpbmdcIiwgb3B0LklEc1tpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBzb2FwRW52ZWxvcGUucGF5bG9hZCArPSBcIjwvSURzPlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQVVUSEVOVElDQVRJT04gT1BFUkFUSU9OU1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiTW9kZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJMb2dpblwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1widXNlcm5hbWVcIiwgXCJwYXNzd29yZFwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAvLyBDT1BZIE9QRVJBVElPTlNcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkNvcHlJbnRvSXRlbXNcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcIlNvdXJjZVVybFwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzb2FwRW52ZWxvcGUucGF5bG9hZCArPSBcIjxEZXN0aW5hdGlvblVybHM+XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgb3B0LkRlc3RpbmF0aW9uVXJscy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvYXBFbnZlbG9wZS5wYXlsb2FkICs9IHdyYXBOb2RlKFwic3RyaW5nXCIsIG9wdC5EZXN0aW5hdGlvblVybHNbaV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgc29hcEVudmVsb3BlLnBheWxvYWQgKz0gXCI8L0Rlc3RpbmF0aW9uVXJscz5cIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcIkZpZWxkc1wiLCBcIlN0cmVhbVwiLCBcIlJlc3VsdHNcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJDb3B5SW50b0l0ZW1zTG9jYWxcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcIlNvdXJjZVVybFwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzb2FwRW52ZWxvcGUucGF5bG9hZCArPSBcIjxEZXN0aW5hdGlvblVybHM+XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgb3B0LkRlc3RpbmF0aW9uVXJscy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvYXBFbnZlbG9wZS5wYXlsb2FkICs9IHdyYXBOb2RlKFwic3RyaW5nXCIsIG9wdC5EZXN0aW5hdGlvblVybHNbaV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgc29hcEVudmVsb3BlLnBheWxvYWQgKz0gXCI8L0Rlc3RpbmF0aW9uVXJscz5cIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiR2V0SXRlbVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wiVXJsXCIsIFwiRmllbGRzXCIsIFwiU3RyZWFtXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIEZPUk0gT1BFUkFUSU9OU1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiR2V0Rm9ybVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wibGlzdE5hbWVcIiwgXCJmb3JtVXJsXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiR2V0Rm9ybUNvbGxlY3Rpb25cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcImxpc3ROYW1lXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIExJU1QgT1BFUkFUSU9OU1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiQWRkQXR0YWNobWVudFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wibGlzdE5hbWVcIiwgXCJsaXN0SXRlbUlEXCIsIFwiZmlsZU5hbWVcIiwgXCJhdHRhY2htZW50XCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiQWRkRGlzY3Vzc2lvbkJvYXJkSXRlbVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wibGlzdE5hbWVcIiwgXCJtZXNzYWdlXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiQWRkTGlzdFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wibGlzdE5hbWVcIiwgXCJkZXNjcmlwdGlvblwiLCBcInRlbXBsYXRlSURcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJBZGRMaXN0RnJvbUZlYXR1cmVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcImxpc3ROYW1lXCIsIFwiZGVzY3JpcHRpb25cIiwgXCJmZWF0dXJlSURcIiwgXCJ0ZW1wbGF0ZUlEXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiQXBwbHlDb250ZW50VHlwZVRvTGlzdFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wid2ViVXJsXCIsIFwiY29udGVudFR5cGVJZFwiLCBcImxpc3ROYW1lXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiQ2hlY2tJbkZpbGVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcInBhZ2VVcmxcIiwgXCJjb21tZW50XCIsIFwiQ2hlY2tpblR5cGVcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJDaGVja091dEZpbGVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcInBhZ2VVcmxcIiwgXCJjaGVja291dFRvTG9jYWxcIiwgXCJsYXN0bW9kaWZpZWRcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJDcmVhdGVDb250ZW50VHlwZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wibGlzdE5hbWVcIiwgXCJkaXNwbGF5TmFtZVwiLCBcInBhcmVudFR5cGVcIiwgXCJmaWVsZHNcIiwgXCJjb250ZW50VHlwZVByb3BlcnRpZXNcIiwgXCJhZGRUb1ZpZXdcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJEZWxldGVBdHRhY2htZW50XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJsaXN0TmFtZVwiLCBcImxpc3RJdGVtSURcIiwgXCJ1cmxcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJEZWxldGVDb250ZW50VHlwZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wibGlzdE5hbWVcIiwgXCJjb250ZW50VHlwZUlkXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiRGVsZXRlQ29udGVudFR5cGVYbWxEb2N1bWVudFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wibGlzdE5hbWVcIiwgXCJjb250ZW50VHlwZUlkXCIsIFwiZG9jdW1lbnRVcmlcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJEZWxldGVMaXN0XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJsaXN0TmFtZVwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkdldEF0dGFjaG1lbnRDb2xsZWN0aW9uXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJsaXN0TmFtZVwiLCBbXCJsaXN0SXRlbUlEXCIsIFwiSURcIl1dKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiR2V0TGlzdFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wibGlzdE5hbWVcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJHZXRMaXN0QW5kVmlld1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wibGlzdE5hbWVcIiwgXCJ2aWV3TmFtZVwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkdldExpc3RDb2xsZWN0aW9uXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkdldExpc3RDb250ZW50VHlwZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wibGlzdE5hbWVcIiwgXCJjb250ZW50VHlwZUlkXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiR2V0TGlzdENvbnRlbnRUeXBlc1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wibGlzdE5hbWVcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJHZXRMaXN0SXRlbXNcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW1wibGlzdE5hbWVcIiwgXCJ2aWV3TmFtZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbXCJxdWVyeVwiLCBcIkNBTUxRdWVyeVwiXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW1widmlld0ZpZWxkc1wiLCBcIkNBTUxWaWV3RmllbGRzXCJdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbXCJyb3dMaW1pdFwiLCBcIkNBTUxSb3dMaW1pdFwiXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW1wicXVlcnlPcHRpb25zXCIsIFwiQ0FNTFF1ZXJ5T3B0aW9uc1wiXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJHZXRMaXN0SXRlbUNoYW5nZXNcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcImxpc3ROYW1lXCIsIFwidmlld0ZpZWxkc1wiLCBcInNpbmNlXCIsIFwiY29udGFpbnNcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJHZXRMaXN0SXRlbUNoYW5nZXNTaW5jZVRva2VuXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtcImxpc3ROYW1lXCIsIFwidmlld05hbWVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW1wicXVlcnlcIiwgXCJDQU1MUXVlcnlcIl0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtcInZpZXdGaWVsZHNcIiwgXCJDQU1MVmlld0ZpZWxkc1wiXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW1wicm93TGltaXRcIiwgXCJDQU1MUm93TGltaXRcIl0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtcInF1ZXJ5T3B0aW9uc1wiLCBcIkNBTUxRdWVyeU9wdGlvbnNcIl0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiY2hhbmdlVG9rZW5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbmROdWxsOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcImNvbnRhaW5zXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZW5kTnVsbDogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJHZXRWZXJzaW9uQ29sbGVjdGlvblwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wic3RybGlzdElEXCIsIFwic3RybGlzdEl0ZW1JRFwiLCBcInN0ckZpZWxkTmFtZVwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlVuZG9DaGVja091dFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wicGFnZVVybFwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlVwZGF0ZUNvbnRlbnRUeXBlXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJsaXN0TmFtZVwiLCBcImNvbnRlbnRUeXBlSWRcIiwgXCJjb250ZW50VHlwZVByb3BlcnRpZXNcIiwgXCJuZXdGaWVsZHNcIiwgXCJ1cGRhdGVGaWVsZHNcIiwgXCJkZWxldGVGaWVsZHNcIiwgXCJhZGRUb1ZpZXdcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJVcGRhdGVDb250ZW50VHlwZXNYbWxEb2N1bWVudFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wibGlzdE5hbWVcIiwgXCJuZXdEb2N1bWVudFwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlVwZGF0ZUNvbnRlbnRUeXBlWG1sRG9jdW1lbnRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcImxpc3ROYW1lXCIsIFwiY29udGVudFR5cGVJZFwiLCBcIm5ld0RvY3VtZW50XCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiVXBkYXRlTGlzdFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wibGlzdE5hbWVcIiwgXCJsaXN0UHJvcGVydGllc1wiLCBcIm5ld0ZpZWxkc1wiLCBcInVwZGF0ZUZpZWxkc1wiLCBcImRlbGV0ZUZpZWxkc1wiLCBcImxpc3RWZXJzaW9uXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiVXBkYXRlTGlzdEl0ZW1zXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJsaXN0TmFtZVwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9wdC51cGRhdGVzICE9PSBcInVuZGVmaW5lZFwiICYmIG9wdC51cGRhdGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJ1cGRhdGVzXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc29hcEVudmVsb3BlLnBheWxvYWQgKz0gXCI8dXBkYXRlcz48QmF0Y2ggT25FcnJvcj0nQ29udGludWUnPjxNZXRob2QgSUQ9JzEnIENtZD0nXCIgKyBvcHQuYmF0Y2hDbWQgKyBcIic+XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IG9wdC52YWx1ZVBhaXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvYXBFbnZlbG9wZS5wYXlsb2FkICs9IFwiPEZpZWxkIE5hbWU9J1wiICsgb3B0LnZhbHVlUGFpcnNbaV1bMF0gKyBcIic+XCIgKyBlc2NhcGVDb2x1bW5WYWx1ZShvcHQudmFsdWVQYWlyc1tpXVsxXSkgKyBcIjwvRmllbGQ+XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHQuYmF0Y2hDbWQgIT09IFwiTmV3XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc29hcEVudmVsb3BlLnBheWxvYWQgKz0gXCI8RmllbGQgTmFtZT0nSUQnPlwiICsgb3B0LklEICsgXCI8L0ZpZWxkPlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb2FwRW52ZWxvcGUucGF5bG9hZCArPSBcIjwvTWV0aG9kPjwvQmF0Y2g+PC91cGRhdGVzPlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gTUVFVElOR1MgT1BFUkFUSU9OU1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiQWRkTWVldGluZ1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wib3JnYW5pemVyRW1haWxcIiwgXCJ1aWRcIiwgXCJzZXF1ZW5jZVwiLCBcInV0Y0RhdGVTdGFtcFwiLCBcInRpdGxlXCIsIFwibG9jYXRpb25cIiwgXCJ1dGNEYXRlU3RhcnRcIiwgXCJ1dGNEYXRlRW5kXCIsIFwibm9uR3JlZ29yaWFuXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiQ3JlYXRlV29ya3NwYWNlXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJ0aXRsZVwiLCBcInRlbXBsYXRlTmFtZVwiLCBcImxjaWRcIiwgXCJ0aW1lWm9uZUluZm9ybWF0aW9uXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiUmVtb3ZlTWVldGluZ1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wicmVjdXJyZW5jZUlkXCIsIFwidWlkXCIsIFwic2VxdWVuY2VcIiwgXCJ1dGNEYXRlU3RhbXBcIiwgXCJjYW5jZWxNZWV0aW5nXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiU2V0V29ya3NwYWNlVGl0bGVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcInRpdGxlXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFBFT1BMRSBPUEVSQVRJT05TXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJSZXNvbHZlUHJpbmNpcGFsc1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wicHJpbmNpcGFsS2V5c1wiLCBcInByaW5jaXBhbFR5cGVcIiwgXCJhZGRUb1VzZXJJbmZvTGlzdFwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlNlYXJjaFByaW5jaXBhbHNcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcInNlYXJjaFRleHRcIiwgXCJtYXhSZXN1bHRzXCIsIFwicHJpbmNpcGFsVHlwZVwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAvLyBQRVJNSVNTSU9OIE9QRVJBVElPTlNcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkFkZFBlcm1pc3Npb25cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcIm9iamVjdE5hbWVcIiwgXCJvYmplY3RUeXBlXCIsIFwicGVybWlzc2lvbklkZW50aWZpZXJcIiwgXCJwZXJtaXNzaW9uVHlwZVwiLCBcInBlcm1pc3Npb25NYXNrXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiQWRkUGVybWlzc2lvbkNvbGxlY3Rpb25cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcIm9iamVjdE5hbWVcIiwgXCJvYmplY3RUeXBlXCIsIFwicGVybWlzc2lvbnNJbmZvWG1sXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiR2V0UGVybWlzc2lvbkNvbGxlY3Rpb25cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcIm9iamVjdE5hbWVcIiwgXCJvYmplY3RUeXBlXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiUmVtb3ZlUGVybWlzc2lvblwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wib2JqZWN0TmFtZVwiLCBcIm9iamVjdFR5cGVcIiwgXCJwZXJtaXNzaW9uSWRlbnRpZmllclwiLCBcInBlcm1pc3Npb25UeXBlXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiUmVtb3ZlUGVybWlzc2lvbkNvbGxlY3Rpb25cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcIm9iamVjdE5hbWVcIiwgXCJvYmplY3RUeXBlXCIsIFwibWVtYmVySWRzWG1sXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiVXBkYXRlUGVybWlzc2lvblwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wib2JqZWN0TmFtZVwiLCBcIm9iamVjdFR5cGVcIiwgXCJwZXJtaXNzaW9uSWRlbnRpZmllclwiLCBcInBlcm1pc3Npb25UeXBlXCIsIFwicGVybWlzc2lvbk1hc2tcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gUFVCTElTSEVETElOS1NTRVJWSUNFIE9QRVJBVElPTlNcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkdldExpbmtzXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAvLyBTRUFSQ0ggT1BFUkFUSU9OU1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiR2V0UG9ydGFsU2VhcmNoSW5mb1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgc29hcEVudmVsb3BlLm9waGVhZGVyID0gXCI8XCIgKyBvcHQub3BlcmF0aW9uICsgXCIgeG1sbnM9J2h0dHA6Ly9taWNyb3NvZnQuY29tL3dlYnNlcnZpY2VzL09mZmljZVNlcnZlci9RdWVyeVNlcnZpY2UnPlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgU09BUEFjdGlvbiA9IFwiaHR0cDovL21pY3Jvc29mdC5jb20vd2Vic2VydmljZXMvT2ZmaWNlU2VydmVyL1F1ZXJ5U2VydmljZS9cIiArIG9wdC5vcGVyYXRpb247XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkdldFF1ZXJ5U3VnZ2VzdGlvbnNcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvYXBFbnZlbG9wZS5vcGhlYWRlciA9IFwiPFwiICsgb3B0Lm9wZXJhdGlvbiArIFwiIHhtbG5zPSdodHRwOi8vbWljcm9zb2Z0LmNvbS93ZWJzZXJ2aWNlcy9PZmZpY2VTZXJ2ZXIvUXVlcnlTZXJ2aWNlJz5cIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIFNPQVBBY3Rpb24gPSBcImh0dHA6Ly9taWNyb3NvZnQuY29tL3dlYnNlcnZpY2VzL09mZmljZVNlcnZlci9RdWVyeVNlcnZpY2UvXCIgKyBvcHQub3BlcmF0aW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgc29hcEVudmVsb3BlLnBheWxvYWQgKz0gd3JhcE5vZGUoXCJxdWVyeVhtbFwiLCBlbmNvZGVYbWwob3B0LnF1ZXJ5WG1sKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkdldFNlYXJjaE1ldGFkYXRhXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBzb2FwRW52ZWxvcGUub3BoZWFkZXIgPSBcIjxcIiArIG9wdC5vcGVyYXRpb24gKyBcIiB4bWxucz0naHR0cDovL21pY3Jvc29mdC5jb20vd2Vic2VydmljZXMvT2ZmaWNlU2VydmVyL1F1ZXJ5U2VydmljZSc+XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBTT0FQQWN0aW9uID0gXCJodHRwOi8vbWljcm9zb2Z0LmNvbS93ZWJzZXJ2aWNlcy9PZmZpY2VTZXJ2ZXIvUXVlcnlTZXJ2aWNlL1wiICsgb3B0Lm9wZXJhdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiUXVlcnlcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvYXBFbnZlbG9wZS5wYXlsb2FkICs9IHdyYXBOb2RlKFwicXVlcnlYbWxcIiwgZW5jb2RlWG1sKG9wdC5xdWVyeVhtbCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJRdWVyeUV4XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBzb2FwRW52ZWxvcGUub3BoZWFkZXIgPSBcIjxcIiArIG9wdC5vcGVyYXRpb24gKyBcIiB4bWxucz0naHR0cDovL21pY3Jvc29mdC5jb20vd2Vic2VydmljZXMvT2ZmaWNlU2VydmVyL1F1ZXJ5U2VydmljZSc+XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBTT0FQQWN0aW9uID0gXCJodHRwOi8vbWljcm9zb2Z0LmNvbS93ZWJzZXJ2aWNlcy9PZmZpY2VTZXJ2ZXIvUXVlcnlTZXJ2aWNlL1wiICsgb3B0Lm9wZXJhdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvYXBFbnZlbG9wZS5wYXlsb2FkICs9IHdyYXBOb2RlKFwicXVlcnlYbWxcIiwgZW5jb2RlWG1sKG9wdC5xdWVyeVhtbCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJSZWdpc3RyYXRpb25cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvYXBFbnZlbG9wZS5wYXlsb2FkICs9IHdyYXBOb2RlKFwicmVnaXN0cmF0aW9uWG1sXCIsIGVuY29kZVhtbChvcHQucmVnaXN0cmF0aW9uWG1sKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlN0YXR1c1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gU0hBUkVQT0lOVERJQUdOT1NUSUNTIE9QRVJBVElPTlNcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlNlbmRDbGllbnRTY3JpcHRFcnJvclJlcG9ydFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wibWVzc2FnZVwiLCBcImZpbGVcIiwgXCJsaW5lXCIsIFwiY2xpZW50XCIsIFwic3RhY2tcIiwgXCJ0ZWFtXCIsIFwib3JpZ2luYWxGaWxlXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFNJVEVEQVRBIE9QRVJBVElPTlNcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkVudW1lcmF0ZUZvbGRlclwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wic3RyRm9sZGVyVXJsXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiR2V0QXR0YWNobWVudHNcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcInN0ckxpc3ROYW1lXCIsIFwic3RySXRlbUlkXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiU2l0ZURhdGFHZXRMaXN0XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJzdHJMaXN0TmFtZVwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBCZWNhdXNlIHRoaXMgb3BlcmF0aW9uIGhhcyBhIG5hbWUgd2hpY2ggZHVwbGljYXRlcyB0aGUgTGlzdHMgV1MsIG5lZWQgdG8gaGFuZGxlXG4gICAgICAgICAgICAgICAgICAgICAgICBzb2FwRW52ZWxvcGUgPSBzaXRlRGF0YUZpeFNPQVBFbnZlbG9wZShzb2FwRW52ZWxvcGUsIG9wdC5vcGVyYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJTaXRlRGF0YUdldExpc3RDb2xsZWN0aW9uXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBCZWNhdXNlIHRoaXMgb3BlcmF0aW9uIGhhcyBhIG5hbWUgd2hpY2ggZHVwbGljYXRlcyB0aGUgTGlzdHMgV1MsIG5lZWQgdG8gaGFuZGxlXG4gICAgICAgICAgICAgICAgICAgICAgICBzb2FwRW52ZWxvcGUgPSBzaXRlRGF0YUZpeFNPQVBFbnZlbG9wZShzb2FwRW52ZWxvcGUsIG9wdC5vcGVyYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJTaXRlRGF0YUdldFNpdGVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEJlY2F1c2UgdGhpcyBvcGVyYXRpb24gaGFzIGEgbmFtZSB3aGljaCBkdXBsaWNhdGVzIHRoZSBMaXN0cyBXUywgbmVlZCB0byBoYW5kbGVcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvYXBFbnZlbG9wZSA9IHNpdGVEYXRhRml4U09BUEVudmVsb3BlKHNvYXBFbnZlbG9wZSwgb3B0Lm9wZXJhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlNpdGVEYXRhR2V0U2l0ZVVybFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wiVXJsXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEJlY2F1c2UgdGhpcyBvcGVyYXRpb24gaGFzIGEgbmFtZSB3aGljaCBkdXBsaWNhdGVzIHRoZSBMaXN0cyBXUywgbmVlZCB0byBoYW5kbGVcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvYXBFbnZlbG9wZSA9IHNpdGVEYXRhRml4U09BUEVudmVsb3BlKHNvYXBFbnZlbG9wZSwgb3B0Lm9wZXJhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlNpdGVEYXRhR2V0V2ViXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBCZWNhdXNlIHRoaXMgb3BlcmF0aW9uIGhhcyBhIG5hbWUgd2hpY2ggZHVwbGljYXRlcyB0aGUgTGlzdHMgV1MsIG5lZWQgdG8gaGFuZGxlXG4gICAgICAgICAgICAgICAgICAgICAgICBzb2FwRW52ZWxvcGUgPSBzaXRlRGF0YUZpeFNPQVBFbnZlbG9wZShzb2FwRW52ZWxvcGUsIG9wdC5vcGVyYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gU0lURVMgT1BFUkFUSU9OU1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiQ3JlYXRlV2ViXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJ1cmxcIiwgXCJ0aXRsZVwiLCBcImRlc2NyaXB0aW9uXCIsIFwidGVtcGxhdGVOYW1lXCIsIFwibGFuZ3VhZ2VcIiwgXCJsYW5ndWFnZVNwZWNpZmllZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibG9jYWxlXCIsIFwibG9jYWxlU3BlY2lmaWVkXCIsIFwiY29sbGF0aW9uTG9jYWxlXCIsIFwiY29sbGF0aW9uTG9jYWxlU3BlY2lmaWVkXCIsIFwidW5pcXVlUGVybWlzc2lvbnNcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInVuaXF1ZVBlcm1pc3Npb25zU3BlY2lmaWVkXCIsIFwiYW5vbnltb3VzXCIsIFwiYW5vbnltb3VzU3BlY2lmaWVkXCIsIFwicHJlc2VuY2VcIiwgXCJwcmVzZW5jZVNwZWNpZmllZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiRGVsZXRlV2ViXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJ1cmxcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJHZXRTaXRlXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJTaXRlVXJsXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiR2V0U2l0ZVRlbXBsYXRlc1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wiTENJRFwiLCBcIlRlbXBsYXRlTGlzdFwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAvLyBTT0NJQUxEQVRBU0VSVklDRSBPUEVSQVRJT05TXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJBZGRDb21tZW50XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJ1cmxcIiwgXCJjb21tZW50XCIsIFwiaXNIaWdoUHJpb3JpdHlcIiwgXCJ0aXRsZVwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkFkZFRhZ1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1widXJsXCIsIFwidGVybUlEXCIsIFwidGl0bGVcIiwgXCJpc1ByaXZhdGVcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJBZGRUYWdCeUtleXdvcmRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcInVybFwiLCBcImtleXdvcmRcIiwgXCJ0aXRsZVwiLCBcImlzUHJpdmF0ZVwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkNvdW50Q29tbWVudHNPZlVzZXJcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcInVzZXJBY2NvdW50TmFtZVwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkNvdW50Q29tbWVudHNPZlVzZXJPblVybFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1widXNlckFjY291bnROYW1lXCIsIFwidXJsXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiQ291bnRDb21tZW50c09uVXJsXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJ1cmxcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJDb3VudFJhdGluZ3NPblVybFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1widXJsXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiQ291bnRUYWdzT2ZVc2VyXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJ1c2VyQWNjb3VudE5hbWVcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJEZWxldGVDb21tZW50XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJ1cmxcIiwgXCJsYXN0TW9kaWZpZWRUaW1lXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiRGVsZXRlUmF0aW5nXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJ1cmxcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJEZWxldGVUYWdcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcInVybFwiLCBcInRlcm1JRFwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkRlbGV0ZVRhZ0J5S2V5d29yZFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1widXJsXCIsIFwia2V5d29yZFwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkRlbGV0ZVRhZ3NcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcInVybFwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkdldEFsbFRhZ1Rlcm1zXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJtYXhpbXVtSXRlbXNUb1JldHVyblwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkdldEFsbFRhZ1Rlcm1zRm9yVXJsRm9sZGVyXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJ1cmxGb2xkZXJcIiwgXCJtYXhpbXVtSXRlbXNUb1JldHVyblwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkdldEFsbFRhZ1VybHNcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcInRlcm1JRFwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkdldEFsbFRhZ1VybHNCeUtleXdvcmRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcImtleXdvcmRcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJHZXRDb21tZW50c09mVXNlclwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1widXNlckFjY291bnROYW1lXCIsIFwibWF4aW11bUl0ZW1zVG9SZXR1cm5cIiwgXCJzdGFydEluZGV4XCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiR2V0Q29tbWVudHNPZlVzZXJPblVybFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1widXNlckFjY291bnROYW1lXCIsIFwidXJsXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiR2V0Q29tbWVudHNPblVybFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1widXJsXCIsIFwibWF4aW11bUl0ZW1zVG9SZXR1cm5cIiwgXCJzdGFydEluZGV4XCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb3B0LmV4Y2x1ZGVJdGVtc1RpbWUgIT09IFwidW5kZWZpbmVkXCIgJiYgb3B0LmV4Y2x1ZGVJdGVtc1RpbWUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvYXBFbnZlbG9wZS5wYXlsb2FkICs9IHdyYXBOb2RlKFwiZXhjbHVkZUl0ZW1zVGltZVwiLCBvcHQuZXhjbHVkZUl0ZW1zVGltZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkdldFJhdGluZ0F2ZXJhZ2VPblVybFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1widXJsXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiR2V0UmF0aW5nT2ZVc2VyT25VcmxcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcInVzZXJBY2NvdW50TmFtZVwiLCBcInVybFwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkdldFJhdGluZ09uVXJsXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJ1cmxcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJHZXRSYXRpbmdzT2ZVc2VyXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJ1c2VyQWNjb3VudE5hbWVcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJHZXRSYXRpbmdzT25VcmxcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcInVybFwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkdldFNvY2lhbERhdGFGb3JGdWxsUmVwbGljYXRpb25cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcInVzZXJBY2NvdW50TmFtZVwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkdldFRhZ3NcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcInVybFwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkdldFRhZ3NPZlVzZXJcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcInVzZXJBY2NvdW50TmFtZVwiLCBcIm1heGltdW1JdGVtc1RvUmV0dXJuXCIsIFwic3RhcnRJbmRleFwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkdldFRhZ1Rlcm1zXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJtYXhpbXVtSXRlbXNUb1JldHVyblwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkdldFRhZ1Rlcm1zT2ZVc2VyXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJ1c2VyQWNjb3VudE5hbWVcIiwgXCJtYXhpbXVtSXRlbXNUb1JldHVyblwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkdldFRhZ1Rlcm1zT25VcmxcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcInVybFwiLCBcIm1heGltdW1JdGVtc1RvUmV0dXJuXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiR2V0VGFnVXJsc1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1widGVybUlEXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiR2V0VGFnVXJsc0J5S2V5d29yZFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wia2V5d29yZFwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkdldFRhZ1VybHNPZlVzZXJcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcInRlcm1JRFwiLCBcInVzZXJBY2NvdW50TmFtZVwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkdldFRhZ1VybHNPZlVzZXJCeUtleXdvcmRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcImtleXdvcmRcIiwgXCJ1c2VyQWNjb3VudE5hbWVcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJTZXRSYXRpbmdcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcInVybFwiLCBcInJhdGluZ1wiLCBcInRpdGxlXCIsIFwiYW5hbHlzaXNEYXRhRW50cnlcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJVcGRhdGVDb21tZW50XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJ1cmxcIiwgXCJsYXN0TW9kaWZpZWRUaW1lXCIsIFwiY29tbWVudFwiLCBcImlzSGlnaFByaW9yaXR5XCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFNQRUxMQ0hFQ0sgT1BFUkFUSU9OU1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiU3BlbGxDaGVja1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wiY2h1bmtzVG9TcGVsbFwiLCBcImRlY2xhcmVkTGFuZ3VhZ2VcIiwgXCJ1c2VMYWRcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVEFYT05PTVkgT1BFUkFUSU9OU1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiQWRkVGVybXNcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcInNoYXJlZFNlcnZpY2VJZFwiLCBcInRlcm1TZXRJZFwiLCBcImxjaWRcIiwgXCJuZXdUZXJtc1wiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkdldENoaWxkVGVybXNJblRlcm1cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcInNzcElkXCIsIFwibGNpZFwiLCBcInRlcm1JZFwiLCBcInRlcm1TZXRJZFwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkdldENoaWxkVGVybXNJblRlcm1TZXRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcInNzcElkXCIsIFwibGNpZFwiLCBcInRlcm1TZXRJZFwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkdldEtleXdvcmRUZXJtc0J5R3VpZHNcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcInRlcm1JZHNcIiwgXCJsY2lkXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiR2V0VGVybXNCeUxhYmVsXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJsYWJlbFwiLCBcImxjaWRcIiwgXCJtYXRjaE9wdGlvblwiLCBcInJlc3VsdENvbGxlY3Rpb25TaXplXCIsIFwidGVybUlkc1wiLCBcImFkZElmTm90Rm91bmRcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJHZXRUZXJtU2V0c1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wic2hhcmVkU2VydmljZUlkXCIsIFwidGVybVNldElkXCIsIFwibGNpZFwiLCBcImNsaWVudFRpbWVTdGFtcHNcIiwgXCJjbGllbnRWZXJzaW9uc1wiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAvLyBVU0VSUyBBTkQgR1JPVVBTIE9QRVJBVElPTlNcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkFkZEdyb3VwXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJncm91cE5hbWVcIiwgXCJvd25lcklkZW50aWZpZXJcIiwgXCJvd25lclR5cGVcIiwgXCJkZWZhdWx0VXNlckxvZ2luTmFtZVwiLCBcImRlc2NyaXB0aW9uXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiQWRkR3JvdXBUb1JvbGVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcImdyb3VwTmFtZVwiLCBcInJvbGVOYW1lXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiQWRkUm9sZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wicm9sZU5hbWVcIiwgXCJkZXNjcmlwdGlvblwiLCBcInBlcm1pc3Npb25NYXNrXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiQWRkUm9sZURlZlwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wicm9sZU5hbWVcIiwgXCJkZXNjcmlwdGlvblwiLCBcInBlcm1pc3Npb25NYXNrXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiQWRkVXNlckNvbGxlY3Rpb25Ub0dyb3VwXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJncm91cE5hbWVcIiwgXCJ1c2Vyc0luZm9YbWxcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJBZGRVc2VyQ29sbGVjdGlvblRvUm9sZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wicm9sZU5hbWVcIiwgXCJ1c2Vyc0luZm9YbWxcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJBZGRVc2VyVG9Hcm91cFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wiZ3JvdXBOYW1lXCIsIFwidXNlck5hbWVcIiwgXCJ1c2VyTG9naW5OYW1lXCIsIFwidXNlckVtYWlsXCIsIFwidXNlck5vdGVzXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiQWRkVXNlclRvUm9sZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wicm9sZU5hbWVcIiwgXCJ1c2VyTmFtZVwiLCBcInVzZXJMb2dpbk5hbWVcIiwgXCJ1c2VyRW1haWxcIiwgXCJ1c2VyTm90ZXNcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJHZXRBbGxVc2VyQ29sbGVjdGlvbkZyb21XZWJcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiR2V0R3JvdXBDb2xsZWN0aW9uXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJncm91cE5hbWVzWG1sXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiR2V0R3JvdXBDb2xsZWN0aW9uRnJvbVJvbGVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcInJvbGVOYW1lXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiR2V0R3JvdXBDb2xsZWN0aW9uRnJvbVNpdGVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiR2V0R3JvdXBDb2xsZWN0aW9uRnJvbVVzZXJcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcInVzZXJMb2dpbk5hbWVcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJHZXRHcm91cENvbGxlY3Rpb25Gcm9tV2ViXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkdldEdyb3VwSW5mb1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wiZ3JvdXBOYW1lXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiR2V0Um9sZUNvbGxlY3Rpb25cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcInJvbGVOYW1lc1htbFwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkdldFJvbGVDb2xsZWN0aW9uRnJvbUdyb3VwXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJncm91cE5hbWVcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJHZXRSb2xlQ29sbGVjdGlvbkZyb21Vc2VyXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJ1c2VyTG9naW5OYW1lXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiR2V0Um9sZUNvbGxlY3Rpb25Gcm9tV2ViXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkdldFJvbGVJbmZvXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJyb2xlTmFtZVwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkdldFJvbGVzQW5kUGVybWlzc2lvbnNGb3JDdXJyZW50VXNlclwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJHZXRSb2xlc0FuZFBlcm1pc3Npb25zRm9yU2l0ZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJHZXRVc2VyQ29sbGVjdGlvblwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1widXNlckxvZ2luTmFtZXNYbWxcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJHZXRVc2VyQ29sbGVjdGlvbkZyb21Hcm91cFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wiZ3JvdXBOYW1lXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiR2V0VXNlckNvbGxlY3Rpb25Gcm9tUm9sZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wicm9sZU5hbWVcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJHZXRVc2VyQ29sbGVjdGlvbkZyb21TaXRlXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkdldFVzZXJDb2xsZWN0aW9uRnJvbVdlYlwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJHZXRVc2VySW5mb1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1widXNlckxvZ2luTmFtZVwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkdldFVzZXJMb2dpbkZyb21FbWFpbFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wiZW1haWxYbWxcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJSZW1vdmVHcm91cFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wiZ3JvdXBOYW1lXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiUmVtb3ZlR3JvdXBGcm9tUm9sZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wicm9sZU5hbWVcIiwgXCJncm91cE5hbWVcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJSZW1vdmVSb2xlXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJyb2xlTmFtZVwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlJlbW92ZVVzZXJDb2xsZWN0aW9uRnJvbUdyb3VwXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJncm91cE5hbWVcIiwgXCJ1c2VyTG9naW5OYW1lc1htbFwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlJlbW92ZVVzZXJDb2xsZWN0aW9uRnJvbVJvbGVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcInJvbGVOYW1lXCIsIFwidXNlckxvZ2luTmFtZXNYbWxcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJSZW1vdmVVc2VyQ29sbGVjdGlvbkZyb21TaXRlXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJ1c2VyTG9naW5OYW1lc1htbFwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlJlbW92ZVVzZXJGcm9tR3JvdXBcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcImdyb3VwTmFtZVwiLCBcInVzZXJMb2dpbk5hbWVcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJSZW1vdmVVc2VyRnJvbVJvbGVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcInJvbGVOYW1lXCIsIFwidXNlckxvZ2luTmFtZVwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlJlbW92ZVVzZXJGcm9tU2l0ZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1widXNlckxvZ2luTmFtZVwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlJlbW92ZVVzZXJGcm9tV2ViXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJ1c2VyTG9naW5OYW1lXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiVXBkYXRlR3JvdXBJbmZvXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJvbGRHcm91cE5hbWVcIiwgXCJncm91cE5hbWVcIiwgXCJvd25lcklkZW50aWZpZXJcIiwgXCJvd25lclR5cGVcIiwgXCJkZXNjcmlwdGlvblwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlVwZGF0ZVJvbGVEZWZJbmZvXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJvbGRSb2xlTmFtZVwiLCBcInJvbGVOYW1lXCIsIFwiZGVzY3JpcHRpb25cIiwgXCJwZXJtaXNzaW9uTWFza1wiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlVwZGF0ZVJvbGVJbmZvXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJvbGRSb2xlTmFtZVwiLCBcInJvbGVOYW1lXCIsIFwiZGVzY3JpcHRpb25cIiwgXCJwZXJtaXNzaW9uTWFza1wiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlVwZGF0ZVVzZXJJbmZvXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJ1c2VyTG9naW5OYW1lXCIsIFwidXNlck5hbWVcIiwgXCJ1c2VyRW1haWxcIiwgXCJ1c2VyTm90ZXNcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVVNFUlBST0ZJTEVTRVJWSUNFIE9QRVJBVElPTlNcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkFkZENvbGxlYWd1ZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wiYWNjb3VudE5hbWVcIiwgXCJjb2xsZWFndWVBY2NvdW50TmFtZVwiLCBcImdyb3VwXCIsIFwicHJpdmFjeVwiLCBcImlzSW5Xb3JrR3JvdXBcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJBZGRMaW5rXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJhY2NvdW50TmFtZVwiLCBcIm5hbWVcIiwgXCJ1cmxcIiwgXCJncm91cFwiLCBcInByaXZhY3lcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJBZGRNZW1iZXJzaGlwXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJhY2NvdW50TmFtZVwiLCBcIm1lbWJlcnNoaXBJbmZvXCIsIFwiZ3JvdXBcIiwgXCJwcml2YWN5XCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiQWRkUGlubmVkTGlua1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wiYWNjb3VudE5hbWVcIiwgXCJuYW1lXCIsIFwidXJsXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiQ3JlYXRlTWVtYmVyR3JvdXBcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcIm1lbWJlcnNoaXBJbmZvXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiQ3JlYXRlVXNlclByb2ZpbGVCeUFjY291bnROYW1lXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJhY2NvdW50TmFtZVwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkdldENvbW1vbkNvbGxlYWd1ZXNcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcImFjY291bnROYW1lXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiR2V0Q29tbW9uTWFuYWdlclwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wiYWNjb3VudE5hbWVcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJHZXRDb21tb25NZW1iZXJzaGlwc1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wiYWNjb3VudE5hbWVcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJHZXRJbkNvbW1vblwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wiYWNjb3VudE5hbWVcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJHZXRQcm9wZXJ0eUNob2ljZUxpc3RcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcInByb3BlcnR5TmFtZVwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkdldFVzZXJDb2xsZWFndWVzXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJhY2NvdW50TmFtZVwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkdldFVzZXJMaW5rc1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wiYWNjb3VudE5hbWVcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJHZXRVc2VyTWVtYmVyc2hpcHNcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcImFjY291bnROYW1lXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiR2V0VXNlclBpbm5lZExpbmtzXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJhY2NvdW50TmFtZVwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkdldFVzZXJQcm9maWxlQnlHdWlkXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJndWlkXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiR2V0VXNlclByb2ZpbGVCeUluZGV4XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJpbmRleFwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkdldFVzZXJQcm9maWxlQnlOYW1lXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBOb3RlIHRoYXQgdGhpcyBvcGVyYXRpb24gaXMgaW5jb25zaXN0ZW50IHdpdGggdGhlIG90aGVycywgdXNpbmcgQWNjb3VudE5hbWUgcmF0aGVyIHRoYW4gYWNjb3VudE5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb3B0LmFjY291bnROYW1lICE9PSBcInVuZGVmaW5lZFwiICYmIG9wdC5hY2NvdW50TmFtZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbXCJBY2NvdW50TmFtZVwiLCBcImFjY291bnROYW1lXCJdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcIkFjY291bnROYW1lXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiR2V0VXNlclByb2ZpbGVDb3VudFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJHZXRVc2VyUHJvZmlsZVNjaGVtYVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJHZXRVc2VyUHJvcGVydHlCeUFjY291bnROYW1lXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJhY2NvdW50TmFtZVwiLCBcInByb3BlcnR5TmFtZVwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIk1vZGlmeVVzZXJQcm9wZXJ0eUJ5QWNjb3VudE5hbWVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcImFjY291bnROYW1lXCIsIFwibmV3RGF0YVwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlJlbW92ZUFsbENvbGxlYWd1ZXNcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcImFjY291bnROYW1lXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiUmVtb3ZlQWxsTGlua3NcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcImFjY291bnROYW1lXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiUmVtb3ZlQWxsTWVtYmVyc2hpcHNcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcImFjY291bnROYW1lXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiUmVtb3ZlQWxsUGlubmVkTGlua3NcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcImFjY291bnROYW1lXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiUmVtb3ZlQ29sbGVhZ3VlXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJhY2NvdW50TmFtZVwiLCBcImNvbGxlYWd1ZUFjY291bnROYW1lXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiUmVtb3ZlTGlua1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wiYWNjb3VudE5hbWVcIiwgXCJpZFwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlJlbW92ZU1lbWJlcnNoaXBcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcImFjY291bnROYW1lXCIsIFwic291cmNlSW50ZXJuYWxcIiwgXCJzb3VyY2VSZWZlcmVuY2VcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJSZW1vdmVQaW5uZWRMaW5rXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJhY2NvdW50TmFtZVwiLCBcImlkXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiVXBkYXRlQ29sbGVhZ3VlUHJpdmFjeVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wiYWNjb3VudE5hbWVcIiwgXCJjb2xsZWFndWVBY2NvdW50TmFtZVwiLCBcIm5ld1ByaXZhY3lcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJVcGRhdGVMaW5rXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJhY2NvdW50TmFtZVwiLCBcImRhdGFcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJVcGRhdGVNZW1iZXJzaGlwUHJpdmFjeVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wiYWNjb3VudE5hbWVcIiwgXCJzb3VyY2VJbnRlcm5hbFwiLCBcInNvdXJjZVJlZmVyZW5jZVwiLCBcIm5ld1ByaXZhY3lcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJVcGRhdGVQaW5uZWRMaW5rIFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wiYWNjb3VudE5hbWVcIiwgXCJkYXRhXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFZFUlNJT05TIE9QRVJBVElPTlNcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkRlbGV0ZUFsbFZlcnNpb25zXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJmaWxlTmFtZVwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkRlbGV0ZVZlcnNpb25cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcImZpbGVOYW1lXCIsIFwiZmlsZVZlcnNpb25cIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJHZXRWZXJzaW9uc1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wiZmlsZU5hbWVcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJSZXN0b3JlVmVyc2lvblwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wiZmlsZU5hbWVcIiwgXCJmaWxlVmVyc2lvblwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAvLyBWSUVXIE9QRVJBVElPTlNcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkFkZFZpZXdcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcImxpc3ROYW1lXCIsIFwidmlld05hbWVcIiwgXCJ2aWV3RmllbGRzXCIsIFwicXVlcnlcIiwgXCJyb3dMaW1pdFwiLCBcInJvd0xpbWl0XCIsIFwidHlwZVwiLCBcIm1ha2VWaWV3RGVmYXVsdFwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkRlbGV0ZVZpZXdcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcImxpc3ROYW1lXCIsIFwidmlld05hbWVcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJHZXRWaWV3XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJsaXN0TmFtZVwiLCBcInZpZXdOYW1lXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiR2V0Vmlld0NvbGxlY3Rpb25cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcImxpc3ROYW1lXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiR2V0Vmlld0h0bWxcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcImxpc3ROYW1lXCIsIFwidmlld05hbWVcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJVcGRhdGVWaWV3XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJsaXN0TmFtZVwiLCBcInZpZXdOYW1lXCIsIFwidmlld1Byb3BlcnRpZXNcIiwgXCJxdWVyeVwiLCBcInZpZXdGaWVsZHNcIiwgXCJhZ2dyZWdhdGlvbnNcIiwgXCJmb3JtYXRzXCIsIFwicm93TGltaXRcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJVcGRhdGVWaWV3SHRtbFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wibGlzdE5hbWVcIiwgXCJ2aWV3TmFtZVwiLCBcInZpZXdQcm9wZXJ0aWVzXCIsIFwidG9vbGJhclwiLCBcInZpZXdIZWFkZXJcIiwgXCJ2aWV3Qm9keVwiLCBcInZpZXdGb290ZXJcIiwgXCJ2aWV3RW1wdHlcIiwgXCJyb3dMaW1pdEV4Y2VlZGVkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJxdWVyeVwiLCBcInZpZXdGaWVsZHNcIiwgXCJhZ2dyZWdhdGlvbnNcIiwgXCJmb3JtYXRzXCIsIFwicm93TGltaXRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAvLyBXRUJQQVJUUEFHRVMgT1BFUkFUSU9OU1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiQWRkV2ViUGFydFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wicGFnZVVybFwiLCBcIndlYlBhcnRYbWxcIiwgXCJzdG9yYWdlXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiQWRkV2ViUGFydFRvWm9uZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wicGFnZVVybFwiLCBcIndlYlBhcnRYbWxcIiwgXCJzdG9yYWdlXCIsIFwiem9uZUlkXCIsIFwiem9uZUluZGV4XCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiR2V0V2ViUGFydDJcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcInBhZ2VVcmxcIiwgXCJzdG9yYWdlS2V5XCIsIFwic3RvcmFnZVwiLCBcImJlaGF2aW9yXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiR2V0V2ViUGFydFBhZ2VcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcImRvY3VtZW50TmFtZVwiLCBcImJlaGF2aW9yXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiR2V0V2ViUGFydFByb3BlcnRpZXNcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcInBhZ2VVcmxcIiwgXCJzdG9yYWdlXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiR2V0V2ViUGFydFByb3BlcnRpZXMyXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJwYWdlVXJsXCIsIFwic3RvcmFnZVwiLCBcImJlaGF2aW9yXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFdFQlMgT1BFUkFUSU9OU1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiV2Vicy5DcmVhdGVDb250ZW50VHlwZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wiZGlzcGxheU5hbWVcIiwgXCJwYXJlbnRUeXBlXCIsIFwibmV3RmllbGRzXCIsIFwiY29udGVudFR5cGVQcm9wZXJ0aWVzXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiR2V0Q29sdW1uc1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wid2ViVXJsXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiR2V0Q29udGVudFR5cGVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcImNvbnRlbnRUeXBlSWRcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJHZXRDb250ZW50VHlwZXNcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiR2V0Q3VzdG9taXplZFBhZ2VTdGF0dXNcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcImZpbGVVcmxcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJHZXRMaXN0VGVtcGxhdGVzXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkdldE9iamVjdElkRnJvbVVybFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wib2JqZWN0VXJsXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiR2V0V2ViXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW1wid2ViVXJsXCIsIFwid2ViVVJMXCJdXG4gICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiR2V0V2ViQ29sbGVjdGlvblwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJHZXRBbGxTdWJXZWJDb2xsZWN0aW9uXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlVwZGF0ZUNvbHVtbnNcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcIm5ld0ZpZWxkc1wiLCBcInVwZGF0ZUZpZWxkc1wiLCBcImRlbGV0ZUZpZWxkc1wiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIldlYnMuVXBkYXRlQ29udGVudFR5cGVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcImNvbnRlbnRUeXBlSWRcIiwgXCJjb250ZW50VHlwZVByb3BlcnRpZXNcIiwgXCJuZXdGaWVsZHNcIiwgXCJ1cGRhdGVGaWVsZHNcIiwgXCJkZWxldGVGaWVsZHNcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJXZWJVcmxGcm9tUGFnZVVybFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtcInBhZ2VVcmxcIiwgXCJwYWdlVVJMXCJdXG4gICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFdPUktGTE9XIE9QRVJBVElPTlNcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkFsdGVyVG9Eb1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wiaXRlbVwiLCBcInRvZG9JZFwiLCBcInRvZG9MaXN0SWRcIiwgXCJ0YXNrRGF0YVwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkNsYWltUmVsZWFzZVRhc2tcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcIml0ZW1cIiwgXCJ0YXNrSWRcIiwgXCJsaXN0SWRcIiwgXCJmQ2xhaW1cIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJHZXRUZW1wbGF0ZXNGb3JJdGVtXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJpdGVtXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiR2V0VG9Eb3NGb3JJdGVtXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJpdGVtXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiR2V0V29ya2Zsb3dEYXRhRm9ySXRlbVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9QYXlsb2FkKG9wdCwgW1wiaXRlbVwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkdldFdvcmtmbG93VGFza0RhdGFcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvUGF5bG9hZChvcHQsIFtcIml0ZW1cIiwgXCJsaXN0SWRcIiwgXCJ0YXNrSWRcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJTdGFydFdvcmtmbG93XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1BheWxvYWQob3B0LCBbXCJpdGVtXCIsIFwidGVtcGxhdGVJZFwiLCBcIndvcmtmbG93UGFyYW1ldGVyc1wiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gR2x1ZSB0b2dldGhlciB0aGUgcGllY2VzIG9mIHRoZSBTT0FQIG1lc3NhZ2VcbiAgICAgICAgICAgICAgICB2YXIgbXNnID0gc29hcEVudmVsb3BlLmhlYWRlciArIHNvYXBFbnZlbG9wZS5vcGhlYWRlciArIHNvYXBFbnZlbG9wZS5wYXlsb2FkICsgc29hcEVudmVsb3BlLm9wZm9vdGVyICsgc29hcEVudmVsb3BlLmZvb3RlcjtcbiAgICAgICAgICAgICAgICB2YXIgc29hcEFjdGlvbiA9IGFwV2ViU2VydmljZU9wZXJhdGlvbkNvbnN0YW50c1tvcHQub3BlcmF0aW9uXVsxXSA/IFNPQVBBY3Rpb24gOiBmYWxzZTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIG1zZzogbXNnLFxuICAgICAgICAgICAgICAgICAgICBTT0FQRW52ZWxvcGU6IHNvYXBFbnZlbG9wZSxcbiAgICAgICAgICAgICAgICAgICAgU09BUEFjdGlvbjogc29hcEFjdGlvblxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvLyBBZGQgdGhlIG9wdGlvbiB2YWx1ZXMgdG8gdGhlIHNvYXBFbnZlbG9wZS5wYXlsb2FkIGZvciB0aGUgb3BlcmF0aW9uXG4gICAgICAgICAgICAgICAgLy8gIG9wdCA9IG9wdGlvbnMgZm9yIHRoZSBjYWxsXG4gICAgICAgICAgICAgICAgLy8gIHBhcmFtQXJyYXkgPSBhbiBhcnJheSBvZiBvcHRpb24gbmFtZXMgdG8gYWRkIHRvIHRoZSBwYXlsb2FkXG4gICAgICAgICAgICAgICAgLy8gICAgICBcInBhcmFtTmFtZVwiIGlmIHRoZSBwYXJhbWV0ZXIgbmFtZSBhbmQgdGhlIG9wdGlvbiBuYW1lIG1hdGNoXG4gICAgICAgICAgICAgICAgLy8gICAgICBbXCJwYXJhbU5hbWVcIiwgXCJvcHRpb25OYW1lXCJdIGlmIHRoZSBwYXJhbWV0ZXIgbmFtZSBhbmQgdGhlIG9wdGlvbiBuYW1lIGFyZSBkaWZmZXJlbnQgKHRoaXMgaGFuZGxlcyBlYXJseSBcIndyYXBwaW5nc1wiIHdpdGggaW5jb25zaXN0ZW50IG5hbWluZylcbiAgICAgICAgICAgICAgICAvLyAgICAgIHtuYW1lOiBcInBhcmFtTmFtZVwiLCBzZW5kTnVsbDogZmFsc2V9IGluZGljYXRlcyB0aGUgZWxlbWVudCBpcyBtYXJrZWQgYXMgXCJhZGQgdG8gcGF5bG9hZCBvbmx5IGlmIG5vbi1udWxsXCJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBhZGRUb1BheWxvYWQob3B0LCBwYXJhbUFycmF5KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGk7XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHBhcmFtQXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZSBwYXJhbWV0ZXIgbmFtZSBhbmQgdGhlIG9wdGlvbiBuYW1lIG1hdGNoXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHBhcmFtQXJyYXlbaV0gPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb2FwRW52ZWxvcGUucGF5bG9hZCArPSB3cmFwTm9kZShwYXJhbUFycmF5W2ldLCBvcHRbcGFyYW1BcnJheVtpXV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZSBwYXJhbWV0ZXIgbmFtZSBhbmQgdGhlIG9wdGlvbiBuYW1lIGFyZSBkaWZmZXJlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXy5pc0FycmF5KHBhcmFtQXJyYXlbaV0pICYmIHBhcmFtQXJyYXlbaV0ubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc29hcEVudmVsb3BlLnBheWxvYWQgKz0gd3JhcE5vZGUocGFyYW1BcnJheVtpXVswXSwgb3B0W3BhcmFtQXJyYXlbaV1bMV1dKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGUgZWxlbWVudCBub3QgYSBzdHJpbmcgb3IgYW4gYXJyYXkgYW5kIGlzIG1hcmtlZCBhcyBcImFkZCB0byBwYXlsb2FkIG9ubHkgaWYgbm9uLW51bGxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICgodHlwZW9mIHBhcmFtQXJyYXlbaV0gPT09IFwib2JqZWN0XCIpICYmIChwYXJhbUFycmF5W2ldLnNlbmROdWxsICE9PSB1bmRlZmluZWQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc29hcEVudmVsb3BlLnBheWxvYWQgKz0gKChvcHRbcGFyYW1BcnJheVtpXS5uYW1lXSA9PT0gdW5kZWZpbmVkKSB8fCAob3B0W3BhcmFtQXJyYXlbaV0ubmFtZV0ubGVuZ3RoID09PSAwKSkgPyBcIlwiIDogd3JhcE5vZGUocGFyYW1BcnJheVtpXS5uYW1lLCBvcHRbcGFyYW1BcnJheVtpXS5uYW1lXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc29tZXRoaW5nIGlzbid0IHJpZ2h0LCBzbyByZXBvcnQgaXRcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyQm94KG9wdC5vcGVyYXRpb24sIFwicGFyYW1BcnJheVtcIiArIGkgKyBcIl06IFwiICsgcGFyYW1BcnJheVtpXSwgXCJJbnZhbGlkIHBhcmFtQXJyYXkgZWxlbWVudCBwYXNzZWQgdG8gYWRkVG9QYXlsb2FkKClcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IC8vIEVuZCBvZiBmdW5jdGlvbiBhZGRUb1BheWxvYWRcblxuICAgICAgICAgICAgICAgIC8vIFRoZSBTaXRlRGF0YSBvcGVyYXRpb25zIGhhdmUgdGhlIHNhbWUgbmFtZXMgYXMgb3RoZXIgV2ViIFNlcnZpY2Ugb3BlcmF0aW9ucy4gVG8gbWFrZSB0aGVtIGVhc3kgdG8gY2FsbCBhbmQgdW5pcXVlLCBJJ20gdXNpbmdcbiAgICAgICAgICAgICAgICAvLyB0aGUgU2l0ZURhdGEgcHJlZml4IG9uIHRoZWlyIG5hbWVzLiBUaGlzIGZ1bmN0aW9uIHJlcGxhY2VzIHRoYXQgbmFtZSB3aXRoIHRoZSByaWdodCBuYW1lIGluIHRoZSBzb2FwRW52ZWxvcGUuXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gc2l0ZURhdGFGaXhTT0FQRW52ZWxvcGUoU09BUEVudmVsb3BlLCBzaXRlRGF0YU9wZXJhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc2l0ZURhdGFPcCA9IHNpdGVEYXRhT3BlcmF0aW9uLnN1YnN0cmluZyg4KTtcbiAgICAgICAgICAgICAgICAgICAgU09BUEVudmVsb3BlLm9waGVhZGVyID0gU09BUEVudmVsb3BlLm9waGVhZGVyLnJlcGxhY2Uoc2l0ZURhdGFPcGVyYXRpb24sIHNpdGVEYXRhT3ApO1xuICAgICAgICAgICAgICAgICAgICBTT0FQRW52ZWxvcGUub3Bmb290ZXIgPSBTT0FQRW52ZWxvcGUub3Bmb290ZXIucmVwbGFjZShzaXRlRGF0YU9wZXJhdGlvbiwgc2l0ZURhdGFPcCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBTT0FQRW52ZWxvcGU7XG4gICAgICAgICAgICAgICAgfSAvLyBFbmQgb2YgZnVuY3Rpb24gc2l0ZURhdGFGaXhTT0FQRW52ZWxvcGVcblxuXG4gICAgICAgICAgICB9OyAvLyBFbmQgU1BTZXJ2aWNlcy5nZW5lcmF0ZVhNTENvbXBvbmVudHNcblxuXG4gICAgICAgICAgICAvL1RPRE8gTW92ZSB0aGlzIHNvbWV3aGVyZSBlbHNlLCBpdCdzIHRvbyBidXJpZWQgZG93biBoZXJlXG4gICAgICAgICAgICAvLyBUaGlzIG1ldGhvZCBmb3IgZmluZGluZyBzcGVjaWZpYyBub2RlcyBpbiB0aGUgcmV0dXJuZWQgWE1MIHdhcyBkZXZlbG9wZWQgYnkgU3RldmUgV29ya21hbi4gU2VlIGhpcyBibG9nIHBvc3RcbiAgICAgICAgICAgIC8vIGh0dHA6Ly93d3cuc3RldmV3b3JrbWFuLmNvbS9odG1sNS0yL2phdmFzY3JpcHQvMjAxMS9pbXByb3ZpbmctamF2YXNjcmlwdC14bWwtbm9kZS1maW5kaW5nLXBlcmZvcm1hbmNlLWJ5LTIwMDAvXG4gICAgICAgICAgICAvLyBmb3IgcGVyZm9ybWFuY2UgZGV0YWlscy5cbiAgICAgICAgICAgICQuZm4uU1BGaWx0ZXJOb2RlID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5maW5kKCcqJykuZmlsdGVyKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubm9kZU5hbWUgPT09IG5hbWU7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9OyAvLyBFbmQgJC5mbi5TUEZpbHRlck5vZGVcblxuICAgICAgICAgICAgLy8vLy8vIFBSSVZBVEUgRlVOQ1RJT05TIC8vLy8vLy8vXG4gICAgICAgICAgICAvLyBXcmFwIGFuIFhNTCBub2RlIChuKSBhcm91bmQgYSB2YWx1ZSAodilcbiAgICAgICAgICAgIGZ1bmN0aW9uIHdyYXBOb2RlKG4sIHYpIHtcbiAgICAgICAgICAgICAgICB2YXIgdGhpc1ZhbHVlID0gdHlwZW9mIHYgIT09IFwidW5kZWZpbmVkXCIgPyB2IDogXCJcIjtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCI8XCIgKyBuICsgXCI+XCIgKyB0aGlzVmFsdWUgKyBcIjwvXCIgKyBuICsgXCI+XCI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEdldCB0aGUgZmlsZW5hbWUgZnJvbSB0aGUgZnVsbCBVUkxcbiAgICAgICAgICAgIGZ1bmN0aW9uIGZpbGVOYW1lKHMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcy5zdWJzdHJpbmcocy5sYXN0SW5kZXhPZihcIi9cIikgKyAxLCBzLmxlbmd0aCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8qIFRha2VuIGZyb20gaHR0cDovL2RyYWNvYmx1ZS5uZXQvZGV2L2VuY29kZWRlY29kZS1zcGVjaWFsLXhtbC1jaGFyYWN0ZXJzLWluLWphdmFzY3JpcHQvMTU1LyAqL1xuICAgICAgICAgICAgdmFyIHhtbF9zcGVjaWFsX3RvX2VzY2FwZWRfb25lX21hcCA9IHtcbiAgICAgICAgICAgICAgICAnJic6ICcmYW1wOycsXG4gICAgICAgICAgICAgICAgJ1wiJzogJyZxdW90OycsXG4gICAgICAgICAgICAgICAgJzwnOiAnJmx0OycsXG4gICAgICAgICAgICAgICAgJz4nOiAnJmd0OydcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGVuY29kZVhtbChzdHJpbmcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RyaW5nLnJlcGxhY2UoLyhbXFwmXCI8Pl0pL2csIGZ1bmN0aW9uIChzdHIsIGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHhtbF9zcGVjaWFsX3RvX2VzY2FwZWRfb25lX21hcFtpdGVtXTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLyogVGFrZW4gZnJvbSBodHRwOi8vZHJhY29ibHVlLm5ldC9kZXYvZW5jb2RlZGVjb2RlLXNwZWNpYWwteG1sLWNoYXJhY3RlcnMtaW4tamF2YXNjcmlwdC8xNTUvICovXG4gICAgICAgICAgICAvLyBFc2NhcGUgY29sdW1uIHZhbHVlc1xuICAgICAgICAgICAgZnVuY3Rpb24gZXNjYXBlQ29sdW1uVmFsdWUocykge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcy5yZXBsYWNlKC8mKD8hW2EtekEtWl17MSw4fTspL2csIFwiJmFtcDtcIik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiBlcnJCb3gobXNnKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihtc2cpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBKYW1lcyBQYWRvbHNleSdzIFJlZ2V4IFNlbGVjdG9yIGZvciBqUXVlcnkgaHR0cDovL2phbWVzLnBhZG9sc2V5LmNvbS9qYXZhc2NyaXB0L3JlZ2V4LXNlbGVjdG9yLWZvci1qcXVlcnkvXG4gICAgICAgICAgICAkLmV4cHJbJzonXS5yZWdleCA9IGZ1bmN0aW9uIChlbGVtLCBpbmRleCwgbWF0Y2gpIHtcbiAgICAgICAgICAgICAgICB2YXIgbWF0Y2hQYXJhbXMgPSBtYXRjaFszXS5zcGxpdCgnLCcpLFxuICAgICAgICAgICAgICAgICAgICB2YWxpZExhYmVscyA9IC9eKGRhdGF8Y3NzKTovLFxuICAgICAgICAgICAgICAgICAgICBhdHRyID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBtYXRjaFBhcmFtc1swXS5tYXRjaCh2YWxpZExhYmVscykgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoUGFyYW1zWzBdLnNwbGl0KCc6JylbMF0gOiAnYXR0cicsXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eTogbWF0Y2hQYXJhbXMuc2hpZnQoKS5yZXBsYWNlKHZhbGlkTGFiZWxzLCAnJylcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgcmVnZXhGbGFncyA9ICdpZycsXG4gICAgICAgICAgICAgICAgICAgIHJlZ2V4ID0gbmV3IFJlZ0V4cChtYXRjaFBhcmFtcy5qb2luKCcnKS5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLCAnJyksIHJlZ2V4RmxhZ3MpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZWdleC50ZXN0KGpRdWVyeShlbGVtKVthdHRyLm1ldGhvZF0oYXR0ci5wcm9wZXJ0eSkpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgcmV0dXJuIFNQU2VydmljZXM7XG5cblxuICAgICAgICAgICAgLy8vLyBLbm93biBsaXN0IGZpZWxkIHR5cGVzXG4gICAgICAgICAgICAvL3ZhciBzcExpc3RGaWVsZFR5cGVzID0gW1xuICAgICAgICAgICAgLy8gICAgXCJUZXh0XCIsXG4gICAgICAgICAgICAvLyAgICBcIkRhdGVUaW1lXCIsXG4gICAgICAgICAgICAvLyAgICBcImRhdGV0aW1lXCIsXG4gICAgICAgICAgICAvLyAgICBcIlVzZXJcIixcbiAgICAgICAgICAgIC8vICAgIFwiVXNlck11bHRpXCIsXG4gICAgICAgICAgICAvLyAgICBcIkxvb2t1cFwiLFxuICAgICAgICAgICAgLy8gICAgXCJMb29rdXBNdWx0aVwiLFxuICAgICAgICAgICAgLy8gICAgXCJCb29sZWFuXCIsXG4gICAgICAgICAgICAvLyAgICBcIkludGVnZXJcIixcbiAgICAgICAgICAgIC8vICAgIFwiQ291bnRlclwiLFxuICAgICAgICAgICAgLy8gICAgXCJNdWx0aUNob2ljZVwiLFxuICAgICAgICAgICAgLy8gICAgXCJDdXJyZW5jeVwiLFxuICAgICAgICAgICAgLy8gICAgXCJmbG9hdFwiLFxuICAgICAgICAgICAgLy8gICAgXCJDYWxjXCIsXG4gICAgICAgICAgICAvLyAgICBcIkF0dGFjaG1lbnRzXCIsXG4gICAgICAgICAgICAvLyAgICBcIkNhbGN1bGF0ZWRcIixcbiAgICAgICAgICAgIC8vICAgIFwiQ29udGVudFR5cGVJZFwiLFxuICAgICAgICAgICAgLy8gICAgXCJOb3RlXCIsXG4gICAgICAgICAgICAvLyAgICAvLyAgICAgICAgICBcIkNvbXB1dGVkXCIsXG4gICAgICAgICAgICAvLyAgICBcIlVSTFwiLFxuICAgICAgICAgICAgLy8gICAgXCJOdW1iZXJcIixcbiAgICAgICAgICAgIC8vICAgIFwiQ2hvaWNlXCIsXG4gICAgICAgICAgICAvLyAgICBcIk1vZFN0YXRcIixcbiAgICAgICAgICAgIC8vICAgIFwiR3VpZFwiLFxuICAgICAgICAgICAgLy8gICAgXCJGaWxlXCJcbiAgICAgICAgICAgIC8vXTtcblxuXG4gICAgICAgICAgICAvLyBDb252ZXJ0IGEgSmF2YVNjcmlwdCBkYXRlIHRvIHRoZSBJU08gODYwMSBmb3JtYXQgcmVxdWlyZWQgYnkgU2hhcmVQb2ludCB0byB1cGRhdGUgbGlzdCBpdGVtc1xuICAgICAgICAgICAgLy9mdW5jdGlvbiBTUENvbnZlcnREYXRlVG9JU08ob3B0aW9ucykge1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vICAgIHZhciBvcHQgPSAkLmV4dGVuZCh7fSwge1xuICAgICAgICAgICAgLy8gICAgICAgIGRhdGVUb0NvbnZlcnQ6IG5ldyBEYXRlKCksIC8vIFRoZSBKYXZhU2NyaXB0IGRhdGUgd2UnZCBsaWtlIHRvIGNvbnZlcnQuIElmIG5vIGRhdGUgaXMgcGFzc2VkLCB0aGUgZnVuY3Rpb24gcmV0dXJucyB0aGUgY3VycmVudCBkYXRlL3RpbWVcbiAgICAgICAgICAgIC8vICAgICAgICBkYXRlT2Zmc2V0OiBcIi0wNTowMFwiIC8vIFRoZSB0aW1lIHpvbmUgb2Zmc2V0IHJlcXVlc3RlZC4gRGVmYXVsdCBpcyBFU1RcbiAgICAgICAgICAgIC8vICAgIH0sIG9wdGlvbnMpO1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vICAgIC8vR2VuZXJhdGUgSVNPIDg2MDEgZGF0ZS90aW1lIGZvcm1hdHRlZCBzdHJpbmdcbiAgICAgICAgICAgIC8vICAgIHZhciBzID0gXCJcIjtcbiAgICAgICAgICAgIC8vICAgIHZhciBkID0gb3B0LmRhdGVUb0NvbnZlcnQ7XG4gICAgICAgICAgICAvLyAgICBzICs9IGQuZ2V0RnVsbFllYXIoKSArIFwiLVwiO1xuICAgICAgICAgICAgLy8gICAgcyArPSBwYWQoZC5nZXRNb250aCgpICsgMSkgKyBcIi1cIjtcbiAgICAgICAgICAgIC8vICAgIHMgKz0gcGFkKGQuZ2V0RGF0ZSgpKTtcbiAgICAgICAgICAgIC8vICAgIHMgKz0gXCJUXCIgKyBwYWQoZC5nZXRIb3VycygpKSArIFwiOlwiO1xuICAgICAgICAgICAgLy8gICAgcyArPSBwYWQoZC5nZXRNaW51dGVzKCkpICsgXCI6XCI7XG4gICAgICAgICAgICAvLyAgICBzICs9IHBhZChkLmdldFNlY29uZHMoKSkgKyBcIlpcIiArIG9wdC5kYXRlT2Zmc2V0O1xuICAgICAgICAgICAgLy8gICAgLy9SZXR1cm4gdGhlIElTTzg2MDEgZGF0ZSBzdHJpbmdcbiAgICAgICAgICAgIC8vICAgIHJldHVybiBzO1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vfSAvLyBFbmQgU1BTZXJ2aWNlcy5TUENvbnZlcnREYXRlVG9JU09cblxuICAgICAgICAgICAgLy8gU3BsaXQgdmFsdWVzIGxpa2UgMTsjdmFsdWUgaW50byBpZCBhbmQgdmFsdWVcbiAgICAgICAgICAgIC8vZnVuY3Rpb24gU3BsaXRJbmRleChzKSB7XG4gICAgICAgICAgICAvLyAgICB2YXIgc3BsID0gcy5zcGxpdChcIjsjXCIpO1xuICAgICAgICAgICAgLy8gICAgdGhpcy5pZCA9IHNwbFswXTtcbiAgICAgICAgICAgIC8vICAgIHRoaXMudmFsdWUgPSBzcGxbMV07XG4gICAgICAgICAgICAvL31cblxuICAgICAgICAgICAgLy9mdW5jdGlvbiBwYWQobikge1xuICAgICAgICAgICAgLy8gICAgcmV0dXJuIG4gPCAxMCA/IFwiMFwiICsgbiA6IG47XG4gICAgICAgICAgICAvL31cblxuICAgICAgICAgICAgLy92YXIgZXNjYXBlZF9vbmVfdG9feG1sX3NwZWNpYWxfbWFwID0ge1xuICAgICAgICAgICAgLy8gICAgJyZhbXA7JzogJyYnLFxuICAgICAgICAgICAgLy8gICAgJyZxdW90Oyc6ICdcIicsXG4gICAgICAgICAgICAvLyAgICAnJmx0Oyc6ICc8JyxcbiAgICAgICAgICAgIC8vICAgICcmZ3Q7JzogJz4nXG4gICAgICAgICAgICAvL307XG5cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL2Z1bmN0aW9uIGRlY29kZVhtbChzdHJpbmcpIHtcbiAgICAgICAgICAgIC8vICAgIHJldHVybiBzdHJpbmcucmVwbGFjZSgvKCZxdW90O3wmbHQ7fCZndDt8JmFtcDspL2csXG4gICAgICAgICAgICAvLyAgICAgICAgZnVuY3Rpb24gKHN0ciwgaXRlbSkge1xuICAgICAgICAgICAgLy8gICAgICAgICAgICByZXR1cm4gZXNjYXBlZF9vbmVfdG9feG1sX3NwZWNpYWxfbWFwW2l0ZW1dO1xuICAgICAgICAgICAgLy8gICAgICAgIH0pO1xuICAgICAgICAgICAgLy99XG5cbiAgICAgICAgICAgIC8vIEVzY2FwZSBVcmxcbiAgICAgICAgICAgIC8vZnVuY3Rpb24gZXNjYXBlVXJsKHUpIHtcbiAgICAgICAgICAgIC8vICAgIHJldHVybiB1LnJlcGxhY2UoLyYvZywgJyUyNicpO1xuICAgICAgICAgICAgLy99XG5cbiAgICAgICAgICAgIC8vIFJldHVybiB0aGUgY3VycmVudCB2ZXJzaW9uIG9mIFNQU2VydmljZXMgYXMgYSBzdHJpbmdcbiAgICAgICAgICAgIC8vU1BTZXJ2aWNlcy5WZXJzaW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vICAgIHJldHVybiBWRVJTSU9OO1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vfTsgLy8gRW5kIFNQU2VydmljZXMuVmVyc2lvblxuXG5cbiAgICAgICAgICAgIC8vLy8gVGhpcyBmdW5jdGlvbiBjb252ZXJ0cyBhbiBYTUwgbm9kZSBzZXQgdG8gSlNPTlxuICAgICAgICAgICAgLy8vLyBJbml0aWFsIGltcGxlbWVudGF0aW9uIGZvY3VzZXMgb25seSBvbiBHZXRMaXN0SXRlbXNcbiAgICAgICAgICAgIC8vJC5mbi5TUFhtbFRvSnNvbiA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gICAgdmFyIG9wdCA9ICQuZXh0ZW5kKHt9LCB7XG4gICAgICAgICAgICAvLyAgICAgICAgbWFwcGluZzoge30sIC8vIGNvbHVtbk5hbWU6IG1hcHBlZE5hbWU6IFwibWFwcGVkTmFtZVwiLCBvYmplY3RUeXBlOiBcIm9iamVjdFR5cGVcIlxuICAgICAgICAgICAgLy8gICAgICAgIGluY2x1ZGVBbGxBdHRyczogZmFsc2UsIC8vIElmIHRydWUsIHJldHVybiBhbGwgYXR0cmlidXRlcywgcmVnYXJkbGVzcyB3aGV0aGVyIHRoZXkgYXJlIGluIHRoZSBtYXBwaW5nXG4gICAgICAgICAgICAvLyAgICAgICAgcmVtb3ZlT3dzOiB0cnVlLCAvLyBTcGVjaWZpY2FsbHkgZm9yIEdldExpc3RJdGVtcywgaWYgdHJ1ZSwgdGhlIGxlYWRpbmcgb3dzXyB3aWxsIGJlIHN0cmlwcGVkIG9mZiB0aGUgZmllbGQgbmFtZVxuICAgICAgICAgICAgLy8gICAgICAgIHNwYXJzZTogZmFsc2UgLy8gSWYgdHJ1ZSwgZW1wdHkgKFwiXCIpIHZhbHVlcyB3aWxsIG5vdCBiZSByZXR1cm5lZFxuICAgICAgICAgICAgLy8gICAgfSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gICAgdmFyIGF0dHJOdW07XG4gICAgICAgICAgICAvLyAgICB2YXIganNvbk9iamVjdCA9IFtdO1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vICAgIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyAgICAgICAgdmFyIHJvdyA9IHt9O1xuICAgICAgICAgICAgLy8gICAgICAgIHZhciByb3dBdHRycyA9IHRoaXMuYXR0cmlidXRlcztcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyAgICAgICAgaWYgKCFvcHQuc3BhcnNlKSB7XG4gICAgICAgICAgICAvLyAgICAgICAgICAgIC8vIEJyaW5nIGJhY2sgYWxsIG1hcHBlZCBjb2x1bW5zLCBldmVuIHRob3NlIHdpdGggbm8gdmFsdWVcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgJC5lYWNoKG9wdC5tYXBwaW5nLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICByb3dbdGhpcy5tYXBwZWROYW1lXSA9IFwiXCI7XG4gICAgICAgICAgICAvLyAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gICAgICAgIH1cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyAgICAgICAgLy8gUGFyc2UgdGhyb3VnaCB0aGUgZWxlbWVudCdzIGF0dHJpYnV0ZXNcbiAgICAgICAgICAgIC8vICAgICAgICBmb3IgKGF0dHJOdW0gPSAwOyBhdHRyTnVtIDwgcm93QXR0cnMubGVuZ3RoOyBhdHRyTnVtKyspIHtcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgdmFyIHRoaXNBdHRyTmFtZSA9IHJvd0F0dHJzW2F0dHJOdW1dLm5hbWU7XG4gICAgICAgICAgICAvLyAgICAgICAgICAgIHZhciB0aGlzTWFwcGluZyA9IG9wdC5tYXBwaW5nW3RoaXNBdHRyTmFtZV07XG4gICAgICAgICAgICAvLyAgICAgICAgICAgIHZhciB0aGlzT2JqZWN0TmFtZSA9IHR5cGVvZiB0aGlzTWFwcGluZyAhPT0gXCJ1bmRlZmluZWRcIiA/IHRoaXNNYXBwaW5nLm1hcHBlZE5hbWUgOiBvcHQucmVtb3ZlT3dzID8gdGhpc0F0dHJOYW1lLnNwbGl0KFwib3dzX1wiKVsxXSA6IHRoaXNBdHRyTmFtZTtcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgdmFyIHRoaXNPYmplY3RUeXBlID0gdHlwZW9mIHRoaXNNYXBwaW5nICE9PSBcInVuZGVmaW5lZFwiID8gdGhpc01hcHBpbmcub2JqZWN0VHlwZSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgaWYgKG9wdC5pbmNsdWRlQWxsQXR0cnMgfHwgdGhpc01hcHBpbmcgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgcm93W3RoaXNPYmplY3ROYW1lXSA9IGFwRGVjb2RlU2VydmljZS5hdHRyVG9Kc29uKHJvd0F0dHJzW2F0dHJOdW1dLnZhbHVlLCB0aGlzT2JqZWN0VHlwZSk7XG4gICAgICAgICAgICAvLyAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vICAgICAgICB9XG4gICAgICAgICAgICAvLyAgICAgICAgLy8gUHVzaCB0aGlzIGl0ZW0gaW50byB0aGUgSlNPTiBPYmplY3RcbiAgICAgICAgICAgIC8vICAgICAgICBqc29uT2JqZWN0LnB1c2gocm93KTtcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyAgICB9KTtcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyAgICAvLyBSZXR1cm4gdGhlIEpTT04gb2JqZWN0XG4gICAgICAgICAgICAvLyAgICByZXR1cm4ganNvbk9iamVjdDtcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL307IC8vIEVuZCBTUFNlcnZpY2VzLlNQWG1sVG9Kc29uXG5cblxuICAgICAgICAgICAgLy9mdW5jdGlvbiBhdHRyVG9Kc29uKHYsIG9iamVjdFR5cGUpIHtcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyAgICB2YXIgY29sVmFsdWU7XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gICAgc3dpdGNoIChvYmplY3RUeXBlKSB7XG4gICAgICAgICAgICAvLyAgICAgICAgY2FzZSBcIlRleHRcIjpcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgY29sVmFsdWUgPSBzdHJpbmdUb0pzb25PYmplY3Qodik7XG4gICAgICAgICAgICAvLyAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgLy8gICAgICAgIGNhc2UgXCJEYXRlVGltZVwiOlxuICAgICAgICAgICAgLy8gICAgICAgIGNhc2UgXCJkYXRldGltZVwiOiAvLyBGb3IgY2FsY3VsYXRlZCBjb2x1bW5zLCBzdG9yZWQgYXMgZGF0ZXRpbWU7I3ZhbHVlXG4gICAgICAgICAgICAvLyAgICAgICAgICAgIC8vIERhdGVzIGhhdmUgZGFzaGVzIGluc3RlYWQgb2Ygc2xhc2hlczogb3dzX0NyZWF0ZWQ9XCIyMDA5LTA4LTI1IDE0OjI0OjQ4XCJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgY29sVmFsdWUgPSBkYXRlVG9Kc29uT2JqZWN0KHYpO1xuICAgICAgICAgICAgLy8gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIC8vICAgICAgICBjYXNlIFwiVXNlclwiOlxuICAgICAgICAgICAgLy8gICAgICAgICAgICBjb2xWYWx1ZSA9IHVzZXJUb0pzb25PYmplY3Qodik7XG4gICAgICAgICAgICAvLyAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgLy8gICAgICAgIGNhc2UgXCJVc2VyTXVsdGlcIjpcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgY29sVmFsdWUgPSB1c2VyTXVsdGlUb0pzb25PYmplY3Qodik7XG4gICAgICAgICAgICAvLyAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgLy8gICAgICAgIGNhc2UgXCJMb29rdXBcIjpcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgY29sVmFsdWUgPSBsb29rdXBUb0pzb25PYmplY3Qodik7XG4gICAgICAgICAgICAvLyAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgLy8gICAgICAgIGNhc2UgXCJMb29rdXBNdWx0aVwiOlxuICAgICAgICAgICAgLy8gICAgICAgICAgICBjb2xWYWx1ZSA9IGxvb2t1cE11bHRpVG9Kc29uT2JqZWN0KHYpO1xuICAgICAgICAgICAgLy8gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIC8vICAgICAgICBjYXNlIFwiQm9vbGVhblwiOlxuICAgICAgICAgICAgLy8gICAgICAgICAgICBjb2xWYWx1ZSA9IGJvb2xlYW5Ub0pzb25PYmplY3Qodik7XG4gICAgICAgICAgICAvLyAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgLy8gICAgICAgIGNhc2UgXCJJbnRlZ2VyXCI6XG4gICAgICAgICAgICAvLyAgICAgICAgICAgIGNvbFZhbHVlID0gaW50VG9Kc29uT2JqZWN0KHYpO1xuICAgICAgICAgICAgLy8gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIC8vICAgICAgICBjYXNlIFwiQ291bnRlclwiOlxuICAgICAgICAgICAgLy8gICAgICAgICAgICBjb2xWYWx1ZSA9IGludFRvSnNvbk9iamVjdCh2KTtcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAvLyAgICAgICAgY2FzZSBcIk11bHRpQ2hvaWNlXCI6XG4gICAgICAgICAgICAvLyAgICAgICAgICAgIGNvbFZhbHVlID0gY2hvaWNlTXVsdGlUb0pzb25PYmplY3Qodik7XG4gICAgICAgICAgICAvLyAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgLy8gICAgICAgIGNhc2UgXCJOdW1iZXJcIjpcbiAgICAgICAgICAgIC8vICAgICAgICBjYXNlIFwiQ3VycmVuY3lcIjpcbiAgICAgICAgICAgIC8vICAgICAgICBjYXNlIFwiZmxvYXRcIjogLy8gRm9yIGNhbGN1bGF0ZWQgY29sdW1ucywgc3RvcmVkIGFzIGZsb2F0OyN2YWx1ZVxuICAgICAgICAgICAgLy8gICAgICAgICAgICBjb2xWYWx1ZSA9IGZsb2F0VG9Kc29uT2JqZWN0KHYpO1xuICAgICAgICAgICAgLy8gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIC8vICAgICAgICBjYXNlIFwiQ2FsY3VsYXRlZFwiOlxuICAgICAgICAgICAgLy8gICAgICAgICAgICBjb2xWYWx1ZSA9IGNhbGNUb0pzb25PYmplY3Qodik7XG4gICAgICAgICAgICAvLyAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgLy8gICAgICAgIGNhc2UgXCJBdHRhY2htZW50c1wiOlxuICAgICAgICAgICAgLy8gICAgICAgICAgICBjb2xWYWx1ZSA9IGxvb2t1cFRvSnNvbk9iamVjdCh2KTtcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAvLyAgICAgICAgY2FzZSBcIkpTT05cIjpcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgY29sVmFsdWUgPSBqc29uVG9Kc29uT2JqZWN0KHYpOyAvLyBTcGVjaWFsIGNhc2UgZm9yIHRleHQgSlNPTiBzdG9yZWQgaW4gdGV4dCBjb2x1bW5zXG4gICAgICAgICAgICAvLyAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgLy8gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAvLyAgICAgICAgICAgIC8vIEFsbCBvdGhlciBvYmplY3RUeXBlcyB3aWxsIGJlIHNpbXBsZSBzdHJpbmdzXG4gICAgICAgICAgICAvLyAgICAgICAgICAgIGNvbFZhbHVlID0gc3RyaW5nVG9Kc29uT2JqZWN0KHYpO1xuICAgICAgICAgICAgLy8gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIC8vICAgIH1cbiAgICAgICAgICAgIC8vICAgIHJldHVybiBjb2xWYWx1ZTtcbiAgICAgICAgICAgIC8vfVxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vZnVuY3Rpb24gc3RyaW5nVG9Kc29uT2JqZWN0KHMpIHtcbiAgICAgICAgICAgIC8vICAgIHJldHVybiBzO1xuICAgICAgICAgICAgLy99XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9mdW5jdGlvbiBpbnRUb0pzb25PYmplY3Qocykge1xuICAgICAgICAgICAgLy8gICAgcmV0dXJuIHBhcnNlSW50KHMsIDEwKTtcbiAgICAgICAgICAgIC8vfVxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vZnVuY3Rpb24gZmxvYXRUb0pzb25PYmplY3Qocykge1xuICAgICAgICAgICAgLy8gICAgcmV0dXJuIHBhcnNlRmxvYXQocyk7XG4gICAgICAgICAgICAvL31cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL2Z1bmN0aW9uIGJvb2xlYW5Ub0pzb25PYmplY3Qocykge1xuICAgICAgICAgICAgLy8gICAgdmFyIG91dCA9IHMgPT09IFwiMFwiID8gZmFsc2UgOiB0cnVlO1xuICAgICAgICAgICAgLy8gICAgcmV0dXJuIG91dDtcbiAgICAgICAgICAgIC8vfVxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vZnVuY3Rpb24gZGF0ZVRvSnNvbk9iamVjdChzKSB7XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gICAgdmFyIGR0ID0gcy5zcGxpdChcIlRcIilbMF0gIT09IHMgPyBzLnNwbGl0KFwiVFwiKSA6IHMuc3BsaXQoXCIgXCIpO1xuICAgICAgICAgICAgLy8gICAgdmFyIGQgPSBkdFswXS5zcGxpdChcIi1cIik7XG4gICAgICAgICAgICAvLyAgICB2YXIgdCA9IGR0WzFdLnNwbGl0KFwiOlwiKTtcbiAgICAgICAgICAgIC8vICAgIHZhciB0MyA9IHRbMl0uc3BsaXQoXCJaXCIpO1xuICAgICAgICAgICAgLy8gICAgdmFyIGRhdGUgPSBuZXcgRGF0ZShkWzBdLCAoZFsxXSAtIDEpLCBkWzJdLCB0WzBdLCB0WzFdLCB0M1swXSk7XG4gICAgICAgICAgICAvLyAgICByZXR1cm4gZGF0ZTtcbiAgICAgICAgICAgIC8vfVxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vZnVuY3Rpb24gdXNlclRvSnNvbk9iamVjdChzKSB7XG4gICAgICAgICAgICAvLyAgICBpZiAocy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIC8vICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIC8vICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyAgICAgICAgdmFyIHRoaXNVc2VyID0gbmV3IFNwbGl0SW5kZXgocyk7XG4gICAgICAgICAgICAvLyAgICAgICAgdmFyIHRoaXNVc2VyRXhwYW5kZWQgPSB0aGlzVXNlci52YWx1ZS5zcGxpdChcIiwjXCIpO1xuICAgICAgICAgICAgLy8gICAgICAgIGlmICh0aGlzVXNlckV4cGFuZGVkLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgLy8gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgdXNlcklkOiB0aGlzVXNlci5pZCxcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgIHVzZXJOYW1lOiB0aGlzVXNlci52YWx1ZVxuICAgICAgICAgICAgLy8gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICB1c2VySWQ6IHRoaXNVc2VyLmlkLFxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgdXNlck5hbWU6IHRoaXNVc2VyRXhwYW5kZWRbMF0ucmVwbGFjZSgvKCwsKS9nLCBcIixcIiksXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICBsb2dpbk5hbWU6IHRoaXNVc2VyRXhwYW5kZWRbMV0ucmVwbGFjZSgvKCwsKS9nLCBcIixcIiksXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICBlbWFpbDogdGhpc1VzZXJFeHBhbmRlZFsyXS5yZXBsYWNlKC8oLCwpL2csIFwiLFwiKSxcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgIHNpcEFkZHJlc3M6IHRoaXNVc2VyRXhwYW5kZWRbM10ucmVwbGFjZSgvKCwsKS9nLCBcIixcIiksXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICB0aXRsZTogdGhpc1VzZXJFeHBhbmRlZFs0XS5yZXBsYWNlKC8oLCwpL2csIFwiLFwiKVxuICAgICAgICAgICAgLy8gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gICAgICAgIH1cbiAgICAgICAgICAgIC8vICAgIH1cbiAgICAgICAgICAgIC8vfVxuXG4gICAgICAgICAgICAvLy8vIEdldCB0aGUgY3VycmVudCBjb250ZXh0IChhcyBtdWNoIGFzIHdlIGNhbikgb24gc3RhcnR1cFxuICAgICAgICAgICAgLy8vLyBTZWU6IGh0dHA6Ly9qb2hubGl1Lm5ldC9ibG9nLzIwMTIvMi8zL3NoYXJlcG9pbnQtamF2YXNjcmlwdC1jdXJyZW50LXBhZ2UtY29udGV4dC1pbmZvLmh0bWxcbiAgICAgICAgICAgIC8vZnVuY3Rpb24gU1BTZXJ2aWNlc0NvbnRleHQoKSB7XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gICAgLy8gU2hhcmVQb2ludCAyMDEwIGdpdmVzIHVzIGEgY29udGV4dCB2YXJpYWJsZVxuICAgICAgICAgICAgLy8gICAgaWYgKHR5cGVvZiBfc3BQYWdlQ29udGV4dEluZm8gIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIC8vICAgICAgICB0aGlzLnRoaXNTaXRlID0gX3NwUGFnZUNvbnRleHRJbmZvLndlYlNlcnZlclJlbGF0aXZlVXJsO1xuICAgICAgICAgICAgLy8gICAgICAgIHRoaXMudGhpc0xpc3QgPSBfc3BQYWdlQ29udGV4dEluZm8ucGFnZUxpc3RJZDtcbiAgICAgICAgICAgIC8vICAgICAgICB0aGlzLnRoaXNVc2VySWQgPSBfc3BQYWdlQ29udGV4dEluZm8udXNlcklkO1xuICAgICAgICAgICAgLy8gICAgICAgIC8vIEluIFNoYXJlUG9pbnQgMjAwNywgd2Uga25vdyB0aGUgVXNlcklEIG9ubHlcbiAgICAgICAgICAgIC8vICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyAgICAgICAgdGhpcy50aGlzU2l0ZSA9ICh0eXBlb2YgTF9NZW51X0Jhc2VVcmwgIT09IFwidW5kZWZpbmVkXCIpID8gTF9NZW51X0Jhc2VVcmwgOiBcIlwiO1xuICAgICAgICAgICAgLy8gICAgICAgIHRoaXMudGhpc0xpc3QgPSBcIlwiO1xuICAgICAgICAgICAgLy8gICAgICAgIHRoaXMudGhpc1VzZXJJZCA9ICh0eXBlb2YgX3NwVXNlcklkICE9PSBcInVuZGVmaW5lZFwiKSA/IF9zcFVzZXJJZCA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIC8vICAgIH1cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL30gLy8gRW5kIG9mIGZ1bmN0aW9uIFNQU2VydmljZXNDb250ZXh0XG5cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvL2Z1bmN0aW9uIHVzZXJNdWx0aVRvSnNvbk9iamVjdChzKSB7XG4gICAgICAgICAgICAvLyAgICBpZiAocy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIC8vICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIC8vICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyAgICAgICAgdmFyIHRoaXNVc2VyTXVsdGlPYmplY3QgPSBbXTtcbiAgICAgICAgICAgIC8vICAgICAgICB2YXIgdGhpc1VzZXJNdWx0aSA9IHMuc3BsaXQoXCI7I1wiKTtcbiAgICAgICAgICAgIC8vICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdGhpc1VzZXJNdWx0aS5sZW5ndGg7IGkgPSBpICsgMikge1xuICAgICAgICAgICAgLy8gICAgICAgICAgICB2YXIgdGhpc1VzZXIgPSB1c2VyVG9Kc29uT2JqZWN0KHRoaXNVc2VyTXVsdGlbaV0gKyBcIjsjXCIgKyB0aGlzVXNlck11bHRpW2kgKyAxXSk7XG4gICAgICAgICAgICAvLyAgICAgICAgICAgIHRoaXNVc2VyTXVsdGlPYmplY3QucHVzaCh0aGlzVXNlcik7XG4gICAgICAgICAgICAvLyAgICAgICAgfVxuICAgICAgICAgICAgLy8gICAgICAgIHJldHVybiB0aGlzVXNlck11bHRpT2JqZWN0O1xuICAgICAgICAgICAgLy8gICAgfVxuICAgICAgICAgICAgLy99XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9mdW5jdGlvbiBsb29rdXBUb0pzb25PYmplY3Qocykge1xuICAgICAgICAgICAgLy8gICAgaWYgKHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAvLyAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAvLyAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gICAgICAgIHZhciB0aGlzTG9va3VwID0gbmV3IFNwbGl0SW5kZXgocyk7XG4gICAgICAgICAgICAvLyAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgbG9va3VwSWQ6IHRoaXNMb29rdXAuaWQsXG4gICAgICAgICAgICAvLyAgICAgICAgICAgIGxvb2t1cFZhbHVlOiB0aGlzTG9va3VwLnZhbHVlXG4gICAgICAgICAgICAvLyAgICAgICAgfTtcbiAgICAgICAgICAgIC8vICAgIH1cbiAgICAgICAgICAgIC8vfVxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vZnVuY3Rpb24gbG9va3VwTXVsdGlUb0pzb25PYmplY3Qocykge1xuICAgICAgICAgICAgLy8gICAgaWYgKHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAvLyAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAvLyAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gICAgICAgIHZhciB0aGlzTG9va3VwTXVsdGlPYmplY3QgPSBbXTtcbiAgICAgICAgICAgIC8vICAgICAgICB2YXIgdGhpc0xvb2t1cE11bHRpID0gcy5zcGxpdChcIjsjXCIpO1xuICAgICAgICAgICAgLy8gICAgICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzTG9va3VwTXVsdGkubGVuZ3RoOyBpID0gaSArIDIpIHtcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgdmFyIHRoaXNMb29rdXAgPSBsb29rdXBUb0pzb25PYmplY3QodGhpc0xvb2t1cE11bHRpW2ldICsgXCI7I1wiICsgdGhpc0xvb2t1cE11bHRpW2kgKyAxXSk7XG4gICAgICAgICAgICAvLyAgICAgICAgICAgIHRoaXNMb29rdXBNdWx0aU9iamVjdC5wdXNoKHRoaXNMb29rdXApO1xuICAgICAgICAgICAgLy8gICAgICAgIH1cbiAgICAgICAgICAgIC8vICAgICAgICByZXR1cm4gdGhpc0xvb2t1cE11bHRpT2JqZWN0O1xuICAgICAgICAgICAgLy8gICAgfVxuICAgICAgICAgICAgLy99XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9mdW5jdGlvbiBjaG9pY2VNdWx0aVRvSnNvbk9iamVjdChzKSB7XG4gICAgICAgICAgICAvLyAgICBpZiAocy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIC8vICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIC8vICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyAgICAgICAgdmFyIHRoaXNDaG9pY2VNdWx0aU9iamVjdCA9IFtdO1xuICAgICAgICAgICAgLy8gICAgICAgIHZhciB0aGlzQ2hvaWNlTXVsdGkgPSBzLnNwbGl0KFwiOyNcIik7XG4gICAgICAgICAgICAvLyAgICAgICAgZm9yIChpID0gMDsgaSA8IHRoaXNDaG9pY2VNdWx0aS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgLy8gICAgICAgICAgICBpZiAodGhpc0Nob2ljZU11bHRpW2ldLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgdGhpc0Nob2ljZU11bHRpT2JqZWN0LnB1c2godGhpc0Nob2ljZU11bHRpW2ldKTtcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gICAgICAgIH1cbiAgICAgICAgICAgIC8vICAgICAgICByZXR1cm4gdGhpc0Nob2ljZU11bHRpT2JqZWN0O1xuICAgICAgICAgICAgLy8gICAgfVxuICAgICAgICAgICAgLy99XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9mdW5jdGlvbiBjYWxjVG9Kc29uT2JqZWN0KHMpIHtcbiAgICAgICAgICAgIC8vICAgIGlmIChzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgLy8gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgLy8gICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vICAgICAgICB2YXIgdGhpc0NhbGMgPSBzLnNwbGl0KFwiOyNcIik7XG4gICAgICAgICAgICAvLyAgICAgICAgLy8gVGhlIGZpcnN0IHZhbHVlIHdpbGwgYmUgdGhlIGNhbGN1bGF0ZWQgY29sdW1uIHZhbHVlIHR5cGUsIHRoZSBzZWNvbmQgd2lsbCBiZSB0aGUgdmFsdWVcbiAgICAgICAgICAgIC8vICAgICAgICByZXR1cm4gYXR0clRvSnNvbih0aGlzQ2FsY1sxXSwgdGhpc0NhbGNbMF0pO1xuICAgICAgICAgICAgLy8gICAgfVxuICAgICAgICAgICAgLy99XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy9mdW5jdGlvbiBqc29uVG9Kc29uT2JqZWN0KHMpIHtcbiAgICAgICAgICAgIC8vICAgIGlmIChzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgLy8gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgLy8gICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vICAgICAgICByZXR1cm4gJC5wYXJzZUpTT04ocyk7XG4gICAgICAgICAgICAvLyAgICB9XG4gICAgICAgICAgICAvL31cblxuICAgICAgICAgICAgLy8gQnVpbGQgdGhlIFVSTCBmb3IgdGhlIEFqYXggY2FsbCBiYXNlZCBvbiB3aGljaCBvcGVyYXRpb24gd2UncmUgY2FsbGluZ1xuICAgICAgICAgICAgLy8gSWYgdGhlIHdlYlVSTCBoYXMgYmVlbiBwcm92aWRlZCwgdGhlbiB1c2UgaXQsIGVsc2UgdXNlIHRoZSBjdXJyZW50IHNpdGVcbiAgICAgICAgICAgIC8vdmFyIGFqYXhVUkwgPSBnZW5lcmF0ZVdlYlNlcnZpY2VVcmwoc2VydmljZSwgb3B0LndlYlVSTCk7XG4gICAgICAgICAgICAvL3ZhciBhamF4VVJMID0gXCJfdnRpX2Jpbi9cIiArIHNlcnZpY2UgKyBcIi5hc214XCI7XG4gICAgICAgICAgICAvL2lmIChvcHQud2ViVVJMKSB7XG4gICAgICAgICAgICAvLyAgICBhamF4VVJMID0gb3B0LndlYlVSTC5jaGFyQXQob3B0LndlYlVSTC5sZW5ndGggLSAxKSA9PT0gU0xBU0ggP1xuICAgICAgICAgICAgLy8gICAgb3B0LndlYlVSTCArIGFqYXhVUkwgOiBvcHQud2ViVVJMICsgU0xBU0ggKyBhamF4VVJMO1xuICAgICAgICAgICAgLy99IGVsc2Uge1xuICAgICAgICAgICAgLy8gICAgdmFyIHRoaXNTaXRlID0gU1BTZXJ2aWNlcy5TUEdldEN1cnJlbnRTaXRlKCk7XG4gICAgICAgICAgICAvLyAgICBhamF4VVJMID0gdGhpc1NpdGUgKyAoKHRoaXNTaXRlLmNoYXJBdCh0aGlzU2l0ZS5sZW5ndGggLSAxKSA9PT0gU0xBU0gpID8gYWpheFVSTCA6IChTTEFTSCArIGFqYXhVUkwpKTtcbiAgICAgICAgICAgIC8vfVxuXG4gICAgICAgICAgICAvLyBJZiBhIHN0cmluZyBpcyBhIFVSTCwgZm9ybWF0IGl0IGFzIGEgbGluaywgZWxzZSByZXR1cm4gdGhlIHN0cmluZyBhcy1pc1xuICAgICAgICAgICAgLy9mdW5jdGlvbiBjaGVja0xpbmsocykge1xuICAgICAgICAgICAgLy8gICAgcmV0dXJuICgocy5pbmRleE9mKFwiaHR0cFwiKSA9PT0gMCkgfHwgKHMuaW5kZXhPZihTTEFTSCkgPT09IDApKSA/IFwiPGEgaHJlZj0nXCIgKyBzICsgXCInPlwiICsgcyArIFwiPC9hPlwiIDogcztcbiAgICAgICAgICAgIC8vfVxuXG4gICAgICAgICAgICAvL1NQU2VydmljZXMuZ2VuZXJhdGVXZWJTZXJ2aWNlVXJsID0gZ2VuZXJhdGVXZWJTZXJ2aWNlVXJsO1xuXG4gICAgICAgICAgICAvLyBGdW5jdGlvbiB0byBkZXRlcm1pbmUgdGhlIGN1cnJlbnQgV2ViJ3MgVVJMLiAgV2UgbmVlZCB0aGlzIGZvciBzdWNjZXNzZnVsIEFqYXggY2FsbHMuXG4gICAgICAgICAgICAvLyBUaGUgZnVuY3Rpb24gaXMgYWxzbyBhdmFpbGFibGUgYXMgYSBwdWJsaWMgZnVuY3Rpb24uXG4gICAgICAgICAgICAvL2Z1bmN0aW9uIFNQR2V0Q3VycmVudFNpdGUoKSB7XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gICAgLy8gV2UndmUgYWxyZWFkeSBkZXRlcm1pbmVkIHRoZSBjdXJyZW50IHNpdGUuLi5cbiAgICAgICAgICAgIC8vICAgIGlmIChjdXJyZW50Q29udGV4dC50aGlzU2l0ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAvLyAgICAgICAgcmV0dXJuIGN1cnJlbnRDb250ZXh0LnRoaXNTaXRlO1xuICAgICAgICAgICAgLy8gICAgfVxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vICAgIC8vIElmIHdlIHN0aWxsIGRvbid0IGtub3cgdGhlIGN1cnJlbnQgc2l0ZSwgd2UgY2FsbCBXZWJVcmxGcm9tUGFnZVVybFJlc3VsdC5cbiAgICAgICAgICAgIC8vICAgIHZhciBtc2cgPSBTT0FQRW52ZWxvcGUuaGVhZGVyICtcbiAgICAgICAgICAgIC8vICAgICAgICBcIjxXZWJVcmxGcm9tUGFnZVVybCB4bWxucz0nXCIgKyBTQ0hFTUFTaGFyZVBvaW50ICsgXCIvc29hcC8nID48cGFnZVVybD5cIiArXG4gICAgICAgICAgICAvLyAgICAgICAgKChsb2NhdGlvbi5ocmVmLmluZGV4T2YoXCI/XCIpID4gMCkgPyBsb2NhdGlvbi5ocmVmLnN1YnN0cigwLCBsb2NhdGlvbi5ocmVmLmluZGV4T2YoXCI/XCIpKSA6IGxvY2F0aW9uLmhyZWYpICtcbiAgICAgICAgICAgIC8vICAgICAgICBcIjwvcGFnZVVybD48L1dlYlVybEZyb21QYWdlVXJsPlwiICtcbiAgICAgICAgICAgIC8vICAgICAgICBTT0FQRW52ZWxvcGUuZm9vdGVyO1xuICAgICAgICAgICAgLy8gICAgJC5hamF4KHtcbiAgICAgICAgICAgIC8vICAgICAgICBhc3luYzogZmFsc2UsIC8vIE5lZWQgdGhpcyB0byBiZSBzeW5jaHJvbm91cyBzbyB3ZSdyZSBhc3N1cmVkIG9mIGEgdmFsaWQgdmFsdWVcbiAgICAgICAgICAgIC8vICAgICAgICB1cmw6IFwiL192dGlfYmluL1dlYnMuYXNteFwiLFxuICAgICAgICAgICAgLy8gICAgICAgIHR5cGU6IFwiUE9TVFwiLFxuICAgICAgICAgICAgLy8gICAgICAgIGRhdGE6IG1zZyxcbiAgICAgICAgICAgIC8vICAgICAgICBkYXRhVHlwZTogXCJ4bWxcIixcbiAgICAgICAgICAgIC8vICAgICAgICBjb250ZW50VHlwZTogXCJ0ZXh0L3htbDtjaGFyc2V0PVxcXCJ1dGYtOFxcXCJcIixcbiAgICAgICAgICAgIC8vICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24gKHhEYXRhKSB7XG4gICAgICAgICAgICAvLyAgICAgICAgICAgIGN1cnJlbnRDb250ZXh0LnRoaXNTaXRlID0gJCh4RGF0YS5yZXNwb25zZVhNTCkuZmluZChcIldlYlVybEZyb21QYWdlVXJsUmVzdWx0XCIpLnRleHQoKTtcbiAgICAgICAgICAgIC8vICAgICAgICB9XG4gICAgICAgICAgICAvLyAgICB9KTtcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyAgICByZXR1cm4gY3VycmVudENvbnRleHQudGhpc1NpdGU7IC8vIFJldHVybiB0aGUgVVJMXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy99IC8vIEVuZCBTUFNlcnZpY2VzLlNQR2V0Q3VycmVudFNpdGVcblxuICAgICAgICAgICAgLy9mdW5jdGlvbiBnZW5lcmF0ZVdlYlNlcnZpY2VVcmwoc2VydmljZSwgd2ViVVJMKSB7XG4gICAgICAgICAgICAvLyAgICB2YXIgYWpheFVSTCA9IFwiX3Z0aV9iaW4vXCIgKyBzZXJ2aWNlICsgXCIuYXNteFwiO1xuICAgICAgICAgICAgLy8gICAgaWYgKHdlYlVSTCkge1xuICAgICAgICAgICAgLy8gICAgICAgIGFqYXhVUkwgPSB3ZWJVUkwuY2hhckF0KHdlYlVSTC5sZW5ndGggLSAxKSA9PT0gU0xBU0ggP1xuICAgICAgICAgICAgLy8gICAgICAgIHdlYlVSTCArIGFqYXhVUkwgOiB3ZWJVUkwgKyBTTEFTSCArIGFqYXhVUkw7XG4gICAgICAgICAgICAvLyAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gICAgICAgIHZhciB0aGlzU2l0ZSA9IFNQU2VydmljZXMuU1BHZXRDdXJyZW50U2l0ZSgpO1xuICAgICAgICAgICAgLy8gICAgICAgIGFqYXhVUkwgPSB0aGlzU2l0ZSArICgodGhpc1NpdGUuY2hhckF0KHRoaXNTaXRlLmxlbmd0aCAtIDEpID09PSBTTEFTSCkgPyBhamF4VVJMIDogKFNMQVNIICsgYWpheFVSTCkpO1xuICAgICAgICAgICAgLy8gICAgfVxuICAgICAgICAgICAgLy8gICAgcmV0dXJuIGFqYXhVUkw7XG4gICAgICAgICAgICAvL31cblxuICAgICAgICAgICAgLy9zd2l0Y2ggKGFwV2ViU2VydmljZU9wZXJhdGlvbkNvbnN0YW50c1tvcHQub3BlcmF0aW9uXVswXSkge1xuICAgICAgICAgICAgLy8gICAgY2FzZSBcIkFsZXJ0c1wiOlxuICAgICAgICAgICAgLy8gICAgICAgIFNPQVBFbnZlbG9wZS5vcGhlYWRlciArPSBcInhtbG5zPSdcIiArIFNDSEVNQVNoYXJlUG9pbnQgKyBcIi9zb2FwLzIwMDIvMS9hbGVydHMvJyA+XCI7XG4gICAgICAgICAgICAvLyAgICAgICAgU09BUEFjdGlvbiA9IFNDSEVNQVNoYXJlUG9pbnQgKyBcIi9zb2FwLzIwMDIvMS9hbGVydHMvXCI7XG4gICAgICAgICAgICAvLyAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAvLyAgICBjYXNlIFwiTWVldGluZ3NcIjpcbiAgICAgICAgICAgIC8vICAgICAgICBTT0FQRW52ZWxvcGUub3BoZWFkZXIgKz0gXCJ4bWxucz0nXCIgKyBTQ0hFTUFTaGFyZVBvaW50ICsgXCIvc29hcC9tZWV0aW5ncy8nID5cIjtcbiAgICAgICAgICAgIC8vICAgICAgICBTT0FQQWN0aW9uID0gU0NIRU1BU2hhcmVQb2ludCArIFwiL3NvYXAvbWVldGluZ3MvXCI7XG4gICAgICAgICAgICAvLyAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAvLyAgICBjYXNlIFwiUGVybWlzc2lvbnNcIjpcbiAgICAgICAgICAgIC8vICAgICAgICBTT0FQRW52ZWxvcGUub3BoZWFkZXIgKz0gXCJ4bWxucz0nXCIgKyBTQ0hFTUFTaGFyZVBvaW50ICsgXCIvc29hcC9kaXJlY3RvcnkvJyA+XCI7XG4gICAgICAgICAgICAvLyAgICAgICAgU09BUEFjdGlvbiA9IFNDSEVNQVNoYXJlUG9pbnQgKyBcIi9zb2FwL2RpcmVjdG9yeS9cIjtcbiAgICAgICAgICAgIC8vICAgICAgICBicmVhaztcbiAgICAgICAgICAgIC8vICAgIGNhc2UgXCJQdWJsaXNoZWRMaW5rc1NlcnZpY2VcIjpcbiAgICAgICAgICAgIC8vICAgICAgICBTT0FQRW52ZWxvcGUub3BoZWFkZXIgKz0gXCJ4bWxucz0naHR0cDovL21pY3Jvc29mdC5jb20vd2Vic2VydmljZXMvU2hhcmVQb2ludFBvcnRhbFNlcnZlci9QdWJsaXNoZWRMaW5rc1NlcnZpY2UvJyA+XCI7XG4gICAgICAgICAgICAvLyAgICAgICAgU09BUEFjdGlvbiA9IFwiaHR0cDovL21pY3Jvc29mdC5jb20vd2Vic2VydmljZXMvU2hhcmVQb2ludFBvcnRhbFNlcnZlci9QdWJsaXNoZWRMaW5rc1NlcnZpY2UvXCI7XG4gICAgICAgICAgICAvLyAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAvLyAgICBjYXNlIFwiU2VhcmNoXCI6XG4gICAgICAgICAgICAvLyAgICAgICAgU09BUEVudmVsb3BlLm9waGVhZGVyICs9IFwieG1sbnM9J3VybjpNaWNyb3NvZnQuU2VhcmNoJyA+XCI7XG4gICAgICAgICAgICAvLyAgICAgICAgU09BUEFjdGlvbiA9IFwidXJuOk1pY3Jvc29mdC5TZWFyY2gvXCI7XG4gICAgICAgICAgICAvLyAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAvLyAgICBjYXNlIFwiU2hhcmVQb2ludERpYWdub3N0aWNzXCI6XG4gICAgICAgICAgICAvLyAgICAgICAgU09BUEVudmVsb3BlLm9waGVhZGVyICs9IFwieG1sbnM9J1wiICsgU0NIRU1BU2hhcmVQb2ludCArIFwiL2RpYWdub3N0aWNzLycgPlwiO1xuICAgICAgICAgICAgLy8gICAgICAgIFNPQVBBY3Rpb24gPSBcImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vc2hhcmVwb2ludC9kaWFnbm9zdGljcy9cIjtcbiAgICAgICAgICAgIC8vICAgICAgICBicmVhaztcbiAgICAgICAgICAgIC8vICAgIGNhc2UgXCJTb2NpYWxEYXRhU2VydmljZVwiOlxuICAgICAgICAgICAgLy8gICAgICAgIFNPQVBFbnZlbG9wZS5vcGhlYWRlciArPSBcInhtbG5zPSdodHRwOi8vbWljcm9zb2Z0LmNvbS93ZWJzZXJ2aWNlcy9TaGFyZVBvaW50UG9ydGFsU2VydmVyL1NvY2lhbERhdGFTZXJ2aWNlJyA+XCI7XG4gICAgICAgICAgICAvLyAgICAgICAgU09BUEFjdGlvbiA9IFwiaHR0cDovL21pY3Jvc29mdC5jb20vd2Vic2VydmljZXMvU2hhcmVQb2ludFBvcnRhbFNlcnZlci9Tb2NpYWxEYXRhU2VydmljZS9cIjtcbiAgICAgICAgICAgIC8vICAgICAgICBicmVhaztcbiAgICAgICAgICAgIC8vICAgIGNhc2UgXCJTcGVsbENoZWNrXCI6XG4gICAgICAgICAgICAvLyAgICAgICAgU09BUEVudmVsb3BlLm9waGVhZGVyICs9IFwieG1sbnM9J2h0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vc2hhcmVwb2ludC9wdWJsaXNoaW5nL3NwZWxsaW5nLycgPlwiO1xuICAgICAgICAgICAgLy8gICAgICAgIFNPQVBBY3Rpb24gPSBcImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vc2hhcmVwb2ludC9wdWJsaXNoaW5nL3NwZWxsaW5nL1NwZWxsQ2hlY2tcIjtcbiAgICAgICAgICAgIC8vICAgICAgICBicmVhaztcbiAgICAgICAgICAgIC8vICAgIGNhc2UgXCJUYXhvbm9teUNsaWVudFNlcnZpY2VcIjpcbiAgICAgICAgICAgIC8vICAgICAgICBTT0FQRW52ZWxvcGUub3BoZWFkZXIgKz0gXCJ4bWxucz0nXCIgKyBTQ0hFTUFTaGFyZVBvaW50ICsgXCIvdGF4b25vbXkvc29hcC8nID5cIjtcbiAgICAgICAgICAgIC8vICAgICAgICBTT0FQQWN0aW9uID0gU0NIRU1BU2hhcmVQb2ludCArIFwiL3RheG9ub215L3NvYXAvXCI7XG4gICAgICAgICAgICAvLyAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAvLyAgICBjYXNlIFwidXNlcmdyb3VwXCI6XG4gICAgICAgICAgICAvLyAgICAgICAgU09BUEVudmVsb3BlLm9waGVhZGVyICs9IFwieG1sbnM9J1wiICsgU0NIRU1BU2hhcmVQb2ludCArIFwiL3NvYXAvZGlyZWN0b3J5LycgPlwiO1xuICAgICAgICAgICAgLy8gICAgICAgIFNPQVBBY3Rpb24gPSBTQ0hFTUFTaGFyZVBvaW50ICsgXCIvc29hcC9kaXJlY3RvcnkvXCI7XG4gICAgICAgICAgICAvLyAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAvLyAgICBjYXNlIFwiVXNlclByb2ZpbGVTZXJ2aWNlXCI6XG4gICAgICAgICAgICAvLyAgICAgICAgU09BUEVudmVsb3BlLm9waGVhZGVyICs9IFwieG1sbnM9J2h0dHA6Ly9taWNyb3NvZnQuY29tL3dlYnNlcnZpY2VzL1NoYXJlUG9pbnRQb3J0YWxTZXJ2ZXIvVXNlclByb2ZpbGVTZXJ2aWNlJyA+XCI7XG4gICAgICAgICAgICAvLyAgICAgICAgU09BUEFjdGlvbiA9IFwiaHR0cDovL21pY3Jvc29mdC5jb20vd2Vic2VydmljZXMvU2hhcmVQb2ludFBvcnRhbFNlcnZlci9Vc2VyUHJvZmlsZVNlcnZpY2UvXCI7XG4gICAgICAgICAgICAvLyAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAvLyAgICBjYXNlIFwiV2ViUGFydFBhZ2VzXCI6XG4gICAgICAgICAgICAvLyAgICAgICAgU09BUEVudmVsb3BlLm9waGVhZGVyICs9IFwieG1sbnM9J2h0dHA6Ly9taWNyb3NvZnQuY29tL3NoYXJlcG9pbnQvd2VicGFydHBhZ2VzJyA+XCI7XG4gICAgICAgICAgICAvLyAgICAgICAgU09BUEFjdGlvbiA9IFwiaHR0cDovL21pY3Jvc29mdC5jb20vc2hhcmVwb2ludC93ZWJwYXJ0cGFnZXMvXCI7XG4gICAgICAgICAgICAvLyAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAvLyAgICBjYXNlIFwiV29ya2Zsb3dcIjpcbiAgICAgICAgICAgIC8vICAgICAgICBTT0FQRW52ZWxvcGUub3BoZWFkZXIgKz0gXCJ4bWxucz0nXCIgKyBTQ0hFTUFTaGFyZVBvaW50ICsgXCIvc29hcC93b3JrZmxvdy8nID5cIjtcbiAgICAgICAgICAgIC8vICAgICAgICBTT0FQQWN0aW9uID0gU0NIRU1BU2hhcmVQb2ludCArIFwiL3NvYXAvd29ya2Zsb3cvXCI7XG4gICAgICAgICAgICAvLyAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAvLyAgICBkZWZhdWx0OlxuICAgICAgICAgICAgLy8gICAgICAgIFNPQVBFbnZlbG9wZS5vcGhlYWRlciArPSBcInhtbG5zPSdcIiArIFNDSEVNQVNoYXJlUG9pbnQgKyBcIi9zb2FwLyc+XCI7XG4gICAgICAgICAgICAvLyAgICAgICAgU09BUEFjdGlvbiA9IFNDSEVNQVNoYXJlUG9pbnQgKyBcIi9zb2FwL1wiO1xuICAgICAgICAgICAgLy8gICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgLy99XG5cblxuICAgICAgICAgICAgLy8gVXRpbGl0eSBmdW5jdGlvbiB0byBzaG93IHRoZSByZXN1bHRzIG9mIGEgV2ViIFNlcnZpY2UgY2FsbCBmb3JtYXR0ZWQgd2VsbCBpbiB0aGUgYnJvd3Nlci5cbiAgICAgICAgICAgIC8vU1BTZXJ2aWNlcy5TUERlYnVnWE1MSHR0cFJlc3VsdCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gICAgdmFyIG9wdCA9ICQuZXh0ZW5kKHt9LCB7XG4gICAgICAgICAgICAvLyAgICAgICAgbm9kZTogbnVsbCwgLy8gQW4gWE1MSHR0cFJlc3VsdCBvYmplY3QgZnJvbSBhbiBhamF4IGNhbGxcbiAgICAgICAgICAgIC8vICAgICAgICBpbmRlbnQ6IDAgLy8gTnVtYmVyIG9mIGluZGVudHNcbiAgICAgICAgICAgIC8vICAgIH0sIG9wdGlvbnMpO1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vICAgIHZhciBpO1xuICAgICAgICAgICAgLy8gICAgdmFyIE5PREVfVEVYVCA9IDM7XG4gICAgICAgICAgICAvLyAgICB2YXIgTk9ERV9DREFUQV9TRUNUSU9OID0gNDtcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyAgICB2YXIgb3V0U3RyaW5nID0gXCJcIjtcbiAgICAgICAgICAgIC8vICAgIC8vIEZvciBlYWNoIG5ldyBzdWJub2RlLCBiZWdpbiByZW5kZXJpbmcgYSBuZXcgVEFCTEVcbiAgICAgICAgICAgIC8vICAgIG91dFN0cmluZyArPSBcIjx0YWJsZSBjbGFzcz0nbXMtdmInIHN0eWxlPSdtYXJnaW4tbGVmdDpcIiArIG9wdC5pbmRlbnQgKiAzICsgXCJweDsnIHdpZHRoPScxMDAlJz5cIjtcbiAgICAgICAgICAgIC8vICAgIC8vIERpc3BsYXlQYXR0ZXJucyBhcmUgYSBiaXQgdW5pcXVlLCBzbyBsZXQncyBoYW5kbGUgdGhlbSBkaWZmZXJlbnRseVxuICAgICAgICAgICAgLy8gICAgaWYgKG9wdC5ub2RlLm5vZGVOYW1lID09PSBcIkRpc3BsYXlQYXR0ZXJuXCIpIHtcbiAgICAgICAgICAgIC8vICAgICAgICBvdXRTdHJpbmcgKz0gXCI8dHI+PHRkIHdpZHRoPScxMDBweCcgc3R5bGU9J2ZvbnQtd2VpZ2h0OmJvbGQ7Jz5cIiArIG9wdC5ub2RlLm5vZGVOYW1lICtcbiAgICAgICAgICAgIC8vICAgICAgICBcIjwvdGQ+PHRkPjx0ZXh0YXJlYSByZWFkb25seT0ncmVhZG9ubHknIHJvd3M9JzUnIGNvbHM9JzUwJz5cIiArIG9wdC5ub2RlLnhtbCArIFwiPC90ZXh0YXJlYT48L3RkPjwvdHI+XCI7XG4gICAgICAgICAgICAvLyAgICAgICAgLy8gQSBub2RlIHdoaWNoIGhhcyBubyBjaGlsZHJlblxuICAgICAgICAgICAgLy8gICAgfSBlbHNlIGlmICghb3B0Lm5vZGUuaGFzQ2hpbGROb2RlcygpKSB7XG4gICAgICAgICAgICAvLyAgICAgICAgb3V0U3RyaW5nICs9IFwiPHRyPjx0ZCB3aWR0aD0nMTAwcHgnIHN0eWxlPSdmb250LXdlaWdodDpib2xkOyc+XCIgKyBvcHQubm9kZS5ub2RlTmFtZSArXG4gICAgICAgICAgICAvLyAgICAgICAgXCI8L3RkPjx0ZD5cIiArICgob3B0Lm5vZGUubm9kZVZhbHVlICE9PSBudWxsKSA/IGNoZWNrTGluayhvcHQubm9kZS5ub2RlVmFsdWUpIDogXCImbmJzcDtcIikgKyBcIjwvdGQ+PC90cj5cIjtcbiAgICAgICAgICAgIC8vICAgICAgICBpZiAob3B0Lm5vZGUuYXR0cmlidXRlcykge1xuICAgICAgICAgICAgLy8gICAgICAgICAgICBvdXRTdHJpbmcgKz0gXCI8dHI+PHRkIGNvbHNwYW49Jzk5Jz5cIiArIHNob3dBdHRycyhvcHQubm9kZSkgKyBcIjwvdGQ+PC90cj5cIjtcbiAgICAgICAgICAgIC8vICAgICAgICB9XG4gICAgICAgICAgICAvLyAgICAgICAgLy8gQSBDREFUQV9TRUNUSU9OIG5vZGVcbiAgICAgICAgICAgIC8vICAgIH0gZWxzZSBpZiAob3B0Lm5vZGUuaGFzQ2hpbGROb2RlcygpICYmIG9wdC5ub2RlLmZpcnN0Q2hpbGQubm9kZVR5cGUgPT09IE5PREVfQ0RBVEFfU0VDVElPTikge1xuICAgICAgICAgICAgLy8gICAgICAgIG91dFN0cmluZyArPSBcIjx0cj48dGQgd2lkdGg9JzEwMHB4JyBzdHlsZT0nZm9udC13ZWlnaHQ6Ym9sZDsnPlwiICsgb3B0Lm5vZGUubm9kZU5hbWUgK1xuICAgICAgICAgICAgLy8gICAgICAgIFwiPC90ZD48dGQ+PHRleHRhcmVhIHJlYWRvbmx5PSdyZWFkb25seScgcm93cz0nNScgY29scz0nNTAnPlwiICsgb3B0Lm5vZGUucGFyZW50Tm9kZS50ZXh0ICsgXCI8L3RleHRhcmVhPjwvdGQ+PC90cj5cIjtcbiAgICAgICAgICAgIC8vICAgICAgICAvLyBBIFRFWFQgbm9kZVxuICAgICAgICAgICAgLy8gICAgfSBlbHNlIGlmIChvcHQubm9kZS5oYXNDaGlsZE5vZGVzKCkgJiYgb3B0Lm5vZGUuZmlyc3RDaGlsZC5ub2RlVHlwZSA9PT0gTk9ERV9URVhUKSB7XG4gICAgICAgICAgICAvLyAgICAgICAgb3V0U3RyaW5nICs9IFwiPHRyPjx0ZCB3aWR0aD0nMTAwcHgnIHN0eWxlPSdmb250LXdlaWdodDpib2xkOyc+XCIgKyBvcHQubm9kZS5ub2RlTmFtZSArXG4gICAgICAgICAgICAvLyAgICAgICAgXCI8L3RkPjx0ZD5cIiArIGNoZWNrTGluayhvcHQubm9kZS5maXJzdENoaWxkLm5vZGVWYWx1ZSkgKyBcIjwvdGQ+PC90cj5cIjtcbiAgICAgICAgICAgIC8vICAgICAgICAvLyBIYW5kbGUgY2hpbGQgbm9kZXNcbiAgICAgICAgICAgIC8vICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyAgICAgICAgb3V0U3RyaW5nICs9IFwiPHRyPjx0ZCB3aWR0aD0nMTAwcHgnIHN0eWxlPSdmb250LXdlaWdodDpib2xkOycgY29sc3Bhbj0nOTknPlwiICsgb3B0Lm5vZGUubm9kZU5hbWUgKyBcIjwvdGQ+PC90cj5cIjtcbiAgICAgICAgICAgIC8vICAgICAgICBpZiAob3B0Lm5vZGUuYXR0cmlidXRlcykge1xuICAgICAgICAgICAgLy8gICAgICAgICAgICBvdXRTdHJpbmcgKz0gXCI8dHI+PHRkIGNvbHNwYW49Jzk5Jz5cIiArIHNob3dBdHRycyhvcHQubm9kZSkgKyBcIjwvdGQ+PC90cj5cIjtcbiAgICAgICAgICAgIC8vICAgICAgICB9XG4gICAgICAgICAgICAvLyAgICAgICAgLy8gU2luY2UgdGhlIG5vZGUgaGFzIGNoaWxkIG5vZGVzLCByZWN1cnNlXG4gICAgICAgICAgICAvLyAgICAgICAgb3V0U3RyaW5nICs9IFwiPHRyPjx0ZD5cIjtcbiAgICAgICAgICAgIC8vICAgICAgICBmb3IgKGkgPSAwOyBpIDwgb3B0Lm5vZGUuY2hpbGROb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgLy8gICAgICAgICAgICBvdXRTdHJpbmcgKz0gU1BTZXJ2aWNlcy5TUERlYnVnWE1MSHR0cFJlc3VsdCh7XG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICBub2RlOiBvcHQubm9kZS5jaGlsZE5vZGVzLml0ZW0oaSksXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICBpbmRlbnQ6IG9wdC5pbmRlbnQgKyAxXG4gICAgICAgICAgICAvLyAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gICAgICAgIH1cbiAgICAgICAgICAgIC8vICAgICAgICBvdXRTdHJpbmcgKz0gXCI8L3RkPjwvdHI+XCI7XG4gICAgICAgICAgICAvLyAgICB9XG4gICAgICAgICAgICAvLyAgICBvdXRTdHJpbmcgKz0gXCI8L3RhYmxlPlwiO1xuICAgICAgICAgICAgLy8gICAgLy8gUmV0dXJuIHRoZSBIVE1MIHdoaWNoIHdlIGhhdmUgYnVpbHQgdXBcbiAgICAgICAgICAgIC8vICAgIHJldHVybiBvdXRTdHJpbmc7XG4gICAgICAgICAgICAvL307IC8vIEVuZCBTUFNlcnZpY2VzLlNQRGVidWdYTUxIdHRwUmVzdWx0XG5cbiAgICAgICAgICAgIC8vIFNob3cgYSBzaW5nbGUgYXR0cmlidXRlIG9mIGEgbm9kZSwgZW5jbG9zZWQgaW4gYSB0YWJsZVxuICAgICAgICAgICAgLy8gICBub2RlICAgICAgICAgICAgICAgVGhlIFhNTCBub2RlXG4gICAgICAgICAgICAvLyAgIG9wdCAgICAgICAgICAgICAgICBUaGUgY3VycmVudCBzZXQgb2Ygb3B0aW9uc1xuICAgICAgICAgICAgLy9mdW5jdGlvbiBzaG93QXR0cnMobm9kZSkge1xuICAgICAgICAgICAgLy8gICAgdmFyIGk7XG4gICAgICAgICAgICAvLyAgICB2YXIgb3V0ID0gXCI8dGFibGUgY2xhc3M9J21zLXZiJyB3aWR0aD0nMTAwJSc+XCI7XG4gICAgICAgICAgICAvLyAgICBmb3IgKGkgPSAwOyBpIDwgbm9kZS5hdHRyaWJ1dGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAvLyAgICAgICAgb3V0ICs9IFwiPHRyPjx0ZCB3aWR0aD0nMTBweCcgc3R5bGU9J2ZvbnQtd2VpZ2h0OmJvbGQ7Jz5cIiArIGkgKyBcIjwvdGQ+PHRkIHdpZHRoPScxMDBweCc+XCIgK1xuICAgICAgICAgICAgLy8gICAgICAgIG5vZGUuYXR0cmlidXRlcy5pdGVtKGkpLm5vZGVOYW1lICsgXCI8L3RkPjx0ZD5cIiArIGNoZWNrTGluayhub2RlLmF0dHJpYnV0ZXMuaXRlbShpKS5ub2RlVmFsdWUpICsgXCI8L3RkPjwvdHI+XCI7XG4gICAgICAgICAgICAvLyAgICB9XG4gICAgICAgICAgICAvLyAgICBvdXQgKz0gXCI8L3RhYmxlPlwiO1xuICAgICAgICAgICAgLy8gICAgcmV0dXJuIG91dDtcbiAgICAgICAgICAgIC8vfSAvLyBFbmQgb2YgZnVuY3Rpb24gc2hvd0F0dHJzXG5cbiAgICAgICAgICAgIC8vIEZ1bmN0aW9uIHdoaWNoIHJldHVybnMgdGhlIGFjY291bnQgbmFtZSBmb3IgdGhlIGN1cnJlbnQgdXNlciBpbiBET01BSU5cXHVzZXJuYW1lIGZvcm1hdFxuICAgICAgICAgICAgLy9TUFNlcnZpY2VzLlNQR2V0Q3VycmVudFVzZXIgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vICAgIHZhciBvcHQgPSAkLmV4dGVuZCh7fSwge1xuICAgICAgICAgICAgLy8gICAgICAgIHdlYlVSTDogXCJcIiwgLy8gVVJMIG9mIHRoZSB0YXJnZXQgU2l0ZSBDb2xsZWN0aW9uLiAgSWYgbm90IHNwZWNpZmllZCwgdGhlIGN1cnJlbnQgV2ViIGlzIHVzZWQuXG4gICAgICAgICAgICAvLyAgICAgICAgZmllbGROYW1lOiBcIk5hbWVcIiwgLy8gU3BlY2lmaWVzIHdoaWNoIGZpZWxkIHRvIHJldHVybiBmcm9tIHRoZSB1c2VyZGlzcC5hc3B4IHBhZ2VcbiAgICAgICAgICAgIC8vICAgICAgICBmaWVsZE5hbWVzOiB7fSwgLy8gU3BlY2lmaWVzIHdoaWNoIGZpZWxkcyB0byByZXR1cm4gZnJvbSB0aGUgdXNlcmRpc3AuYXNweCBwYWdlIC0gYWRkZWQgaW4gdjAuNy4yIHRvIGFsbG93IG11bHRpcGxlIGNvbHVtbnNcbiAgICAgICAgICAgIC8vICAgICAgICBkZWJ1ZzogZmFsc2UgLy8gSWYgdHJ1ZSwgc2hvdyBlcnJvciBtZXNzYWdlczsgaWYgZmFsc2UsIHJ1biBzaWxlbnRcbiAgICAgICAgICAgIC8vICAgIH0sIG9wdGlvbnMpO1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vICAgIC8vIFRoZSBjdXJyZW50IHVzZXIncyBJRCBpcyByZWxpYWJseSBhdmFpbGFibGUgaW4gYW4gZXhpc3RpbmcgSmF2YVNjcmlwdCB2YXJpYWJsZVxuICAgICAgICAgICAgLy8gICAgaWYgKG9wdC5maWVsZE5hbWUgPT09IFwiSURcIiAmJiB0eXBlb2YgY3VycmVudENvbnRleHQudGhpc1VzZXJJZCAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgLy8gICAgICAgIHJldHVybiBjdXJyZW50Q29udGV4dC50aGlzVXNlcklkO1xuICAgICAgICAgICAgLy8gICAgfVxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vICAgIHZhciB0aGlzRmllbGQgPSBcIlwiO1xuICAgICAgICAgICAgLy8gICAgdmFyIHRoZXNlRmllbGRzID0ge307XG4gICAgICAgICAgICAvLyAgICB2YXIgZmllbGRDb3VudCA9IG9wdC5maWVsZE5hbWVzLmxlbmd0aCA+IDAgPyBvcHQuZmllbGROYW1lcy5sZW5ndGggOiAxO1xuICAgICAgICAgICAgLy8gICAgdmFyIHRoaXNVc2VyRGlzcDtcbiAgICAgICAgICAgIC8vICAgIHZhciB0aGlzV2ViID0gb3B0LndlYlVSTC5sZW5ndGggPiAwID8gb3B0LndlYlVSTCA6IFNQU2VydmljZXMuU1BHZXRDdXJyZW50U2l0ZSgpO1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vICAgIC8vIEdldCB0aGUgVXNlckRpc3AuYXNweCBwYWdlIHVzaW5nIEFKQVhcbiAgICAgICAgICAgIC8vICAgICQuYWpheCh7XG4gICAgICAgICAgICAvLyAgICAgICAgLy8gTmVlZCB0aGlzIHRvIGJlIHN5bmNocm9ub3VzIHNvIHdlJ3JlIGFzc3VyZWQgb2YgYSB2YWxpZCB2YWx1ZVxuICAgICAgICAgICAgLy8gICAgICAgIGFzeW5jOiBmYWxzZSxcbiAgICAgICAgICAgIC8vICAgICAgICAvLyBGb3JjZSBwYXJhbWV0ZXIgZm9yY2VzIHJlZGlyZWN0aW9uIHRvIGEgcGFnZSB0aGF0IGRpc3BsYXlzIHRoZSBpbmZvcm1hdGlvbiBhcyBzdG9yZWQgaW4gdGhlIFVzZXJJbmZvIHRhYmxlIHJhdGhlciB0aGFuIE15IFNpdGUuXG4gICAgICAgICAgICAvLyAgICAgICAgLy8gQWRkaW5nIHRoZSBleHRyYSBRdWVyeSBTdHJpbmcgcGFyYW1ldGVyIHdpdGggdGhlIGN1cnJlbnQgZGF0ZS90aW1lIGZvcmNlcyB0aGUgc2VydmVyIHRvIHZpZXcgdGhpcyBhcyBhIG5ldyByZXF1ZXN0LlxuICAgICAgICAgICAgLy8gICAgICAgIHVybDogdGhpc1dlYiArIFwiL19sYXlvdXRzL3VzZXJkaXNwLmFzcHg/Rm9yY2U9VHJ1ZSZcIiArIG5ldyBEYXRlKCkuZ2V0VGltZSgpLFxuICAgICAgICAgICAgLy8gICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbiAoeERhdGEpIHtcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgdGhpc1VzZXJEaXNwID0geERhdGE7XG4gICAgICAgICAgICAvLyAgICAgICAgfVxuICAgICAgICAgICAgLy8gICAgfSk7XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gICAgZm9yIChpID0gMDsgaSA8IGZpZWxkQ291bnQ7IGkrKykge1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vICAgICAgICAvLyBUaGUgY3VycmVudCB1c2VyJ3MgSUQgaXMgcmVsaWFibHkgYXZhaWxhYmxlIGluIGFuIGV4aXN0aW5nIEphdmFTY3JpcHQgdmFyaWFibGVcbiAgICAgICAgICAgIC8vICAgICAgICBpZiAob3B0LmZpZWxkTmFtZXNbaV0gPT09IFwiSURcIikge1xuICAgICAgICAgICAgLy8gICAgICAgICAgICB0aGlzRmllbGQgPSBjdXJyZW50Q29udGV4dC50aGlzVXNlcklkO1xuICAgICAgICAgICAgLy8gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyAgICAgICAgICAgIHZhciB0aGlzVGV4dFZhbHVlO1xuICAgICAgICAgICAgLy8gICAgICAgICAgICBpZiAoZmllbGRDb3VudCA+IDEpIHtcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgIHRoaXNUZXh0VmFsdWUgPSBSZWdFeHAoXCJGaWVsZEludGVybmFsTmFtZT1cXFwiXCIgKyBvcHQuZmllbGROYW1lc1tpXSArIFwiXFxcIlwiLCBcImdpXCIpO1xuICAgICAgICAgICAgLy8gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgdGhpc1RleHRWYWx1ZSA9IFJlZ0V4cChcIkZpZWxkSW50ZXJuYWxOYW1lPVxcXCJcIiArIG9wdC5maWVsZE5hbWUgKyBcIlxcXCJcIiwgXCJnaVwiKTtcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gICAgICAgICAgICAkKHRoaXNVc2VyRGlzcC5yZXNwb25zZVRleHQpLmZpbmQoXCJ0YWJsZS5tcy1mb3JtdGFibGUgdGRbaWRePSdTUEZpZWxkJ11cIikuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICBpZiAodGhpc1RleHRWYWx1ZS50ZXN0KCQodGhpcykuaHRtbCgpKSkge1xuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgIC8vIEVhY2ggZmllbGR0eXBlIGNvbnRhaW5zIGEgZGlmZmVyZW50IGRhdGEgdHlwZSwgYXMgaW5kaWNhdGVkIGJ5IHRoZSBpZFxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoJCh0aGlzKS5hdHRyKFwiaWRcIikpIHtcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlNQRmllbGRUZXh0XCI6XG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzRmllbGQgPSAkKHRoaXMpLnRleHQoKTtcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiU1BGaWVsZE5vdGVcIjpcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNGaWVsZCA9ICQodGhpcykuZmluZChcImRpdlwiKS5odG1sKCk7XG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlNQRmllbGRVUkxcIjpcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNGaWVsZCA9ICQodGhpcykuZmluZChcImltZ1wiKS5hdHRyKFwic3JjXCIpO1xuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgIC8vIEp1c3QgaW4gY2FzZVxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc0ZpZWxkID0gJCh0aGlzKS50ZXh0KCk7XG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgLy8gU3RvcCBsb29raW5nOyB3ZSdyZSBkb25lXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vICAgICAgICB9XG4gICAgICAgICAgICAvLyAgICAgICAgaWYgKG9wdC5maWVsZE5hbWVzW2ldICE9PSBcIklEXCIpIHtcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgdGhpc0ZpZWxkID0gKHR5cGVvZiB0aGlzRmllbGQgIT09IFwidW5kZWZpbmVkXCIpID8gdGhpc0ZpZWxkLnJlcGxhY2UoLyheW1xcc1xceEEwXSt8W1xcc1xceEEwXSskKS9nLCAnJykgOiBudWxsO1xuICAgICAgICAgICAgLy8gICAgICAgIH1cbiAgICAgICAgICAgIC8vICAgICAgICBpZiAoZmllbGRDb3VudCA+IDEpIHtcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgdGhlc2VGaWVsZHNbb3B0LmZpZWxkTmFtZXNbaV1dID0gdGhpc0ZpZWxkO1xuICAgICAgICAgICAgLy8gICAgICAgIH1cbiAgICAgICAgICAgIC8vICAgIH1cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyAgICByZXR1cm4gKGZpZWxkQ291bnQgPiAxKSA/IHRoZXNlRmllbGRzIDogdGhpc0ZpZWxkO1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vfTsgLy8gRW5kIFNQU2VydmljZXMuU1BHZXRDdXJyZW50VXNlclxuXG4gICAgICAgICAgICAvLyBTUFVwZGF0ZU11bHRpcGxlTGlzdEl0ZW1zIGFsbG93cyB5b3UgdG8gdXBkYXRlIG11bHRpcGxlIGl0ZW1zIGluIGEgbGlzdCBiYXNlZCB1cG9uIHNvbWUgY29tbW9uIGNoYXJhY3RlcmlzdGljIG9yIG1ldGFkYXRhIGNyaXRlcmlhLlxuICAgICAgICAgICAgLy9mdW5jdGlvbiBTUFVwZGF0ZU11bHRpcGxlTGlzdEl0ZW1zIChvcHRpb25zKSB7XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gICAgdmFyIG9wdCA9ICQuZXh0ZW5kKHt9LCB7XG4gICAgICAgICAgICAvLyAgICAgICAgd2ViVVJMOiBcIlwiLCAvLyBbT3B0aW9uYWxdIFVSTCBvZiB0aGUgdGFyZ2V0IFdlYi4gIElmIG5vdCBzcGVjaWZpZWQsIHRoZSBjdXJyZW50IFdlYiBpcyB1c2VkLlxuICAgICAgICAgICAgLy8gICAgICAgIGxpc3ROYW1lOiBcIlwiLCAvLyBUaGUgbGlzdCB0byBvcGVyYXRlIG9uLlxuICAgICAgICAgICAgLy8gICAgICAgIENBTUxRdWVyeTogXCJcIiwgLy8gQSBDQU1MIGZyYWdtZW50IHNwZWNpZnlpbmcgd2hpY2ggaXRlbXMgaW4gdGhlIGxpc3Qgd2lsbCBiZSBzZWxlY3RlZCBhbmQgdXBkYXRlZFxuICAgICAgICAgICAgLy8gICAgICAgIGJhdGNoQ21kOiBcIlVwZGF0ZVwiLCAvLyBUaGUgb3BlcmF0aW9uIHRvIHBlcmZvcm0uIEJ5IGRlZmF1bHQsIFVwZGF0ZS5cbiAgICAgICAgICAgIC8vICAgICAgICB2YWx1ZVBhaXJzOiBbXSwgLy8gdmFsdWVQYWlycyBmb3IgdGhlIHVwZGF0ZSBpbiB0aGUgZm9ybSBbW2ZpZWxkbmFtZTEsIGZpZWxkdmFsdWUxXSwgW2ZpZWxkbmFtZTIsIGZpZWxkdmFsdWUyXS4uLl1cbiAgICAgICAgICAgIC8vICAgICAgICBjb21wbGV0ZWZ1bmM6IG51bGwsIC8vIEZ1bmN0aW9uIHRvIGNhbGwgb24gY29tcGxldGlvbiBvZiByZW5kZXJpbmcgdGhlIGNoYW5nZS5cbiAgICAgICAgICAgIC8vICAgICAgICBkZWJ1ZzogZmFsc2UgLy8gSWYgdHJ1ZSwgc2hvdyBlcnJvciBtZXNzYWdlcztpZiBmYWxzZSwgcnVuIHNpbGVudFxuICAgICAgICAgICAgLy8gICAgfSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gICAgdmFyIGk7XG4gICAgICAgICAgICAvLyAgICB2YXIgaXRlbXNUb1VwZGF0ZSA9IFtdO1xuICAgICAgICAgICAgLy8gICAgdmFyIGRvY3VtZW50c1RvVXBkYXRlID0gW107XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gICAgLy8gQ2FsbCBHZXRMaXN0SXRlbXMgdG8gZmluZCBhbGwgb2YgdGhlIGl0ZW1zIG1hdGNoaW5nIHRoZSBDQU1MUXVlcnlcbiAgICAgICAgICAgIC8vICAgIFNQU2VydmljZXMoe1xuICAgICAgICAgICAgLy8gICAgICAgIG9wZXJhdGlvbjogXCJHZXRMaXN0SXRlbXNcIixcbiAgICAgICAgICAgIC8vICAgICAgICBhc3luYzogZmFsc2UsXG4gICAgICAgICAgICAvLyAgICAgICAgd2ViVVJMOiBvcHQud2ViVVJMLFxuICAgICAgICAgICAgLy8gICAgICAgIGxpc3ROYW1lOiBvcHQubGlzdE5hbWUsXG4gICAgICAgICAgICAvLyAgICAgICAgQ0FNTFF1ZXJ5OiBvcHQuQ0FNTFF1ZXJ5LFxuICAgICAgICAgICAgLy8gICAgICAgIENBTUxRdWVyeU9wdGlvbnM6IFwiPFF1ZXJ5T3B0aW9ucz48Vmlld0F0dHJpYnV0ZXMgU2NvcGU9J1JlY3Vyc2l2ZScgLz48L1F1ZXJ5T3B0aW9ucz5cIixcbiAgICAgICAgICAgIC8vICAgICAgICBjb21wbGV0ZWZ1bmM6IGZ1bmN0aW9uICh4RGF0YSkge1xuICAgICAgICAgICAgLy8gICAgICAgICAgICAkKHhEYXRhLnJlc3BvbnNlWE1MKS5TUEZpbHRlck5vZGUoXCJ6OnJvd1wiKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgIGl0ZW1zVG9VcGRhdGUucHVzaCgkKHRoaXMpLmF0dHIoXCJvd3NfSURcIikpO1xuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgdmFyIGZpbGVSZWYgPSAkKHRoaXMpLmF0dHIoXCJvd3NfRmlsZVJlZlwiKTtcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgIGZpbGVSZWYgPSBcIi9cIiArIGZpbGVSZWYuc3Vic3RyaW5nKGZpbGVSZWYuaW5kZXhPZihcIjsjXCIpICsgMik7XG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICBkb2N1bWVudHNUb1VwZGF0ZS5wdXNoKGZpbGVSZWYpO1xuICAgICAgICAgICAgLy8gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vICAgICAgICB9XG4gICAgICAgICAgICAvLyAgICB9KTtcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyAgICB2YXIgZmllbGROdW07XG4gICAgICAgICAgICAvLyAgICB2YXIgYmF0Y2ggPSBcIjxCYXRjaCBPbkVycm9yPSdDb250aW51ZSc+XCI7XG4gICAgICAgICAgICAvLyAgICBmb3IgKGkgPSAwOyBpIDwgaXRlbXNUb1VwZGF0ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgLy8gICAgICAgIGJhdGNoICs9IFwiPE1ldGhvZCBJRD0nXCIgKyBpICsgXCInIENtZD0nXCIgKyBvcHQuYmF0Y2hDbWQgKyBcIic+XCI7XG4gICAgICAgICAgICAvLyAgICAgICAgZm9yIChmaWVsZE51bSA9IDA7IGZpZWxkTnVtIDwgb3B0LnZhbHVlUGFpcnMubGVuZ3RoOyBmaWVsZE51bSsrKSB7XG4gICAgICAgICAgICAvLyAgICAgICAgICAgIGJhdGNoICs9IFwiPEZpZWxkIE5hbWU9J1wiICsgb3B0LnZhbHVlUGFpcnNbZmllbGROdW1dWzBdICsgXCInPlwiICsgZXNjYXBlQ29sdW1uVmFsdWUob3B0LnZhbHVlUGFpcnNbZmllbGROdW1dWzFdKSArIFwiPC9GaWVsZD5cIjtcbiAgICAgICAgICAgIC8vICAgICAgICB9XG4gICAgICAgICAgICAvLyAgICAgICAgYmF0Y2ggKz0gXCI8RmllbGQgTmFtZT0nSUQnPlwiICsgaXRlbXNUb1VwZGF0ZVtpXSArIFwiPC9GaWVsZD5cIjtcbiAgICAgICAgICAgIC8vICAgICAgICBpZiAoZG9jdW1lbnRzVG9VcGRhdGVbaV0ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgLy8gICAgICAgICAgICBiYXRjaCArPSBcIjxGaWVsZCBOYW1lPSdGaWxlUmVmJz5cIiArIGRvY3VtZW50c1RvVXBkYXRlW2ldICsgXCI8L0ZpZWxkPlwiO1xuICAgICAgICAgICAgLy8gICAgICAgIH1cbiAgICAgICAgICAgIC8vICAgICAgICBiYXRjaCArPSBcIjwvTWV0aG9kPlwiO1xuICAgICAgICAgICAgLy8gICAgfVxuICAgICAgICAgICAgLy8gICAgYmF0Y2ggKz0gXCI8L0JhdGNoPlwiO1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vICAgIC8vIENhbGwgVXBkYXRlTGlzdEl0ZW1zIHRvIHVwZGF0ZSBhbGwgb2YgdGhlIGl0ZW1zIG1hdGNoaW5nIHRoZSBDQU1MUXVlcnlcbiAgICAgICAgICAgIC8vICAgIFNQU2VydmljZXMoe1xuICAgICAgICAgICAgLy8gICAgICAgIG9wZXJhdGlvbjogXCJVcGRhdGVMaXN0SXRlbXNcIixcbiAgICAgICAgICAgIC8vICAgICAgICBhc3luYzogZmFsc2UsXG4gICAgICAgICAgICAvLyAgICAgICAgd2ViVVJMOiBvcHQud2ViVVJMLFxuICAgICAgICAgICAgLy8gICAgICAgIGxpc3ROYW1lOiBvcHQubGlzdE5hbWUsXG4gICAgICAgICAgICAvLyAgICAgICAgdXBkYXRlczogYmF0Y2gsXG4gICAgICAgICAgICAvLyAgICAgICAgY29tcGxldGVmdW5jOiBmdW5jdGlvbiAoeERhdGEpIHtcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgLy8gSWYgcHJlc2VudCwgY2FsbCBjb21wbGV0ZWZ1bmMgd2hlbiBhbGwgZWxzZSBpcyBkb25lXG4gICAgICAgICAgICAvLyAgICAgICAgICAgIGlmIChvcHQuY29tcGxldGVmdW5jICE9PSBudWxsKSB7XG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICBvcHQuY29tcGxldGVmdW5jKHhEYXRhKTtcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gICAgICAgIH1cbiAgICAgICAgICAgIC8vICAgIH0pO1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vfSAvLyBFbmQgU1BTZXJ2aWNlcy5TUFVwZGF0ZU11bHRpcGxlTGlzdEl0ZW1zXG5cblxuICAgICAgICB9XG59XG4iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy9hcC5kLnRzXCIgLz5cblxubW9kdWxlIGFwIHtcbiAgICAndXNlIHN0cmljdCc7XG5cblxuICAgIHZhciAkcSwgYXBDb25maWcsICR0aW1lb3V0O1xuXG4gICAgZXhwb3J0IGNsYXNzIFV0aWxpdHlTZXJ2aWNlIHtcbiAgICAgICAgYmF0Y2hQcm9jZXNzID0gYmF0Y2hQcm9jZXNzO1xuICAgICAgICBjb252ZXJ0RWZmZWN0aXZlUGVybU1hc2sgPSBjb252ZXJ0RWZmZWN0aXZlUGVybU1hc2s7XG4gICAgICAgIGRhdGVXaXRoaW5SYW5nZSA9IGRhdGVXaXRoaW5SYW5nZTtcbiAgICAgICAgZG91YmxlRGlnaXQgPSBkb3VibGVEaWdpdDtcbiAgICAgICAgZnJvbUNhbWVsQ2FzZSA9IGZyb21DYW1lbENhc2U7XG4gICAgICAgIHJlZ2lzdGVyQ2hhbmdlID0gcmVnaXN0ZXJDaGFuZ2U7XG4gICAgICAgIHJlc29sdmVQZXJtaXNzaW9ucyA9IHJlc29sdmVQZXJtaXNzaW9ucztcbiAgICAgICAgU3BsaXRJbmRleCA9IFNwbGl0SW5kZXg7XG4gICAgICAgIHN0cmluZ2lmeVhNTCA9IHN0cmluZ2lmeVhNTDtcbiAgICAgICAgdG9DYW1lbENhc2UgPSB0b0NhbWVsQ2FzZTtcbiAgICAgICAgeXl5eW1tZGQgPSB5eXl5bW1kZDtcblxuICAgICAgICBjb25zdHJ1Y3RvcigkaW5qZWN0b3IpIHtcbiAgICAgICAgICAgICRxID0gJGluamVjdG9yLmdldCgnJHEnKTtcbiAgICAgICAgICAgIGFwQ29uZmlnID0gJGluamVjdG9yLmdldCgnYXBDb25maWcnKTtcbiAgICAgICAgICAgICR0aW1lb3V0ID0gJGluamVjdG9yLmdldCgnJHRpbWVvdXQnKTtcblxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqIEV4dGVuZCB1bmRlcnNjb3JlIHdpdGggYSBzaW1wbGUgaGVscGVyIGZ1bmN0aW9uICovXG4gICAgXy5taXhpbih7XG4gICAgICAgIGlzRGVmaW5lZDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gIV8uaXNVbmRlZmluZWQodmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICAvKiogQmFzZWQgb24gZnVuY3Rpb25hbGl0eSBpbiBCcmVlemUuanMgKi9cbiAgICAgICAgaXNHdWlkOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiKSAmJiAvW2EtZkEtRlxcZF17OH0tKD86W2EtZkEtRlxcZF17NH0tKXszfVthLWZBLUZcXGRdezEyfS9cbiAgICAgICAgICAgICAgICAgICAgLnRlc3QodmFsdWUpO1xuICAgICAgICB9XG4gICAgfSk7XG5cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcFV0aWxpdHlTZXJ2aWNlOmRvdWJsZURpZ2l0XG4gICAgICogQG1ldGhvZE9mIGFuZ3VsYXJQb2ludC5hcFV0aWxpdHlTZXJ2aWNlXG4gICAgICogQGRlc2NyaXB0aW9uIEFkZCBhIGxlYWRpbmcgemVybyBpZiBhIG51bWJlci9zdHJpbmcgb25seSBjb250YWlucyBhIHNpbmdsZSBjaGFyYWN0ZXIuICBTbyBpbiB0aGUgY2FzZVxuICAgICAqIHdoZXJlIHRoZSBudW1iZXIgOSBpcyBwYXNzZWQgaW4gdGhlIHN0cmluZyAnMDknIGlzIHJldHVybmVkLlxuICAgICAqIEBwYXJhbSB7KG51bWJlcnxzdHJpbmcpfSB2YWwgQSBudW1iZXIgb3Igc3RyaW5nIHRvIGV2YWx1YXRlLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFR3byBkaWdpdCBzdHJpbmcuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZG91YmxlRGlnaXQodmFsOiBudW1iZXIgfCBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICBpZiAodHlwZW9mIHZhbCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWwgPiA5ID8gdmFsLnRvU3RyaW5nKCkgOiAnMCcgKyB2YWw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZG91YmxlRGlnaXQocGFyc2VJbnQodmFsKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBVdGlsaXR5U2VydmljZTp5eXl5bW1kZFxuICAgICAqIEBtZXRob2RPZiBhbmd1bGFyUG9pbnQuYXBVdGlsaXR5U2VydmljZVxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIENvbnZlcnQgZGF0ZSBpbnRvIGEgaW50IGZvcm1hdHRlZCBhcyB5eXl5bW1kZFxuICAgICAqIFdlIGRvbid0IG5lZWQgdGhlIHRpbWUgcG9ydGlvbiBvZiBjb21wYXJpc29uIHNvIGFuIGludCBtYWtlcyB0aGlzIGVhc2llciB0byBldmFsdWF0ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHl5eXltbWRkKGRhdGU6IERhdGUpOiBudW1iZXIge1xuICAgICAgICB2YXIgeXl5eSA9IGRhdGUuZ2V0RnVsbFllYXIoKTtcbiAgICAgICAgdmFyIG1tID0gZGF0ZS5nZXRNb250aCgpICsgMTtcbiAgICAgICAgdmFyIGRkID0gZGF0ZS5nZXREYXRlKCk7XG4gICAgICAgIC8qKiBBZGQgbGVhZGluZyAwJ3MgdG8gbW9udGggYW5kIGRheSBpZiBuZWNlc3NhcnkgKi9cbiAgICAgICAgcmV0dXJuIHBhcnNlSW50KHl5eXkgKyBkb3VibGVEaWdpdChtbSkgKyBkb3VibGVEaWdpdChkZCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcFV0aWxpdHlTZXJ2aWNlOmRhdGVXaXRoaW5SYW5nZVxuICAgICAqIEBtZXRob2RPZiBhbmd1bGFyUG9pbnQuYXBVdGlsaXR5U2VydmljZVxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIENvbnZlcnRzIGRhdGVzIGludG8geXl5eW1tZGQgZm9ybWF0dGVkIGludHMgYW5kIGV2YWx1YXRlcyB0byBkZXRlcm1pbmUgaWYgdGhlIGRhdGVUb0NoZWNrXG4gICAgICogZmFsbHMgd2l0aGluIHRoZSBkYXRlIHJhbmdlIHByb3ZpZGVkXG4gICAgICogQHBhcmFtIHtEYXRlfSBzdGFydERhdGUgU3RhcnRpbmcgZGF0ZS5cbiAgICAgKiBAcGFyYW0ge0RhdGV9IGVuZERhdGUgRW5kaW5nIGRhdGUuXG4gICAgICogQHBhcmFtIHtEYXRlfSBbZGF0ZVRvQ2hlY2s9bmV3IERhdGUoKV0gRGVmYXVsdHMgdG8gdGhlIGN1cnJlbnQgZGF0ZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gRG9lcyB0aGUgZGF0ZSBmYWxsIHdpdGhpbiB0aGUgcmFuZ2U/XG4gICAgICovXG4gICAgZnVuY3Rpb24gZGF0ZVdpdGhpblJhbmdlKHN0YXJ0RGF0ZTogRGF0ZSwgZW5kRGF0ZTogRGF0ZSwgZGF0ZVRvQ2hlY2sgPSBuZXcgRGF0ZSgpKTogYm9vbGVhbiB7XG4gICAgICAgIC8qKiBFbnN1cmUgYm90aCBhIHN0YXJ0IGFuZCBlbmQgZGF0ZSBhcmUgcHJvdmlkZWQgKiovXG4gICAgICAgIGlmICghc3RhcnREYXRlIHx8ICFlbmREYXRlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvKiogQ3JlYXRlIGFuIGludCByZXByZXNlbnRhdGlvbiBvZiBlYWNoIG9mIHRoZSBkYXRlcyAqL1xuICAgICAgICB2YXIgc3RhcnRJbnQgPSB5eXl5bW1kZChzdGFydERhdGUpO1xuICAgICAgICB2YXIgZW5kSW50ID0geXl5eW1tZGQoZW5kRGF0ZSk7XG4gICAgICAgIHZhciBkYXRlVG9DaGVja0ludCA9IHl5eXltbWRkKGRhdGVUb0NoZWNrKTtcblxuICAgICAgICByZXR1cm4gc3RhcnRJbnQgPD0gZGF0ZVRvQ2hlY2tJbnQgJiYgZGF0ZVRvQ2hlY2tJbnQgPD0gZW5kSW50O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcFV0aWxpdHlTZXJ2aWNlOmJhdGNoUHJvY2Vzc1xuICAgICAqIEBtZXRob2RPZiBhbmd1bGFyUG9pbnQuYXBVdGlsaXR5U2VydmljZVxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFdlIFJFQUxMWSBkb24ndCB3YW50IHRvIGxvY2sgdGhlIHVzZXIncyBicm93c2VyIChibG9ja2luZyB0aGUgVUkgdGhyZWFkKSB3aGlsZSBpdGVyYXRpbmcgb3ZlciBhbiBhcnJheSBvZlxuICAgICAqIGVudGl0aWVzIGFuZCBwZXJmb3JtaW5nIHNvbWUgcHJvY2VzcyBvbiB0aGVtLiAgVGhpcyBmdW5jdGlvbiBjdXRzIHRoZSBwcm9jZXNzIGludG8gYXMgbWFueSA1MG1zIGNodW5rcyBhcyBhcmVcbiAgICAgKiBuZWNlc3NhcnkuIEJhc2VkIG9uIGV4YW1wbGUgZm91bmQgaW4gdGhlIGZvbGxvd2luZyBhcnRpY2xlOlxuICAgICAqIFtUaW1lZCBhcnJheSBwcm9jZXNzaW5nIGluIEphdmFTY3JpcHRdKGh0dHA6Ly93d3cubmN6b25saW5lLm5ldC9ibG9nLzIwMDkvMDgvMTEvdGltZWQtYXJyYXktcHJvY2Vzc2luZy1pbi1qYXZhc2NyaXB0Lyk7XG4gICAgICogQHBhcmFtIHtPYmplY3RbXX0gZW50aXRpZXMgVGhlIGVudGl0aWVzIHRoYXQgbmVlZCB0byBiZSBwcm9jZXNzZWQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJvY2VzcyBSZWZlcmVuY2UgdG8gdGhlIHByb2Nlc3MgdG8gYmUgZXhlY3V0ZWQgZm9yIGVhY2ggb2YgdGhlIGVudGl0aWVzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjb250ZXh0IHRoaXNcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2RlbGF5PTI1XSBOdW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIGRlbGF5IGJldHdlZW4gYmF0Y2hlcy5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW21heEl0ZW1zPWVudGl0aWVzLmxlbmd0aF0gTWF4aW11bSBudW1iZXIgb2YgZW50aXRpZXMgdG8gcHJvY2VzcyBiZWZvcmUgcGF1c2luZy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBQcm9taXNlXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiA8cHJlPlxuICAgICAqIGZ1bmN0aW9uIGJ1aWxkUHJvamVjdFN1bW1hcnkgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICogICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgLy8gVGFrZW4gZnJvbSBhIGZpY3RpdGlvdXMgcHJvamVjdHNNb2RlbC5qc1xuICAgICAgICAgKiAgICBwcm9qZWN0TW9kZWwuZ2V0QWxsTGlzdEl0ZW1zKCkudGhlbihmdW5jdGlvbihlbnRpdGllcykge1xuICAgICAgICAgKiAgICAgIHZhciBzdW1tYXJ5T2JqZWN0ID0ge307XG4gICAgICAgICAqICAgICAgdmFyIGV4dGVuZFByb2plY3RTdW1tYXJ5ID0gZnVuY3Rpb24ocHJvamVjdCkge1xuICAgICAgICAgKiAgICAgICAgICAvLyBEbyBzb21lIHByb2Nlc3MgaW50ZW5zaXZlIHN0dWZmIGhlcmVcbiAgICAgICAgICpcbiAgICAgICAgICogICAgICB9O1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgIC8vIE5vdyB0aGF0IHdlIGhhdmUgYWxsIG9mIG91ciBwcm9qZWN0cyB3ZSB3YW50IHRvIGl0ZXJhdGVcbiAgICAgICAgICogICAgICAvLyBvdmVyIGVhY2ggdG8gY3JlYXRlIG91ciBzdW1tYXJ5IG9iamVjdC4gVGhlIHByb2JsZW0gaXNcbiAgICAgICAgICogICAgICAvLyB0aGlzIGNvdWxkIGVhc2lseSBjYXVzZSB0aGUgcGFnZSB0byBoYW5nIHdpdGggYSBzdWZmaWNpZW50XG4gICAgICAgICAqICAgICAgLy8gbnVtYmVyIG9mIGVudGl0aWVzLlxuICAgICAgICAgKiAgICAgIGFwVXRpbGl0eVNlcnZpY2UuYmF0Y2hQcm9jZXNzKGVudGl0aWVzLCBleHRlbmRQcm9qZWN0U3VtbWFyeSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAqICAgICAgICAgIC8vIExvbmcgcnVubmluZyBwcm9jZXNzIGlzIGNvbXBsZXRlIHNvIHJlc29sdmUgcHJvbWlzZVxuICAgICAgICAgKiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHN1bW1hcnlPYmplY3QpO1xuICAgICAgICAgKiAgICAgIH0sIDI1LCAxMDAwKTtcbiAgICAgICAgICogICAgfTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgICAgICAqIH1cbiAgICAgKlxuICAgICAqIDwvcHJlPlxuICAgICAqL1xuXG4gICAgZnVuY3Rpb24gYmF0Y2hQcm9jZXNzKGVudGl0aWVzLCBwcm9jZXNzLCBjb250ZXh0LCBkZWxheSwgbWF4SXRlbXMpIHtcbiAgICAgICAgdmFyIGl0ZW1Db3VudCA9IGVudGl0aWVzLmxlbmd0aCxcbiAgICAgICAgICAgIGJhdGNoQ291bnQgPSAwLFxuICAgICAgICAgICAgY2h1bmtNYXggPSBtYXhJdGVtcyB8fCBpdGVtQ291bnQsXG4gICAgICAgICAgICBkZWxheSA9IGRlbGF5IHx8IDI1LFxuICAgICAgICAgICAgaW5kZXggPSAwLFxuICAgICAgICAgICAgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICAgIGZ1bmN0aW9uIGNodW5rVGltZXIoKSB7XG4gICAgICAgICAgICBiYXRjaENvdW50Kys7XG4gICAgICAgICAgICB2YXIgc3RhcnQgPSArbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgICBjaHVua0luZGV4ID0gaW5kZXg7XG5cbiAgICAgICAgICAgIHdoaWxlIChpbmRleCA8IGl0ZW1Db3VudCAmJiAoaW5kZXggLSBjaHVua0luZGV4KSA8IGNodW5rTWF4ICYmIChuZXcgRGF0ZSgpIC0gc3RhcnQgPCAxMDApKSB7XG4gICAgICAgICAgICAgICAgcHJvY2Vzcy5jYWxsKGNvbnRleHQsIGVudGl0aWVzW2luZGV4XSwgaW5kZXgsIGJhdGNoQ291bnQpO1xuICAgICAgICAgICAgICAgIGluZGV4ICs9IDE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChpbmRleCA8IGl0ZW1Db3VudCkge1xuICAgICAgICAgICAgICAgICR0aW1lb3V0KGNodW5rVGltZXIsIGRlbGF5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoZW50aXRpZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY2h1bmtUaW1lcigpO1xuXG4gICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgIH1cblxuXG4gICAgLy9mdW5jdGlvbiBiYXRjaFByb2Nlc3MoaXRlbXMsIHByb2Nlc3MsIGNvbnRleHQsIGRlbGF5LCBtYXhJdGVtcykge1xuICAgIC8vICAgIHZhciBuID0gaXRlbXMubGVuZ3RoLFxuICAgIC8vICAgICAgICBkZWxheSA9IGRlbGF5IHx8IDI1LFxuICAgIC8vICAgICAgICBtYXhJdGVtcyA9IG1heEl0ZW1zIHx8IG4sXG4gICAgLy8gICAgICAgIGkgPSAwLFxuICAgIC8vICAgICAgICBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG4gICAgLy9cbiAgICAvLyAgICBjaHVua1RpbWVyKGksIG4sIGRlZmVycmVkLCBpdGVtcywgcHJvY2VzcywgY29udGV4dCwgZGVsYXksIG1heEl0ZW1zKTtcbiAgICAvLyAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAvL31cbiAgICAvL1xuICAgIC8vZnVuY3Rpb24gY2h1bmtUaW1lcihpLCBuLCBkZWZlcnJlZCwgaXRlbXMsIHByb2Nlc3MsIGNvbnRleHQsIGRlbGF5LCBtYXhJdGVtcykge1xuICAgIC8vICAgIHZhciBzdGFydCA9ICtuZXcgRGF0ZSgpLFxuICAgIC8vICAgICAgICBqID0gaTtcbiAgICAvL1xuICAgIC8vICAgIHdoaWxlIChpIDwgbiAmJiAoaSAtIGopIDwgbWF4SXRlbXMgJiYgKG5ldyBEYXRlKCkgLSBzdGFydCA8IDEwMCkpIHtcbiAgICAvLyAgICAgICAgcHJvY2Vzcy5jYWxsKGNvbnRleHQsIGl0ZW1zW2ldKTtcbiAgICAvLyAgICAgICAgaSArPSAxO1xuICAgIC8vICAgIH1cbiAgICAvL1xuICAgIC8vICAgIGlmIChpIDwgbikge1xuICAgIC8vICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAvLyAgICAgICAgICAgIGNodW5rVGltZXIoaiwgbiwgZGVmZXJyZWQsIGl0ZW1zLCBwcm9jZXNzLCBjb250ZXh0LCBkZWxheSwgbWF4SXRlbXMpO1xuICAgIC8vICAgICAgICB9LCBkZWxheSk7XG4gICAgLy8gICAgfVxuICAgIC8vICAgIGVsc2Uge1xuICAgIC8vICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGl0ZW1zKTtcbiAgICAvLyAgICB9XG4gICAgLy99XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBVdGlsaXR5U2VydmljZTpyZXNvbHZlUGVybWlzc2lvbnNcbiAgICAgKiBAbWV0aG9kT2YgYW5ndWxhclBvaW50LmFwVXRpbGl0eVNlcnZpY2VcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGVybWlzc2lvbnNNYXNrIFRoZSBXU1MgUmlnaHRzIE1hc2sgaXMgYW4gOC1ieXRlLCB1bnNpZ25lZCBpbnRlZ2VyIHRoYXQgc3BlY2lmaWVzXG4gICAgICogdGhlIHJpZ2h0cyB0aGF0IGNhbiBiZSBhc3NpZ25lZCB0byBhIHVzZXIgb3Igc2l0ZSBncm91cC4gVGhpcyBiaXQgbWFzayBjYW4gaGF2ZSB6ZXJvIG9yIG1vcmUgZmxhZ3Mgc2V0LlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIENvbnZlcnRzIHBlcm1NYXNrIGludG8gc29tZXRoaW5nIHVzYWJsZSB0byBkZXRlcm1pbmUgcGVybWlzc2lvbiBsZXZlbCBmb3IgY3VycmVudCB1c2VyLiAgVHlwaWNhbGx5IHVzZWRcbiAgICAgKiBkaXJlY3RseSBmcm9tIGEgbGlzdCBpdGVtLiAgU2VlIExpc3RJdGVtLnJlc29sdmVQZXJtaXNzaW9ucy5cbiAgICAgKlxuICAgICAqIDxoMz5BZGRpdGlvbmFsIEluZm88L2gzPlxuICAgICAqXG4gICAgICogLSAgIFtQZXJtTWFzayBpbiBTaGFyZVBvaW50IERWV1BzXShodHRwOi8vc3ltcG1hcmMuY29tLzIwMDkvMDIvMDMvcGVybW1hc2staW4tc2hhcmVwb2ludC1kdndwcy8pXG4gICAgICogLSAgIFskKCkuU1BTZXJ2aWNlcy5TUExvb2t1cEFkZE5ldyBhbmQgc2VjdXJpdHkgdHJpbW1pbmddKGh0dHA6Ly9zcHNlcnZpY2VzLmNvZGVwbGV4LmNvbS9kaXNjdXNzaW9ucy8yMDg3MDgpXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSBPYmplY3Qgd2l0aCBwcm9wZXJ0aWVzIGZvciBlYWNoIHBlcm1pc3Npb24gbGV2ZWwgaWRlbnRpZnlpbmcgaWYgY3VycmVudCB1c2VyIGhhcyByaWdodHMgKHRydWUgfHwgZmFsc2UpXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiA8cHJlPlxuICAgICAqIHZhciBwZXJtID0gYXBVdGlsaXR5U2VydmljZS5yZXNvbHZlUGVybWlzc2lvbnMoJzB4MDAwMDAwMDAwMDAwMDAxMCcpO1xuICAgICAqIDwvcHJlPlxuICAgICAqIEV4YW1wbGUgb2Ygd2hhdCB0aGUgcmV0dXJuZWQgb2JqZWN0IHdvdWxkIGxvb2sgbGlrZVxuICAgICAqIGZvciBhIHNpdGUgYWRtaW4uXG4gICAgICogPHByZT5cbiAgICAgKiBwZXJtID0ge1xuICAgICAgICAgKiAgICBcIlZpZXdMaXN0SXRlbXNcIjp0cnVlLFxuICAgICAgICAgKiAgICBcIkFkZExpc3RJdGVtc1wiOnRydWUsXG4gICAgICAgICAqICAgIFwiRWRpdExpc3RJdGVtc1wiOnRydWUsXG4gICAgICAgICAqICAgIFwiRGVsZXRlTGlzdEl0ZW1zXCI6dHJ1ZSxcbiAgICAgICAgICogICAgXCJBcHByb3ZlSXRlbXNcIjp0cnVlLFxuICAgICAgICAgKiAgICBcIk9wZW5JdGVtc1wiOnRydWUsXG4gICAgICAgICAqICAgIFwiVmlld1ZlcnNpb25zXCI6dHJ1ZSxcbiAgICAgICAgICogICAgXCJEZWxldGVWZXJzaW9uc1wiOnRydWUsXG4gICAgICAgICAqICAgIFwiQ2FuY2VsQ2hlY2tvdXRcIjp0cnVlLFxuICAgICAgICAgKiAgICBcIlBlcnNvbmFsVmlld3NcIjp0cnVlLFxuICAgICAgICAgKiAgICBcIk1hbmFnZUxpc3RzXCI6dHJ1ZSxcbiAgICAgICAgICogICAgXCJWaWV3Rm9ybVBhZ2VzXCI6dHJ1ZSxcbiAgICAgICAgICogICAgXCJPcGVuXCI6dHJ1ZSxcbiAgICAgICAgICogICAgXCJWaWV3UGFnZXNcIjp0cnVlLFxuICAgICAgICAgKiAgICBcIkFkZEFuZEN1c3RvbWl6ZVBhZ2VzXCI6dHJ1ZSxcbiAgICAgICAgICogICAgXCJBcHBseVRoZW1lQW5kQm9yZGVyXCI6dHJ1ZSxcbiAgICAgICAgICogICAgXCJBcHBseVN0eWxlU2hlZXRzXCI6dHJ1ZSxcbiAgICAgICAgICogICAgXCJWaWV3VXNhZ2VEYXRhXCI6dHJ1ZSxcbiAgICAgICAgICogICAgXCJDcmVhdGVTU0NTaXRlXCI6dHJ1ZSxcbiAgICAgICAgICogICAgXCJNYW5hZ2VTdWJ3ZWJzXCI6dHJ1ZSxcbiAgICAgICAgICogICAgXCJDcmVhdGVHcm91cHNcIjp0cnVlLFxuICAgICAgICAgKiAgICBcIk1hbmFnZVBlcm1pc3Npb25zXCI6dHJ1ZSxcbiAgICAgICAgICogICAgXCJCcm93c2VEaXJlY3Rvcmllc1wiOnRydWUsXG4gICAgICAgICAqICAgIFwiQnJvd3NlVXNlckluZm9cIjp0cnVlLFxuICAgICAgICAgKiAgICBcIkFkZERlbFByaXZhdGVXZWJQYXJ0c1wiOnRydWUsXG4gICAgICAgICAqICAgIFwiVXBkYXRlUGVyc29uYWxXZWJQYXJ0c1wiOnRydWUsXG4gICAgICAgICAqICAgIFwiTWFuYWdlV2ViXCI6dHJ1ZSxcbiAgICAgICAgICogICAgXCJVc2VSZW1vdGVBUElzXCI6dHJ1ZSxcbiAgICAgICAgICogICAgXCJNYW5hZ2VBbGVydHNcIjp0cnVlLFxuICAgICAgICAgKiAgICBcIkNyZWF0ZUFsZXJ0c1wiOnRydWUsXG4gICAgICAgICAqICAgIFwiRWRpdE15VXNlckluZm9cIjp0cnVlLFxuICAgICAgICAgKiAgICBcIkVudW1lcmF0ZVBlcm1pc3Npb25zXCI6dHJ1ZSxcbiAgICAgICAgICogICAgXCJGdWxsTWFza1wiOnRydWVcbiAgICAgICAgICogfVxuICAgICAqIDwvcHJlPlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlc29sdmVQZXJtaXNzaW9ucyhwZXJtaXNzaW9uc01hc2s6IHN0cmluZyk6IHtba2V5OiBzdHJpbmddOiBib29sZWFufSB7XG4gICAgICAgIHZhciBwZXJtaXNzaW9uU2V0ID0ge1xuICAgICAgICAgICAgVmlld0xpc3RJdGVtczogKDEgJiBwZXJtaXNzaW9uc01hc2spID4gMCxcbiAgICAgICAgICAgIEFkZExpc3RJdGVtczogKDIgJiBwZXJtaXNzaW9uc01hc2spID4gMCxcbiAgICAgICAgICAgIEVkaXRMaXN0SXRlbXM6ICg0ICYgcGVybWlzc2lvbnNNYXNrKSA+IDAsXG4gICAgICAgICAgICBEZWxldGVMaXN0SXRlbXM6ICg4ICYgcGVybWlzc2lvbnNNYXNrKSA+IDAsXG4gICAgICAgICAgICBBcHByb3ZlSXRlbXM6ICgxNiAmIHBlcm1pc3Npb25zTWFzaykgPiAwLFxuICAgICAgICAgICAgT3Blbkl0ZW1zOiAoMzIgJiBwZXJtaXNzaW9uc01hc2spID4gMCxcbiAgICAgICAgICAgIFZpZXdWZXJzaW9uczogKDY0ICYgcGVybWlzc2lvbnNNYXNrKSA+IDAsXG4gICAgICAgICAgICBEZWxldGVWZXJzaW9uczogKDEyOCAmIHBlcm1pc3Npb25zTWFzaykgPiAwLFxuICAgICAgICAgICAgQ2FuY2VsQ2hlY2tvdXQ6ICgyNTYgJiBwZXJtaXNzaW9uc01hc2spID4gMCxcbiAgICAgICAgICAgIFBlcnNvbmFsVmlld3M6ICg1MTIgJiBwZXJtaXNzaW9uc01hc2spID4gMCxcblxuICAgICAgICAgICAgTWFuYWdlTGlzdHM6ICgyMDQ4ICYgcGVybWlzc2lvbnNNYXNrKSA+IDAsXG4gICAgICAgICAgICBWaWV3Rm9ybVBhZ2VzOiAoNDA5NiAmIHBlcm1pc3Npb25zTWFzaykgPiAwLFxuXG4gICAgICAgICAgICBPcGVuOiAocGVybWlzc2lvbnNNYXNrICYgNjU1MzYpID4gMCxcbiAgICAgICAgICAgIFZpZXdQYWdlczogKHBlcm1pc3Npb25zTWFzayAmIDEzMTA3MikgPiAwLFxuICAgICAgICAgICAgQWRkQW5kQ3VzdG9taXplUGFnZXM6IChwZXJtaXNzaW9uc01hc2sgJiAyNjIxNDQpID4gMCxcbiAgICAgICAgICAgIEFwcGx5VGhlbWVBbmRCb3JkZXI6IChwZXJtaXNzaW9uc01hc2sgJiA1MjQyODgpID4gMCxcbiAgICAgICAgICAgIEFwcGx5U3R5bGVTaGVldHM6ICgxMDQ4NTc2ICYgcGVybWlzc2lvbnNNYXNrKSA+IDAsXG4gICAgICAgICAgICBWaWV3VXNhZ2VEYXRhOiAocGVybWlzc2lvbnNNYXNrICYgMjA5NzE1MikgPiAwLFxuICAgICAgICAgICAgQ3JlYXRlU1NDU2l0ZTogKHBlcm1pc3Npb25zTWFzayAmIDQxOTQzMTQpID4gMCxcbiAgICAgICAgICAgIE1hbmFnZVN1YndlYnM6IChwZXJtaXNzaW9uc01hc2sgJiA4Mzg4NjA4KSA+IDAsXG4gICAgICAgICAgICBDcmVhdGVHcm91cHM6IChwZXJtaXNzaW9uc01hc2sgJiAxNjc3NzIxNikgPiAwLFxuICAgICAgICAgICAgTWFuYWdlUGVybWlzc2lvbnM6IChwZXJtaXNzaW9uc01hc2sgJiAzMzU1NDQzMikgPiAwLFxuICAgICAgICAgICAgQnJvd3NlRGlyZWN0b3JpZXM6IChwZXJtaXNzaW9uc01hc2sgJiA2NzEwODg2NCkgPiAwLFxuICAgICAgICAgICAgQnJvd3NlVXNlckluZm86IChwZXJtaXNzaW9uc01hc2sgJiAxMzQyMTc3MjgpID4gMCxcbiAgICAgICAgICAgIEFkZERlbFByaXZhdGVXZWJQYXJ0czogKHBlcm1pc3Npb25zTWFzayAmIDI2ODQzNTQ1NikgPiAwLFxuICAgICAgICAgICAgVXBkYXRlUGVyc29uYWxXZWJQYXJ0czogKHBlcm1pc3Npb25zTWFzayAmIDUzNjg3MDkxMikgPiAwLFxuICAgICAgICAgICAgTWFuYWdlV2ViOiAocGVybWlzc2lvbnNNYXNrICYgMTA3Mzc0MTgyNCkgPiAwLFxuICAgICAgICAgICAgVXNlUmVtb3RlQVBJczogKHBlcm1pc3Npb25zTWFzayAmIDEzNzQzODk1MzQ3MikgPiAwLFxuICAgICAgICAgICAgTWFuYWdlQWxlcnRzOiAocGVybWlzc2lvbnNNYXNrICYgMjc0ODc3OTA2OTQ0KSA+IDAsXG4gICAgICAgICAgICBDcmVhdGVBbGVydHM6IChwZXJtaXNzaW9uc01hc2sgJiA1NDk3NTU4MTM4ODgpID4gMCxcbiAgICAgICAgICAgIEVkaXRNeVVzZXJJbmZvOiAocGVybWlzc2lvbnNNYXNrICYgMTA5OTUxMTYyNzc3NikgPiAwLFxuICAgICAgICAgICAgRW51bWVyYXRlUGVybWlzc2lvbnM6IChwZXJtaXNzaW9uc01hc2sgJiA0NjExNjg2MDE4NDI3Mzg3OTA0KSA+IDAsXG4gICAgICAgICAgICBGdWxsTWFzazogKHBlcm1pc3Npb25zTWFzayA9PSA5MjIzMzcyMDM2ODU0Nzc1ODA3KVxuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGdWxsIE1hc2sgb25seSByZXNvbHZlcyBjb3JyZWN0bHkgZm9yIHRoZSBGdWxsIE1hc2sgbGV2ZWxcbiAgICAgICAgICogc28gaW4gdGhhdCBjYXNlLCBzZXQgZXZlcnl0aGluZyB0byB0cnVlXG4gICAgICAgICAqL1xuICAgICAgICBpZiAocGVybWlzc2lvblNldC5GdWxsTWFzaykge1xuICAgICAgICAgICAgXy5lYWNoKHBlcm1pc3Npb25TZXQsIGZ1bmN0aW9uIChwZXJtLCBrZXkpIHtcbiAgICAgICAgICAgICAgICBwZXJtaXNzaW9uU2V0W2tleV0gPSB0cnVlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcGVybWlzc2lvblNldDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBVdGlsaXR5U2VydmljZTpjb252ZXJ0RWZmZWN0aXZlUGVybU1hc2tcbiAgICAgKiBAbWV0aG9kT2YgYW5ndWxhclBvaW50LmFwVXRpbGl0eVNlcnZpY2VcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBHZXRMaXN0SXRlbXNTaW5jZVRva2VuIG9wZXJhdGlvbiByZXR1cm5zIHRoZSBsaXN0IGVsZW1lbnQgd2l0aCBhbiBFZmZlY3RpdmVQZXJtTWFzayBhdHRyaWJ1dGUgd2hpY2ggaXMgdGhlXG4gICAgICogbmFtZSBvZiB0aGUgUGVybWlzc2lvbk1hc2suICBXZSB0aGVuIG5lZWQgdG8gY29udmVydCB0aGUgbmFtZSBpbnRvIGFuIGFjdHVhbCBtYXNrIHNvIHRoaXMgZnVuY3Rpb24gY29udGFpbnNcbiAgICAgKiB0aGUga25vd24gcGVybWlzc2lvbiBuYW1lcyB3aXRoIHRoZWlyIG1hc2tzLiAgSWYgYSBwcm92aWRlZCBtYXNrIG5hbWUgaXMgZm91bmQsIHRoZSBjb29yZXNwb25kaW5nIG1hc2tcbiAgICAgKiBpcyByZXR1cm5lZC4gIE90aGVyd2lzZSByZXR1cm5zIG51bGwuICBbTVNETiBTb3VyY2VdKGh0dHA6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9qajU3NTE3OCh2PW9mZmljZS4xMikuYXNweClcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGVybU1hc2tOYW1lIFBlcm1pc3Npb24gbWFzayBuYW1lLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd8bnVsbH0gUmV0dXJuIHRoZSBtYXNrIGZvciB0aGUgbmFtZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb252ZXJ0RWZmZWN0aXZlUGVybU1hc2socGVybU1hc2tOYW1lOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICB2YXIgcGVybWlzc2lvbk1hc2sgPSBudWxsO1xuXG4gICAgICAgIHZhciBwZXJtaXNzaW9ucyA9IHtcbiAgICAgICAgICAgIC8vR2VuZXJhbFxuICAgICAgICAgICAgRW1wdHlNYXNrOiAnMHgwMDAwMDAwMDAwMDAwMDAwJyxcbiAgICAgICAgICAgIEZ1bGxNYXNrOiAnMHg3RkZGRkZGRkZGRkZGRkZGJyxcblxuICAgICAgICAgICAgLy9MaXN0IGFuZCBkb2N1bWVudCBwZXJtaXNzaW9uc1xuICAgICAgICAgICAgVmlld0xpc3RJdGVtczogJzB4MDAwMDAwMDAwMDAwMDAwMScsXG4gICAgICAgICAgICBBZGRMaXN0SXRlbXM6ICcnLFxuICAgICAgICAgICAgRWRpdExpc3RJdGVtczogJzB4MDAwMDAwMDAwMDAwMDAwNCcsXG4gICAgICAgICAgICBEZWxldGVMaXN0SXRlbXM6ICcweDAwMDAwMDAwMDAwMDAwMDgnLFxuICAgICAgICAgICAgQXBwcm92ZUl0ZW1zOiAnMHgwMDAwMDAwMDAwMDAwMDEwJyxcbiAgICAgICAgICAgIE9wZW5JdGVtczogJzB4MDAwMDAwMDAwMDAwMDAyMCcsXG4gICAgICAgICAgICBWaWV3VmVyc2lvbnM6ICcweDAwMDAwMDAwMDAwMDAwNDAnLFxuICAgICAgICAgICAgRGVsZXRlVmVyc2lvbnM6ICcweDAwMDAwMDAwMDAwMDAwODAnLFxuICAgICAgICAgICAgQ2FuY2VsQ2hlY2tvdXQ6ICcweDAwMDAwMDAwMDAwMDAxMDAnLFxuICAgICAgICAgICAgTWFuYWdlUGVyc29uYWxWaWV3czogJzB4MDAwMDAwMDAwMDAwMDIwMCcsXG4gICAgICAgICAgICBNYW5hZ2VMaXN0czogJzB4MDAwMDAwMDAwMDAwMDgwMCcsXG4gICAgICAgICAgICBWaWV3Rm9ybVBhZ2VzOiAnMHgwMDAwMDAwMDAwMDAxMDAwJyxcblxuICAgICAgICAgICAgLy9XZWIgbGV2ZWwgcGVybWlzc2lvbnNcbiAgICAgICAgICAgIE9wZW46ICcweDAwMDAwMDAwMDAwMTAwMDAnLFxuICAgICAgICAgICAgVmlld1BhZ2VzOiAnMHgwMDAwMDAwMDAwMDIwMDAwJyxcbiAgICAgICAgICAgIEFkZEFuZEN1c3RvbWl6ZVBhZ2VzOiAnMHgwMDAwMDAwMDAwMDQwMDAwJyxcbiAgICAgICAgICAgIEFwcGx5VGhlbWVBbmRCb3JkZXI6ICcweDAwMDAwMDAwMDAwODAwMDAnLFxuICAgICAgICAgICAgQXBwbHlTdHlsZVNoZWV0czogJzB4MDAwMDAwMDAwMDEwMDAwMCcsXG4gICAgICAgICAgICBWaWV3VXNhZ2VEYXRhOiAnMHgwMDAwMDAwMDAwMjAwMDAwJyxcbiAgICAgICAgICAgIENyZWF0ZVNTQ1NpdGU6ICcweDAwMDAwMDAwMDA0MDAwMDAnLFxuICAgICAgICAgICAgTWFuYWdlU3Vid2ViczogJzB4MDAwMDAwMDAwMDgwMDAwMCcsXG4gICAgICAgICAgICBDcmVhdGVHcm91cHM6ICcweDAwMDAwMDAwMDEwMDAwMDAnLFxuICAgICAgICAgICAgTWFuYWdlUGVybWlzc2lvbnM6ICcweDAwMDAwMDAwMDIwMDAwMDAnLFxuICAgICAgICAgICAgQnJvd3NlRGlyZWN0b3JpZXM6ICcweDAwMDAwMDAwMDQwMDAwMDAnLFxuICAgICAgICAgICAgQnJvd3NlVXNlckluZm86ICcweDAwMDAwMDAwMDgwMDAwMDAnLFxuICAgICAgICAgICAgQWRkRGVsUHJpdmF0ZVdlYlBhcnRzOiAnMHgwMDAwMDAwMDEwMDAwMDAwJyxcbiAgICAgICAgICAgIFVwZGF0ZVBlcnNvbmFsV2ViUGFydHM6ICcweDAwMDAwMDAwMjAwMDAwMDAnLFxuICAgICAgICAgICAgTWFuYWdlV2ViOiAnMHgwMDAwMDAwMDQwMDAwMDAwJyxcbiAgICAgICAgICAgIFVzZUNsaWVudEludGVncmF0aW9uOiAnMHgwMDAwMDAxMDAwMDAwMDAwJyxcbiAgICAgICAgICAgIFVzZVJlbW90ZUFQSXM6ICcweDAwMDAwMDIwMDAwMDAwMDAnLFxuICAgICAgICAgICAgTWFuYWdlQWxlcnRzOiAnMHgwMDAwMDA0MDAwMDAwMDAwJyxcbiAgICAgICAgICAgIENyZWF0ZUFsZXJ0czogJzB4MDAwMDAwODAwMDAwMDAwMCcsXG4gICAgICAgICAgICBFZGl0TXlVc2VySW5mbzogJzB4MDAwMDAxMDAwMDAwMDAwMCcsXG5cbiAgICAgICAgICAgIC8vU3BlY2lhbCBQZXJtaXNzaW9uc1xuICAgICAgICAgICAgRW51bWVyYXRlUGVybWlzc2lvbnM6ICcweDQwMDAwMDAwMDAwMDAwMDAnXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKHBlcm1pc3Npb25zW3Blcm1NYXNrTmFtZV0pIHtcbiAgICAgICAgICAgIHBlcm1pc3Npb25NYXNrID0gcGVybWlzc2lvbnNbcGVybU1hc2tOYW1lXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGVybWlzc2lvbk1hc2s7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdG9DYW1lbENhc2Uoc3RyKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHN0ci5yZXBsYWNlKC8oPzpeXFx3fFtBLVpdfFxcYlxcdykvZywgZnVuY3Rpb24gKGxldHRlciwgaW5kZXgpIHtcbiAgICAgICAgICAgIHJldHVybiBpbmRleCA9PSAwID8gbGV0dGVyLnRvTG93ZXJDYXNlKCkgOiBsZXR0ZXIudG9VcHBlckNhc2UoKTtcbiAgICAgICAgfSkucmVwbGFjZSgvXFxzKy9nLCAnJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICogQG5hbWUgYW5ndWxhclBvaW50LmFwVXRpbGl0eVNlcnZpY2U6ZnJvbUNhbWVsQ2FzZVxuICAgICAqIEBtZXRob2RPZiBhbmd1bGFyUG9pbnQuYXBVdGlsaXR5U2VydmljZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdHIgU3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogQ29udmVydHMgYSBjYW1lbCBjYXNlIHN0cmluZyBpbnRvIGEgc3BhY2UgZGVsaW1pdGVkIHN0cmluZyB3aXRoIGVhY2ggd29yZCBoYXZpbmcgYSBjYXBpdGFsaXplZCBmaXJzdCBsZXR0ZXIuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gSHVtYW5pemVkIHN0cmluZy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmcm9tQ2FtZWxDYXNlKHN0cik6IHN0cmluZyB7XG4gICAgICAgIC8vIGluc2VydCBhIHNwYWNlIGJlZm9yZSBhbGwgY2Fwc1xuICAgICAgICByZXR1cm4gc3RyLnJlcGxhY2UoLyhbQS1aXSkvZywgJyAkMScpXG4gICAgICAgICAgICAvLyB1cHBlcmNhc2UgdGhlIGZpcnN0IGNoYXJhY3RlclxuICAgICAgICAgICAgLnJlcGxhY2UoL14uLywgZnVuY3Rpb24gKHN0cikge1xuICAgICAgICAgICAgICAgIHJldHVybiBzdHIudG9VcHBlckNhc2UoKTtcbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIFNwbGl0IHZhbHVlcyBsaWtlIDE7I3ZhbHVlIGludG8gaWQgYW5kIHZhbHVlXG4gICAgY2xhc3MgU3BsaXRJbmRleHtcbiAgICAgICAgaWQ6IG51bWJlcjtcbiAgICAgICAgdmFsdWU6IHN0cmluZztcbiAgICAgICAgY29uc3RydWN0b3Ioc3RyKSB7XG4gICAgICAgICAgICB2YXIgc3BsID0gc3RyLnNwbGl0KCc7IycpO1xuICAgICAgICAgICAgdGhpcy5pZCA9IHBhcnNlSW50KHNwbFswXSwgMTApO1xuICAgICAgICAgICAgdGhpcy52YWx1ZSA9IHNwbFsxXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcFV0aWxpdHlTZXJ2aWNlOnN0cmluZ2lmeVhNTFxuICAgICAqIEBtZXRob2RPZiBhbmd1bGFyUG9pbnQuYXBVdGlsaXR5U2VydmljZVxuICAgICAqIEBkZXNjcmlwdGlvbiBTaW1wbGUgdXRpbGl0eSB0byBjb252ZXJ0IGFuIFhNTCBvYmplY3QgaW50byBhIHN0cmluZyBhbmQgcmVtb3ZlIHVubmVjZXNzYXJ5IHdoaXRlc3BhY2UuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHhtbCBYTUwgb2JqZWN0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFN0cmluZ2lmaWVkIHZlcnNpb24gb2YgdGhlIFhNTCBvYmplY3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3RyaW5naWZ5WE1MKHhtbDogWE1MRG9jdW1lbnQpOiBzdHJpbmcge1xuICAgICAgICB2YXIgc3RyO1xuXG4gICAgICAgIGlmIChfLmlzT2JqZWN0KHhtbCkpIHtcbiAgICAgICAgICAgIHN0ciA9IHhtbFRvU3RyaW5nKHhtbCkucmVwbGFjZSgvXFxzKy9nLCAnICcpO1xuICAgICAgICB9IGVsc2UgaWYgKF8uaXNTdHJpbmcoeG1sKSkge1xuICAgICAgICAgICAgc3RyID0geG1sO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24geG1sVG9TdHJpbmcoeG1sRGF0YSkge1xuICAgICAgICB2YXIgeG1sU3RyaW5nO1xuICAgICAgICBpZiAodHlwZW9mIFhNTFNlcmlhbGl6ZXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAvKiogTW9kZXJuIEJyb3dzZXJzICovXG4gICAgICAgICAgICB4bWxTdHJpbmcgPSAobmV3IFhNTFNlcmlhbGl6ZXIoKSkuc2VyaWFsaXplVG9TdHJpbmcoeG1sRGF0YSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvKiogT2xkIHZlcnNpb25zIG9mIElFICovXG4gICAgICAgICAgICB4bWxTdHJpbmcgPSB4bWxEYXRhLnhtbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geG1sU3RyaW5nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcFV0aWxpdHlTZXJ2aWNlOnJlZ2lzdGVyQ2hhbmdlXG4gICAgICogQG1ldGhvZE9mIGFuZ3VsYXJQb2ludC5hcFV0aWxpdHlTZXJ2aWNlXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogSWYgb25saW5lIGFuZCBzeW5jIGlzIGJlaW5nIHVzZWQsIG5vdGlmeSBhbGwgb25saW5lIHVzZXJzIHRoYXQgYSBjaGFuZ2UgaGFzIGJlZW4gbWFkZS5cbiAgICAgKiAvL1RvZG8gQnJlYWsgdGhpcyBmdW5jdGlvbmFsaXR5IGludG8gRmlyZUJhc2UgbW9kdWxlIHRoYXQgY2FuIGJlIHVzZWQgaWYgZGVzaXJlZC5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gbW9kZWwgZXZlbnRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZWdpc3RlckNoYW5nZShtb2RlbCwgY2hhbmdlVHlwZTogc3RyaW5nLCBsaXN0SXRlbUlkOiBudW1iZXIpIHtcbiAgICAgICAgLyoqIERpc2FibGVkIHRoaXMgZnVuY3Rpb25hbGl0eSB1bnRpbCBJIGNhbiBzcGVuZCB0aGUgbmVjZXNzYXJ5IHRpbWUgdG8gdGVzdCAqL1xuICAgICAgICBpZiAobW9kZWwuc3luYyAmJiBfLmlzRnVuY3Rpb24obW9kZWwuc3luYy5yZWdpc3RlckNoYW5nZSkpIHtcbiAgICAgICAgICAgIC8qKiBSZWdpc3RlciBjaGFuZ2UgYWZ0ZXIgc3VjY2Vzc2Z1bCB1cGRhdGUgKi9cbiAgICAgICAgICAgIG1vZGVsLnN5bmMucmVnaXN0ZXJDaGFuZ2UoY2hhbmdlVHlwZSwgbGlzdEl0ZW1JZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2Mgc2VydmljZVxuICAgICAqIEBuYW1lIGFuZ3VsYXJQb2ludC5hcFV0aWxpdHlTZXJ2aWNlXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogUHJvdmlkZXMgc2hhcmVkIHV0aWxpdHkgZnVuY3Rpb25hbGl0eSBhY3Jvc3MgdGhlIGFwcGxpY2F0aW9uLlxuICAgICAqXG4gICAgICogQHJlcXVpcmVzIGFuZ3VsYXJQb2ludC5hcENvbmZpZ1xuICAgICAqL1xuICAgIGFuZ3VsYXIubW9kdWxlKCdhbmd1bGFyUG9pbnQnKVxuICAgICAgICAuc2VydmljZSgnYXBVdGlsaXR5U2VydmljZScsIFV0aWxpdHlTZXJ2aWNlKTtcblxufVxuIiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3MvYXAuZC50c1wiIC8+XG5cbm1vZHVsZSBhcCB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIFNDSEVNQVNoYXJlUG9pbnQgPSBcImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vc2hhcmVwb2ludFwiO1xuICAgIHZhciBzZXJ2aWNlRGVmaW5pdGlvbnMgPSB7XG4gICAgICAgIEFsZXJ0czoge1xuICAgICAgICAgICAgYWN0aW9uOiBTQ0hFTUFTaGFyZVBvaW50ICsgJy9zb2FwLzIwMDIvMS9hbGVydHMvJyxcbiAgICAgICAgICAgIHhtbG5zOiBTQ0hFTUFTaGFyZVBvaW50ICsgJy9zb2FwLzIwMDIvMS9hbGVydHMvJ1xuICAgICAgICB9LFxuICAgICAgICBNZWV0aW5nczoge1xuICAgICAgICAgICAgYWN0aW9uOiBTQ0hFTUFTaGFyZVBvaW50ICsgJy9zb2FwL21lZXRpbmdzLycsXG4gICAgICAgICAgICB4bWxuczogU0NIRU1BU2hhcmVQb2ludCArICcvc29hcC9tZWV0aW5ncy8nXG4gICAgICAgIH0sXG4gICAgICAgIFBlcm1pc3Npb25zOiB7XG4gICAgICAgICAgICBhY3Rpb246IFNDSEVNQVNoYXJlUG9pbnQgKyAnL3NvYXAvZGlyZWN0b3J5LycsXG4gICAgICAgICAgICB4bWxuczogU0NIRU1BU2hhcmVQb2ludCArICcvc29hcC9kaXJlY3RvcnkvJ1xuICAgICAgICB9LFxuICAgICAgICBQdWJsaXNoZWRMaW5rc1NlcnZpY2U6IHtcbiAgICAgICAgICAgIGFjdGlvbjogJ2h0dHA6Ly9taWNyb3NvZnQuY29tL3dlYnNlcnZpY2VzL1NoYXJlUG9pbnRQb3J0YWxTZXJ2ZXIvUHVibGlzaGVkTGlua3NTZXJ2aWNlLycsXG4gICAgICAgICAgICB4bWxuczogJ2h0dHA6Ly9taWNyb3NvZnQuY29tL3dlYnNlcnZpY2VzL1NoYXJlUG9pbnRQb3J0YWxTZXJ2ZXIvUHVibGlzaGVkTGlua3NTZXJ2aWNlLydcbiAgICAgICAgfSxcbiAgICAgICAgU2VhcmNoOiB7XG4gICAgICAgICAgICBhY3Rpb246ICd1cm46TWljcm9zb2Z0LlNlYXJjaC8nLFxuICAgICAgICAgICAgeG1sbnM6ICd1cm46TWljcm9zb2Z0LlNlYXJjaCdcbiAgICAgICAgfSxcbiAgICAgICAgU2hhcmVQb2ludERpYWdub3N0aWNzOiB7XG4gICAgICAgICAgICBhY3Rpb246ICdodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3NoYXJlcG9pbnQvZGlhZ25vc3RpY3MvJyxcbiAgICAgICAgICAgIHhtbG5zOiBTQ0hFTUFTaGFyZVBvaW50ICsgJy9kaWFnbm9zdGljcy8nXG4gICAgICAgIH0sXG4gICAgICAgIFNvY2lhbERhdGFTZXJ2aWNlOiB7XG4gICAgICAgICAgICBhY3Rpb246ICdodHRwOi8vbWljcm9zb2Z0LmNvbS93ZWJzZXJ2aWNlcy9TaGFyZVBvaW50UG9ydGFsU2VydmVyL1NvY2lhbERhdGFTZXJ2aWNlLycsXG4gICAgICAgICAgICB4bWxuczogJ2h0dHA6Ly9taWNyb3NvZnQuY29tL3dlYnNlcnZpY2VzL1NoYXJlUG9pbnRQb3J0YWxTZXJ2ZXIvU29jaWFsRGF0YVNlcnZpY2UnXG4gICAgICAgIH0sXG4gICAgICAgIFNwZWxsQ2hlY2s6IHtcbiAgICAgICAgICAgIGFjdGlvbjogJ2h0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vc2hhcmVwb2ludC9wdWJsaXNoaW5nL3NwZWxsaW5nL1NwZWxsQ2hlY2snLFxuICAgICAgICAgICAgeG1sbnM6ICdodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3NoYXJlcG9pbnQvcHVibGlzaGluZy9zcGVsbGluZy8nXG4gICAgICAgIH0sXG4gICAgICAgIFRheG9ub215Q2xpZW50U2VydmljZToge1xuICAgICAgICAgICAgYWN0aW9uOiBTQ0hFTUFTaGFyZVBvaW50ICsgJy90YXhvbm9teS9zb2FwLycsXG4gICAgICAgICAgICB4bWxuczogU0NIRU1BU2hhcmVQb2ludCArICcvdGF4b25vbXkvc29hcC8nXG4gICAgICAgIH0sXG4gICAgICAgIHVzZXJncm91cDoge1xuICAgICAgICAgICAgYWN0aW9uOiBTQ0hFTUFTaGFyZVBvaW50ICsgJy9zb2FwL2RpcmVjdG9yeS8nLFxuICAgICAgICAgICAgeG1sbnM6IFNDSEVNQVNoYXJlUG9pbnQgKyAnL3NvYXAvZGlyZWN0b3J5LydcbiAgICAgICAgfSxcbiAgICAgICAgVXNlclByb2ZpbGVTZXJ2aWNlOiB7XG4gICAgICAgICAgICBhY3Rpb246ICdodHRwOi8vbWljcm9zb2Z0LmNvbS93ZWJzZXJ2aWNlcy9TaGFyZVBvaW50UG9ydGFsU2VydmVyL1VzZXJQcm9maWxlU2VydmljZS8nLFxuICAgICAgICAgICAgeG1sbnM6ICdodHRwOi8vbWljcm9zb2Z0LmNvbS93ZWJzZXJ2aWNlcy9TaGFyZVBvaW50UG9ydGFsU2VydmVyL1VzZXJQcm9maWxlU2VydmljZSdcbiAgICAgICAgfSxcbiAgICAgICAgV2ViUGFydFBhZ2VzOiB7XG4gICAgICAgICAgICBhY3Rpb246ICdodHRwOi8vbWljcm9zb2Z0LmNvbS9zaGFyZXBvaW50L3dlYnBhcnRwYWdlcy8nLFxuICAgICAgICAgICAgeG1sbnM6ICdodHRwOi8vbWljcm9zb2Z0LmNvbS9zaGFyZXBvaW50L3dlYnBhcnRwYWdlcydcbiAgICAgICAgfSxcbiAgICAgICAgV29ya2Zsb3c6IHtcbiAgICAgICAgICAgIGFjdGlvbjogU0NIRU1BU2hhcmVQb2ludCArICcvc29hcC93b3JrZmxvdy8nLFxuICAgICAgICAgICAgeG1sbnM6IFNDSEVNQVNoYXJlUG9pbnQgKyAnL3NvYXAvd29ya2Zsb3cvJ1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGV4cG9ydCBjbGFzcyBXZWJTZXJ2aWNlU2VydmljZXtcbiAgICAgICAgYWN0aW9uKHNlcnZpY2UpIHtcbiAgICAgICAgICAgIHJldHVybiBzZXJ2aWNlRGVmaW5pdGlvbnNbc2VydmljZV0gPyBzZXJ2aWNlRGVmaW5pdGlvbnNbc2VydmljZV0uYWN0aW9uIDogU0NIRU1BU2hhcmVQb2ludCArICcvc29hcC8nO1xuICAgICAgICB9XG4gICAgICAgIHdlYlNlcnZpY2VzID0gW1xuICAgICAgICAgICAgJ0FsZXJ0cycsXG4gICAgICAgICAgICAnQXV0aGVudGljYXRpb24nLFxuICAgICAgICAgICAgJ0NvcHknLFxuICAgICAgICAgICAgJ0Zvcm1zJyxcbiAgICAgICAgICAgICdMaXN0cycsXG4gICAgICAgICAgICAnTWVldGluZ3MnLFxuICAgICAgICAgICAgJ1Blb3BsZScsXG4gICAgICAgICAgICAnUGVybWlzc2lvbnMnLFxuICAgICAgICAgICAgJ1B1Ymxpc2hlZExpbmtzU2VydmljZScsXG4gICAgICAgICAgICAnU2VhcmNoJyxcbiAgICAgICAgICAgICdTaGFyZVBvaW50RGlhZ25vc3RpY3MnLFxuICAgICAgICAgICAgJ1NpdGVEYXRhJyxcbiAgICAgICAgICAgICdTaXRlcycsXG4gICAgICAgICAgICAnU29jaWFsRGF0YVNlcnZpY2UnLFxuICAgICAgICAgICAgJ1NwZWxsQ2hlY2snLFxuICAgICAgICAgICAgJ1RheG9ub215Q2xpZW50U2VydmljZScsXG4gICAgICAgICAgICAndXNlcmdyb3VwJyxcbiAgICAgICAgICAgICdVc2VyUHJvZmlsZVNlcnZpY2UnLFxuICAgICAgICAgICAgJ1ZlcnNpb25zJyxcbiAgICAgICAgICAgICdWaWV3cycsXG4gICAgICAgICAgICAnV2ViUGFydFBhZ2VzJyxcbiAgICAgICAgICAgICdXZWJzJyxcbiAgICAgICAgICAgICdXb3JrZmxvdydcbiAgICAgICAgXTtcbiAgICAgICAgeG1sbnMoc2VydmljZSkge1xuICAgICAgICAgICAgcmV0dXJuIHNlcnZpY2VEZWZpbml0aW9uc1tzZXJ2aWNlXSA/IHNlcnZpY2VEZWZpbml0aW9uc1tzZXJ2aWNlXS54bWxucyA6IFNDSEVNQVNoYXJlUG9pbnQgKyAnL3NvYXAvJztcbiAgICAgICAgfVxuICAgIH1cblxuXG4vLyAgYXBXZWJTZXJ2aWNlT3BlcmF0aW9uQ29uc3RhbnRzLk9wTmFtZSA9IFtXZWJTZXJ2aWNlLCBuZWVkc19TT0FQQWN0aW9uXTtcbi8vICAgICAgT3BOYW1lICAgICAgICAgICAgICBUaGUgbmFtZSBvZiB0aGUgV2ViIFNlcnZpY2Ugb3BlcmF0aW9uIC0+IFRoZXNlIG5hbWVzIGFyZSB1bmlxdWVcbi8vICAgICAgV2ViU2VydmljZSAgICAgICAgICBUaGUgbmFtZSBvZiB0aGUgV2ViU2VydmljZSB0aGlzIG9wZXJhdGlvbiBiZWxvbmdzIHRvXG4vLyAgICAgIG5lZWRzX1NPQVBBY3Rpb24gICAgQm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIG9wZXJhdGlvbiBuZWVkcyB0byBoYXZlIHRoZSBTT0FQQWN0aW9uIHBhc3NlZCBpbiB0aGVcbi8vIHNldFJlcXVlc3RIZWFkZXJmdW5jdGlvbi4gdHJ1ZSBpZiB0aGUgb3BlcmF0aW9uIGRvZXMgYSB3cml0ZSwgZWxzZSBmYWxzZVxuICAgIGFuZ3VsYXIubW9kdWxlKCdhbmd1bGFyUG9pbnQnKVxuICAgICAgICAuc2VydmljZSgnYXBXZWJTZXJ2aWNlU2VydmljZScsIFdlYlNlcnZpY2VTZXJ2aWNlKTtcblxufVxuIiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3MvYXAuZC50c1wiIC8+XG5cbm1vZHVsZSBhcCB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgZXhwb3J0IGNsYXNzIFhNTFRvSlNPTlNlcnZpY2V7XG4gICAgICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgYXBEZWNvZGVTZXJ2aWNlOiBEZWNvZGVTZXJ2aWNlKSB7XG5cbiAgICAgICAgfVxuICAgICAgICBwYXJzZSh4bWxOb2RlU2V0OiBYTUxEb2N1bWVudCwgb3B0aW9ucz86IHtpbmNsdWRlQWxsQXR0cnM6IGJvb2xlYW47IG1hcHBpbmc6IE9iamVjdDsgcmVtb3ZlT3dzOiBib29sZWFuOyBzcGFyc2U6IGJvb2xlYW47IH0pOiBPYmplY3RbXSB7XG4gICAgICAgICAgICB2YXIgZGVmYXVsdHMgPSB7XG4gICAgICAgICAgICAgICAgaW5jbHVkZUFsbEF0dHJzOiBmYWxzZSwgLy8gSWYgdHJ1ZSwgcmV0dXJuIGFsbCBhdHRyaWJ1dGVzLCByZWdhcmRsZXNzIHdoZXRoZXIgdGhleSBhcmUgaW4gdGhlIG1hcHBpbmdcbiAgICAgICAgICAgICAgICBtYXBwaW5nOiB7fSwgLy8gY29sdW1uTmFtZTogbWFwcGVkTmFtZTogXCJtYXBwZWROYW1lXCIsIG9iamVjdFR5cGU6IFwib2JqZWN0VHlwZVwiXG4gICAgICAgICAgICAgICAgcmVtb3ZlT3dzOiB0cnVlLCAvLyBTcGVjaWZpY2FsbHkgZm9yIEdldExpc3RJdGVtcywgaWYgdHJ1ZSwgdGhlIGxlYWRpbmcgb3dzXyB3aWxsIGJlIHN0cmlwcGVkIG9mZiB0aGUgZmllbGQgbmFtZVxuICAgICAgICAgICAgICAgIHNwYXJzZTogZmFsc2UgLy8gSWYgdHJ1ZSwgZW1wdHkgKFwiXCIpIHZhbHVlcyB3aWxsIG5vdCBiZSByZXR1cm5lZFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdmFyIG9wdHMgPSBfLmV4dGVuZCh7fSwgZGVmYXVsdHMsIG9wdGlvbnMpO1xuXG4gICAgICAgICAgICB2YXIganNvbk9iamVjdEFycmF5ID0gW107XG5cbiAgICAgICAgICAgIF8uZWFjaCh4bWxOb2RlU2V0LCAobm9kZSkgPT4ge1xuICAgICAgICAgICAgICAgIHZhciByb3cgPSB7fTtcbiAgICAgICAgICAgICAgICB2YXIgcm93QXR0cnMgPSBub2RlLmF0dHJpYnV0ZXM7XG5cbiAgICAgICAgICAgICAgICBpZiAoIW9wdHMuc3BhcnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEJyaW5nIGJhY2sgYWxsIG1hcHBlZCBjb2x1bW5zLCBldmVuIHRob3NlIHdpdGggbm8gdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgXy5lYWNoKG9wdHMubWFwcGluZywgKGNvbHVtbikgPT4gcm93W2NvbHVtbi5tYXBwZWROYW1lXSA9ICcnKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBfLmVhY2gocm93QXR0cnMsIChyb3dBdHRyaWJ1dGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGF0dHJpYnV0ZU5hbWUgPSByb3dBdHRyaWJ1dGUubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbHVtbk1hcHBpbmcgPSBvcHRzLm1hcHBpbmdbYXR0cmlidXRlTmFtZV07XG4gICAgICAgICAgICAgICAgICAgIHZhciBvYmplY3ROYW1lID0gdHlwZW9mIGNvbHVtbk1hcHBpbmcgIT09IFwidW5kZWZpbmVkXCIgPyBjb2x1bW5NYXBwaW5nLm1hcHBlZE5hbWUgOiBvcHRzLnJlbW92ZU93cyA/IGF0dHJpYnV0ZU5hbWUuc3BsaXQoXCJvd3NfXCIpWzFdIDogYXR0cmlidXRlTmFtZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9iamVjdFR5cGUgPSB0eXBlb2YgY29sdW1uTWFwcGluZyAhPT0gXCJ1bmRlZmluZWRcIiA/IGNvbHVtbk1hcHBpbmcub2JqZWN0VHlwZSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdHMuaW5jbHVkZUFsbEF0dHJzIHx8IGNvbHVtbk1hcHBpbmcgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcm93W29iamVjdE5hbWVdID0gdGhpcy5hcERlY29kZVNlcnZpY2UucGFyc2VTdHJpbmdWYWx1ZShyb3dBdHRyaWJ1dGUudmFsdWUsIG9iamVjdFR5cGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAvLyBQdXNoIHRoaXMgaXRlbSBpbnRvIHRoZSBKU09OIE9iamVjdFxuICAgICAgICAgICAgICAgIGpzb25PYmplY3RBcnJheS5wdXNoKHJvdyk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gUmV0dXJuIHRoZSBKU09OIG9iamVjdFxuICAgICAgICAgICAgcmV0dXJuIGpzb25PYmplY3RBcnJheTtcblxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIHNlcnZpY2VcbiAgICAgKiBAbmFtZSBhbmd1bGFyUG9pbnQuYXBYTUxUb0pTT05TZXJ2aWNlXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogVGhpcyBmdW5jdGlvbiBjb252ZXJ0cyBhbiBYTUwgbm9kZSBzZXQgaW50byBhbiBhcnJheSBvZiBKUyBvYmplY3RzLlxuICAgICAqIFRoaXMgaXMgZXNzZW50aWFsbHkgTWFyYyBBbmRlcnNvbidzIFtTUFNlcnZpY2VzXShodHRwOi8vc3BzZXJ2aWNlcy5jb2RlcGxleC5jb20vKSBTUFhtbFRPSnNvbiBmdW5jdGlvbiB3cmFwcGVkIGluXG4gICAgICogYW4gQW5ndWxhciBzZXJ2aWNlIHRvIG1ha2UgaXQgbW9yZSBtb2R1bGFyIGFuZCBhbGxvdyBmb3IgdGVzdGluZy5cbiAgICAgKlxuICAgICAqL1xuICAgIGFuZ3VsYXIubW9kdWxlKCdhbmd1bGFyUG9pbnQnKVxuICAgICAgICAuc2VydmljZSgnYXBYTUxUb0pTT05TZXJ2aWNlJywgWE1MVG9KU09OU2VydmljZSk7XG5cblxufVxuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9