{"version":3,"sources":["app.module.ts","config.ts","constants/apConfig.ts","constants/apDefaultFields.ts","constants/apDefaultListItemQueryOptions.ts","constants/apPermissionObject.ts","constants/apThirdPartyConstants.ts","constants/apWebServiceOperationConstants.ts","constants/apXMLFieldAttributeTypes.ts","constants/apXMLListAttributeTypes.ts","factories/apCamlFactory.ts","factories/apFieldFactory.ts","factories/apIndexedCacheFactory.ts","factories/apListFactory.ts","factories/apListItemFactory.ts","factories/apListItemVersionFactory.ts","factories/apLookupFactory.ts","factories/apModelFactory.ts","factories/apQueryFactory.ts","factories/apUserFactory.ts","models/apUserModel.ts","interfaces/main.ts","services/apCacheService.ts","services/apChangeService.ts","services/apDataService.ts","services/apDecodeService.ts","services/apEncodeService.ts","services/apExceptionHandlerService.ts","services/apExportService.ts","services/apFieldService.ts","services/apFormattedFieldValueService.ts","services/apLogger.ts","services/apSPServices.ts","services/apUtilityService.ts","services/apWebServiceService.ts","services/apXMLToJSONService.ts"],"names":[],"mappings":"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","file":"angular-point.js","sourcesContent":["/// <reference path=\"../typings/ap.d.ts\" />\n/// <reference path=\"../typings/tsd.d.ts\" />\n\nmodule ap {\n    'use strict';\n\n    /**\n     * @ngdoc overview\n     * @module\n     * @name angularPoint\n     * @description\n     * This is the primary angularPoint module and needs to be listed in your app.js dependencies to gain use of AngularPoint\n     * functionality in your project.\n     * @installModule\n     */\n    angular.module('angularPoint')\n    /** Bootstrap everything that needs to be immediately instantiated */\n    .run((apListItemFactory: ListItemFactory, apModelFactory: ModelFactory) => {\n\n    })\n}\n","/// <reference path=\"app.module.ts\" />\n\nmodule ap {\n    'use strict';\n\n    angular.module('angularPoint')\n        .config(Config);\n\n    function Config(apConfig) {\n\n        /** Add a convenience flag, inverse of offline */\n        apConfig.online = !apConfig.offline;\n    }\n}\n","/// <reference path=\"../app.module.ts\" />\n\n/**\n * @ngdoc object\n * @name angularPoint.apConfig\n * @description\n * Basic config for the application (unique for each environment).  Update to change for your environment.\n *\n * @param {string} appTitle Name of the application in case you need to reference.\n * @param {boolean} debug Determines if we should show debug code.\n * @param {string} defaultUrl Automatically sets the defaultUrl for web service calls so we don't need to make the\n * initial blocking call by SPServices.\n * @param {string} [defaultQueryName='primary'] The name that a query is registered with on a model if a name isn't specified.\n * @param {string} [firebaseUrl] Necessary if you're using apSyncService.  Look there for more details.\n * @param {boolean} [offline] Automatically set based on the URL of the site.  Pulls offline XML when hosted locally.\n * @param {string} [offlineXML='dev/'] The location to look for offline xml files.\n * @example\n * <h4>Default Configuration</h4>\n * <pre>\n * .constant('apConfig', {\n *     appTitle: 'Angular-Point',\n *     debugEnabled: true,\n *     firebaseURL: \"The optional url of your firebase source\",\n *     offline: window.location.href.indexOf('localhost') > -1 ||\n *         window.location.href.indexOf('http://0.') > -1 ||\n *         window.location.href.indexOf('http://10.') > -1 ||\n *         window.location.href.indexOf('http://192.') > -1\n * })\n * </pre>\n *\n * <h4>To Override</h4>\n * <pre>\n * angular.module('MyApp', ['my dependencies'])\n *      .config(function ($stateProvider, $urlRouterProvider) {\n *          //My routes\n *      })\n *      .run(function(apConfig) {\n *          //To set the default site root\n *          apConfig.defaultUrl =\n *            '//sharepoint.myserver.com/siteRoot';\n *\n *          //To set the default location to look for\n *          //offline xml files.\n *          apConfig.offlineXML = 'myCachedQueries/';\n *      });\n * </pre>\n */\nmodule ap {\n    'use strict';\n\n    export interface IAPConfig {\n        appTitle: string;\n        debug: boolean;\n        defaultQueryName: string;\n        defaultUrl: string;\n        environment?: string;\n        firebaseURL?: string;\n        localStorageExpiration?: number;\n        offline: boolean;\n        queryDebounceTime?: number;\n        userLoginNamePrefix?: string;\n    }\n\n    export var APConfig: IAPConfig = {\n        appTitle: 'Angular-Point',\n        debug: false,\n        defaultQueryName: 'primary',\n        defaultUrl: '',\n        environment: 'production',\n        firebaseURL: \"The optional url of your firebase source\",\n        //expiration in milliseconds - Defaults to a day and if set to 0 doesn't expire\n        localStorageExpiration: 86400000,\n        //Are we in working offline\n        offline: window.location.href.indexOf('localhost') > -1 ||\n        window.location.href.indexOf('http://0.') > -1 ||\n        window.location.href.indexOf('http://10.') > -1 ||\n        window.location.href.indexOf('http://127.') > -1 ||\n        window.location.href.indexOf('http://192.') > -1,\n        //Any identical query within this amount of time return the same promise\n        queryDebounceTime: 100\n    };\n\n    angular\n        .module('angularPoint')\n        .constant('apConfig', APConfig);\n}\n","/// <reference path=\"../app.module.ts\" />\n\nmodule ap {\n    'use strict';\n\n    export var DefaultFields: IFieldConfigurationObject[] = [\n        { staticName: 'ID', objectType: 'Counter', mappedName: 'id', readOnly: true },\n        { staticName: 'Modified', objectType: 'DateTime', mappedName: 'modified', readOnly: true },\n        { staticName: 'Created', objectType: 'DateTime', mappedName: 'created', readOnly: true },\n        { staticName: 'Author', objectType: 'User', mappedName: 'author', readOnly: true },\n        { staticName: 'Editor', objectType: 'User', mappedName: 'editor', readOnly: true },\n        { staticName: 'PermMask', objectType: 'Mask', mappedName: 'permMask', readOnly: true },\n        { staticName: 'UniqueId', objectType: 'String', mappedName: 'uniqueId', readOnly: true },\n        { staticName: 'FileRef', objectType: 'Lookup', mappedName: 'fileRef', readOnly: true }\n    ];\n\n    /**\n     * @ngdoc object\n     * @name angularPoint.apDefaultFields\n     * @description\n     * Read only fields that should be included in all lists\n     */\n    angular\n        .module('angularPoint')\n        .constant('apDefaultFields', DefaultFields);\n\n}\n","/// <reference path=\"../app.module.ts\" />\n\nmodule ap {\n    'use strict';\n\n     export var DefaultListItemQueryOptions: string = '' +\n        '<QueryOptions>' +\n        '   <IncludeMandatoryColumns>FALSE</IncludeMandatoryColumns>' +\n        '   <IncludeAttachmentUrls>TRUE</IncludeAttachmentUrls>' +\n        '   <IncludeAttachmentVersion>FALSE</IncludeAttachmentVersion>' +\n        '   <ExpandUserField>FALSE</ExpandUserField>' +\n        '</QueryOptions>';\n\n     angular\n        .module('angularPoint')\n        .constant('apDefaultListItemQueryOptions', DefaultListItemQueryOptions);\n\n}\n","/// <reference path=\"../app.module.ts\" />\n\nmodule ap {\n    'use strict';\n\n    export interface IUserPermissionsObject {\n        AddAndCustomizePages: boolean;\n        AddDelPrivateWebParts: boolean;\n        AddListItems: boolean;\n        ApplyStyleSheets: boolean;\n        ApplyThemeAndBorder: boolean;\n        ApproveItems: boolean;\n        BrowseDirectories: boolean;\n        BrowseUserInfo: boolean;\n        CancelCheckout: boolean;\n        CreateAlerts: boolean;\n        CreateGroups: boolean;\n        CreateSSCSite: boolean;\n        DeleteListItems: boolean;\n        DeleteVersions: boolean;\n        EditListItems: boolean;\n        EditMyUserInfo: boolean;\n        EnumeratePermissions: boolean;\n        FullMask: boolean;\n        ManageAlerts: boolean;\n        ManageLists: boolean;\n        ManagePermissions: boolean;\n        ManageSubwebs: boolean;\n        ManageWeb: boolean;\n        Open: boolean;\n        OpenItems: boolean;\n        PersonalViews: boolean;\n        UpdatePersonalWebParts: boolean;\n        UseRemoteAPIs: boolean;\n        ViewFormPages: boolean;\n        ViewListItems: boolean;\n        ViewPages: boolean;\n        ViewUsageData: boolean;\n        ViewVersions: boolean;\n    }\n\n    export class BasePermissionObject implements IUserPermissionsObject {\n        AddAndCustomizePages = false;\n        AddDelPrivateWebParts = false;\n        AddListItems = false;\n        ApplyStyleSheets = false;\n        ApplyThemeAndBorder = false;\n        ApproveItems = false;\n        BrowseDirectories = false;\n        BrowseUserInfo = false;\n        CancelCheckout = false;\n        CreateAlerts = false;\n        CreateGroups = false;\n        CreateSSCSite = false;\n        DeleteListItems = false;\n        DeleteVersions = false;\n        EditListItems = false;\n        EditMyUserInfo = false;\n        EnumeratePermissions = false;\n        FullMask = false;\n        ManageAlerts = false;\n        ManageLists = false;\n        ManagePermissions = false;\n        ManageSubwebs = false;\n        ManageWeb = false;\n        Open = false;\n        OpenItems = false;\n        PersonalViews = false;\n        UpdatePersonalWebParts = false;\n        UseRemoteAPIs = false;\n        ViewFormPages = false;\n        ViewListItems = false;\n        ViewPages = false;\n        ViewUsageData = false;\n        ViewVersions = false;\n    }\n\n\n    angular\n        .module('angularPoint')\n        .constant('apBasePermissionObject', BasePermissionObject);\n\n}\n","/// <reference path=\"../app.module.ts\" />\n\nmodule ap {\n    'use strict';\n\n    angular.module('angularPoint')\n    /** lodash */\n        .constant('_', _);\n}\n","/// <reference path=\"../app.module.ts\" />\n\n//  apWebServiceOperationConstants.OpName = [WebService, needs_SOAPAction];\n//      OpName              The name of the Web Service operation -> These names are unique\n//      WebService          The name of the WebService this operation belongs to\n//      needs_SOAPAction    Boolean indicating whether the operation needs to have the SOAPAction passed in the setRequestHeaderfunction.\n//                          true if the operation does a write, else false\n\n\nmodule ap {\n    'use strict';\n\n    export interface IWebServiceOperationConstants {\n        [key: string]: [string, boolean]\n    }\n\n    export var WebServiceOperationConstants: IWebServiceOperationConstants = {\n        GetAlerts: ['Alerts', false],\n        DeleteAlerts: ['Alerts', true],\n        Mode: ['Authentication', false],\n        Login: ['Authentication', false],\n        CopyIntoItems: ['Copy', true],\n        CopyIntoItemsLocal: ['Copy', true],\n        GetItem: ['Copy', false],\n        GetForm: ['Forms', false],\n        GetFormCollection: ['Forms', false],\n        AddAttachment: ['Lists', true],\n        AddDiscussionBoardItem: ['Lists', true],\n        AddList: ['Lists', true],\n        AddListFromFeature: ['Lists', true],\n        ApplyContentTypeToList: ['Lists', true],\n        CheckInFile: ['Lists', true],\n        CheckOutFile: ['Lists', true],\n        CreateContentType: ['Webs', true],\n        DeleteAttachment: ['Lists', true],\n        DeleteContentType: ['Lists', true],\n        DeleteContentTypeXmlDocument: ['Lists', true],\n        DeleteList: ['Lists', true],\n        GetAttachmentCollection: ['Lists', false],\n        GetList: ['Lists', false],\n        GetListAndView: ['Lists', false],\n        GetListCollection: ['Lists', false],\n        GetListContentType: ['Lists', false],\n        GetListContentTypes: ['Lists', false],\n        GetListItemChanges: ['Lists', false],\n        GetListItemChangesSinceToken: ['Lists', false],\n        GetListItems: ['Lists', false],\n        GetVersionCollection: ['Lists', false],\n        UndoCheckOut: ['Lists', true],\n        UpdateContentType: ['Webs', true],\n        UpdateContentTypesXmlDocument: ['Lists', true],\n        UpdateContentTypeXmlDocument: ['Lists', true],\n        UpdateList: ['Lists', true],\n        UpdateListItems: ['Lists', true],\n        AddMeeting: ['Meetings', true],\n        CreateWorkspace: ['Meetings', true],\n        RemoveMeeting: ['Meetings', true],\n        SetWorkSpaceTitle: ['Meetings', true],\n        ResolvePrincipals: ['People', false],\n        SearchPrincipals: ['People', false],\n        AddPermission: ['Permissions', true],\n        AddPermissionCollection: ['Permissions', true],\n        GetPermissionCollection: ['Permissions', true],\n        RemovePermission: ['Permissions', true],\n        RemovePermissionCollection: ['Permissions', true],\n        UpdatePermission: ['Permissions', true],\n        GetLinks: ['PublishedLinksService', true],\n        GetPortalSearchInfo: ['Search', false],\n        GetQuerySuggestions: ['Search', false],\n        GetSearchMetadata: ['Search', false],\n        Query: ['Search', false],\n        QueryEx: ['Search', false],\n        Registration: ['Search', false],\n        Status: ['Search', false],\n        SendClientScriptErrorReport: ['SharePointDiagnostics', true],\n        GetAttachments: ['SiteData', false],\n        EnumerateFolder: ['SiteData', false],\n        SiteDataGetList: ['SiteData', false],\n        SiteDataGetListCollection: ['SiteData', false],\n        SiteDataGetSite: ['SiteData', false],\n        SiteDataGetSiteUrl: ['SiteData', false],\n        SiteDataGetWeb: ['SiteData', false],\n        CreateWeb: ['Sites', true],\n        DeleteWeb: ['Sites', true],\n        GetSite: ['Sites', false],\n        GetSiteTemplates: ['Sites', false],\n        AddComment: ['SocialDataService', true],\n        AddTag: ['SocialDataService', true],\n        AddTagByKeyword: ['SocialDataService', true],\n        CountCommentsOfUser: ['SocialDataService', false],\n        CountCommentsOfUserOnUrl: ['SocialDataService', false],\n        CountCommentsOnUrl: ['SocialDataService', false],\n        CountRatingsOnUrl: ['SocialDataService', false],\n        CountTagsOfUser: ['SocialDataService', false],\n        DeleteComment: ['SocialDataService', true],\n        DeleteRating: ['SocialDataService', true],\n        DeleteTag: ['SocialDataService', true],\n        DeleteTagByKeyword: ['SocialDataService', true],\n        DeleteTags: ['SocialDataService', true],\n        GetAllTagTerms: ['SocialDataService', false],\n        GetAllTagTermsForUrlFolder: ['SocialDataService', false],\n        GetAllTagUrls: ['SocialDataService', false],\n        GetAllTagUrlsByKeyword: ['SocialDataService', false],\n        GetCommentsOfUser: ['SocialDataService', false],\n        GetCommentsOfUserOnUrl: ['SocialDataService', false],\n        GetCommentsOnUrl: ['SocialDataService', false],\n        GetRatingAverageOnUrl: ['SocialDataService', false],\n        GetRatingOfUserOnUrl: ['SocialDataService', false],\n        GetRatingOnUrl: ['SocialDataService', false],\n        GetRatingsOfUser: ['SocialDataService', false],\n        GetRatingsOnUrl: ['SocialDataService', false],\n        GetSocialDataForFullReplication: ['SocialDataService', false],\n        GetTags: ['SocialDataService', true],\n        GetTagsOfUser: ['SocialDataService', true],\n        GetTagTerms: ['SocialDataService', true],\n        GetTagTermsOfUser: ['SocialDataService', true],\n        GetTagTermsOnUrl: ['SocialDataService', true],\n        GetTagUrlsOfUser: ['SocialDataService', true],\n        GetTagUrlsOfUserByKeyword: ['SocialDataService', true],\n        GetTagUrls: ['SocialDataService', true],\n        GetTagUrlsByKeyword: ['SocialDataService', true],\n        SetRating: ['SocialDataService', true],\n        UpdateComment: ['SocialDataService', true],\n        SpellCheck: ['SpellCheck', false],\n        AddTerms: ['TaxonomyClientService', true],\n        GetChildTermsInTerm: ['TaxonomyClientService', false],\n        GetChildTermsInTermSet: ['TaxonomyClientService', false],\n        GetKeywordTermsByGuids: ['TaxonomyClientService', false],\n        GetTermsByLabel: ['TaxonomyClientService', false],\n        GetTermSets: ['TaxonomyClientService', false],\n        AddGroup: ['usergroup', true],\n        AddGroupToRole: ['usergroup', true],\n        AddRole: ['usergroup', true],\n        AddRoleDef: ['usergroup', true],\n        AddUserCollectionToGroup: ['usergroup', true],\n        AddUserCollectionToRole: ['usergroup', true],\n        AddUserToGroup: ['usergroup', true],\n        AddUserToRole: ['usergroup', true],\n        GetAllUserCollectionFromWeb: ['usergroup', false],\n        GetGroupCollection: ['usergroup', false],\n        GetGroupCollectionFromRole: ['usergroup', false],\n        GetGroupCollectionFromSite: ['usergroup', false],\n        GetGroupCollectionFromUser: ['usergroup', false],\n        GetGroupCollectionFromWeb: ['usergroup', false],\n        GetGroupInfo: ['usergroup', false],\n        GetRoleCollection: ['usergroup', false],\n        GetRoleCollectionFromGroup: ['usergroup', false],\n        GetRoleCollectionFromUser: ['usergroup', false],\n        GetRoleCollectionFromWeb: ['usergroup', false],\n        GetRoleInfo: ['usergroup', false],\n        GetRolesAndPermissionsForCurrentUser: ['usergroup', false],\n        GetRolesAndPermissionsForSite: ['usergroup', false],\n        GetUserCollection: ['usergroup', false],\n        GetUserCollectionFromGroup: ['usergroup', false],\n        GetUserCollectionFromRole: ['usergroup', false],\n        GetUserCollectionFromSite: ['usergroup', false],\n        GetUserCollectionFromWeb: ['usergroup', false],\n        GetUserInfo: ['usergroup', false],\n        GetUserLoginFromEmail: ['usergroup', false],\n        RemoveGroup: ['usergroup', true],\n        RemoveGroupFromRole: ['usergroup', true],\n        RemoveRole: ['usergroup', true],\n        RemoveUserCollectionFromGroup: ['usergroup', true],\n        RemoveUserCollectionFromRole: ['usergroup', true],\n        RemoveUserCollectionFromSite: ['usergroup', true],\n        RemoveUserFromGroup: ['usergroup', true],\n        RemoveUserFromRole: ['usergroup', true],\n        RemoveUserFromSite: ['usergroup', true],\n        RemoveUserFromWeb: ['usergroup', true],\n        UpdateGroupInfo: ['usergroup', true],\n        UpdateRoleDefInfo: ['usergroup', true],\n        UpdateRoleInfo: ['usergroup', true],\n        UpdateUserInfo: ['usergroup', true],\n        AddColleague: ['UserProfileService', true],\n        AddLink: ['UserProfileService', true],\n        AddMembership: ['UserProfileService', true],\n        AddPinnedLink: ['UserProfileService', true],\n        CreateMemberGroup: ['UserProfileService', true],\n        CreateUserProfileByAccountName: ['UserProfileService', true],\n        GetCommonColleagues: ['UserProfileService', false],\n        GetCommonManager: ['UserProfileService', false],\n        GetCommonMemberships: ['UserProfileService', false],\n        GetInCommon: ['UserProfileService', false],\n        GetPropertyChoiceList: ['UserProfileService', false],\n        GetUserColleagues: ['UserProfileService', false],\n        GetUserLinks: ['UserProfileService', false],\n        GetUserMemberships: ['UserProfileService', false],\n        GetUserPinnedLinks: ['UserProfileService', false],\n        GetUserProfileByGuid: ['UserProfileService', false],\n        GetUserProfileByIndex: ['UserProfileService', false],\n        GetUserProfileByName: ['UserProfileService', false],\n        GetUserProfileCount: ['UserProfileService', false],\n        GetUserProfileSchema: ['UserProfileService', false],\n        GetUserPropertyByAccountName: ['UserProfileService', false],\n        ModifyUserPropertyByAccountName: ['UserProfileService', true],\n        RemoveAllColleagues: ['UserProfileService', true],\n        RemoveAllLinks: ['UserProfileService', true],\n        RemoveAllMemberships: ['UserProfileService', true],\n        RemoveAllPinnedLinks: ['UserProfileService', true],\n        RemoveColleague: ['UserProfileService', true],\n        RemoveLink: ['UserProfileService', true],\n        RemoveMembership: ['UserProfileService', true],\n        RemovePinnedLink: ['UserProfileService', true],\n        UpdateColleaguePrivacy: ['UserProfileService', true],\n        UpdateLink: ['UserProfileService', true],\n        UpdateMembershipPrivacy: ['UserProfileService', true],\n        UpdatePinnedLink: ['UserProfileService', true],\n        DeleteAllVersions: ['Versions', true],\n        DeleteVersion: ['Versions', true],\n        GetVersions: ['Versions', false],\n        RestoreVersion: ['Versions', true],\n        AddView: ['Views', true],\n        DeleteView: ['Views', true],\n        GetView: ['Views', false],\n        GetViewHtml: ['Views', false],\n        GetViewCollection: ['Views', false],\n        UpdateView: ['Views', true],\n        UpdateViewHtml: ['Views', true],\n        AddWebPart: ['WebPartPages', true],\n        AddWebPartToZone: ['WebPartPages', true],\n        GetWebPart2: ['WebPartPages', false],\n        GetWebPartPage: ['WebPartPages', false],\n        GetWebPartProperties: ['WebPartPages', false],\n        GetWebPartProperties2: ['WebPartPages', false],\n        GetColumns: ['Webs', false],\n        GetContentType: ['Webs', false],\n        GetContentTypes: ['Webs', false],\n        GetCustomizedPageStatus: ['Webs', false],\n        GetListTemplates: ['Webs', false],\n        GetObjectIdFromUrl: ['Webs', false],\n        GetWeb: ['Webs', false],\n        GetWebCollection: ['Webs', false],\n        GetAllSubWebCollection: ['Webs', false],\n        UpdateColumns: ['Webs', true],\n        WebUrlFromPageUrl: ['Webs', false],\n        AlterToDo: ['Workflow', true],\n        ClaimReleaseTask: ['Workflow', true],\n        GetTemplatesForItem: ['Workflow', false],\n        GetToDosForItem: ['Workflow', false],\n        GetWorkflowDataForItem: ['Workflow', false],\n        GetWorkflowTaskData: ['Workflow', false],\n        StartWorkflow: ['Workflow', true]\n    };\n\n    angular.module('angularPoint')\n        .constant('apWebServiceOperationConstants', WebServiceOperationConstants);\n\n}\n","/// <reference path=\"../app.module.ts\" />\n\nmodule ap {\n    'use strict';\n\n    export interface IXMLFieldAttributeTypes {\n        [key: string]: string;\n    }\n\n    export var XMLFieldAttributeTypes: IXMLFieldAttributeTypes = {\n        Decimals: 'Number',\n        EnforceUniqueValues: 'Boolean',\n        Filterable: 'Boolean',\n        FromBaseType: 'Boolean',\n        Hidden: 'Boolean',\n        Indexed: 'Boolean',\n        NumLines: 'Number',\n        ReadOnly: 'Boolean',\n        Required: 'Boolean',\n        Sortable: 'Boolean'\n    };\n\n    /**\n     * @ngdoc object\n     * @name angularPoint.apXMLListAttributeTypes\n     * @description Constant object map which contains many common XML attributes found on a field definition with their\n     * corresponding type.\n     */\n    angular\n        .module('angularPoint')\n        .constant('apXMLFieldAttributeTypes', XMLFieldAttributeTypes);\n\n}\n","/// <reference path=\"../app.module.ts\" />\n\nmodule ap {\n    'use strict';\n\n    export interface IXMLListAttributeTypes {\n        [key: string]: string;\n    }\n\n    export var XMLListAttributeTypes: IXMLListAttributeTypes = {\n        BaseType: 'Number',\n        ServerTemplate: 'Number',\n        Created: 'DateTime',\n        Modified: 'DateTime',\n        LastDeleted: 'DateTime',\n        Version: 'Number',\n        ThumbnailSize: 'Number',\n        WebImageWidth: 'Number',\n        WebImageHeight: 'Number',\n        Flags: 'Number',\n        ItemCount: 'Number',\n        ReadSecurity: 'Number',\n        WriteSecurity: 'Number',\n        Author: 'Number',\n        MajorWithMinorVersionsLimit: 'Number',\n        HasUniqueScopes: 'Boolean',\n        NoThrottleListOperations: 'Boolean',\n        HasRelatedLists: 'Boolean',\n        AllowDeletion: 'Boolean',\n        AllowMultiResponses: 'Boolean',\n        EnableAttachments: 'Boolean',\n        EnableModeration: 'Boolean',\n        EnableVersioning: 'Boolean',\n        HasExternalDataSource: 'Boolean',\n        Hidden: 'Boolean',\n        MultipleDataList: 'Boolean',\n        Ordered: 'Boolean',\n        ShowUser: 'Boolean',\n        EnablePeopleSelector: 'Boolean',\n        EnableResourceSelector: 'Boolean',\n        EnableMinorVersion: 'Boolean',\n        RequireCheckout: 'Boolean',\n        ThrottleListOperations: 'Boolean',\n        ExcludeFromOfflineClient: 'Boolean',\n        EnableFolderCreation: 'Boolean',\n        IrmEnabled: 'Boolean',\n        IsApplicationList: 'Boolean',\n        PreserveEmptyValues: 'Boolean',\n        StrictTypeCoercion: 'Boolean',\n        EnforceDataValidation: 'Boolean',\n        MaxItemsPerThrottledOperation: 'Number'\n    };\n\n    /**\n     * @ngdoc object\n     * @name angularPoint.apXMLListAttributeTypes\n     * @description Constant object map which contains many common XML attributes found on a list definition with their\n     * corresponding type.\n     */\n    angular\n        .module('angularPoint')\n        .constant('apXMLListAttributeTypes', XMLListAttributeTypes);\n\n}\n","/// <reference path=\"../app.module.ts\" />\n\nmodule ap {\n    'use strict';\n\n    export class CamlFactory {\n\n        /**\n         * @ngdoc function\n         * @name angularPoint.apCamlFactory:camlContainsQuery\n         * @methodOf angularPoint.apCamlFactory\n         * @parameter {object[]} fieldDefinitionsArray Array of fields to search for a given search string.\n         * @parameter {string} searchString String of text to search records for.\n         * @description\n         * Returns a combination of selectors using CAML '<Or></Or>' elements\n         * @returns {string} Caml select string.\n         * @example\n         * <pre>\n         *\n         * var testHTML = {objectType: 'HTML', staticName: 'HTML'};\n         * var testJSON = {objectType: 'JSON', staticName: 'JSON'};\n         * var testText = {objectType: 'Text', staticName: 'Text'};\n         * var testText2 = {objectType: 'Text', staticName: 'Text'};\n         *\n         * var testCaml = camlContainsQuery([testHTML, testText, testJSON, testText2], 'Test Query');\n         * console.log(testCaml);\n         *\n         * //Returns\n         * <Or><Contains><FieldRef Name=\\\"HTML\\\" /><Value Type=\\\"Text\\\"><![CDATA[Test Query]]>\n         * </Value></Contains><Or><Contains><FieldRef Name=\\\"Text\\\" /><Value Type=\\\"Text\\\">Test Query</Value>\n         * </Contains><Or><Contains><FieldRef Name=\\\"JSON\\\" /><Value Type=\\\"Text\\\"><![CDATA[Test Query]]>\n         * </Value></Contains><Contains><FieldRef Name=\\\"Text\\\" /><Value Type=\\\"Text\\\">Test Query</Value>\n         * </Contains></Or></Or></Or>\n         * </pre>\n         */\n        camlContainsQuery(fieldDefinitionsArray: IFieldDefinition[], searchString: string): string {\n            var selectStatements = [];\n\n            /** Create a select statement for each field */\n            _.each(fieldDefinitionsArray, (fieldDefinition, definitionIndex) => {\n                selectStatements.push(this.createCamlContainsSelector(fieldDefinition, searchString));\n            });\n\n            return this.chainCamlSelects(selectStatements, 'And');\n        }\n\n        /**\n         * @ngdoc function\n         * @name angularPoint.apCamlFactory:chainCamlSelects\n         * @methodOf angularPoint.apCamlFactory\n         * @description\n         * Used to combine multiple caml selectors into a single CAML query string wrapped properly.\n         * @param {object[]} selectStatements An array of select statements to wrap in \"<Or>\".\n         * @param {string} joinType Valid caml join type ('Or', 'And', ...).\n         * @returns {string} CAML query string.\n         */\n        chainCamlSelects(selectStatements: Object[], joinType: string): string {\n            var camlQuery = '',\n                camlQueryClosure = '';\n            _.each(selectStatements, function(statement, statementIndex) {\n                /** Add an or clause if we still have additional fields to process */\n                if (statementIndex < selectStatements.length - 1) {\n                    camlQuery += '<' + joinType + '>';\n                    camlQueryClosure = '</' + joinType + '>' + camlQueryClosure;\n                }\n                camlQuery += statement;\n            });\n            return camlQuery + camlQueryClosure;\n        }\n\n        /**\n         * @ngdoc function\n         * @name angularPoint.apCamlFactory:createCamlContainsSelector\n         * @methodOf angularPoint.apCamlFactory\n         * @description\n         * Escapes characters that SharePoint gets upset about based on field type.\n         * @example\n         * <pre>\n         * var testHTML = {objectType: 'HTML', staticName: 'HTML'};\n         *\n         * var testCaml = createCamlContainsSelector(testHTML, 'Test Query');\n         * console.log(testCaml);\n         *\n         * //Returns\n         * <Contains>\n         *   <FieldRef Name=\\\"HTML\\\" />\n         *   <Value Type=\\\"Text\\\"><![CDATA[Test Query]]></Value>\n         * </Contains>\n         * </pre>\n         */\n        createCamlContainsSelector(fieldDefinition: IFieldDefinition, searchString: string): string {\n            var camlSelector;\n            switch (fieldDefinition.objectType) {\n                case 'HTML':\n                case 'JSON':\n                    camlSelector = '' +\n                    '<Contains>' +\n                    '<FieldRef Name=\"' + fieldDefinition.staticName + '\" />' +\n                    /** Use CDATA wrapper to escape [&, <, > ] */\n                    '<Value Type=\"Text\"><![CDATA[' + searchString + ']]></Value>' +\n                    '</Contains>';\n                    break;\n                default:\n                    camlSelector = '' +\n                    '<Contains>' +\n                    '<FieldRef Name=\"' + fieldDefinition.staticName + '\" />' +\n                    '<Value Type=\"Text\">' + searchString + '</Value>' +\n                    '</Contains>';\n            }\n            return camlSelector;\n        }\n\n\n    }\n\n    /**\n     * @ngdoc function\n     * @name angularPoint.apCamlFactory\n     * @description\n     * Tools to assist with the creation of CAML queries.\n     *\n     */\n    angular.module('angularPoint')\n        .service('apCamlFactory', CamlFactory);\n}\n","/// <reference path=\"../app.module.ts\" />\n\nmodule ap {\n    'use strict';\n\n    var apFieldService: FieldService, apUtilityService: UtilityService, apFormattedFieldValueService: FormattedFieldValueService;\n\n    export interface IXMLFieldDefinition {\n        ID?: string;\n        Type?: string;\n        ReadOnly?: string;\n        Hidden?: string;\n        DisplayName?: string;\n        Required?: string;\n        SourceID?: string;\n        ColName?: string;\n        StaticName?: string;\n        Choices?: string[];\n        Description?: string;\n        Indexed?: string;\n        EnforceUniqueValues?: string;\n        RowOrdinal?: string;\n        Sortable?: string;\n        Filterable?: string;\n        RelationshipDeleteBehavior?: string;\n        List?: string;\n        ShowField?: string;\n        ResultType?: string;\n        FillInChoice?: string;\n        Name?: string;\n        NumLines?: string;\n        RichText?: string;\n        Format?: string;\n    }\n\n    export interface IFieldConfigurationObject {\n        choices?: string[];\n        description?: string;\n        displayName?: string;\n        formatter?: (listItem: ListItem<any>, fieldDefinition: IFieldDefinition, options?: Object) => string;\n        label?: string;\n        //JS property name that we use to store the value for this field.\n        mappedName: string;\n        objectType: string;\n        readOnly?: boolean;\n        required?: boolean;\n        staticName: string;\n    }\n\n    //An extended field definition combines the user defined field definition with the XML returned by SharePoint\n    export interface IFieldDefinition extends IXMLFieldDefinition, IFieldConfigurationObject {\n        getDefaultValueForType(): any;\n        getFormattedValue(listItem: ListItem<any>, options?: Object): string;\n        getMockData(options): any;\n    }\n\n\n    /**\n     * @ngdoc object\n     * @name Field\n     * @description\n     * Defined in the MODEL.list.fieldDefinitions array.  Each field definition object maps an internal field\n     * in a SharePoint list/library to a JavaScript object using the internal SharePoint field name, the field\n     * type, and the desired JavaScript property name to add onto the parsed list item object. Ignore shown usage,\n     * each field definition is just an object within the fieldDefinitions array.\n     * @param {object} obj Field definition.\n     * @param {string} obj.staticName The actual SharePoint field name.\n     * @param {string} [obj.objectType='Text']\n     * <dl>\n     *     <dt>Boolean</dt>\n     *     <dd>Used to store a TRUE/FALSE value (stored in SharePoint as 0 or 1).</dd>\n     *     <dt>Calc</dt>\n     *     <dd>\";#\" Delimited String: The first value will be the calculated column value\n     *     type, the second will be the value</dd>\n     *     <dt>Choice</dt>\n     *     <dd>Simple text string but when processing the initial list definition, we\n     *     look for a Choices XML element within the field definition and store each\n     *     value.  We can then retrieve the valid Choices with one of the following:\n     *     ```var fieldDefinition = LISTITEM.getFieldDefinition('CHOICE_FIELD_NAME');```\n     *                                      or\n     *     ```var fieldDefinition = MODELNAME.getFieldDefinition('CHOICE_FIELD_NAME');```\n     *     ```var choices = fieldDefinition.Choices;```\n     *     </dd>\n     *     <dt>Counter</dt>\n     *     <dd>Same as Integer. Generally used only for the internal ID field. Its integer\n     *     value is set automatically to be unique with respect to every other item in the\n     *     current list. The Counter type is always read-only and cannot be set through a\n     *     form post.</dd>\n     *     <dt>Currency</dt>\n     *     <dd>Floating point number.</dd>\n     *     <dt>DateTime</dt>\n     *     <dd>Replace dashes with slashes and the \"T\" deliminator with a space if found.  Then\n     *     converts into a valid JS date object.</dd>\n     *     <dt>Float</dt>\n     *     <dd>Floating point number.</dd>\n     *     <dt>HTML</dt>\n     *     <dd>```_.unescape(STRING)```</dd>\n     *     <dt>Integer</dt>\n     *     <dd>Parses the string to a base 10 int.</dd>\n     *     <dt>JSON</dt>\n     *     <dd>Parses JSON if valid and converts into a a JS object.  If not valid, an error is\n     *     thrown with additional info on specifically what is invalid.</dd>\n     *     <dt>Lookup</dt>\n     *     <dd>Passes string to Lookup constructor where it is broken into an object containing\n     *     a \"lookupValue\" and \"lookupId\" attribute.  Inherits additional prototype methods from\n     *     Lookup.  See [Lookup](#/api/Lookup) for more information.\n     *     </dd>\n     *     <dt>LookupMulti</dt>\n     *     <dd>Converts multiple delimited \";#\" strings into an array of Lookup objects.</dd>\n     *     <dt>MultiChoice</dt>\n     *     <dd>Converts delimited \";#\" string into an array of strings representing each of the\n     *     selected choices.  Similar to the single \"Choice\", the XML Choices are stored in the\n     *     field definition after the initial call is returned from SharePoint so we can reference\n     *     later.\n     *     </dd>\n     *     <dt>Number</dt>\n     *     <dd>Treats as a float.</dd>\n     *     <dt>Text</dt>\n     *     <dd>**Default** No processing of the text string from XML.</dd>\n     *     <dt>User</dt>\n     *     <dd>Similar to Lookup but uses the \"User\" prototype as a constructor to convert into a\n     *     User object with \"lookupId\" and \"lookupValue\" attributes.  The lookupId is the site collection\n     *     ID for the user and the lookupValue is typically the display name.\n     *     See [User](#/api/User) for more information.\n     *     </dd>\n     *     <dt>UserMulti</dt>\n     *     <dd>Parses delimited string to returns an array of User objects.</dd>\n     * </dl>\n     * @param {string} obj.mappedName The attribute name we'd like to use\n     * for this field on the newly created JS object.\n     * @param {boolean} [obj.readOnly=false] When saving, we only push fields\n     * that are mapped and not read only.\n     * @param {boolean} [obj.required=false] Allows us to validate the field to ensure it is valid based\n     * on field type.\n     * @returns {object} Field\n     *\n     * @requires angularPoint.apFieldFactory\n     * @constructor\n     */\n    export class FieldDefinition implements IFieldDefinition {\n        displayName: string;\n        formatter: (listItem: ListItem<any>, fieldDefinition: IFieldDefinition, options?: Object) => string;\n        internalName: string;\n        label: string;\n        mappedName: string;\n        objectType = 'Text';\n        readOnly = false;\n        staticName: string;\n        constructor(obj) {\n            _.assign(this, obj);\n            this.displayName = this.displayName ? this.displayName : apUtilityService.fromCamelCase(this.mappedName);\n\n            /** Deprecated internal name and replace with staticName but maintain compatibility */\n            this.staticName = this.staticName || this.internalName;\n        }\n\n        /**\n         * @ngdoc function\n         * @name Field:getDefaultValueForType\n         * @methodOf Field\n         * @description\n         * Can return mock data appropriate for the field type, by default it dynamically generates data but\n         * the staticValue param will instead return a hard coded type specific value.\n         */\n        getDefaultValueForType(): any {\n            return apFieldService.getDefaultValueForType(this.objectType);\n        }\n\n        /**\n         * @ngdoc function\n         * @name Field:getFormattedValue\n         * @methodOf Field\n         * @description\n         * By default uses the formatted field service to convert a field value into a formatted string\n         * readable by user.  Optionally can override in field definition with formatter property to return\n         * custom formatted value. A good example of this would be to stringify a discussion thread.\n         * @param {ListItem<any>} listItem List used to generate field value.\n         * @param {object} [options] Pass through to apFormattedFieldValueService.getFormattedFieldValue.\n         * @returns {string} Formatted field value suitable for outputting to user.\n         * @example\n         * <pre>\n         *  //In model.list.customFields defining a field\n         * {\n\t\t * \t  mappedName: 'lookup',\n\t\t * \t  objectType: 'Lookup',\n         *    staticName: 'MyAwesomeLookup',\n\t\t * \t  formatter: (listItem: ListItem<any>, fieldDefinition: IFieldDefinition, options?: Object) => {\n\t\t * \t  \t return listItem[fieldDefinition.mappedName].lookupValue.toUpperCase();\n\t\t * \t  }\n\t\t * }\n         * </pre>\n         */\n        getFormattedValue(listItem: ListItem<any>, options?: Object): string {\n            //Optionally provide a custom method to convert a field value into a formatted string\n            return _.isFunction(this.formatter) ? this.formatter(listItem, this, options) :\n                apFormattedFieldValueService\n                    .getFormattedFieldValue(listItem[this.mappedName], this.objectType, options);\n        }\n\n        /**\n         * @ngdoc function\n         * @name Field:getMockData\n         * @methodOf Field\n         * @param {object} [options] Optional params passed to apFieldService.getMockData.\n         * @param {boolean} [options.staticValue=false] Default to dynamically build mock data.\n         * @returns {*} mockData\n         */\n        getMockData(options): any {\n            return apFieldService.getMockData(this.objectType, options);\n        }\n\n    }\n\n    /**\n     * @ngdoc service\n     * @name angularPoint.apFieldFactory\n     * @description\n     * Contains the Field constructor and prototype definitions.\n     * @property {constructor} Field The Field constructor.\n     *\n     * @requires angularPoint.apFieldService\n     * @requires angularPoint.apUtilityService\n     *\n     */\n    export class FieldFactory {\n        static $inject = ['apFieldService', 'apUtilityService', 'apFormattedFieldValueService'];\n        FieldDefinition = FieldDefinition;\n        constructor(_apFieldService_, _apUtilityService_, _apFormattedFieldValueService_) {\n            apFieldService = _apFieldService_;\n            apUtilityService = _apUtilityService_;\n            apFormattedFieldValueService = _apFormattedFieldValueService_;\n        }\n    }\n\n\n    angular\n        .module('angularPoint')\n        .service('apFieldFactory', FieldFactory);\n\n}\n","/// <reference path=\"../app.module.ts\" />\n\nmodule ap {\n    'use strict';\n\n    interface IUninstantiatedIndexCache<T> {\n        [key: string]: T;\n    }\n\n    /**\n     * @ngdoc object\n     * @name IndexedCache\n     * @description\n     * Attempts to be very similar to the ES6 Map instance.  Cache constructor that is extended to make it easier to work with\n     * via prototype methods.  Located in apIndexedCacheFactory.\n     * @param {object} [object] Optionally extend new cache with provided object.\n     * @requires angularPoint.apIndexedCacheFactory\n     * @constructor\n     */\n    export class IndexedCache<T extends ListItem<any>> {\n        //Object with keys equaling ID and values being the individual list item\n        [key: string]: any;\n\n        /**\n        * @ngdoc property\n        * @name IndexedCache.size\n        * @description\n        * Returns the number of key/value pairs in the Map object.  Similar to functionality in ES6 Map instance.\n        */\n        size: number;\n\n        constructor(object?: IUninstantiatedIndexCache<T>) {\n            if (object) {\n                _.assign(this, object);\n            }\n        }\n\n        /**\n         * @ngdoc function\n         * @name IndexedCache.clear\n         * @methodOf IndexedCache\n         * @description\n         * Clears all cached (enumerable) elements from the containing cache object.\n         */\n        clear(): void {\n            _.each(this.keys(), (key: string) => this.delete(key));\n        }\n\n        /**\n         * @ngdoc function\n         * @name IndexedCache.delete\n         * @methodOf IndexedCache\n         * @description\n         * Removes any value associated to the key and returns the value that IndexedCache.has(value).\n         * @param {number} id ID of listItem to be removed.\n         */\n        delete(id: number | string): boolean {\n            let hasValue = this.has(id);\n            if (id && hasValue) {\n                delete this[id];\n            } else if (!_.isNumber(id) && !_.isString(id)) {\n                console.warn('A valid ID was not provided.');\n            }\n            return hasValue;\n        }\n\n        /**\n         * @ngdoc function\n         * @name IndexedCache.first\n         * @methodOf IndexedCache\n         * @description\n         * Returns the first listItem in the index (smallest ID).\n         * @returns {object} First listItem in cache or undefined if empty.\n         */\n        first(): T {\n            return this.nthEntity(0);\n        }\n\n        /**\n         * @ngdoc function\n         * @name IndexedCache.get\n         * @methodOf IndexedCache\n         * @returns {T} Returns the value associated to the key, or undefined if there is none.\n         */\n        get(id: number): T {\n            return this[id];\n        }\n\n        /**\n         * @ngdoc function\n         * @name IndexedCache.has\n         * @methodOf IndexedCache\n         * @description\n         * Determines if an entity exists in the cache.\n         * @param {number} id The id of the requested list item.\n         * @returns {boolean} Returns a Boolean asserting whether a value has been associated to the key cache.\n         */\n        has(id: number | string): boolean {\n            return !!this[id];\n        }\n\n        /**\n         * @ngdoc function\n         * @name IndexedCache.keys\n         * @methodOf IndexedCache\n         * @description\n         * Returns the array of enumerable keys (listItem ID's) for the cache.\n         * @returns {string[]} Array of listItem id's as strings.\n         */\n        keys(): string[] {\n            return Object.keys(this);\n        }\n\n        /**\n         * @ngdoc function\n         * @name IndexedCache.last\n         * @methodOf IndexedCache\n         * @description\n         * Returns the last listItem in the index (largest ID).\n         * @returns {object} Last listItem in cache.\n         */\n        last(): T {\n            var keys = this.keys();\n            return this[keys[keys.length - 1]];\n        }\n\n        /**\n         * @ngdoc function\n         * @name IndexedCache.nthEntity\n         * @methodOf IndexedCache\n         * @description\n         * Based on the\n         * @param {number} index The index of the item requested.\n         * @returns {object} First listItem in cache.\n         */\n        nthEntity(index: number): T {\n            var keys = this.keys();\n            return this[keys[index]];\n        }\n\n        /**\n         * @ngdoc function\n         * @name IndexedCache.set\n         * @methodOf IndexedCache\n         * @description\n         * Adds a new key to the cache if not already there with a value of the new listItem.\n         * @param {number} key Entity to add to the cache.\n         * @param {object} listItem Entity to add to the cache.\n         */\n        set(key: number, listItem: T): IndexedCache<T> {\n            if (_.isNumber(key) && _.isObject(listItem)) {\n                /** Only add the listItem to the cache if it's not already there */\n                if (!this.has(listItem.id)) {\n                    this[key] = listItem;\n                } else {\n                    let cachedObjectDiffersFromListItem = this.get(key) !== listItem;\n                    if (cachedObjectDiffersFromListItem) {\n                        console.warn('List item already exists in cache and differs from this list item.', listItem, this.get(key), this);\n                    }\n                }\n            } else {\n                throw new Error('A valid listItem wasn\\'t provided: ' + JSON.stringify(listItem, null, 2));\n            }\n            return this;\n        }\n\n        /**\n         * @ngdoc function\n         * @methodOf IndexedCache\n         * @name IndexedCache.toArray\n         * @description\n         * Turns the cache object into an array of entities.  Uses IndexedCache.values() and is a temp fix to get\n         * an array of objects until Map is fully supported.\n         * @returns {object[]} Returns the array of entities currently in the cache.\n         */\n        toArray(): T[] {\n            return this.values();\n        }\n\n        /**\n         * @ngdoc function\n         * @name IndexedCache.values\n         * @methodOf IndexedCache\n         * @description\n         * Turns the cache object into an array of entities similar to the method on Map.values().  Unlike\n         * the method on Map though this does not return the objects in insertion order.\n         * @returns {IndexedCache<T>[]} Returns the array of entities currently in the cache.\n         */\n        values(): T[] {\n            return _.toArray<IndexedCache<T>, T>(this);\n        }\n\n        /**\n         * @ngdoc function\n         * @methodOf IndexedCache\n         * @deprecated\n         * @description\n         * DEPRECATED AND WILL BE REMOVED!  Use IndexedCache.set instead.\n         * Adds a new key to the cache if not already there with a value of the new listItem.\n         * @param {object} listItem Entity to add to the cache.\n         */\n        private addEntity(listItem: T): void {\n            console.warn('DEPRECATED METHOD!.  addEntity method deprecited.  Please use the set method in the future to comply with ES6 Map object.');\n            this.set(listItem.id, listItem);\n        }\n\n        /**\n         * @ngdoc function\n         * @name IndexedCache.count\n         * @methodOf IndexedCache\n         * @description\n         * Returns the number of entities in the cache.\n         * @returns {number} Number of entities in the cache.\n         */\n        private count(): number {\n            return this.keys().length;\n        }\n\n        /**\n         * @ngdoc function\n         * @methodOf IndexedCache\n         * @deprecated\n         * @description\n         * DEPRECATED AND WILL BE REMOVED! Use IndexedCache.delete instead of removeEntityById.\n         * Removes a listItem from the cache.\n         * @param {number} id ID of listItem to be removed.\n         */\n        private removeEntityById(id: number): void {\n            console.warn('DEPRECATED METHOD! Use IndexedCache.delete() instead of removeEntityById().');\n            this.delete(id);\n        }\n\n    }\n\n    /** Adds a getter to base prototype wich returns  the number of key/values stored in cache. */\n    Object.defineProperty(IndexedCache.prototype, \"size\", {\n        get: function() {\n            return this.count();\n        },\n        enumerable: false,\n        configurable: false\n    });\n\n\n    /**\n     * @ngdoc object\n     * @name angularPoint.apIndexedCacheFactory\n     * @description\n     * Exposes the EntityFactory prototype and a constructor to instantiate a new Entity Factory in apCacheService.\n     */\n    export class IndexedCacheFactory {\n        IndexedCache = IndexedCache;\n        /**\n         * @ngdoc function\n         * @name angularPoint.apIndexedCacheFactory:create\n         * @methodOf angularPoint.apIndexedCacheFactory\n         * @description\n         * Instantiates and returns a new Indexed Cache.grunt\n         */\n        create<T extends ListItem<any>>(overrides?: IUninstantiatedIndexCache<T>): IndexedCache<T> {\n            return new IndexedCache<T>(overrides);\n        }\n\n\n    }\n\n    angular.module('angularPoint')\n        .service('apIndexedCacheFactory', IndexedCacheFactory);\n}\n","/// <reference path=\"../app.module.ts\" />\n\nmodule ap {\n    'use strict';\n\n    var apConfig: IAPConfig, apDefaultFields, apFieldFactory: FieldFactory;\n\n    export interface IUninstantiatedList {\n        customFields: IFieldConfigurationObject[];\n        environments?: { [key: string]: string };\n        guid?: string;\n        title: string;\n        viewFields?: string;\n        webURL?: string;\n    }\n\n    export interface IListFieldMapping {\n        [key: string]: {\n            mappedName: string;\n            objectType: string;\n        }\n    }\n\n    /**\n     * XML List Object gets converted into JSON object with the following properties.\n     */\n    export interface IXMLList {\n        AllowDeletion?: string;\n        AllowMultiResponses?: string;\n        AnonymousPermMask?: string;\n        Author?: string;\n        BaseType?: string;\n        Created?: string;\n        DefaultViewUrl?: string;\n        Description?: string;\n        Direction?: string;\n        DocTemplateUrl?: string;\n        EmailAlias?: string;\n        EnableAttachments?: string;\n        EnableFolderCreation?: string;\n        EnableMinorVersion?: string;\n        EnableModeration?: string;\n        EnablePeopleSelector?: string;\n        EnableResourceSelector?: string;\n        EnableVersioning?: string;\n        EnforceDataValidation?: string;\n        EventSinkAssembly?: string;\n        EventSinkClass?: string;\n        EventSinkData?: string;\n        ExcludeFromOfflineClient?: string;\n        FeatureId?: string;\n        Flags?: string;\n        HasExternalDataSource?: string;\n        HasRelatedLists?: string;\n        HasUniqueScopes?: string;\n        Hidden?: string;\n        ID?: string;\n        ImageUrl?: string;\n        IrmEnabled?: string;\n        IsApplicationList?: string;\n        ItemCount?: string;\n        LastDeleted?: string;\n        MajorVersionLimit?: string;\n        MajorWithMinorVersionsLimit?: string;\n        MaxItemsPerThrottledOperation?: string;\n        Modified?: string;\n        MultipleDataList?: string;\n        Name?: string;\n        NoThrottleListOperations?: string;\n        Ordered?: string;\n        PreserveEmptyValues?: string;\n        ReadSecurity?: string;\n        RequireCheckout?: string;\n        RootFolder?: string;\n        ScopeId?: string;\n        SendToLocation?: string;\n        ServerTemplate?: string;\n        ShowUser?: string;\n        StrictTypeCoercion?: string;\n        ThrottleListOperations?: string;\n        ThumbnailSize?: string;\n        Title?: string;\n        Version?: string;\n        WebFullUrl?: string;\n        WebId?: string;\n        WebImageHeight?: string;\n        WebImageWidth?: string;\n        WorkFlowId?: string;\n        WriteSecurity?: string;\n    }\n\n    export interface IList extends IUninstantiatedList, IXMLList {\n        customFields: IFieldDefinition[];\n        environments: { [key: string]: string };\n        fields: IFieldDefinition[];\n        getListId(): string;\n        guid: string;\n        identifyWebURL(): string;\n        isReady: boolean;\n        mapping?: IListFieldMapping;\n        permissions?: IUserPermissionsObject;\n        title: string;\n        viewFields?: string;\n        webURL?: string;\n    }\n    /**\n     * @ngdoc object\n     * @name List\n     * @description\n     * List Object Constructor.  This is handled automatically when creating a new model so there shouldn't be\n     * any reason to manually call.\n     * @param {object} config Initialization parameters.\n     * @param {string} config.guid Unique SharePoint GUID for the list we'll be basing the model on\n     * ex:'{4D74831A-42B2-4558-A67F-B0B5ADBC0EAC}'\n     * @param {string} config.title Maps to the offline XML file in dev folder (no spaces)\n     * ex: 'ProjectsList' so the offline XML file would be located at apConfig.offlineXML + 'ProjectsList.xml'\n     * @param {object[]} [config.customFields] Mapping of SharePoint field names to the internal names we'll be using\n     * in our application.  Also contains field type, readonly attribute, and any other non-standard settings.\n     * <pre>\n     * [\n     *   {\n         *       staticName: \"Title\",\n         *       objectType: \"Text\",\n         *       mappedName: \"lastName\",\n         *       readOnly:false\n         *   },\n     *   {\n         *       staticName: \"FirstName\",\n         *       objectType: \"Text\",\n         *       mappedName: \"firstName\",\n         *       readOnly:false\n         *   },\n     *   {\n         *       staticName: \"Organization\",\n         *       objectType: \"Lookup\",\n         *       mappedName: \"organization\",\n         *       readOnly:false\n         *   },\n     *   {\n         *       staticName: \"Account\",\n         *       objectType: \"User\",\n         *       mappedName: \"account\",\n         *       readOnly:false\n         *   },\n     *   {\n         *       staticName: \"Details\",\n         *       objectType: \"Text\",\n         *       mappedName: \"details\",\n         *       readOnly:false\n         *   }\n     * ]\n     * </pre>\n     * @property {string} viewFields XML string defining each of the fields to include in all CRUD requests,\n     * generated when the Model.List is instantiated.\n     * <pre>\n     *     <ViewFields>...</ViewFields>\n     * </pre>\n     * @property {Field[]} fields Generated when the Model.List is instantiated.  Combines the standard\n     * default fields for all lists with the fields identified in the config.customFields and instantiates each\n     * with the Field constructor.\n     * @requires angularPoint.apListFactory\n     * @constructor\n     */\n    export class List implements IList {\n        customFields: IFieldDefinition[] = [];\n        environments: { [key: string]: string };\n        fields: IFieldDefinition[] = [];\n        guid: string;\n        isReady = false;\n        mapping: IListFieldMapping = {};\n        permissions: IUserPermissionsObject;\n        title: string;\n        viewFields: string;\n        WebFullUrl; //Only appears if extended from list definition\n        webURL: string;\n        constructor(config: IUninstantiatedList) {\n            this.webURL = apConfig.defaultUrl;\n            _.assign(this, config);\n            this.environments = this.environments || { production: this.guid };\n            this.extendFieldDefinitions();\n        }\n\n        /**\n         * @description\n         * 1. Populates the fields array which uses the Field constructor to combine the default\n         * SharePoint fields with those defined in the list definition on the model\n         * 2. Creates the list.viewFields XML string that defines the fields to be requested on a query\n         *\n         * @param {object} list Reference to the list within a model.\n         */\n        extendFieldDefinitions() {\n            //Clear out\n            this.viewFields = '';\n\n            /**\n            * Constructs the field\n            * - adds to viewField\n            * - create ows_ mapping\n            * @param fieldDefinition\n            */\n            var buildField = (fieldDefinition) => {\n                var field = new apFieldFactory.FieldDefinition(fieldDefinition);\n                this.fields.push(field);\n                this.viewFields += '<FieldRef Name=\"' + field.staticName + '\"/>';\n                this.mapping['ows_' + field.staticName] = {\n                    mappedName: field.mappedName,\n                    objectType: field.objectType\n                };\n            };\n\n            /** Open viewFields */\n            this.viewFields += '<ViewFields>';\n\n            /** Add the default fields */\n            _.each(apDefaultFields, (field) => buildField(field));\n\n            /** Add each of the fields defined in the model */\n            _.each(this.customFields, (field) => buildField(field));\n\n            /** Close viewFields */\n            this.viewFields += '</ViewFields>';\n        }\n\n        /**\n         * @ngdoc function\n         * @name List:extendPermissionsFromListItem\n         * @methodOf List\n         * @param {ListItem} listItem List item to use as sample of user's permisssions for list.\n         * @description\n         * If the user permissions haven't been resolved for the list, use the permissions from a\n         * sample list item and assume they're the same for the entire list\n         * @returns {IUserPermissionsObject} Resolved permissions for the list item.\n         */\n        extendPermissionsFromListItem(listItem: ListItem<any>): IUserPermissionsObject {\n            if (!listItem) {\n                throw new Error('A valid list item is required in order to extend list permissions.');\n            }\n            this.permissions = listItem.resolvePermissions();\n            return this.permissions;\n        }\n\n\n        /**\n         * @ngdoc function\n         * @name List:getListId\n         * @methodOf List\n         * @description\n         * Defaults to list.guid.  For a multi-environment setup, we accept a list.environments object with a property for each named\n         * environment with a corresponding value of the list guid.  The active environment can be selected\n         * by setting apConfig.environment to the string name of the desired environment.\n         * @returns {string} List ID.\n         */\n        getListId(): string {\n            if (_.isString(this.environments[apConfig.environment])) {\n                /**\n                 * For a multi-environment setup, we accept a list.environments object with a property for each named\n                 * environment with a corresponding value of the list guid.  The active environment can be selected\n                 * by setting apConfig.environment to the string name of the desired environment.\n                 */\n                return this.environments[apConfig.environment];\n            } else {\n                throw new Error('There isn\\'t a valid environment definition for apConfig.environment=' + apConfig.environment + '  ' +\n                    'Please confirm that the list \"' + this.title + '\" has the necessary environmental configuration.');\n            }\n        }\n\n        /**\n         * @ngdoc function\n         * @name List:identifyWebURL\n         * @methodOf List\n         * @description\n         * If a list is extended, use the provided webURL, otherwise use list.webURL.  If never set it will default\n         * to apConfig.defaultUrl.\n         * @returns {string} webURL param.\n         */\n        identifyWebURL(): string {\n            return this.WebFullUrl ? this.WebFullUrl : this.webURL;\n        }\n\n\n    }\n\n\n    /**\n     * @ngdoc service\n     * @name angularPoint.apListFactory\n     * @description\n     * Exposes the List prototype and a constructor to instantiate a new List.\n     *\n     * @property {constructor} List The List constructor.\n     *\n     * @requires angularPoint.apConfig\n     * @requires angularPoint.apDefaultFields\n     * @requires angularPoint.apFieldFactory\n     */\n    export class ListFactory {\n        List = List;\n        static $inject = ['apConfig', 'apDefaultFields', 'apFieldFactory'];\n        constructor(_apConfig_, _apDefaultFields_, _apFieldFactory_) {\n\n            apConfig = _apConfig_;\n            apDefaultFields = _apDefaultFields_;\n            apFieldFactory = _apFieldFactory_;\n\n        }\n\n        /**\n         * @ngdoc function\n         * @name angularPoint.apListFactory:create\n         * @methodOf angularPoint.apListFactory\n         * @param {object} config Options object.\n         * @description\n         * Instantiates and returns a new List.\n         */\n        create(config) {\n            return new List(config);\n        }\n    }\n\n\n    angular.module('angularPoint')\n        .service('apListFactory', ListFactory);\n\n\n}\n","/// <reference path=\"../app.module.ts\" />\n\nmodule ap {\n    'use strict';\n\n    let $q: ng.IQService, apCacheService: CacheService, apDataService: DataService, apDecodeService: DecodeService,\n        apEncodeService: EncodeService, apUtilityService: UtilityService, apConfig: IAPConfig,\n        apListItemVersionFactory: ListItemVersionFactory, apChangeService: ChangeService;\n\n    // raw list item before passed into constructor function\n    export interface IUninstantiatedListItem {\n        author: IUser;\n        created: Date;\n        editor: IUser;\n        fileRef: ILookup<any>;\n        id: number;\n        modified: Date;\n        permMask: string;\n        uniqueId: string;\n        [key: string]: any;\n    }\n\n    // standard uninstantiated list item with helper methods required to instantiate with model factory\n    export interface IUninstantiatedExtendedListItem<T extends ListItem<any>> extends IUninstantiatedListItem {\n        getCache: () => IndexedCache<T>;\n        getQuery: () => IQuery<T>;\n    }\n\n\n    /**\n     * @ngdoc object\n     * @name ListItem\n     * @description\n     * Base prototype which all list items inherit from.  All methods can be accessed through this prototype so all CRUD\n     * functionality can be called directly from a given list item.\n     * @constructor\n     */\n    export class ListItem<T extends ListItem<any>> implements IUninstantiatedExtendedListItem<T> {\n        author: IUser;\n        created: Date;\n        editor: IUser;\n        fileRef: ILookup<T>;\n        getCache: () => IndexedCache<T>;\n        getModel: <M extends Model>() => M;\n        getPristine: () => IUninstantiatedListItem;\n        getQuery: () => IQuery<T>;\n        id: number;\n        modified: Date;\n        permMask: string;\n        uniqueId: string;\n        private preDeleteAction: () => boolean;\n        private preSaveAction: () => boolean;\n        private postSaveAction: () => void;\n\n\n        /**\n         * @ngdoc function\n         * @name ListItem.changes\n         * @description\n         * Checks a given list item compared to its pristine state and retuns a field change summary\n         * with information on any significant changes to non-readonly fields.\n         * @returns {FieldChangeSummary<T>} Change summary of all fields that have been modified\n         * since last save.\n         */\n        changes(): FieldChangeSummary<T> {\n            //Instantiate a copy of the original list item for comparrison\n            let pristineListItem = _.cloneDeep<{ id: number }>(this.getPristine());\n            if (!pristineListItem) {\n                throw new Error('Could not retrieve a pristine version of this list item.');\n            }\n            //Remove id so when we instantiate we don't register in cache\n            pristineListItem.id = undefined;\n            //Need to instantiate using the same factory as the current list item\n            let factory: IModelFactory = this.constructor;\n            let instantiatedPristineListItem = new factory(pristineListItem);\n\n            return new apListItemVersionFactory.FieldChangeSummary(this, instantiatedPristineListItem);\n        }\n\n        /**\n         * @ngdoc function\n         * @name ListItem.deleteAttachment\n         * @description\n         * Delete an attachment from a list item.\n         * @param {string} url Requires the URL for the attachment we want to delete.\n         * @returns {object} Promise which resolves with the updated attachment collection.\n         * @example\n         * <pre>\n         * $scope.deleteAttachment = function (attachment) {\n         *     let confirmation = window.confirm(\"Are you sure you want to delete this file?\");\n         *     if (confirmation) {\n         *         scope.listItem.deleteAttachment(attachment).then(function () {\n         *             alert(\"Attachment successfully deleted\");\n         *         });\n         *     }\n         * };\n         * </pre>\n         */\n        deleteAttachment(url: string): ng.IPromise<any> {\n\n            return apDataService.serviceWrapper({\n                operation: 'DeleteAttachment',\n                filterNode: 'Field',\n                listItemID: this.id,\n                url,\n                listName: this.getListId()\n            });\n        }\n\n\n        /**\n         * @ngdoc function\n         * @name ListItem.deleteItem\n         * @description\n         * Deletes record directly from the object and removes record from user cache.\n         * @returns {object} Promise which really only lets us know the request is complete.\n         * @example\n         * ```\n         * <ul>\n         *    <li ng-repeat=\"task in tasks\">\n         *        {{task.title}} <a href ng-click=\"task.deleteItem()>delete</a>\n         *    </li>\n         * </ul>\n         * ```\n         * List of tasks.  When the delete link is clicked, the list item item is removed from the local cache and\n         * the view is updated to no longer show the task.\n         */\n        deleteItem(): ng.IPromise<any> {\n            let listItem = this;\n            let model = listItem.getModel();\n            let deferred = $q.defer();\n\n            let config = {\n                operation: 'UpdateListItems',\n                listName: model.getListId(),\n                batchCmd: 'Delete',\n                ID: listItem.id,\n                valuePairs: undefined,\n                webURL: model.list.identifyWebURL()\n            };\n\n            if (_.isFunction(listItem.preDeleteAction) && !listItem.preDeleteAction()) {\n                //preDeleteAction exists but returned false so we don't delete\n                deferred.reject('Pre-Delete Action Returned False');\n            } else {\n\n                /** Check to see if list item or document because documents need the FileRef as well as id to delete */\n                if (listItem.fileRef && listItem.fileRef.lookupValue) {\n                    let fileExtension = listItem.fileRef.lookupValue.split('.').pop();\n                    if (_.isNaN(fileExtension)) {\n                        /** File extension instead of numeric extension so it's a document\n                         * @Example\n                         * Document: \"Site/library/file.csv\"\n                         * List Item: \"Site/List/5_.000\"\n                         * */\n                        config.valuePairs = [['FileRef', listItem.fileRef.lookupValue]];\n\n                    }\n                }\n\n                apDataService.serviceWrapper(config)\n                    .then((response) => {\n                        /** Optionally broadcast change event */\n                        apUtilityService.registerChange(model, 'delete', listItem.id);\n\n                        /** Success */\n                        apCacheService.deleteEntity(config.listName, listItem.id);\n\n                        deferred.resolve(response);\n                    })\n                    .catch((err) => {\n                        //In the event of an error, display toast\n                        let msg = 'There was an error deleting list item ' + listItem.id + ' from ' + model.list.title +\n                            ' due to the following Error: ' + err;\n                        deferred.reject(msg);\n                    });\n            }\n\n            return deferred.promise;\n        }\n\n\n        /**\n         * @ngdoc function\n         * @name ListItem.getAttachmentCollection\n         * @description\n         * Requests all attachments for a given list item.\n         * @returns {object} Promise which resolves with all attachments for a list item.\n         * @example\n         * <pre>\n         * //Pull down all attachments for the current list item\n         * let fetchAttachments = function (listItem) {\n         *     listItem.getAttachmentCollection()\n         *         .then(function (attachments) {\n         *             scope.attachments = attachments;\n         *         });\n         * };\n         * </pre>\n         */\n        getAttachmentCollection(): ng.IPromise<string[]> {\n            let listItem = this;\n            return apDataService.getCollection({\n                operation: 'GetAttachmentCollection',\n                listName: listItem.getListId(),\n                webURL: listItem.getList().webURL,\n                ID: listItem.id,\n                filterNode: 'Attachment'\n            });\n        }\n\n\n        /**\n         * @ngdoc function\n         * @name ListItem.getAvailableWorkflows\n         * @description\n         * Wrapper for apDataService.getAvailableWorkflows.  Simply passes the current item in.\n         * @returns {promise} Array of objects defining each of the available workflows.\n         */\n        getAvailableWorkflows(): ng.IPromise<IWorkflowDefinition[]> {\n            let listItem = this;\n            return apDataService.getAvailableWorkflows(listItem.fileRef.lookupValue);\n        }\n\n\n        /**\n         * @ngdoc function\n         * @name ListItem.getChanges\n         * @description\n         * Wrapper for model.getListItemById.  Queries server for any changes and extends the existing\n         * list item with those changes.\n         * @returns {promise} Promise which resolves with the updated list item.\n         */\n        getChanges(): ng.IPromise<T> {\n            let model = this.getModel();\n            return model.getListItemById(this.id);\n        }\n\n\n        /**\n         * @ngdoc function\n         * @name ListItem.getChangeSummary\n         * @description\n         * Uses ListItem.getVersionHistory and determines what information changed between each list item\n         * version.\n         * @param {string[]} [fieldNames] An array/single string of field names on the list item to fetch a version\n         * history for.\n         * @returns {ng.IPromise<ChangeSummary<T>>} Promise which resolves with an array of list item versions.\n         * @example\n         * Assuming we have a modal form where we want to display each version of the title and project fields\n         * of a given list item.\n         * <pre>\n         * myGenericListItem.getChangeSummary(['title', 'project'])\n         *     .then(function(changeSummary: ChangeSummary) {\n         *            // We now have an array of every version of these fields\n         *            vm.changeSummary = changeSummary;\n         *      };\n         * </pre>\n         */\n        getChangeSummary(fieldNames?: string[]): ng.IPromise<ChangeSummary<T>> {\n            return this.getVersionHistory(fieldNames)\n                .then((versionHistoryCollection: VersionHistoryCollection<T>) => versionHistoryCollection.generateChangeSummary());\n        }\n\n        /**\n         * @ngdoc function\n         * @name ListItem.getFieldChoices\n         * @param {string} fieldName Internal field name.\n         * @description\n         * Uses the field definition defined in the model to attempt to find the choices array for a given Lookup or\n         * MultiLookup type field.  The default value is fieldDefinition.choices which can optionally be added to a\n         * given field definition.  If this isn't found, we check fieldDefinition.Choices which is populated after a\n         * GetListItemsSinceToken operation or a Model.extendListMetadata operation.  Finally if that isn't available\n         * we return an empty array.\n         * @returns {string[]} An array of choices for a Choice or MultiChoice type field.\n         */\n        getFieldChoices(fieldName: string): string[] {\n            let listItem = this;\n            let fieldDefinition = listItem.getFieldDefinition(fieldName);\n            return fieldDefinition.choices || fieldDefinition.Choices || [];\n        }\n\n\n        /**\n         * @ngdoc function\n         * @name ListItem.getFieldDefinition\n         * @description\n         * Returns the field definition from the definitions defined in the custom fields array within a model.\n         * @example\n         * <pre>\n         * let project = {\n         *    title: 'Project 1',\n         *    location: {\n         *        lookupId: 5,\n         *        lookupValue: 'Some Building'\n         *    }\n         * };\n         *\n         * //To get field metadata\n         * let locationDefinition = project.getFieldDefinition('location');\n         * </pre>\n         * @param {string} fieldName Internal field name.\n         * @returns {object} Field definition.\n         */\n        getFieldDefinition(fieldName: string): IFieldDefinition {\n            let listItem = this;\n            return listItem.getModel().getFieldDefinition(fieldName);\n        }\n\n\n        /**\n         * @ngdoc function\n         * @name ListItem.getFieldDescription\n         * @param {string} fieldName Internal field name.\n         * @description\n         * Uses the field definition defined in the model to attempt to find the description for a given field.  The default\n         * value is fieldDefinition.Description which is populated after a GetListItemsSinceToken operation or a\n         * Model.extendListMetadata operation.  If this isn't available we look for an optional attribute of a field\n         * fieldDefinition.description.  Finally if that have anything it returns an empty string.\n         * @returns {string} The description for a given field object.\n         */\n        getFieldDescription(fieldName: string): string {\n            let listItem = this;\n            let fieldDefinition = listItem.getFieldDefinition(fieldName);\n            return fieldDefinition.description || fieldDefinition.Description || '';\n        }\n\n\n        /**\n         * @ngdoc function\n         * @name ListItem.getFieldLabel\n         * @param {string} fieldName Internal field name.\n         * @description\n         * Uses the field definition defined in the model to attempt to find the label for a given field.  The default\n         * value is fieldDefinition.label.  If not available it will then use fieldDefinition.DisplayName which is\n         * populated after a GetListItemsSinceToken operation or a Model.extendListMetadata operation.  If this isn't\n         * available it will fallback to the the fieldDefinition.DisplayName which is a best guess at converting the\n         * caml case version of the mapped name using apUtilityService.fromCamelCase.\n         * @returns {string} The label for a given field object.\n         */\n        getFieldLabel(fieldName: string): string {\n            let listItem = this;\n            let fieldDefinition = listItem.getFieldDefinition(fieldName);\n            return fieldDefinition.label || fieldDefinition.DisplayName || fieldDefinition.displayName;\n        }\n\n\n        /**\n         * @ngdoc function\n         * @name ListItem.getFormattedValue\n         * @description\n         * Given the attribute name on a listItem, we can lookup the field type and from there return a formatted\n         * string representation of that value.\n         * @param {string} fieldName Attribute name on the object that contains the value to stringify.\n         * @param {object} [options] Pass through to apFormattedFieldValueService.getFormattedFieldValue or any\n         * custom method specified on the field definition.\n         * @returns {string} Formatted string representing the field value.\n         */\n        getFormattedValue(fieldName: string, options?: Object): string {\n            let listItem = this;\n            let fieldDefinition = listItem.getFieldDefinition(fieldName);\n            if (!fieldDefinition) {\n                throw new Error(`A field definition for a field named ${fieldName} wasn't found.`);\n            }\n            return fieldDefinition.getFormattedValue(this, options);\n        }\n\n\n        /**\n         * @ngdoc function\n         * @name ListItem.getList\n         * @description\n         * Abstraction to allow logic in model to be used instead of defining the list location in more than one place.\n         * @returns {object} List for the list item.\n         */\n        getList(): List {\n            let model: Model = this.getModel();\n            return model.getList();\n        }\n\n\n        /**\n         * @ngdoc function\n         * @name ListItem.getListId\n         * @description\n         * Allows us to reference the list ID directly from the list item.  This is added to the\n         * model.factory prototype in apModelFactory.\n         * @returns {string} List ID.\n         */\n        getListId(): string {\n            let model = this.getModel();\n            return model.getListId();\n        }\n\n\n        /**\n         * @ngdoc function\n         * @name ListItem.getLookupReference\n         * @description\n         * Allows us to retrieve the listItem being referenced in a given lookup field.\n         * @param {string} fieldName Name of the lookup property on the list item that references a listItem.\n         * @param {number} [lookupId=listItem.fieldName.lookupId] The listItem.lookupId of the lookup object.  This allows us to also use this logic\n         * on a multi-select by iterating over each of the lookups.\n         * @example\n         * <pre>\n         * let project = {\n         *    title: 'Project 1',\n         *    location: {\n         *        lookupId: 5,\n         *        lookupValue: 'Some Building'\n         *    }\n         * };\n         *\n         * //To get the location listItem\n         * let listItem = project.getLookupReference('location');\n         * </pre>\n         * @returns {object} The listItem the lookup is referencing or undefined if not in the cache.\n         */\n        getLookupReference<T2 extends ListItem<any>>(fieldName: string, lookupId?: number): T2 {\n            let listItem = this;\n            let lookupReference;\n            if (_.isUndefined(fieldName)) {\n                throw new Error('A field name is required.');\n            } else if (_.isEmpty(listItem[fieldName])) {\n                lookupReference = '';\n            } else {\n                let model = listItem.getModel();\n                let fieldDefinition = model.getFieldDefinition(fieldName);\n                /** Ensure the field definition has the List attribute which contains the GUID of the list\n                 *  that a lookup is referencing. */\n                if (fieldDefinition && fieldDefinition.List) {\n                    let targetId = lookupId || listItem[fieldName].lookupId;\n                    lookupReference = apCacheService.getCachedEntity(fieldDefinition.List, targetId);\n                } else {\n                    throw new Error(`This isn't a valid Lookup field or the field definitions need to be extended\n                        before we can complete this request.`);\n                }\n            }\n            return lookupReference;\n\n        }\n\n\n        /**\n         * @ngdoc function\n         * @name ListItem.getVersionHistory\n         * @description\n         * Takes an array of field names, finds the version history for field, and returns a snapshot of the object at each\n         * version.  If no fields are provided, we look at the field definitions in the model and pull all non-readonly\n         * fields.  The only way to do this that I've been able to get working is to get the version history for each\n         * field independently and then build the history by combining the server responses for each requests into a\n         * snapshot of the object.  Each version has the standard modified date but also includes a version property with\n         * the version number.\n         * @param {string[]} [properties] An array of property names on the list item\n         * that we're interested in.\n         * @returns {ng.IPromise<VersionHistoryCollection<T>>} Promise which resolves with an object with keys=version\n         * and values = ListItemVersion.\n         * @example\n         * Assuming we have a modal form where we want to display each version of the title and project fields\n         * of a given list item.\n         * <pre>\n         * myGenericListItem.getVersionHistory(['title', 'project'])\n         *     .then(function(versionHistory) {\n         *            // We now have an array of every version of these fields\n         *            vm.versionHistory = versionHistory;\n         *      })\n         *      .catch(function(err) {\n         *          // Do something with the error\n         *      });\n         * </pre>\n         */\n        getVersionHistory(properties?: string[]): ng.IPromise<VersionHistoryCollection<T>> {\n            let listItem = this;\n            let model = listItem.getModel();\n            let promiseArray = [];\n\n            if (properties && !_.isArray(properties)) throw new Error('Properties are required to be formatted as an array of strings.');\n\n            if (!properties) {\n                /** If fields aren't provided, pull the version history for all NON-readonly fields */\n                let targetFields = _.where(model.list.fields, { readOnly: false });\n                properties = _.map<IFieldDefinition, string>(targetFields, 'mappedName');\n            }\n\n            /** Generate promises for each field */\n            _.each(properties, (prop) => {\n                let promise = createPromise(prop);\n                promiseArray.push(promise);\n            });\n\n            /** Pause until all requests are resolved */\n            return $q.all(promiseArray)\n                .then((fieldVersionCollections: FieldVersionCollection[]) => {\n                    let versionHistoryCollection = new apListItemVersionFactory.VersionHistoryCollection<T>(fieldVersionCollections, model.factory);\n                    return versionHistoryCollection;\n                });\n\n            /** Constructor that creates a promise for each field */\n            function createPromise(prop: string) {\n\n                let fieldDefinition = listItem.getFieldDefinition(prop);\n\n                let payload = {\n                    operation: 'GetVersionCollection',\n                    strListID: model.getListId(),\n                    strListItemID: listItem.id,\n                    strFieldName: fieldDefinition.staticName,\n                    webURL: undefined\n                };\n\n                /** Manually set site url if defined, prevents SPServices from making a blocking call to fetch it. */\n                if (apConfig.defaultUrl) {\n                    payload.webURL = apConfig.defaultUrl;\n                }\n\n                return apDataService.getFieldVersionHistory<T>(payload, fieldDefinition);\n            }\n        }\n\n        /**\n         * @ngdoc function\n         * @name ListItem.isPristine\n         * @description\n         * Determines if a list item has changed since it was instantiated.\n         * @returns {boolean} The list item is unchanged.\n         */\n        isPristine() {\n            return !this.changes().hasMajorChanges;\n        }\n\n\n        /**\n         * @ngdoc function\n         * @name ListItem.prototype.registerPreDeleteAction\n         * @param {Function} action Function that accepts no arguments and returns a boolean determining if delete can continue.\n         * @returns {Function} Function that can be called to unregister.\n         * @description\n         * Register a function on the list item prototype that is executed prior to deleting.  Good use case\n         * is to perform cleanup prior to deleting or determining if user can delete.  Method returns boolean and if\n         * true delete will continue, otherwise delete is prevented. There is no ListItem.registerPostDeleteAction because\n         * the list item no longer exists.\n         *\n         * @example\n         * <pre>\n         * //In example projectsModel.ts\n         *  export class Project extends ap.ListItem<Project>{\n         *      title: string;\n         *      users: User[];\n         *      ...some other expected attributes\n         *      constructor(obj) {\n         *          super(obj);\n         *          _.assign(this, obj);\n         *      }\n         *  }\n         *\n         *  let unregister = Project.prototype.registerPreDeleteAction(function() {\n         *      //Do some validation here and return true if user can delete\n         *      //otherwise return false to prevent delete action\n         *  });\n         *\n         *  //At some point in the future if no longer necessary\n         *  unregister();\n         *\n         * </pre>\n         */\n        registerPreDeleteAction(action: () => boolean): () => void {\n            this.preDeleteAction = action;\n            //Return function to unregister\n            return () => this.preDeleteAction = undefined;\n        }\n\n\n        /**\n         * @ngdoc function\n         * @name ListItem.prototype.registerPreSaveAction\n         * @param {Function} action Function that accepts no arguments and returns a boolean determining is save can continue.\n         * @returns {Function} Function that can be called to unregister.\n         * @description\n         * Register a function on the list item prototype that is executed prior to saving.  Good use case\n         * is to validate list item or perform cleanup prior to saving.  Method returns boolean and if\n         * true save will continue, otherwise save is prevented.\n         *\n         * @example\n         * <pre>\n         * //In example projectsModel.ts\n         *  export class Project extends ap.ListItem<Project>{\n         *      title: string;\n         *      users: User[];\n         *      ...some other expected attributes\n         *      constructor(obj) {\n         *          super(obj);\n         *          _.assign(this, obj);\n         *      }\n         *  }\n         *\n         *  let unregister = Project.prototype.registerPreSaveAction(function() {\n         *      //Do some validation here and return true if user can save\n         *      //otherwise return false to prevent save action\n         *  });\n         *\n         *  //At some point in the future if no longer necessary\n         *  unregister();\n         *\n         * </pre>\n         */\n        registerPreSaveAction(action: () => boolean): () => void {\n            this.preSaveAction = action;\n            //Return function to unregister\n            return () => this.preSaveAction = undefined;\n        }\n\n        /**\n         * @ngdoc function\n         * @name ListItem.prototype.registerPostSaveAction\n         * @param {Function} action Callback function that accepts no arguments, returns nothing, and is called\n         * after a list item has completed saving.\n         * @returns {Function} Function that can be called to unregister.\n         * @description\n         * Register a function on the model prototype that is executed after saving.  Good use case\n         * is to perform cleanup after save.\n         *\n         * @example\n         * <pre>\n         * //In example projectsModel.ts\n         *  export class Project extends ap.ListItem<Project>{\n         *      title: string;\n         *      users: User[];\n         *      ...some other expected attributes\n         *      constructor(obj) {\n         *          super(obj);\n         *          _.assign(this, obj);\n         *      }\n         *  }\n         *\n         *  let unregister = Project.prototype.registerPostSaveAction(function() {\n         *      //Use this method to perform any cleanup after save event\n         *      //for any list item of this type\n         *  });\n         *\n         *  //At some point in the future if no longer necessary\n         *  unregister();\n         *\n         * </pre>\n         */\n        registerPostSaveAction(action: () => void): () => void {\n            this.postSaveAction = action;\n            //Return function to unregister\n            return () => delete this.postSaveAction;\n        }\n\n\n        /**\n         * @ngdoc function\n         * @name ListItem.resolvePermissions\n         * @description\n         * See apModelService.resolvePermissions for details on what we expect to have returned.\n         * @returns {Object} Contains properties for each permission level evaluated for current user.\n         * @example\n         * Lets assume we're checking to see if a user has edit rights for a given task list item.\n         * <pre>\n         * let canUserEdit = function(task) {\n         *      let userPermissions = task.resolvePermissions();\n         *      return userPermissions.EditListItems;\n         * };\n         * </pre>\n         * Example of what the returned object would look like\n         * for a site admin.\n         * <pre>\n         * userPermissions = {\n         *    \"ViewListItems\": true,\n         *    \"AddListItems\": true,\n         *    \"EditListItems\": true,\n         *    \"DeleteListItems\": true,\n         *    \"ApproveItems\": true,\n         *    \"OpenItems\": true,\n         *    \"ViewVersions\": true,\n         *    \"DeleteVersions\": true,\n         *    \"CancelCheckout\": true,\n         *    \"PersonalViews\": true,\n         *    \"ManageLists\": true,\n         *    \"ViewFormPages\": true,\n         *    \"Open\": true,\n         *    \"ViewPages\": true,\n         *    \"AddAndCustomizePages\": true,\n         *    \"ApplyThemeAndBorder\": true,\n         *    \"ApplyStyleSheets\": true,\n         *    \"ViewUsageData\": true,\n         *    \"CreateSSCSite\": true,\n         *    \"ManageSubwebs\": true,\n         *    \"CreateGroups\": true,\n         *    \"ManagePermissions\": true,\n         *    \"BrowseDirectories\": true,\n         *    \"BrowseUserInfo\": true,\n         *    \"AddDelPrivateWebParts\": true,\n         *    \"UpdatePersonalWebParts\": true,\n         *    \"ManageWeb\": true,\n         *    \"UseRemoteAPIs\": true,\n         *    \"ManageAlerts\": true,\n         *    \"CreateAlerts\": true,\n         *    \"EditMyUserInfo\": true,\n         *    \"EnumeratePermissions\": true,\n         *    \"FullMask\": true\n         * }\n         * </pre>\n         */\n        resolvePermissions(): IUserPermissionsObject {\n            return apUtilityService.resolvePermissions(this.permMask);\n        }\n\n\n        /**\n         * @ngdoc function\n         * @name ListItem.saveChanges\n         * @description\n         * Updates record directly from the object\n         * @param {object} [options] Optionally pass params to the data service.\n         * @param {boolean} [options.updateAllCaches=false] Search through the cache for each query to ensure listItem is\n         * updated everywhere.  This is more process intensive so by default we only update the cached listItem in the\n         * cache where this listItem is currently stored.\n         * @returns {object} Promise which resolved with the updated list item from the server.\n         * @example\n         * <pre>\n         * // Example of save function on a fictitious\n         * // app/modules/tasks/TaskDetailsCtrl.js modal form.\n         * $scope.saveChanges = function(task) {\n         *      task.saveChanges().then(function() {\n         *          // Successfully saved so we can do something\n         *          // like close form\n         *\n         *          }, function() {\n         *          // Failure\n         *\n         *          });\n         * }\n         * </pre>\n         */\n        saveChanges({ target = this.getCache ? this.getCache() : new IndexedCache<T>(), valuePairs, buildValuePairs = true } = {}): ng.IPromise<T> {\n            let listItem = this;\n            let model = listItem.getModel();\n            let deferred = $q.defer();\n\n\n            let config = {\n                batchCmd: 'Update',\n                buildValuePairs,\n                ID: listItem.id,\n                listName: model.getListId(),\n                operation: 'UpdateListItems',\n                target,\n                valuePairs,\n                webURL: model.list.identifyWebURL()\n            }\n\n            if (_.isFunction(listItem.preSaveAction) && !listItem.preSaveAction()) {\n                //preSaveAction exists but returned false so we don't save\n                deferred.reject('Pre-Save Action Returned False');\n            } else {\n                //Either no preSaveAction registered or it passed validation\n\n                /** Redirect if the request is actually creating a new list item.  This can occur if we create\n                 * an empty item that is instantiated from the model and then attempt to save instead of using\n                 * model.addNewItem */\n                if (!listItem.id) {\n                    return model.addNewItem(listItem, { target, valuePairs, buildValuePairs });\n                }\n\n                if (buildValuePairs === true) {\n                    let editableFields = _.filter(model.list.fields, { readOnly: false });\n                    config.valuePairs = apEncodeService.generateValuePairs(editableFields, listItem);\n                }\n\n                let request = apDataService.serviceWrapper(config)\n                    .then((response: XMLDocument) => {\n                        var indexedCache = apDecodeService.processListItems<T>(model, listItem.getQuery(), response, config);\n\n                        //Identify updated list item\n                        let updatedListItem = indexedCache.get(listItem.id);\n\n                        /** Optionally broadcast change event */\n                        apUtilityService.registerChange(model, 'update', updatedListItem.id);\n\n                        //Optionally perform any post save cleanup if registered\n                        if (_.isFunction(listItem.postSaveAction)) {\n                            listItem.postSaveAction();\n                        };\n\n                        //Resolve with the updated list item\n                        deferred.resolve(updatedListItem);\n                    });\n\n                    /** Notify change service to expect a request, only useful at this point when working offline */\n                    apChangeService.registerListItemUpdate<T>(listItem, config, deferred.promise);\n\n\n            }\n\n            return deferred.promise;\n        }\n\n\n        /**\n         * @ngdoc function\n         * @name ListItem.saveFields\n         * @description\n         * Saves a named subset of fields back to SharePoint.  This is an alternative to saving all fields.\n         * @param {string[]} fieldArray Array of internal field names that should be saved to SharePoint.\n         * @param {object} [options] Optionally pass params to the data service.\n         * @returns {object} Promise which resolves with the updated list item from the server.\n         * @example\n         * <pre>\n         * // Example of saveFields function on a fictitious\n         * // app/modules/tasks/TaskDetailsCtrl.js modal form.\n         * // Similar to saveChanges but instead we only save\n         * // specified fields instead of pushing everything.\n         * $scope.updateStatus = function(task) {\n         *      task.saveFields(['status', 'notes'])\n         *          .then(function(updatedListItem) {\n         *              // Successfully updated the status and\n         *              // notes fields for the given task\n         *\n         *          })\n         *          .catch(function(err) {\n         *              // Failure to update the field\n         *\n         *          });\n         * }\n         * </pre>\n         */\n        saveFields(fieldArray: string[], { target = this.getCache ? this.getCache() : new IndexedCache<T>() } = {}): ng.IPromise<T> {\n\n            let listItem = this;\n            let model = listItem.getModel();\n            let definitions:IFieldDefinition[] = [];\n            let fieldName: string[];\n\n            if (_.isString(fieldArray)) {\n                console.warn('Field names should be an array of strings instead of a single string.  This will be deperecated.');\n            }\n            /** Allow a string to be passed in to save a single field */\n            let fieldNames = _.isString(fieldArray) ? [fieldArray] : fieldArray;\n\n            /** Find the field definition for each of the requested fields */\n            for (let fieldName of fieldNames) {\n                let match = _.find(model.list.customFields, { mappedName: fieldName });\n                if (match) {\n                    definitions.push(match);\n                }\n            }\n\n            /** Generate value pairs for specified fields */\n            let valuePairs = apEncodeService.generateValuePairs(definitions, listItem);\n\n            return this.saveChanges({\n                buildValuePairs: false,\n                target,\n                valuePairs\n            });\n        }\n\n\n        /**\n         * @ngdoc function\n         * @name ListItem.setPristine\n         * @param {ListItem} [listItem] Optionally pass list item object back to the list item constructor to\n         * run any initialization logic.  Otherwise we just overwrite existing values on the object with a copy from the\n         * original object.\n         * @description\n         * Resets all list item properties back to a pristine state but doesn't update any properties added\n         * manually to the list item.\n         */\n        setPristine(listItem?: ListItem<any>): void {\n            if (!this.id || !_.isFunction(this.getPristine)) {\n                throw new Error('Unable to find the pristine state for this list item.');\n            }\n            let pristineState = this.getPristine();\n\n            if (listItem) {\n                listItem.constructor(pristineState);\n            } else {\n                _.assign(this, pristineState);\n            }\n        }\n\n\n        /**\n         * @ngdoc function\n         * @name ListItem.startWorkflow\n         * @description\n         * Given a workflow name or templateId we initiate a given workflow using apDataService.startWorkflow.\n         * @param {object} options Params for method and pass through options to apDataService.startWorkflow.\n         * @param {string} [options.templateId] Used to directly start the workflow without looking up the templateId.\n         * @param {string} [options.workflowName] Use this value to lookup the templateId and then start the workflow.\n         * @returns {promise} Resolves with server response.\n         */\n        startWorkflow(options: IStartWorkflowParams): ng.IPromise<any> {\n            let listItem = this,\n                deferred = $q.defer();\n\n            /** Set the relative file reference */\n            options.fileRef = listItem.fileRef.lookupValue;\n\n            if (!options.templateId && !options.workflowName) {\n                throw new Error('Either a templateId or workflowName is required to initiate a workflow.');\n            } else if (options.templateId) {\n                /** The templateId is already provided so we don't need to look for it */\n                initiateRequest();\n            } else {\n                /** We first need to get the template GUID for the workflow */\n                listItem.getAvailableWorkflows()\n                    .then((workflows) => {\n                        let targetWorklow = _.findWhere(workflows, { name: options.workflowName });\n                        if (!targetWorklow) {\n                            throw new Error(`A workflow with the name ${options.workflowName} wasn't found.  The workflows available are [${_.map(workflows, 'name').toString() }].`);\n                        }\n                        /** Create an extended set of options to pass any overrides to apDataService */\n                        options.templateId = targetWorklow.templateId;\n                        initiateRequest();\n                    });\n            }\n\n            return deferred.promise;\n\n            function initiateRequest() {\n                apDataService.startWorkflow(options)\n                    .then((xmlResponse) => {\n                        deferred.resolve(xmlResponse);\n                    });\n            }\n        }\n\n\n        /**\n         * @ngdoc function\n         * @name ListItem.validateEntity\n         * @description\n         * Helper function that passes the current item to Model.validateEntity\n         * @returns {boolean} Evaluation of validity.\n         */\n        validateEntity(): boolean {\n            let listItem = this,\n                model = listItem.getModel();\n            return model.validateEntity(listItem);\n        }\n\n    }\n\n\n    /** In the event that a factory isn't specified, just use a\n     * standard constructor to allow it to inherit from ListItem */\n    export class StandardListItem {\n        constructor(obj?: Object) {\n            _.assign(this, obj);\n        }\n    }\n\n    /**\n     * @ngdoc object\n     * @name apListItemFactory\n     * @description\n     * Exposes the ListItem prototype and a constructor to instantiate a new ListItem.\n     * See [ListItem](#/api/ListItem) for details of the methods available on the prototype.\n     *\n     * @requires ListItem\n     * @requires apCacheService\n     * @requires apDataService\n     * @requires apUtilityService\n     */\n\n    export class ListItemFactory {\n        ListItem = ListItem;\n        static $inject = ['$q', 'apCacheService', 'apChangeService', 'apConfig', 'apDataService', 'apDecodeService', 'apEncodeService', 'apUtilityService', 'apListItemVersionFactory'];\n\n        constructor(_$q_, _apCacheService_, _apChangeService_, _apConfig_, _apDataService_, _apDecodeService_, _apEncodeService_, _apUtilityService_, _apListItemVersionFactory_) {\n            $q = _$q_;\n            apCacheService = _apCacheService_;\n            apChangeService = _apChangeService_;\n            apConfig = _apConfig_;\n            apDataService = _apDataService_;\n            apDecodeService = _apDecodeService_;\n            apEncodeService = _apEncodeService_;\n            apUtilityService = _apUtilityService_;\n            apListItemVersionFactory = _apListItemVersionFactory_;\n        }\n\n        /**\n         * @ngdoc function\n         * @name apListItemFactory: create\n         * @methodOf apListItemFactory\n         * @description\n         * Instantiates and returns a new ListItem.\n         */\n        create<T extends ListItem<any>>(): ListItem<T> {\n            return new ListItem<T>();\n        }\n\n        /**\n         * @ngdoc function\n         * @name apListItemFactory: createGenericFactory\n         * @methodOf apListItemFactory\n         * @description\n         * In the event that a factory isn't specified, just use a\n         * standard constructor to allow it to inherit from ListItem\n         */\n        createGenericFactory() {\n            return new StandardListItem();\n        }\n\n    }\n\n    angular\n        .module('angularPoint')\n        .service('apListItemFactory', ListItemFactory);\n}\n","/// <reference path=\"../app.module.ts\" />\n\nmodule ap {\n    'use strict';\n\n    export interface IListItemVersions<T extends ListItem<any>> extends ListItem<T> {\n        [key: number]: IListItemVersion<T>;\n    }\n\n    export interface IListItemVersion<T extends ListItem<any>> extends ListItem<T> {\n        modified: Date;\n        version: number;\n        [key: string]: any;\n    }\n\n    export interface IFieldVersion {\n        editor: IUser;\n        modified: Date;\n        value: any;\n        version: number;\n    }\n\n    /**\n     * @ngdoc object\n     * @name apListItemVersionFactory.FieldVersionCollection\n     * @param {FieldDefinition} fieldDefinition Field definition of each version of the field added.\n     * @description\n     * Object that contains the entire version history for a given list item field/property.\n     */\n    export class FieldVersionCollection {\n        fieldDefinition: IFieldDefinition;\n        versions: { [key: number]: IFieldVersion } = {};\n\n        constructor(fieldDefinition: IFieldDefinition) {\n            this.fieldDefinition = fieldDefinition;\n        }\n        /**\n        * @ngdoc object\n        * @name apListItemVersionFactory.FieldVersionCollection.addVersion\n        * @methodOf apListItemVersionFactory.FieldVersionCollection\n        * @param {IUser} editor User who made the change.\n        * @param {Date} modified Date modified.\n        * @param {any} value Value of the field at this version.\n        * @param {number} version The version number.\n        * @description\n        * Used to add a single version to the collection.\n        */\n        addVersion(editor: IUser, modified: Date, value: any, version: number): void {\n            this.versions[version] = {\n                editor,\n                modified,\n                value,\n                version\n            };\n        }\n\n        get mappedName() {\n            return this.fieldDefinition.mappedName;\n        }\n\n        get length() {\n            return _.keys(this.versions).length;\n        }\n    }\n\n    class FieldChange {\n        fieldName: string;\n        newerVersion: IListItemVersion<any>;\n        newValue: string;\n        oldValue: string;\n        previousVersion: IListItemVersion<any>;\n        propertyName: string;\n\n        constructor(propertyName: string, fieldDefinition: IFieldConfigurationObject, newerVersion: IListItemVersion<any>, previousVersion: IListItemVersion<any> = {}) {\n\n            this.fieldName = fieldDefinition.displayName;\n            this.newerVersion = newerVersion;\n            /** Need to set property name before calling this.getFormattedValue */\n            this.propertyName = propertyName;\n\n            this.newValue = this.getFormattedValue(newerVersion);\n            this.oldValue = this.getFormattedValue(previousVersion);\n            this.previousVersion = previousVersion;\n        }\n\n        getFormattedValue(version: IListItemVersion<any>): string {\n            var propertyValue = '';\n            if (version.getFormattedValue) {\n                propertyValue = version.getFormattedValue(this.propertyName);\n            }\n            return propertyValue;\n        }\n    }\n\n    /**\n     * @ngdoc object\n     * @name apListItemVersionFactory.FieldChangeSummary\n     * @param {ListItem<T>} newerVersion Updated version of list item.\n     * @param {ListItem<T>} [previousVersion={}] Previous version of list item.\n     * @description\n     * Generates a snapshot between 2 versions of a list item and locates diferences.\n     */\n    export class FieldChangeSummary<T extends ListItem<any>>{\n        changeCount: number;\n        fieldsChanged: { [key: string]: FieldChange; } = {};\n        constructor(newerVersion: ListItem<T>, previousVersion: ListItem<T> | Object = {}) {\n            /** Loop through each of the properties on the newer list item */\n            _.each(newerVersion, (val, propertyName) => {\n                var fieldDefinition = newerVersion.getFieldDefinition(propertyName);\n                /** Only log non-readonly fields that aren't the same */\n                if (fieldDefinition && !fieldDefinition.readOnly &&\n                    JSON.stringify(newerVersion[propertyName]) !== JSON.stringify(previousVersion[propertyName])) {\n\n                    let fieldChange = new FieldChange(propertyName, fieldDefinition, newerVersion, previousVersion);\n                    if (fieldChange.newValue !== fieldChange.oldValue) {\n                        /** This field has changed */\n                        this.fieldsChanged[propertyName] = fieldChange;\n                    }\n                }\n            });\n            this.changeCount = _.keys(this.fieldsChanged).length;\n        }\n        get hasMajorChanges(): boolean {\n            return _.isNumber(this.changeCount) && this.changeCount > 0;\n        }\n    }\n\n    /**\n     * @ngdoc object\n     * @name apListItemVersionFactory.VersionSummary\n     * @param {IListItemVersion<T>} newerVersion Updated version of list item.\n     * @param {IListItemVersion<T>} [previousVersion={}] Previous version of list item.\n     * @description\n     * Used specifically to determine difference between 2 distinct versions of a list item using the\n     * version history.  Extends FieldChangeSummary.\n     */\n    export class VersionSummary<T extends ListItem<any>> extends FieldChangeSummary<T> {\n        listItemVersion: IListItemVersion<any>;\n        version: number;\n        constructor(newerVersion: IListItemVersion<T>, previousVersion: IListItemVersion<T> | Object = {}) {\n            super(newerVersion, previousVersion);\n            this.listItemVersion = newerVersion;\n            this.version = newerVersion.version;\n        }\n\n        get editor() {\n            return this.listItemVersion.editor;\n        }\n\n        get modified() {\n            return this.listItemVersion.modified;\n        }\n    }\n\n\n    /**\n     * @ngdoc object\n     * @name apListItemVersionFactory.ChangeSummary\n     * @param {IListItemVersions} versions Multiple versions of a list item.\n     * @description\n     * Used to summarize all changes for a given list item.\n     */\n    export class ChangeSummary<T extends ListItem<any>> {\n        /** The number of versions where list item data actually changed */\n        significantVersionCount = 0;\n        private versionSummaryCollection: { [key: number]: VersionSummary<T> } = {};\n\n        constructor(versions: IListItemVersions<T>) {\n            /** First version won't have a previous version */\n            var previousVersion;\n            _.each(versions, (version: IListItemVersion<T>) => {\n                var versionSummary = new VersionSummary<T>(version, previousVersion);\n                if (versionSummary.hasMajorChanges) {\n                    this.significantVersionCount++;\n                }\n                this.versionSummaryCollection[versionSummary.version] = versionSummary;\n                /** Store this version so we can compare to the next version */\n                previousVersion = version;\n            });\n        }\n        //Use getter in case we need to alter the way we store this in future\n        get changes() {\n            return this.versionSummaryCollection;\n        }\n        count(): number {\n            return _.keys(this.versionSummaryCollection).length;\n        }\n        toArray(): VersionSummary<T>[] {\n            return _.toArray<any>(this.versionSummaryCollection);\n        }\n    }\n\n    export class VersionHistoryCollection<T extends ListItem<any>> {\n        [key: number]: IListItemVersion<T>;\n        // getFactory: () => IModelFactory;\n        constructor(fieldVersionCollections: FieldVersionCollection[], factory: IModelFactory) {\n            /** Iterate through each of the field version collections */\n            _.each(fieldVersionCollections, (fieldVersionCollection) => {\n                this.addFieldCollection(fieldVersionCollection, factory);\n            });\n        }\n\n        addFieldCollection(fieldVersionCollection: FieldVersionCollection, factory: IModelFactory): void {\n            /** Iterate through each version of this field */\n            _.each(fieldVersionCollection.versions, (fieldVersion: IFieldVersion, versionNumberAsString: string) => {\n                /** Create a new version object if it doesn't already exist */\n                this[versionNumberAsString] = this[versionNumberAsString] || new factory<T>({\n                    editor: fieldVersion.editor,\n                    modified: fieldVersion.modified,\n                    /** Iterating over object properties which converts everything to string so convert back */\n                    version: parseInt(versionNumberAsString)\n                });\n                /** Add field to the version history for this version with computed property name */\n                this[versionNumberAsString][fieldVersionCollection.mappedName] = fieldVersion.value\n            });\n        }\n\n        count(): number {\n            return _.keys(this).length;\n        }\n\n        generateChangeSummary(): ChangeSummary<T> {\n            return new ChangeSummary<T>(this);\n        }\n\n        toArray(): IListItemVersion<T>[] {\n            return _.toArray<IListItemVersion<T>>(this);\n        }\n    }\n\n    export class ListItemVersionFactory {\n        ChangeSummary = ChangeSummary;\n        FieldChangeSummary = FieldChangeSummary;\n        FieldVersionCollection = FieldVersionCollection;\n        VersionHistoryCollection = VersionHistoryCollection;\n        VersionSummary = VersionSummary;\n    }\n\n    /**\n    * @ngdoc function\n    * @name apListItemVersionFactory\n    * @description\n    * Factory which handles parsing list item versions and identifying changes.\n    *\n    */\n    angular.module('angularPoint')\n        .service('apListItemVersionFactory', ListItemVersionFactory);\n\n\n}\n","/// <reference path=\"../app.module.ts\" />\n\nmodule ap {\n    'use strict';\n\n    let $q: ng.IQService, apUtilityService: UtilityService;\n\n    /** Lookup referencing a ListItem of the specified type.  The \"lookupId\"\"\n     * will be the same as the referenced <T>.id.  The \"lookupValue\"\" by default\n     * should be the <T>.title but it can be changed to another text field\n     * in the SharePoint list settings for this list. Only the lookupValue is\n     * required and will be sent to the server when saving.  The lookupValue is\n     * ignored.  */\n    export interface ILookup<T> {\n        lookupValue: string;\n        lookupId: number;\n    }\n\n    /**\n     * @ngdoc function\n     * @name Lookup\n     * @description\n     * Allows for easier distinction when debugging if object type is shown as either Lookup or User.  Also allows us\n     * to create an async request for the entity being referenced by the lookup\n     * @param {string} s String to split into lookupValue and lookupId\n     * @param {object} options Contains a reference to the parent list item and the property name.\n     * @param {object} options.entity Reference to parent list item.\n     * @param {object} options.propertyName Key on list item object.\n     * @constructor\n     */\n    export class Lookup<T> implements ILookup<T> {\n        lookupId: number;\n        lookupValue: string;\n\n        constructor(str: string, options) {\n            let thisLookup = new apUtilityService.SplitIndex(str);\n            this.lookupId = thisLookup.id;\n            this.lookupValue = thisLookup.value || '';\n        }\n    }\n\n\n    export class LookupFactory {\n        static $inject = ['$q', 'apUtilityService'];\n        Lookup = Lookup;\n\n        constructor(_$q_, _apUtilityService_) {\n            $q = _$q_;\n            apUtilityService = _apUtilityService_;\n        }\n\n        /**\n         * @ngdoc function\n         * @name angularPoint.apLookupFactory:create\n         * @methodOf angularPoint.apLookupFactory\n         * @description\n         * Instantiates and returns a new Lookup field.\n         */\n        create<T>(str: string, options) {\n            return new Lookup<T>(str, options);\n        }\n    }\n\n    /**\n     * @ngdoc function\n     * @name angularPoint.apLookupFactory\n     * @description\n     * Tools to assist with the creation of CAML queries.\n     */\n    angular.module('angularPoint')\n        .service('apLookupFactory', LookupFactory);\n\n\n}\n","/// <reference path=\"../app.module.ts\" />\n\nmodule ap {\n    'use strict';\n\n    let apCacheService: CacheService, apDataService: DataService, apListFactory: ListFactory,\n        apQueryFactory: QueryFactory, apUtilityService: UtilityService,\n        apFieldService: FieldService, apConfig: IAPConfig, apIndexedCacheFactory: IndexedCacheFactory,\n        apDecodeService: DecodeService, apEncodeService: EncodeService, $q: ng.IQService;\n\n    export interface IUninitializedModel {\n        factory: IModelFactory;\n        list: IUninstantiatedList;\n        [key: string]: any;\n    }\n\n    export interface IQueriesContainer {\n        getAllListItems?: IQuery<any>;\n        [key: string]: IQuery<any>;\n    }\n\n    export interface IModelFactory {\n        new <T extends ListItem<any>>(rawObject: Object): T;\n    }\n\n    interface IMockDataOptions {\n        permissionLevel?: string;\n        quantity?: number;\n    }\n\n    interface ICreateListItemOptions<T extends ListItem<any>> {\n        buildValuePairs?: boolean;\n        indexedCache?: IndexedCache<T>;\n        getCache?: () => IndexedCache<T>;\n        valuePairs?: [string, any][];\n    }\n    /**\n     * @ngdoc function\n     * @name Model\n     * @description\n     * Model Constructor\n     * Provides the Following\n     * - adds an empty \"data\" array\n     * - adds an empty \"queries\" object\n     * - adds a deferred obj \"ready\"\n     * - builds \"model.list\" with constructor\n     * - adds \"getAllListItems\" function\n     * - adds \"addNewItem\" function\n     * @param {object} config Object containing optional params.\n     * @param {object} [config.factory = apListItemFactory.createGenericFactory()] - Constructor function for\n     * individual list items.\n     * @param {boolean} [config.fieldDefinitionsExtended=false] Queries using the GetListItemChangesSinceToken\n     * operation return the full list definition along with the requested entities.  The first time one of these\n     * queries is executed we will try to extend our field definitions defined in the model with the additional\n     * information provided from the server.  Examples are options for a Choice field, display name of the field,\n     * field description, and any other field information provided for the fields specified in the model.  This\n     * flag is set once the first query is complete so we don't process again.\n     * @param {object} config.list - Definition of the list in SharePoint.\n     * be passed to the list constructor to extend further\n     * @param {string} config.list.title - List name, no spaces.  Offline XML file will need to be\n     * named the same (ex: CustomList so xml file would be apConfig.offlineXML + '/CustomList.xml')\n     * @param {string} config.list.getListId() - Unique SharePoint ID (ex: '{3DBEB25A-BEF0-4213-A634-00DAF46E3897}')\n     * @param {object[]} config.list.customFields - Maps SharePoint fields with names we'll use within the\n     * application.  Identifies field types and formats accordingly.  Also denotes if a field is read only.\n     * @constructor\n     *\n     * @example\n     * <pre>\n     * //Taken from a fictitious projectsModel.ts\n     *\n     * export class ProjectsModel extends ap.Model {\n     *      constructor() {\n     *          super({\n     *              factory: Project,\n     *              list: {\n     *                  guid: '{PROJECT LIST GUID}',\n     *                  title: 'Projects',\n     *                  customFields: [\n     *                      {\n     *                         staticName: 'Title',\n     *                         objectType: 'Text',\n     *                         mappedName: 'title',\n     *                         readOnly: false\n     *                      },\n     *                      {\n     *                         staticName: 'Customer',\n     *                         objectType: 'Lookup',\n     *                         mappedName: 'customer',\n     *                         readOnly: false\n     *                      },\n     *                      {\n     *                         staticName: 'ProjectDescription',\n     *                         objectType: 'Text',\n     *                         mappedName: 'projectDescription',\n     *                         readOnly: false\n     *                      },\n     *                      {\n     *                         staticName: 'Status',\n     *                         objectType: 'Text',\n     *                         mappedName: 'status',\n     *                         readOnly: false\n     *                      },\n     *                      {\n     *                         staticName: 'TaskManager',\n     *                         objectType: 'User',\n     *                         mappedName: 'taskManager',\n     *                         readOnly: false\n     *                      },\n     *                      {\n     *                         staticName: 'ProjectGroup',\n     *                         objectType: 'Lookup',\n     *                         mappedName: 'group',\n     *                         readOnly: false\n     *                      },\n     *                      {\n     *                         staticName: 'CostEstimate',\n     *                         objectType: 'Currency',\n     *                         mappedName: 'costEstimate',\n     *                         readOnly: false\n     *                      },\n     *                      {\n     *                         staticName: 'Active',\n     *                         objectType: 'Boolean',\n     *                         mappedName: 'active',\n     *                         readOnly: false\n     *                      },\n     *                      {\n     *                         staticName: 'Attachments',\n     *                         objectType: 'Attachments',\n     *                         mappedName: 'attachments',\n     *                         readOnly: true\n     *                      }\n     *                  ]\n     *              }\n     *          });\n     *\n     *          var model = this;\n     *\n     *          //Any other model setup\n     *      }\n     *      someExposedModelMethod() {\n     *          this.dosomething...\n     *      }\n     *\n     *   }\n     * </pre>\n     */\n    export class Model {\n        data = [];\n        deferredListDefinition;\n        list: List;\n        factory: IModelFactory;\n        fieldDefinitionsExtended: boolean = false;\n        lastServerUpdate: Date;\n        queries: IQueriesContainer = {};\n        requestForFieldDefinitions;\n        constructor(config: IUninitializedModel) {\n\n            /** Assign all properties of config to the model */\n            _.assign(this, config);\n\n            /** Allow us to reference the model directly from the list item's factory prototype */\n            this.factory.prototype.getModel = () => this;\n\n            /** Use list constructor to instantiate valid list */\n            this.list = new List(this.list);\n\n            /** Register cache name with cache service so we can map factory name with list GUID */\n            apCacheService.registerModel(this);\n\n            /** Convenience querys that simply returns all list items within a list. */\n            this.registerQuery({\n                name: '__getAllListItems',\n                operation: 'GetListItems'\n            });\n\n            /** Get a single list item from a list, primarily used to quickly identify user\n             *  permissions on list using the ows_PermMask property.  List items can have unique permissions\n             *  so can't rely on this 100% to correctly resolve list permissions.  In the case where that is\n             *  necessary you will need to use a similar query using GetListItemChangesSinceToken method which\n             *  will take longer but will correctly resolve the list permissions. */\n            this.registerQuery({\n                name: '__sample',\n                operation: 'GetListItems',\n                rowLimit: 1\n            });\n\n        }\n\n        /**\n         * @ngdoc function\n         * @name Model.addNewItem\n         * @module Model\n         * @description\n         * Using the definition of a list stored in a model, create a new list item in SharePoint.\n         * @param {object} entity An object that will be converted into key/value pairs based on the field definitions\n         * defined in the model.\n         * @param {object} [options] - Pass additional options to the data service.\n         * @param {boolean} [options.buildValuePairs=true] Automatically generate pairs based on fields defined in model.\n         * @param {object} [options.indexedCache=apIndexedCacheFactory.create({})] Optionally place new item in a specified cache.\n         * @param {Array[]} [options.valuePairs] Precomputed value pairs to use instead of generating them for each\n         * field identified in the model.\n         * @returns {ng.IPromise<T>} A promise which when resolved will returned the newly created list item from there server.\n         * This allows us to update the view with a valid new object that contains a unique list item id.\n         *\n         * @example\n         * <pre>\n         * <file name=\"app/modules/project/projectsModel.js\">\n         * projectModel.addNewItem({\n         *        title: 'A Project',\n         *        customer: {lookupValue: 'My Customer', lookupId: 123},\n         *        description: 'This is the project description'\n         *     }).then(function(newEntityFromServer) {\n         *         //The local query cache is automatically updated but\n         *         //any other dependent logic can go here\n         * };\n         * </file>\n         * </pre>\n         */\n        addNewItem<T extends ListItem<any>>(entity: ListItem<T>, {\n            buildValuePairs = true,\n            indexedCache = apIndexedCacheFactory.create({}),\n            valuePairs = []\n        }: ICreateListItemOptions<T> = {}): ng.IPromise<T> {\n\n            var config = {\n                batchCmd: 'New',\n                buildValuePairs,\n                listName: this.getListId(),\n                //Method gets added onto new list item and allows access to parent cache\n                getCache: () => indexedCache,\n                indexedCache,\n                operation: 'UpdateListItems',\n                target: indexedCache,\n                valuePairs,\n                webURL: this.list.identifyWebURL()\n            };\n\n            if (entity.id) {\n                throw new Error('Cannot add a new list item that already has an ID. ' + JSON.stringify(entity, null, 2));\n            }\n\n            if (config.buildValuePairs === true) {\n                let editableFields: IFieldDefinition[] = _.filter(this.list.fields, { readOnly: false });\n                config.valuePairs = apEncodeService.generateValuePairs(editableFields, entity);\n            }\n\n            /** Overload the function then pass anything past the first parameter to the supporting methods */\n            return apDataService.serviceWrapper(config)\n                .then((response) => {\n                    /** Online this should return an XML object */\n                    let indexedCache = apDecodeService.processListItems(this, config, response, config);\n\n                    /** Last listItem in cache is new because it has the highest id */\n                    let newListItem = indexedCache.last();\n\n                    /** Optionally broadcast change event */\n                    apUtilityService.registerChange(this, 'create', newListItem.id);\n\n                    /** Return reference to last listItem in cache because it will have the new highest id */\n                    return newListItem;\n                })\n                .catch((err) => {\n                    throw new Error('Unable to create new list item.  Err:' + err);\n                    return err;\n                })\n\n        }\n\n\n        /**\n         * @ngdoc function\n         * @name Model.createEmptyItem\n         * @module Model\n         * @description\n         * Creates an object using the editable fields from the model, all attributes are empty based on the field\n         * type unless an overrides object is passed in.  The overrides object extends the defaults.  A benefit to this\n         * approach is the returned object inherits from the ListItem prototype so we have the ability to call\n         * entity.saveChanges instead of calling the model.addNewItem(entity).\n         *\n         * @param {object} [overrides] - Optionally extend the new empty item with specific values.\n         * @returns {object} Newly created list item.\n         */\n        createEmptyItem<T extends ListItem<any>>(overrides?: Object): T {\n            var model = this;\n            var newItem = {};\n            _.each(model.list.customFields, (fieldDefinition) => {\n                /** Create attributes for each non-readonly field definition */\n                if (!fieldDefinition.readOnly) {\n                    /** Create an attribute with the expected empty value based on field definition type */\n                    newItem[fieldDefinition.mappedName] = apFieldService.getDefaultValueForType(fieldDefinition.objectType);\n                }\n            });\n            /** Extend any values that should override the default empty values */\n            var rawObject = _.assign({}, newItem, overrides);\n            return new model.factory<T>(rawObject);\n        }\n\n        /**\n         * @ngdoc function\n         * @name Model.executeQuery\n         * @module Model\n         * @description\n         * The primary method for retrieving data from a query registered on a model.  It returns a promise\n         * which resolves to the local cache after post processing entities with constructors.\n         *\n         * @param {string} [queryName=apConfig.defaultQueryName] A unique key to identify this query\n         * @param {object} [options] Pass options to the data service.\n         * @returns {object} Promise that when resolves returns an array of list items which inherit from ListItem and\n         * optionally go through a defined constructor on the model.\n         *\n         * @example To call the query or check for changes since the last call.\n         * <pre>\n         * projectModel.executeQuery('MyCustomQuery').then(function(entities) {\n         *      //We now have a reference to array of entities stored in the local cache\n         *      //These inherit from the ListItem prototype as well as the Project prototype on the model\n         *      $scope.subsetOfProjects = entities;\n         *  });\n         * </pre>\n         */\n        executeQuery<T extends ListItem<any>>(queryName?: string, options?: Object): ng.IPromise<IndexedCache<T>> {\n            var model = this;\n            var query = model.getQuery(queryName);\n            if (query) {\n                return query.execute(options);\n            }\n        }\n\n\n        /**\n         * @ngdoc function\n         * @name Model.extendListMetadata\n         * @module Model\n         * @description\n         * Extends the List and Fields with list information returned from the server.  Only runs once and after that\n         * returns the existing promise.\n         * @returns {ng.IPromise<Model>} Promise that is resolved with the extended model.\n         */\n        extendListMetadata(): ng.IPromise<Model> {\n            var model = this,\n                deferred = $q.defer()\n\n            /** Only request information if the list hasn't already been extended and is not currently being requested */\n            if (!model.deferredListDefinition) {\n                /** All Future Requests get this */\n                model.deferredListDefinition = deferred.promise;\n\n                let getListAction = apDataService.getList({\n                    listName: model.getListId(),\n                    webURL: model.getList().webURL\n                });\n\n                /** We can potentially have 2 seperate requests for data so store them in array so we can wait until\n                 * all are resolved. */\n                let promiseArray = [getListAction];\n\n                /** Add a request for a sample list item to the server requests if we haven't\n                 * already resolved user permissions for the list. */\n                if (!model.getList().permissions) {\n                    /** Permissions not set yet, when the query is resolved with a sample list item\n                     * the query class will use the permMask from the list item to set the temp permissions\n                     * for the list until a time where we can run a GetListItemChangesSinceToken request and\n                     * set the actual permissions. */\n                    promiseArray.push(model.executeQuery('__sample'));\n                }\n\n                $q.all(promiseArray)\n                    .then((resolvedPromises) => {\n                        apDecodeService.extendListMetadata(model, resolvedPromises[0]);\n                        deferred.resolve(model);\n                    });\n\n            }\n            return model.deferredListDefinition;\n        }\n\n        /**\n         * @ngdoc function\n         * @name Model.generateMockData\n         * @module Model\n         * @description\n         * Generates 'n' mock records for testing using the field types defined in the model to provide something to visualize.\n         *\n         * @param {object} [options] Object containing optional parameters.\n         * @param {number} [options.quantity=10] The requested number of mock records to return.\n         * @param {string} [options.permissionLevel=FullMask] Sets the mask on the mock records to simulate desired\n         * permission level.\n         * @param {boolean} [options.staticValue=false] By default all mock data is dynamically created but if set,\n         * this will cause static data to be used instead.\n         */\n        generateMockData<T extends ListItem<any>>(options?: IMockDataOptions): T[] {\n            var mockData = [],\n                model = this;\n\n            var defaults = {\n                quantity: 10,\n                staticValue: false,\n                permissionLevel: 'FullMask'\n            };\n\n            /** Extend defaults with any provided options */\n            var opts: IMockDataOptions = _.assign({}, defaults, options);\n\n            _.times(opts.quantity, (count) => {\n                var mock = {\n                    id: count + 1\n                };\n                /** Create an attribute with mock data for each field */\n                _.each(model.list.fields, (field: IFieldDefinition) => {\n                    mock[field.mappedName] = field.getMockData(opts);\n                });\n\n                /** Use the factory on the model to extend the object */\n                mockData.push(new model.factory<T>(mock));\n            });\n            return mockData;\n        }\n\n        /**\n         * @ngdoc function\n         * @name Model.getAllListItems\n         * @module Model\n         * @description\n         * Inherited from Model constructor\n         * Gets all list items in the current list, processes the xml, and caches the data in model.\n         * @returns {object} Promise returning all list items when resolved.\n         * @example\n         * <pre>\n         * //Taken from a fictitious projectsModel.js\n         * projectModel.getAllListItems().then(function(entities) {\n         *     //Do something with all of the returned entities\n         *     $scope.projects = entities;\n         * };\n         * </pre>\n         */\n        getAllListItems<T extends ListItem<any>>(): ng.IPromise<IndexedCache<T>> {\n            var model = this;\n            return model.executeQuery('__getAllListItems');\n        }\n\n        /**\n         * @ngdoc function\n         * @name Model.getCache\n         * @module Model\n         * @description\n         * Helper function that return the local cache for a named query if provided, otherwise\n         * it returns the cache for the primary query for the model.  Useful if you know the query\n         * has already been resolved and there's no need to check SharePoint for changes.\n         *\n         * @param {string} [queryName=apConfig.defaultQueryName] A unique key to identify this query.\n         * @returns {IndexedCache<T>} Returns the contents of the current cache for a named query.\n         *\n         * @example\n         * <pre>\n         * var primaryQueryCache = projectModel.getCache();\n         * </pre>\n         *\n         * <pre>\n         * var primaryQueryCache = projectModel.getCache('primary');\n         * </pre>\n         *\n         * <pre>\n         * var namedQueryCache = projectModel.getCache('customQuery');\n         * </pre>\n         */\n        getCache<T extends ListItem<any>>(queryName?: string): IndexedCache<T> {\n            var model = this, query, cache;\n            query = model.getQuery(queryName);\n            if (query && query.indexedCache) {\n                cache = query.indexedCache;\n            }\n            return cache;\n        }\n\n        /**\n         * @ngdoc function\n         * @name Model.getCachedEntities\n         * @module Model\n         * @description\n         * Returns all entities registered for this model regardless of query.\n         * @returns {IndexedCache<T>} All registered entities for this model.\n         */\n        getCachedEntities<T extends ListItem<any>>(): IndexedCache<T> {\n            var model = this;\n            return apCacheService.getCachedEntities<T>(model.getListId());\n        }\n\n\n        /**\n         * @ngdoc function\n         * @name Model.getCachedEntity\n         * @module Model\n         * @description\n         * Attempts to locate a model listItem by id.\n         * @param {number} listItemId The ID of the requested listItem.\n         * @returns {object} Returns either the requested listItem or undefined if it's not found.\n         */\n        getCachedEntity<T extends ListItem<any>>(listItemId: number): T {\n            var model = this;\n            return apCacheService.getCachedEntity<T>(model.getListId(), listItemId);\n        }\n\n\n        /**\n         * @ngdoc function\n         * @name Model.getFieldDefinition\n         * @module Model\n         * @description\n         * Returns the field definition from the definitions defined in the custom fields array within a model.\n         * <pre>\n         * var project = {\n         *    title: 'Project 1',\n         *    location: {\n         *        lookupId: 5,\n         *        lookupValue: 'Some Building'\n         *    }\n         * };\n         *\n         * //To get field metadata\n         * var locationDefinition = projectsModel.getFieldDefinition('location');\n         * </pre>\n         * @param {string} fieldName Internal field name.\n         * @returns {object} Field definition.\n         */\n        getFieldDefinition(fieldName: string): IFieldDefinition {\n            var model = this;\n            return _.find(model.list.fields, { mappedName: fieldName });\n        }\n\n\n        /**\n         * @ngdoc function\n         * @name ListItem.getList\n         * @description\n         * Allows us to reference the list definition directly from the list item.  This is added to the\n         * model.factory prototype in apModelFactory.  See the [List](#/api/List) documentation for more info.\n         * @returns {object} List for the list item.\n         */\n        getList(): List {\n            return this.list;\n        }\n\n\n        /**\n         * @ngdoc function\n         * @name ListItem.getListId\n         * @description\n         * Allows us to reference the list ID directly from the model.\n         * @returns {string} List ID.\n         */\n        getListId(): string {\n            return this.getList().getListId();\n        }\n\n\n        /**\n         * @ngdoc function\n         * @name Model.getListItemById\n         * @param {number} listItemId Id of the item being requested.\n         * @param {object} options Used to override apDataService defaults.\n         * @description\n         * Inherited from Model constructor\n         * Attempts to retrieve the requested list item from the server.\n         * @returns {object} Promise that resolves with the requested list item if found.  Otherwise it returns undefined.\n         * @example\n         * <pre>\n         * //Taken from a fictitious projectsModel.js\n         * projectModel.getListItemById(12).then(function(listItem) {\n         *     //Do something with the located listItem\n         *     $scope.project = listItem;\n         * };\n         * </pre>\n         */\n        getListItemById<T extends ListItem<any>>(listItemId: number, options?: Object): ng.IPromise<T> {\n            var model = this,\n                /** Unique Query Name */\n                queryKey = 'GetListItemById-' + listItemId;\n\n            /** Register a new Query if it doesn't already exist */\n            if (!model.getQuery(queryKey)) {\n                var defaults = {\n                    name: queryKey,\n                    operation: 'GetListItems',\n                    rowLimit: 1,\n                    CAMLQuery: '' +\n                    '<Query>' +\n                    ' <Where>' +\n                    '   <Eq>' +\n                    '     <FieldRef Name=\"ID\"/>' +\n                    '     <Value Type=\"Number\">' + listItemId + '</Value>' +\n                    '   </Eq>' +\n                    ' </Where>' +\n                    '</Query>'\n                };\n                /** Allows us to override defaults */\n                var opts = _.assign({}, defaults, options);\n                model.registerQuery(opts);\n            }\n\n            return model.executeQuery<T>(queryKey)\n                .then((indexedCache: IndexedCache<T>) => {\n                    /** Should return an indexed cache object with a single listItem so just return the requested listItem */\n                    return indexedCache.first();\n                });\n        }\n\n\n        /**\n         * @ngdoc function\n         * @name ListItem.getModel\n         * @description\n         * Allows us to reference the parent model directly from the list item.  This is added to the\n         * model.factory prototype in apModelFactory.  See the [List](#/api/List) documentation for more info.\n         * @returns {object} Model for the list item.\n         */\n        getModel(): Model {\n            return this;\n        }\n\n\n        /**\n         * @ngdoc function\n         * @name Model.getQuery\n         * @module Model\n         * @description\n         * Helper function that attempts to locate and return a reference to the requested or catchall query.\n         * @param {string} [queryName=apConfig.defaultQueryName] A unique key to identify this query.\n         * @returns {object} See Query prototype for additional details on what a Query looks like.\n         *\n         * @example\n         * <pre>\n         * var primaryQuery = projectModel.getQuery();\n         * </pre>\n         *\n         * <pre>\n         * var primaryQuery = projectModel.getQuery('primary');\n         * </pre>\n         *\n         * <pre>\n         * var namedQuery = projectModel.getQuery('customQuery');\n         * </pre>\n         */\n        getQuery<T extends ListItem<any>>(queryName: string): IQuery<T> {\n            var model = this, query;\n            if (_.isObject(model.queries[queryName])) {\n                /** The named query exists */\n                query = model.queries[queryName];\n            } else if (_.isObject(model.queries[apConfig.defaultQueryName]) && !queryName) {\n                /** A named query wasn't specified and the catchall query exists */\n                query = model.queries[apConfig.defaultQueryName];\n            } else {\n                /** Requested query not found */\n                query = undefined;\n            }\n            return query;\n        }\n\n\n\n        /**\n         * @ngdoc function\n         * @name Model.isInitialised\n         * @module Model\n         * @description\n         * Methods which allows us to easily determine if we've successfully made any queries this session.\n         * @returns {boolean} Returns evaluation.\n         */\n        isInitialised(): boolean {\n            var model = this;\n            return _.isDate(model.lastServerUpdate);\n        }\n\n\n        /**\n        * @ngdoc function\n        * @name Model.registerQuery\n        * @module Model\n        * @description\n        * Constructor that allows us create a static query with the option to build dynamic queries as seen in the\n        * third example.  This construct is a passthrough to [SPServices](http: //spservices.codeplex.com/)\n        * @param {object} queryOptions Initialization parameters.\n        * @param {boolean} [queryOptions.force=false] Ignore cached data and force server query.\n        * @param {number} [queryOptions.listItemID] Optionally request for a single list item by id.\n        * @param {boolean} [queryOptions.localStorage=false] Should we store data from this query in local storage to speed up requests in the future.\n        * @param {number} [queryOptions.localStorageExpiration=86400000] Set expiration in milliseconds - Defaults to a day\n        * and if set to 0 doesn't expire.  Can be updated globally using apConfig.localStorageExpiration.\n        * @param {string} [queryOptions.name=primary] The name that we use to identify this query.\n        * @param {string} [queryOptions.operation=GetListItemChangesSinceToken] Optionally use 'GetListItems' to\n        * receive a more efficient response, just don't have the ability to check for changes since the last time\n        * the query was called. Defaults to [GetListItemChangesSinceToken](http://msdn.microsoft.com/en-us/library/lists.lists.getlistitemchangessincetoken%28v=office.12%29.aspx)\n        * but for a smaller payload and faster response you can use [GetListItems](http: //spservices.codeplex.com/wikipage?title=GetListItems&referringTitle=Lists).\n        * @param {string} [queryOptions.query=Ordered ascending by ID] CAML query passed to SharePoint to control\n        * the data SharePoint returns. Josh McCarty has a good quick reference [here](http: //joshmccarty.com/2012/06/a-caml-query-quick-reference).\n        * @param {string} [queryOptions.queryOptions] SharePoint options xml as string.\n        * <pre>\n        * <QueryOptions>\n        *    <IncludeMandatoryColumns>FALSE</IncludeMandatoryColumns>\n        *    <IncludeAttachmentUrls>TRUE</IncludeAttachmentUrls>\n        *    <IncludeAttachmentVersion>FALSE</IncludeAttachmentVersion>\n        *    <ExpandUserField>FALSE</ExpandUserField>\n        * </QueryOptions>\n        * </pre>\n        * @param {string} [queryOptions.rowLimit] The number of list items to return, 0 returns all list items.\n        * @param {boolean} [queryOptions.runOnce] Pertains to GetListItems only, optionally run a single time and return initial value for all future\n        * calls.  Works well with data that isn't expected to change throughout the session but unlike localStorage or sessionStorage\n        * the data doesn't persist between sessions.\n        * @param {boolean} [queryOptions.sessionStorage=false] Use the browsers sessionStorage to cache the list items and uses the\n        * queryOptions.localStorageExpiration param to validate how long the cache is good for.\n        * @param {string} [queryOptions.viewFields] XML as string that specifies fields to return.\n        * @param {string} [queryOptions.webURL] Used to override the default URL if list is located somewhere else.\n        * @returns {object} Query Returns a new query object.\n        *\n        * @example\n        * <h4>Example #1</h4>\n        * <pre>\n        * // Query to retrieve the most recent 25 modifications\n        * model.registerQuery({\n        *    name: 'recentChanges',\n        *    rowLimit: 25,\n        *    query: '' +\n        *        '<Query>' +\n        *        '   <OrderBy>' +\n        *        '       <FieldRef Name=\"Modified\" Ascending=\"FALSE\"/>' +\n        *        '   </OrderBy>' +\n        *            //Prevents any records from being returned if user doesn't\n        *            // have permissions on project\n        *        '   <Where>' +\n        *        '       <IsNotNull>' +\n        *        '           <FieldRef Name=\"Project\"/>' +\n        *        '       </IsNotNull>' +\n        *        '   </Where>' +\n        *        '</Query>'\n        * });\n        * </pre>\n        *\n        * <h4>Example #2</h4>\n        * <pre>\n        * // Could be placed on the projectModel and creates the query but doesn't\n        * // call it.  Uses the session cache to make the initial call faster.\n        * projectModel.registerQuery({\n        *     name: 'primary',\n        *     sessionCache: true,\n        *     //Set an expiration value of 8 hours rather than use the default of 24\n        *     localStorageExpiration: 28800000,\n        *     query: '' +\n        *         '<Query>' +\n        *         '   <OrderBy>' +\n        *         '       <FieldRef Name=\"Title\" Ascending=\"TRUE\"/>' +\n        *         '   </OrderBy>' +\n        *         '</Query>'\n        * });\n        *\n        * //To call the query or check for changes since the last call\n        * projectModel.executeQuery('primary')\n        *   .then((entities) => {\n        *     // We now have a reference to array of entities stored in the local\n        *     // cache.  These inherit from the ListItem prototype as well as the\n        *     // Project prototype on the model\n        *     vm.projects = entities;\n        *   })\n        *   .catch((err) => {\n        *       //Handle error\n        *   })\n        * </pre>\n        *\n        * <h4>Example #3</h4>\n        * <pre>\n        * // Advanced functionality that would allow us to dynamically create\n        * // queries for list items with a lookup field associated with a specific\n        * // project id.  Let's assume this is on the projectTasksModel.\n        * model.queryByProjectId(projectId) {\n        *     // Unique query name\n        *     var queryKey = 'pid' + projectId;\n        *\n        *     // Register project query if it doesn't exist\n        *     if (!_.isObject(model.queries[queryKey])) {\n        *         model.registerQuery({\n        *             name: queryKey,\n        *             query: '' +\n        *                 '<Query>' +\n        *                 '   <OrderBy>' +\n        *                 '       <FieldRef Name=\"ID\" Ascending=\"TRUE\"/>' +\n        *                 '   </OrderBy>' +\n        *                 '   <Where>' +\n        *                 '       <And>' +\n        *                              // Prevents any records from being returned\n        *                              //if user doesn't have permissions on project\n        *                 '           <IsNotNull>' +\n        *                 '               <FieldRef Name=\"Project\"/>' +\n        *                 '           </IsNotNull>' +\n        *                              // Return all records for the project matching\n        *                              // param projectId\n        *                 '           <Eq>' +\n        *                 '               <FieldRef Name=\"Project\" LookupId=\"TRUE\"/>' +\n        *                 '               <Value Type=\"Lookup\">' + projectId + '</Value>' +\n        *                 '           </Eq>' +\n        *                 '       </And>' +\n        *                 '   </Where>' +\n        *                 '</Query>'\n        *         });\n        *     }\n        *     //Still using execute query but now we have a custom query\n        *     return model.executeQuery(queryKey);\n        * };\n        * </pre>\n        */\n        registerQuery<T extends ListItem<any>>(queryOptions: IQueryOptions): IQuery<T> {\n            var model = this;\n\n            var defaults = {\n                /** If name isn't set, assume this is the only model and designate as primary */\n                name: apConfig.defaultQueryName\n            };\n\n            queryOptions = _.assign({}, defaults, queryOptions);\n\n            model.queries[queryOptions.name] = apQueryFactory.create(queryOptions, model);\n\n            /** Return the newly created query */\n            return model.queries[queryOptions.name];\n        }\n\n\n        /**\n         * @ngdoc function\n         * @name Model.resolvePermissions\n         * @module Model\n         * @description\n         * See apModelFactory.resolvePermissions for details on what we expect to have returned.\n         * @returns {Object} Contains properties for each permission level evaluated for current user.\n         * @example\n         * Lets assume we're checking to see if a user has edit rights for a given list.\n         * <pre>\n         * var userPermissions = tasksModel.resolvePermissions();\n         * var userCanEdit = userPermissions.EditListItems;\n         * </pre>\n         * Example of what the returned object would look like\n         * for a site admin.\n         * <pre>\n         * perm = {\n            *    \"ViewListItems\": true,\n            *    \"AddListItems\": true,\n            *    \"EditListItems\": true,\n            *    \"DeleteListItems\": true,\n            *    \"ApproveItems\": true,\n            *    \"OpenItems\": true,\n            *    \"ViewVersions\": true,\n            *    \"DeleteVersions\": true,\n            *    \"CancelCheckout\": true,\n            *    \"PersonalViews\": true,\n            *    \"ManageLists\": true,\n            *    \"ViewFormPages\": true,\n            *    \"Open\": true,\n            *    \"ViewPages\": true,\n            *    \"AddAndCustomizePages\": true,\n            *    \"ApplyThemeAndBorder\": true,\n            *    \"ApplyStyleSheets\": true,\n            *    \"ViewUsageData\": true,\n            *    \"CreateSSCSite\": true,\n            *    \"ManageSubwebs\": true,\n            *    \"CreateGroups\": true,\n            *    \"ManagePermissions\": true,\n            *    \"BrowseDirectories\": true,\n            *    \"BrowseUserInfo\": true,\n            *    \"AddDelPrivateWebParts\": true,\n            *    \"UpdatePersonalWebParts\": true,\n            *    \"ManageWeb\": true,\n            *    \"UseRemoteAPIs\": true,\n            *    \"ManageAlerts\": true,\n            *    \"CreateAlerts\": true,\n            *    \"EditMyUserInfo\": true,\n            *    \"EnumeratePermissions\": true,\n            *    \"FullMask\": true\n            * }\n         * </pre>\n         */\n        resolvePermissions(): IUserPermissionsObject {\n            var model = this,\n                list = model.getList();\n            if (list && list.permissions) {\n                /** If request has been made to GetListItemChangesSinceToken we have already stored the\n                 * permission for this list. */\n                return list.permissions;\n            } else if (model.getCachedEntities().first()) {\n                /** Next option is to use the same permission as one of the\n                 * already cached list items for this model. */\n                return list.extendPermissionsFromListItem(model.getCachedEntities().first())\n            } else {\n                window.console.error('Attempted to resolve permissions of a model that hasn\\'t been initialized.', model);\n                return new ap.BasePermissionObject();\n            }\n        }\n\n        /**\n         * @ngdoc function\n         * @name Model.validateEntity\n         * @module Model\n         * @description\n         * Uses the custom fields defined in an model to ensure each field (required = true) is evaluated\n         * based on field type\n         * @param {object} listItem SharePoint list item.\n         * @returns {boolean} Evaluation of validity.\n         */\n        validateEntity<T extends ListItem<any>>(listItem: T): boolean {\n            var valid = true,\n                model = this;\n\n            var checkObject = (fieldValue) => {\n                return _.isObject(fieldValue) && _.isNumber(fieldValue.lookupId);\n            };\n\n            _.each(model.list.customFields, (fieldDefinition: IFieldDefinition) => {\n                var fieldValue = listItem[fieldDefinition.mappedName];\n                var fieldDescriptor = '\"' + fieldDefinition.objectType + '\" value.';\n                /** Only evaluate required fields */\n                if ((fieldDefinition.required || fieldDefinition.Required) && valid) {\n                    switch (fieldDefinition.objectType) {\n                        case 'Boolean':\n                            valid = _.isBoolean(fieldValue);\n                            break;\n                        case 'DateTime':\n                            valid = _.isDate(fieldValue);\n                            break;\n                        case 'Lookup':\n                        case 'User':\n                            valid = checkObject(fieldValue);\n                            break;\n                        case 'LookupMulti':\n                        case 'UserMulti':\n                            /** Ensure it's a valid array containing objects */\n                            valid = _.isArray(fieldValue) && fieldValue.length > 0;\n                            if (valid) {\n                                /** Additionally check that each lookup/person contains a lookupId */\n                                _.each(fieldValue, (fieldObject) => {\n                                    if (valid) {\n                                        valid = checkObject(fieldObject);\n                                    } else {\n                                        /** Short circuit */\n                                        return false;\n                                    }\n                                });\n                            }\n                            break;\n                        default:\n                            /** Evaluate everything else as a string */\n                            valid = !_.isEmpty(fieldValue);\n\n                    }\n                }\n                if (!valid) {\n                    return false;\n                }\n            });\n            return valid;\n        }\n    }\n\n    export class ModelFactory {\n        static $inject = ['$q', 'apCacheService', 'apConfig', 'apDataService', 'apDecodeService', 'apEncodeService', 'apFieldService', 'apIndexedCacheFactory', 'apListFactory', 'apQueryFactory', 'apUtilityService'];\n        Model = Model;\n        constructor(_$q_, _apCacheService_, _apConfig_, _apDataService_, _apDecodeService_, _apEncodeService_, _apFieldService_, _apIndexedCacheFactory_, _apListFactory_, _apQueryFactory_, _apUtilityService_) {\n\n            $q = _$q_;\n            apCacheService = _apCacheService_;\n            apConfig = _apConfig_;\n            apDataService = _apDataService_;\n            apDecodeService = _apDecodeService_;\n            apEncodeService = _apEncodeService_;\n            apFieldService = _apFieldService_;\n            apIndexedCacheFactory = _apIndexedCacheFactory_;\n            apListFactory = _apListFactory_;\n            apQueryFactory = _apQueryFactory_;\n            apUtilityService = _apUtilityService_;\n        }\n\n        create(config: IUninitializedModel) {\n            return new Model(config);\n        }\n\n    }\n\n\n\n    angular\n        .module('angularPoint')\n        .service('apModelFactory', ModelFactory);\n\n\n}\n","/// <reference path=\"../app.module.ts\" />\n\nmodule ap {\n    'use strict';\n\n    var $q: ng.IQService, apIndexedCacheFactory: IndexedCacheFactory, apConfig: IAPConfig, apDefaultListItemQueryOptions,\n        apDataService: DataService, apDecodeService: DecodeService, apLogger: Logger;\n\n    export interface IQueryOptions {\n        force?: boolean;\n        //Only relevant if requesting a single item\n        listItemID?: number;\n        localStorage?: boolean;\n        localStorageExpiration?: number;\n        name?: string;\n        /** GetListItemChangesSinceToken || GetListItems */\n        operation?: string;\n        query?: string;\n        queryOptions?: string;\n        //Returns all items if set to 0\n        rowLimit?: number;\n        runOnce?: boolean;\n        sessionStorage?: boolean;\n        viewFields?: string;\n        webURL?: string;\n    }\n\n    export interface IExecuteQueryOptions {\n        factory?: Function;\n        filter?: string;\n        mapping?: IListFieldMapping;\n        target?: IndexedCache<any>;\n        [key: string]: any;\n    }\n\n    export interface IQuery<T extends ListItem<any>> {\n        cacheXML?: boolean;\n        changeToken?: string;\n        execute(options?: Object): ng.IPromise<IndexedCache<T>>;\n        force: boolean;\n        getCache(): IndexedCache<T>;\n        getLocalStorage(): LocalStorageQuery;\n        getModel(): Model;\n        hydrateFromLocalStorage(localStorageQuery: LocalStorageQuery): void;\n        indexedCache: IndexedCache<T>;\n        initialized: ng.IDeferred<IndexedCache<T>>\n        lastRun: Date;\n        listItemID?: number;\n        listName: string;\n        localStorage: boolean;\n        localStorageExpiration: number;\n        name: string;\n        negotiatingWithServer: boolean;\n        // offlineXML?: string;\n        operation?: string;\n        promise?: ng.IPromise<IndexedCache<T>>;\n        query?: string;\n        queryOptions?: IQueryOptions;\n        rowLimit?: number;\n        runOnce: boolean;\n        saveToLocalStorage(): void;\n        sessionStorage: boolean;\n        viewFields: string;\n        webURL?: string;\n    }\n\n    export class LocalStorageQuery {\n        changeToken: string;\n        indexedCache: { [key: number]: Object };\n        lastRun: Date;\n        constructor(private key: string, stringifiedQuery: string) {\n            let parsedQuery = JSON.parse(stringifiedQuery);\n            _.assign(this, parsedQuery);\n            this.lastRun = new Date(parsedQuery.lastRun);\n        }\n        hasExpired(localStorageExpiration: number = apConfig.localStorageExpiration): boolean {\n            let hasExpired = true;\n            if (_.isNaN(localStorage)) {\n                throw new Error('Local storage expiration is required to be a numeric value and instead is ' + localStorageExpiration);\n            } else if (localStorageExpiration === 0) {\n                //No expiration\n                hasExpired = false;\n            } else {\n                //Evaluate if cache has exceeded expiration\n                hasExpired = this.lastRun.getMilliseconds() + localStorageExpiration <= new Date().getMilliseconds();\n            }\n            return hasExpired;\n        }\n        removeItem() {\n            localStorage.removeItem(this.key);\n        }\n    }\n\n\n\n\n    /**\n     * @ngdoc function\n     * @name Query\n     * @description\n     * Primary constructor that all queries inherit from. This object is a passthrough to [SPServices](http: //spservices.codeplex.com/).  All\n     * options to passed through to [dataService.executeQuery](#/api/dataService.executeQuery).\n     * @param {object} queryOptions Initialization parameters.\n     * @param {boolean} [queryOptions.force=false] Ignore cached data and force server query.\n     * @param {number} [queryOptions.listItemID] Optionally request for a single list item by id.\n     * @param {boolean} [queryOptions.localStorage=false] Should we store data from this query in local storage to speed up requests in the future.\n     * @param {number} [queryOptions.localStorageExpiration=86400000] Set expiration in milliseconds - Defaults to a day\n     * and if set to 0 doesn't expire.  Can be updated globally using apConfig.localStorageExpiration.\n     * @param {string} [queryOptions.name=primary] The name that we use to identify this query.\n     * @param {string} [queryOptions.operation=GetListItemChangesSinceToken] Optionally use 'GetListItems' to\n     * receive a more efficient response, just don't have the ability to check for changes since the last time\n     * the query was called. Defaults to [GetListItemChangesSinceToken](http://msdn.microsoft.com/en-us/library/lists.lists.getlistitemchangessincetoken%28v=office.12%29.aspx)\n     * but for a smaller payload and faster response you can use [GetListItems](http: //spservices.codeplex.com/wikipage?title=GetListItems&referringTitle=Lists).\n     * @param {string} [queryOptions.query=Ordered ascending by ID] CAML query passed to SharePoint to control\n     * the data SharePoint returns. Josh McCarty has a good quick reference [here](http: //joshmccarty.com/2012/06/a-caml-query-quick-reference).\n     * @param {string} [queryOptions.queryOptions] SharePoint options xml as string.\n     * <pre>\n     * <QueryOptions>\n     *    <IncludeMandatoryColumns>FALSE</IncludeMandatoryColumns>\n     *    <IncludeAttachmentUrls>TRUE</IncludeAttachmentUrls>\n     *    <IncludeAttachmentVersion>FALSE</IncludeAttachmentVersion>\n     *    <ExpandUserField>FALSE</ExpandUserField>\n     * </QueryOptions>\n     * </pre>\n     * @param {string} [queryOptions.rowLimit] The number of list items to return, 0 returns all list items.\n     * @param {boolean} [queryOptions.runOnce] Pertains to GetListItems only, optionally run a single time and return initial value for all future\n     * calls.  Works well with data that isn't expected to change throughout the session but unlike localStorage or sessionStorage\n     * the data doesn't persist between sessions.\n     * @param {boolean} [queryOptions.sessionStorage=false] Use the browsers sessionStorage to cache the list items and uses the\n     * queryOptions.localStorageExpiration param to validate how long the cache is good for.\n     * @param {string} [queryOptions.viewFields] XML as string that specifies fields to return.\n     * @param {string} [queryOptions.webURL] Used to override the default URL if list is located somewhere else.\n     * @param {object} model Reference to the parent model for the query.  Allows us to reference when out of\n     * scope.\n     * @example\n     * <pre>\n     * // Query to retrieve the most recent 25 modifications\n     * model.registerQuery({\n     *    name: 'recentChanges',\n     *    rowLimit: 25,\n     *    query: '' +\n     *        '<Query>' +\n     *        '   <OrderBy>' +\n     *        '       <FieldRef Name=\"Modified\" Ascending=\"FALSE\"/>' +\n     *        '   </OrderBy>' +\n     *            // Prevents any records from being returned if user\n     *            // doesn't have permissions on project\n     *        '   <Where>' +\n     *        '       <IsNotNull>' +\n     *        '           <FieldRef Name=\"Project\"/>' +\n     *        '       </IsNotNull>' +\n     *        '   </Where>' +\n     *        '</Query>'\n     * });\n     * </pre>\n     */\n    export class Query<T extends ListItem<any>> implements IQuery<T> {\n        /** Very memory intensive to enable cacheXML which is disabled by default*/\n        cacheXML = false;\n        /** Reference to the most recent query when performing GetListItemChangesSinceToken */\n        changeToken: string;\n        force = false;\n        getModel: () => Model;\n        /** Key value hash map with key being the id of the entity */\n        indexedCache = apIndexedCacheFactory.create<T>();\n        /** Promise resolved after first time query is executed */\n        initialized = $q.defer();\n        /** Date/Time last run */\n        lastRun: Date;\n        listItemID: number;\n        listName: string;\n        /** Should we store data from this query in local storage to speed up requests in the future */\n        localStorage = false;\n        /** Set expiration in milliseconds - Defaults to a day and if set to 0 doesn't expire */\n        localStorageExpiration = apConfig.localStorageExpiration;\n        name: string;\n        /** Flag to prevent us from makeing concurrent requests */\n        negotiatingWithServer = false;\n        /** Every time we run we want to check to update our cached data with\n         * any changes made on the server */\n        operation = 'GetListItemChangesSinceToken';\n        promise: ng.IPromise<IndexedCache<T>>;\n        /** Default query returns list items in ascending ID order */\n        query: string = `\n        <Query>\n           <OrderBy>\n               <FieldRef Name=\"ID\" Ascending=\"TRUE\"/>\n           </OrderBy>\n        </Query>`;\n        queryOptions = ap.DefaultListItemQueryOptions;\n        rowLimit: number;\n        runOnce = false;\n        sessionStorage = false;\n        viewFields: string;\n        webURL: string = apConfig.defaultUrl;\n\n        /** Has this query been executed at least once. */\n        get hasExecuted(): boolean {\n            return _.isDate(this.lastRun);\n        }\n        /** Is this query setup to use browser storage. */\n        get usesBrowserStorage(): boolean {\n            return this.localStorage || this.sessionStorage;\n        }\n\n        constructor(queryOptions: IQueryOptions, model: Model) {\n            let list = model.getList();\n            //Use the default viewFields from the model\n            this.viewFields = list.viewFields;\n            this.listName = model.getListId();\n\n            //Allow all values on query to be overwritten by queryOptions object\n            _.assign(this, queryOptions);\n\n            /** Allow the model to be referenced at a later time */\n            this.getModel = () => model;\n        }\n\n\n\n        /**\n         * @ngdoc function\n         * @name Query.execute\n         * @methodOf Query\n         * @description\n         * Query SharePoint, pull down all initial records on first call along with list definition if using\n         * \"GetListItemChangesSinceToken\".  Note: this is  substantially larger than \"GetListItems\" on first call.\n         * Subsequent calls pulls down changes (Assuming operation: \"GetListItemChangesSinceToken\").\n         * @returns {ng.IPromise<IndexedCache<T>>} Promise that resolves with the cache for this query.\n         */\n        execute(): ng.IPromise<IndexedCache<T>> {\n            var query = this;\n            var model = query.getModel();\n            var deferred = $q.defer();\n\n            /** Return existing promise if request is already underway or has been previously executed in the past\n            * 1/10th of a second */\n            if (query.negotiatingWithServer || (_.isDate(query.lastRun) && query.lastRun.getTime() + apConfig.queryDebounceTime > new Date().getTime())) {\n                return query.promise;\n            } else {\n                /** Set flag to prevent another call while this query is active */\n                query.negotiatingWithServer = true;\n\n                let localStorageData;\n\n                if (this.usesBrowserStorage) {\n                    localStorageData = this.getLocalStorage();\n                }\n\n                /** Clear out existing cached list items if GetListItems is the selected operation because otherwise\n                 * we could potentially have stale data if a list item no longer meets the query parameters but already\n                 * exists in the cache from a previous request. Don't clear the cache in the case where runOnce is set.*/\n                if(this.operation === 'GetListItems' && !this.runOnce) {\n                    query.getCache().clear();\n                }\n\n                /** Flag used to determine if we need to make a request to the server */\n                let makeRequest = true;\n\n                /** See if we already have data in local storage and hydrate if it hasn't expired, which\n                * then allows us to only request the changes. */\n                if (!query.force && localStorageData) {\n                    switch (this.operation) {\n                        case 'GetListItemChangesSinceToken':\n                            //Only run the first time, after that the token/data are already in sync\n                            if (!query.hasExecuted) {\n                                query.hydrateFromLocalStorage(localStorageData);\n                            }\n                            break;\n                        case 'GetListItems':\n                            query.hydrateFromLocalStorage(localStorageData);\n                            //Use cached data if we have data already available\n                            makeRequest = this.getCache().size === 0;\n                    }\n                }\n\n                /** Optionally handle query.runOnce for GetListItems when initial call has already been made */\n                if (this.hasExecuted && this.runOnce) {\n                    makeRequest = false;\n                }\n\n                /** Only make server request if necessary. */\n                if (makeRequest) {\n                    this.makeRequest()\n                        .then((results) => {\n                            this.postExecutionCleanup(results);\n                            deferred.resolve(results);\n                        });\n                } else {\n                    this.postExecutionCleanup(this.getCache());\n                    deferred.resolve(this.getCache());\n                }\n\n                /** Save reference on the query **/\n                query.promise = deferred.promise;\n                return deferred.promise;\n            }\n        }\n        /**\n         * @ngdoc function\n         * @name Query.getCache\n         * @methodOf Query\n         * @description\n         * Use this to return the cache instead of using the actual property to allow for future refactoring.\n         * @returns {IndexedCache<T>} Indexed Cache containing all elements in query.\n         */\n        getCache(): IndexedCache<T> {\n            return this.indexedCache;\n        }\n\n        /**\n         * @ngdoc function\n         * @name Query.getList\n         * @methodOf Query\n         * @description\n         * Shortcut to retrieve the list definition from the model this query belongs to.\n         * @returns {List} List definition for model.\n         */\n        getList(): List {\n            let model = this.getModel();\n            return model.getList();\n        }\n\n        /**\n         * @ngdoc function\n         * @name Query.getLocalStorage\n         * @methodOf Query\n         * @description\n         * Use this to return query data currenty saved in user's local or session storage.\n         * @returns {LocalStorageQuery} Local storage data for this query.\n         */\n        getLocalStorage(): LocalStorageQuery {\n            let parsedQuery, localStorageKey = this.getLocalStorageKey();\n            let stringifiedQuery = localStorage.getItem(localStorageKey) || sessionStorage.getItem(localStorageKey);\n            if (stringifiedQuery) {\n                parsedQuery = new LocalStorageQuery(localStorageKey, stringifiedQuery);\n            }\n            return parsedQuery;\n        }\n\n        /**\n         * @ngdoc function\n         * @name Query.hydrateFromLocalStorage\n         * @methodOf Query\n         * @description\n         * If data already exists in browser local storage, we rehydrate JSON using list item constructor and\n         * then have the ability to just check the server to see what has changed from the current state.\n         */\n        hydrateFromLocalStorage(localStorageQuery: LocalStorageQuery): void {\n            if (localStorageQuery.hasExpired(this.localStorageExpiration)) {\n                //Don't continue and purge if data has exceeded expiration\n                localStorageQuery.removeItem();\n            } else {\n                let listItemProvider = apDecodeService.createListItemProvider<T>(this.getModel(), this, this.getCache());\n                let fieldDefinitions = this.getList().fields;\n\n                //Identify all DateTime JSON fields so we can cast as Date objects\n                var dateTimeProperties = _.chain(fieldDefinitions)\n                    .filter((fieldDefinition: FieldDefinition) => {\n                        return fieldDefinition.objectType === 'DateTime';\n                    })\n                    .map((fieldDefinition: FieldDefinition) => {\n                        return fieldDefinition.mappedName;\n                    })\n                    .value();\n\n                //Hydrate each raw list item and add to cache\n                _.each(localStorageQuery.indexedCache, (jsonObject: Object) => {\n                    let hydratedObject = this.hydrateJSONDates(jsonObject, dateTimeProperties);\n                    listItemProvider(hydratedObject);\n                });\n\n                //Set the last run date\n                this.lastRun = localStorageQuery.lastRun;\n                //Store the change token\n                this.changeToken = localStorageQuery.changeToken;\n                //Resolve initial query promise in case any other concurrent requests are waiting for the data\n                this.initialized.resolve(this.getCache());\n            }\n        }\n\n        /**\n         * @ngdoc function\n         * @name Query.hydrateJSONDates\n         * @methodOf Query\n         * @description\n         * Objects pulled from local storage have JSON date strings so we need to convert to real dates.\n         * @returns {Object} JSON object with date strings converted to Date objects.\n         */\n        hydrateJSONDates(jsonObject: Object, dateTimeProperties: string[]): Object  {\n            _.each(dateTimeProperties, (prop: string) => {\n                if (_.isString(jsonObject[prop])) {\n                    jsonObject[prop] = new Date(jsonObject[prop]);\n                }\n            });\n            return jsonObject;\n        }\n\n        /**\n         * @ngdoc function\n         * @name Query.postExecutionCleanup\n         * @methodOf Query\n         * @description\n         * Internal method exposed to allow for testing.  Handle cleanup after query execution is complete.\n         */\n        postExecutionCleanup(results: ap.IndexedCache<T>) {\n            let query = this;\n            let model = query.getModel();\n            let cache = this.getCache();\n\n            /** Set flag if this if the first time this query has been run */\n            var firstRunQuery = _.isNull(query.lastRun);\n\n            if (firstRunQuery) {\n                /** Promise resolved the first time query is completed */\n                query.initialized.resolve(results);\n            }\n\n            /** Set list permissions if not already set */\n            var list = model.getList();\n            if (!list.permissions && results.first()) {\n                /** Query needs to have returned at least 1 item so we can use permMask */\n                list.extendPermissionsFromListItem(results.first());\n            }\n\n            /** Remove lock to allow for future requests */\n            query.negotiatingWithServer = false;\n\n            /** Store query completion date/time on model to allow us to identify age of data */\n            model.lastServerUpdate = new Date();\n\n            /** Overwrite local storage value with updated state so we can potentially restore in\n             * future sessions. */\n            if (query.usesBrowserStorage) {\n                query.saveToLocalStorage();\n            }\n        }\n\n        /**\n         * @ngdoc function\n         * @name Query.saveToLocalStorage\n         * @methodOf Query\n         * @description\n         * Save a snapshot of the current state to local/session storage so we can speed up calls\n         * for data already residing on the users machine.\n         */\n        saveToLocalStorage(): void {\n            //Don't use storage when running offline\n            if (apConfig.offline) return;\n\n            let model = this.getModel();\n            let store = {\n                changeToken: this.changeToken,\n                indexedCache: this.getCache(),\n                lastRun: this.lastRun\n            }\n            let stringifiedQuery = JSON.stringify(store);\n            let storageType = this.localStorage ? 'local' : 'session';\n            let localStorageKey = this.getLocalStorageKey();\n            //Use try/catch in case we've exceeded browser storage limit (typically 5MB)\n            try {\n                if (this.localStorage) {\n                    localStorage.setItem(localStorageKey, stringifiedQuery);\n                } else {\n                    sessionStorage.setItem(localStorageKey, stringifiedQuery);\n                }\n            } catch (e) {\n                if (e.code == 22) {\n                    // Storage full, maybe notify user or do some clean-up\n                }\n                apLogger.debug('Looks like we\\'re out of space in ' + storageType + ' storage.', {\n                    json: {\n                        query: this.name,\n                        model: this.getModel().list.title\n                    }\n                });\n                if (this.localStorage) {\n                    localStorage.clear();\n                } else {\n                    sessionStorage.clear();\n                }\n                //Disable storage for remainder of session to prevent throwing additional errors\n                this.localStorage = false;\n                this.sessionStorage = false;\n            }\n        }\n\n        /** They key we use for local storage */\n        private getLocalStorageKey() {\n            var model = this.getModel();\n            return model.getListId() + '.query.' + this.name;\n        }\n\n        makeRequest(): ng.IPromise<IndexedCache<T>> {\n            let query = this;\n            let model = this.getModel();\n            let cache = this.getCache();\n\n            return apDataService.serviceWrapper(query)\n                .then((responseXML) => {\n                    if (query.operation === 'GetListItemChangesSinceToken') {\n                        apDataService.processChangeTokenXML<T>(model, query, responseXML, cache);\n                    }\n\n                    /** Convert the XML into JS objects */\n                    var entities = apDecodeService.processListItems<T>(model, query, responseXML, {target: cache});\n\n                    /** Set date time to allow for time based updates */\n                    query.lastRun = new Date();\n\n                    return entities;\n                });\n\n\n        }\n    }\n\n\n    export class QueryFactory {\n        Query = Query;\n        static $inject = ['$q', 'apConfig', 'apDataService', 'apDefaultListItemQueryOptions', 'apIndexedCacheFactory', 'apDecodeService', 'apLogger'];\n\n        constructor(_$q_, _apConfig_, _apDataService_, _apDefaultListItemQueryOptions_, _apIndexedCacheFactory_, _apDecodeService_, _apLogger_) {\n\n            $q = _$q_;\n            apConfig = _apConfig_;\n            apDataService = _apDataService_;\n            apDefaultListItemQueryOptions = _apDefaultListItemQueryOptions_;\n            apIndexedCacheFactory = _apIndexedCacheFactory_;\n            apDecodeService = _apDecodeService_;\n            apLogger = _apLogger_;\n        }\n\n        /**\n         * @ngdoc function\n         * @name angularPoint.apQueryFactory:create\n         * @methodOf angularPoint.apQueryFactory\n         * @param {object} config Options object.\n         * @param {object} model Reference to the model.\n         * @description\n         * Instantiates and returns a new Query.\n         */\n        create<T extends ListItem<any>>(config, model): IQuery<T> {\n            return new Query<T>(config, model);\n        }\n    }\n\n    /**\n     * @ngdoc object\n     * @name angularPoint.apQueryFactory\n     * @description\n     * Exposes the Query prototype and a constructor to instantiate a new Query.\n     *\n     * @requires angularPoint.apDataService\n     * @requires angularPoint.apConfig\n     */\n    angular.module('angularPoint')\n        .service('apQueryFactory', QueryFactory);\n\n\n}","/// <reference path=\"../app.module.ts\" />\n\nmodule ap {\n    'use strict';\n\n    let apUtilityService: UtilityService;\n\n    /**\n     * Represents a reference to a site collection user.  This is\n     * very similar to an ap.ILookup except additional properties\n     * can be provided if setup to include them in the request.\n     * The site collection user is created the first time a user\n     * accesses a site collection.  The downside is a user will have\n     * different site collection ID's for each site collection.\n     */\n    export interface IUser {\n        email?:string;\n        loginName?:string;\n        lookupId: number;\n        lookupValue: string;\n        sipAddress?:string;\n        title?:string;\n    }\n\n    /**\n     * @ngdoc function\n     * @name User\n     * @description\n     * Allows for easier distinction when debugging if object type is shown as a User.  Turns a delimited \";#\"\n     * string into an object shown below depeinding on field settings:\n     * <pre>\n     * {\n         *      lookupId: 1,\n         *      lookupValue: 'Joe User'\n         * }\n     * </pre>\n     * or\n     * <pre>\n     * {\n         *      lookupId: 1,\n         *      lookupValue: 'Joe User',\n         *      loginName: 'joe.user',\n         *      email: 'joe@company.com',\n         *      sipAddress: 'whatever',\n         *      title: 'Sr. Widget Maker'\n         * }\n     * </pre>\n     * @param {string} s Delimited string used to create a User object.\n     * @constructor\n     */\n    class User implements IUser {\n        lookupValue: string;\n        lookupId: number;\n        loginName: string;\n        email: string;\n        sipAddress: string;\n        title: string;\n\n        constructor(str: string) {\n            let thisUser = new apUtilityService.SplitIndex(str);\n\n            let thisUserExpanded = thisUser.value.split(',#');\n            if (thisUserExpanded.length === 1) {\n                //Standard user columns only return a id,#value pair\n                this.lookupId = thisUser.id;\n                this.lookupValue = thisUser.value;\n            } else {\n                //Allow for case where user adds additional properties when setting up field\n                this.lookupId = thisUser.id;\n                this.lookupValue = thisUserExpanded[0].replace(/(,,)/g, ',');\n                this.loginName = thisUserExpanded[1].replace(/(,,)/g, ',');\n                this.email = thisUserExpanded[2].replace(/(,,)/g, ',');\n                this.sipAddress = thisUserExpanded[3].replace(/(,,)/g, ',');\n                this.title = thisUserExpanded[4].replace(/(,,)/g, ',');\n            }\n        }\n    }\n\n\n    export class UserFactory {\n        User = User;\n        static $inject = ['apUtilityService'];\n\n        constructor(_apUtilityService_) {\n            apUtilityService = _apUtilityService_;\n        }\n\n        /**\n         * @ngdoc function\n         * @name angularPoint.apUserFactory:create\n         * @methodOf angularPoint.apUserFactory\n         * @description\n         * Instantiates and returns a new User field.\n         */\n        create(s) {\n            return new User(s);\n        }\n    }\n\n    /**\n     * @ngdoc function\n     * @name angularPoint.apUserFactory\n     * @description\n     * Tools to assist with the creation of CAML queries.\n     *\n     */\n    angular.module('angularPoint')\n        .service('apUserFactory', UserFactory);\n\n\n}\n","/// <reference path=\"../app.module.ts\" />\n\nmodule ap {\n    'use strict';\n\n    /** Local references to cached promises */\n    var _getGroupCollection, _getUserProfile;\n\n    export interface IUserModel {\n        checkIfMember(groupName: string, force?: boolean): angular.IPromise<IXMLGroup>;\n        getGroupCollection(force?: boolean): angular.IPromise<IXMLGroup[]>;\n        getUserProfile(force?: boolean): ng.IPromise<IXMLUserProfile>;\n    }\n\n    export class UserModel {\n        static $inject = ['$q', 'apDataService'];\n        constructor(private $q: ng.IQService, private apDataService: DataService) {\n\n        }\n\n        /**\n         * @ngdoc function\n         * @name angularPoint.apUserModel:checkIfMember\n         * @methodOf angularPoint.apUserModel\n         * @description\n         * Checks to see if current user is a member of the specified group.\n         * @param {string} groupName Name of the group.\n         * @param {boolean} [force=false] Ignore any cached value.\n         * @returns {object} Returns the group definition if the user is a member. {ID:string, Name:string, Description:string, OwnerId:string, OwnerIsUser:string}\n         * @example\n         * <pre>{ID: \"190\", Name: \"Blog Contributors\", Description: \"We are bloggers...\", OwnerID: \"126\", OwnerIsUser: \"False\"}</pre>\n         */\n        checkIfMember(groupName: string, force: boolean = false): angular.IPromise<IXMLGroup> {\n            //Allow function to be called before group collection is ready\n            var deferred = this.$q.defer();\n\n            //Initially ensure groups are ready, any future calls will receive the return\n            this.getGroupCollection(force).then((groupCollection) => {\n                var groupDefinition = _.find(groupCollection, { Name: groupName });\n                deferred.resolve(groupDefinition);\n            });\n\n            return deferred.promise;\n        }\n\n        /**\n         * @ngdoc function\n         * @name angularPoint.apUserModel:getGroupCollection\n         * @methodOf angularPoint.apUserModel\n         * @description\n         * Returns the group definitions for the current user and caches results.\n         * @param {boolean} [force=false] Ignore any cached value.\n         * @returns {IGroupDefinition[]} Promise which resolves with the array of groups the user belongs to.\n         */\n        getGroupCollection(force: boolean = false): angular.IPromise<IXMLGroup[]> {\n            if (!_getGroupCollection || force) {\n                /** Create a new deferred object if not already defined */\n                var deferred = this.$q.defer();\n                this.getUserProfile(force).then((userProfile) => {\n                    this.apDataService.getGroupCollectionFromUser(userProfile.userLoginName)\n                        .then((groupCollection) => {\n                        deferred.resolve(groupCollection);\n                    });\n                });\n                _getGroupCollection = deferred.promise;\n            }\n            return _getGroupCollection;\n        }\n\n        /**\n         * @ngdoc function\n         * @name angularPoint.apUserModel:getUserProfile\n         * @methodOf angularPoint.apUserModel\n         * @description\n         * Returns the user profile for the current user and caches results.\n         * Pull user profile info and parse into a profile object\n         * http://spservices.codeplex.com/wikipage?title=GetUserProfileByName\n         * @param {boolean} [force=false] Ignore any cached value.\n         * @returns {object} Promise which resolves with the requested user profile.\n         */\n        getUserProfile(force: boolean = false): ng.IPromise<IXMLUserProfile> {\n            if (!_getUserProfile || force) {\n                /** Create a new deferred object if not already defined */\n                _getUserProfile = this.apDataService.getUserProfileByName();\n            }\n            return _getUserProfile;\n        }\n\n\n    }\n\n    /**\n     * @ngdoc service\n     * @name angularPoint.apUserModel\n     * @description\n     * Simple service that allows us to request and cache both the current user and their group memberships.\n     *\n     * @requires apDataService\n     *\n     */\n    angular.module('angularPoint')\n        .service('apUserModel', UserModel);\n\n}\n","/// <reference path=\"../app.module.ts\" />\n/// <reference path=\"../../typings/tsd.d.ts\" />\n\ndeclare module ap {\n\n    export interface IXMLGroup {\n        Description: string;\n        ID: string;\n        Name: string;\n        OwnerID: string;\n        OwnerIsUser: string;\n    }\n\n    export interface IXMLUser {\n        Email: string;\n        Flags: string;\n        ID: string;\n        IsDomainGroup: string;\n        IsSiteAdmin: string;\n        LoginName: string;\n        Name: string;\n        Notes: string;\n        Sid: string;\n    }\n\n    export interface IXMLUserProfile {\n        userLoginName: string; //Added to allow us to optionally add a prefix if necessary from apConfig\n        UserProfile_GUID: string;\n        AccountName: string;\n        FirstName: string;\n        \"SPS-PhoneticFirstName\": string;\n        LastName: string;\n        \"SPS-PhoneticLastName\": string;\n        PreferredName: string;\n        \"SPS-PhoneticDisplayName\": string;\n        WorkPhone: string;\n        Department: string;\n        Title: string;\n        \"SPS-JobTitle\": string;\n        Manager: string;\n        AboutMe: string;\n        PersonalSpace: string;\n        PictureURL: string;\n        UserName: string;\n        QuickLinks: string;\n        WebSite: string;\n        PublicSiteRedirect: string;\n        \"SPS-Dotted-line\": string;\n        \"SPS-Peers\": string;\n        \"SPS-Responsibility\": string;\n        \"SPS-SipAddress\": string;\n        \"SPS-MySiteUpgrade\": string;\n        \"SPS-DontSuggestList\": string;\n        \"SPS-ProxyAddresses\": string;\n        \"SPS-HireDate\": string;\n        \"SPS-DisplayOrder\": string;\n        \"SPS-ClaimID\": string;\n        \"SPS-ClaimProviderID\": string;\n        \"SPS-ClaimProviderType\": string;\n        \"SPS-LastColleagueAdded\": string;\n        \"SPS-OWAUrl\": string;\n        \"SPS-SavedAccountName\": string;\n        \"SPS-ResourceAccountName\": string;\n        \"SPS-ObjectExists\": string;\n        \"SPS-MasterAccountName\": string;\n        \"SPS-DistinguishedName\": string;\n        \"SPS-SourceObjectDN\": string;\n        \"SPS-LastKeywordAdded\": string;\n        WorkEmail: string;\n        CellPhone: string;\n        Fax: string;\n        HomePhone: string;\n        Office: string;\n        \"SPS-Location\": string;\n        \"SPS-TimeZone\": string;\n        Assistant: string;\n        \"SPS-PastProjects\": string;\n        \"SPS-Skills\": string;\n        \"SPS-School\": string;\n        \"SPS-Birthday\": string;\n        \"SPS-StatusNotes\": string;\n        \"SPS-Interests\": string;\n        \"SPS-EmailOptin\": string;\n    }\n\n    export interface IListItemCrudOptions<T extends ListItem<any>> {\n        target: IndexedCache<T>;\n    }\n\n    export interface IWorkflowDefinition {\n        instantiationUrl: string;\n        name: string;\n        templateId: string;\n    }\n\n    export interface IStartWorkflowParams {\n        fileRef?: string;\n        item: string;\n        templateId: string;\n        workflowName?: string;\n        workflowParameters?: string;\n    }\n\n\n}\n\n\ninterface IToast {\n    toastId: number;\n    scope: ng.IScope;\n    iconClass: string;\n}\n\ndeclare module ngTable {\n    export interface INGTableParamsObject {\n        count?: number;\n        filter?: Object;\n        page?: number;\n        sorting?: Object;\n    }\n\n    interface INGTableParamsReference {\n        count(): number;\n        filter(): Object;\n        orderBy(): string[]\n        page(): number;\n        sorting(): Object;\n        total(): number;\n        total(number): void;\n    }\n\n    export interface INGTableSettings {\n        total?: number;\n        counts?: number[];\n        defaultSort?: string; //options: ['asc', 'desc']\n        groupBy?: string | Function;\n        filterDelay?: number;\n        /** Return eiter a data array or promise that resolves with a data array */\n        getData(params: INGTableParamsReference): void;\n    }\n\n    export interface INGTableParams {\n        new (parameters: INGTableParamsObject, settings: INGTableSettings): INGTable;\n    }\n\n    export interface INGTable {\n        reload(): void;\n    }\n}\n\n// extend lodash with functionality in apUtilityService\ndeclare module _ {\n    interface LoDashStatic {\n        isDefined(val): boolean;\n        isGuid(val): boolean;\n    }\n}","/// <reference path=\"../app.module.ts\" />\n\nmodule ap {\n    'use strict';\n\n    interface ICacheService {\n        deleteEntity(listId: string, entityId: number): void;\n        getCachedEntities<T extends ListItem<any>>(listId: string): IndexedCache<T>;\n        getCachedEntity<T extends ListItem<any>>(listId: string, entityId: number): T;\n        getEntity<T extends ListItem<any>>(listId: string, entityId: number): ng.IPromise<T>;\n        getListId(keyString: string): string;\n        getListIdFromListName(name: string): string;\n        getModel(listId: string): Model;\n        getModelCache(listId: string): ModelCache;\n        registerEntity<T extends ListItem<any>>(entity: T, targetCache?: IndexedCache<T>): T;\n        registerModel(model: Model): void;\n        removeEntityById(listId: string, entityId: number): void;\n    }\n\n    let service: CacheService, $q: ng.IQService, $log: ng.ILogService, apIndexedCacheFactory: IndexedCacheFactory;\n\n    /**\n     * @description Stores list names when a new model is registered along with the GUID to allow us to\n     *     retrieve the GUID in future\n     * @example\n     * <pre>\n     *     listNameToIdMap = {\n         *          list1Name: {\n         *              model: list1Model,\n         *              listId: list1GUID\n         *          },\n         *          list2Name: {\n         *              model: list2Model,\n         *              listId: list2GUID\n         *          }\n         *          ...\n         *     }\n     * </pre>\n     */\n    let listNameToIdMap = {},\n\n        /**\n         * @description Stores list GUID when a new model is registered with a reference to the model for\n         *     future reference.\n         * @example\n         * <pre>\n         *     listsMappedByListId = {\n         *          list1GUID: {\n         *              model: list1Model\n         *          },\n         *          list2GUID: {\n         *              model: list2Model\n         *          }\n         *          ...\n         *     }\n         * </pre>\n         */\n        listsMappedByListId = {},\n        /**\n         * @description The Main cache object which stores ModelCache objects.  Keys being the model GUID and\n         *     value being an a ModelCache object\n         * @example\n         * <pre>\n         *     entityCache = {\n         *          list1GUID: {\n         *              item1ID: { //EnityCache for entity 1\n         *                  associationQueue: [],\n         *                  updateCount: 3,\n         *                  listId: list1GUID,\n         *                  entityId: item1ID,\n         *                  entityLocations: [],\n         *                  entity: {} //This is where the actual entity is referenced\n         *              }\n         *              item2ID: { //EnityCache for entity 2\n         *                  ...\n         *              }\n         *          },\n         *          list2GUID: {\n         *              item1ID: ...\n         *          }\n         *          ...\n         *     }\n         * </pre>\n         */\n        entityCache = {};\n\n\n    /**\n     * @name EntityCache\n     * @description\n     * Cache constructor that maintains a queue of all requests for a list item, counter for the number of times\n     * the cache has been updated, timestamp of last update, and add/update/remove functionality.\n     * @constructor apCacheService\n     * @param {string} listId GUID for list the list item belongs to.\n     * @param {number} entityId The entity.id.\n     */\n    class EntityContainer {\n        associationQueue = [];\n        entity;\n        entityLocations = [];\n        listId;\n        updateCount = 0;\n\n        constructor(listId: string, private entityId: number) {\n            this.listId = service.getListId(listId);\n        }\n\n        /**\n         * @name EntityContainer.getEntity\n         * @description\n         * Promise which returns the requested entity once it has been registered in the cache.\n         */\n        getEntity() {\n            let deferred = $q.defer();\n            if (this.entity) {\n                /** Entity already exists so resolve immediately */\n                deferred.resolve(this.entity);\n            } else {\n                this.associationQueue.push(deferred);\n            }\n            return deferred.promise;\n        }\n\n        removeEntity() {\n            service.removeEntityById(this.listId, this.entityId);\n        }\n\n    }\n\n    /**\n     * @name ModelCache\n     * @description\n     * Cache of Entity Containers for each registered entity retrieved by the model.\n     * @constructor\n     */\n    class ModelCache {\n        [key: string]: EntityContainer\n    }\n\n    export class CacheService implements ICacheService {\n        entityCache = entityCache;\n        static $inject = ['$q', '$log', 'apIndexedCacheFactory'];\n\n        constructor(_$q_, _$log_, _apIndexedCacheFactory_) {\n\n            $q = _$q_;\n            $log = _$log_;\n            apIndexedCacheFactory = _apIndexedCacheFactory_;\n\n            service = this;\n        }\n\n        /**\n         * @ngdoc function\n         * @name angularPoint.apCacheService:deleteEntity\n         * @methodOf angularPoint.apCacheService\n         * @description\n         * Deletes all references to an entity.\n         * @param {string} listId GUID for list the list item belongs to.\n         * @param {number} entityId The entity.id.\n         */\n        deleteEntity(listId: string, entityId: number): void {\n            let entityTypeKey = this.getListId(listId);\n            this.removeEntityById(entityTypeKey, entityId);\n            let model = this.getModel(entityTypeKey);\n            _.each(model.queries, (query: IQuery<any>) => {\n                let cache = query.getCache();\n                if (cache.has(entityId)) {\n                    cache.delete(entityId);\n                }\n            });\n        }\n\n        /**\n         * @ngdoc function\n         * @name angularPoint.apCacheService:getCachedEntities\n         * @methodOf angularPoint.apCacheService\n         * @description\n         * Returns all entities for a given model as an indexed cache with keys being the entity id's.\n         * @param {string} listId GUID for list the list item belongs to.\n         * @returns {object} Indexed cache containing all entities for a model.\n         */\n        getCachedEntities<T extends ListItem<any>>(listId: string): IndexedCache<T> {\n            let modelCache = this.getModelCache(listId),\n                allEntities = apIndexedCacheFactory.create<T>();\n\n            _.each(modelCache, (entityContainer: EntityContainer) => {\n                if (entityContainer.entity && entityContainer.entity.id) {\n                    allEntities.set(entityContainer.entity.id, entityContainer.entity);\n                }\n            });\n            return allEntities;\n        }\n\n        /**\n         * @ngdoc function\n         * @name angularPoint.apCacheService:getCachedEntity\n         * @methodOf angularPoint.apCacheService\n         * @description\n         * Synchronise call to return a cached entity;\n         * @param {string} listId GUID for list the list item belongs to.\n         * @param {number} entityId The entity.id.\n         * @returns {object} entity || undefined\n         */\n        getCachedEntity<T extends ListItem<any>>(listId: string, entityId: number): T {\n            return this.getEntityContainer(listId, entityId).entity;\n        }\n\n        /**\n         * @ngdoc function\n         * @name angularPoint.apCacheService:getEntity\n         * @methodOf angularPoint.apCacheService\n         * @description\n         * Returns a deferred object that resolves with the requested entity immediately if already present or at\n         *     some point in the future assuming the entity is eventually registered.\n         * @param {string} listId GUID for list the list item belongs to.\n         * @param {number} entityId The entity.id.\n         * @returns {promise} entity\n         */\n        getEntity<T extends ListItem<any>>(listId: string, entityId: number): ng.IPromise<T> {\n            let entityContainer = this.getEntityContainer(listId, entityId);\n            return entityContainer.getEntity();\n        }\n\n        private getEntityContainer(listId: string, entityId: number): EntityContainer {\n            let entityTypeKey = this.getListId(listId);\n            let modelCache = this.getModelCache(entityTypeKey);\n            /** Create the object structure if it doesn't already exist */\n            modelCache[entityId] = modelCache[entityId] || new EntityContainer(entityTypeKey, entityId);\n            return modelCache[entityId];\n        }\n\n        /**\n         * @ngdoc function\n         * @name angularPoint.apCacheService:getListId\n         * @methodOf angularPoint.apCacheService\n         * @description\n         * Allows us to use either the List Name or the list GUID and returns the lowercase GUID\n         * @param {string} keyString List GUID or name.\n         * @returns {string} Lowercase list GUID.\n         */\n        getListId(keyString: string): string {\n            if (_.isGuid(keyString)) {\n                /** GUID */\n                return keyString.toLowerCase();\n            } else {\n                /** List Title */\n                return this.getListIdFromListName(keyString);\n            }\n        }\n\n        /**\n         * @ngdoc function\n         * @name angularPoint.apCacheService:getListIdFromListName\n         * @methodOf angularPoint.apCacheService\n         * @description\n         * Allows us to lookup an entity cache using the name of the list instead of the GUID.\n         * @param {string} name The name of the list.\n         * @returns {string} GUID for the list.\n         */\n        getListIdFromListName(name: string): string {\n            let guid;\n            if (listNameToIdMap[name] && listNameToIdMap[name].listId) {\n                guid = listNameToIdMap[name].listId;\n            }\n            return guid;\n        }\n\n        /**\n         * @ngdoc function\n         * @name angularPoint.apCacheService:getModel\n         * @methodOf angularPoint.apCacheService\n         * @description\n         * Allows us to retrieve a reference to a given model by either the list title or list GUID.\n         * @param {string} listId List title or list GUID.\n         * @returns {object} A reference to the requested model.\n         */\n        getModel(listId: string): Model {\n            let model,\n                entityTypeKey = this.getListId(listId);\n\n            if (listsMappedByListId[entityTypeKey]) {\n                model = listsMappedByListId[entityTypeKey].model;\n            }\n            return model;\n        }\n\n        /** Locates the stored cache for a model */\n        getModelCache(listId: string): ModelCache {\n            let entityTypeKey = this.getListId(listId);\n            entityCache[entityTypeKey] = entityCache[entityTypeKey] || new ModelCache();\n            return entityCache[entityTypeKey];\n        }\n\n\n        /**\n         * @ngdoc function\n         * @name angularPoint.apCacheService:registerEntity\n         * @methodOf angularPoint.apCacheService\n         * @description\n         * Registers an entity in the cache and fulfills any pending deferred requests for the entity. If the\n         * entity already exists in the cache, we extend the existing object with the updated entity and return a\n         * reference to this updated object so the there is only a single instance of this entity withing the cache.\n         * @param {object} entity Pass in a newly created entity to add to the cache.\n         * @param {object} [targetCache] Optionally pass in a secondary cache to add a reference to this entity.\n         */\n        registerEntity<T extends ListItem<any>>(entity: T, targetCache?: IndexedCache<T>): T {\n            let model = entity.getModel();\n            let entityContainer = this.getEntityContainer(model.getListId(), entity.id);\n            /** Maintain a single object in cache for this entity */\n            if (!_.isObject(entityContainer.entity)) {\n                /** Entity isn't currently in the cache */\n                entityContainer.entity = entity;\n            } else {\n                /** Already exists so update to maintain any other references being used for this entity. */\n                    //TODO Look at performance hit from extending and see if it would be acceptable just to replace\n                _.assign(entityContainer.entity, entity);\n            }\n\n            /** Counter to keep track of the number of updates for this entity */\n            entityContainer.updateCount++;\n\n            if (_.isObject(targetCache) && !_.isArray(targetCache) && !targetCache[entity.id]) {\n                /** Entity hasn't been added to the target cache yet */\n                targetCache[entity.id] = entityContainer.entity;\n            }\n\n            /** Resolve any requests for this entity */\n            _.each(entityContainer.associationQueue, (deferredRequest) => {\n                deferredRequest.resolve(entityContainer.entity);\n                /** Remove request from queue */\n                entityContainer.associationQueue.shift();\n            });\n\n            return entityContainer.entity;\n        }\n\n        /**\n         * @ngdoc function\n         * @name angularPoint.apCacheService:registerModel\n         * @methodOf angularPoint.apCacheService\n         * @description\n         * Creates a new ModelCache for the provide model where all list items will be stored with the key equaling\n         * the entity id's and value being a EntityContainer.  The entity is stored at EntityContainer.entity.\n         * @param {object} model Model to create the cache for.\n         */\n        registerModel(model: Model): void {\n            if (model.list && model.getListId() && model.list.title) {\n                let listId = model.getListId().toLowerCase();\n                /** Store a reference to the model by list title */\n                listNameToIdMap[model.list.title] = {\n                    model: model,\n                    listId: listId\n                };\n\n                /** Store a reference to the model by list guid */\n                listsMappedByListId[listId] = {\n                    model: model\n                };\n            }\n        }\n\n        /**\n         * @ngdoc function\n         * @name angularPoint.apCacheService:removeEntityById\n         * @methodOf angularPoint.apCacheService\n         * @description\n         * Removes the entity from the local entity cache.\n         * @param {string} listId GUID for list the list item belongs to.\n         * @param {number} entityId The entity.id.\n         */\n        removeEntityById(listId: string, entityId: number): void {\n            let modelCache = this.getModelCache(listId);\n            if (modelCache[entityId]) {\n                delete modelCache[entityId];\n            }\n        }\n\n\n    }\n\n    /**\n     * @ngdoc service\n     * @name angularPoint.apCacheService\n     * @description\n     * Stores a reference for all list items based on list GUID and list item id.  Allows us to then register promises\n     *     that resolve once a requested list item is registered in the future.\n     */\n    angular.module('angularPoint')\n        .service('apCacheService', CacheService);\n\n}\n","/// <reference path=\"../app.module.ts\" />\n\nmodule ap {\n    'use strict';\n\n    interface IUpdateOptions<T extends ListItem<any>>{\n        batchCmd: string;\n        buildValuePairs:boolean;\n        ID: number;\n        listName: string;\n        operation: string;\n        target: IndexedCache<T>;\n        valuePairs: string[][];\n        webURL: string;\n    }\n\n    export interface IChangeServiceCallback{\n        (entity: ListItem<any>, options: IUpdateOptions<any>, promise: ng.IPromise<any>): void\n    }\n\n    /**\n     * @ngdoc service\n     * @name apChangeService\n     * @description\n     * Primarily used for apMockBackend so we can know what to expect before an attempt to update a list\n     * item is intercepted.\n     */\n    export class ChangeService {\n        callbackQueue: IChangeServiceCallback[] = [];\n        registerListItemUpdate<T extends ListItem<any>>(entity: ListItem<T>, options: IUpdateOptions<T>, promise: ng.IPromise<ListItem<T>>) {\n            _.each(this.callbackQueue, (callback) => {\n                callback(entity, options, promise);\n            });\n        }\n        subscribeToUpdates(callback: IChangeServiceCallback ) {\n            this.callbackQueue.push(callback);\n        }\n    }\n\n    angular\n        .module('angularPoint')\n        .service('apChangeService', ChangeService);\n\n}\n","/// <reference path=\"../app.module.ts\" />\n\nmodule ap {\n    'use strict';\n\n    let apDefaultListItemQueryOptions = DefaultListItemQueryOptions;\n    let apWebServiceOperationConstants = WebServiceOperationConstants;\n\n    let service: DataService, $q: ng.IQService, $timeout: ng.ITimeoutService, $http: ng.IHttpService, apConfig: IAPConfig,\n        apUtilityService: UtilityService, apCacheService: CacheService, apDecodeService: DecodeService,\n        apEncodeService: EncodeService, apFieldService: FieldService, apIndexedCacheFactory: IndexedCacheFactory,\n        SPServices, apBasePermissionObject: BasePermissionObject,\n        apXMLToJSONService: XMLToJSONService, apChangeService: ChangeService, apLogger: Logger;\n\n    export interface IDataService {\n        createItemUrlFromFileRef(fileRefString: string): string;\n        generateWebServiceUrl(service: string, webURL?: string): ng.IPromise<string>;\n        getAvailableWorkflows(fileRefString: string): ng.IPromise<IWorkflowDefinition[]>;\n        getCollection(options: { operation: string; userLoginName?: string; groupName?: string; listName?: string; filterNode: string; }): ng.IPromise<Object[]>;\n        getCurrentSite(): ng.IPromise<string>;\n        getFieldVersionHistory<T extends ListItem<any>>(options: IGetFieldVersionHistoryOptions, fieldDefinition: IFieldDefinition): ng.IPromise<FieldVersionCollection>\n        getGroupCollectionFromUser(login?: string): ng.IPromise<IXMLGroup[]>;\n        getList(options: { listName: string; webURL?: string }): ng.IPromise<Object>;\n        getListFields(options: { listName: string; webURL?: string }): ng.IPromise<IXMLFieldDefinition[]>;\n        getUserProfileByName(login?: string): ng.IPromise<IXMLUserProfile>;\n        processChangeTokenXML<T extends ListItem<any>>(model: Model, query: IQuery<T>, responseXML: XMLDocument, opts): void;\n        processDeletionsSinceToken(responseXML: XMLDocument, indexedCache: IndexedCache<any>): void;\n        requestData(opts): ng.IPromise<XMLDocument>;\n        retrieveChangeToken(responseXML: XMLDocument): string;\n        retrieveListPermissions(responseXML: XMLDocument): IUserPermissionsObject\n        serviceWrapper(options): ng.IPromise<any>;\n        startWorkflow(options: { item: string; templateId: string; workflowParameters?: string; fileRef?: string; }): ng.IPromise<any>;\n        validateCollectionPayload(opts): boolean;\n    }\n\n    export class DataService implements IDataService {\n        queryForCurrentSite: ng.IPromise<string>;\n        static $inject = ['$http', '$q', '$timeout', 'apCacheService', 'apChangeService', 'apConfig', 'apDecodeService',\n            'apDefaultListItemQueryOptions', 'apEncodeService', 'apFieldService', 'apIndexedCacheFactory',\n            'apUtilityService', 'apWebServiceOperationConstants', 'apXMLToJSONService', 'SPServices',\n            'apBasePermissionObject', 'apLogger'];\n\n        constructor(_$http_, _$q_, _$timeout_, _apCacheService_, _apChangeService_, _apConfig_, _apDecodeService_,\n            _apDefaultListItemQueryOptions_, _apEncodeService_, _apFieldService_, _apIndexedCacheFactory_,\n            _apUtilityService_, _apWebServiceOperationConstants_, _apXMLToJSONService_, _SPServices_,\n            _apBasePermissionObject_, _apLogger_) {\n            service = this;\n\n            $http = _$http_;\n            $q = _$q_;\n            $timeout = _$timeout_;\n            apCacheService = _apCacheService_;\n            apChangeService = _apChangeService_;\n            apConfig = _apConfig_;\n            apDecodeService = _apDecodeService_;\n            apDefaultListItemQueryOptions = _apDefaultListItemQueryOptions_;\n            apEncodeService = _apEncodeService_;\n            apFieldService = _apFieldService_;\n            apIndexedCacheFactory = _apIndexedCacheFactory_;\n            apUtilityService = _apUtilityService_;\n            apWebServiceOperationConstants = _apWebServiceOperationConstants_;\n            apXMLToJSONService = _apXMLToJSONService_;\n            SPServices = _SPServices_;\n            apBasePermissionObject = _apBasePermissionObject_;\n            apLogger = _apLogger_;\n        }\n\n        createItemUrlFromFileRef(fileRefString: string): string {\n            return window.location.protocol + '//' + window.location.hostname + '/' + fileRefString;\n        }\n\n        /**\n         * @ngdoc function\n         * @name DataService.generateWebServiceUrl\n         * @description\n         * Builds the appropriate SharePoint resource URL.  If a URL isn't provided and it hasn't already been cached\n         * we make a call to the server to find the root URL.  All future requests will then use this cached value.\n         * @param {string} service The name of the service the SOAP operation is using.\n         * @param {string} [webURL] Optionally provide the URL so we don't need to make a call to the server.\n         * @returns {promise} Resolves with the url for the service.\n         */\n        generateWebServiceUrl(service: string, webURL?: string): ng.IPromise<string> {\n            let ajaxURL = \"_vti_bin/\" + service + \".asmx\",\n                deferred = $q.defer();\n\n            if (webURL) {\n                ajaxURL = webURL.charAt(webURL.length - 1) === '/' ?\n                    webURL + ajaxURL : webURL + '/' + ajaxURL;\n                deferred.resolve(ajaxURL);\n            } else {\n                this.getCurrentSite().then((thisSite) => {\n                    ajaxURL = thisSite + ((thisSite.charAt(thisSite.length - 1) === '/') ? ajaxURL : ('/' + ajaxURL));\n                    deferred.resolve(ajaxURL);\n                });\n            }\n            return deferred.promise;\n        }\n\n        /**\n         * @ngdoc function\n         * @name DataService.getAvailableWorkflows\n         * @description\n         * Given a list item or document, return an array of all available workflows.  This is used in combination with\n         * DataService.startWorkflow because it requires the template GUID for the target workflow.\n         * @example\n         * <pre>\n         * DataService.getAvailableWorkflows(listItem.fileRef.lookupValue)\n         *     .then(function(templateArray) {\n         *          ....templateArray = [{\n         *              \"name\": \"WidgetApproval\",\n         *              \"instantiationUrl\": \"https: //sharepoint.mycompany.com/_layouts/IniWrkflIP.aspx?List=fc17890e-8c0311-cea9-40d1-a183-6edde9333815}&Web={ec744d8e-ae0a-45dd-bcd1-8a63b9b399bd}\",\n         *              \"templateId\": \"59062311-cea9-40d1-a183-6edde9333815\"\n         *          }]\n         *     });\n         * </pre>\n         * @param {string} fileRefString Relative or static url referencing the item.\n         * @returns {object} Resolves with an array of objects defining each of the available workflows for the item.\n         */\n        getAvailableWorkflows(fileRefString: string): ng.IPromise<IWorkflowDefinition[]> {\n            /** Build the full url for the fileRef if not already provided.  FileRef for an item defaults to a relative url */\n            let itemUrl = fileRefString.indexOf(': //') > -1 ? fileRefString : this.createItemUrlFromFileRef(fileRefString);\n\n            return this.serviceWrapper({\n                operation: 'GetTemplatesForItem',\n                item: itemUrl\n            })\n                .then(function(responseXML) {\n                    let workflowTemplates = [];\n                    let xmlTemplates = apXMLToJSONService.filterNodes(responseXML, 'WorkflowTemplate');\n                    _.each(xmlTemplates, function(xmlTemplate: JQuery) {\n                        let template = {\n                            name: $(xmlTemplate).attr('Name'),\n                            instantiationUrl: $(xmlTemplate).attr('InstantiationUrl'),\n                            templateId: '{' + $(xmlTemplate).find('WorkflowTemplateIdSet').attr('TemplateId') + '}'\n                        };\n                        workflowTemplates.push(template);\n                    });\n                    return workflowTemplates;\n                });\n        }\n\n        /**\n         * @ngdoc function\n         * @name DataService.getCollection\n         * @description\n         * Used to handle any of the Get[filterNode]Collection calls to SharePoint\n         *\n         * @param {Object} options - object used to extend payload and needs to include all SPServices required attributes\n         * @param {string} options.operation Can be any of the below or any other requests for collections:\n         *  - GetAttachmentCollection @requires options.listName & options.ID\n         *  - GetGroupCollectionFromSite\n         *  - GetGroupCollectionFromUser @requires options.userLoginName\n         *  - GetListCollection\n         *  - GetUserCollectionFromGroup @requires options.groupName\n         *  - GetUserCollectionFromSite\n         *  - GetViewCollection @requires options.listName\n         * @param {string} options.filterNode Value to iterate over in returned XML\n         *         if not provided it's extracted from the name of the operation\n         *         ex: Get[User]CollectionFromSite, \"User\" is used as the filterNode\n         * @param {string} [options.groupName] Valid for 'GetUserCollectionFromGroup'\n         * @param {string} [options.listName] Valid for 'GetViewCollection' or 'GetAttachmentCollection'\n         * @param {string} [options.userLoginName] Valid for 'GetGroupCollectionFromUser'\n         * @returns {Promise<object[]>} Promise which when resolved will contain an array of objects representing the\n         * requested collection.\n         *\n         * @example\n         * <pre>\n         * DataService.getCollection({\n         *        operation: \"GetGroupCollectionFromUser\",\n         *        userLoginName: $scope.state.selectedUser.LoginName\n         *        }).then(function (response) {\n         *            postProcessFunction(response);\n         *       });\n         * </pre>\n         */\n        getCollection(options: IGetCollectionOptions): ng.IPromise<Object[]> {\n            let defaults = {\n                postProcess: processXML\n            };\n            let opts: IGetCollectionOptions = _.assign({}, defaults, options);\n\n            /** Determine the XML node to iterate over if filterNode isn't provided */\n            let filterNode = opts.filterNode || opts.operation.split('Get')[1].split('Collection')[0];\n\n            let deferred = $q.defer();\n\n            /** Convert the xml returned from the server into an array of js objects */\n            function processXML(responseXML: XMLDocument) {\n                let convertedItems: Object[] = [];\n                let filteredNodes = apXMLToJSONService.filterNodes(responseXML, filterNode);\n                /** Get attachments only returns the links associated with a list item */\n                if (opts.operation === 'GetAttachmentCollection') {\n                    /** Unlike other call, get attachments only returns strings instead of an object with attributes */\n                    _.each(filteredNodes, (node: JQuery) => convertedItems.push($(node).text()));\n                } else {\n                    convertedItems = apXMLToJSONService.parse(filteredNodes, { includeAllAttrs: true, removeOws: false });\n                }\n                return convertedItems;\n            }\n\n            let validPayload = this.validateCollectionPayload(opts);\n            if (validPayload) {\n                this.serviceWrapper(opts)\n                    .then((response) => {\n                        deferred.resolve(response);\n                    })\n                    .catch((err) => deferred.reject(err));\n            } else {\n                deferred.reject(`Invalid payload for ${opts.operation} request.`);\n            }\n\n            return deferred.promise;\n        }\n\n        /**\n         * @ngdoc function\n         * @name DataService.getCurrentSite\n         * @description\n         * Requests and caches the root url for the current site.  It caches the response so any future calls receive\n         * the cached promise.\n         * @returns {promise} Resolves with the current site root url.\n         */\n        getCurrentSite(): ng.IPromise<string> {\n            let deferred = $q.defer();\n            //let self = this.getCurrentSite;\n            if (!this.queryForCurrentSite) {\n                /** We only want to run this once so cache the promise the first time and just reference it in the future */\n                this.queryForCurrentSite = deferred.promise;\n\n                let soapData = SPServices.SOAPEnvelope.header +\n                    \"<WebUrlFromPageUrl xmlns='\" + SPServices.SCHEMASharePoint + \"/soap/' ><pageUrl>\" +\n                    ((location.href.indexOf(\"?\") > 0) ? location.href.substr(0, location.href.indexOf(\"?\")) : location.href) +\n                    \"</pageUrl></WebUrlFromPageUrl>\" +\n                    SPServices.SOAPEnvelope.footer;\n\n                $http({\n                    method: 'POST',\n                    url: '/_vti_bin/Webs.asmx',\n                    data: soapData,\n                    responseType: \"document\",\n                    headers: {\n                        \"Content-Type\": \"text/xml;charset='utf-8'\"\n                    }\n                })\n                    .then((response) => {\n                        /** Success */\n                        let errorMsg = apDecodeService.checkResponseForErrors(response.data);\n                        if (errorMsg) {\n                            this.errorHandler('Failed to get current site.  ' + errorMsg, deferred, soapData);\n                        }\n                        apConfig.defaultUrl = $(response.data).find(\"WebUrlFromPageUrlResult\").text();\n                        deferred.resolve(apConfig.defaultUrl)\n                    })\n                    .catch((err) => {\n                        /** Error */\n                        this.errorHandler('Failed to get current site.  ' + err, deferred, soapData);\n                    });\n            }\n            return this.queryForCurrentSite;\n        }\n\n        /**\n         * @ngdoc function\n         * @name DataService.getFieldVersionHistory\n         * @description\n         * Returns the version history for a field in a list item.\n         * @param {object} options Configuration object passed to SPServices.\n         * <pre>\n         * let options = {\n         *        operation: 'GetVersionCollection',\n         *        webURL: apConfig.defaultUrl,\n         *        strlistID: model.getListId(),\n         *        strlistItemID: listItem.id,\n         *        strFieldName: fieldDefinition.staticName\n         *    };\n         * </pre>\n         * @param {object} fieldDefinition Field definition object from the model.\n         * @returns {object[]} Promise which resolves with an array of list item changes for the specified field.\n         */\n        getFieldVersionHistory<T extends ListItem<any>>(options: IGetFieldVersionHistoryOptions, fieldDefinition: IFieldDefinition): ng.IPromise<FieldVersionCollection> {\n            let defaults = {\n                operation: 'GetVersionCollection'\n            };\n            let opts = _.assign({}, defaults, options);\n\n            return this.serviceWrapper(opts)\n                .then((response) => {\n                    /** Parse XML response */\n                    let fieldVersionCollection = apDecodeService.parseFieldVersions(response, fieldDefinition);\n                    /** Resolve with an array of all field versions */\n                    return fieldVersionCollection;\n                })\n                .catch((err) => {\n                    /** Failure */\n                    return `Failed to fetch version history. Error: ${err}`;\n                });\n        }\n\n        /**\n         * @ngdoc function\n         * @name DataService.getGroupCollectionFromUser\n         * @description\n         * Fetches an array of group names the user is a member of.  If no user is provided we use the current user.\n         * @param {string} [login=CurrentUser] Optional param of another user's login to return the profile for.\n         * @returns {string[]} Promise which resolves with the array of groups the user belongs to.\n         */\n        getGroupCollectionFromUser(login?: string): ng.IPromise<IXMLGroup[]> {\n            /** Create a new deferred object if not already defined */\n            let deferred = $q.defer();\n            let getGroupCollection = (userLoginName) => {\n                this.serviceWrapper({\n                    operation: 'GetGroupCollectionFromUser',\n                    userLoginName: userLoginName,\n                    filterNode: 'Group'\n                }).then((groupCollection: IXMLGroup[]) => deferred.resolve(groupCollection));\n            };\n\n            if (!login) {\n                /** No login name provided so lookup profile for current user */\n                this.getUserProfileByName()\n                    .then((userProfile) => getGroupCollection(userProfile.userLoginName));\n            } else {\n                getGroupCollection(login);\n            }\n            return deferred.promise;\n        }\n\n        /**\n         * @ngdoc function\n         * @name DataService.getList\n         * @description\n         * Returns all list details including field and list config.\n         * @param {object} options Configuration parameters.\n         * @param {string} options.listName GUID of the list.\n         * @param {string} [options.webURL] URL to the site containing the list if differnt from primary data site in apConfig.\n         * @returns {object} Promise which resolves with an object defining field and list config.\n         */\n        getList(options: { listName: string, webURL?: string }): ng.IPromise<Object> {\n            let defaults = {\n                operation: 'GetList'\n            };\n\n            let opts: { operation: string; listName: string; webURL?: string} = _.assign({}, defaults, options);\n            return this.serviceWrapper(opts);\n        }\n\n        /**\n         * @ngdoc function\n         * @name DataService.getListFields\n         * @description\n         * Returns field definitions for a specified list.\n         * @param {object} options Configuration parameters.\n         * @param {string} options.listName GUID of the list.\n         * @param {string} [options.webURL] URL to the site containing the list if differnt from primary data site in apConfig.\n         * @returns {Promise} Promise which resolves with an array of field definitions for the list.\n         */\n        getListFields(options: { listName: string; webURL?: string }): ng.IPromise<IXMLFieldDefinition[]> {\n            return this.getList(options)\n                .then((responseXML) => {\n                    let filteredNodes = apXMLToJSONService.filterNodes(responseXML, 'Field');\n                    let fields = apXMLToJSONService.parse(filteredNodes, { includeAllAttrs: true, removeOws: false });\n                    return fields;\n                });\n        }\n\n        /**\n         * @ngdoc function\n         * @name DataService.getUserProfile\n         * @description\n         * Returns the profile for an optional user, but defaults the the current user if one isn't provided.\n         * Pull user profile info and parse into a profile object\n         * http: //spservices.codeplex.com/wikipage?title=GetUserProfileByName\n         * @param {string} [login=CurrentUser] Optional param of another user's login to return the profile for.\n         * @returns {object} Promise which resolves with the requested user profile.\n         */\n        getUserProfileByName(login?: string): ng.IPromise<IXMLUserProfile> {\n            let payload = {\n                accountName: undefined,\n                operation: 'GetUserProfileByName'\n            };\n            if (login) {\n                payload.accountName = login;\n            }\n\n            return this.serviceWrapper(payload)\n                .then((responseXML) => {\n                    let userProfile = {\n                        AccountName: undefined,\n                        userLoginName: undefined\n                    };\n                    //Not formatted like a normal SP response so need to manually parse\n                    let filteredNodes = apXMLToJSONService.filterNodes(responseXML, 'PropertyData');\n                    _.each(filteredNodes, (node: JQuery) => {\n                        let nodeName = apXMLToJSONService.filterNodes(node, 'Name');\n                        let nodeValue = apXMLToJSONService.filterNodes(node, 'Value');\n                        if (nodeName.length > 0 && nodeValue.length > 0) {\n                            userProfile[nodeName.text().trim()] = nodeValue.text().trim();\n                        }\n                    });\n\n                    /** Optionally specify a necessary prefix that should appear before the user login */\n                    userProfile.userLoginName = apConfig.userLoginNamePrefix ?\n                        (apConfig.userLoginNamePrefix + userProfile.AccountName) : userProfile.AccountName;\n                    return userProfile;\n                });\n        }\n\n        /**\n         * @ngdoc function\n         * @name DataService.processChangeTokenXML\n         * @description\n         * The initial call to GetListItemChangesSinceToken also includes the field definitions for the\n         * list so extend the existing field definitions and list defined in the model.  After that, store\n         * the change token and make any changes to the user's permissions for the list.\n         * @param {Model} model List model.\n         * @param {IQuery} query Valid query object.\n         * @param {XMLDocument} responseXML XML response from the server.\n         * @param {IndexedCache<T>} cache Cache to process in order to handle deletions.\n         */\n        processChangeTokenXML<T extends ListItem<any>>(model: Model, query: IQuery<T>, responseXML: XMLDocument, cache: IndexedCache<T>): void {\n            if (!model.deferredListDefinition) {\n                //Extend our local list definition and field definitions with XML\n                apDecodeService.extendListMetadata(model, responseXML);\n\n                /**If loaded from local or session cache the list/field definitions won't be extended so ensure we check before\n                 * resolving promise verifying list has been extended.  One of the attributes we'd expect to see on all List/Libraries\n                 * is \"BaseType\" */\n                if (model.getList().BaseType) {\n                    //List successfully extended\n                    /** Replace the null placeholder with this resolved promise so we don't have to process in the future and also\n                    * don't have to query again if we run Model.extendListMetadata. */\n                    model.deferredListDefinition = $q.when(model);\n                }\n            }\n\n            /** Store token for future web service calls to return changes */\n            let changeToken = this.retrieveChangeToken(responseXML);\n            if (changeToken) {\n                /** Don't update change token if request fails to return a valid response */\n                query.changeToken = changeToken;\n            }\n\n            /** Update the user permissions for this list */\n            let permissions = this.retrieveListPermissions(responseXML);\n            if (permissions) {\n                model.list.permissions = permissions;\n            }\n\n            /** Change token query includes deleted items as well so we need to process them separately */\n            this.processDeletionsSinceToken(responseXML, cache);\n        }\n\n        /**\n         * @ngdoc function\n         * @name DataService.processDeletionsSinceToken\n         * @description\n         * GetListItemChangesSinceToken returns items that have been added as well as deleted so we need\n         * to remove the deleted items from the local cache.\n         * @param {XMLDocument} responseXML XML response from the server.\n         * @param {Object} cache Cached object of key value pairs.\n         */\n        processDeletionsSinceToken(responseXML: XMLDocument, cache: IndexedCache<any>): void {\n            /** Remove any locally cached entities that were deleted from the server */\n            let filteredNodes = apXMLToJSONService.filterNodes(responseXML, 'Id');\n            _.each(filteredNodes, (node: JQuery) => {\n                /** Check for the type of change */\n                let changeType = $(node).attr('ChangeType');\n\n                if (changeType === 'Delete') {\n                    let listItemId = parseInt($(node).text(), 10);\n                    /** Remove from local data array */\n                    cache.delete(listItemId);\n                }\n            });\n        }\n\n        /**\n         * @ngdoc function\n         * @name DataService.requestData\n         * @description\n         * The primary function that handles all communication with the server.  This is very low level and isn't\n         * intended to be called directly.\n         * @param {object} opts Payload object containing the details of the request.\n         * @returns {promise} Promise that resolves with the server response.\n         */\n        requestData(opts): ng.IPromise<XMLDocument> {\n            let deferred = $q.defer();\n            let soapData = SPServices.generateXMLComponents(opts);\n            let service = apWebServiceOperationConstants[opts.operation][0];\n\n            this.generateWebServiceUrl(service, opts.webURL)\n                .then((url) => {\n                    $http.post(url, soapData.msg, {\n                        responseType: \"document\",\n                        headers: {\n                            \"Content-Type\": \"text/xml;charset='utf-8'\",\n                            SOAPAction: () => soapData.SOAPAction ? soapData.SOAPAction : null\n                        },\n                        transformResponse: (data, headersGetter) => {\n                            if (_.isString(data)) {\n                                data = $.parseXML(data);\n                            }\n                            return data;\n                        }\n                    })\n                        .then((response) => {\n                            // Success Code\n                            // Errors can still be resolved without throwing an error so check the XML\n                            let errorMsg = apDecodeService.checkResponseForErrors(response.data);\n                            if (errorMsg) {\n                                // Actuall error but returned with success resonse....thank you SharePoint\n                                this.errorHandler(errorMsg, deferred, soapData, response);\n                            } else {\n                                /** Real success */\n                                deferred.resolve(response.data);\n                            }\n                        })\n                        .catch((err) => {\n                            // Failure\n                            this.errorHandler(err, deferred, soapData);\n                        });\n                });\n\n            return deferred.promise;\n        }\n\n        /**\n         * @ngdoc function\n         * @name DataService.retrieveChangeToken\n         * @description\n         * Returns the change token from the xml response of a GetListItemChangesSinceToken query\n         * Note: this attribute is only found when using 'GetListItemChangesSinceToken'\n         * @param {XMLDocument} responseXML XML response from the server.\n         */\n        retrieveChangeToken(responseXML: XMLDocument): string {\n            return $(responseXML).find('Changes').attr('LastChangeToken');\n        }\n\n        /**\n         * @ngdoc function\n         * @name DataService.retrieveListPermissions\n         * @description\n         * Returns the text representation of the users permission mask\n         * Note: this attribute is only found when using 'GetListItemChangesSinceToken'\n         * @param {XMLDocument} responseXML XML response from the server.\n         */\n        retrieveListPermissions(responseXML: XMLDocument): IUserPermissionsObject {\n            //Permissions will be a string of Permission names delimited by commas\n            //Example: \"ViewListItems, AddListItems, EditListItems, DeleteListItems, ....\"\n            let listPermissions: string = $(responseXML).find('listitems').attr('EffectivePermMask');\n            let permissionObject;\n            if (_.isString(listPermissions)) {\n                let permissionNameArray = listPermissions.split(',');\n                permissionObject = new ap.BasePermissionObject();\n                //Set each of the identified permission levels to true\n                _.each(permissionNameArray, (permission: string) => {\n                    //Remove extra spaces\n                    let permissionName = permission.trim();\n                    //Find the permission level on the permission object that is currently set to false\n                    //and set to true\n                    permissionObject[permissionName] = true;\n\n                    if (permissionName === 'FullMask') {\n                        //User has full rights so set all to true\n                        _.each(permissionObject, (propertyValue, propertyName) => {\n                            permissionObject[propertyName] = true;\n                        })\n                    }\n                });\n            }\n\n            return permissionObject;\n\n        }\n\n        /**\n         * @ngdoc function\n         * @name DataService.serviceWrapper\n         * @description\n         * Generic wrapper for any SPServices web service call.  The big benefit to this function is it allows us\n         * to continue to use the $q promise model throughout the application instead of using the promise\n         * implementation used in SPServices so we have a more consistent experience.\n         * Check http: //spservices.codeplex.com/documentation for details on expected parameters for each operation.\n         *\n         * @param {object} options Payload params that is directly passed to SPServices.\n         * @param {string} [options.filterNode] XML filter string used to find the elements to iterate over.\n         * This is typically 'z: row' for list items.\n         * @param {Function} [options.postProcess] Method to process responseXML prior to returning.\n         * @param {string} [options.webURL] XML filter string used to find the elements to iterate over.\n         * @returns {object} Returns a promise which when resolved either returns clean objects parsed by the value\n         * in options.filterNode or the raw XML response if a options.filterNode\n         *\n         *      If options.filterNode is provided, returns XML parsed by node name\n         *      Otherwise returns the server response\n         */\n        serviceWrapper(options: IServiceWrapperOptions): ng.IPromise<any> {\n            let defaults = {\n                postProcess: processXML,\n                webURL: apConfig.defaultUrl\n            };\n            let opts: IServiceWrapperOptions = _.assign({}, defaults, options);\n\n            /** Convert the xml returned from the server into an array of js objects */\n            function processXML(responseXML: Object) {\n                if (opts.filterNode) {\n                    let filteredNodes = apXMLToJSONService.filterNodes(responseXML, opts.filterNode);\n                    return apXMLToJSONService.parse(filteredNodes, { includeAllAttrs: true, removeOws: false });\n                } else {\n                    return responseXML;\n                }\n            }\n\n            return this.requestData(opts)\n                .then((responseXML) => {\n                    /** Success */\n                    return opts.postProcess(responseXML);\n                })\n                .catch((err: Error) => {\n                    /** Failure */\n                    return err + '  Failed to complete the requested ' + opts.operation + ' operation.';\n                });\n\n        }\n\n        /**\n         * @ngdoc function\n         * @name DataService.startWorkflow\n         * @description\n         * Initiate a workflow for a given list item or document.  You can view additional info at\n         * [StartWorkflow](http: //spservices.codeplex.com/wikipage?title=StartWorkflow&referringTitle=Workflow).\n         * @param {object} options Configuration options.\n         * @param {string} options.item Full fileRef for the given list item/document.\n         * @param {string} options.templateId The workflow template GUID.  You can use dataService.getAvailableWorkflows\n         * to locate to appropriate one.\n         * @param {string} [options.workflowParameters='<root />'] Optionally provide paramaters to the workflow.\n         * @param {string} [options.fileRef] Optionally pass in the relative fileRef of an listItem and then we can\n         * convert it to options.item.\n         * @returns {object} Deferred object that resolves once complete.\n         * @example\n         * <pre>\n         * DataService.startWorkflow({\n         *     item: \"https: //server/site/Lists/item\" + idData + \"_.000\",\n         *     templateId: \"{c29c1291-a25c-47d7-9345-8fb1de2a1fa3}\",\n         *     workflowParameters: \"<Data><monthName>\" + txtBox.value + \"</monthName></Data>\",\n         *   ...}).then(function() {\n         *       //Success\n         *   }, function(err) {\n         *       //Error\n         *   })\n         * </pre>\n         */\n        startWorkflow(options: { item: string; templateId: string; workflowParameters?: string; fileRef?: string; }): ng.IPromise<any> {\n            let defaults = {\n                operation: 'StartWorkflow',\n                item: '',\n                fileRef: '',\n                templateId: '',\n                workflowParameters: '<root />'\n            };\n            let opts: { item: string; fileRef: string; } = _.assign({}, defaults, options);\n\n            /** We have the relative file reference but we need to create the fully qualified reference */\n            if (!opts.item && opts.fileRef) {\n                opts.item = this.createItemUrlFromFileRef(opts.fileRef);\n            }\n\n            return this.serviceWrapper(opts);\n        }\n\n        /**\n         * @description\n         * Simply verifies that all components of the payload are present.\n         * @param {object} opts Payload config.\n         * @returns {boolean} Collection is valid.\n         */\n        validateCollectionPayload(opts): boolean {\n            let validPayload = true;\n            let verifyParams = (params) => {\n                _.each(params, (param) => {\n                    if (!opts[param]) {\n                        console.warn('options' + param + ' is required to complete this operation');\n                        validPayload = false;\n                    }\n                });\n            };\n\n            //Verify all required params are included\n            switch (opts.operation) {\n                case 'GetGroupCollectionFromUser':\n                    verifyParams(['userLoginName']);\n                    break;\n                case 'GetUserCollectionFromGroup':\n                    verifyParams(['groupName']);\n                    break;\n                case 'GetViewCollection':\n                    verifyParams(['listName']);\n                    break;\n                case 'GetAttachmentCollection':\n                    verifyParams(['listName', 'ID']);\n                    break;\n            }\n            return validPayload;\n        }\n\n        private errorHandler(errorMsg: string, deferred: ng.IDeferred<any>, soapData: Object, response?: Object) {\n            //Log error to any server side logging list\n            apLogger.error(errorMsg, {\n                json: {\n                    request: JSON.stringify(soapData, null, 2),\n                    response: JSON.stringify(response, null, 2)\n                }\n            });\n\n            deferred.reject(errorMsg);\n        }\n\n    }\n\n    interface IGetCollectionOptions {\n        filterNode: string;\n        ID?: number;\n        groupName?: string;\n        listName?: string;\n        operation: string;\n        userLoginName?: string;\n        webURL?: string;\n    }\n\n    interface IServiceWrapperOptions {\n        filterNode?: string;\n        listItemID?: number;\n        operation: string;\n        postProcess?: (responseXML: Object) => any;\n        webURL?: string;\n        [key: string]: any;\n    }\n\n    interface IUpdateListitemOptions {\n        buildValuePairs?: boolean;\n        valuePairs?: [string, any][];\n    }\n\n    interface IGetFieldVersionHistoryOptions {\n        operation?: string;\n        strFieldName?: string;\n        strListID: string;\n        strListItemID: number;\n        webURL?: string;\n    }\n\n    angular\n        .module('angularPoint')\n        .service('apDataService', DataService);\n\n}\n","/// <reference path=\"../app.module.ts\" />\n\nmodule ap {\n    'use strict';\n\n    /**\n     * @ngdoc service\n     * @name angularPoint.apDecodeService\n     * @description\n     * Processes the XML received from SharePoint and converts it into JavaScript objects based on predefined field types.\n     *\n     * @requires angularPoint.apUtilityService\n     * @requires angularPoint.apConfig\n     * @requires angularPoint.apCacheService\n     */\n    export class DecodeService {\n        static $inject = ['apCacheService', 'apLookupFactory', 'apUserFactory', 'apFieldService',\n            'apXMLListAttributeTypes', 'apXMLFieldAttributeTypes', 'apXMLToJSONService'];\n\n        constructor(private apCacheService: CacheService, private apLookupFactory: LookupFactory,\n            private apUserFactory: UserFactory, private apFieldService: FieldService, private apXMLListAttributeTypes: XMLListAttributeTypes,\n            private apXMLFieldAttributeTypes: XMLFieldAttributeTypes, private apXMLToJSONService: XMLToJSONService) {\n\n        }\n\n        /**\n         * @ngdoc function\n         * @name angularPoint.apDecodeService:checkResponseForErrors\n         * @methodOf angularPoint.apDecodeService\n         * @description\n         * Errors don't always throw correctly from SPServices so this function checks to see if part\n         * of the XHR response contains an \"errorstring\" element.\n         * @param {object} responseXML XHR response from the server.\n         * @returns {string} Returns an error string if present.\n         */\n        checkResponseForErrors(responseXML: XMLDocument): string {\n            let error;\n            /** Look for <errorstring></errorstring> or <ErrorText></ErrorText> for details on any errors */\n            let errorElements = ['ErrorText', 'errorstring'];\n            _.each(errorElements, (element) => {\n                $(responseXML).find(element).each(function() {\n                    error = $(this).text();\n                    /** Break early if found */\n                    return false;\n                });\n            });\n            return error;\n        }\n\n        /** Converts UTC date to a localized date\n         * Taken from: http://stackoverflow.com/questions/6525538/convert-utc-date-time-to-local-date-time-using-javascript\n         * */\n        convertUTCDateToLocalDate(date: Date): Date {\n            let newDate = new Date(date.getTime() + date.getTimezoneOffset() * 60 * 1000);\n\n            let offset = date.getTimezoneOffset() / 60;\n            let hours = date.getHours();\n\n            newDate.setHours(hours - offset);\n\n            return newDate;\n        }\n\n        /**\n         * @ngdoc function\n         * @name angularPoint.apDecodeService:createListItemProvider\n         * @methodOf angularPoint.apDecodeService\n         * @description\n         * The initial constructor for a list item that references the array where the entity exists and the\n         * query used to fetch the entity.  From there it extends the entity using the factory defined in the\n         * model for the list item.\n         * @param {object} model Reference to the model for the list item.\n         * @param {object} query Reference to the query object used to retrieve the entity.\n         * @param {object} indexedCache Location where we'll be pushing the new entity.\n         * @returns {Function} Returns a function that takes the new list item while keeping model, query,\n         * and container in scope for future reference.\n         */\n        createListItemProvider<T extends ListItem<any>>(model: Model, query: IQuery<T>, indexedCache: IndexedCache<T>): (rawObject: Object) => T {\n            return (rawObject: IUninstantiatedExtendedListItem<T>) => {\n                let listItem: T;\n\n                if (indexedCache.has(rawObject.id)) {\n                    //Object already exists in cache so we just need to update properties\n                    listItem = indexedCache.get(rawObject.id);\n\n                    //Call constructor on original list item to perform any initialization logic again\n                    listItem.constructor(rawObject);\n\n                } else {\n                    //Creating a new List Item\n\n                    /** Create Reference to the indexed cache */\n                    rawObject.getCache = () => indexedCache;\n\n                    /** Allow us to reference the originating query that generated this object */\n                    rawObject.getQuery = () => query;\n\n                    listItem = new model.factory<T>(rawObject);\n\n                    /** Register in global application listItem cache */\n                    this.apCacheService.registerEntity<T>(listItem, indexedCache);\n                }\n\n                //Store the value instead of just a reference to the original object\n                let pristineValue = _.cloneDeep(rawObject);\n\n                /**\n                * @ngdoc function\n                * @name ListItem.getPristine\n                * @description\n                * Allow us to reference the uninstantiated version of this list item.  Reference set\n                * via angularPoint.apDecodeService:createListItemProvider.\n                */\n                listItem.getPristine = () => pristineValue;\n\n                return indexedCache.get(rawObject.id);\n            }\n        }\n\n        /**\n         * @ngdoc function\n         * @name angularPoint.apDecodeService:extendFieldDefinitionsFromXML\n         * @methodOf angularPoint.apDecodeService\n         * @description\n         * Takes the XML response from a web service call and extends any field definitions in the model\n         * with additional field metadata.  Important to note that all properties will coming from the XML start\n         * with a capital letter.\n         * @param {object[]} fieldDefinitions Field definitions from the model.\n         * @param {object} responseXML XML response from the server.\n         */\n        extendFieldDefinitionsFromXML(fieldDefinitions: IFieldDefinition[], responseXML: XMLDocument): IFieldDefinition[] {\n            let fieldMap = {};\n\n            /** Map all custom fields with keys of the staticName and values = field definition */\n            _.each(fieldDefinitions, (field) => {\n                if (field.staticName) {\n                    fieldMap[field.staticName] = field;\n                }\n            });\n\n            /** Iterate over each of the field nodes */\n            let filteredNodes = this.apXMLToJSONService.filterNodes(responseXML, 'Field');\n\n            _.each(filteredNodes, (xmlField: Element) => {\n                let staticName = $(xmlField).attr('StaticName');\n                let fieldDefinition = fieldMap[staticName];\n\n                /** If we've defined this field then we should extend it */\n                if (fieldDefinition) {\n\n                    this.extendObjectWithXMLAttributes(xmlField, fieldDefinition, this.apXMLFieldAttributeTypes);\n\n                    /** Additional processing for Choice fields to include the default value and choices */\n                    if (fieldDefinition.objectType === 'Choice' || fieldDefinition.objectType === 'MultiChoice') {\n                        fieldDefinition.Choices = [];\n                        /** Convert XML Choices object to an array of choices */\n                        let xmlChoices = $(xmlField).find('CHOICE');\n                        _.each(xmlChoices, (xmlChoice) => {\n                            fieldDefinition.Choices.push($(xmlChoice).text());\n                        });\n                        fieldDefinition.Default = $(xmlField).find('Default').text();\n                    }\n                }\n            });\n\n            return fieldDefinitions;\n        }\n\n        /**\n         * @ngdoc function\n         * @name angularPoint.apDecodeService:extendListDefinitionFromXML\n         * @methodOf angularPoint.apDecodeService\n         * @description\n         * Takes the XML response from a web service call and extends the list definition in the model\n         * with additional field metadata.  Important to note that all properties will coming from the XML start\n         * with a capital letter.\n         * @param {object} list model.list\n         * @param {object} responseXML XML response from the server.\n         * @returns {object} Extended list object.\n         */\n        extendListDefinitionFromXML(list: List, responseXML: XMLDocument): List {\n            let service = this;\n            $(responseXML).find(\"List\").each(function() {\n                service.extendObjectWithXMLAttributes(this, list, service.apXMLListAttributeTypes);\n            });\n            return list;\n        }\n\n        /**\n         * @ngdoc function\n         * @name angularPoint.apDecodeService:extendListMetadata\n         * @methodOf angularPoint.apDecodeService\n         * @description\n         * Convenience method that extends the list definition and the field definitions from an xml list response\n         * from the server.  Can be used specifically with GetListItemsSinceToken and GetList operations.\n         * @param {object} model Model for a given list.\n         * @param {object} responseXML XML response from the server.\n         */\n        extendListMetadata(model: Model, responseXML: XMLDocument): void {\n            this.extendListDefinitionFromXML(model.list, responseXML);\n            this.extendFieldDefinitionsFromXML(model.list.fields, responseXML);\n        }\n\n        /**\n         * @ngdoc function\n         * @name angularPoint.apDecodeService:extendObjectWithXMLAttributes\n         * @methodOf angularPoint.apDecodeService\n         * @description\n         * Takes an XML element and copies all attributes over to a given JS object with corresponding values.  If\n         * no JS Object is provided, it extends an empty object and returns it.  If an attributeTypes object is provided\n         * we parse each of the defined field so they are typed correctly instead of being a simple string.\n         * Note: Properties are not necessarily CAMLCase.\n         * @param {object} xmlObject An XML element.\n         * @param {object} [jsObject={}] An optional JS Object to extend XML attributes to.\n         * @param {object} [attributeTypes={}] Key/Val object with keys being the name of the field and val being the\n         * type of field.\n         * @returns {object} JS Object\n         */\n        extendObjectWithXMLAttributes(xmlObject: Element, jsObject?: Object, attributeTypes?: Object): Object {\n            let objectToExtend = jsObject || {};\n            let attributeMap = attributeTypes || {};\n            let xmlAttributes = xmlObject.attributes;\n\n            _.each(xmlAttributes, (attr, attrNum) => {\n                let attrName = xmlAttributes[attrNum].name;\n                objectToExtend[attrName] = $(xmlObject).attr(attrName);\n                if (attributeMap[attrName]) {\n                    objectToExtend[attrName] = this.parseStringValue(objectToExtend[attrName], attributeMap[attrName]);\n                }\n            });\n            return objectToExtend;\n        }\n\n\n        jsAttachments(str): string[] | number | string {\n            /* Depending on CAMLQueryOptions Config an attachment can be formatted in 1 of the below 3 ways:\n             1. {number} The number of attachments for a given list item.\n             CAMLQueryOptions\n             <IncludeAttachmentUrls>FALSE</IncludeAttachmentUrls>\n             <IncludeAttachmentVersion>FALSE</IncludeAttachmentVersion>\n\n             Example\n             ows_Attachments=\"2\"\n\n             2. {string}\n             CAMLQueryOptions\n             <IncludeAttachmentUrls>TRUE</IncludeAttachmentUrls>\n             <IncludeAttachmentVersion>FALSE</IncludeAttachmentVersion>\n\n             Format\n             ;#[ListUrl]/Attachments/[ListItemId]/[FileName];#\n\n             Example:\n             ows_Attachments=\";#https://SharePointSite.com/Lists/Widgets/Attachments/4/DocumentName.xlsx;#\"\n\n             //Todo Check to see if there is any value in this option\n             3. {string} NOTE: We don't currently handle this format.\n             CAMLQueryOptions\n             <IncludeAttachmentUrls>TRUE</IncludeAttachmentUrls>\n             <IncludeAttachmentVersion>TRUE</IncludeAttachmentVersion>\n\n             Format\n             ;#[ListUrl]/Attachments/[ListItemId]/[FileName];#[AttachmentGUID],[Version Number];#\n\n             Example:\n             ows_Attachments=\";#https://SharePointSite.com/Lists/Widgets/Attachments/4/DocumentName.xlsx;#{4378D394-8601-480D-ABD0-0A0505E726FB},1;#\"\n             */\n            if (!isNaN(str)) {\n                /** Value is a number current stored as a string */\n                let int = parseInt(str);\n                if (int > 0) {\n                    return int;\n                } else {\n                    return '';\n                }\n            } else {\n                /** Split into an array of attachment URLs */\n                return this.jsChoiceMulti(str);\n            }\n        }\n\n        jsBoolean(str: string): boolean {\n            /** SharePoint uses different string representations for booleans in different places so account for each */\n            return str === '1' || str === 'True' || str === 'TRUE';\n        }\n\n        jsCalc(str: string): any {\n            if (str.length === 0) {\n                return null;\n            } else {\n                let thisCalc = str.split(';#');\n                // The first value will be the calculated column value type, the second will be the value\n                return this.parseStringValue(thisCalc[1], thisCalc[0]);\n            }\n        }\n\n        jsChoiceMulti(str: string): string[] {\n            if (str.length === 0) {\n                return [];\n            } else {\n                let thisChoiceMultiObject = [];\n                let thisChoiceMulti = str.split(';#');\n                for (let i = 0; i < thisChoiceMulti.length; i++) {\n                    if (thisChoiceMulti[i].length !== 0) {\n                        thisChoiceMultiObject.push(thisChoiceMulti[i]);\n                    }\n                }\n                return thisChoiceMultiObject;\n            }\n        }\n\n        jsDate(str: string): Date {\n            if (!str) {\n                return null;\n            } else {\n                /** Replace dashes with slashes and the \"T\" deliminator with a space if found */\n                let dt = str.split(\"T\")[0] !== str ? str.split(\"T\") : str.split(\" \");\n                let d = dt[0].split(\"-\");\n                let t = dt[1].split(\":\");\n                let t3 = t[2].split(\"Z\");\n                return new Date(d[0], (d[1] - 1), d[2], t[0], t[1], t3[0]);\n            }\n        }\n\n        jsFloat(str: string): number {\n            if (!str) {\n                return str;\n            } else {\n                return parseFloat(str);\n            }\n        }\n\n        jsInt(str: string): number {\n            if (!str) {\n                return str;\n            } else {\n                return parseInt(str, 10);\n            }\n        }\n\n        jsLookup(str: string, options?: Object): ILookup<any> {\n            if (str.length === 0) {\n                return null;\n            } else {\n                //Send to constructor\n                return this.apLookupFactory.create(str, options);\n            }\n        }\n\n        jsLookupMulti(str: string, options?: Object): ILookup<any>[] {\n            if (str.length === 0) {\n                return [];\n            } else {\n                let thisLookupMultiObject = [];\n                let thisLookupMulti = str.split(';#');\n                for (let i = 0; i < thisLookupMulti.length; i = i + 2) {\n                    /** Ensure a lookup id is present before attempting to push a new lookup */\n                    if (thisLookupMulti[i]) {\n                        let thisLookup = this.jsLookup(thisLookupMulti[i] + ';#' + thisLookupMulti[i + 1], options);\n                        thisLookupMultiObject.push(thisLookup);\n                    }\n                }\n                return thisLookupMultiObject;\n            }\n        }\n\n        jsObject(str: string): Object {\n            if (!str) {\n                return str;\n            } else {\n                /** Ensure JSON is valid and if not throw error with additional detail */\n                let json = null;\n                try {\n                    json = JSON.parse(str);\n                }\n                catch (err) {\n                    console.error('Invalid JSON: ', str);\n                }\n                return json;\n            }\n        }\n\n        jsString(str: string): string {\n            return str;\n        }\n\n        jsUser(str: string): IUser {\n            if (str.length === 0) {\n                return null;\n            }\n            //Send to constructor\n            return this.apUserFactory.create(str);\n        }\n\n        jsUserMulti(str: string): IUser[] {\n            if (str.length === 0) {\n                return [];\n            } else {\n                let thisUserMultiObject = [];\n                let thisUserMulti = str.split(';#');\n                for (let i = 0; i < thisUserMulti.length; i = i + 2) {\n                    let thisUser = this.jsUser(thisUserMulti[i] + ';#' + thisUserMulti[i + 1]);\n                    thisUserMultiObject.push(thisUser);\n                }\n                return thisUserMultiObject;\n            }\n        }\n\n        /**\n         * @ngdoc function\n         * @name angularPoint.apDecodeService:parseFieldVersions\n         * @methodOf angularPoint.apDecodeService\n         * @description\n         * Takes an XML response from SharePoint webservice and returns an array of field versions.\n         *\n         * @param {xml} responseXML Returned XML from web service call.\n         * @param {object} fieldDefinition Field definition from the model.\n         *\n         * @returns {FieldVersionCollection} FieldVersionCollection object with all versions included.\n         */\n        parseFieldVersions(responseXML: XMLDocument, fieldDefinition: IFieldDefinition): FieldVersionCollection {\n            // let versions = {};\n            let xmlVersions = $(responseXML).find('Version');\n            let versionCount = xmlVersions.length;\n\n            let fieldVersionCollection = new ap.FieldVersionCollection(fieldDefinition);\n\n            _.each(xmlVersions, (xmlVersion, index) => {\n\n                /** Bug in SOAP Web Service returns time in UTC time for version history\n                 *  Details: https://spservices.codeplex.com/discussions/391879\n                 */\n                let utcDate = this.parseStringValue($(xmlVersion).attr('Modified'), 'DateTime');\n\n                /** Parse the xml and create a representation of the version as a js object */\n                let editor = this.parseStringValue($(xmlVersion).attr('Editor'), 'User');\n                /** Turn the SharePoint formatted date into a valid date object */\n                let modified = this.convertUTCDateToLocalDate(utcDate);\n                /** Properly format field based on definition from model */\n                let value = this.parseStringValue($(xmlVersion).attr(fieldDefinition.staticName), fieldDefinition.objectType);\n                let version = versionCount - index;\n\n                /** Add each distict version to the version collection */\n                fieldVersionCollection.addVersion(editor, modified, value, version);\n\n            });\n\n            return fieldVersionCollection;\n        }\n\n        /**\n         * @ngdoc function\n         * @name angularPoint.apDecodeService:parseStringValue\n         * @methodOf angularPoint.apDecodeService\n         * @description\n         * Converts a SharePoint string representation of a field into the correctly formatted JavaScript version\n         * based on object type.  A majority of this code is directly taken from Marc Anderson's incredible\n         * [SPServices](http://spservices.codeplex.com/) project but it needed some minor tweaking to work here.\n         * @param {string} str SharePoint string representing the value.\n         * @param {string} [objectType='Text'] The type based on field definition.  See\n         * See [List.customFields](#/api/List.FieldDefinition) for additional info on how to define a field type.\n         * @param {object} [options] Options to pass to the object constructor.\n         * @param {object} [options.entity] Reference to the parent list item which can be used by child constructors.\n         * @param {object} [options.propertyName] Name of property on the list item.\n         * @returns {*} The newly instantiated JavaScript value based on field type.\n         */\n        parseStringValue(str: string, objectType?: string, options?: { entity: Object; propertyName: string; }): any {\n\n            let unescapedValue = _.unescape(str);\n\n            let colValue;\n\n            switch (objectType) {\n                case 'Attachments':\n                    colValue = this.jsAttachments(unescapedValue);\n                    break;\n                case 'Boolean':\n                    colValue = this.jsBoolean(unescapedValue);\n                    break;\n                case 'Calculated': // Formatted like type;#value so we break it apart and then pass back in to format correctly\n                    colValue = this.jsCalc(unescapedValue);\n                    break;\n                case 'datetime': // For calculated columns, stored as datetime;#value\n                case 'DateTime':\n                    // Dates have dashes instead of slashes: ows_Created='2009-08-25 14:24:48'\n                    colValue = this.jsDate(unescapedValue);\n                    break;\n                case 'Lookup':\n                    colValue = this.jsLookup(unescapedValue, options);\n                    break;\n                case 'User':\n                    colValue = this.jsUser(unescapedValue);\n                    break;\n                case 'LookupMulti':\n                    colValue = this.jsLookupMulti(unescapedValue, options);\n                    break;\n                case 'UserMulti':\n                    colValue = this.jsUserMulti(unescapedValue);\n                    break;\n                case 'Integer':\n                case 'Counter': // Only really used for the ID field\n                    colValue = this.jsInt(unescapedValue);\n                    break;\n                case 'Number':\n                case 'Currency':\n                case 'float': // For calculated columns, stored as float;#value\n                case 'Float':\n                    colValue = this.jsFloat(unescapedValue);\n                    break;\n                case 'MultiChoice':\n                    colValue = this.jsChoiceMulti(unescapedValue);\n                    break;\n                case 'JSON': // Not a true SharePoint field type but acts as a decorator for Note\n                    colValue = this.jsObject(unescapedValue);\n                    break;\n                case 'Choice':\n                case 'HTML':\n                case 'Note':\n                default:\n                    // All other objectTypes will be simple strings\n                    colValue = this.jsString(unescapedValue);\n                    break;\n            }\n            return colValue;\n        }\n\n        /**\n         * @ngdoc function\n         * @name angularPoint.apDecodeService:parseXMLEntity\n         * @methodOf angularPoint.apDecodeService\n         * @description\n         * Convert an XML list item into a JS object using the fields defined in the model for the given list item.\n         * @param {object} xmlEntity XML Object.\n         * @param {object} options Configuration options.\n         * @param {string} options.mapping Mapping of fields we'd like to extend on our JS object.\n         * @param {boolean} [options.includeAllAttrs=false] If true, return all attributes, regardless whether\n         * @param {boolean} [options.removeOws=true] Specifically for GetListItems, if true, the leading ows_ will be removed.\n         * @returns {object} New entity using the factory on the model.\n         */\n        parseXmlEntity<T extends ListItem<any>>(xmlEntity: Element, { mapping, includeAllAttrs = false, removeOws = true }: IParseXmlEntityOptions) {\n            let entity = {};\n            let rowAttrs = xmlEntity.attributes;\n\n            /** Bring back all mapped columns, even those with no value */\n            _.each(mapping, (fieldDefinition) => {\n                entity[fieldDefinition.mappedName] = this.apFieldService.getDefaultValueForType(fieldDefinition.objectType);\n            });\n\n            /** Parse through the element's attributes */\n            _.each(rowAttrs, (attr) => {\n                let thisAttrName = attr.name;\n                let thisMapping = mapping[thisAttrName];\n                let thisObjectName = typeof thisMapping !== 'undefined' ? thisMapping.mappedName : removeOws ? thisAttrName.split('ows_')[1] : thisAttrName;\n                let thisObjectType = typeof thisMapping !== 'undefined' ? thisMapping.objectType : undefined;\n                if (includeAllAttrs || thisMapping !== undefined) {\n                    entity[thisObjectName] = this.parseStringValue(attr.value, thisObjectType, {\n                        entity: entity,\n                        propertyName: thisObjectName\n                    });\n                }\n\n            });\n            return entity;\n        }\n\n\n        /**\n         * @ngdoc function\n         * @name angularPoint.apDecodeService:processListItems\n         * @methodOf angularPoint.apDecodeService\n         * @description\n         * Post processing of data after returning list items from server.  Returns a promise that resolves with\n         * the processed entities.  Promise allows us to batch conversions of large lists to prevent ui slowdowns.\n         * @param {object} model Reference to allow updating of model.\n         * @param {object} query Reference to the query responsible for requesting entities.\n         * @param {xml} responseXML Resolved promise from SPServices web service call.\n         * @param {object} [options] Optional configuration object.\n         * @param {boolean} [options.includeAllAttrs=false] If true, return all attributes, regardless whether\n         * they are mapped.\n         * @param {string} [options.filter='z:row'] XML filter string used to find the elements to iterate over.\n         * @param {Array} [options.mapping=model.list.mapping] Field definitions, typically stored on the model.\n         * @param {Array} [options.target=model.getCache()] Optionally pass in an Indexed Cache instead of using the defaul cache.\n         * @returns {Object} Inedexed Cache.\n         */\n        processListItems<T extends ListItem<any>>(model: Model, query: IQuery<T>, responseXML: XMLDocument, {\n            includeAllAttrs = false,\n            filter = 'z:row',\n            mapping = model.list.mapping,\n            target = model.getCache<T>()\n        } = {}): IndexedCache<T> {\n\n            /** Map returned XML to JS objects based on mapping from model */\n            let filteredNodes = this.apXMLToJSONService.filterNodes(responseXML, filter);\n\n            /** Prepare constructor for XML entities with references to the query and cached container */\n            let listItemProvider = this.createListItemProvider<T>(model, query, target);\n\n            /** Convert XML entities into JS objects */\n            let parsedEntities = this.xmlToJson(filteredNodes, { mapping, includeAllAttrs });\n\n            /** Instantiate each list list item with factory on model and add to cache */\n            _.each(parsedEntities, (rawListItemObject: IUninstantiatedListItem) => {\n                listItemProvider(rawListItemObject);\n            });\n\n            return target;\n        }\n\n        /**\n         * @ngdoc function\n         * @name angularPoint.apDecodeService:xmlToJson\n         * @methodOf angularPoint.apDecodeService\n         * @description\n         * Converts an XML node set to Javascript object array. This is a modified version of the SPServices\n         * \"SPXmlToJson\" function.\n         * @param {array} xmlEntities [\"z:rows\"] XML rows that need to be parsed.\n         * @param {object} options Options object.\n         * @param {IListFieldMapping} options.mapping [columnName: \"mappedName\", objectType: \"objectType\"]\n         * @param {boolean} [options.includeAllAttrs=false] If true, return all attributes, regardless whether\n         * they are mapped.\n         * @param {boolean} [options.removeOws=true] Specifically for GetListItems, if true, the leading ows_ will\n         * be stripped off the field name.\n         * @returns {object[]} An array of JavaScript objects.\n         */\n        xmlToJson<T extends ListItem<any>>(xmlEntities: JQuery, {\n            mapping,\n            includeAllAttrs = false,\n            removeOws = true\n        }: IXMLToJsonOptions<T>): Object[] {\n            let parseOptions = { mapping, includeAllAttrs, removeOws }\n            return _.map(xmlEntities, (xmlEntity) => {\n                return this.parseXmlEntity(xmlEntity, parseOptions);\n            });\n        }\n\n    }\n\n\n    /**********************PRIVATE*********************/\n\n\n\n    interface IXMLToJsonOptions<T extends ListItem<any>> extends IExecuteQueryOptions {\n        includeAllAttrs?: boolean;\n        listItemProvider?: Function;\n        mapping: IListFieldMapping;\n        removeOws?: boolean;\n        target?: IndexedCache<T>;\n    }\n\n    interface IParseXmlEntityOptions{\n        mapping: IListFieldMapping;\n        includeAllAttrs?: boolean;\n        removeOws?: boolean;\n    }\n\n    interface IProcessListItemsOptions<T extends ListItem<any>>{\n        includeAllAttrs?: boolean;\n        filter?: string;\n        mapping: IListFieldMapping;\n        target?: IndexedCache<T>\n    }\n\n\n    angular.module('angularPoint')\n        .service('apDecodeService', DecodeService)\n\n}\n","/// <reference path=\"../app.module.ts\" />\n\nmodule ap {\n    'use strict';\n\n\n    export class EncodeService {\n        savedTimeZone;\n        static $inject = ['apUtilityService', 'SPServices'];\n\n        constructor(private apUtilityService: UtilityService, private SPServices) {\n\n        }\n\n        /**\n         * Converts an array of selected values into a SharePoint MultiChoice string\n         * @param {string[]} arr\n         * @returns {string}\n         */\n        choiceMultiToString(choices: string[]): string {\n            var str = '';\n            var delim = ';#';\n\n            if (choices.length > 0) {\n                /** String is required to begin with deliminator */\n                str += delim;\n                \n                /** Append each item in the supplied array followed by deliminator */\n                for (let choice of choices) {\n                    str += choice + delim;\n                }\n\n            }\n            return str;\n        }\n\n        /**\n         * @ngdoc function\n         * @name angularPoint.apEncodeService:createValuePair\n         * @methodOf angularPoint.apEncodeService\n         * @description\n         * Uses a field definition from a model to properly format a value for submission to SharePoint.  Typically\n         * used prior to saving a list item, we iterate over each of the non-readonly properties defined in the model\n         * for a list item and convert those value into value pairs that we can then hand off to SPServices.\n         * @param {object} fieldDefinition The field definition, typically defined in the model.\n         * <pre>\n         * {\n             *  staticName: \"Title\",\n             *  objectType: \"Text\",\n             *  mappedName: \"lastName\",\n             *  readOnly:false\n             * }\n         * </pre>\n         * @param {*} value Current field value.\n         * @returns {Array} [fieldName, fieldValue]\n         */\n        createValuePair(fieldDefinition: IFieldDefinition, value: any): [string, string] {\n            var encodedValue = this.encodeValue(fieldDefinition.objectType, value);\n            return [fieldDefinition.staticName, encodedValue];\n        }\n\n        /**\n         * @ngdoc function\n         * @name angularPoint.apEncodeService:encodeValue\n         * @methodOf angularPoint.apEncodeService\n         * @param {string} fieldType One of the valid field types.\n         * @param {*} value Value to be encoded.\n         * @returns {string} Encoded value ready to be sent to the server.\n         */\n        encodeValue(fieldType: string, value: any): string {\n            var str: string = '';\n            /** Only process if note empty, undefined, or null.  Allow false. */\n            if (value !== '' && !_.isUndefined(value) && !_.isNull(value)) {\n                switch (fieldType) {\n                    case 'Lookup':\n                    case 'User':\n                        if (value.lookupId) {\n                            /** Only include lookupValue if defined */\n                            str = value.lookupId + ';#' + (value.lookupValue || '');\n                        }\n                        break;\n                    case 'LookupMulti':\n                    case 'UserMulti':\n                        str = this.stringifySharePointMultiSelect(value, 'lookupId');\n                        break;\n                    case 'MultiChoice':\n                        str = this.choiceMultiToString(value);\n                        break;\n                    case 'Boolean':\n                        str = value ? \"1\" : \"0\";\n                        break;\n                    case 'DateTime':\n                        //A string date in ISO8601 format, e.g., '2013-05-08T01:20:29Z-05:00'\n                        str = this.stringifySharePointDate(value);\n                        break;\n                    case 'JSON':\n                        str = JSON.stringify(value);\n                        break;\n                    case 'HTML':\n                    case 'Note':\n                    default:\n                        str = value;\n                }\n            }\n            if (_.isString(str)) {\n                /** Ensure we encode before sending to server (replace \", <, >)*/\n                str = this.SPServices.encodeXml(str);\n            }\n            return str;\n        }\n\n        /**\n         * @ngdoc function\n         * @name angularPoint.apEncodeService:generateValuePairs\n         * @methodOf angularPoint.apEncodeService\n         * @description\n         * Typically used to iterate over the non-readonly field definitions stored in a model and convert a\n         * given list item entity into value pairs that we can pass to SPServices for saving.\n         * @param {Array} fieldDefinitions Definitions from the model.\n         * @param {object} listItem list item that we'll attempt to iterate over to find the properties that we need to\n         * save it to SharePoint.\n         * @returns {[string, string][]} Value pairs of all non-readonly fields.\n         * @example\n         * [[fieldName1, fieldValue1], [fieldName2, fieldValue2], ...]\n         */\n        generateValuePairs(fieldDefinitions: IFieldDefinition[], listItem: ListItem<any>): [string, string][] {\n            var pairs = [];\n            _.each(fieldDefinitions, (field) => {\n                /** Check to see if item contains data for this field */\n                if (_.has(listItem, field.mappedName)) {\n                    pairs.push(this.createValuePair(field, listItem[field.mappedName]));\n                }\n            });\n            return pairs;\n        }\n\n        /**\n         * @ngdoc function\n         * @name angularPoint.apEncodeService:stringifySharePointDate\n         * @methodOf angularPoint.apEncodeService\n         * @description\n         * Converts a JavaScript date into a modified ISO8601 date string using the TimeZone\n         * offset for the current user.\n         * @example\n         * <pre>'2014-05-08T08:12:18Z-07:00'</pre>\n         * @param {Date} date Valid JS date.\n         * @returns {string} ISO8601 date string.\n         */\n        stringifySharePointDate(date: Date | string): string {\n            var jsDate: Date;\n            if (!_.isDate(date) && _.isString(date) && date.split('-').length === 3) {\n                /** Date string formatted YYYY-MM-DD */\n                var dateComponents = date.split('-');\n                jsDate = new Date(parseInt(dateComponents[0]), parseInt(dateComponents[1]) - 1, parseInt(dateComponents[2]), 0, 0, 0);\n            } else if (!_.isDate(date)) {\n                throw new Error('Invalid Date Provided: ' + date.toString());\n            } else {\n                jsDate = date;\n            }\n            \n            // return moment(jsDate).format('YYYY-MM-DDTHH:mm:ss[Z]Z')\n\n            var dateString = '';\n            dateString += jsDate.getFullYear();\n            dateString += '-';\n            dateString += this.apUtilityService.doubleDigit(jsDate.getMonth() + 1);\n            dateString += '-';\n            dateString += this.apUtilityService.doubleDigit(jsDate.getDate());\n            dateString += 'T';\n            dateString += this.apUtilityService.doubleDigit(jsDate.getHours());\n            dateString += ':';\n            dateString += this.apUtilityService.doubleDigit(jsDate.getMinutes());\n            dateString += ':';\n            dateString += this.apUtilityService.doubleDigit(jsDate.getSeconds());\n            dateString += 'Z-';\n\n            if (!this.savedTimeZone) {\n                //Get difference between UTC time and local time in minutes and convert to hours\n                //Store so we only need to do this once\n                this.savedTimeZone = new Date().getTimezoneOffset() / 60;\n            }\n            dateString += this.apUtilityService.doubleDigit(this.savedTimeZone);\n            dateString += ':00';\n            return dateString;\n        }\n\n        /**\n         * @ngdoc function\n         * @name angularPoint.apEncodeService:stringifySharePointMultiSelect\n         * @methodOf angularPoint.apEncodeService\n         * @description\n         * Turns an array of, typically {lookupId: someId, lookupValue: someValue}, objects into a string\n         * of delimited id's that can be passed to SharePoint for a multi select lookup or multi user selection\n         * field.  SharePoint doesn't need the lookup values so we only need to pass the ID's back.\n         *\n         * @param {object[]} multiSelectValue Array of {lookupId: #, lookupValue: 'Some Value'} objects.\n         * @param {string} [idProperty='lookupId'] Property name where we'll find the ID value on each of the objects.\n         * @param {string} [valueProperty='lookupValue'] Property name where we'll find the value for this object.\n         * @returns {string} Need to format string of id's in following format [ID0];#;#[ID1];#;#[ID1]\n         */\n        stringifySharePointMultiSelect(multiSelectValue: ILookup<any>[], idProperty = 'lookupId', valueProperty = 'lookupValue'): string {\n            var stringifiedValues = '';\n            var idProp = idProperty || 'lookupId';\n            var valProp = valueProperty || 'lookupValue';\n            _.each(multiSelectValue, function (lookupObject, iteration) {\n                /** Need to format string of id's in following format [ID0];#[VAL0];#[ID1];#[VAL1] */\n                stringifiedValues += lookupObject[idProp] + ';#' + (lookupObject[valProp] || '');\n                /** Append delim after all but last because we don't want trailing ';#' at end of string */\n                if (iteration < (multiSelectValue.length - 1)) {\n                    stringifiedValues += ';#';\n                }\n            });\n            return stringifiedValues;\n        }\n\n\n    }\n\n\n    /**\n     * @ngdoc service\n     * @name angularPoint.apEncodeService\n     * @description\n     * Processes JavaScript objects and converts them to a format SharePoint expects.\n     *\n     * @requires angularPoint.apUtilityService\n     */\n    angular.module('angularPoint')\n        .service('apEncodeService', EncodeService);\n}\n","/// <reference path=\"../app.module.ts\" />\n\nmodule ap {\n\n    function exceptionLoggingService($log, $injector) {\n        function error(exception: Error, cause: string) {\n\n            /** Need to inject otherwise get circular dependency when using dependency injection */\n            var apLogger: ILogger = $injector.get('apLogger');\n            // now try to log the error to the server side.\n            apLogger.exception(exception, cause);\n\n            // preserve the default behaviour which will log the error\n            // to the console, and allow the application to continue running.\n            $log.error.apply($log, arguments);\n\n        }\n\n        return error;\n    }\n\n    /**\n     * @ngdoc service\n     * @name angularPoint.$exceptionHandler\n     * @description\n     * Replaces the default angular implementation and handles logging errors to the apLogger service.\n     * @requires angularPoint.apLogger\n     */    \n    angular\n        .module('angularPoint')\n\t\t.factory('$exceptionHandler', exceptionLoggingService);\n\n}\n","/// <reference path=\"../app.module.ts\" />\n\nmodule ap {\n    'use strict';\n\n\n    export class ExportService {\n        static $inject = ['apUtilityService', 'apFormattedFieldValueService'];\n\n        constructor(private apUtilityService, private apFormattedFieldValueService) {\n\n        }\n\n        /**\n         * @ngdoc function\n         * @name angularPoint.apExportService:generateCSV\n         * @methodOf angularPoint.apExportService\n         * @description\n         * Converts an array of objects into a parsed array of arrays based on a field config object.\n         * @param {object[]} entities Array of objects to convert.\n         * @param {object|string[]} fields Array of objects defining the fields to parse.  Can also pass in strings representing the name of the field which will then be parsed based on field type.\n         * FieldDefinition:\n         * {string} object.field Property name on the object that we want to parse.\n         * {string} [object.label=object.field capitalized] Column Label\n         * {function} [object.getVal] Custom function that overrides the default method of parsing based on field type.\n         * @param {object} [options] Optional config settings.\n         * @param {string} [options.delim='; '] Delimiter used to separate fields that potentially contain multiple values that will be concatenated into a string.\n         * @returns {array[]} Return array of arrays, with the first array being the column names and every subsequent array representing a row in the csv dataset.\n         * @example\n         * <pre>\n         * var customDelimiter = ' | ';\n         * var saveCSV = function() {\n             *    var parsedCSV = apExportService.generateCSV(entities, [\n             *     //Field definition\n             *     { label: 'ID', field: 'id' },\n             *     //Field as simple string\n             *     'title',\n             *     'project',\n             *     { label: 'Project:ID', field: 'project.lookupId' },\n             *     { label: 'Type', field: 'eventType' },\n             *     { label: 'Start Date', field: 'startDate' },\n             *     { label: 'End Date', field: 'endDate' },\n             *     'location',\n             *     'description',\n             *     //Field definition with custom parse logic\n             *     { label: 'Comments', field: 'comments', stringify: function (comments) {\n             *       var str = '';\n             *       _.each(comments, function (comment, i) {\n             *         if (i > 0) {\n             *           str += '\\n';\n             *         }\n             *         str += comment.text + '\\n';\n             *       });\n             *       return str;\n             *     }}\n             *   ]);\n             *\n             *   //Save to user's machine\n             *   apExportService.saveCSV(parsedCSV, 'MyFile', {delim: customDelimiter});\n             * }\n         * </pre>\n         *\n         */\n        generateCSV(entities: ListItem<any>[], fields: [string[]|Object[]], options?: {delim:string}): string[][] {\n            var defaults = {\n                    dateFormat: 'json', //Format as JSON date rather than a formal date string\n                    delim: '; ',\n                    includeTitleRow: true\n                },\n                opts = _.assign({}, defaults, options),\n                entitiesArray = [\n                    []\n                ];\n\n            /** Process each of the entities in the data source */\n            _.each(entities, (entity, entityIndex) => {\n                var entityArray = [];\n                /** Process each of the specified fields */\n                _.each(fields, (f) => {\n\n                    /** Handle both string and object definition */\n                    var fieldDefinition = _.isString(f) ? {field: f} : f;\n\n                    /** Split the field name from the property if provided */\n                    var fieldComponents = fieldDefinition.field.split('.');\n                    var propertyName = fieldComponents[0];\n\n                    /** First array has the field names */\n                    if (entityIndex === 0 && opts.includeTitleRow) {\n                        /** Take a best guess if a column label isn't specified by capitalizing and inserting spaces between camel humps*/\n                        var label = fieldDefinition.label ?\n                            fieldDefinition.label : this.apUtilityService.fromCamelCase(propertyName);\n                        entitiesArray[0].push(label);\n                    }\n\n                    var val = '';\n\n                    if (_.isFunction(fieldDefinition.stringify)) {\n                        /** Allows us to override standard field logic for special cases */\n                        val = fieldDefinition.stringify(entity[fieldDefinition.field]);\n                    } else if (fieldComponents.length > 1) {\n                        /** Allow user to specify dot separated property path */\n                        if (_.has(entity, fieldDefinition.field)) {\n                            val = _.get(entity, fieldDefinition.field).toString();\n                        }\n                    } else {\n                        /** Get the value based on field type defined in the model for the entity*/\n                        var modelDefinition = entity.getFieldDefinition(propertyName);\n                        val = this.apFormattedFieldValueService.getFormattedFieldValue(\n                            entity[fieldDefinition.field],\n                            modelDefinition.objectType,\n                            opts\n                        )\n                    }\n                    /** Add string to column */\n                    entityArray.push(val);\n                });\n                /** Add row */\n                entitiesArray.push(entityArray);\n            });\n            return entitiesArray;\n        }\n\n        /**\n         * @description Replaces commonly-used Windows 1252 encoded chars that do not exist in ASCII or\n         *  ISO-8859-1 with ISO-8859-1 cognates.\n         * @param {string} text Text to be validated and cleaned.\n         * @returns {string}\n         */\n        replaceWordChars(text: string): string {\n            var s = text;\n            // smart single quotes and apostrophe\n            s = s.replace(/[\\u2018|\\u2019|\\u201A]/g, \"\\'\");\n            // smart double quotes\n            s = s.replace(/[\\u201C|\\u201D|\\u201E]/g, \"\\\"\");\n            // ellipsis\n            s = s.replace(/\\u2026/g, \"...\");\n            // dashes\n            s = s.replace(/[\\u2013|\\u2014]/g, \"-\");\n            // circumflex\n            s = s.replace(/\\u02C6/g, \"^\");\n            // open angle bracket\n            s = s.replace(/\\u2039/g, \"<\");\n            // close angle bracket\n            s = s.replace(/\\u203A/g, \">\");\n            // spaces\n            s = s.replace(/[\\u02DC|\\u00A0]/g, \" \");\n            return s;\n        }\n\n        /**\n         * @ngdoc function\n         * @name angularPoint.apExportService:saveCSV\n         * @methodOf angularPoint.apExportService\n         * @description\n         * Converts an array of arrays into a valid CSV file that is then downloaded to the users machine\n         * @requires angularPoint.apExportService:saveFile\n         * @param {array[]} data Array of arrays that we'd like to dump to a CSV file and save to the local machine.\n         * @param {string} [filename=debug.csv] Optionally name the file.\n         * @example\n         * <pre>\n         * //Lets assume we want to looks at an object that is too big to be easily viewed in the console.\n         * apExportService.saveCSV(objectToSave, 'MyFile');\n         * //This would download a file named MyFile.csv\n         * </pre>\n         *\n         */\n        saveCSV(data: string[][], filename = 'debug.csv'): void {\n            var csvString = '';\n            _.each(data, function (row) {\n                _.each(row, function (column, columnIndex) {\n                    var result = column === null ? '' : this.replaceWordChars(column);\n                    if (columnIndex > 0) {\n                        csvString += ',';\n                    }\n                    /** Escape single quotes with doubles in within the string */\n                    result = result.replace(/\"/g, '\"\"');\n\n                    /** Surround string with quotes so we can have line breaks */\n                    csvString += '\"' + result + '\"';\n                });\n                csvString += '\\n';\n            });\n            this.saveFile(csvString, 'csv;charset=utf-8;', filename);\n        }\n\n        /**\n         * @ngdoc function\n         * @name angularPoint.apExportService:saveFile\n         * @methodOf angularPoint.apExportService\n         * @description\n         * Used to convert a JS object or XML document into a file that is then downloaded on the users\n         * local machine.  Original work located:\n         * [here](http://bgrins.github.io/devtools-snippets/#console-save).\n         * @param {object} data JS object that we'd like to dump to a JSON file and save to the local machine.\n         * @param {string} fileType Can be either 'xml' or 'json'.\n         * @param {string} [filename=debug.json] Optionally name the file.\n         * @example\n         * <pre>\n         * //Lets assume we want to looks at an object that is too big to be easily viewed in the console.\n         * apExportService.saveJSON(objectToSave, 'myobject.json');\n         * </pre>\n         *\n         */\n        saveFile(data, fileType: string, filename = 'debug.json') {\n            if (!data) {\n                console.error('apExportService.save' + fileType.toUpperCase() + ': No data');\n                return;\n            }\n\n            /** If passed in fileType=\"csv;charset=utf-8;\" we just want to use \"csv\" */\n            var fileExtension = fileType.split(';')[0];\n\n            if (!filename) {\n                filename = 'debug.' + fileExtension;\n            }\n\n            if (fileType === 'json' && typeof data === 'object') {\n                data = JSON.stringify(data, undefined, 4);\n            }\n\n            var blob = new Blob([data], {type: 'text/' + fileType}),\n                e = document.createEvent('MouseEvents'),\n                a = document.createElement('a');\n\n            a.download = filename;\n            a.href = window.URL.createObjectURL(blob);\n            a.dataset.downloadurl = ['text/' + fileType, a.download, a.href].join(':');\n            e.initMouseEvent('click', true, false, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);\n            a.dispatchEvent(e);\n        }\n\n        /**\n         * @ngdoc function\n         * @name angularPoint.apExportService:saveJSON\n         * @methodOf angularPoint.apExportService\n         * @description\n         * Simple convenience function that uses angularPoint.apExportService:saveFile to download json to the local machine.\n         * @requires angularPoint.apExportService:saveFile\n         * @param {object} data JS object that we'd like to dump to a JSON file and save to the local machine.\n         * @param {string} [filename=debug.json] Optionally name the file.\n         * @example\n         * <pre>\n         * //Lets assume we want to looks at an object that is too big to be easily viewed in the console.\n         * apExportService.saveJSON(objectToSave, 'myobject.json');\n         * </pre>\n         *\n         */\n        saveJSON(data: Object, filename = 'debug.json') {\n            this.saveFile(data, 'json', filename);\n        }\n\n        /**\n         * @ngdoc function\n         * @name angularPoint.apExportService:saveXML\n         * @methodOf angularPoint.apExportService\n         * @description\n         * Simple convenience function that uses angularPoint.apExportService:saveFile to download xml to the local machine.\n         * @requires angularPoint.apExportService:saveFile\n         * @param {object} data XML object that we'd like to dump to a XML file and save to the local machine.\n         * @param {string} [filename=debug.xml] Optionally name the file.\n         * @example\n         * <pre>\n         * //Lets assume we want to looks at an object that is too big to be easily viewed in the console.\n         * apExportService.saveXML(objectToSave, 'myobject.xml');\n         * </pre>\n         *\n         */\n        saveXML(data: XMLDocument, filename = 'debug.xml') {\n            this.saveFile(data, 'xml', filename);\n        }\n\n\n    }\n\n    /**\n     * @ngdoc service\n     * @name angularPoint.apExportService\n     * @description\n     * Tools to assist with development.\n     * @requires angularPoint.apUtilityService\n     */\n    angular.module('angularPoint')\n        .service('apExportService', ExportService);\n\n}\n","/// <reference path=\"../app.module.ts\" />\n\nmodule ap {\n    'use strict';\n\n    var service: FieldService, uniqueCount = 0;\n\n\n    interface IFieldType {\n        defaultValue: string;\n        dynamicMock: Function;\n        staticMock: any;\n    }\n\n    export class FieldService {\n        fieldTypes;\n        constructor() {\n            service = this;\n            this.fieldTypes = getFieldTypes()\n        }\n\n        \n        /**\n         * @ngdoc function\n         * @name angularPoint.apFieldService:getDefaultValueForType\n         * @methodOf angularPoint.apFieldService\n         * @description\n         * Returns the empty value expected for a field type\n         * @param {string} fieldType Type of field.\n         * @returns {*} Default value based on field type.\n         */\n        getDefaultValueForType(fieldType: string): any {\n            var fieldDefinition = service.getDefinition(fieldType),\n                defaultValue;\n\n            if (fieldDefinition) {\n                defaultValue = fieldDefinition.defaultValue;\n            }\n            return defaultValue;\n        }\n\n        /**\n         * Returns an object defining a specific field type\n         * @param {string} fieldType\n         * @returns {object} fieldTypeDefinition\n         */\n        getDefinition(fieldType) {\n            return service.fieldTypes[fieldType] ? service.fieldTypes[fieldType] : service.fieldTypes['Text'];\n        }\n\n\n        /**\n         * @ngdoc function\n         * @name angularPoint.apFieldService:getMockData\n         * @methodOf angularPoint.apFieldService\n         * @description\n         * Can return mock data appropriate for the field type, by default it dynamically generates data but\n         * the staticValue param will instead return a hard coded type specific value\n         *\n         * @requires ChanceJS to produce dynamic data.\n         * https://github.com/victorquinn/chancejs\n         * @param {string} fieldType Field type from the field definition.\n         * @param {object} [options] Optional params.\n         * @param {boolean} [options.staticValue=false] Default to dynamically build mock data.\n         * @returns {*} mockData\n         */\n        getMockData(fieldType, options) {\n            var mock;\n            var fieldDefinition = service.getDefinition(fieldType);\n            if (fieldDefinition) {\n                if (_.isFunction(window.Chance) && options && !options.staticValue) {\n                    /** Return dynamic data if ChanceJS is available and flag isn't set requiring static data */\n                    mock = fieldDefinition.dynamicMock(options);\n                } else {\n                    /** Return static data if the flag is set or ChanceJS isn't available */\n                    mock = fieldDefinition.staticMock;\n                }\n            }\n            return mock;\n        }\n\n        /**\n         * @ngdoc function\n         * @name angularPoint.apFieldService:mockPermMask\n         * @methodOf angularPoint.apFieldService\n         * @description\n         * Defaults to a full mask but allows simulation of each of main permission levels\n         * @param {object} [options] Options container.\n         * @param {string} [options.permissionLevel=FullMask] Optional mask.\n         * @returns {string} Values for mask.\n         */\n        mockPermMask(options?: { permissionLevel: string }) {\n            var mask = 'FullMask';\n            if (options && options.permissionLevel) {\n                mask = options.permissionLevel;\n            }\n            return service.resolveValueForEffectivePermMask(mask);\n        }\n        \n        /**\n         * @ngdoc function\n         * @name angularPoint.apFieldService:resolveValueForEffectivePermMask\n         * @methodOf angularPoint.apFieldService\n         * @description\n         * Takes the name of a permission mask and returns a permission value which can then be used\n         * to generate a permission object using modelService.resolvePermissions(outputfromthis)\n         * @param {string} perMask Options:\n         *  - AddListItems\n         *  - EditListItems\n         *  - DeleteListItems\n         *  - ApproveItems\n         *  - FullMask\n         *  - ViewListItems\n         * @returns {string} value\n         */\n        resolveValueForEffectivePermMask(perMask) {\n            var permissionValue;\n            switch (perMask) {\n                case 'AddListItems':\n                    permissionValue = 0x0000000000000002;\n                    break;\n                case 'EditListItems':\n                    permissionValue = 0x0000000000000004;\n                    break;\n                case 'DeleteListItems':\n                    permissionValue = 0x0000000000000008;\n                    break;\n                case 'ApproveItems':\n                    permissionValue = 0x0000000000000010;\n                    break;\n                case 'FullMask':\n                    permissionValue = 0x7FFFFFFFFFFFFFFF;\n                    break;\n                case 'ViewListItems':\n                default:\n                    permissionValue = 0x0000000000000001;\n                    break;\n            }\n            return permissionValue;\n        }\n\n    }\n\n\n\n    function getFieldTypes() {\n        return {\n            Text: {\n                defaultValue: '',\n                staticMock: 'Test String',\n                dynamicMock: randomString\n            },\n            Note: {\n                defaultValue: '',\n                staticMock: 'This is a sentence.',\n                dynamicMock: randomParagraph\n            },\n            Boolean: {\n                defaultValue: null,\n                staticMock: true,\n                dynamicMock: randomBoolean\n            },\n            Calculated: {\n                defaultValue: null,\n                staticMock: 'float;#123.45',\n                dynamicMock: randomCalc\n            },\n            Choice: {\n                defaultValue: '',\n                staticMock: 'My Choice',\n                dynamicMock: randomString\n            },\n            Counter: {\n                defaultValue: null,\n                staticMock: getUniqueCounter(),\n                dynamicMock: getUniqueCounter\n            },\n            Currency: {\n                defaultValue: null,\n                staticMock: 120.50,\n                dynamicMock: randomCurrency\n            },\n            DateTime: {\n                defaultValue: null,\n                staticMock: new Date(2014, 5, 4, 11, 33, 25),\n                dynamicMock: randomDate\n            },\n            Integer: {\n                defaultValue: null,\n                staticMock: 14,\n                dynamicMock: randomInteger\n            },\n            JSON: {\n                defaultValue: '',\n                staticMock: [\n                    { id: 1, title: 'test' },\n                    { id: 2 }\n                ],\n                dynamicMock: randomString\n            },\n            Lookup: {\n                defaultValue: '',\n                staticMock: { lookupId: 49, lookupValue: 'Static Lookup' },\n                dynamicMock: randomLookup\n            },\n            LookupMulti: {\n                defaultValue: [],\n                staticMock: [\n                    { lookupId: 50, lookupValue: 'Static Multi 1' },\n                    { lookupId: 51, lookupValue: 'Static Multi 2' }\n                ],\n                dynamicMock: randomLookupMulti\n            },\n            Mask: {\n                defaultValue: service.mockPermMask(),\n                staticMock: service.mockPermMask(),\n                dynamicMock: service.mockPermMask\n            },\n            MultiChoice: {\n                defaultValue: [],\n                staticMock: ['A Good Choice', 'A Bad Choice'],\n                dynamicMock: randomStringArray\n            },\n            User: {\n                defaultValue: '',\n                staticMock: { lookupId: 52, lookupValue: 'Static User' },\n                dynamicMock: randomUser\n            },\n            UserMulti: {\n                defaultValue: [],\n                staticMock: [\n                    { lookupId: 53, lookupValue: 'Static User 1' },\n                    { lookupId: 54, lookupValue: 'Static User 2' }\n                ],\n                dynamicMock: randomUserMulti\n            }\n        }\n    }\n\n    function getUniqueCounter() {\n        uniqueCount++;\n        return uniqueCount;\n    }\n\n    function randomBoolean() {\n        return chance.bool();\n    }\n\n    function randomCalc() {\n        return 'float;#' + chance.floating({ min: 0, max: 10000 });\n    }\n\n    function randomString() {\n        return chance.word() + ' ' + chance.word();\n    }\n\n    function randomStringArray() {\n        var randomArr = [];\n        /** Create a random (1-4) number of strings and add to array */\n        _.times(_.random(1, 4), function() {\n            randomArr.push(randomString());\n        });\n        return randomArr;\n    }\n\n    function randomParagraph() {\n        return chance.paragraph();\n    }\n\n    function randomCurrency() {\n        return parseInt(_.random(10000000, true) * 100) / 100;\n    }\n\n    function randomDate() {\n        return chance.date();\n    }\n\n    function randomInteger() {\n        return chance.integer();\n    }\n\n\n    function randomLookup() {\n        return {\n            lookupId: getUniqueCounter(),\n            lookupValue: chance.word()\n        };\n    }\n\n    function randomUser() {\n        return {\n            lookupId: getUniqueCounter(),\n            lookupValue: chance.name()\n        };\n    }\n\n    function randomLookupMulti() {\n        var mockData = [];\n        _.each(_.random(10), function() {\n            mockData.push(randomLookup());\n        });\n        return mockData;\n    }\n\n    function randomUserMulti() {\n        var mockData = [];\n        _.each(_.random(10), function() {\n            mockData.push(randomUser());\n        });\n        return mockData;\n    }\n    \n    \n\n    /**\n     * @ngdoc service\n     * @name angularPoint.apFieldService\n     * @description\n     * Handles the mapping of the various types of fields used within a SharePoint list\n     */\n    angular.module('angularPoint')\n        .service('apFieldService', FieldService);\n\n}\n","/// <reference path=\"../app.module.ts\" />\n\nmodule ap {\n    'use strict';\n\n    var service: FormattedFieldValueService, $filter: ng.IFilterService;\n\n    /**\n     * @ngdoc service\n     * @name angularPoint.apFormattedFieldValueService\n     * @description\n     * Returns the formatted string value for a field based on field type.\n     */\n    export class FormattedFieldValueService {\n        static $inject = ['$filter'];\n        constructor(_$filter_) {\n            service = this;\n            $filter = _$filter_;\n        }\n\n        /**\n         * @ngdoc function\n         * @name angularPoint.apFormattedFieldValueService:getFormattedFieldValue\n         * @methodOf angularPoint.apFormattedFieldValueService\n         * @param {object|array|string|integer|boolean} prop Target that we'd like to stringify.\n         * @param {string} [propertyType='String'] Assumes by default that it's already a string.  Most of the normal field\n         * types identified in the model field definitions are supported.\n         *\n         * - Lookup\n         * - User\n         * - Boolean\n         * - DateTime\n         * - Integer\n         * - Number\n         * - Counter\n         * - MultiChoice\n         * - UserMulti\n         * - LookupMulti\n         * @param {object} options Optional config.\n         * @param {string} [options.delim=', '] Optional delimiter to split concatenated strings.\n         * @param {string} [options.dateFormat='short'] Either 'json' which converts a date into ISO8601 date string\n         * or a mask for the angular date filter.\n         * @example\n         * <pre>\n         *  var project = {\n         *    title: 'Super Project',\n         *   members: [\n         *     { lookupId: 12, lookupValue: 'Joe' },\n         *     { lookupId: 19, lookupValue: 'Beth' }\n         *   ]\n         * };\n         *\n         * var membersAsString = apFormattedFieldValueService:getFormattedFieldValue({\n         *    project.members,\n         *    'UserMulti',\n         *    { delim: ' | '} //Custom Delimiter\n         * });\n         *\n         * // membersAsString = 'Joe | Beth';\n         *\n         * </pre>\n         * @returns {string} Stringified property on the object based on the field type.\n         */\n        getFormattedFieldValue(prop: any, propertyType: string = 'String', options: { delim?: string; dateFormat?: string } = {}): string {\n\n            var str: string = '';\n            /** Only process if prop is defined */\n            if (prop) {\n                switch (propertyType) {\n                    case 'Boolean':\n                        str = service.stringifyBoolean(prop);\n                        break;\n                    case 'Calculated': // Can be DateTime, Float, or String\n                        str = service.stringifyCalc(prop);\n                        break;\n                    case 'Lookup':\n                    case 'User':\n                        str = service.stringifyLookup(prop);\n                        break;\n                    case 'DateTime':\n                        str = service.stringifyDate(prop, options.dateFormat);\n                        break;\n                    case 'Integer':\n                    case 'Number':\n                    case 'Float':\n                    case 'Counter':\n                        str = service.stringifyNumber(prop);\n                        break;\n                    case 'Currency':\n                        str = service.stringifyCurrency(prop);\n                        break;\n                    case 'MultiChoice':\n                        str = service.stringifyMultiChoice(prop, options.delim);\n                        break;\n                    case 'UserMulti':\n                    case 'LookupMulti':\n                        str = service.stringifyMultiLookup(prop, options.delim);\n                        break;\n                    default:\n                        str = prop;\n                }\n            }\n            return str;\n        }\n\n        /**\n         * @ngdoc function\n         * @name angularPoint.apFormattedFieldValueService:stringifyBoolean\n         * @methodOf angularPoint.apFormattedFieldValueService\n         * @param {boolean} prop Boolean to stringify.\n         * @description\n         * Returns the stringified boolean if it is set.\n         * @returns {string} Stringified boolean.\n         */\n        stringifyBoolean(prop: boolean): string {\n            var str = '';\n            if (_.isBoolean(prop)) {\n                str = prop.toString();\n            }\n            return str;\n        }\n\n        stringifyCalc(prop: any): string {\n            if (prop.length === 0) {\n                return '';\n            } else if (_.isNumber(prop)) {\n                return service.getFormattedFieldValue(prop, 'Number');\n            } else if (_.isDate(prop)) {\n                return service.getFormattedFieldValue(prop, 'DateTime');\n            } else {\n                return service.getFormattedFieldValue(prop, 'Text');\n            }\n        }\n\n        /**\n         * @ngdoc function\n         * @name angularPoint.apFormattedFieldValueService:stringifyCurrency\n         * @methodOf angularPoint.apFormattedFieldValueService\n         * @description\n         * Converts a numeric value into a formatted currency string.\n         * @param {number} prop Property on object to parse.\n         * @returns {string} Stringified currency.\n         */\n        stringifyCurrency(prop: number): string {\n            return $filter('currency')(prop, '$');\n        }\n\n        /**\n         * @ngdoc function\n         * @name angularPoint.apFormattedFieldValueService:stringifyDate\n         * @methodOf angularPoint.apFormattedFieldValueService\n         * @param {date} prop Date object.\n         * @param {string} dateFormat Either 'json' which converts a date into ISO8601 date string or a mask for\n         * the angular date filter.\n         * @description\n         * Returns JSON date.\n         * @returns {string} JSON date.\n         */\n        stringifyDate(prop: Date, dateFormat: string = 'short'): string {\n            var str = '';\n            if (_.isDate(prop)) {\n                str = dateFormat === 'json' ? prop.toJSON() : $filter('date')(prop, dateFormat);\n            }\n            return str;\n        }\n\n        /**\n         * @ngdoc function\n         * @name angularPoint.apFormattedFieldValueService:stringifyLookup\n         * @methodOf angularPoint.apFormattedFieldValueService\n         * @param {obj} prop Property on object to parse.\n         * @description\n         * Returns the property.lookupValue if present.\n         * @returns {string} Property.lookupValue.\n         */\n        stringifyLookup(prop: ILookup<any>): string {\n            var str = '';\n            if (prop && prop.lookupValue) {\n                str = prop.lookupValue;\n            }\n            return str;\n        }\n\n\n        /**\n         * @ngdoc function\n         * @name angularPoint.apFormattedFieldValueService:stringifyMultiChoice\n         * @methodOf angularPoint.apFormattedFieldValueService\n         * @param {string[]} prop Array of selected choices.\n         * @param {string} [delim='; '] Custom delimiter used between the concatenated values.\n         * @description\n         * Converts an array of strings into a single concatenated string.\n         * @returns {string} Concatenated string representation.\n         */\n        stringifyMultiChoice(prop: string[], delim = '; '): string {\n            var str = '';\n            _.each(prop, function(choice, i) {\n                if (i > 0) {\n                    str += delim;\n                }\n                str += choice;\n            });\n            return str;\n        }\n\n\n        /**\n         * @ngdoc function\n         * @name angularPoint.apFormattedFieldValueService:stringifyMultiLookup\n         * @methodOf angularPoint.apFormattedFieldValueService\n         * @param {object[]} prop Array of lookup objects.\n         * @param {string} [delim='; '] Custom delimiter used between the concatenated values.\n         * @description\n         * Converts an array of selected lookup values into a single concatenated string.\n         * @returns {string} Concatenated string representation.\n         */\n        stringifyMultiLookup(prop: ILookup<any>[], delim = '; '): string {\n            var str = '';\n            _.each(prop, function(val, valIndex) {\n\n                /** Add artificial delim */\n                if (valIndex > 0) {\n                    str += delim;\n                }\n\n                str += service.stringifyLookup(val);\n            });\n            return str;\n        }\n\n\n        /**\n         * @ngdoc function\n         * @name angularPoint.apFormattedFieldValueService:stringifyNumber\n         * @methodOf angularPoint.apFormattedFieldValueService\n         * @param {number} prop Property on object to parse.\n         * @description\n         * Converts a number to a string representation.\n         * @returns {string} Stringified number.\n         */\n        stringifyNumber(prop: number): string {\n            var str = '';\n            if (_.isNumber(prop)) {\n                str = prop.toString();\n            }\n            return str;\n        }\n\n    }\n\n\n\n\n    angular\n        .module('angularPoint')\n        .service('apFormattedFieldValueService', FormattedFieldValueService);\n\n\n}\n","/// <reference path=\"../app.module.ts\" />\n\nmodule ap {\n    'use strict';\n\n    var deferred: ng.IDeferred<Function>,\n        registerCallback: ng.IPromise<Function>;\n\n    export interface ILogEvent {\n        cause?: string;\n        event?: string;\n        json?: Object;\n        message?: string;\n        stackTrace?: string[];\n        type?: string;\n        // initial URL and URL after and routing has settled\n        url?: string;\n    }\n\n    export interface ILogger {\n        debug(message: string, optionsOverride?: ILogEvent): ng.IPromise<ListItem<any>>;\n        error(message: string, optionsOverride?: ILogEvent): ng.IPromise<ListItem<any>>;\n        exception(exception, cause?, optionsOverride?: ILogEvent): void;\n        info(message: string, optionsOverride?: ILogEvent): ng.IPromise<ListItem<any>>;\n        log(message: string, optionsOverride?: ILogEvent): ng.IPromise<ListItem<any>>;\n        registerEvent(event: ILogEvent): ng.IPromise<ListItem<any>>;\n        subscribe(callback: Function): void;\n        warn(message: string, optionsOverride?: ILogEvent): ng.IPromise<ListItem<any>>;\n    }\n\n    export class Logger implements ILogger {\n        static $inject = ['$q', '$window', '$log', '$timeout'];\n\n        constructor($q, private $window, private $log, private $timeout) {\n            /** Create a deferred object we can use to delay functionality until log model is registered */\n            deferred = $q.defer();\n            registerCallback = deferred.promise;\n        }\n\n        /**\n         * @ngdoc function\n         * @name angularPoint.apLogger.debug\n         * @methodOf angularPoint.apLogger\n         * @param {string} message Message to log.\n         * @param {ILogger} [optionsOverride] Override any log options.\n         */\n        debug(message: string, optionsOverride?: ILogEvent): ng.IPromise<ListItem<any>> {\n            let opts = _.assign({\n                message: message,\n                type: 'debug'\n            }, optionsOverride);\n\n            return this.notify(opts);\n        };\n\n        /**\n         * @ngdoc function\n         * @name angularPoint.apLogger.error\n         * @methodOf angularPoint.apLogger\n         * @param {string} message Message to log.\n         * @param {ILogger} [optionsOverride] Override any log options.\n         */\n        error(message: string, optionsOverride?: ILogEvent): ng.IPromise<ListItem<any>> {\n            let opts = _.assign({\n                message: message,\n                type: 'error'\n            }, optionsOverride);\n\n            return this.notify(opts);\n        };\n\n        /**\n         * @ngdoc function\n         * @name angularPoint.apLogger.exception\n         * @methodOf angularPoint.apLogger\n         * @param {Error} exception Error which caused event.\n         * @param {string} [cause] Angular sometimes provides cause.\n         * @param {ILogger} optionsOverride Override any log options.\n         */\n        exception(exception: Error, cause?, optionsOverride?: ILogEvent): void {\n            try {\n                // generate a stack trace\n                /* global ErrorStackParser:true */\n                var stackTrace = ErrorStackParser.parse(exception);\n\n                this.error(exception.message, _.assign({}, {\n                    event: 'exception',\n                    stackTrace: stackTrace,\n                    cause: (cause || '')\n                }, optionsOverride));\n\n            } catch (loggingError) {\n                this.$log.warn('Error server-side logging failed');\n                this.$log.log(loggingError);\n            }\n\n        }\n\n        /**\n         * @ngdoc function\n         * @name angularPoint.apLogger.info\n         * @methodOf angularPoint.apLogger\n         * @param {string} message Message to log.\n         * @param {ILogger} [optionsOverride] Override any log options.\n         */\n        info(message: string, optionsOverride?: ILogEvent): ng.IPromise<ListItem<any>> {\n            let opts = _.assign({\n                message: message,\n                type: 'info'\n            }, optionsOverride);\n\n            return this.notify(opts);\n        };\n\n        /**\n         * @ngdoc function\n         * @name angularPoint.apLogger.log\n         * @methodOf angularPoint.apLogger\n         * @param {string} message Message to log.\n         * @param {ILogger} [optionsOverride] Override any log options.\n         */\n        log(message: string, optionsOverride?: ILogEvent): ng.IPromise<ListItem<any>> {\n            let opts = _.assign({\n                message: message,\n                type: 'log'\n            }, optionsOverride);\n\n            return this.notify(opts);\n        };\n\n        registerEvent(logEvent: ILogEvent): ng.IPromise<ListItem<any>> {\n            return registerCallback.then((callback: Function) => {\n                if (_.isFunction(callback)) {\n                    return callback(logEvent);\n                }\n            });\n        }\n\n        /**\n         * @ngdoc function\n         * @name angularPoint.apLogger.subscribe\n         * @methodOf angularPoint.apLogger\n         * @param {Function} callback Callend when event occurs.\n         * @description Callback fired when log event occurs\n         */\n        subscribe(callback: Function): void {\n            deferred.resolve(callback);\n        }\n\n        /**\n         * @ngdoc function\n         * @name angularPoint.apLogger.warn\n         * @methodOf angularPoint.apLogger\n         * @param {string} message Message to log.\n         * @param {ILogger} [optionsOverride] Override any log options.\n         */\n        warn(message: string, optionsOverride?: ILogEvent): ng.IPromise<ListItem<any>> {\n            let opts = _.assign({\n                message: message,\n                type: 'warn'\n            }, optionsOverride);\n\n            return this.notify(opts);\n        };\n\n        private notify(options: ILogEvent) {\n            // url before navigation\n            let url = '1: ' + this.$window.location.href + '\\n';\n            return this.$timeout(() => {\n                /** Allow navigation to settle before capturing 2nd url */\n                url += '2: ' + this.$window.location.href;\n                return this.registerEvent(_.assign({}, {url}, options));\n            }, 100);\n        }\n\n    }\n\n\n    /**\n     * @ngdoc service\n     * @name angularPoint.apLogger\n     * @description\n     * Common definitions used in the application.\n     *\n     * HOW TO USE\n     * 1. Create a logging model for logs to be stored\n     * 2. Ensure everyone has write access to the list\n     * 3. Add the model as one of the dependencies in your .run so it'll be instantiated immediately\n     * 4. Subscribe to change events from on the model\n     *\n     *\n     * @example\n     * <pre>\n     * export class Log extends ap.ListItem{\n     *     cause: string;\n     *     event: string;\n     *     formattedStackTrace: string;\n     *     json: Object;\n     *     message: string;\n     *     stackTrace: string[];\n     *     type: string;\n     *     url: string;\n     *     constructor(obj){\n     *         _.assign(this, obj);\n     *     }\n     *     //override the default save and cleanup before actually saving\n     *     saveChanges() {\n     *          // stringify stacktrace prior to saving so we can display in email notifications\n     *          if(this.stackTrace && !this.formattedStackTrace) {\n     *          this.formattedStackTrace = this.stackTrace.map(function(sf) {\n     *               return sf.toString();\n     *           }).join('\\n');\n     *         }\n     *         return super.saveChanges();\n     *     }\n     * }\n     * var logCounter = 0;\n     * var maxLogsPerSesssion = 5;\n     * export class LogsModel extends ap.Model{\n     *     constructor(apLogger: ap.Logger) {\n     *         model = this;\n     *         super({\n     *             factory: Log,\n     *             list: {\n     *                 title: 'Logs',\n     *                 guid: '{LOG LIST GUID...CHANGE ME}',\n     *                 customFields: [\n     *                     {staticName: 'Message', objectType: 'Note', mappedName: 'message', readOnly: false},\n     *                     {staticName: 'Title', objectType: 'Text', mappedName: 'url', readOnly: false},\n     *                     {staticName: 'LogType', objectType: 'Text', mappedName: 'type', readOnly: false},\n     *                     {staticName: 'StackTrace', objectType: 'JSON', mappedName: 'stackTrace', readOnly: false},\n     *                     {staticName: 'Cause', objectType: 'Text', mappedName: 'cause', readOnly: false},\n     *                     {staticName: 'JSON', objectType: 'JSON', mappedName: 'json', readOnly: false},\n     *                     {staticName: 'Event', objectType: 'Text', mappedName: 'event', readOnly: false},\n     *                     {\n     *                         staticName: 'FormattedStackTrace',\n     *                         objectType: 'Note',\n     *                         mappedName: 'formattedStackTrace',\n     *                         readOnly: false,\n     *                         description: 'Trace formatted to be readable in email notification.'\n     *                     }\n     *                 ]\n     *             }\n     *         });\n     *         // Register this model as the list where all logs will be stored\n     *         apLogger.subscribe(function (event: ap.ILogEvent) {\n     *             // Ensure we keep logging under control, prevents spamming server if loop occurs\n     *             if(logCounter < maxLogsPerSesssion) {\n     *                 var newLog = model.createEmptyItem(event);\n     *                 console.log(newLog);\n     *                 newLog.saveChanges();\n     *                 logCounter++;\n     *             }\n     *         });\n     *     }\n     * }\n     *\n     * </pre>\n     *\n     */\n    angular\n        .module('angularPoint')\n        .service('apLogger', Logger);\n\n}\n","/// <reference path=\"../app.module.ts\" />\n\nmodule ap {\n    'use strict';\n\n    // Set up SOAP envelope\n    class SOAPEnvelope {\n        opheader: string;\n        opfooter: string;\n        header = \"<soap:Envelope xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' \" +\n        \"xmlns:xsd='http://www.w3.org/2001/XMLSchema' \" +\n        \"xmlns:soap='http://schemas.xmlsoap.org/soap/envelope/'><soap:Body>\";\n        footer = \"</soap:Body></soap:Envelope>\";\n        payload = \"\";\n    }\n\n    //Definition file taken from SPServices project on GitHub, look at way to use as depency and link to it\n    interface SPServicesOptions {\n        /** If true, we'll cache the XML results with jQuery's .data() function */\n        cacheXML?: boolean;\n        /** The Web Service operation */\n        operation: string;\n        /** URL of the target Web */\n        webURL?: string;\n        /** true to make the view the default view for the list */\n        makeViewDefault?: boolean;\n\n        // For operations requiring CAML, these options will override any abstractions\n\n        /** View name in CAML format. */\n        viewName?: string;\n        /** Query in CAML format */\n        CAMLQuery?: string;\n        /** View fields in CAML format */\n        CAMLViewFields?: string;\n        /** Row limit as a string representation of an integer */\n        CAMLRowLimit?: number;\n        /** Query options in CAML format */\n        CAMLQueryOptions?: string;\n\n        // Abstractions for CAML syntax\n\n        /** Method Cmd for UpdateListItems */\n        batchCmd?: string;\n        /** Fieldname / Fieldvalue pairs for UpdateListItems */\n        valuePairs?: [string, string][];\n\n        // As of v0.7.1, removed all options which were assigned an empty string (\"\")\n\n        /** Array of destination URLs for copy operations */\n        DestinationUrls?: Array<any>;\n        /** An SPWebServiceBehavior indicating whether the client supports Windows SharePoint Services 2.0 or Windows SharePoint Services 3.0: {Version2 | Version3 } */\n        behavior?: string;\n        /** A Storage value indicating how the Web Part is stored: {None | Personal | Shared} */\n        storage?: string;\n        /** objectType for operations which require it */\n        objectType?: string;\n        /** true to delete a meeting;false to remove its association with a Meeting Workspace site */\n        cancelMeeting?: boolean;\n        /** true if the calendar is set to a format other than Gregorian;otherwise, false. */\n        nonGregorian?: boolean;\n        /** Specifies if the action is a claim or a release. Specifies true for a claim and false for a release. */\n        fClaim?: boolean;\n        /** The recurrence ID for the meeting that needs its association removed. This parameter can be set to 0 for single-instance meetings. */\n        recurrenceId?: number;\n        /** An integer that is used to determine the ordering of updates in case they arrive out of sequence. Updates with a lower-than-current sequence are discarded. If the sequence is equal to the current sequence, the latest update are applied. */\n        sequence?: number;\n        /** SocialDataService maximumItemsToReturn */\n        maximumItemsToReturn?: number;\n        /** SocialDataService startIndex */\n        startIndex?: number;\n        /** SocialDataService isHighPriority */\n        isHighPriority?: boolean;\n        /** SocialDataService isPrivate */\n        isPrivate?: boolean;\n        /** SocialDataService rating */\n        rating?: number;\n        /** Unless otherwise specified, the maximum number of principals that can be returned from a provider is 10. */\n        maxResults?: number;\n        /** Specifies user scope and other information? [None | User | DistributionList | SecurityGroup | SharePointGroup | All] */\n        principalType?: string;\n\n        /** Allow the user to force async */\n        async?: boolean;\n        /** Function to call on completion */\n        completefunc?: (xData: JQueryXHR, status: string) => void;\n    }\n\n\n    //TODO Cleanup and convert to TS\n    function Service(apWebServiceOperationConstants: IWebServiceOperationConstants, apWebServiceService: WebServiceService) {\n\n        /*\n         * SPServices - Work with SharePoint's Web Services using jQuery\n         * Version 2014.02a\n         * @requires jQuery v1.8 or greater - jQuery 1.10.x recommended\n         *\n         * Copyright (c) 2009-2013 Sympraxis Consulting LLC\n         * Examples and docs at:\n         * http://spservices.codeplex.com\n         * Licensed under the MIT license:\n         * http://www.opensource.org/licenses/mit-license.php\n         */\n        /*\n         * @description Work with SharePoint's Web Services using jQuery\n         * @type jQuery\n         * @name SPServices\n         * @category Plugins/SPServices\n         * @author Sympraxis Consulting LLC/marc.anderson@sympraxisconsulting.com\n         */\n        /* jshint undef: true */\n        /* global L_Menu_BaseUrl, _spUserId, _spPageContextInfo, GipAddSelectedItems, GipRemoveSelectedItems, GipGetGroupData */\n\n        // Global variables\n        var SCHEMASharePoint = \"http://schemas.microsoft.com/sharepoint\";\n        var i = 0; // Generic loop counter\n        var encodeOptionList = [\"listName\", \"description\"]; // Used to encode options which may contain special characters\n\n        // Defaults added as a function in our library means that the caller can override the defaults\n        // for their session by calling this function.  Each operation requires a different set of options;\n        // we allow for all in a standardized way.\n        var defaults = {\n\n            operation: \"\", // The Web Service operation\n            webURL: \"\", // URL of the target Web\n            makeViewDefault: false, // true to make the view the default view for the list\n\n            // For operations requiring CAML, these options will override any abstractions\n            CAMLViewName: \"\", // View name in CAML format.\n            CAMLQuery: \"\", // Query in CAML format\n            CAMLViewFields: \"\", // View fields in CAML format\n            CAMLRowLimit: 0, // Row limit as a string representation of an integer\n            CAMLQueryOptions: \"<QueryOptions></QueryOptions>\", // Query options in CAML format\n\n            // Abstractions for CAML syntax\n            batchCmd: \"Update\", // Method Cmd for UpdateListItems\n            valuePairs: [], // Fieldname / Fieldvalue pairs for UpdateListItems\n\n            // As of v0.7.1, removed all options which were assigned an empty string (\"\")\n            DestinationUrls: [], // Array of destination URLs for copy operations\n            behavior: \"Version3\", // An SPWebServiceBehavior indicating whether the client supports Windows SharePoint Services 2.0 or Windows SharePoint Services 3.0: {Version2 | Version3 }\n            storage: \"Shared\", // A Storage value indicating how the Web Part is stored: {None | Personal | Shared}\n            objectType: \"List\", // objectType for operations which require it\n            cancelMeeting: true, // true to delete a meeting;false to remove its association with a Meeting Workspace site\n            nonGregorian: false, // true if the calendar is set to a format other than Gregorian;otherwise, false.\n            fClaim: false, // Specifies if the action is a claim or a release. Specifies true for a claim and false for a release.\n            recurrenceId: 0, // The recurrence ID for the meeting that needs its association removed. This parameter can be set to 0 for single-instance meetings.\n            sequence: 0, // An integer that is used to determine the ordering of updates in case they arrive out of sequence. Updates with a lower-than-current sequence are discarded. If the sequence is equal to the current sequence, the latest update are applied.\n            maximumItemsToReturn: 0, // SocialDataService maximumItemsToReturn\n            startIndex: 0, // SocialDataService startIndex\n            isHighPriority: false, // SocialDataService isHighPriority\n            isPrivate: false, // SocialDataService isPrivate\n            rating: 1, // SocialDataService rating\n            maxResults: 10, // Unless otherwise specified, the maximum number of principals that can be returned from a provider is 10.\n            principalType: \"User\", // Specifies user scope and other information: [None | User | DistributionList | SecurityGroup | SharePointGroup | All]\n\n            async: true, // Allow the user to force async\n            completefunc: null // Function to call on completion\n\n        }; // End SPServices.defaults\n\n\n\n\n\n        // Main function, which calls SharePoint's Web Services directly.\n        var SPServices = {\n            defaults: defaults,\n            encodeXml: encodeXml,\n            generateXMLComponents: generateXMLComponents,\n            SCHEMASharePoint: SCHEMASharePoint,\n            SOAPEnvelope: new SOAPEnvelope()\n        };\n\n        function generateXMLComponents(options: SPServicesOptions) {\n\n            /** Key/Value mapping of SharePoint properties to SPServices properties */\n            var mapping = [\n                ['query', 'CAMLQuery'],\n                ['viewFields', 'CAMLViewFields'],\n                ['rowLimit', 'CAMLRowLimit'],\n                ['queryOptions', 'CAMLQueryOptions'],\n                ['listItemID', 'ID']\n            ];\n\n            /** Ensure the SharePoint properties are available prior to extending with defaults */\n            _.each(mapping, function(map) {\n                if (options[map[0]] && !options[map[1]]) {\n                    /** Ensure SPServices properties are added in the event the true property name is used */\n                    options[map[1]] = options[map[0]];\n                }\n            });\n\n            var soapEnvelope = new SOAPEnvelope();\n            var SOAPAction;\n\n            // If there are no options passed in, use the defaults.  Extend replaces each default with the passed option.\n            var opt: SPServicesOptions = _.assign({}, defaults, options);\n\n            // Encode options which may contain special character, esp. ampersand\n            _.each(encodeOptionList, function(optionName) {\n                if (_.isString(opt[optionName])) {\n                    opt[optionName] = encodeXml(opt[optionName]);\n                }\n            });\n\n            var service = apWebServiceOperationConstants[opt.operation][0];\n\n            // Put together operation header and SOAPAction for the SOAP call based on which Web Service we're calling\n            soapEnvelope.opheader = `<${opt.operation} xmlns=\"${apWebServiceService.xmlns(service) }\" >`;\n            SOAPAction = apWebServiceService.action(service);\n\n            // Add the operation to the SOAPAction and opfooter\n            SOAPAction += opt.operation;\n            soapEnvelope.opfooter = `</${opt.operation}>`;\n\n            // Each operation requires a different set of values.  This switch statement sets them up in the soapEnvelope.payload.\n            switch (opt.operation) {\n                // ALERT OPERATIONS\n                case \"GetAlerts\":\n                    break;\n                case \"DeleteAlerts\":\n                    soapEnvelope.payload += \"<IDs>\";\n                    for (i = 0; i < opt.IDs.length; i++) {\n                        soapEnvelope.payload += wrapNode(\"string\", opt.IDs[i]);\n                    }\n                    soapEnvelope.payload += \"</IDs>\";\n                    break;\n\n                // AUTHENTICATION OPERATIONS\n                case \"Mode\":\n                    break;\n                case \"Login\":\n                    addToPayload(opt, [\"username\", \"password\"]);\n                    break;\n\n                // COPY OPERATIONS\n                case \"CopyIntoItems\":\n                    addToPayload(opt, [\"SourceUrl\"]);\n                    soapEnvelope.payload += \"<DestinationUrls>\";\n                    for (i = 0; i < opt.DestinationUrls.length; i++) {\n                        soapEnvelope.payload += wrapNode(\"string\", opt.DestinationUrls[i]);\n                    }\n                    soapEnvelope.payload += \"</DestinationUrls>\";\n                    addToPayload(opt, [\"Fields\", \"Stream\", \"Results\"]);\n                    break;\n                case \"CopyIntoItemsLocal\":\n                    addToPayload(opt, [\"SourceUrl\"]);\n                    soapEnvelope.payload += \"<DestinationUrls>\";\n                    for (i = 0; i < opt.DestinationUrls.length; i++) {\n                        soapEnvelope.payload += wrapNode(\"string\", opt.DestinationUrls[i]);\n                    }\n                    soapEnvelope.payload += \"</DestinationUrls>\";\n                    break;\n                case \"GetItem\":\n                    addToPayload(opt, [\"Url\", \"Fields\", \"Stream\"]);\n                    break;\n\n                // FORM OPERATIONS\n                case \"GetForm\":\n                    addToPayload(opt, [\"listName\", \"formUrl\"]);\n                    break;\n                case \"GetFormCollection\":\n                    addToPayload(opt, [\"listName\"]);\n                    break;\n\n                // LIST OPERATIONS\n                case \"AddAttachment\":\n                    addToPayload(opt, [\"listName\", \"listItemID\", \"fileName\", \"attachment\"]);\n                    break;\n                case \"AddDiscussionBoardItem\":\n                    addToPayload(opt, [\"listName\", \"message\"]);\n                    break;\n                case \"AddList\":\n                    addToPayload(opt, [\"listName\", \"description\", \"templateID\"]);\n                    break;\n                case \"AddListFromFeature\":\n                    addToPayload(opt, [\"listName\", \"description\", \"featureID\", \"templateID\"]);\n                    break;\n                case \"ApplyContentTypeToList\":\n                    addToPayload(opt, [\"webUrl\", \"contentTypeId\", \"listName\"]);\n                    break;\n                case \"CheckInFile\":\n                    addToPayload(opt, [\"pageUrl\", \"comment\", \"CheckinType\"]);\n                    break;\n                case \"CheckOutFile\":\n                    addToPayload(opt, [\"pageUrl\", \"checkoutToLocal\", \"lastmodified\"]);\n                    break;\n                case \"CreateContentType\":\n                    addToPayload(opt, [\"listName\", \"displayName\", \"parentType\", \"fields\", \"contentTypeProperties\", \"addToView\"]);\n                    break;\n                case \"DeleteAttachment\":\n                    addToPayload(opt, [\"listName\", \"listItemID\", \"url\"]);\n                    break;\n                case \"DeleteContentType\":\n                    addToPayload(opt, [\"listName\", \"contentTypeId\"]);\n                    break;\n                case \"DeleteContentTypeXmlDocument\":\n                    addToPayload(opt, [\"listName\", \"contentTypeId\", \"documentUri\"]);\n                    break;\n                case \"DeleteList\":\n                    addToPayload(opt, [\"listName\"]);\n                    break;\n                case \"GetAttachmentCollection\":\n                    addToPayload(opt, [\"listName\", [\"listItemID\", \"ID\"]]);\n                    break;\n                case \"GetList\":\n                    addToPayload(opt, [\"listName\"]);\n                    break;\n                case \"GetListAndView\":\n                    addToPayload(opt, [\"listName\", \"viewName\"]);\n                    break;\n                case \"GetListCollection\":\n                    break;\n                case \"GetListContentType\":\n                    addToPayload(opt, [\"listName\", \"contentTypeId\"]);\n                    break;\n                case \"GetListContentTypes\":\n                    addToPayload(opt, [\"listName\"]);\n                    break;\n                case \"GetListItems\":\n                    addToPayload(opt,\n                        [\"listName\", \"viewName\",\n                            [\"query\", \"CAMLQuery\"],\n                            [\"viewFields\", \"CAMLViewFields\"],\n                            [\"rowLimit\", \"CAMLRowLimit\"],\n                            [\"queryOptions\", \"CAMLQueryOptions\"]\n                        ]);\n                    break;\n                case \"GetListItemChanges\":\n                    addToPayload(opt, [\"listName\", \"viewFields\", \"since\", \"contains\"]);\n                    break;\n                case \"GetListItemChangesSinceToken\":\n                    addToPayload(opt,\n                        [\"listName\", \"viewName\",\n                            [\"query\", \"CAMLQuery\"],\n                            [\"viewFields\", \"CAMLViewFields\"],\n                            [\"rowLimit\", \"CAMLRowLimit\"],\n                            [\"queryOptions\", \"CAMLQueryOptions\"],\n                            {\n                                name: \"changeToken\",\n                                sendNull: false\n                            },\n                            {\n                                name: \"contains\",\n                                sendNull: false\n                            }\n                        ]);\n                    break;\n                case \"GetVersionCollection\":\n                    addToPayload(opt, [\"strlistID\", \"strlistItemID\", \"strFieldName\"]);\n                    break;\n                case \"UndoCheckOut\":\n                    addToPayload(opt, [\"pageUrl\"]);\n                    break;\n                case \"UpdateContentType\":\n                    addToPayload(opt, [\"listName\", \"contentTypeId\", \"contentTypeProperties\", \"newFields\", \"updateFields\", \"deleteFields\", \"addToView\"]);\n                    break;\n                case \"UpdateContentTypesXmlDocument\":\n                    addToPayload(opt, [\"listName\", \"newDocument\"]);\n                    break;\n                case \"UpdateContentTypeXmlDocument\":\n                    addToPayload(opt, [\"listName\", \"contentTypeId\", \"newDocument\"]);\n                    break;\n                case \"UpdateList\":\n                    addToPayload(opt, [\"listName\", \"listProperties\", \"newFields\", \"updateFields\", \"deleteFields\", \"listVersion\"]);\n                    break;\n                case \"UpdateListItems\":\n                    addToPayload(opt, [\"listName\"]);\n                    if (typeof opt.updates !== \"undefined\" && opt.updates.length > 0) {\n                        addToPayload(opt, [\"updates\"]);\n                    } else {\n                        soapEnvelope.payload += `<updates><Batch OnError=\"Continue\"><Method ID=\"1\" Cmd=\"${opt.batchCmd}\">`;\n                        _.each(opt.valuePairs, (valuePair: [string, string]) => {\n                            soapEnvelope.payload += `<Field Name=\"${ valuePair[0] }\">${ escapeColumnValue(valuePair[1]) }</Field>`;\n                        })\n                        if (opt.batchCmd !== \"New\") {\n                            soapEnvelope.payload += `<Field Name=\"ID\">${opt.ID}</Field>`;\n                        }\n                        soapEnvelope.payload += \"</Method></Batch></updates>\";\n                    }\n                    break;\n\n                // MEETINGS OPERATIONS\n                case \"AddMeeting\":\n                    addToPayload(opt, [\"organizerEmail\", \"uid\", \"sequence\", \"utcDateStamp\", \"title\", \"location\", \"utcDateStart\", \"utcDateEnd\", \"nonGregorian\"]);\n                    break;\n                case \"CreateWorkspace\":\n                    addToPayload(opt, [\"title\", \"templateName\", \"lcid\", \"timeZoneInformation\"]);\n                    break;\n                case \"RemoveMeeting\":\n                    addToPayload(opt, [\"recurrenceId\", \"uid\", \"sequence\", \"utcDateStamp\", \"cancelMeeting\"]);\n                    break;\n                case \"SetWorkspaceTitle\":\n                    addToPayload(opt, [\"title\"]);\n                    break;\n\n                // PEOPLE OPERATIONS\n                case \"ResolvePrincipals\":\n                    addToPayload(opt, [\"principalKeys\", \"principalType\", \"addToUserInfoList\"]);\n                    break;\n                case \"SearchPrincipals\":\n                    addToPayload(opt, [\"searchText\", \"maxResults\", \"principalType\"]);\n                    break;\n\n                // PERMISSION OPERATIONS\n                case \"AddPermission\":\n                    addToPayload(opt, [\"objectName\", \"objectType\", \"permissionIdentifier\", \"permissionType\", \"permissionMask\"]);\n                    break;\n                case \"AddPermissionCollection\":\n                    addToPayload(opt, [\"objectName\", \"objectType\", \"permissionsInfoXml\"]);\n                    break;\n                case \"GetPermissionCollection\":\n                    addToPayload(opt, [\"objectName\", \"objectType\"]);\n                    break;\n                case \"RemovePermission\":\n                    addToPayload(opt, [\"objectName\", \"objectType\", \"permissionIdentifier\", \"permissionType\"]);\n                    break;\n                case \"RemovePermissionCollection\":\n                    addToPayload(opt, [\"objectName\", \"objectType\", \"memberIdsXml\"]);\n                    break;\n                case \"UpdatePermission\":\n                    addToPayload(opt, [\"objectName\", \"objectType\", \"permissionIdentifier\", \"permissionType\", \"permissionMask\"]);\n                    break;\n\n                // PUBLISHEDLINKSSERVICE OPERATIONS\n                case \"GetLinks\":\n                    break;\n\n                // SEARCH OPERATIONS\n                case \"GetPortalSearchInfo\":\n                    soapEnvelope.opheader = \"<\" + opt.operation + \" xmlns='http://microsoft.com/webservices/OfficeServer/QueryService'>\";\n                    SOAPAction = \"http://microsoft.com/webservices/OfficeServer/QueryService/\" + opt.operation;\n                    break;\n                case \"GetQuerySuggestions\":\n                    soapEnvelope.opheader = \"<\" + opt.operation + \" xmlns='http://microsoft.com/webservices/OfficeServer/QueryService'>\";\n                    SOAPAction = \"http://microsoft.com/webservices/OfficeServer/QueryService/\" + opt.operation;\n                    soapEnvelope.payload += wrapNode(\"queryXml\", encodeXml(opt.queryXml));\n                    break;\n                case \"GetSearchMetadata\":\n                    soapEnvelope.opheader = \"<\" + opt.operation + \" xmlns='http://microsoft.com/webservices/OfficeServer/QueryService'>\";\n                    SOAPAction = \"http://microsoft.com/webservices/OfficeServer/QueryService/\" + opt.operation;\n                    break;\n                case \"Query\":\n                    soapEnvelope.payload += wrapNode(\"queryXml\", encodeXml(opt.queryXml));\n                    break;\n                case \"QueryEx\":\n                    soapEnvelope.opheader = \"<\" + opt.operation + \" xmlns='http://microsoft.com/webservices/OfficeServer/QueryService'>\";\n                    SOAPAction = \"http://microsoft.com/webservices/OfficeServer/QueryService/\" + opt.operation;\n                    soapEnvelope.payload += wrapNode(\"queryXml\", encodeXml(opt.queryXml));\n                    break;\n                case \"Registration\":\n                    soapEnvelope.payload += wrapNode(\"registrationXml\", encodeXml(opt.registrationXml));\n                    break;\n                case \"Status\":\n                    break;\n\n                // SHAREPOINTDIAGNOSTICS OPERATIONS\n                case \"SendClientScriptErrorReport\":\n                    addToPayload(opt, [\"message\", \"file\", \"line\", \"client\", \"stack\", \"team\", \"originalFile\"]);\n                    break;\n\n                // SITEDATA OPERATIONS\n                case \"EnumerateFolder\":\n                    addToPayload(opt, [\"strFolderUrl\"]);\n                    break;\n                case \"GetAttachments\":\n                    addToPayload(opt, [\"strListName\", \"strItemId\"]);\n                    break;\n                case \"SiteDataGetList\":\n                    addToPayload(opt, [\"strListName\"]);\n                    // Because this operation has a name which duplicates the Lists WS, need to handle\n                    soapEnvelope = siteDataFixSOAPEnvelope(soapEnvelope, opt.operation);\n                    break;\n                case \"SiteDataGetListCollection\":\n                    // Because this operation has a name which duplicates the Lists WS, need to handle\n                    soapEnvelope = siteDataFixSOAPEnvelope(soapEnvelope, opt.operation);\n                    break;\n                case \"SiteDataGetSite\":\n                    // Because this operation has a name which duplicates the Lists WS, need to handle\n                    soapEnvelope = siteDataFixSOAPEnvelope(soapEnvelope, opt.operation);\n                    break;\n                case \"SiteDataGetSiteUrl\":\n                    addToPayload(opt, [\"Url\"]);\n                    // Because this operation has a name which duplicates the Lists WS, need to handle\n                    soapEnvelope = siteDataFixSOAPEnvelope(soapEnvelope, opt.operation);\n                    break;\n                case \"SiteDataGetWeb\":\n                    // Because this operation has a name which duplicates the Lists WS, need to handle\n                    soapEnvelope = siteDataFixSOAPEnvelope(soapEnvelope, opt.operation);\n                    break;\n\n                // SITES OPERATIONS\n                case \"CreateWeb\":\n                    addToPayload(opt, [\"url\", \"title\", \"description\", \"templateName\", \"language\", \"languageSpecified\",\n                        \"locale\", \"localeSpecified\", \"collationLocale\", \"collationLocaleSpecified\", \"uniquePermissions\",\n                        \"uniquePermissionsSpecified\", \"anonymous\", \"anonymousSpecified\", \"presence\", \"presenceSpecified\"\n                    ]);\n                    break;\n                case \"DeleteWeb\":\n                    addToPayload(opt, [\"url\"]);\n                    break;\n                case \"GetSite\":\n                    addToPayload(opt, [\"SiteUrl\"]);\n                    break;\n                case \"GetSiteTemplates\":\n                    addToPayload(opt, [\"LCID\", \"TemplateList\"]);\n                    break;\n\n                // SOCIALDATASERVICE OPERATIONS\n                case \"AddComment\":\n                    addToPayload(opt, [\"url\", \"comment\", \"isHighPriority\", \"title\"]);\n                    break;\n                case \"AddTag\":\n                    addToPayload(opt, [\"url\", \"termID\", \"title\", \"isPrivate\"]);\n                    break;\n                case \"AddTagByKeyword\":\n                    addToPayload(opt, [\"url\", \"keyword\", \"title\", \"isPrivate\"]);\n                    break;\n                case \"CountCommentsOfUser\":\n                    addToPayload(opt, [\"userAccountName\"]);\n                    break;\n                case \"CountCommentsOfUserOnUrl\":\n                    addToPayload(opt, [\"userAccountName\", \"url\"]);\n                    break;\n                case \"CountCommentsOnUrl\":\n                    addToPayload(opt, [\"url\"]);\n                    break;\n                case \"CountRatingsOnUrl\":\n                    addToPayload(opt, [\"url\"]);\n                    break;\n                case \"CountTagsOfUser\":\n                    addToPayload(opt, [\"userAccountName\"]);\n                    break;\n                case \"DeleteComment\":\n                    addToPayload(opt, [\"url\", \"lastModifiedTime\"]);\n                    break;\n                case \"DeleteRating\":\n                    addToPayload(opt, [\"url\"]);\n                    break;\n                case \"DeleteTag\":\n                    addToPayload(opt, [\"url\", \"termID\"]);\n                    break;\n                case \"DeleteTagByKeyword\":\n                    addToPayload(opt, [\"url\", \"keyword\"]);\n                    break;\n                case \"DeleteTags\":\n                    addToPayload(opt, [\"url\"]);\n                    break;\n                case \"GetAllTagTerms\":\n                    addToPayload(opt, [\"maximumItemsToReturn\"]);\n                    break;\n                case \"GetAllTagTermsForUrlFolder\":\n                    addToPayload(opt, [\"urlFolder\", \"maximumItemsToReturn\"]);\n                    break;\n                case \"GetAllTagUrls\":\n                    addToPayload(opt, [\"termID\"]);\n                    break;\n                case \"GetAllTagUrlsByKeyword\":\n                    addToPayload(opt, [\"keyword\"]);\n                    break;\n                case \"GetCommentsOfUser\":\n                    addToPayload(opt, [\"userAccountName\", \"maximumItemsToReturn\", \"startIndex\"]);\n                    break;\n                case \"GetCommentsOfUserOnUrl\":\n                    addToPayload(opt, [\"userAccountName\", \"url\"]);\n                    break;\n                case \"GetCommentsOnUrl\":\n                    addToPayload(opt, [\"url\", \"maximumItemsToReturn\", \"startIndex\"]);\n                    if (typeof opt.excludeItemsTime !== \"undefined\" && opt.excludeItemsTime.length > 0) {\n                        soapEnvelope.payload += wrapNode(\"excludeItemsTime\", opt.excludeItemsTime);\n                    }\n                    break;\n                case \"GetRatingAverageOnUrl\":\n                    addToPayload(opt, [\"url\"]);\n                    break;\n                case \"GetRatingOfUserOnUrl\":\n                    addToPayload(opt, [\"userAccountName\", \"url\"]);\n                    break;\n                case \"GetRatingOnUrl\":\n                    addToPayload(opt, [\"url\"]);\n                    break;\n                case \"GetRatingsOfUser\":\n                    addToPayload(opt, [\"userAccountName\"]);\n                    break;\n                case \"GetRatingsOnUrl\":\n                    addToPayload(opt, [\"url\"]);\n                    break;\n                case \"GetSocialDataForFullReplication\":\n                    addToPayload(opt, [\"userAccountName\"]);\n                    break;\n                case \"GetTags\":\n                    addToPayload(opt, [\"url\"]);\n                    break;\n                case \"GetTagsOfUser\":\n                    addToPayload(opt, [\"userAccountName\", \"maximumItemsToReturn\", \"startIndex\"]);\n                    break;\n                case \"GetTagTerms\":\n                    addToPayload(opt, [\"maximumItemsToReturn\"]);\n                    break;\n                case \"GetTagTermsOfUser\":\n                    addToPayload(opt, [\"userAccountName\", \"maximumItemsToReturn\"]);\n                    break;\n                case \"GetTagTermsOnUrl\":\n                    addToPayload(opt, [\"url\", \"maximumItemsToReturn\"]);\n                    break;\n                case \"GetTagUrls\":\n                    addToPayload(opt, [\"termID\"]);\n                    break;\n                case \"GetTagUrlsByKeyword\":\n                    addToPayload(opt, [\"keyword\"]);\n                    break;\n                case \"GetTagUrlsOfUser\":\n                    addToPayload(opt, [\"termID\", \"userAccountName\"]);\n                    break;\n                case \"GetTagUrlsOfUserByKeyword\":\n                    addToPayload(opt, [\"keyword\", \"userAccountName\"]);\n                    break;\n                case \"SetRating\":\n                    addToPayload(opt, [\"url\", \"rating\", \"title\", \"analysisDataEntry\"]);\n                    break;\n                case \"UpdateComment\":\n                    addToPayload(opt, [\"url\", \"lastModifiedTime\", \"comment\", \"isHighPriority\"]);\n                    break;\n\n                // SPELLCHECK OPERATIONS\n                case \"SpellCheck\":\n                    addToPayload(opt, [\"chunksToSpell\", \"declaredLanguage\", \"useLad\"]);\n                    break;\n\n                // TAXONOMY OPERATIONS\n                case \"AddTerms\":\n                    addToPayload(opt, [\"sharedServiceId\", \"termSetId\", \"lcid\", \"newTerms\"]);\n                    break;\n                case \"GetChildTermsInTerm\":\n                    addToPayload(opt, [\"sspId\", \"lcid\", \"termId\", \"termSetId\"]);\n                    break;\n                case \"GetChildTermsInTermSet\":\n                    addToPayload(opt, [\"sspId\", \"lcid\", \"termSetId\"]);\n                    break;\n                case \"GetKeywordTermsByGuids\":\n                    addToPayload(opt, [\"termIds\", \"lcid\"]);\n                    break;\n                case \"GetTermsByLabel\":\n                    addToPayload(opt, [\"label\", \"lcid\", \"matchOption\", \"resultCollectionSize\", \"termIds\", \"addIfNotFound\"]);\n                    break;\n                case \"GetTermSets\":\n                    addToPayload(opt, [\"sharedServiceId\", \"termSetId\", \"lcid\", \"clientTimeStamps\", \"clientVersions\"]);\n                    break;\n\n                // USERS AND GROUPS OPERATIONS\n                case \"AddGroup\":\n                    addToPayload(opt, [\"groupName\", \"ownerIdentifier\", \"ownerType\", \"defaultUserLoginName\", \"description\"]);\n                    break;\n                case \"AddGroupToRole\":\n                    addToPayload(opt, [\"groupName\", \"roleName\"]);\n                    break;\n                case \"AddRole\":\n                    addToPayload(opt, [\"roleName\", \"description\", \"permissionMask\"]);\n                    break;\n                case \"AddRoleDef\":\n                    addToPayload(opt, [\"roleName\", \"description\", \"permissionMask\"]);\n                    break;\n                case \"AddUserCollectionToGroup\":\n                    addToPayload(opt, [\"groupName\", \"usersInfoXml\"]);\n                    break;\n                case \"AddUserCollectionToRole\":\n                    addToPayload(opt, [\"roleName\", \"usersInfoXml\"]);\n                    break;\n                case \"AddUserToGroup\":\n                    addToPayload(opt, [\"groupName\", \"userName\", \"userLoginName\", \"userEmail\", \"userNotes\"]);\n                    break;\n                case \"AddUserToRole\":\n                    addToPayload(opt, [\"roleName\", \"userName\", \"userLoginName\", \"userEmail\", \"userNotes\"]);\n                    break;\n                case \"GetAllUserCollectionFromWeb\":\n                    break;\n                case \"GetGroupCollection\":\n                    addToPayload(opt, [\"groupNamesXml\"]);\n                    break;\n                case \"GetGroupCollectionFromRole\":\n                    addToPayload(opt, [\"roleName\"]);\n                    break;\n                case \"GetGroupCollectionFromSite\":\n                    break;\n                case \"GetGroupCollectionFromUser\":\n                    addToPayload(opt, [\"userLoginName\"]);\n                    break;\n                case \"GetGroupCollectionFromWeb\":\n                    break;\n                case \"GetGroupInfo\":\n                    addToPayload(opt, [\"groupName\"]);\n                    break;\n                case \"GetRoleCollection\":\n                    addToPayload(opt, [\"roleNamesXml\"]);\n                    break;\n                case \"GetRoleCollectionFromGroup\":\n                    addToPayload(opt, [\"groupName\"]);\n                    break;\n                case \"GetRoleCollectionFromUser\":\n                    addToPayload(opt, [\"userLoginName\"]);\n                    break;\n                case \"GetRoleCollectionFromWeb\":\n                    break;\n                case \"GetRoleInfo\":\n                    addToPayload(opt, [\"roleName\"]);\n                    break;\n                case \"GetRolesAndPermissionsForCurrentUser\":\n                    break;\n                case \"GetRolesAndPermissionsForSite\":\n                    break;\n                case \"GetUserCollection\":\n                    addToPayload(opt, [\"userLoginNamesXml\"]);\n                    break;\n                case \"GetUserCollectionFromGroup\":\n                    addToPayload(opt, [\"groupName\"]);\n                    break;\n                case \"GetUserCollectionFromRole\":\n                    addToPayload(opt, [\"roleName\"]);\n                    break;\n                case \"GetUserCollectionFromSite\":\n                    break;\n                case \"GetUserCollectionFromWeb\":\n                    break;\n                case \"GetUserInfo\":\n                    addToPayload(opt, [\"userLoginName\"]);\n                    break;\n                case \"GetUserLoginFromEmail\":\n                    addToPayload(opt, [\"emailXml\"]);\n                    break;\n                case \"RemoveGroup\":\n                    addToPayload(opt, [\"groupName\"]);\n                    break;\n                case \"RemoveGroupFromRole\":\n                    addToPayload(opt, [\"roleName\", \"groupName\"]);\n                    break;\n                case \"RemoveRole\":\n                    addToPayload(opt, [\"roleName\"]);\n                    break;\n                case \"RemoveUserCollectionFromGroup\":\n                    addToPayload(opt, [\"groupName\", \"userLoginNamesXml\"]);\n                    break;\n                case \"RemoveUserCollectionFromRole\":\n                    addToPayload(opt, [\"roleName\", \"userLoginNamesXml\"]);\n                    break;\n                case \"RemoveUserCollectionFromSite\":\n                    addToPayload(opt, [\"userLoginNamesXml\"]);\n                    break;\n                case \"RemoveUserFromGroup\":\n                    addToPayload(opt, [\"groupName\", \"userLoginName\"]);\n                    break;\n                case \"RemoveUserFromRole\":\n                    addToPayload(opt, [\"roleName\", \"userLoginName\"]);\n                    break;\n                case \"RemoveUserFromSite\":\n                    addToPayload(opt, [\"userLoginName\"]);\n                    break;\n                case \"RemoveUserFromWeb\":\n                    addToPayload(opt, [\"userLoginName\"]);\n                    break;\n                case \"UpdateGroupInfo\":\n                    addToPayload(opt, [\"oldGroupName\", \"groupName\", \"ownerIdentifier\", \"ownerType\", \"description\"]);\n                    break;\n                case \"UpdateRoleDefInfo\":\n                    addToPayload(opt, [\"oldRoleName\", \"roleName\", \"description\", \"permissionMask\"]);\n                    break;\n                case \"UpdateRoleInfo\":\n                    addToPayload(opt, [\"oldRoleName\", \"roleName\", \"description\", \"permissionMask\"]);\n                    break;\n                case \"UpdateUserInfo\":\n                    addToPayload(opt, [\"userLoginName\", \"userName\", \"userEmail\", \"userNotes\"]);\n                    break;\n\n                // USERPROFILESERVICE OPERATIONS\n                case \"AddColleague\":\n                    addToPayload(opt, [\"accountName\", \"colleagueAccountName\", \"group\", \"privacy\", \"isInWorkGroup\"]);\n                    break;\n                case \"AddLink\":\n                    addToPayload(opt, [\"accountName\", \"name\", \"url\", \"group\", \"privacy\"]);\n                    break;\n                case \"AddMembership\":\n                    addToPayload(opt, [\"accountName\", \"membershipInfo\", \"group\", \"privacy\"]);\n                    break;\n                case \"AddPinnedLink\":\n                    addToPayload(opt, [\"accountName\", \"name\", \"url\"]);\n                    break;\n                case \"CreateMemberGroup\":\n                    addToPayload(opt, [\"membershipInfo\"]);\n                    break;\n                case \"CreateUserProfileByAccountName\":\n                    addToPayload(opt, [\"accountName\"]);\n                    break;\n                case \"GetCommonColleagues\":\n                    addToPayload(opt, [\"accountName\"]);\n                    break;\n                case \"GetCommonManager\":\n                    addToPayload(opt, [\"accountName\"]);\n                    break;\n                case \"GetCommonMemberships\":\n                    addToPayload(opt, [\"accountName\"]);\n                    break;\n                case \"GetInCommon\":\n                    addToPayload(opt, [\"accountName\"]);\n                    break;\n                case \"GetPropertyChoiceList\":\n                    addToPayload(opt, [\"propertyName\"]);\n                    break;\n                case \"GetUserColleagues\":\n                    addToPayload(opt, [\"accountName\"]);\n                    break;\n                case \"GetUserLinks\":\n                    addToPayload(opt, [\"accountName\"]);\n                    break;\n                case \"GetUserMemberships\":\n                    addToPayload(opt, [\"accountName\"]);\n                    break;\n                case \"GetUserPinnedLinks\":\n                    addToPayload(opt, [\"accountName\"]);\n                    break;\n                case \"GetUserProfileByGuid\":\n                    addToPayload(opt, [\"guid\"]);\n                    break;\n                case \"GetUserProfileByIndex\":\n                    addToPayload(opt, [\"index\"]);\n                    break;\n                case \"GetUserProfileByName\":\n                    // Note that this operation is inconsistent with the others, using AccountName rather than accountName\n                    if (typeof opt.accountName !== \"undefined\" && opt.accountName.length > 0) {\n                        addToPayload(opt, [\n                            [\"AccountName\", \"accountName\"]\n                        ]);\n                    } else {\n                        addToPayload(opt, [\"AccountName\"]);\n                    }\n                    break;\n                case \"GetUserProfileCount\":\n                    break;\n                case \"GetUserProfileSchema\":\n                    break;\n                case \"GetUserPropertyByAccountName\":\n                    addToPayload(opt, [\"accountName\", \"propertyName\"]);\n                    break;\n                case \"ModifyUserPropertyByAccountName\":\n                    addToPayload(opt, [\"accountName\", \"newData\"]);\n                    break;\n                case \"RemoveAllColleagues\":\n                    addToPayload(opt, [\"accountName\"]);\n                    break;\n                case \"RemoveAllLinks\":\n                    addToPayload(opt, [\"accountName\"]);\n                    break;\n                case \"RemoveAllMemberships\":\n                    addToPayload(opt, [\"accountName\"]);\n                    break;\n                case \"RemoveAllPinnedLinks\":\n                    addToPayload(opt, [\"accountName\"]);\n                    break;\n                case \"RemoveColleague\":\n                    addToPayload(opt, [\"accountName\", \"colleagueAccountName\"]);\n                    break;\n                case \"RemoveLink\":\n                    addToPayload(opt, [\"accountName\", \"id\"]);\n                    break;\n                case \"RemoveMembership\":\n                    addToPayload(opt, [\"accountName\", \"sourceInternal\", \"sourceReference\"]);\n                    break;\n                case \"RemovePinnedLink\":\n                    addToPayload(opt, [\"accountName\", \"id\"]);\n                    break;\n                case \"UpdateColleaguePrivacy\":\n                    addToPayload(opt, [\"accountName\", \"colleagueAccountName\", \"newPrivacy\"]);\n                    break;\n                case \"UpdateLink\":\n                    addToPayload(opt, [\"accountName\", \"data\"]);\n                    break;\n                case \"UpdateMembershipPrivacy\":\n                    addToPayload(opt, [\"accountName\", \"sourceInternal\", \"sourceReference\", \"newPrivacy\"]);\n                    break;\n                case \"UpdatePinnedLink \":\n                    addToPayload(opt, [\"accountName\", \"data\"]);\n                    break;\n\n                // VERSIONS OPERATIONS\n                case \"DeleteAllVersions\":\n                    addToPayload(opt, [\"fileName\"]);\n                    break;\n                case \"DeleteVersion\":\n                    addToPayload(opt, [\"fileName\", \"fileVersion\"]);\n                    break;\n                case \"GetVersions\":\n                    addToPayload(opt, [\"fileName\"]);\n                    break;\n                case \"RestoreVersion\":\n                    addToPayload(opt, [\"fileName\", \"fileVersion\"]);\n                    break;\n\n                // VIEW OPERATIONS\n                case \"AddView\":\n                    addToPayload(opt, [\"listName\", \"viewName\", \"viewFields\", \"query\", \"rowLimit\", \"rowLimit\", \"type\", \"makeViewDefault\"]);\n                    break;\n                case \"DeleteView\":\n                    addToPayload(opt, [\"listName\", \"viewName\"]);\n                    break;\n                case \"GetView\":\n                    addToPayload(opt, [\"listName\", \"viewName\"]);\n                    break;\n                case \"GetViewCollection\":\n                    addToPayload(opt, [\"listName\"]);\n                    break;\n                case \"GetViewHtml\":\n                    addToPayload(opt, [\"listName\", \"viewName\"]);\n                    break;\n                case \"UpdateView\":\n                    addToPayload(opt, [\"listName\", \"viewName\", \"viewProperties\", \"query\", \"viewFields\", \"aggregations\", \"formats\", \"rowLimit\"]);\n                    break;\n                case \"UpdateViewHtml\":\n                    addToPayload(opt, [\"listName\", \"viewName\", \"viewProperties\", \"toolbar\", \"viewHeader\", \"viewBody\", \"viewFooter\", \"viewEmpty\", \"rowLimitExceeded\",\n                        \"query\", \"viewFields\", \"aggregations\", \"formats\", \"rowLimit\"\n                    ]);\n                    break;\n\n                // WEBPARTPAGES OPERATIONS\n                case \"AddWebPart\":\n                    addToPayload(opt, [\"pageUrl\", \"webPartXml\", \"storage\"]);\n                    break;\n                case \"AddWebPartToZone\":\n                    addToPayload(opt, [\"pageUrl\", \"webPartXml\", \"storage\", \"zoneId\", \"zoneIndex\"]);\n                    break;\n                case \"GetWebPart2\":\n                    addToPayload(opt, [\"pageUrl\", \"storageKey\", \"storage\", \"behavior\"]);\n                    break;\n                case \"GetWebPartPage\":\n                    addToPayload(opt, [\"documentName\", \"behavior\"]);\n                    break;\n                case \"GetWebPartProperties\":\n                    addToPayload(opt, [\"pageUrl\", \"storage\"]);\n                    break;\n                case \"GetWebPartProperties2\":\n                    addToPayload(opt, [\"pageUrl\", \"storage\", \"behavior\"]);\n                    break;\n\n                // WEBS OPERATIONS\n                case \"Webs.CreateContentType\":\n                    addToPayload(opt, [\"displayName\", \"parentType\", \"newFields\", \"contentTypeProperties\"]);\n                    break;\n                case \"GetColumns\":\n                    addToPayload(opt, [\"webUrl\"]);\n                    break;\n                case \"GetContentType\":\n                    addToPayload(opt, [\"contentTypeId\"]);\n                    break;\n                case \"GetContentTypes\":\n                    break;\n                case \"GetCustomizedPageStatus\":\n                    addToPayload(opt, [\"fileUrl\"]);\n                    break;\n                case \"GetListTemplates\":\n                    break;\n                case \"GetObjectIdFromUrl\":\n                    addToPayload(opt, [\"objectUrl\"]);\n                    break;\n                case \"GetWeb\":\n                    addToPayload(opt, [\n                        [\"webUrl\", \"webURL\"]\n                    ]);\n                    break;\n                case \"GetWebCollection\":\n                    break;\n                case \"GetAllSubWebCollection\":\n                    break;\n                case \"UpdateColumns\":\n                    addToPayload(opt, [\"newFields\", \"updateFields\", \"deleteFields\"]);\n                    break;\n                case \"Webs.UpdateContentType\":\n                    addToPayload(opt, [\"contentTypeId\", \"contentTypeProperties\", \"newFields\", \"updateFields\", \"deleteFields\"]);\n                    break;\n                case \"WebUrlFromPageUrl\":\n                    addToPayload(opt, [\n                        [\"pageUrl\", \"pageURL\"]\n                    ]);\n                    break;\n\n                // WORKFLOW OPERATIONS\n                case \"AlterToDo\":\n                    addToPayload(opt, [\"item\", \"todoId\", \"todoListId\", \"taskData\"]);\n                    break;\n                case \"ClaimReleaseTask\":\n                    addToPayload(opt, [\"item\", \"taskId\", \"listId\", \"fClaim\"]);\n                    break;\n                case \"GetTemplatesForItem\":\n                    addToPayload(opt, [\"item\"]);\n                    break;\n                case \"GetToDosForItem\":\n                    addToPayload(opt, [\"item\"]);\n                    break;\n                case \"GetWorkflowDataForItem\":\n                    addToPayload(opt, [\"item\"]);\n                    break;\n                case \"GetWorkflowTaskData\":\n                    addToPayload(opt, [\"item\", \"listId\", \"taskId\"]);\n                    break;\n                case \"StartWorkflow\":\n                    addToPayload(opt, [\"item\", \"templateId\", \"workflowParameters\"]);\n                    break;\n\n                default:\n                    break;\n            }\n\n            // Glue together the pieces of the SOAP message\n            var msg = soapEnvelope.header + soapEnvelope.opheader + soapEnvelope.payload + soapEnvelope.opfooter + soapEnvelope.footer;\n            var soapAction = apWebServiceOperationConstants[opt.operation][1] ? SOAPAction : false;\n\n            return {\n                msg: msg,\n                SOAPEnvelope: soapEnvelope,\n                SOAPAction: soapAction\n            };\n\n            // Add the option values to the soapEnvelope.payload for the operation\n            //  opt = options for the call\n            //  paramArray = an array of option names to add to the payload\n            //      \"paramName\" if the parameter name and the option name match\n            //      [\"paramName\", \"optionName\"] if the parameter name and the option name are different (this handles early \"wrappings\" with inconsistent naming)\n            //      {name: \"paramName\", sendNull: false} indicates the element is marked as \"add to payload only if non-null\"\n            function addToPayload(opt, paramArray) {\n\n                var i;\n\n                for (i = 0; i < paramArray.length; i++) {\n                    // the parameter name and the option name match\n                    if (typeof paramArray[i] === \"string\") {\n                        soapEnvelope.payload += wrapNode(paramArray[i], opt[paramArray[i]]);\n                        // the parameter name and the option name are different\n                    } else if (_.isArray(paramArray[i]) && paramArray[i].length === 2) {\n                        soapEnvelope.payload += wrapNode(paramArray[i][0], opt[paramArray[i][1]]);\n                        // the element not a string or an array and is marked as \"add to payload only if non-null\"\n                    } else if ((typeof paramArray[i] === \"object\") && (paramArray[i].sendNull !== undefined)) {\n                        soapEnvelope.payload += ((opt[paramArray[i].name] === undefined) || (opt[paramArray[i].name].length === 0)) ? \"\" : wrapNode(paramArray[i].name, opt[paramArray[i].name]);\n                        // something isn't right, so report it\n                    } else {\n                        console.error(opt.operation, \"paramArray[\" + i + \"]: \" + paramArray[i], \"Invalid paramArray element passed to addToPayload()\");\n                    }\n                }\n            } // End of function addToPayload\n\n            // The SiteData operations have the same names as other Web Service operations. To make them easy to call and unique, I'm using\n            // the SiteData prefix on their names. This function replaces that name with the right name in the soapEnvelope.\n            function siteDataFixSOAPEnvelope(SOAPEnvelope, siteDataOperation) {\n                var siteDataOp = siteDataOperation.substring(8);\n                SOAPEnvelope.opheader = SOAPEnvelope.opheader.replace(siteDataOperation, siteDataOp);\n                SOAPEnvelope.opfooter = SOAPEnvelope.opfooter.replace(siteDataOperation, siteDataOp);\n                return SOAPEnvelope;\n            } // End of function siteDataFixSOAPEnvelope\n\n\n        }; // End SPServices.generateXMLComponents\n\n\n        ////// PRIVATE FUNCTIONS ////////\n        // Wrap an XML node (n) around a value (v)\n        function wrapNode(n, v) {\n            var thisValue = typeof v !== \"undefined\" ? v : \"\";\n            return \"<\" + n + \">\" + thisValue + \"</\" + n + \">\";\n        }\n\n        // Get the filename from the full URL\n        function fileName(s) {\n            return s.substring(s.lastIndexOf(\"/\") + 1, s.length);\n        }\n\n        /* Taken from http://dracoblue.net/dev/encodedecode-special-xml-characters-in-javascript/155/ */\n        var xml_special_to_escaped_one_map = {\n            '&': '&amp;',\n            '\"': '&quot;',\n            '<': '&lt;',\n            '>': '&gt;'\n        };\n\n        function encodeXml(string) {\n            return string.replace(/([\\&\"<>])/g, function(str, item) {\n                return xml_special_to_escaped_one_map[item];\n            });\n        }\n\n        /* Taken from http://dracoblue.net/dev/encodedecode-special-xml-characters-in-javascript/155/ */\n        // Escape column values\n        function escapeColumnValue(s) {\n            if (typeof s === \"string\") {\n                return s.replace(/&(?![a-zA-Z]{1,8};)/g, \"&amp;\");\n            } else {\n                return s;\n            }\n        }\n\n        // James Padolsey's Regex Selector for jQuery http://james.padolsey.com/javascript/regex-selector-for-jquery/\n        $.expr[':'].regex = function(elem, index, match) {\n            var matchParams = match[3].split(','),\n                validLabels = /^(data|css):/,\n                attr = {\n                    method: matchParams[0].match(validLabels) ?\n                        matchParams[0].split(':')[0] : 'attr',\n                    property: matchParams.shift().replace(validLabels, '')\n                },\n                regexFlags = 'ig',\n                regex = new RegExp(matchParams.join('').replace(/^\\s+|\\s+$/g, ''), regexFlags);\n            return regex.test(jQuery(elem)[attr.method](attr.property));\n        };\n\n        return SPServices;\n\n    }\n\n\n    /**\n     * @ngdoc service\n     * @name angularPoint.SPServices\n     * @description\n     * This is just a trimmed down version of Marc Anderson's awesome [SPServices](http://spservices.codeplex.com/) library.\n     * We're primarily looking for the ability to create the SOAP envelope and let AngularJS's $http service handle all\n     * communication with the server.\n     *\n     * */\n    angular.module('angularPoint')\n        .factory('SPServices', Service);\n}\n","/// <reference path=\"../app.module.ts\" />\n\n\nmodule ap {\n    'use strict';\n\n    // Split values like 1;#value into id and value\n    class SplitIndex {\n        id: number;\n        value: string;\n\n        constructor(str) {\n            var spl = str.split(';#');\n            this.id = parseInt(spl[0], 10);\n            this.value = spl[1];\n        }\n    }\n\n    var service: UtilityService, $q, apConfig, $timeout;\n\n    export class UtilityService {\n        SplitIndex = SplitIndex;\n        static $inject = ['$q', '$timeout', 'apConfig'];\n\n        constructor(_$q_, _$timeout_, _apConfig_) {\n            service = this;\n            $q = _$q_;\n            $timeout = _$timeout_;\n            apConfig = _apConfig_;\n\n        }\n\n        /**\n         * @ngdoc function\n         * @name angularPoint.apUtilityService:batchProcess\n         * @methodOf angularPoint.apUtilityService\n         * @description\n         * We REALLY don't want to lock the user's browser (blocking the UI thread) while iterating over an array of\n         * entities and performing some process on them.  This function cuts the process into as many 50ms chunks as are\n         * necessary. Based on example found in the following article:\n         * [Timed array processing in JavaScript](http://www.nczonline.net/blog/2009/08/11/timed-array-processing-in-javascript/);\n         * @param {Object[]} entities The entities that need to be processed.\n         * @param {Function} process Reference to the process to be executed for each of the entities.\n         * @param {Object} context this\n         * @param {Number} [delay=25] Number of milliseconds to delay between batches.\n         * @param {Number} [maxItems=entities.length] Maximum number of entities to process before pausing.\n         * @returns {Object} Promise\n         * @example\n         * <pre>\n         * function buildProjectSummary = function() {\n             *    var deferred = $q.defer();\n             *\n             *    // Taken from a fictitious projectsModel.js\n             *    projectModel.getAllListItems().then(function(entities) {\n             *      var summaryObject = {};\n             *      var extendProjectSummary = function(project) {\n             *          // Do some process intensive stuff here\n             *\n             *      };\n             *\n             *      // Now that we have all of our projects we want to iterate\n             *      // over each to create our summary object. The problem is\n             *      // this could easily cause the page to hang with a sufficient\n             *      // number of entities.\n             *      apUtilityService.batchProcess(entities, extendProjectSummary, function() {\n             *          // Long running process is complete so resolve promise\n             *          deferred.resolve(summaryObject);\n             *      }, 25, 1000);\n             *    };\n             *\n             *    return deferred.promise;\n             * }\n         *\n         * </pre>\n         */\n\n        batchProcess(entities, process, context, delay, maxItems) {\n            var itemCount = entities.length,\n                batchCount = 0,\n                chunkMax = maxItems || itemCount,\n                delay = delay || 25,\n                index = 0,\n                deferred = $q.defer();\n\n            function chunkTimer() {\n                batchCount++;\n                var start = +new Date(),\n                    chunkIndex = index;\n\n                while (index < itemCount && (index - chunkIndex) < chunkMax && (new Date() - start < 100)) {\n                    process.call(context, entities[index], index, batchCount);\n                    index += 1;\n                }\n\n                if (index < itemCount) {\n                    $timeout(chunkTimer, delay);\n                }\n                else {\n                    deferred.resolve(entities);\n                }\n            }\n\n            chunkTimer();\n\n            return deferred.promise;\n        }\n\n\n        /**\n         * @ngdoc function\n         * @name angularPoint.apUtilityService:convertEffectivePermMask\n         * @methodOf angularPoint.apUtilityService\n         * @description\n         * GetListItemsSinceToken operation returns the list element with an EffectivePermMask attribute which is the\n         * name of the PermissionMask.  We then need to convert the name into an actual mask so this function contains\n         * the known permission names with their masks.  If a provided mask name is found, the cooresponding mask\n         * is returned.  Otherwise returns null.  [MSDN Source](http://msdn.microsoft.com/en-us/library/jj575178(v=office.12).aspx)\n         * @param {string} permMaskName Permission mask name.\n         * @returns {string|null} Return the mask for the name.\n         */\n        convertEffectivePermMask(permMaskName: string): string {\n            var permissionMask = null;\n\n            var permissions = {\n                //General\n                EmptyMask: '0x0000000000000000',\n                FullMask: '0x7FFFFFFFFFFFFFFF',\n\n                //List and document permissions\n                ViewListItems: '0x0000000000000001',\n                AddListItems: '0x0000000000000002',\n                EditListItems: '0x0000000000000004',\n                DeleteListItems: '0x0000000000000008',\n                ApproveItems: '0x0000000000000010',\n                OpenItems: '0x0000000000000020',\n                ViewVersions: '0x0000000000000040',\n                DeleteVersions: '0x0000000000000080',\n                CancelCheckout: '0x0000000000000100',\n                ManagePersonalViews: '0x0000000000000200',\n                ManageLists: '0x0000000000000800',\n                ViewFormPages: '0x0000000000001000',\n\n                //Web level permissions\n                Open: '0x0000000000010000',\n                ViewPages: '0x0000000000020000',\n                AddAndCustomizePages: '0x0000000000040000',\n                ApplyThemeAndBorder: '0x0000000000080000',\n                ApplyStyleSheets: '0x0000000000100000',\n                ViewUsageData: '0x0000000000200000',\n                CreateSSCSite: '0x0000000000400000',\n                ManageSubwebs: '0x0000000000800000',\n                CreateGroups: '0x0000000001000000',\n                ManagePermissions: '0x0000000002000000',\n                BrowseDirectories: '0x0000000004000000',\n                BrowseUserInfo: '0x0000000008000000',\n                AddDelPrivateWebParts: '0x0000000010000000',\n                UpdatePersonalWebParts: '0x0000000020000000',\n                ManageWeb: '0x0000000040000000',\n                UseClientIntegration: '0x0000001000000000',\n                UseRemoteAPIs: '0x0000002000000000',\n                ManageAlerts: '0x0000004000000000',\n                CreateAlerts: '0x0000008000000000',\n                EditMyUserInfo: '0x0000010000000000',\n\n                //Special Permissions\n                EnumeratePermissions: '0x4000000000000000'\n            };\n\n            if (permissions[permMaskName]) {\n                permissionMask = permissions[permMaskName];\n            }\n            return permissionMask;\n        }\n\n        /**\n         * @ngdoc function\n         * @name angularPoint.apUtilityService:dateWithinRange\n         * @methodOf angularPoint.apUtilityService\n         * @description\n         * Converts dates into yyyymmdd formatted ints and evaluates to determine if the dateToCheck\n         * falls within the date range provided\n         * @param {Date} startDate Starting date.\n         * @param {Date} endDate Ending date.\n         * @param {Date} [dateToCheck=new Date()] Defaults to the current date.\n         * @returns {boolean} Does the date fall within the range?\n         */\n        dateWithinRange(startDate: Date, endDate: Date, dateToCheck = new Date()): boolean {\n            /** Ensure both a start and end date are provided **/\n            if (!startDate || !endDate) {\n                return false;\n            }\n\n            /** Create an int representation of each of the dates */\n            var startInt = service.yyyymmdd(startDate);\n            var endInt = service.yyyymmdd(endDate);\n            var dateToCheckInt = service.yyyymmdd(dateToCheck);\n\n            return startInt <= dateToCheckInt && dateToCheckInt <= endInt;\n        }\n\n\n        /**\n         * @ngdoc function\n         * @name angularPoint.apUtilityService:doubleDigit\n         * @methodOf angularPoint.apUtilityService\n         * @description Add a leading zero if a number/string only contains a single character.  So in the case\n         * where the number 9 is passed in the string '09' is returned.\n         * @param {(number|string)} val A number or string to evaluate.\n         * @returns {string} Two digit string.\n         */\n        doubleDigit(val: number | string): string {\n            if (typeof val === 'number') {\n                return val > 9 ? val.toString() : '0' + val;\n            } else if(typeof val === 'string') {\n                return service.doubleDigit(parseInt(val));\n            }\n        }\n\n\n        /**\n         * @ngdoc function\n         * @name angularPoint.apUtilityService:fromCamelCase\n         * @methodOf angularPoint.apUtilityService\n         * @param {string} str String to convert.\n         * @description\n         * Converts a camel case string into a space delimited string with each word having a capitalized first letter.\n         * @returns {string} Humanized string.\n         */\n        fromCamelCase(str): string {\n            // insert a space before all caps\n            return str.replace(/([A-Z])/g, ' $1')\n            // uppercase the first character\n                .replace(/^./, function(str) {\n                    return str.toUpperCase();\n                });\n        }\n\n\n        /**\n         * @ngdoc function\n         * @name angularPoint.apUtilityService:registerChange\n         * @methodOf angularPoint.apUtilityService\n         * @description\n         * If online and sync is being used, notify all online users that a change has been made.\n         * //Todo Break this functionality into FireBase module that can be used if desired.\n         * @param {object} model event\n         */\n        registerChange(model, changeType: string, listItemId: number) {\n            /** Disabled this functionality until I can spend the necessary time to test */\n            if (model.sync && _.isFunction(model.sync.registerChange)) {\n                /** Register change after successful update */\n                model.sync.registerChange(changeType, listItemId);\n            }\n        }\n\n\n        /**\n         * @ngdoc function\n         * @name angularPoint.apUtilityService:resolvePermissions\n         * @methodOf angularPoint.apUtilityService\n         * @param {string} permissionsMask The WSS Rights Mask is an 8-byte, unsigned integer that specifies\n         * the rights that can be assigned to a user or site group. This bit mask can have zero or more flags set.\n         * @description\n         * Converts permMask into something usable to determine permission level for current user.  Typically used\n         * directly from a list item.  See ListItem.resolvePermissions.\n         *\n         * <h3>Additional Info</h3>\n         *\n         * -   [PermMask in SharePoint DVWPs](http://sympmarc.com/2009/02/03/permmask-in-sharepoint-dvwps/)\n         * -   [$().SPServices.SPLookupAddNew and security trimming](http://spservices.codeplex.com/discussions/208708)\n         *\n         * @returns {object} Object with properties for each permission level identifying if current user has rights (true || false)\n         * @example\n         * <pre>\n         * var perm = apUtilityService.resolvePermissions('0x0000000000000010');\n         * </pre>\n         * Example of what the returned object would look like\n         * for a site admin.\n         * <pre>\n         * perm = {\n             *    \"ViewListItems\":true,\n             *    \"AddListItems\":true,\n             *    \"EditListItems\":true,\n             *    \"DeleteListItems\":true,\n             *    \"ApproveItems\":true,\n             *    \"OpenItems\":true,\n             *    \"ViewVersions\":true,\n             *    \"DeleteVersions\":true,\n             *    \"CancelCheckout\":true,\n             *    \"PersonalViews\":true,\n             *    \"ManageLists\":true,\n             *    \"ViewFormPages\":true,\n             *    \"Open\":true,\n             *    \"ViewPages\":true,\n             *    \"AddAndCustomizePages\":true,\n             *    \"ApplyThemeAndBorder\":true,\n             *    \"ApplyStyleSheets\":true,\n             *    \"ViewUsageData\":true,\n             *    \"CreateSSCSite\":true,\n             *    \"ManageSubwebs\":true,\n             *    \"CreateGroups\":true,\n             *    \"ManagePermissions\":true,\n             *    \"BrowseDirectories\":true,\n             *    \"BrowseUserInfo\":true,\n             *    \"AddDelPrivateWebParts\":true,\n             *    \"UpdatePersonalWebParts\":true,\n             *    \"ManageWeb\":true,\n             *    \"UseRemoteAPIs\":true,\n             *    \"ManageAlerts\":true,\n             *    \"CreateAlerts\":true,\n             *    \"EditMyUserInfo\":true,\n             *    \"EnumeratePermissions\":true,\n             *    \"FullMask\":true\n             * }\n         * </pre>\n         */\n        resolvePermissions(permissionsMask): IUserPermissionsObject {\n            var permissionSet = {\n                ViewListItems: (1 & permissionsMask) > 0,\n                AddListItems: (2 & permissionsMask) > 0,\n                EditListItems: (4 & permissionsMask) > 0,\n                DeleteListItems: (8 & permissionsMask) > 0,\n                ApproveItems: (16 & permissionsMask) > 0,\n                OpenItems: (32 & permissionsMask) > 0,\n                ViewVersions: (64 & permissionsMask) > 0,\n                DeleteVersions: (128 & permissionsMask) > 0,\n                CancelCheckout: (256 & permissionsMask) > 0,\n                PersonalViews: (512 & permissionsMask) > 0,\n\n                ManageLists: (2048 & permissionsMask) > 0,\n                ViewFormPages: (4096 & permissionsMask) > 0,\n\n                Open: (65536 & permissionsMask) > 0,\n                ViewPages: (131072 & permissionsMask) > 0,\n                AddAndCustomizePages: (262144 & permissionsMask) > 0,\n                ApplyThemeAndBorder: (524288 & permissionsMask) > 0,\n                ApplyStyleSheets: (1048576 & permissionsMask) > 0,\n                ViewUsageData: (2097152 & permissionsMask) > 0,\n                CreateSSCSite: (4194314 & permissionsMask) > 0,\n                ManageSubwebs: (8388608 & permissionsMask) > 0,\n                CreateGroups: (16777216 & permissionsMask) > 0,\n                ManagePermissions: (33554432 * permissionsMask) > 0,\n                BrowseDirectories: (67108864 & permissionsMask) > 0,\n                BrowseUserInfo: (134217728 & permissionsMask) > 0,\n                AddDelPrivateWebParts: (268435456 & permissionsMask) > 0,\n                UpdatePersonalWebParts: (536870912 & permissionsMask) > 0,\n                ManageWeb: (1073741824 & permissionsMask) > 0,\n                UseRemoteAPIs: (137438953472 & permissionsMask) > 0,\n                ManageAlerts: (274877906944 & permissionsMask) > 0,\n                CreateAlerts: (549755813888 & permissionsMask) > 0,\n                EditMyUserInfo: (1099511627776 & permissionsMask) > 0,\n                EnumeratePermissions: (4611686018427387904 & permissionsMask) > 0,\n                FullMask: (9223372036854775807 == permissionsMask)\n            };\n\n            /**\n             * Full Mask only resolves correctly for the Full Mask level\n             * so in that case, set everything to true\n             */\n            if (permissionSet.FullMask) {\n                _.each(permissionSet, function(perm, key) {\n                    permissionSet[key] = true;\n                });\n            }\n\n            return permissionSet;\n        }\n\n\n        /**\n         * @ngdoc function\n         * @name angularPoint.apUtilityService:stringifyXML\n         * @methodOf angularPoint.apUtilityService\n         * @description Simple utility to convert an XML object into a string and remove unnecessary whitespace.\n         * @param {object} xml XML object.\n         * @returns {string} Stringified version of the XML object.\n         */\n        stringifyXML(xml: XMLDocument): string {\n            var str;\n\n            if (_.isObject(xml)) {\n                str = service.xmlToString(xml).replace(/\\s+/g, ' ');\n            } else if (_.isString(xml)) {\n                str = xml;\n            }\n            return str;\n        }\n\n\n        toCamelCase(str): string {\n            return str.replace(/(?:^\\w|[A-Z]|\\b\\w)/g, function(letter, index) {\n                return index == 0 ? letter.toLowerCase() : letter.toUpperCase();\n            }).replace(/\\s+/g, '');\n        }\n\n\n        /**\n         * @ngdoc function\n         * @name angularPoint.apUtilityService:yyyymmdd\n         * @methodOf angularPoint.apUtilityService\n         * @description\n         * Convert date into a int formatted as yyyymmdd\n         * We don't need the time portion of comparison so an int makes this easier to evaluate\n         */\n        yyyymmdd(date: Date): number {\n            var yyyy = date.getFullYear();\n            var mm = date.getMonth() + 1;\n            var dd = date.getDate();\n            /** Add leading 0's to month and day if necessary */\n            return parseInt(yyyy + service.doubleDigit(mm) + service.doubleDigit(dd));\n        }\n\n        xmlToString(xmlData) {\n            var xmlString;\n            if (typeof XMLSerializer !== 'undefined') {\n                /** Modern Browsers */\n                xmlString = (new XMLSerializer()).serializeToString(xmlData);\n            } else {\n                /** Old versions of IE */\n                xmlString = xmlData.xml;\n            }\n            return xmlString;\n        }\n\n\n    }\n\n    /** Extend underscore with a simple helper function */\n    _.mixin({\n        isDefined: function(value) {\n            return !_.isUndefined(value);\n        },\n        /** Based on functionality in Breeze.js */\n        isGuid: function(value) {\n            return (typeof value === \"string\") && /[a-fA-F\\d]{8}-(?:[a-fA-F\\d]{4}-){3}[a-fA-F\\d]{12}/\n                .test(value);\n        }\n    });\n\n\n    /**\n     * @ngdoc service\n     * @name angularPoint.apUtilityService\n     * @description\n     * Provides shared utility functionality across the application.\n     *\n     * @requires angularPoint.apConfig\n     */\n    angular.module('angularPoint')\n        .service('apUtilityService', UtilityService);\n\n}\n","/// <reference path=\"../app.module.ts\" />\n\nmodule ap {\n    'use strict';\n\n    var SCHEMASharePoint = \"http://schemas.microsoft.com/sharepoint\";\n    var serviceDefinitions = {\n        Alerts: {\n            action: SCHEMASharePoint + '/soap/2002/1/alerts/',\n            xmlns: SCHEMASharePoint + '/soap/2002/1/alerts/'\n        },\n        Meetings: {\n            action: SCHEMASharePoint + '/soap/meetings/',\n            xmlns: SCHEMASharePoint + '/soap/meetings/'\n        },\n        Permissions: {\n            action: SCHEMASharePoint + '/soap/directory/',\n            xmlns: SCHEMASharePoint + '/soap/directory/'\n        },\n        PublishedLinksService: {\n            action: 'http://microsoft.com/webservices/SharePointPortalServer/PublishedLinksService/',\n            xmlns: 'http://microsoft.com/webservices/SharePointPortalServer/PublishedLinksService/'\n        },\n        Search: {\n            action: 'urn:Microsoft.Search/',\n            xmlns: 'urn:Microsoft.Search'\n        },\n        SharePointDiagnostics: {\n            action: 'http://schemas.microsoft.com/sharepoint/diagnostics/',\n            xmlns: SCHEMASharePoint + '/diagnostics/'\n        },\n        SocialDataService: {\n            action: 'http://microsoft.com/webservices/SharePointPortalServer/SocialDataService/',\n            xmlns: 'http://microsoft.com/webservices/SharePointPortalServer/SocialDataService'\n        },\n        SpellCheck: {\n            action: 'http://schemas.microsoft.com/sharepoint/publishing/spelling/SpellCheck',\n            xmlns: 'http://schemas.microsoft.com/sharepoint/publishing/spelling/'\n        },\n        TaxonomyClientService: {\n            action: SCHEMASharePoint + '/taxonomy/soap/',\n            xmlns: SCHEMASharePoint + '/taxonomy/soap/'\n        },\n        usergroup: {\n            action: SCHEMASharePoint + '/soap/directory/',\n            xmlns: SCHEMASharePoint + '/soap/directory/'\n        },\n        UserProfileService: {\n            action: 'http://microsoft.com/webservices/SharePointPortalServer/UserProfileService/',\n            xmlns: 'http://microsoft.com/webservices/SharePointPortalServer/UserProfileService'\n        },\n        WebPartPages: {\n            action: 'http://microsoft.com/sharepoint/webpartpages/',\n            xmlns: 'http://microsoft.com/sharepoint/webpartpages'\n        },\n        Workflow: {\n            action: SCHEMASharePoint + '/soap/workflow/',\n            xmlns: SCHEMASharePoint + '/soap/workflow/'\n        }\n    };\n\n    export class WebServiceService{\n        action(service) {\n            return serviceDefinitions[service] ? serviceDefinitions[service].action : SCHEMASharePoint + '/soap/';\n        }\n        webServices = [\n            'Alerts',\n            'Authentication',\n            'Copy',\n            'Forms',\n            'Lists',\n            'Meetings',\n            'People',\n            'Permissions',\n            'PublishedLinksService',\n            'Search',\n            'SharePointDiagnostics',\n            'SiteData',\n            'Sites',\n            'SocialDataService',\n            'SpellCheck',\n            'TaxonomyClientService',\n            'usergroup',\n            'UserProfileService',\n            'Versions',\n            'Views',\n            'WebPartPages',\n            'Webs',\n            'Workflow'\n        ];\n        xmlns(service) {\n            return serviceDefinitions[service] ? serviceDefinitions[service].xmlns : SCHEMASharePoint + '/soap/';\n        }\n    }\n\n\n//  apWebServiceOperationConstants.OpName = [WebService, needs_SOAPAction];\n//      OpName              The name of the Web Service operation -> These names are unique\n//      WebService          The name of the WebService this operation belongs to\n//      needs_SOAPAction    Boolean indicating whether the operation needs to have the SOAPAction passed in the\n// setRequestHeaderfunction. true if the operation does a write, else false\n    angular.module('angularPoint')\n        .service('apWebServiceService', WebServiceService);\n\n}\n","/// <reference path=\"../app.module.ts\" />\n\nmodule ap {\n    'use strict';\n\n    export class XMLToJSONService {\n        static $inject = ['$injector'];\n\n        constructor(private $injector: ng.auto.IInjectorService) {\n\n        }\n\n        /**\n         * @ngdoc function\n         * @name apXMLToJSONService.filterXMLNodeService\n         * @methodOf apXMLToJSONService\n         * @param {JQuery|Object} xmlObject Object to parse, can either be a jQuery object or an xml response.\n         * @param {string} name Name of node we're looking for.\n         * @description\n         * This method for finding specific nodes in the returned XML was developed by Steve Workman. See his blog post\n         * http://www.steveworkman.com/html5-2/javascript/2011/improving-javascript-xml-node-finding-performance-by-2000/\n         * for performance details.\n         * @returns {JQuery} Object with jQuery values.\n         */\n        filterNodes(xmlObject: JQuery | Object, name: string): JQuery {\n            //Convert to jQuery object if not already\n            var jQueryObject: JQuery = xmlObject instanceof jQuery ? xmlObject : $(xmlObject);\n\n            return jQueryObject.find('*').filter(function() {\n                return this.nodeName === name;\n            });\n        }\n\n        /**\n         * @ngdoc function\n         * @name apXMLToJSONService.parse\n         * @methodOf apXMLToJSONService\n         * @param {JQuery|XMLDocument} xmlObject Object to parse, can either be a jQuery object or an xml response.\n         * @param {string} name Name of node we're looking for.\n         * @description\n         * This method for finding specific nodes in the returned XML was developed by Steve Workman. See his blog post\n         * http://www.steveworkman.com/html5-2/javascript/2011/improving-javascript-xml-node-finding-performance-by-2000/\n         * for performance details.\n         * @returns {JQuery} Object with jQuery values.\n         */\n        parse(xmlNodeSet: JQuery, options?: IParseOptions): Object[]{\n            //Need to use injector because apDecode service also relies on this service so we'd otherwise have a circular dependency.\n            var apDecodeService = this.$injector.get<DecodeService>('apDecodeService');\n            var defaults = {\n                includeAllAttrs: false, // If true, return all attributes, regardless whether they are in the mapping\n                mapping: {}, // columnName: mappedName: \"mappedName\", objectType: \"objectType\"\n                removeOws: true, // Specifically for GetListItems, if true, the leading ows_ will be stripped off the field name\n                sparse: false // If true, empty (\"\") values will not be returned\n            };\n\n            var opts: IParseOptions = _.assign({}, defaults, options);\n\n            var jsonObjectArray = [];\n\n            _.each(xmlNodeSet, (node: JQuery) => {\n                var row = {};\n                var rowAttrs = node.attributes;\n\n                if (!opts.sparse) {\n                    // Bring back all mapped columns, even those with no value\n                    _.each(opts.mapping, (column) => row[column.mappedName] = '');\n                }\n\n                _.each(rowAttrs, (rowAttribute) => {\n                    var attributeName = rowAttribute.name;\n                    var columnMapping = opts.mapping[attributeName];\n                    var objectName = typeof columnMapping !== \"undefined\" ? columnMapping.mappedName : opts.removeOws ? attributeName.split(\"ows_\")[1] : attributeName;\n                    var objectType = typeof columnMapping !== \"undefined\" ? columnMapping.objectType : undefined;\n                    if (opts.includeAllAttrs || columnMapping !== undefined) {\n                        row[objectName] = apDecodeService.parseStringValue(rowAttribute.value, objectType);\n                    }\n                });\n\n                // Push this item into the JSON Object\n                jsonObjectArray.push(row);\n            });\n\n            // Return the JSON object\n            return jsonObjectArray;\n\n        }\n    }\n\n    interface IParseOptions {\n        includeAllAttrs?: boolean;\n        mapping?: Object;\n        removeOws?: boolean;\n        sparse?: boolean;\n    }\n\n    /**\n     * @ngdoc service\n     * @name apXMLToJSONService\n     * @description\n     * This function converts an XML node set into an array of JS objects.\n     * This is essentially Marc Anderson's [SPServices](http://spservices.codeplex.com/) SPXmlTOJson function wrapped in\n     * an Angular service to make it more modular and allow for testing.\n     *\n     */\n    angular.module('angularPoint')\n        .service('apXMLToJSONService', XMLToJSONService);\n\n\n}\n"],"sourceRoot":"/source/"}