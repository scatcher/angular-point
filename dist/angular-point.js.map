{"version":3,"sources":["app.module.ts","config.ts","constants/apConfig.ts","constants/apDefaultFields.ts","constants/apDefaultListItemQueryOptions.ts","constants/apThirdPartyConstants.ts","constants/apWebServiceOperationConstants.ts","constants/apXMLFieldAttributeTypes.ts","constants/apXMLListAttributeTypes.ts","factories/apCamlFactory.ts","factories/apFieldFactory.ts","factories/apIndexedCacheFactory.ts","factories/apListFactory.ts","factories/apListItemFactory.ts","factories/apLookupFactory.ts","factories/apModelFactory.ts","factories/apQueryFactory.ts","factories/apUserFactory.ts","interfaces/main.ts","models/apUserModel.ts","services/apCacheService.ts","services/apChangeService.ts","services/apDataService.ts","services/apDecodeService.ts","services/apEncodeService.ts","services/apExceptionHandlerService.ts","services/apExportService.ts","services/apFieldService.ts","services/apFormattedFieldValueService.ts","services/apLogger.ts","services/apSPServices.ts","services/apUtilityService.ts","services/apWebServiceService.ts","services/apXMLToJSONService.ts"],"names":["ap","ap.Config","ap.CamlFactory","ap.CamlFactory.constructor","ap.CamlFactory.camlContainsQuery","ap.CamlFactory.chainCamlSelects","ap.CamlFactory.createCamlContainsSelector","ap.FieldDefinition","ap.FieldDefinition.constructor","ap.FieldDefinition.getDefinition","ap.FieldDefinition.getDefaultValueForType","ap.FieldDefinition.getFormattedValue","ap.FieldDefinition.getMockData","ap.FieldFactory","ap.FieldFactory.constructor","ap.IndexedCache","ap.IndexedCache.constructor","ap.IndexedCache.addEntity","ap.IndexedCache.clear","ap.IndexedCache.count","ap.IndexedCache.first","ap.IndexedCache.keys","ap.IndexedCache.last","ap.IndexedCache.nthEntity","ap.IndexedCache.removeEntity","ap.IndexedCache.toArray","ap.IndexedCacheFactory","ap.IndexedCacheFactory.constructor","ap.IndexedCacheFactory.create","ap.List","ap.List.constructor","ap.List.extendFieldDefinitions","ap.List.getListId","ap.List.identifyWebURL","ap.ListFactory","ap.ListFactory.constructor","ap.ListFactory.create","ap.ListItem","ap.ListItem.constructor","ap.ListItem.deleteAttachment","ap.ListItem.deleteItem","ap.ListItem.getAttachmentCollection","ap.ListItem.getAvailableWorkflows","ap.ListItem.getChanges","ap.ListItem.getFieldChoices","ap.ListItem.getFieldDefinition","ap.ListItem.getFieldDescription","ap.ListItem.getFieldLabel","ap.ListItem.getFieldVersionHistory","ap.ListItem.getFormattedValue","ap.ListItem.getList","ap.ListItem.getListId","ap.ListItem.getLookupReference","ap.ListItem.registerPreDeleteAction","ap.ListItem.registerPreSaveAction","ap.ListItem.registerPostSaveAction","ap.ListItem.resolvePermissions","ap.ListItem.saveChanges","ap.ListItem.saveFields","ap.ListItem.setPristine","ap.ListItem.startWorkflow","ap.ListItem.startWorkflow.initiateRequest","ap.ListItem.validateEntity","ap.StandardListItem","ap.StandardListItem.constructor","ap.ListItemFactory","ap.ListItemFactory.constructor","ap.ListItemFactory.create","ap.ListItemFactory.createGenericFactory","ap.Lookup","ap.Lookup.constructor","ap.LookupFactory","ap.LookupFactory.constructor","ap.LookupFactory.create","ap.Model","ap.Model.constructor","ap.Model.addNewItem","ap.Model.createEmptyItem","ap.Model.executeQuery","ap.Model.extendListMetadata","ap.Model.generateMockData","ap.Model.getAllListItems","ap.Model.getCache","ap.Model.getCachedEntities","ap.Model.getCachedEntity","ap.Model.getFieldDefinition","ap.Model.getList","ap.Model.getListId","ap.Model.getListItemById","ap.Model.getModel","ap.Model.getQuery","ap.Model.isInitialised","ap.Model.registerQuery","ap.Model.resolvePermissions","ap.Model.validateEntity","ap.ModelFactory","ap.ModelFactory.constructor","ap.ModelFactory.create","ap.Query","ap.Query.constructor","ap.Query.execute","ap.Query.getCache","ap.QueryFactory","ap.QueryFactory.constructor","ap.QueryFactory.create","ap.User","ap.User.constructor","ap.UserFactory","ap.UserFactory.constructor","ap.UserFactory.create","ap.UserModel","ap.UserModel.constructor","ap.UserModel.checkIfMember","ap.UserModel.getGroupCollection","ap.UserModel.getUserProfile","ap.EntityContainer","ap.EntityContainer.constructor","ap.EntityContainer.getEntity","ap.EntityContainer.removeEntity","ap.ModelCache","ap.ModelCache.constructor","ap.CacheService","ap.CacheService.constructor","ap.CacheService.deleteEntity","ap.CacheService.getCachedEntities","ap.CacheService.getCachedEntity","ap.CacheService.getEntity","ap.CacheService.getEntityContainer","ap.CacheService.getListId","ap.CacheService.getListIdFromListName","ap.CacheService.getModel","ap.CacheService.getModelCache","ap.CacheService.registerEntity","ap.CacheService.registerModel","ap.CacheService.removeEntity","ap.ChangeService","ap.ChangeService.constructor","ap.ChangeService.registerListItemUpdate","ap.ChangeService.subscribeToUpdates","ap.DataService","ap.DataService.constructor","ap.DataService.createListItem","ap.DataService.createItemUrlFromFileRef","ap.DataService.deleteAttachment","ap.DataService.deleteListItem","ap.DataService.executeQuery","ap.DataService.generateWebServiceUrl","ap.DataService.getAvailableWorkflows","ap.DataService.getCollection","ap.DataService.getCollection.processXML","ap.DataService.getCurrentSite","ap.DataService.getFieldVersionHistory","ap.DataService.getGroupCollectionFromUser","ap.DataService.getList","ap.DataService.getListFields","ap.DataService.getUserProfileByName","ap.DataService.processChangeTokenXML","ap.DataService.processDeletionsSinceToken","ap.DataService.requestData","ap.DataService.retrieveChangeToken","ap.DataService.retrievePermMask","ap.DataService.serviceWrapper","ap.DataService.serviceWrapper.processXML","ap.DataService.startWorkflow","ap.DataService.updateListItem","ap.DataService.validateCollectionPayload","ap.DecodeService","ap.DecodeService.constructor","ap.DecodeService.checkResponseForErrors","ap.DecodeService.convertUTCDateToLocalDate","ap.DecodeService.createListItemProvider","ap.DecodeService.extendFieldDefinitionsFromXML","ap.DecodeService.extendListDefinitionFromXML","ap.DecodeService.extendListMetadata","ap.DecodeService.extendObjectWithXMLAttributes","ap.DecodeService.jsAttachments","ap.DecodeService.jsBoolean","ap.DecodeService.jsCalc","ap.DecodeService.jsChoiceMulti","ap.DecodeService.jsDate","ap.DecodeService.jsFloat","ap.DecodeService.jsInt","ap.DecodeService.jsLookup","ap.DecodeService.jsLookupMulti","ap.DecodeService.jsObject","ap.DecodeService.jsString","ap.DecodeService.jsUser","ap.DecodeService.jsUserMulti","ap.DecodeService.parseFieldVersions","ap.DecodeService.parseStringValue","ap.DecodeService.parseXMLEntity","ap.DecodeService.processListItems","ap.DecodeService.xmlToJson","ap.EncodeService","ap.EncodeService.constructor","ap.EncodeService.choiceMultiToString","ap.EncodeService.createValuePair","ap.EncodeService.encodeValue","ap.EncodeService.generateValuePairs","ap.EncodeService.stringifySharePointDate","ap.EncodeService.stringifySharePointMultiSelect","ap.exceptionLoggingService","ap.exceptionLoggingService.error","ap.ExportService","ap.ExportService.constructor","ap.ExportService.generateCSV","ap.ExportService.replaceWordChars","ap.ExportService.saveCSV","ap.ExportService.saveFile","ap.ExportService.saveJSON","ap.ExportService.saveXML","ap.FieldService","ap.FieldService.constructor","ap.FieldService.getDefaultValueForType","ap.FieldService.getDefinition","ap.FieldService.getMockData","ap.FieldService.mockPermMask","ap.FieldService.resolveValueForEffectivePermMask","ap.getFieldTypes","ap.getUniqueCounter","ap.randomBoolean","ap.randomCalc","ap.randomString","ap.randomStringArray","ap.randomParagraph","ap.randomCurrency","ap.randomDate","ap.randomInteger","ap.randomLookup","ap.randomUser","ap.randomLookupMulti","ap.randomUserMulti","ap.FormattedFieldValueService","ap.FormattedFieldValueService.constructor","ap.FormattedFieldValueService.getFormattedFieldValue","ap.FormattedFieldValueService.stringifyBoolean","ap.FormattedFieldValueService.stringifyCalc","ap.FormattedFieldValueService.stringifyCurrency","ap.FormattedFieldValueService.stringifyDate","ap.FormattedFieldValueService.stringifyLookup","ap.FormattedFieldValueService.stringifyMultiChoice","ap.FormattedFieldValueService.stringifyMultiLookup","ap.FormattedFieldValueService.stringifyNumber","ap.Logger","ap.Logger.constructor","ap.Logger.exception","ap.Logger.notify","ap.Logger.registerEvent","ap.Logger.subscribe","ap.SOAPEnvelope","ap.SOAPEnvelope.constructor","ap.Service","ap.Service.generateXMLComponents","ap.Service.generateXMLComponents.addToPayload","ap.Service.generateXMLComponents.siteDataFixSOAPEnvelope","ap.Service.wrapNode","ap.Service.fileName","ap.Service.encodeXml","ap.Service.escapeColumnValue","ap.SplitIndex","ap.SplitIndex.constructor","ap.UtilityService","ap.UtilityService.constructor","ap.UtilityService.batchProcess","ap.UtilityService.batchProcess.chunkTimer","ap.UtilityService.convertEffectivePermMask","ap.UtilityService.dateWithinRange","ap.UtilityService.doubleDigit","ap.UtilityService.fromCamelCase","ap.UtilityService.registerChange","ap.UtilityService.resolvePermissions","ap.UtilityService.stringifyXML","ap.UtilityService.toCamelCase","ap.UtilityService.yyyymmdd","ap.UtilityService.xmlToString","ap.WebServiceService","ap.WebServiceService.constructor","ap.WebServiceService.action","ap.WebServiceService.xmlns","ap.XMLToJSONService","ap.XMLToJSONService.constructor","ap.XMLToJSONService.filterNodes","ap.XMLToJSONService.parse"],"mappings":"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KAAKA,CAACA,CAACA,CAACA;oBAClEA,MAAMA,CAACA,CAACA,eAAeA,CAACA,UAAUA,CAACA,CAACA,CAACA;wBACjCA,KAAKA,SAASA;4BACVA,KAAKA,GAAGA,CAACA,CAACA,SAASA,CAACA,UAAUA,CAACA,CAACA;4BAChCA,KAAKA,CAACA;wBACVA,KAAKA,UAAUA;4BACXA,KAAKA,GAAGA,CAACA,CAACA,MAAMA,CAACA,UAAUA,CAACA,CAACA;4BAC7BA,KAAKA,CAACA;wBACVA,KAAKA,QAAQA,CAACA;wBACdA,KAAKA,MAAMA;4BACPA,KAAKA,GAAGA,WAAWA,CAACA,UAAUA,CAACA,CAACA;4BAChCA,KAAKA,CAACA;wBACVA,KAAKA,aAAaA,CAACA;wBACnBA,KAAKA,WAAWA;4BACZA,AACAA,mDADmDA;4BACnDA,KAAKA,GAAGA,CAACA,CAACA,OAAOA,CAACA,UAAUA,CAACA,IAAIA,UAAUA,CAACA,MAAMA,GAAGA,CAACA,CAACA;4BACvDA,EAAEA,CAACA,CAACA,KAAKA,CAACA,CAACA,CAACA;gCACRA,AACAA,qEADqEA;gCACrEA,CAACA,CAACA,IAAIA,CAACA,UAAUA,EAAEA,UAACA,WAAWA;oCAC3BA,EAAEA,CAACA,CAACA,KAAKA,CAACA,CAACA,CAACA;wCACRA,KAAKA,GAAGA,WAAWA,CAACA,WAAWA,CAACA,CAACA;oCACrCA,CAACA;oCAACA,IAAIA,CAACA,CAACA;wCACJA,AACAA,oBADoBA;wCACpBA,MAAMA,CAACA,KAAKA,CAACA;oCACjBA,CAACA;gCACLA,CAACA,CAACA,CAACA;4BACPA,CAACA;4BACDA,KAAKA,CAACA;wBACVA;4BACIA,AACAA,2CAD2CA;4BAC3CA,KAAKA,GAAGA,CAACA,CAACA,CAACA,OAAOA,CAACA,UAAUA,CAACA,CAACA;oBAEvCA,CAACA;oBACDA,EAAEA,CAACA,CAACA,CAACA,KAAKA,IAAIA,IAAIA,CAACA,KAAKA,CAACA,CAACA,CAACA;wBACvBA,IAAIA,SAASA,GAAGA,eAAeA,CAACA,KAAKA,IAAIA,eAAeA,CA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DZ,8BAAMA,GAANA,UAAOA,GAAWA;YACda,EAAEA,CAACA,CAACA,CAACA,GAAGA,CAACA,CAACA,CAACA;gBACPA,MAAMA,CAACA,IAAIA,CAACA;YAChBA,CAACA;YAACA,IAAIA,CAACA,CAACA;gBACJA,AACAA,gFADgFA;oBAC5EA,EAAEA,GAAGA,GAAGA,CAACA,KAAKA,CAACA,GAAGA,CAACA,CAACA,CAACA,CAACA,KAAKA,GAAGA,GAAGA,GAAGA,CAACA,KAAKA,CAACA,GAAGA,CAACA,GAAGA,GAAGA,CAACA,KAAKA,CAACA,GAAGA,CAACA,CAACA;gBACrEA,IAAIA,CAACA,GAAGA,EAAEA,CAACA,CAACA,CAACA,CAACA,KAAKA,CAACA,GAAGA,CAACA,CAACA;gBACzBA,IAAIA,CAACA,GAAGA,EAAEA,CAACA,CAACA,CAACA,CAACA,KAAKA,CAACA,GAAGA,CAACA,CAACA;gBACzBA,IAAIA,EAAEA,GAAGA,CAACA,CAACA,CAACA,CAACA,CAACA,KAAKA,CAACA,GAAGA,CAACA,CAACA;gBACzBA,MAAMA,CAACA,IAAIA,IAAIA,CAACA,CAACA,CAACA,CAACA,CAACA,EAAEA,CAACA,CAACA,CAACA,CAACA,CAACA,GAAGA,CAACA,CAACA,EAAEA,CAACA,CAACA,CAACA,CAACA,EAAEA,CAACA,CAACA,CAACA,CAACA,EAAEA,CAACA,CAACA,CAACA,CAACA,EAAEA,EAAEA,CAACA,CAACA,CAACA,CAACA,CAACA;YAC/DA,CAACA;QACLA,CAACA;QAEDb,+BAAOA,GAAPA,UAAQA,GAAWA;YACfc,EAAEA,CAACA,CAACA,CAACA,GAAGA,CAACA,CAACA,CAACA;gBACPA,MAAMA,CAACA,GAAGA,CAACA;YACfA,CAACA;YAACA,IAAIA,CAACA,CAACA;gBACJA,MAAMA,CAACA,UAAUA,CAACA,GAAGA,CAACA,CAACA;YAC3BA,CAACA;QACLA,CAACA;QAEDd,6BAAKA,GAALA,UAAMA,GAAWA;YACbe,EAAEA,CAACA,CAACA,CAACA,GAAGA,CAACA,CAACA,CAACA;gBACPA,MAAMA,CAACA,GAAGA,CAACA;YACfA,CAACA;YAACA,IAAIA,CAACA,CAACA;gBACJA,MAAMA,CAACA,QAAQA,CAACA,GAAGA,EAAEA,EAAEA,CAACA,CAACA;YAC7BA,CAACA;QACLA,CAACA;QAEDf,gCAAQA,GAARA,UAASA,GAAWA,EAAEA,OAAgBA;YAClCgB,EAAEA,CAACA,CAACA,GAAGA,CAACA,MAAMA,KAAKA,CAACA,CAACA,CAACA,CAACA;gBACnBA,MAAMA,CAACA,IAAIA,CAACA;YAChBA,CAACA;YAACA,IAAIA,CAACA,CAACA;gBACJA,AACAA,qBADqBA;gBACrBA,MAAMA,CAACA,IAAIA,CAACA,eAAeA,CAACA,MAAMA,CAACA,GAAGA,EAAEA,OAAOA,CAACA,CAACA;YACrDA,CAACA;QACLA,CAACA;QAEDhB,qCAAaA,GAAbA,UAAcA,GAAWA,EAAEA,OAAgBA;YACvCiB,EAAEA,CAACA,CAACA,GAAGA,CAACA,MAAMA,KAAKA,CAACA,CAACA,CAACA,CAACA;gBACnBA,MAAMA,CAACA,EAAEA,CAACA;YACdA,CAACA;YAACA,IAAIA,CAACA,CAACA;gBACJA,IAAIA,qBAAqBA,GAAGA,EAAEA,CAACA;gBAC/BA,IAAIA,eAAeA,GAAGA,GAAGA,CAACA,KAAKA,CAACA,IAAIA,CAACA,CAACA;gBACtCA,GAAGA,CAACA,CAACA,GAAGA,CAACA,CAACA,GAAGA,CAACA,EAAEA,CAACA,GAAGA,eAAeA,CAACA,MAAMA,EAAEA,CAACA,GAAGA,CAACA,GAAGA,CAACA,EAAEA,CAACA;oBACpDA,AACAA,2EAD2EA;oBAC3EA,EAAEA,CAACA,CAACA,eAAeA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA;wBACrBA,IAAIA,UAAUA,GAAGA,IAAIA,CAACA,QAAQA,CAACA,eAAeA,CAACA,CAACA,CAACA,GAAGA,IAAIA,GAAGA,eAAeA,CAACA,CAACA,GAAGA,CAACA,CAACA,EAAEA,OAAOA,CAACA,CAACA;wBAC5FA,qBAAqBA,CAACA,IAAIA,CAACA,UAAUA,CAACA,CAACA;oBAC3CA,CAACA;gBACLA,CAACA;gBACDA,MAAMA,CAACA,qBAAqBA,CAACA;YACjCA,CAACA;QACLA,CAACA;QAEDjB,gCAAQA,GAARA,UAASA,GAAWA;YAChBkB,EAAEA,CAACA,CAACA,CAACA,GAAGA,CAACA,CAACA,CAACA;gBACPA,MAAMA,CAACA,GAAGA,CAACA;YACfA,CAACA;YAACA,IAAIA,CAACA,CAACA;gBACJA,AACAA,yEADyEA;oBACrEA,IAAIA,GAAGA,IAAIA,CAACA;gBAChBA,IAAIA,CAACA;oBACDA,IAAIA,GAAGA,IAAIA,CAACA,KAAKA,CAACA,GAAGA,CAACA,CAACA;gBAC3BA,CACAA;gBAAAA,KAAKA,CAACA,CAACA,GAAGA,CAACA,CAACA,CAACA;oBACTA,OAAOA,CAACA,KAAKA,CAACA,gBAAgBA,EAAEA,GAAGA,CAACA,CAACA;gBACzCA,CAACA;gBACDA,MAAMA,CAACA,IAAIA,CAACA;YAChBA,CAACA;QACLA,CAACA;QAEDlB,gCAAQA,GAARA,UAASA,GAAWA;YAChBmB,MAAMA,CAACA,GAAGA,CAACA;QACfA,CAACA;QAEDnB,8BAAMA,GAANA,UAAOA,GAAWA;YACdoB,EAAEA,CAACA,CAACA,GAAGA,CAACA,MAAMA,KAAKA,CAACA,CAACA,CAACA,CAACA;gBACnBA,MAAMA,CAACA,IAAIA,CAACA;YAChBA,CAACA;YACDA,AACAA,qBADqBA;YACrBA,MAAMA,CAACA,IAAIA,CAACA,aAAaA,CAACA,MAAMA,CAACA,GAAGA,CAACA,CAACA;QAC1CA,CAACA;QAEDpB,mCAAWA,GAAXA,UAAYA,GAAWA;YACnBqB,EAAEA,CAACA,CAACA,GAAGA,CAACA,MAAMA,KAAKA,CAACA,CAACA,CAACA,CAACA;gBACnBA,MAAMA,CAACA,EAAEA,CAACA;YACdA,CAACA;YAACA,IAAIA,CAACA,CAACA;gBACJA,IAAIA,mBAAmBA,GAAGA,EAAEA,CAACA;gBAC7BA,IAAIA,aAAaA,GAAGA,GAAGA,CAACA,KAAKA,CAACA,IAAIA,CAACA,CAACA;gBACpCA,GAAGA,CAACA,CAACA,GA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ACA;oBACVA,KAAKA,MAAMA,CAACA;oBACZA,KAAKA,MAAMA,CAACA;oBACZA;wBACIA,GAAGA,GAAGA,KAAKA,CAACA;gBACpBA,CAACA;YACLA,CAACA;YACDA,EAAEA,CAACA,CAACA,CAACA,CAACA,QAAQA,CAACA,GAAGA,CAACA,CAACA,CAACA,CAACA;gBAClBA,AACAA,iEADiEA;gBACjEA,GAAGA,GAAGA,IAAIA,CAACA,UAAUA,CAACA,SAASA,CAACA,GAAGA,CAACA,CAACA;YACzCA,CAACA;YACDA,MAAMA,CAACA,GAAGA,CAACA;QACfA,CAACA;QAEDJ;;;;;;;;;;;;;WAaGA;QACHA,0CAAkBA,GAAlBA,UAAmBA,gBAAmCA,EAAEA,QAAuBA;YAA/EK,iBASCA;YARGA,IAAIA,KAAKA,GAAGA,EAAEA,CAACA;YACfA,CAACA,CAACA,IAAIA,CAACA,gBAAgBA,EAAEA,UAACA,KAAKA;gBAC3BA,AACAA,wDADwDA;gBACxDA,EAAEA,CAACA,CAACA,CAACA,CAACA,GAAGA,CAACA,QAAQA,EAAEA,KAAKA,CAACA,UAAUA,CAACA,CAACA,CAACA,CAACA;oBACpCA,KAAKA,CAACA,IAAIA,CAACA,KAAIA,CAACA,eAAeA,CAACA,KAAKA,EAAEA,QAAQA,CAACA,KAAKA,CAACA,UAAUA,CAACA,CAACA,CAACA,CAACA;gBACxEA,CAACA;YACLA,CAACA,CAACA,CAACA;YACHA,MAAMA,CAACA,KAAKA,CAACA;QACjBA,CAACA;QAEDL;;;;;;;;;;;WAWGA;QACHA,+CAAuBA,GAAvBA,UAAwBA,IAAmBA;YACvCM,IAAIA,MAAMA,CAACA;YACXA,EAAEA,CAACA,CAACA,CAACA,CAACA,CAACA,MAAMA,CAACA,IAAIA,CAACA,IAAIA,CAACA,CAACA,QAAQA,CAACA,IAAIA,CAACA,IAAIA,IAAIA,CAACA,KAAKA,CAACA,GAAGA,CAACA,CAACA,MAAMA,KAAKA,CAACA,CAACA,CAACA,CAACA;gBACtEA,AACAA,uCADuCA;oBACnCA,cAAcA,GAAGA,IAAIA,CAACA,KAAKA,CAACA,GAAGA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","file":"angular-point.js","sourcesContent":["/// <reference path=\"../typings/ap.d.ts\" />\r\n/// <reference path=\"../typings/tsd.d.ts\" />\r\n\r\nmodule ap {\r\n    'use strict';\r\n\r\n//TODO: Remove dependency on toastr\r\n    /** Check to see if dependent modules exist */\r\n    try {\r\n        angular.module('toastr');\r\n    }\r\n    catch (e) {\r\n        /** Toastr wasn't found so redirect all toastr requests to $log */\r\n        angular.module('toastr', [])\r\n            .factory('toastr', function ($log) {\r\n                return {\r\n                    error: $log.error,\r\n                    info: $log.info,\r\n                    success: $log.info,\r\n                    warning: $log.warn\r\n                };\r\n            });\r\n    }\r\n\r\n    /**\r\n     * @ngdoc overview\r\n     * @module\r\n     * @name angularPoint\r\n     * @description\r\n     * This is the primary angularPoint module and needs to be listed in your app.js dependencies to gain use of AngularPoint\r\n     * functionality in your project.\r\n     * @installModule\r\n     */\r\n    angular.module('angularPoint', [\r\n        'toastr'\r\n    ])\r\n    /** Bootstrap everything that needs to be immediately instantiated */\r\n    .run((apListItemFactory: ListItemFactory, apModelFactory: ModelFactory) => {\r\n        \r\n    })\r\n}\r\n","/// <reference path=\"app.module.ts\" />\r\n\r\nmodule ap {\r\n    'use strict';\r\n\r\n    angular.module('angularPoint')\r\n        .config(Config);\r\n\r\n    function Config(apConfig) {\r\n\r\n        /** Add a convenience flag, inverse of offline */\r\n        apConfig.online = !apConfig.offline;\r\n    }\r\n}\r\n","/// <reference path=\"../app.module.ts\" />\r\n\r\n/**\r\n * @ngdoc object\r\n * @name angularPoint.apConfig\r\n * @description\r\n * Basic config for the application (unique for each environment).  Update to change for your environment.\r\n *\r\n * @param {string} appTitle Name of the application in case you need to reference.\r\n * @param {boolean} debug Determines if we should show debug code.\r\n * @param {string} defaultUrl Automatically sets the defaultUrl for web service calls so we don't need to make the\r\n * initial blocking call by SPServices.\r\n * @param {string} [defaultQueryName='primary'] The name that a query is registered with on a model if a name isn't specified.\r\n * @param {string} [firebaseUrl] Necessary if you're using apSyncService.  Look there for more details.\r\n * @param {boolean} [offline] Automatically set based on the URL of the site.  Pulls offline XML when hosted locally.\r\n * @param {string} [offlineXML='dev/'] The location to look for offline xml files.\r\n * @example\r\n * <h4>Default Configuration</h4>\r\n * <pre>\r\n * .constant('apConfig', {\r\n *     appTitle: 'Angular-Point',\r\n *     debugEnabled: true,\r\n *     firebaseURL: \"The optional url of your firebase source\",\r\n *     offline: window.location.href.indexOf('localhost') > -1 ||\r\n *         window.location.href.indexOf('http://0.') > -1 ||\r\n *         window.location.href.indexOf('http://10.') > -1 ||\r\n *         window.location.href.indexOf('http://192.') > -1\r\n * })\r\n * </pre>\r\n *\r\n * <h4>To Override</h4>\r\n * <pre>\r\n * angular.module('MyApp', ['my dependencies'])\r\n *      .config(function ($stateProvider, $urlRouterProvider) {\r\n *          //My routes\r\n *      })\r\n *      .run(function(apConfig) {\r\n *          //To set the default site root\r\n *          apConfig.defaultUrl =\r\n *            '//sharepoint.myserver.com/siteRoot';\r\n *\r\n *          //To set the default location to look for\r\n *          //offline xml files.\r\n *          apConfig.offlineXML = 'myCachedQueries/';\r\n *      });\r\n * </pre>\r\n */\r\nmodule ap {\r\n    'use strict';\r\n\r\n    export interface IAPConfig {\r\n        appTitle: string;\r\n        debug: boolean;\r\n        defaultQueryName: string;\r\n        defaultUrl: string;\r\n        environment?: string;\r\n        firebaseURL?: string;\r\n        offline: boolean;\r\n        userLoginNamePrefix?: string;\r\n    }\r\n\r\n    export var APConfig: IAPConfig = {\r\n        appTitle: 'Angular-Point',\r\n        debug: false,\r\n        defaultQueryName: 'primary',\r\n        defaultUrl: '',\r\n        environment: 'production',\r\n        firebaseURL: \"The optional url of your firebase source\",\r\n        offline: window.location.href.indexOf('localhost') > -1 ||\r\n        window.location.href.indexOf('http://0.') > -1 ||\r\n        window.location.href.indexOf('http://10.') > -1 ||\r\n        window.location.href.indexOf('http://127.') > -1 ||\r\n        window.location.href.indexOf('http://192.') > -1,\r\n        offlineXML: 'dev/'\r\n    };\r\n\r\n    angular\r\n        .module('angularPoint')\r\n        .constant('apConfig', APConfig);\r\n}\r\n","/// <reference path=\"../app.module.ts\" />\r\n\r\nmodule ap {\r\n    'use strict';\r\n\r\n    export var DefaultFields: IFieldDefinition[] = [\r\n        { staticName: 'ID', objectType: 'Counter', mappedName: 'id', readOnly: true },\r\n        { staticName: 'Modified', objectType: 'DateTime', mappedName: 'modified', readOnly: true },\r\n        { staticName: 'Created', objectType: 'DateTime', mappedName: 'created', readOnly: true },\r\n        { staticName: 'Author', objectType: 'User', mappedName: 'author', readOnly: true },\r\n        { staticName: 'Editor', objectType: 'User', mappedName: 'editor', readOnly: true },\r\n        { staticName: 'PermMask', objectType: 'Mask', mappedName: 'permMask', readOnly: true },\r\n        { staticName: 'UniqueId', objectType: 'String', mappedName: 'uniqueId', readOnly: true },\r\n        { staticName: 'FileRef', objectType: 'Lookup', mappedName: 'fileRef', readOnly: true }\r\n    ];\r\n\r\n    /**\r\n     * @ngdoc object\r\n     * @name angularPoint.apDefaultFields\r\n     * @description\r\n     * Read only fields that should be included in all lists\r\n     */\r\n    angular\r\n        .module('angularPoint')\r\n        .constant('apDefaultFields', DefaultFields);\r\n\r\n}\r\n","/// <reference path=\"../app.module.ts\" />\r\n\r\nmodule ap {\r\n    'use strict';\r\n\r\n     export var DefaultListItemQueryOptions: string = '' +\r\n        '<QueryOptions>' +\r\n        '   <IncludeMandatoryColumns>FALSE</IncludeMandatoryColumns>' +\r\n        '   <IncludeAttachmentUrls>TRUE</IncludeAttachmentUrls>' +\r\n        '   <IncludeAttachmentVersion>FALSE</IncludeAttachmentVersion>' +\r\n        '   <ExpandUserField>FALSE</ExpandUserField>' +\r\n        '</QueryOptions>';\r\n\r\n     angular\r\n        .module('angularPoint')\r\n        .constant('apDefaultListItemQueryOptions', DefaultListItemQueryOptions);\r\n\r\n}\r\n","/// <reference path=\"../app.module.ts\" />\r\n\r\nmodule ap {\r\n    'use strict';\r\n\r\n    angular.module('angularPoint')\r\n    /** lodash */\r\n        .constant('_', _);\r\n}\r\n","/// <reference path=\"../app.module.ts\" />\r\n\r\n//  apWebServiceOperationConstants.OpName = [WebService, needs_SOAPAction];\r\n//      OpName              The name of the Web Service operation -> These names are unique\r\n//      WebService          The name of the WebService this operation belongs to\r\n//      needs_SOAPAction    Boolean indicating whether the operation needs to have the SOAPAction passed in the setRequestHeaderfunction.\r\n//                          true if the operation does a write, else false\r\n\r\n\r\nmodule ap {\r\n    'use strict';\r\n\r\n    export interface IWebServiceOperationConstants {\r\n        [key: string]: [string, boolean]\r\n    }\r\n\r\n    export var WebServiceOperationConstants: IWebServiceOperationConstants = {\r\n        GetAlerts: ['Alerts', false],\r\n        DeleteAlerts: ['Alerts', true],\r\n        Mode: ['Authentication', false],\r\n        Login: ['Authentication', false],\r\n        CopyIntoItems: ['Copy', true],\r\n        CopyIntoItemsLocal: ['Copy', true],\r\n        GetItem: ['Copy', false],\r\n        GetForm: ['Forms', false],\r\n        GetFormCollection: ['Forms', false],\r\n        AddAttachment: ['Lists', true],\r\n        AddDiscussionBoardItem: ['Lists', true],\r\n        AddList: ['Lists', true],\r\n        AddListFromFeature: ['Lists', true],\r\n        ApplyContentTypeToList: ['Lists', true],\r\n        CheckInFile: ['Lists', true],\r\n        CheckOutFile: ['Lists', true],\r\n        CreateContentType: ['Webs', true],\r\n        DeleteAttachment: ['Lists', true],\r\n        DeleteContentType: ['Lists', true],\r\n        DeleteContentTypeXmlDocument: ['Lists', true],\r\n        DeleteList: ['Lists', true],\r\n        GetAttachmentCollection: ['Lists', false],\r\n        GetList: ['Lists', false],\r\n        GetListAndView: ['Lists', false],\r\n        GetListCollection: ['Lists', false],\r\n        GetListContentType: ['Lists', false],\r\n        GetListContentTypes: ['Lists', false],\r\n        GetListItemChanges: ['Lists', false],\r\n        GetListItemChangesSinceToken: ['Lists', false],\r\n        GetListItems: ['Lists', false],\r\n        GetVersionCollection: ['Lists', false],\r\n        UndoCheckOut: ['Lists', true],\r\n        UpdateContentType: ['Webs', true],\r\n        UpdateContentTypesXmlDocument: ['Lists', true],\r\n        UpdateContentTypeXmlDocument: ['Lists', true],\r\n        UpdateList: ['Lists', true],\r\n        UpdateListItems: ['Lists', true],\r\n        AddMeeting: ['Meetings', true],\r\n        CreateWorkspace: ['Meetings', true],\r\n        RemoveMeeting: ['Meetings', true],\r\n        SetWorkSpaceTitle: ['Meetings', true],\r\n        ResolvePrincipals: ['People', false],\r\n        SearchPrincipals: ['People', false],\r\n        AddPermission: ['Permissions', true],\r\n        AddPermissionCollection: ['Permissions', true],\r\n        GetPermissionCollection: ['Permissions', true],\r\n        RemovePermission: ['Permissions', true],\r\n        RemovePermissionCollection: ['Permissions', true],\r\n        UpdatePermission: ['Permissions', true],\r\n        GetLinks: ['PublishedLinksService', true],\r\n        GetPortalSearchInfo: ['Search', false],\r\n        GetQuerySuggestions: ['Search', false],\r\n        GetSearchMetadata: ['Search', false],\r\n        Query: ['Search', false],\r\n        QueryEx: ['Search', false],\r\n        Registration: ['Search', false],\r\n        Status: ['Search', false],\r\n        SendClientScriptErrorReport: ['SharePointDiagnostics', true],\r\n        GetAttachments: ['SiteData', false],\r\n        EnumerateFolder: ['SiteData', false],\r\n        SiteDataGetList: ['SiteData', false],\r\n        SiteDataGetListCollection: ['SiteData', false],\r\n        SiteDataGetSite: ['SiteData', false],\r\n        SiteDataGetSiteUrl: ['SiteData', false],\r\n        SiteDataGetWeb: ['SiteData', false],\r\n        CreateWeb: ['Sites', true],\r\n        DeleteWeb: ['Sites', true],\r\n        GetSite: ['Sites', false],\r\n        GetSiteTemplates: ['Sites', false],\r\n        AddComment: ['SocialDataService', true],\r\n        AddTag: ['SocialDataService', true],\r\n        AddTagByKeyword: ['SocialDataService', true],\r\n        CountCommentsOfUser: ['SocialDataService', false],\r\n        CountCommentsOfUserOnUrl: ['SocialDataService', false],\r\n        CountCommentsOnUrl: ['SocialDataService', false],\r\n        CountRatingsOnUrl: ['SocialDataService', false],\r\n        CountTagsOfUser: ['SocialDataService', false],\r\n        DeleteComment: ['SocialDataService', true],\r\n        DeleteRating: ['SocialDataService', true],\r\n        DeleteTag: ['SocialDataService', true],\r\n        DeleteTagByKeyword: ['SocialDataService', true],\r\n        DeleteTags: ['SocialDataService', true],\r\n        GetAllTagTerms: ['SocialDataService', false],\r\n        GetAllTagTermsForUrlFolder: ['SocialDataService', false],\r\n        GetAllTagUrls: ['SocialDataService', false],\r\n        GetAllTagUrlsByKeyword: ['SocialDataService', false],\r\n        GetCommentsOfUser: ['SocialDataService', false],\r\n        GetCommentsOfUserOnUrl: ['SocialDataService', false],\r\n        GetCommentsOnUrl: ['SocialDataService', false],\r\n        GetRatingAverageOnUrl: ['SocialDataService', false],\r\n        GetRatingOfUserOnUrl: ['SocialDataService', false],\r\n        GetRatingOnUrl: ['SocialDataService', false],\r\n        GetRatingsOfUser: ['SocialDataService', false],\r\n        GetRatingsOnUrl: ['SocialDataService', false],\r\n        GetSocialDataForFullReplication: ['SocialDataService', false],\r\n        GetTags: ['SocialDataService', true],\r\n        GetTagsOfUser: ['SocialDataService', true],\r\n        GetTagTerms: ['SocialDataService', true],\r\n        GetTagTermsOfUser: ['SocialDataService', true],\r\n        GetTagTermsOnUrl: ['SocialDataService', true],\r\n        GetTagUrlsOfUser: ['SocialDataService', true],\r\n        GetTagUrlsOfUserByKeyword: ['SocialDataService', true],\r\n        GetTagUrls: ['SocialDataService', true],\r\n        GetTagUrlsByKeyword: ['SocialDataService', true],\r\n        SetRating: ['SocialDataService', true],\r\n        UpdateComment: ['SocialDataService', true],\r\n        SpellCheck: ['SpellCheck', false],\r\n        AddTerms: ['TaxonomyClientService', true],\r\n        GetChildTermsInTerm: ['TaxonomyClientService', false],\r\n        GetChildTermsInTermSet: ['TaxonomyClientService', false],\r\n        GetKeywordTermsByGuids: ['TaxonomyClientService', false],\r\n        GetTermsByLabel: ['TaxonomyClientService', false],\r\n        GetTermSets: ['TaxonomyClientService', false],\r\n        AddGroup: ['usergroup', true],\r\n        AddGroupToRole: ['usergroup', true],\r\n        AddRole: ['usergroup', true],\r\n        AddRoleDef: ['usergroup', true],\r\n        AddUserCollectionToGroup: ['usergroup', true],\r\n        AddUserCollectionToRole: ['usergroup', true],\r\n        AddUserToGroup: ['usergroup', true],\r\n        AddUserToRole: ['usergroup', true],\r\n        GetAllUserCollectionFromWeb: ['usergroup', false],\r\n        GetGroupCollection: ['usergroup', false],\r\n        GetGroupCollectionFromRole: ['usergroup', false],\r\n        GetGroupCollectionFromSite: ['usergroup', false],\r\n        GetGroupCollectionFromUser: ['usergroup', false],\r\n        GetGroupCollectionFromWeb: ['usergroup', false],\r\n        GetGroupInfo: ['usergroup', false],\r\n        GetRoleCollection: ['usergroup', false],\r\n        GetRoleCollectionFromGroup: ['usergroup', false],\r\n        GetRoleCollectionFromUser: ['usergroup', false],\r\n        GetRoleCollectionFromWeb: ['usergroup', false],\r\n        GetRoleInfo: ['usergroup', false],\r\n        GetRolesAndPermissionsForCurrentUser: ['usergroup', false],\r\n        GetRolesAndPermissionsForSite: ['usergroup', false],\r\n        GetUserCollection: ['usergroup', false],\r\n        GetUserCollectionFromGroup: ['usergroup', false],\r\n        GetUserCollectionFromRole: ['usergroup', false],\r\n        GetUserCollectionFromSite: ['usergroup', false],\r\n        GetUserCollectionFromWeb: ['usergroup', false],\r\n        GetUserInfo: ['usergroup', false],\r\n        GetUserLoginFromEmail: ['usergroup', false],\r\n        RemoveGroup: ['usergroup', true],\r\n        RemoveGroupFromRole: ['usergroup', true],\r\n        RemoveRole: ['usergroup', true],\r\n        RemoveUserCollectionFromGroup: ['usergroup', true],\r\n        RemoveUserCollectionFromRole: ['usergroup', true],\r\n        RemoveUserCollectionFromSite: ['usergroup', true],\r\n        RemoveUserFromGroup: ['usergroup', true],\r\n        RemoveUserFromRole: ['usergroup', true],\r\n        RemoveUserFromSite: ['usergroup', true],\r\n        RemoveUserFromWeb: ['usergroup', true],\r\n        UpdateGroupInfo: ['usergroup', true],\r\n        UpdateRoleDefInfo: ['usergroup', true],\r\n        UpdateRoleInfo: ['usergroup', true],\r\n        UpdateUserInfo: ['usergroup', true],\r\n        AddColleague: ['UserProfileService', true],\r\n        AddLink: ['UserProfileService', true],\r\n        AddMembership: ['UserProfileService', true],\r\n        AddPinnedLink: ['UserProfileService', true],\r\n        CreateMemberGroup: ['UserProfileService', true],\r\n        CreateUserProfileByAccountName: ['UserProfileService', true],\r\n        GetCommonColleagues: ['UserProfileService', false],\r\n        GetCommonManager: ['UserProfileService', false],\r\n        GetCommonMemberships: ['UserProfileService', false],\r\n        GetInCommon: ['UserProfileService', false],\r\n        GetPropertyChoiceList: ['UserProfileService', false],\r\n        GetUserColleagues: ['UserProfileService', false],\r\n        GetUserLinks: ['UserProfileService', false],\r\n        GetUserMemberships: ['UserProfileService', false],\r\n        GetUserPinnedLinks: ['UserProfileService', false],\r\n        GetUserProfileByGuid: ['UserProfileService', false],\r\n        GetUserProfileByIndex: ['UserProfileService', false],\r\n        GetUserProfileByName: ['UserProfileService', false],\r\n        GetUserProfileCount: ['UserProfileService', false],\r\n        GetUserProfileSchema: ['UserProfileService', false],\r\n        GetUserPropertyByAccountName: ['UserProfileService', false],\r\n        ModifyUserPropertyByAccountName: ['UserProfileService', true],\r\n        RemoveAllColleagues: ['UserProfileService', true],\r\n        RemoveAllLinks: ['UserProfileService', true],\r\n        RemoveAllMemberships: ['UserProfileService', true],\r\n        RemoveAllPinnedLinks: ['UserProfileService', true],\r\n        RemoveColleague: ['UserProfileService', true],\r\n        RemoveLink: ['UserProfileService', true],\r\n        RemoveMembership: ['UserProfileService', true],\r\n        RemovePinnedLink: ['UserProfileService', true],\r\n        UpdateColleaguePrivacy: ['UserProfileService', true],\r\n        UpdateLink: ['UserProfileService', true],\r\n        UpdateMembershipPrivacy: ['UserProfileService', true],\r\n        UpdatePinnedLink: ['UserProfileService', true],\r\n        DeleteAllVersions: ['Versions', true],\r\n        DeleteVersion: ['Versions', true],\r\n        GetVersions: ['Versions', false],\r\n        RestoreVersion: ['Versions', true],\r\n        AddView: ['Views', true],\r\n        DeleteView: ['Views', true],\r\n        GetView: ['Views', false],\r\n        GetViewHtml: ['Views', false],\r\n        GetViewCollection: ['Views', false],\r\n        UpdateView: ['Views', true],\r\n        UpdateViewHtml: ['Views', true],\r\n        AddWebPart: ['WebPartPages', true],\r\n        AddWebPartToZone: ['WebPartPages', true],\r\n        GetWebPart2: ['WebPartPages', false],\r\n        GetWebPartPage: ['WebPartPages', false],\r\n        GetWebPartProperties: ['WebPartPages', false],\r\n        GetWebPartProperties2: ['WebPartPages', false],\r\n        GetColumns: ['Webs', false],\r\n        GetContentType: ['Webs', false],\r\n        GetContentTypes: ['Webs', false],\r\n        GetCustomizedPageStatus: ['Webs', false],\r\n        GetListTemplates: ['Webs', false],\r\n        GetObjectIdFromUrl: ['Webs', false],\r\n        GetWeb: ['Webs', false],\r\n        GetWebCollection: ['Webs', false],\r\n        GetAllSubWebCollection: ['Webs', false],\r\n        UpdateColumns: ['Webs', true],\r\n        WebUrlFromPageUrl: ['Webs', false],\r\n        AlterToDo: ['Workflow', true],\r\n        ClaimReleaseTask: ['Workflow', true],\r\n        GetTemplatesForItem: ['Workflow', false],\r\n        GetToDosForItem: ['Workflow', false],\r\n        GetWorkflowDataForItem: ['Workflow', false],\r\n        GetWorkflowTaskData: ['Workflow', false],\r\n        StartWorkflow: ['Workflow', true]\r\n    };\r\n\r\n    angular.module('angularPoint')\r\n        .constant('apWebServiceOperationConstants', WebServiceOperationConstants);\r\n\r\n}\r\n","/// <reference path=\"../app.module.ts\" />\r\n\r\nmodule ap {\r\n    'use strict';\r\n\r\n    export interface IXMLFieldAttributeTypes {\r\n        [key: string]: string;\r\n    }\r\n\r\n    export var XMLFieldAttributeTypes: IXMLFieldAttributeTypes = {\r\n        Decimals: 'Number',\r\n        EnforceUniqueValues: 'Boolean',\r\n        Filterable: 'Boolean',\r\n        FromBaseType: 'Boolean',\r\n        Hidden: 'Boolean',\r\n        Indexed: 'Boolean',\r\n        NumLines: 'Number',\r\n        ReadOnly: 'Boolean',\r\n        Required: 'Boolean',\r\n        Sortable: 'Boolean'\r\n    };\r\n\r\n    /**\r\n     * @ngdoc object\r\n     * @name angularPoint.apXMLListAttributeTypes\r\n     * @description Constant object map which contains many common XML attributes found on a field definition with their\r\n     * corresponding type.\r\n     */\r\n    angular\r\n        .module('angularPoint')\r\n        .constant('apXMLFieldAttributeTypes', XMLFieldAttributeTypes);\r\n\r\n}\r\n","/// <reference path=\"../app.module.ts\" />\r\n\r\nmodule ap {\r\n    'use strict';\r\n\r\n    export interface IXMLListAttributeTypes {\r\n        [key: string]: string;\r\n    }\r\n\r\n    export var XMLListAttributeTypes: IXMLListAttributeTypes = {\r\n        BaseType: 'Number',\r\n        ServerTemplate: 'Number',\r\n        Created: 'DateTime',\r\n        Modified: 'DateTime',\r\n        LastDeleted: 'DateTime',\r\n        Version: 'Number',\r\n        ThumbnailSize: 'Number',\r\n        WebImageWidth: 'Number',\r\n        WebImageHeight: 'Number',\r\n        Flags: 'Number',\r\n        ItemCount: 'Number',\r\n        ReadSecurity: 'Number',\r\n        WriteSecurity: 'Number',\r\n        Author: 'Number',\r\n        MajorWithMinorVersionsLimit: 'Number',\r\n        HasUniqueScopes: 'Boolean',\r\n        NoThrottleListOperations: 'Boolean',\r\n        HasRelatedLists: 'Boolean',\r\n        AllowDeletion: 'Boolean',\r\n        AllowMultiResponses: 'Boolean',\r\n        EnableAttachments: 'Boolean',\r\n        EnableModeration: 'Boolean',\r\n        EnableVersioning: 'Boolean',\r\n        HasExternalDataSource: 'Boolean',\r\n        Hidden: 'Boolean',\r\n        MultipleDataList: 'Boolean',\r\n        Ordered: 'Boolean',\r\n        ShowUser: 'Boolean',\r\n        EnablePeopleSelector: 'Boolean',\r\n        EnableResourceSelector: 'Boolean',\r\n        EnableMinorVersion: 'Boolean',\r\n        RequireCheckout: 'Boolean',\r\n        ThrottleListOperations: 'Boolean',\r\n        ExcludeFromOfflineClient: 'Boolean',\r\n        EnableFolderCreation: 'Boolean',\r\n        IrmEnabled: 'Boolean',\r\n        IsApplicationList: 'Boolean',\r\n        PreserveEmptyValues: 'Boolean',\r\n        StrictTypeCoercion: 'Boolean',\r\n        EnforceDataValidation: 'Boolean',\r\n        MaxItemsPerThrottledOperation: 'Number'\r\n    };\r\n\r\n    /**\r\n     * @ngdoc object\r\n     * @name angularPoint.apXMLListAttributeTypes\r\n     * @description Constant object map which contains many common XML attributes found on a list definition with their\r\n     * corresponding type.\r\n     */\r\n    angular\r\n        .module('angularPoint')\r\n        .constant('apXMLListAttributeTypes', XMLListAttributeTypes);\r\n\r\n}\r\n","/// <reference path=\"../app.module.ts\" />\r\n\r\nmodule ap {\r\n    'use strict';\r\n\r\n    export class CamlFactory {\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name angularPoint.apCamlFactory:camlContainsQuery\r\n         * @methodOf angularPoint.apCamlFactory\r\n         * @parameter {object[]} fieldDefinitionsArray Array of fields to search for a given search string.\r\n         * @parameter {string} searchString String of text to search records for.\r\n         * @description\r\n         * Returns a combination of selectors using CAML '<Or></Or>' elements\r\n         * @returns {string} Caml select string.\r\n         * @example\r\n         * <pre>\r\n         *\r\n         * var testHTML = {objectType: 'HTML', staticName: 'HTML'};\r\n         * var testJSON = {objectType: 'JSON', staticName: 'JSON'};\r\n         * var testText = {objectType: 'Text', staticName: 'Text'};\r\n         * var testText2 = {objectType: 'Text', staticName: 'Text'};\r\n         *\r\n         * var testCaml = camlContainsQuery([testHTML, testText, testJSON, testText2], 'Test Query');\r\n         * console.log(testCaml);\r\n         *\r\n         * //Returns\r\n         * <Or><Contains><FieldRef Name=\\\"HTML\\\" /><Value Type=\\\"Text\\\"><![CDATA[Test Query]]>\r\n         * </Value></Contains><Or><Contains><FieldRef Name=\\\"Text\\\" /><Value Type=\\\"Text\\\">Test Query</Value>\r\n         * </Contains><Or><Contains><FieldRef Name=\\\"JSON\\\" /><Value Type=\\\"Text\\\"><![CDATA[Test Query]]>\r\n         * </Value></Contains><Contains><FieldRef Name=\\\"Text\\\" /><Value Type=\\\"Text\\\">Test Query</Value>\r\n         * </Contains></Or></Or></Or>\r\n         * </pre>\r\n         */\r\n        camlContainsQuery(fieldDefinitionsArray: FieldDefinition[], searchString: string): string {\r\n            var selectStatements = [];\r\n\r\n            /** Create a select statement for each field */\r\n            _.each(fieldDefinitionsArray, (fieldDefinition, definitionIndex) => {\r\n                selectStatements.push(this.createCamlContainsSelector(fieldDefinition, searchString));\r\n            });\r\n\r\n            return this.chainCamlSelects(selectStatements, 'And');\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name angularPoint.apCamlFactory:chainCamlSelects\r\n         * @methodOf angularPoint.apCamlFactory\r\n         * @description\r\n         * Used to combine multiple caml selectors into a single CAML query string wrapped properly.\r\n         * @param {object[]} selectStatements An array of select statements to wrap in \"<Or>\".\r\n         * @param {string} joinType Valid caml join type ('Or', 'And', ...).\r\n         * @returns {string} CAML query string.\r\n         */\r\n        chainCamlSelects(selectStatements: Object[], joinType: string): string {\r\n            var camlQuery = '',\r\n                camlQueryClosure = '';\r\n            _.each(selectStatements, function(statement, statementIndex) {\r\n                /** Add an or clause if we still have additional fields to process */\r\n                if (statementIndex < selectStatements.length - 1) {\r\n                    camlQuery += '<' + joinType + '>';\r\n                    camlQueryClosure = '</' + joinType + '>' + camlQueryClosure;\r\n                }\r\n                camlQuery += statement;\r\n            });\r\n            return camlQuery + camlQueryClosure;\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name angularPoint.apCamlFactory:createCamlContainsSelector\r\n         * @methodOf angularPoint.apCamlFactory\r\n         * @description\r\n         * Escapes characters that SharePoint gets upset about based on field type.\r\n         * @example\r\n         * <pre>\r\n         * var testHTML = {objectType: 'HTML', staticName: 'HTML'};\r\n         *\r\n         * var testCaml = createCamlContainsSelector(testHTML, 'Test Query');\r\n         * console.log(testCaml);\r\n         *\r\n         * //Returns\r\n         * <Contains>\r\n         *   <FieldRef Name=\\\"HTML\\\" />\r\n         *   <Value Type=\\\"Text\\\"><![CDATA[Test Query]]></Value>\r\n         * </Contains>\r\n         * </pre>\r\n         */\r\n        createCamlContainsSelector(fieldDefinition: FieldDefinition, searchString: string): string {\r\n            var camlSelector;\r\n            switch (fieldDefinition.objectType) {\r\n                case 'HTML':\r\n                case 'JSON':\r\n                    camlSelector = '' +\r\n                    '<Contains>' +\r\n                    '<FieldRef Name=\"' + fieldDefinition.staticName + '\" />' +\r\n                    /** Use CDATA wrapper to escape [&, <, > ] */\r\n                    '<Value Type=\"Text\"><![CDATA[' + searchString + ']]></Value>' +\r\n                    '</Contains>';\r\n                    break;\r\n                default:\r\n                    camlSelector = '' +\r\n                    '<Contains>' +\r\n                    '<FieldRef Name=\"' + fieldDefinition.staticName + '\" />' +\r\n                    '<Value Type=\"Text\">' + searchString + '</Value>' +\r\n                    '</Contains>';\r\n            }\r\n            return camlSelector;\r\n        }\r\n\r\n\r\n    }\r\n\r\n    /**\r\n     * @ngdoc function\r\n     * @name angularPoint.apCamlFactory\r\n     * @description\r\n     * Tools to assist with the creation of CAML queries.\r\n     *\r\n     */\r\n    angular.module('angularPoint')\r\n        .service('apCamlFactory', CamlFactory);\r\n}\r\n","/// <reference path=\"../app.module.ts\" />\r\n\r\nmodule ap {\r\n    'use strict';\r\n\r\n    var apFieldService: FieldService, apUtilityService: UtilityService, apFormattedFieldValueService: FormattedFieldValueService;\r\n\r\n    export interface IXMLFieldDefinition {\r\n        ID: string;\r\n        Type: string;\r\n        ReadOnly: string;\r\n        Hidden: string;\r\n        DisplayName: string;\r\n        Required: string;\r\n        SourceID: string;\r\n        ColName: string;\r\n        StaticName: string;\r\n        Choices?: string[];\r\n        Description?: string;\r\n        Indexed?: string;\r\n        EnforceUniqueValues?: string;\r\n        RowOrdinal?: string;\r\n        Sortable?: string;\r\n        Filterable?: string;\r\n        RelationshipDeleteBehavior?: string;\r\n        List?: string;\r\n        ShowField?: string;\r\n        ResultType?: string;\r\n        FillInChoice?: string;\r\n        Name?: string;\r\n        NumLines?: string;\r\n        RichText?: string;\r\n        Format?: string;\r\n    }\r\n\r\n    export interface IFieldDefinition {\r\n        choices?: string[];\r\n        description?: string;\r\n        displayName?: string;\r\n        formatter?: (listItem: ListItem<any>, fieldDefinition: FieldDefinition, options?: Object) => string;\r\n        label?: string;\r\n        mappedName: string;\r\n        objectType: string;\r\n        readOnly?: boolean;\r\n        required?: boolean;\r\n        staticName: string;\r\n    }\r\n\r\n    //An extended field definition combines the user defined field definition with the XML returned by SharePoint\r\n    export interface IExtendedFieldDefinition extends IXMLFieldDefinition, IFieldDefinition {\r\n\r\n    }\r\n\r\n\r\n    /**\r\n     * @ngdoc object\r\n     * @name Field\r\n     * @description\r\n     * Defined in the MODEL.list.fieldDefinitions array.  Each field definition object maps an internal field\r\n     * in a SharePoint list/library to a JavaScript object using the internal SharePoint field name, the field\r\n     * type, and the desired JavaScript property name to add onto the parsed list item object. Ignore shown usage,\r\n     * each field definition is just an object within the fieldDefinitions array.\r\n     * @param {object} obj Field definition.\r\n     * @param {string} obj.staticName The actual SharePoint field name.\r\n     * @param {string} [obj.objectType='Text']\r\n     * <dl>\r\n     *     <dt>Boolean</dt>\r\n     *     <dd>Used to store a TRUE/FALSE value (stored in SharePoint as 0 or 1).</dd>\r\n     *     <dt>Calc</dt>\r\n     *     <dd>\";#\" Delimited String: The first value will be the calculated column value\r\n     *     type, the second will be the value</dd>\r\n     *     <dt>Choice</dt>\r\n     *     <dd>Simple text string but when processing the initial list definition, we\r\n     *     look for a Choices XML element within the field definition and store each\r\n     *     value.  We can then retrieve the valid Choices with one of the following:\r\n     *     ```var fieldDefinition = LISTITEM.getFieldDefinition('CHOICE_FIELD_NAME');```\r\n     *                                      or\r\n     *     ```var fieldDefinition = MODELNAME.getFieldDefinition('CHOICE_FIELD_NAME');```\r\n     *     ```var choices = fieldDefinition.Choices;```\r\n\r\n     *     </dd>\r\n     *     <dt>Counter</dt>\r\n     *     <dd>Same as Integer. Generally used only for the internal ID field. Its integer\r\n     *     value is set automatically to be unique with respect to every other item in the\r\n     *     current list. The Counter type is always read-only and cannot be set through a\r\n     *     form post.</dd>\r\n     *     <dt>Currency</dt>\r\n     *     <dd>Floating point number.</dd>\r\n     *     <dt>DateTime</dt>\r\n     *     <dd>Replace dashes with slashes and the \"T\" deliminator with a space if found.  Then\r\n     *     converts into a valid JS date object.</dd>\r\n     *     <dt>Float</dt>\r\n     *     <dd>Floating point number.</dd>\r\n     *     <dt>HTML</dt>\r\n     *     <dd>```_.unescape(STRING)```</dd>\r\n     *     <dt>Integer</dt>\r\n     *     <dd>Parses the string to a base 10 int.</dd>\r\n     *     <dt>JSON</dt>\r\n     *     <dd>Parses JSON if valid and converts into a a JS object.  If not valid, an error is\r\n     *     thrown with additional info on specifically what is invalid.</dd>\r\n     *     <dt>Lookup</dt>\r\n     *     <dd>Passes string to Lookup constructor where it is broken into an object containing\r\n     *     a \"lookupValue\" and \"lookupId\" attribute.  Inherits additional prototype methods from\r\n     *     Lookup.  See [Lookup](#/api/Lookup) for more information.\r\n     *     </dd>\r\n     *     <dt>LookupMulti</dt>\r\n     *     <dd>Converts multiple delimited \";#\" strings into an array of Lookup objects.</dd>\r\n     *     <dt>MultiChoice</dt>\r\n     *     <dd>Converts delimited \";#\" string into an array of strings representing each of the\r\n     *     selected choices.  Similar to the single \"Choice\", the XML Choices are stored in the\r\n     *     field definition after the initial call is returned from SharePoint so we can reference\r\n     *     later.\r\n     *     </dd>\r\n     *     <dt>Number</dt>\r\n     *     <dd>Treats as a float.</dd>\r\n     *     <dt>Text</dt>\r\n     *     <dd>**Default** No processing of the text string from XML.</dd>\r\n     *     <dt>User</dt>\r\n     *     <dd>Similar to Lookup but uses the \"User\" prototype as a constructor to convert into a\r\n     *     User object with \"lookupId\" and \"lookupValue\" attributes.  The lookupId is the site collection\r\n     *     ID for the user and the lookupValue is typically the display name.\r\n     *     See [User](#/api/User) for more information.\r\n     *     </dd>\r\n     *     <dt>UserMulti</dt>\r\n     *     <dd>Parses delimited string to returns an array of User objects.</dd>\r\n     * </dl>\r\n     * @param {string} obj.mappedName The attribute name we'd like to use\r\n     * for this field on the newly created JS object.\r\n     * @param {boolean} [obj.readOnly=false] When saving, we only push fields\r\n     * that are mapped and not read only.\r\n     * @param {boolean} [obj.required=false] Allows us to validate the field to ensure it is valid based\r\n     * on field type.\r\n     * @returns {object} Field\r\n     *\r\n     * @requires angularPoint.apFieldFactory\r\n     * @constructor\r\n     */\r\n    export class FieldDefinition implements IFieldDefinition {\r\n        displayName: string;\r\n        formatter: (listItem: ListItem<any>, fieldDefinition: FieldDefinition, options?: Object) => string;\r\n        internalName: string;\r\n        label: string;\r\n        mappedName: string;\r\n        objectType = 'Text';\r\n        readOnly = false;\r\n        staticName: string;\r\n        constructor(obj) {\r\n            _.assign(this, obj);\r\n            this.displayName = this.displayName ? this.displayName : apUtilityService.fromCamelCase(this.mappedName);\r\n\r\n            /** Deprecated internal name and replace with staticName but maintain compatibility */\r\n            this.staticName = this.staticName || this.internalName;\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name Field:getDefaultValueForType\r\n         * @methodOf Field\r\n         * @description\r\n         * Returns an object defining a specific field type\r\n         * @returns {object} { defaultValue: '...':string, staticMock: '...':string, dynamicMock: ...:Function}\r\n         */\r\n        getDefinition() {\r\n            return apFieldService.getDefinition(this.objectType);\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name Field:getDefaultValueForType\r\n         * @methodOf Field\r\n         * @description\r\n         * Can return mock data appropriate for the field type, by default it dynamically generates data but\r\n         * the staticValue param will instead return a hard coded type specific value.\r\n         */\r\n        getDefaultValueForType() {\r\n            return apFieldService.getDefaultValueForType(this.objectType);\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name Field:getFormattedValue\r\n         * @methodOf Field\r\n         * @description\r\n         * By default uses the formatted field service to convert a field value into a formatted string\r\n         * readable by user.  Optionally can override in field definition with formatter property to return\r\n         * custom formatted value. A good example of this would be to stringify a discussion thread.\r\n         * @param {ListItem<any>} listItem List used to generate field value.\r\n         * @param {object} [options] Pass through to apFormattedFieldValueService.getFormattedFieldValue.\r\n         * @returns {string} Formatted field value suitable for outputting to user.\r\n         * @example\r\n         * <pre>\r\n         *  //In model.list.customFields defining a field\r\n         * {\r\n\t\t * \t  mappedName: 'lookup',\r\n\t\t * \t  objectType: 'Lookup',\r\n         *    staticName: 'MyAwesomeLookup',\r\n\t\t * \t  formatter: (listItem: ListItem<any>, fieldDefinition: IFieldDefinition, options?: Object) => {\r\n\t\t * \t  \t return listItem[fieldDefinition.mappedName].lookupValue.toUpperCase();\r\n\t\t * \t  }\r\n\t\t * }\r\n         * </pre>\r\n         */\r\n        getFormattedValue(listItem: ListItem<any>, options?: Object): string {\r\n            //Optionally provide a custom method to convert a field value into a formatted string\r\n            return _.isFunction(this.formatter) ? this.formatter(listItem, this, options) :\r\n                apFormattedFieldValueService\r\n                    .getFormattedFieldValue(listItem[this.mappedName], this.objectType, options);\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name Field:getMockData\r\n         * @methodOf Field\r\n         * @param {object} [options] Optional params passed to apFieldService.getMockData.\r\n         * @param {boolean} [options.staticValue=false] Default to dynamically build mock data.\r\n         * @returns {*} mockData\r\n         */\r\n        getMockData(options) {\r\n            return apFieldService.getMockData(this.objectType, options);\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * @ngdoc service\r\n     * @name angularPoint.apFieldFactory\r\n     * @description\r\n     * Contains the Field constructor and prototype definitions.\r\n     * @property {constructor} Field The Field constructor.\r\n     *\r\n     * @requires angularPoint.apFieldService\r\n     * @requires angularPoint.apUtilityService\r\n     *\r\n     */\r\n    export class FieldFactory {\r\n        FieldDefinition = FieldDefinition;\r\n        static $inject = ['apFieldService', 'apUtilityService', 'apFormattedFieldValueService'];\r\n        constructor(_apFieldService_, _apUtilityService_, _apFormattedFieldValueService_) {\r\n            apFieldService = _apFieldService_;\r\n            apUtilityService = _apUtilityService_;\r\n            apFormattedFieldValueService = _apFormattedFieldValueService_;\r\n        }\r\n    }\r\n\r\n\r\n    angular\r\n        .module('angularPoint')\r\n        .service('apFieldFactory', FieldFactory);\r\n\r\n}\r\n","/// <reference path=\"../app.module.ts\" />\r\n\r\nmodule ap {\r\n    'use strict';\r\n\r\n    interface IUninstantiatedIndexCache<T extends ListItem<any>>{\r\n        [key: number]: T;\r\n    }\r\n\r\n    /**\r\n     * @ngdoc object\r\n     * @name IndexedCache\r\n     * @description\r\n     * Cache constructor that is extended to make it easier to work with via prototype methods.  Located in\r\n     * apIndexedCacheFactory.\r\n     * @param {object} [object] Optionally extend new cache with provided object.\r\n     * @requires angularPoint.apIndexedCacheFactory\r\n     * @constructor\r\n     */\r\n    export class IndexedCache<T extends ListItem<any>>{\r\n        //Object with keys equaling ID and values being the individual list item\r\n        [key: number]: T;\r\n        constructor(object?: IUninstantiatedIndexCache<T>) {\r\n            if (object) {\r\n                _.assign(this, object);\r\n            }\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name IndexedCache.addEntity\r\n         * @methodOf IndexedCache\r\n         * @description\r\n         * Adds a new key to the cache if not already there with a value of the new listItem.\r\n         * @param {object} listItem Entity to add to the cache.\r\n         */\r\n        addEntity(listItem: T): void {\r\n            if (_.isObject(listItem) && !!listItem.id) {\r\n                /** Only add the listItem to the cache if it's not already there */\r\n                if (!this[listItem.id]) {\r\n                    this[listItem.id.toString()] = listItem;\r\n                }\r\n            } else {\r\n                throw new Error('A valid listItem wasn\\'t found: ' + JSON.stringify(listItem));\r\n            }\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name IndexedCache.clear\r\n         * @methodOf IndexedCache\r\n         * @description\r\n         * Clears all cached elements from the containing cache object.\r\n         */\r\n        clear(): void {\r\n            _.each(this, (listItem, key) => delete this[key]);\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name IndexedCache.count\r\n         * @methodOf IndexedCache\r\n         * @description\r\n         * Returns the number of entities in the cache.\r\n         * @returns {number} Number of entities in the cache.\r\n         */\r\n        count(): number {\r\n            return this.keys().length;\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name IndexedCache.first\r\n         * @methodOf IndexedCache\r\n         * @description\r\n         * Returns the first listItem in the index (smallest ID).\r\n         * @returns {object} First listItem in cache.\r\n         */\r\n        first(): T {\r\n            return this.nthEntity(0);\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name IndexedCache.keys\r\n         * @methodOf IndexedCache\r\n         * @description\r\n         * Returns the array of keys (listItem ID's) for the cache.\r\n         * @returns {string[]} Array of listItem id's as strings.\r\n         */\r\n        keys(): string[] {\r\n            return _.keys(this);\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name IndexedCache.last\r\n         * @methodOf IndexedCache\r\n         * @description\r\n         * Returns the last listItem in the index (largest ID).\r\n         * @returns {object} Last listItem in cache.\r\n         */\r\n        last(): T {\r\n            var keys = this.keys();\r\n            return this[keys[keys.length - 1]];\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name IndexedCache.nthEntity\r\n         * @methodOf IndexedCache\r\n         * @description\r\n         * Based on the\r\n         * @param {number} index The index of the item requested.\r\n         * @returns {object} First listItem in cache.\r\n         */\r\n        nthEntity(index: number): T {\r\n            var keys = this.keys();\r\n            return this[keys[index]];\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name IndexedCache.removeEntity\r\n         * @methodOf IndexedCache\r\n         * @description\r\n         * Removes a listItem from the cache.\r\n         * @param {object|number} listItem Entity to remove or ID of listItem to be removed.\r\n         */\r\n        removeEntity(listItem: T | number): void {\r\n            if (_.isObject(listItem) && listItem.id && this[listItem.id]) {\r\n                delete this[listItem.id];\r\n            } else if (_.isNumber(listItem)) {\r\n                /** Allow listItem ID to be used instead of then listItem */\r\n                delete this[listItem];\r\n            }\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name IndexedCache.toArray\r\n         * @methodOf IndexedCache\r\n         * @description\r\n         * Turns the cache object into an array of entities.\r\n         * @returns {object[]} Returns the array of entities currently in the cache.\r\n         */\r\n        toArray(): T[] {\r\n            return _.toArray(this);\r\n        }\r\n\r\n    }\r\n\r\n\r\n    /**\r\n     * @ngdoc object\r\n     * @name angularPoint.apIndexedCacheFactory\r\n     * @description\r\n     * Exposes the EntityFactory prototype and a constructor to instantiate a new Entity Factory in apCacheService.\r\n     *\r\n     */\r\n    export class IndexedCacheFactory {\r\n        /**\r\n         * @ngdoc function\r\n         * @name angularPoint.apIndexedCacheFactory:create\r\n         * @methodOf angularPoint.apIndexedCacheFactory\r\n         * @description\r\n         * Instantiates and returns a new Indexed Cache.grunt\r\n         */\r\n        create<T extends ListItem<any>>(overrides?: IUninstantiatedIndexCache<T>): IndexedCache<T> {\r\n            return new IndexedCache<T>(overrides);\r\n        }\r\n        IndexedCache = IndexedCache;\r\n\r\n    }\r\n\r\n    angular.module('angularPoint')\r\n        .service('apIndexedCacheFactory', IndexedCacheFactory);\r\n}\r\n","/// <reference path=\"../app.module.ts\" />\r\n\r\nmodule ap {\r\n    'use strict';\r\n\r\n    var apConfig: IAPConfig, apDefaultFields, apFieldFactory: FieldFactory;\r\n\r\n    export interface IUninstantiatedList {\r\n        customFields: IFieldDefinition[];\r\n        environments?: { [key: string]: string };\r\n        guid?: string;\r\n        title: string;\r\n        viewFields?: string;\r\n        webURL?: string;\r\n    }\r\n\r\n    /**\r\n     * XML List Object gets converted into JSON object with the following properties.\r\n     */\r\n    export interface IXMLList {\r\n        AllowDeletion?: string;\r\n        AllowMultiResponses?: string;\r\n        AnonymousPermMask?: string;\r\n        Author?: string;\r\n        BaseType?: string;\r\n        Created?: string;\r\n        DefaultViewUrl?: string;\r\n        Description?: string;\r\n        Direction?: string;\r\n        DocTemplateUrl?: string;\r\n        EmailAlias?: string;\r\n        EnableAttachments?: string;\r\n        EnableFolderCreation?: string;\r\n        EnableMinorVersion?: string;\r\n        EnableModeration?: string;\r\n        EnablePeopleSelector?: string;\r\n        EnableResourceSelector?: string;\r\n        EnableVersioning?: string;\r\n        EnforceDataValidation?: string;\r\n        EventSinkAssembly?: string;\r\n        EventSinkClass?: string;\r\n        EventSinkData?: string;\r\n        ExcludeFromOfflineClient?: string;\r\n        FeatureId?: string;\r\n        Flags?: string;\r\n        HasExternalDataSource?: string;\r\n        HasRelatedLists?: string;\r\n        HasUniqueScopes?: string;\r\n        Hidden?: string;\r\n        ID?: string;\r\n        ImageUrl?: string;\r\n        IrmEnabled?: string;\r\n        IsApplicationList?: string;\r\n        ItemCount?: string;\r\n        LastDeleted?: string;\r\n        MajorVersionLimit?: string;\r\n        MajorWithMinorVersionsLimit?: string;\r\n        MaxItemsPerThrottledOperation?: string;\r\n        Modified?: string;\r\n        MultipleDataList?: string;\r\n        Name?: string;\r\n        NoThrottleListOperations?: string;\r\n        Ordered?: string;\r\n        PreserveEmptyValues?: string;\r\n        ReadSecurity?: string;\r\n        RequireCheckout?: string;\r\n        RootFolder?: string;\r\n        ScopeId?: string;\r\n        SendToLocation?: string;\r\n        ServerTemplate?: string;\r\n        ShowUser?: string;\r\n        StrictTypeCoercion?: string;\r\n        ThrottleListOperations?: string;\r\n        ThumbnailSize?: string;\r\n        Title?: string;\r\n        Version?: string;\r\n        WebFullUrl?: string;\r\n        WebId?: string;\r\n        WebImageHeight?: string;\r\n        WebImageWidth?: string;\r\n        WorkFlowId?: string;\r\n        WriteSecurity?: string;\r\n    }\r\n\r\n    export interface IList extends IUninstantiatedList, IXMLList {\r\n        customFields: FieldDefinition[];\r\n        effectivePermMask?: string;\r\n        environments: { [key: string]: string };\r\n        fields: FieldDefinition[];\r\n        getListId(): string;\r\n        guid: string;\r\n        identifyWebURL(): string;\r\n        isReady: boolean;\r\n        mapping?: Object;\r\n        title: string;\r\n        viewFields?: string;\r\n        webURL?: string;\r\n    }\r\n    /**\r\n     * @ngdoc object\r\n     * @name List\r\n     * @description\r\n     * List Object Constructor.  This is handled automatically when creating a new model so there shouldn't be\r\n     * any reason to manually call.\r\n     * @param {object} config Initialization parameters.\r\n     * @param {string} config.guid Unique SharePoint GUID for the list we'll be basing the model on\r\n     * ex:'{4D74831A-42B2-4558-A67F-B0B5ADBC0EAC}'\r\n     * @param {string} config.title Maps to the offline XML file in dev folder (no spaces)\r\n     * ex: 'ProjectsList' so the offline XML file would be located at apConfig.offlineXML + 'ProjectsList.xml'\r\n     * @param {object[]} [config.customFields] Mapping of SharePoint field names to the internal names we'll be using\r\n     * in our application.  Also contains field type, readonly attribute, and any other non-standard settings.\r\n     * <pre>\r\n     * [\r\n     *   {\r\n         *       staticName: \"Title\",\r\n         *       objectType: \"Text\",\r\n         *       mappedName: \"lastName\",\r\n         *       readOnly:false\r\n         *   },\r\n     *   {\r\n         *       staticName: \"FirstName\",\r\n         *       objectType: \"Text\",\r\n         *       mappedName: \"firstName\",\r\n         *       readOnly:false\r\n         *   },\r\n     *   {\r\n         *       staticName: \"Organization\",\r\n         *       objectType: \"Lookup\",\r\n         *       mappedName: \"organization\",\r\n         *       readOnly:false\r\n         *   },\r\n     *   {\r\n         *       staticName: \"Account\",\r\n         *       objectType: \"User\",\r\n         *       mappedName: \"account\",\r\n         *       readOnly:false\r\n         *   },\r\n     *   {\r\n         *       staticName: \"Details\",\r\n         *       objectType: \"Text\",\r\n         *       mappedName: \"details\",\r\n         *       readOnly:false\r\n         *   }\r\n     * ]\r\n     * </pre>\r\n     * @property {string} viewFields XML string defining each of the fields to include in all CRUD requests,\r\n     * generated when the Model.List is instantiated.\r\n     * <pre>\r\n     *     <ViewFields>...</ViewFields>\r\n     * </pre>\r\n     * @property {Field[]} fields Generated when the Model.List is instantiated.  Combines the standard\r\n     * default fields for all lists with the fields identified in the config.customFields and instantiates each\r\n     * with the Field constructor.\r\n     * @requires angularPoint.apListFactory\r\n     * @constructor\r\n     */\r\n    export class List implements IList {\r\n        customFields = [];\r\n        effectivePermMask: string;\r\n        environments: { [key: string]: string };\r\n        fields = [];\r\n        guid: string = '';\r\n        isReady = false;\r\n        mapping = {};\r\n        title = '';\r\n        viewFields = '';\r\n        WebFullUrl; //Only appears if extended from list definition\r\n        webURL: string;\r\n        constructor(config: IUninstantiatedList) {\r\n            this.webURL = apConfig.defaultUrl;\r\n            _.assign(this, config);\r\n            this.environments = this.environments || { production: this.guid };\r\n            this.extendFieldDefinitions();\r\n        }\r\n\r\n        /**\r\n         * @description\r\n         * 1. Populates the fields array which uses the Field constructor to combine the default\r\n         * SharePoint fields with those defined in the list definition on the model\r\n         * 2. Creates the list.viewFields XML string that defines the fields to be requested on a query\r\n         *\r\n         * @param {object} list Reference to the list within a model.\r\n         */\r\n        extendFieldDefinitions() {\r\n            /**\r\n             * Constructs the field\r\n             * - adds to viewField\r\n             * - create ows_ mapping\r\n             * @param fieldDefinition\r\n             */\r\n            var buildField = (fieldDefinition) => {\r\n                var field = new apFieldFactory.FieldDefinition(fieldDefinition);\r\n                this.fields.push(field);\r\n                this.viewFields += '<FieldRef Name=\"' + field.staticName + '\"/>';\r\n                this.mapping['ows_' + field.staticName] = {\r\n                    mappedName: field.mappedName,\r\n                    objectType: field.objectType\r\n                };\r\n            };\r\n\r\n            /** Open viewFields */\r\n            this.viewFields += '<ViewFields>';\r\n\r\n            /** Add the default fields */\r\n            _.each(apDefaultFields, (field) => buildField(field));\r\n\r\n            /** Add each of the fields defined in the model */\r\n            _.each(this.customFields, (field) => buildField(field));\r\n\r\n            /** Close viewFields */\r\n            this.viewFields += '</ViewFields>';\r\n        }\r\n\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name List:getListId\r\n         * @methodOf List\r\n         * @description\r\n         * Defaults to list.guid.  For a multi-environment setup, we accept a list.environments object with a property for each named\r\n         * environment with a corresponding value of the list guid.  The active environment can be selected\r\n         * by setting apConfig.environment to the string name of the desired environment.\r\n         * @returns {string} List ID.\r\n         */\r\n        getListId(): string {\r\n            if (_.isString(this.environments[apConfig.environment])) {\r\n                /**\r\n                 * For a multi-environment setup, we accept a list.environments object with a property for each named\r\n                 * environment with a corresponding value of the list guid.  The active environment can be selected\r\n                 * by setting apConfig.environment to the string name of the desired environment.\r\n                 */\r\n                return this.environments[apConfig.environment];\r\n            } else {\r\n                throw new Error('There isn\\'t a valid environment definition for apConfig.environment=' + apConfig.environment + '  ' +\r\n                    'Please confirm that the list \"' + this.title + '\" has the necessary environmental configuration.');\r\n            }\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name List:identifyWebURL\r\n         * @methodOf List\r\n         * @description\r\n         * If a list is extended, use the provided webURL, otherwise use list.webURL.  If never set it will default\r\n         * to apConfig.defaultUrl.\r\n         * @returns {string} webURL param.\r\n         */\r\n        identifyWebURL(): string {\r\n            return this.WebFullUrl ? this.WebFullUrl : this.webURL;\r\n        }\r\n\r\n\r\n    }\r\n\r\n\r\n    /**\r\n     * @ngdoc service\r\n     * @name angularPoint.apListFactory\r\n     * @description\r\n     * Exposes the List prototype and a constructor to instantiate a new List.\r\n     *\r\n     * @property {constructor} List The List constructor.\r\n     *\r\n     * @requires angularPoint.apConfig\r\n     * @requires angularPoint.apDefaultFields\r\n     * @requires angularPoint.apFieldFactory\r\n     */\r\n    export class ListFactory {\r\n        List = List;\r\n        static $inject = ['apConfig', 'apDefaultFields', 'apFieldFactory'];\r\n        constructor(_apConfig_, _apDefaultFields_, _apFieldFactory_) {\r\n\r\n            apConfig = _apConfig_;\r\n            apDefaultFields = _apDefaultFields_;\r\n            apFieldFactory = _apFieldFactory_;\r\n\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name angularPoint.apListFactory:create\r\n         * @methodOf angularPoint.apListFactory\r\n         * @param {object} config Options object.\r\n         * @description\r\n         * Instantiates and returns a new List.\r\n         */\r\n        create(config) {\r\n            return new List(config);\r\n        }\r\n\r\n\r\n    }\r\n\r\n\r\n    angular.module('angularPoint')\r\n        .service('apListFactory', ListFactory);\r\n\r\n\r\n    /********************** PRIVATE *************************/\r\n\r\n}\r\n","/// <reference path=\"../app.module.ts\" />\r\n\r\nmodule ap {\r\n    'use strict';\r\n\r\n    var $q: ng.IQService, toastr, apCacheService: CacheService, apDataService: DataService, apDecodeService: DecodeService,\r\n        apEncodeService: EncodeService, apUtilityService: UtilityService, apConfig: IAPConfig;\r\n\r\n    export interface IListItem<T extends ListItem<any>> {\r\n        author?: IUser;\r\n        created?: Date;\r\n        editor?: IUser;\r\n        fileRef?: ILookup;\r\n        id?: number;\r\n        modified?: Date;\r\n        permMask?: string;\r\n        uniqueId?: string;\r\n\r\n        deleteAttachment: (url: string) => ng.IPromise<any>;\r\n        deleteItem: (options?: IListItemCrudOptions<T>) => ng.IPromise<any>;\r\n        getAttachmentCollection: () => ng.IPromise<string[]>;\r\n        getAvailableWorkflows: () => ng.IPromise<IWorkflowDefinition[]>;\r\n        getCache?: () => IndexedCache<T>;\r\n        getChanges(): ng.IPromise<T>;\r\n        getFieldChoices: (fieldName: string) => string[];\r\n        getFieldDefinition: (fieldName: string) => FieldDefinition | IExtendedFieldDefinition;\r\n        getFieldDescription: (fieldName: string) => string;\r\n        getFieldLabel: (fieldName: string) => string;\r\n        getFieldVersionHistory: (fieldNames: string[]) => ng.IPromise<IListItemVersion<T>[]>;\r\n        getFormattedValue: (fieldName: string, options?: Object) => string;\r\n        getList: () => List;\r\n        getListId: () => string;\r\n        getLookupReference: <T2 extends ListItem<any>>(fieldName: string, lookupId?: number) => T2;\r\n        resolvePermissions: () => IUserPermissionsObject;\r\n        saveChanges: (options?: IListItemCrudOptions<T>) => ng.IPromise<T>;\r\n        saveFields: (fieldArray: string[], options?: IListItemCrudOptions<T>) => ng.IPromise<T>;\r\n        setPristine: () => void;\r\n        startWorkflow: (options: IStartWorkflowParams) => ng.IPromise<any>;\r\n        validateEntity: (options?: Object) => boolean;\r\n\r\n        //Added by Model Instantiation\r\n        getModel?: () => Model;\r\n        getPristine?: () => Object;\r\n        getQuery?: () => IQuery<T>;\r\n\r\n    }\r\n\r\n\r\n    /**\r\n     * @ngdoc object\r\n     * @name ListItem\r\n     * @description\r\n     * Base prototype which all list items inherit from.  All methods can be accessed through this prototype so all CRUD\r\n     * functionality can be called directly from a given list item.\r\n     * @constructor\r\n     */\r\n    export class ListItem<T extends ListItem<any>> implements IListItem<T> {\r\n        author: IUser;\r\n        created: Date;\r\n        editor: IUser;\r\n        fileRef: ILookup;\r\n        getCache: () => IndexedCache<T>;\r\n        getModel: () => Model;\r\n        getPristine: () => Object;\r\n        getQuery: () => IQuery<T>;\r\n        id: number;\r\n        modified: Date;\r\n        permMask: string;\r\n        private preDeleteAction: () => boolean;\r\n        private preSaveAction: () => boolean;\r\n        private postSaveAction: () => void;\r\n        uniqueId: string;\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name ListItem.deleteAttachment\r\n         * @description\r\n         * Delete an attachment from a list item.\r\n         * @param {string} url Requires the URL for the attachment we want to delete.\r\n         * @returns {object} Promise which resolves with the updated attachment collection.\r\n         * @example\r\n         * <pre>\r\n         * $scope.deleteAttachment = function (attachment) {\r\n             *     var confirmation = window.confirm(\"Are you sure you want to delete this file?\");\r\n             *     if (confirmation) {\r\n             *         scope.listItem.deleteAttachment(attachment).then(function () {\r\n             *             alert(\"Attachment successfully deleted\");\r\n             *         });\r\n             *     }\r\n             * };\r\n         * </pre>\r\n         */\r\n        deleteAttachment(url: string): ng.IPromise<any> {\r\n            var listItem = this;\r\n            return apDataService.deleteAttachment({\r\n                listItemID: listItem.id,\r\n                url: url,\r\n                listName: listItem.getModel().list.getListId()\r\n            });\r\n        }\r\n\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name ListItem.deleteItem\r\n         * @description\r\n         * Deletes record directly from the object and removes record from user cache.\r\n         * @param {object} [options] Optionally pass params to the dataService.\r\n         * @param {boolean} [options.updateAllCaches=false] Iterate over each of the query cache's and ensure the listItem is\r\n         * removed everywhere.  This is more process intensive so by default we only remove the cached listItem in the\r\n         * cache where this listItem is currently stored.\r\n         * @returns {object} Promise which really only lets us know the request is complete.\r\n         * @example\r\n         * ```\r\n         * <ul>\r\n         *    <li ng-repeat=\"task in tasks\">\r\n         *        {{task.title}} <a href ng-click=\"task.deleteItem()>delete</a>\r\n         *    </li>\r\n         * </ul>\r\n         * ```\r\n         * List of tasks.  When the delete link is clicked, the list item item is removed from the local cache and\r\n         * the view is updated to no longer show the task.\r\n         */\r\n        deleteItem(options?: IListItemCrudOptions<T>): ng.IPromise<any> {\r\n            var listItem = this;\r\n            var model = listItem.getModel();\r\n            var deferred = $q.defer();\r\n\r\n            if (_.isFunction(listItem.preDeleteAction) && !listItem.preDeleteAction()) {\r\n                //preDeleteAction exists but returned false so we don't delete\r\n                deferred.reject('Pre-Delete Action Returned False');\r\n            } else {\r\n\r\n                apDataService.deleteListItem(model, listItem, options)\r\n                    .then((response) => {\r\n                        deferred.resolve(response);\r\n                        /** Optionally broadcast change event */\r\n                        apUtilityService.registerChange(model, 'delete', listItem.id);\r\n                    });\r\n            }\r\n\r\n            return deferred.promise;\r\n        }\r\n\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name ListItem.getAttachmentCollection\r\n         * @description\r\n         * Requests all attachments for a given list item.\r\n         * @returns {object} Promise which resolves with all attachments for a list item.\r\n         * @example\r\n         * <pre>\r\n         * //Pull down all attachments for the current list item\r\n         * var fetchAttachments = function (listItem) {\r\n             *     listItem.getAttachmentCollection()\r\n             *         .then(function (attachments) {\r\n             *             scope.attachments = attachments;\r\n             *         });\r\n             * };\r\n         * </pre>\r\n         */\r\n        getAttachmentCollection(): ng.IPromise<string[]> {\r\n            var listItem = this;\r\n            return apDataService.getCollection({\r\n                operation: 'GetAttachmentCollection',\r\n                listName: listItem.getModel().list.getListId(),\r\n                webURL: listItem.getModel().list.webURL,\r\n                ID: listItem.id,\r\n                filterNode: 'Attachment'\r\n            });\r\n        }\r\n\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name ListItem.getAvailableWorkflows\r\n         * @description\r\n         * Wrapper for apDataService.getAvailableWorkflows.  Simply passes the current item in.\r\n         * @returns {promise} Array of objects defining each of the available workflows.\r\n         */\r\n        getAvailableWorkflows(): ng.IPromise<IWorkflowDefinition[]> {\r\n            var listItem = this;\r\n            return apDataService.getAvailableWorkflows(listItem.fileRef.lookupValue);\r\n        }\r\n\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name ListItem.getChanges\r\n         * @description\r\n         * Wrapper for model.getListItemById.  Queries server for any changes and extends the existing\r\n         * list item with those changes.\r\n         * @returns {promise} Promise which resolves with the updated list item.\r\n         */\r\n        getChanges(): ng.IPromise<T> {\r\n            var model = this.getModel();\r\n            return model.getListItemById(this.id);\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name ListItem.getFieldChoices\r\n         * @param {string} fieldName Internal field name.\r\n         * @description\r\n         * Uses the field definition defined in the model to attempt to find the choices array for a given Lookup or\r\n         * MultiLookup type field.  The default value is fieldDefinition.choices which can optionally be added to a\r\n         * given field definition.  If this isn't found, we check fieldDefinition.Choices which is populated after a\r\n         * GetListItemsSinceToken operation or a Model.extendListMetadata operation.  Finally if that isn't available\r\n         * we return an empty array.\r\n         * @returns {string[]} An array of choices for a Choice or MultiChoice type field.\r\n         */\r\n        getFieldChoices(fieldName: string): string[] {\r\n            var listItem = this;\r\n            var fieldDefinition = listItem.getFieldDefinition(fieldName);\r\n            return fieldDefinition.choices || fieldDefinition.Choices || [];\r\n        }\r\n\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name ListItem.getFieldDefinition\r\n         * @description\r\n         * Returns the field definition from the definitions defined in the custom fields array within a model.\r\n         * @example\r\n         * <pre>\r\n         * var project = {\r\n             *    title: 'Project 1',\r\n             *    location: {\r\n             *        lookupId: 5,\r\n             *        lookupValue: 'Some Building'\r\n             *    }\r\n             * };\r\n         *\r\n         * //To get field metadata\r\n         * var locationDefinition = project.getFieldDefinition('location');\r\n         * </pre>\r\n         * @param {string} fieldName Internal field name.\r\n         * @returns {object} Field definition.\r\n         */\r\n        getFieldDefinition(fieldName: string): IExtendedFieldDefinition {\r\n            var listItem = this;\r\n            return listItem.getModel().getFieldDefinition(fieldName);\r\n        }\r\n\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name ListItem.getFieldDescription\r\n         * @param {string} fieldName Internal field name.\r\n         * @description\r\n         * Uses the field definition defined in the model to attempt to find the description for a given field.  The default\r\n         * value is fieldDefinition.Description which is populated after a GetListItemsSinceToken operation or a\r\n         * Model.extendListMetadata operation.  If this isn't available we look for an optional attribute of a field\r\n         * fieldDefinition.description.  Finally if that have anything it returns an empty string.\r\n         * @returns {string} The description for a given field object.\r\n         */\r\n        getFieldDescription(fieldName: string): string {\r\n            var listItem = this;\r\n            var fieldDefinition = listItem.getFieldDefinition(fieldName);\r\n            return fieldDefinition.description || fieldDefinition.Description || '';\r\n        }\r\n\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name ListItem.getFieldLabel\r\n         * @param {string} fieldName Internal field name.\r\n         * @description\r\n         * Uses the field definition defined in the model to attempt to find the label for a given field.  The default\r\n         * value is fieldDefinition.label.  If not available it will then use fieldDefinition.DisplayName which is\r\n         * populated after a GetListItemsSinceToken operation or a Model.extendListMetadata operation.  If this isn't\r\n         * available it will fallback to the the fieldDefinition.DisplayName which is a best guess at converting the\r\n         * caml case version of the mapped name using apUtilityService.fromCamelCase.\r\n         * @returns {string} The label for a given field object.\r\n         */\r\n        getFieldLabel(fieldName: string): string {\r\n            var listItem = this;\r\n            var fieldDefinition = listItem.getFieldDefinition(fieldName);\r\n            return fieldDefinition.label || fieldDefinition.DisplayName || fieldDefinition.displayName;\r\n        }\r\n\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name ListItem.getFieldVersionHistory\r\n         * @description\r\n         * Takes an array of field names, finds the version history for field, and returns a snapshot of the object at each\r\n         * version.  If no fields are provided, we look at the field definitions in the model and pull all non-readonly\r\n         * fields.  The only way to do this that I've been able to get working is to get the version history for each\r\n         * field independently and then build the history by combining the server responses for each requests into a\r\n         * snapshot of the object.  Each version has the standard modified date but also includes a version property with\r\n         * the version number.\r\n         * @param {string[]} [fieldNames] An array of field names that we're interested in.\r\n         * @returns {ng.IPromise<IListItemVersion<T>>} Promise which resolves with an array of list item versions.\r\n         * @example\r\n         * Assuming we have a modal form where we want to display each version of the title and project fields\r\n         * of a given list item.\r\n         * <pre>\r\n         * myGenericListItem.getFieldVersionHistory(['title', 'project'])\r\n         *     .then(function(versionHistory) {\r\n         *            // We now have an array of every version of these fields\r\n         *            $scope.versionHistory = versionHistory;\r\n         *      };\r\n         * </pre>\r\n         */\r\n        getFieldVersionHistory(fieldNames?: string[]| string): ng.IPromise<IListItemVersion<T>[]> {\r\n            var deferred = $q.defer();\r\n            var listItem = this;\r\n            var model = listItem.getModel();\r\n            var promiseArray = [];\r\n\r\n            /** Constructor that creates a promise for each field */\r\n            var createPromise = (fieldName) => {\r\n\r\n                var fieldDefinition = _.find(model.list.fields, { mappedName: fieldName });\r\n\r\n                var payload = {\r\n                    operation: 'GetVersionCollection',\r\n                    strlistID: model.list.getListId(),\r\n                    strlistItemID: listItem.id,\r\n                    strFieldName: fieldDefinition.staticName,\r\n                    webURL: undefined\r\n                };\r\n\r\n                /** Manually set site url if defined, prevents SPServices from making a blocking call to fetch it. */\r\n                if (apConfig.defaultUrl) {\r\n                    payload.webURL = apConfig.defaultUrl;\r\n                }\r\n\r\n                promiseArray.push(apDataService.getFieldVersionHistory(payload, fieldDefinition));\r\n            };\r\n\r\n            if (!fieldNames) {\r\n                /** If fields aren't provided, pull the version history for all NON-readonly fields */\r\n                var targetFields = _.where(model.list.fields, { readOnly: false });\r\n                fieldNames = [];\r\n                _.each(targetFields, (field) => {\r\n                    fieldNames.push(field.mappedName);\r\n                });\r\n            } else if (_.isString(fieldNames)) {\r\n                /** If a single field name is provided, add it to an array so we can process it more easily */\r\n                fieldNames = [fieldNames];\r\n            }\r\n\r\n            /** Generate promises for each field */\r\n            _.each(fieldNames, (fieldName) => {\r\n                createPromise(fieldName);\r\n            });\r\n\r\n            /** Pause until all requests are resolved */\r\n            $q.all(promiseArray).then((changes) => {\r\n                var versionHistory = {};\r\n\r\n                /** All fields should have the same number of versions */\r\n                _.each(changes, (fieldVersions) => {\r\n\r\n                    _.each(fieldVersions, (fieldVersion) => {\r\n                        /** Create a new version object if it doesn't already exist */\r\n                        versionHistory[fieldVersion.modified.toJSON()] =\r\n                        versionHistory[fieldVersion.modified.toJSON()] || {};\r\n\r\n                        /** Add field to the version history for this version */\r\n                        _.assign(versionHistory[fieldVersion.modified.toJSON()], fieldVersion);\r\n                    });\r\n                });\r\n\r\n                var versionArray: IListItemVersion<T>[] = [];\r\n                var versionCounter = 1;\r\n\r\n                /** Add a version prop on each version to identify the numeric sequence */\r\n                _.each(versionHistory, (ver: IListItemVersion<T>) => {\r\n                    ver.version = versionCounter;\r\n                    versionCounter++;\r\n                    /** Convert JSON date into JS Date */\r\n                    ver.modified = apDecodeService.jsDate(ver.modified);\r\n                    versionArray.push(ver);\r\n                });\r\n\r\n                deferred.resolve(versionArray);\r\n            });\r\n\r\n            return deferred.promise;\r\n        }\r\n\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name ListItem.getFormattedValue\r\n         * @description\r\n         * Given the attribute name on a listItem, we can lookup the field type and from there return a formatted\r\n         * string representation of that value.\r\n         * @param {string} fieldName Attribute name on the object that contains the value to stringify.\r\n         * @param {object} [options] Pass through to apFormattedFieldValueService.getFormattedFieldValue or any\r\n         * custom method specified on the field definition.\r\n         * @returns {string} Formatted string representing the field value.\r\n         */\r\n        getFormattedValue(fieldName: string, options?: Object): string {\r\n            var listItem = this;\r\n            var fieldDefinition = listItem.getFieldDefinition(fieldName);\r\n            if (!fieldDefinition) {\r\n                throw `A field definition for a field named ${fieldName} wasn't found.`;\r\n            }\r\n            return fieldDefinition.getFormattedValue(this, options);\r\n        }\r\n\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name ListItem.getList\r\n         * @description\r\n         * Abstraction to allow logic in model to be used instead of defining the list location in more than one place.\r\n         * @returns {object} List for the list item.\r\n         */\r\n        getList(): List {\r\n            var model: Model = this.getModel();\r\n            return model.getList();\r\n        }\r\n\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name ListItem.getListId\r\n         * @description\r\n         * Allows us to reference the list ID directly from the list item.  This is added to the\r\n         * model.factory prototype in apModelFactory.\r\n         * @returns {string} List ID.\r\n         */\r\n        getListId(): string {\r\n            var model = this.getModel();\r\n            return model.getListId();\r\n        }\r\n\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name ListItem.getLookupReference\r\n         * @description\r\n         * Allows us to retrieve the listItem being referenced in a given lookup field.\r\n         * @param {string} fieldName Name of the lookup property on the list item that references a listItem.\r\n         * @param {number} [lookupId=listItem.fieldName.lookupId] The listItem.lookupId of the lookup object.  This allows us to also use this logic\r\n         * on a multi-select by iterating over each of the lookups.\r\n         * @example\r\n         * <pre>\r\n         * var project = {\r\n             *    title: 'Project 1',\r\n             *    location: {\r\n             *        lookupId: 5,\r\n             *        lookupValue: 'Some Building'\r\n             *    }\r\n             * };\r\n         *\r\n         * //To get the location listItem\r\n         * var listItem = project.getLookupReference('location');\r\n         * </pre>\r\n         * @returns {object} The listItem the lookup is referencing or undefined if not in the cache.\r\n         */\r\n        getLookupReference<T2 extends ListItem<any>>(fieldName: string, lookupId?: number): T2 {\r\n            var listItem = this;\r\n            var lookupReference;\r\n            if (_.isUndefined(fieldName)) {\r\n                throw new Error('A field name is required.');\r\n            } else if (_.isEmpty(listItem[fieldName])) {\r\n                lookupReference = '';\r\n            } else {\r\n                var model = listItem.getModel();\r\n                var fieldDefinition = model.getFieldDefinition(fieldName);\r\n                /** Ensure the field definition has the List attribute which contains the GUID of the list\r\n                 *  that a lookup is referencing. */\r\n                if (fieldDefinition && fieldDefinition.List) {\r\n                    var targetId = lookupId || listItem[fieldName].lookupId;\r\n                    lookupReference = apCacheService.getCachedEntity(fieldDefinition.List, targetId);\r\n                } else {\r\n                    throw new Error('This isn\\'t a valid Lookup field or the field definitions need to be extended ' +\r\n                        'before we can complete this request.');\r\n                }\r\n            }\r\n            return lookupReference;\r\n\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name ListItem.prototype.registerPreDeleteAction\r\n         * @param {Function} action Function that accepts no arguments and returns a boolean determining if delete can continue.\r\n         * @returns {Function} Function that can be called to unregister.\r\n         * @description\r\n         * Register a function on the list item prototype that is executed prior to deleting.  Good use case\r\n         * is to perform cleanup prior to deleting or determining if user can delete.  Method returns boolean and if\r\n         * true delete will continue, otherwise delete is prevented. There is no ListItem.registerPostDeleteAction because\r\n         * the list item no longer exists.\r\n         *\r\n         * @example\r\n         * <pre>\r\n         * //In example projectsModel.ts\r\n         *  export class Project extends ap.ListItem<Project>{\r\n         *      title: string;\r\n         *      users: User[];\r\n         *      ...some other expected attributes\r\n         *      constructor(obj) {\r\n         *          super(obj);\r\n         *          _.assign(this, obj);\r\n         *      }\r\n         *  }\r\n         *\r\n         *  let unregister = Project.prototype.registerPreDeleteAction(function() {\r\n         *      //Do some validation here and return true if user can delete\r\n         *      //otherwise return false to prevent delete action\r\n         *  });\r\n         *\r\n         *  //At some point in the future if no longer necessary\r\n         *  unregister();\r\n         *\r\n         * </pre>\r\n         */\r\n        registerPreDeleteAction(action: () => boolean): () => void {\r\n            this.preDeleteAction = action;\r\n            //Return function to unregister\r\n            return () => delete this.preDeleteAction;\r\n        }\r\n\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name ListItem.prototype.registerPreSaveAction\r\n         * @param {Function} action Function that accepts no arguments and returns a boolean determining is save can continue.\r\n         * @returns {Function} Function that can be called to unregister.\r\n         * @description\r\n         * Register a function on the list item prototype that is executed prior to saving.  Good use case\r\n         * is to validate list item or perform cleanup prior to saving.  Method returns boolean and if\r\n         * true save will continue, otherwise save is prevented.\r\n         *\r\n         * @example\r\n         * <pre>\r\n         * //In example projectsModel.ts\r\n         *  export class Project extends ap.ListItem<Project>{\r\n         *      title: string;\r\n         *      users: User[];\r\n         *      ...some other expected attributes\r\n         *      constructor(obj) {\r\n         *          super(obj);\r\n         *          _.assign(this, obj);\r\n         *      }\r\n         *  }\r\n         *\r\n         *  let unregister = Project.prototype.registerPreSaveAction(function() {\r\n         *      //Do some validation here and return true if user can save\r\n         *      //otherwise return false to prevent save action\r\n         *  });\r\n         *\r\n         *  //At some point in the future if no longer necessary\r\n         *  unregister();\r\n         *\r\n         * </pre>\r\n         */\r\n        registerPreSaveAction(action: () => boolean): () => void {\r\n            this.preSaveAction = action;\r\n            //Return function to unregister\r\n            return () => delete this.preSaveAction;\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name ListItem.prototype.registerPostSaveAction\r\n         * @param {Function} action Callback function that accepts no arguments, returns nothing, and is called\r\n         * after a list item has completed saving.\r\n         * @returns {Function} Function that can be called to unregister.\r\n         * @description\r\n         * Register a function on the model prototype that is executed after saving.  Good use case\r\n         * is to perform cleanup after save.\r\n         *\r\n         * @example\r\n         * <pre>\r\n         * //In example projectsModel.ts\r\n         *  export class Project extends ap.ListItem<Project>{\r\n         *      title: string;\r\n         *      users: User[];\r\n         *      ...some other expected attributes\r\n         *      constructor(obj) {\r\n         *          super(obj);\r\n         *          _.assign(this, obj);\r\n         *      }\r\n         *  }\r\n         *\r\n         *  let unregister = Project.prototype.registerPostSaveAction(function() {\r\n         *      //Use this method to perform any cleanup after save event\r\n         *      //for any list item of this type\r\n         *  });\r\n         *\r\n         *  //At some point in the future if no longer necessary\r\n         *  unregister();\r\n         *\r\n         * </pre>\r\n         */\r\n        registerPostSaveAction(action: () => void): () => void {\r\n            this.postSaveAction = action;\r\n            //Return function to unregister\r\n            return () => delete this.postSaveAction;\r\n        }\r\n\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name ListItem.resolvePermissions\r\n         * @description\r\n         * See apModelService.resolvePermissions for details on what we expect to have returned.\r\n         * @returns {Object} Contains properties for each permission level evaluated for current user.\r\n         * @example\r\n         * Lets assume we're checking to see if a user has edit rights for a given task list item.\r\n         * <pre>\r\n         * var canUserEdit = function(task) {\r\n         *      var userPermissions = task.resolvePermissions();\r\n         *      return userPermissions.EditListItems;\r\n         * };\r\n         * </pre>\r\n         * Example of what the returned object would look like\r\n         * for a site admin.\r\n         * <pre>\r\n         * userPermissions = {\r\n         *    \"ViewListItems\": true,\r\n         *    \"AddListItems\": true,\r\n         *    \"EditListItems\": true,\r\n         *    \"DeleteListItems\": true,\r\n         *    \"ApproveItems\": true,\r\n         *    \"OpenItems\": true,\r\n         *    \"ViewVersions\": true,\r\n         *    \"DeleteVersions\": true,\r\n         *    \"CancelCheckout\": true,\r\n         *    \"PersonalViews\": true,\r\n         *    \"ManageLists\": true,\r\n         *    \"ViewFormPages\": true,\r\n         *    \"Open\": true,\r\n         *    \"ViewPages\": true,\r\n         *    \"AddAndCustomizePages\": true,\r\n         *    \"ApplyThemeAndBorder\": true,\r\n         *    \"ApplyStyleSheets\": true,\r\n         *    \"ViewUsageData\": true,\r\n         *    \"CreateSSCSite\": true,\r\n         *    \"ManageSubwebs\": true,\r\n         *    \"CreateGroups\": true,\r\n         *    \"ManagePermissions\": true,\r\n         *    \"BrowseDirectories\": true,\r\n         *    \"BrowseUserInfo\": true,\r\n         *    \"AddDelPrivateWebParts\": true,\r\n         *    \"UpdatePersonalWebParts\": true,\r\n         *    \"ManageWeb\": true,\r\n         *    \"UseRemoteAPIs\": true,\r\n         *    \"ManageAlerts\": true,\r\n         *    \"CreateAlerts\": true,\r\n         *    \"EditMyUserInfo\": true,\r\n         *    \"EnumeratePermissions\": true,\r\n         *    \"FullMask\": true\r\n         * }\r\n         * </pre>\r\n         */\r\n        resolvePermissions(): IUserPermissionsObject {\r\n            return apUtilityService.resolvePermissions(this.permMask);\r\n        }\r\n\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name ListItem.saveChanges\r\n         * @description\r\n         * Updates record directly from the object\r\n         * @param {object} [options] Optionally pass params to the data service.\r\n         * @param {boolean} [options.updateAllCaches=false] Search through the cache for each query to ensure listItem is\r\n         * updated everywhere.  This is more process intensive so by default we only update the cached listItem in the\r\n         * cache where this listItem is currently stored.\r\n         * @returns {object} Promise which resolved with the updated list item from the server.\r\n         * @example\r\n         * <pre>\r\n         * // Example of save function on a fictitious\r\n         * // app/modules/tasks/TaskDetailsCtrl.js modal form.\r\n         * $scope.saveChanges = function(task) {\r\n         *      task.saveChanges().then(function() {\r\n         *          // Successfully saved so we can do something\r\n         *          // like close form\r\n         *\r\n         *          }, function() {\r\n         *          // Failure\r\n         *\r\n         *          });\r\n         * }\r\n         * </pre>\r\n         */\r\n        saveChanges(options?: IListItemCrudOptions<T>): ng.IPromise<T> {\r\n            var listItem = this;\r\n            var model = listItem.getModel();\r\n            var deferred = $q.defer();\r\n\r\n            if (_.isFunction(listItem.preSaveAction) && !listItem.preSaveAction()) {\r\n                //preSaveAction exists but returned false so we don't save\r\n                deferred.reject('Pre-Save Action Returned False');\r\n            } else {\r\n                //Either no preSaveAction registered or it passed validation\r\n\r\n                /** Redirect if the request is actually creating a new list item.  This can occur if we create\r\n                 * an empty item that is instantiated from the model and then attempt to save instead of using\r\n                 * model.addNewItem */\r\n                if (!listItem.id) {\r\n                    return model.addNewItem(listItem, options);\r\n                }\r\n\r\n                apDataService.updateListItem<T>(model, listItem, options)\r\n                    .then((updatedListItem) => {\r\n                        deferred.resolve(updatedListItem);\r\n                        /** Optionally broadcast change event */\r\n                        apUtilityService.registerChange(model, 'update', updatedListItem.id);\r\n\r\n                        //Optionally perform any post save cleanup if registered\r\n                        if (_.isFunction(listItem.postSaveAction)) {\r\n                            listItem.postSaveAction();\r\n                        };\r\n                    });\r\n            }\r\n\r\n            return deferred.promise;\r\n        }\r\n\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name ListItem.saveFields\r\n         * @description\r\n         * Saves a named subset of fields back to SharePoint.  This is an alternative to saving all fields.\r\n         * @param {array|string} fieldArray Array of internal field names that should be saved to SharePoint or a single\r\n         * string to save an individual field.\r\n         * @param {object} [options] Optionally pass params to the data service.\r\n         * @param {boolean} [options.updateAllCaches=false] Search through the cache for each query to ensure listItem is\r\n         * updated everywhere.  This is more process intensive so by default we only update the cached listItem in the\r\n         * cache where this listItem is currently stored.\r\n         * @returns {object} Promise which resolves with the updated list item from the server.\r\n         * @example\r\n         * <pre>\r\n         * // Example of saveFields function on a fictitious\r\n         * // app/modules/tasks/TaskDetailsCtrl.js modal form.\r\n         * // Similar to saveChanges but instead we only save\r\n         * // specified fields instead of pushing everything.\r\n         * $scope.updateStatus = function(task) {\r\n         *      task.saveFields(['status', 'notes']).then(function() {\r\n         *          // Successfully updated the status and\r\n         *          // notes fields for the given task\r\n         *\r\n         *          }, function() {\r\n         *          // Failure to update the field\r\n         *\r\n         *          });\r\n         * }\r\n         * </pre>\r\n         */\r\n        saveFields(fieldArray: string[], options?: IListItemCrudOptions<T>): ng.IPromise<T> {\r\n\r\n            var listItem = this;\r\n            var model = listItem.getModel();\r\n            var deferred = $q.defer();\r\n            var definitions = [];\r\n            /** Allow a string to be passed in to save a single field */\r\n            var fieldNames = _.isString(fieldArray) ? [fieldArray] : fieldArray;\r\n            /** Find the field definition for each of the requested fields */\r\n            _.each(fieldNames, (field) => {\r\n                var match = _.find(model.list.customFields, { mappedName: field });\r\n                if (match) {\r\n                    definitions.push(match);\r\n                }\r\n            });\r\n\r\n            /** Generate value pairs for specified fields */\r\n            var valuePairs = apEncodeService.generateValuePairs(definitions, listItem);\r\n\r\n            var defaults = { buildValuePairs: false, valuePairs: valuePairs };\r\n\r\n            /** Extend defaults with any provided options */\r\n            var opts = _.assign({}, defaults, options);\r\n\r\n            apDataService.updateListItem<T>(model, listItem, opts)\r\n                .then((updatedListItem) => {\r\n                    deferred.resolve(updatedListItem);\r\n                    /** Optionally broadcast change event */\r\n                    apUtilityService.registerChange(model, 'update', updatedListItem.id);\r\n                });\r\n\r\n            return deferred.promise;\r\n        }\r\n\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name ListItem.setPristine\r\n         * @param {ListItem} [listItem] Optionally pass list item object back to the list item constructor to\r\n         * run any initialization logic.  Otherwise we just overwrite existing values on the object with a copy from the\r\n         * original object.\r\n         * @description\r\n         * Resets all list item properties back to a pristine state but doesn't update any properties added\r\n         * manually to the list item.\r\n         */\r\n        setPristine(listItem?: ListItem<any>): void {\r\n            if (!this.id || !_.isFunction(this.getPristine)) {\r\n                throw new Error('Unable to find the pristine state for this list item.');\r\n            }\r\n            var pristineState = this.getPristine();\r\n\r\n            if (listItem) {\r\n                listItem.constructor(pristineState);\r\n            } else {\r\n                _.assign(this, pristineState);\r\n            }\r\n        }\r\n\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name ListItem.startWorkflow\r\n         * @description\r\n         * Given a workflow name or templateId we initiate a given workflow using apDataService.startWorkflow.\r\n         * @param {object} options Params for method and pass through options to apDataService.startWorkflow.\r\n         * @param {string} [options.templateId] Used to directly start the workflow without looking up the templateId.\r\n         * @param {string} [options.workflowName] Use this value to lookup the templateId and then start the workflow.\r\n         * @returns {promise} Resolves with server response.\r\n         */\r\n        startWorkflow(options: IStartWorkflowParams): ng.IPromise<any> {\r\n            var listItem = this,\r\n                deferred = $q.defer();\r\n\r\n            /** Set the relative file reference */\r\n            options.fileRef = listItem.fileRef.lookupValue;\r\n\r\n            if (!options.templateId && !options.workflowName) {\r\n                throw 'Either a templateId or workflowName is required to initiate a workflow.';\r\n            } else if (options.templateId) {\r\n                /** The templateId is already provided so we don't need to look for it */\r\n                initiateRequest();\r\n            } else {\r\n                /** We first need to get the template GUID for the workflow */\r\n                listItem.getAvailableWorkflows()\r\n                    .then((workflows) => {\r\n                        var targetWorklow = _.findWhere(workflows, { name: options.workflowName });\r\n                        if (!targetWorklow) {\r\n                            throw 'A workflow with the specified name wasn\\'t found.';\r\n                        }\r\n                        /** Create an extended set of options to pass any overrides to apDataService */\r\n                        options.templateId = targetWorklow.templateId;\r\n                        initiateRequest();\r\n                    });\r\n            }\r\n\r\n            return deferred.promise;\r\n\r\n            function initiateRequest() {\r\n                apDataService.startWorkflow(options)\r\n                    .then((xmlResponse) => {\r\n                        deferred.resolve(xmlResponse);\r\n                    });\r\n            }\r\n        }\r\n\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name ListItem.validateEntity\r\n         * @description\r\n         * Helper function that passes the current item to Model.validateEntity\r\n         * @param {object} [options] Optionally pass params to the dataService.\r\n         * @param {boolean} [options.toast=true] Set to false to prevent toastr messages from being displayed.\r\n         * @returns {boolean} Evaluation of validity.\r\n         */\r\n        validateEntity(options?: Object): boolean {\r\n            var listItem = this,\r\n                model = listItem.getModel();\r\n            return model.validateEntity(listItem, options);\r\n        }\r\n\r\n    }\r\n\r\n\r\n    /** In the event that a factory isn't specified, just use a\r\n     * standard constructor to allow it to inherit from ListItem */\r\n    export class StandardListItem {\r\n        constructor(obj?: Object) {\r\n            _.assign(this, obj);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @ngdoc object\r\n     * @name apListItemFactory\r\n     * @description\r\n     * Exposes the ListItem prototype and a constructor to instantiate a new ListItem.\r\n     * See [ListItem](#/api/ListItem) for details of the methods available on the prototype.\r\n     *\r\n     * @requires ListItem\r\n     * @requires apCacheService\r\n     * @requires apDataService\r\n     * @requires apUtilityService\r\n     */\r\n\r\n    export class ListItemFactory {\r\n        ListItem = ListItem;\r\n        static $inject = ['$q', 'apCacheService', 'apConfig', 'apDataService', 'apDecodeService', 'apEncodeService', 'apUtilityService', 'toastr'];\r\n\r\n        constructor(_$q_, _apCacheService_, _apConfig_, _apDataService_, _apDecodeService_, _apEncodeService_, _apUtilityService_, _toastr_) {\r\n            $q = _$q_;\r\n            apCacheService = _apCacheService_;\r\n            apConfig = _apConfig_;\r\n            apDataService = _apDataService_;\r\n            apDecodeService = _apDecodeService_;\r\n            apEncodeService = _apEncodeService_;\r\n            apUtilityService = _apUtilityService_;\r\n            toastr = _toastr_;\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name apListItemFactory: create\r\n         * @methodOf apListItemFactory\r\n         * @description\r\n         * Instantiates and returns a new ListItem.\r\n         */\r\n        create<T extends ListItem<any>>(): T {\r\n            return new ListItem<T>();\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name apListItemFactory: createGenericFactory\r\n         * @methodOf apListItemFactory\r\n         * @description\r\n         * In the event that a factory isn't specified, just use a\r\n         * standard constructor to allow it to inherit from ListItem\r\n         */\r\n        createGenericFactory() {\r\n            return new StandardListItem();\r\n        }\r\n\r\n    }\r\n\r\n    angular\r\n        .module('angularPoint')\r\n        .service('apListItemFactory', ListItemFactory);\r\n}\r\n","/// <reference path=\"../app.module.ts\" />\r\n\r\nmodule ap {\r\n    'use strict';\r\n\r\n    var $q, apUtilityService;\r\n\r\n    export interface ILookup {\r\n        lookupValue: string;\r\n        lookupId: number;\r\n    }\r\n\r\n    /**\r\n     * @ngdoc function\r\n     * @name Lookup\r\n     * @description\r\n     * Allows for easier distinction when debugging if object type is shown as either Lookup or User.  Also allows us\r\n     * to create an async request for the entity being referenced by the lookup\r\n     * @param {string} s String to split into lookupValue and lookupId\r\n     * @param {object} options Contains a reference to the parent list item and the property name.\r\n     * @param {object} options.entity Reference to parent list item.\r\n     * @param {object} options.propertyName Key on list item object.\r\n     * @constructor\r\n     */\r\n    export class Lookup implements ILookup{\r\n        lookupId:number;\r\n        lookupValue:string;\r\n\r\n        constructor(s, options) {\r\n            var lookup = this;\r\n            var thisLookup = new apUtilityService.SplitIndex(s);\r\n            lookup.lookupId = thisLookup.id;\r\n            lookup.lookupValue = thisLookup.value || '';\r\n        }\r\n    }\r\n\r\n\r\n    export class LookupFactory {\r\n        Lookup = Lookup;\r\n        static $inject = ['$q', 'apUtilityService'];\r\n        constructor(_$q_, _apUtilityService_) {\r\n            $q = _$q_;\r\n            apUtilityService = _apUtilityService_;\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name angularPoint.apLookupFactory:create\r\n         * @methodOf angularPoint.apLookupFactory\r\n         * @description\r\n         * Instantiates and returns a new Lookup field.\r\n         */\r\n        create(s, options) {\r\n            return new Lookup(s, options);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @ngdoc function\r\n     * @name angularPoint.apLookupFactory\r\n     * @description\r\n     * Tools to assist with the creation of CAML queries.\r\n     *\r\n     */\r\n    angular.module('angularPoint')\r\n        .service('apLookupFactory', LookupFactory);\r\n\r\n\r\n}\r\n","/// <reference path=\"../app.module.ts\" />\r\n\r\nmodule ap {\r\n    'use strict';\r\n\r\n    var apCacheService: CacheService, apDataService: DataService, apListFactory: ListFactory,\r\n        apQueryFactory: QueryFactory, apUtilityService: UtilityService,\r\n        apFieldService: FieldService, apConfig: IAPConfig, apIndexedCacheFactory: IndexedCacheFactory,\r\n        apDecodeService: DecodeService, $q: ng.IQService, toastr: toastr;\r\n\r\n    export interface IModel {\r\n        addNewItem<T extends ListItem<any>>(entity: Object, options?: Object): ng.IPromise<T>;\r\n        createEmptyItem<T extends ListItem<any>>(overrides?: Object): T;\r\n        deferredListDefinition: ng.IPromise<Object>;\r\n        executeQuery<T extends ListItem<any>>(queryName?: string, options?: Object): ng.IPromise<IndexedCache<T>>;\r\n        extendListMetadata(options?: Object): ng.IPromise<any>;\r\n        factory: IModelFactory;\r\n        generateMockData<T extends ListItem<any>>(options?: Object): T[];\r\n        getAllListItems<T extends ListItem<any>>(): ng.IPromise<IndexedCache<T>>;\r\n        getCache<T extends ListItem<any>>(queryName?: string): IndexedCache<T>;\r\n        getCachedEntities<T extends ListItem<any>>(): IndexedCache<T>;\r\n        getCachedEntity<T extends ListItem<any>>(listItemId: number): T;\r\n        getFieldDefinition(fieldName: string): IExtendedFieldDefinition | FieldDefinition;\r\n        getList(): List;\r\n        getListId(): string;\r\n        getListItemById<T extends ListItem<any>>(listItemId: number, options?: Object): ng.IPromise<T>;\r\n        getModel(): Model;\r\n        getQuery<T extends ListItem<any>>(queryName: string): IQuery<T>;\r\n        isInitialised(): boolean;\r\n        lastServerUpdate: Date;\r\n        list: List;\r\n        queries: IQueriesContainer;\r\n        registerQuery<T extends ListItem<any>>(queryOptions: IQueryOptions): IQuery<T>;\r\n        resolvePermissions(): IUserPermissionsObject;\r\n        validateEntity<T extends ListItem<any>>(listItem: T, options?: Object): boolean;\r\n    }\r\n\r\n    export interface IUninitializedModel {\r\n        factory: Function;\r\n        list: IUninstantiatedList;\r\n        [key: string]: any;\r\n    }\r\n\r\n    export interface IQueriesContainer {\r\n        getAllListItems?: IQuery<any>;\r\n        [key: string]: IQuery<any>\r\n    }\r\n\r\n    interface IModelFactory {\r\n        new <T extends ListItem<any>>(rawObject: Object): T;\r\n    }\r\n\r\n\r\n    /**\r\n     * @ngdoc function\r\n     * @name Model\r\n     * @description\r\n     * Model Constructor\r\n     * Provides the Following\r\n     * - adds an empty \"data\" array\r\n     * - adds an empty \"queries\" object\r\n     * - adds a deferred obj \"ready\"\r\n     * - builds \"model.list\" with constructor\r\n     * - adds \"getAllListItems\" function\r\n     * - adds \"addNewItem\" function\r\n     * @param {object} config Object containing optional params.\r\n     * @param {object} [config.factory = apListItemFactory.createGenericFactory()] - Constructor function for\r\n     * individual list items.\r\n     * @param {boolean} [config.fieldDefinitionsExtended=false] Queries using the GetListItemChangesSinceToken\r\n     * operation return the full list definition along with the requested entities.  The first time one of these\r\n     * queries is executed we will try to extend our field definitions defined in the model with the additional\r\n     * information provided from the server.  Examples are options for a Choice field, display name of the field,\r\n     * field description, and any other field information provided for the fields specified in the model.  This\r\n     * flag is set once the first query is complete so we don't process again.\r\n     * @param {object} config.list - Definition of the list in SharePoint.\r\n     * be passed to the list constructor to extend further\r\n     * @param {string} config.list.title - List name, no spaces.  Offline XML file will need to be\r\n     * named the same (ex: CustomList so xml file would be apConfig.offlineXML + '/CustomList.xml')\r\n     * @param {string} config.list.getListId() - Unique SharePoint ID (ex: '{3DBEB25A-BEF0-4213-A634-00DAF46E3897}')\r\n     * @param {object[]} config.list.customFields - Maps SharePoint fields with names we'll use within the\r\n     * application.  Identifies field types and formats accordingly.  Also denotes if a field is read only.\r\n     * @constructor\r\n     *\r\n     * @example\r\n     * <pre>\r\n     * //Taken from a fictitious projectsModel.ts\r\n     *\r\n     * export class ProjectsModel extends ap.Model {\r\n     *      constructor() {\r\n     *          super({\r\n     *              factory: Project,\r\n     *              list: {\r\n     *                  guid: '{PROJECT LIST GUID}',\r\n     *                  title: 'Projects',\r\n     *                  customFields: [\r\n     *                      {\r\n     *                         staticName: 'Title',\r\n     *                         objectType: 'Text',\r\n     *                         mappedName: 'title',\r\n     *                         readOnly: false\r\n     *                      },\r\n     *                      {\r\n     *                         staticName: 'Customer',\r\n     *                         objectType: 'Lookup',\r\n     *                         mappedName: 'customer',\r\n     *                         readOnly: false\r\n     *                      },\r\n     *                      {\r\n     *                         staticName: 'ProjectDescription',\r\n     *                         objectType: 'Text',\r\n     *                         mappedName: 'projectDescription',\r\n     *                         readOnly: false\r\n     *                      },\r\n     *                      {\r\n     *                         staticName: 'Status',\r\n     *                         objectType: 'Text',\r\n     *                         mappedName: 'status',\r\n     *                         readOnly: false\r\n     *                      },\r\n     *                      {\r\n     *                         staticName: 'TaskManager',\r\n     *                         objectType: 'User',\r\n     *                         mappedName: 'taskManager',\r\n     *                         readOnly: false\r\n     *                      },\r\n     *                      {\r\n     *                         staticName: 'ProjectGroup',\r\n     *                         objectType: 'Lookup',\r\n     *                         mappedName: 'group',\r\n     *                         readOnly: false\r\n     *                      },\r\n     *                      {\r\n     *                         staticName: 'CostEstimate',\r\n     *                         objectType: 'Currency',\r\n     *                         mappedName: 'costEstimate',\r\n     *                         readOnly: false\r\n     *                      },\r\n     *                      {\r\n     *                         staticName: 'Active',\r\n     *                         objectType: 'Boolean',\r\n     *                         mappedName: 'active',\r\n     *                         readOnly: false\r\n     *                      },\r\n     *                      {\r\n     *                         staticName: 'Attachments',\r\n     *                         objectType: 'Attachments',\r\n     *                         mappedName: 'attachments',\r\n     *                         readOnly: true\r\n     *                      }\r\n     *                  ]\r\n     *              }\r\n     *          });\r\n     *\r\n     *          var model = this;\r\n     *\r\n     *          //Any other model setup\r\n     *      }\r\n     *      someExposedModelMethod() {\r\n     *          this.dosomething...\r\n     *      }\r\n     *\r\n     *   }\r\n     * </pre>\r\n     */\r\n    export class Model implements IModel {\r\n        data = [];\r\n        deferredListDefinition;\r\n        list: List;\r\n        factory: IModelFactory;\r\n        fieldDefinitionsExtended: boolean = false;\r\n        lastServerUpdate: Date;\r\n        queries: IQueriesContainer = {};\r\n        requestForFieldDefinitions;\r\n        constructor(config: IUninitializedModel) {\r\n\r\n            /** Assign all properties of config to the model */\r\n            _.assign(this, config);\r\n\r\n            /** Allow us to reference the model directly from the list item's factory prototype */\r\n            this.factory.prototype.getModel = () => this;\r\n\r\n            /** Use list constructor to instantiate valid list */\r\n            this.list = new List(this.list);\r\n\r\n            /** Register cache name with cache service so we can map factory name with list GUID */\r\n            apCacheService.registerModel(this);\r\n\r\n            /** Convenience query that simply returns all list items within a list. */\r\n            this.registerQuery({\r\n                name: 'getAllListItems',\r\n                operation: 'GetListItems'\r\n            });\r\n\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name Model.addNewItem\r\n         * @module Model\r\n         * @description\r\n         * Using the definition of a list stored in a model, create a new list item in SharePoint.\r\n         * @param {object} entity An object that will be converted into key/value pairs based on the field definitions\r\n         * defined in the model.\r\n         * @param {object} [options] - Pass additional options to the data service.\r\n         * @returns {object} A promise which when resolved will returned the newly created list item from there server.\r\n         * This allows us to update the view with a valid new object that contains a unique list item id.\r\n         *\r\n         * @example\r\n         * <pre>\r\n         * <file name=\"app/modules/project/projectsModel.js\">\r\n         * projectModel.addNewItem({\r\n         *        title: 'A Project',\r\n         *        customer: {lookupValue: 'My Customer', lookupId: 123},\r\n         *        description: 'This is the project description'\r\n         *     }).then(function(newEntityFromServer) {\r\n         *         //The local query cache is automatically updated but\r\n         *         //any other dependent logic can go here\r\n         * };\r\n         * </file>\r\n         * </pre>\r\n         */\r\n        addNewItem<T extends ListItem<any>>(entity: Object, options?: Object): ng.IPromise<T> {\r\n            var model = this,\r\n                deferred = $q.defer();\r\n\r\n            apDataService.createListItem(model, entity, options)\r\n                .then((listItem) => {\r\n                    deferred.resolve(listItem);\r\n                    /** Optionally broadcast change event */\r\n                    apUtilityService.registerChange(model, 'create', listItem.id);\r\n                });\r\n            return deferred.promise;\r\n        }\r\n\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name Model.createEmptyItem\r\n         * @module Model\r\n         * @description\r\n         * Creates an object using the editable fields from the model, all attributes are empty based on the field\r\n         * type unless an overrides object is passed in.  The overrides object extends the defaults.  A benefit to this\r\n         * approach is the returned object inherits from the ListItem prototype so we have the ability to call\r\n         * entity.saveChanges instead of calling the model.addNewItem(entity).\r\n         *\r\n         * @param {object} [overrides] - Optionally extend the new empty item with specific values.\r\n         * @returns {object} Newly created list item.\r\n         */\r\n        createEmptyItem<T extends ListItem<any>>(overrides?: Object): T {\r\n            var model = this;\r\n            var newItem = {};\r\n            _.each(model.list.customFields, (fieldDefinition) => {\r\n                /** Create attributes for each non-readonly field definition */\r\n                if (!fieldDefinition.readOnly) {\r\n                    /** Create an attribute with the expected empty value based on field definition type */\r\n                    newItem[fieldDefinition.mappedName] = apFieldService.getDefaultValueForType(fieldDefinition.objectType);\r\n                }\r\n            });\r\n            /** Extend any values that should override the default empty values */\r\n            var rawObject = _.assign({}, newItem, overrides);\r\n            return new model.factory<T>(rawObject);\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name Model.executeQuery\r\n         * @module Model\r\n         * @description\r\n         * The primary method for retrieving data from a query registered on a model.  It returns a promise\r\n         * which resolves to the local cache after post processing entities with constructors.\r\n         *\r\n         * @param {string} [queryName=apConfig.defaultQueryName] A unique key to identify this query\r\n         * @param {object} [options] Pass options to the data service.\r\n         * @returns {object} Promise that when resolves returns an array of list items which inherit from ListItem and\r\n         * optionally go through a defined constructor on the model.\r\n         *\r\n         * @example To call the query or check for changes since the last call.\r\n         * <pre>\r\n         * projectModel.executeQuery('MyCustomQuery').then(function(entities) {\r\n         *      //We now have a reference to array of entities stored in the local cache\r\n         *      //These inherit from the ListItem prototype as well as the Project prototype on the model\r\n         *      $scope.subsetOfProjects = entities;\r\n         *  });\r\n         * </pre>\r\n         */\r\n        executeQuery<T extends ListItem<any>>(queryName?: string, options?: Object): ng.IPromise<IndexedCache<T>> {\r\n            var model = this;\r\n            var query = model.getQuery(queryName);\r\n            if (query) {\r\n                return query.execute(options);\r\n            }\r\n        }\r\n\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name Model.extendListMetadata\r\n         * @module Model\r\n         * @description\r\n         * Extends the List and Fields with list information returned from the server.  Only runs once and after that\r\n         * returns the existing promise.\r\n         * @param {object} [options] Pass-through options to apDataService.getList\r\n         * @returns {object} Promise that is resolved once the information has been added.\r\n         */\r\n        extendListMetadata(options?: Object): ng.IPromise<any> {\r\n            var model = this,\r\n                deferred = $q.defer(),\r\n                defaults = { listName: model.list.getListId() };\r\n\r\n            /** Only request information if the list hasn't already been extended and is not currently being requested */\r\n            if (!model.deferredListDefinition) {\r\n                /** All Future Requests get this */\r\n                model.deferredListDefinition = deferred.promise;\r\n\r\n                var opts = _.assign({}, defaults, options);\r\n                apDataService.getList(opts)\r\n                    .then((responseXML) => {\r\n                        apDecodeService.extendListMetadata(model, responseXML);\r\n                        deferred.resolve(model);\r\n                    });\r\n            }\r\n            return model.deferredListDefinition;\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name Model.generateMockData\r\n         * @module Model\r\n         * @description\r\n         * Generates 'n' mock records for testing using the field types defined in the model to provide something to visualize.\r\n         *\r\n         * @param {object} [options] Object containing optional parameters.\r\n         * @param {number} [options.quantity=10] The requested number of mock records to return.\r\n         * @param {string} [options.permissionLevel=FullMask] Sets the mask on the mock records to simulate desired\r\n         * permission level.\r\n         * @param {boolean} [options.staticValue=false] By default all mock data is dynamically created but if set,\r\n         * this will cause static data to be used instead.\r\n         */\r\n        generateMockData<T extends ListItem<any>>(options?: IMockDataOptions): T[] {\r\n            var mockData = [],\r\n                model = this;\r\n\r\n            var defaults = {\r\n                quantity: 10,\r\n                staticValue: false,\r\n                permissionLevel: 'FullMask'\r\n            };\r\n\r\n            /** Extend defaults with any provided options */\r\n            var opts: IMockDataOptions = _.assign({}, defaults, options);\r\n\r\n            _.times(opts.quantity, (count) => {\r\n                var mock = {\r\n                    id: count + 1\r\n                };\r\n                /** Create an attribute with mock data for each field */\r\n                _.each(model.list.fields, (field: FieldDefinition) => {\r\n                    mock[field.mappedName] = field.getMockData(opts);\r\n                });\r\n\r\n                /** Use the factory on the model to extend the object */\r\n                mockData.push(new model.factory<T>(mock));\r\n            });\r\n            return mockData;\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name Model.getAllListItems\r\n         * @description\r\n         * Inherited from Model constructor\r\n         * Gets all list items in the current list, processes the xml, and caches the data in model.\r\n         * @returns {object} Promise returning all list items when resolved.\r\n         * @example\r\n         * <pre>\r\n         * //Taken from a fictitious projectsModel.js\r\n         * projectModel.getAllListItems().then(function(entities) {\r\n         *     //Do something with all of the returned entities\r\n         *     $scope.projects = entities;\r\n         * };\r\n         * </pre>\r\n         */\r\n        getAllListItems<T extends ListItem<any>>(): ng.IPromise<IndexedCache<T>> {\r\n            var model = this;\r\n            var query = model.queries.getAllListItems;\r\n            return apDataService.executeQuery<T>(model, query, { target: query.indexedCache });\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name Model.getCache\r\n         * @module Model\r\n         * @description\r\n         * Helper function that return the local cache for a named query if provided, otherwise\r\n         * it returns the cache for the primary query for the model.  Useful if you know the query\r\n         * has already been resolved and there's no need to check SharePoint for changes.\r\n         *\r\n         * @param {string} [queryName=apConfig.defaultQueryName] A unique key to identify this query.\r\n         * @returns {Array} Returns the contents of the current cache for a named query.\r\n         *\r\n         * @example\r\n         * <pre>\r\n         * var primaryQueryCache = projectModel.getCache();\r\n         * </pre>\r\n         *\r\n         * <pre>\r\n         * var primaryQueryCache = projectModel.getCache('primary');\r\n         * </pre>\r\n         *\r\n         * <pre>\r\n         * var namedQueryCache = projectModel.getCache('customQuery');\r\n         * </pre>\r\n         */\r\n        getCache<T extends ListItem<any>>(queryName?: string): IndexedCache<T> {\r\n            var model = this, query, cache;\r\n            query = model.getQuery(queryName);\r\n            if (query && query.indexedCache) {\r\n                cache = query.indexedCache;\r\n            }\r\n            return cache;\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name Model.getCachedEntities\r\n         * @module Model\r\n         * @description\r\n         * Returns all entities registered for this model regardless of query.\r\n         * @returns {IndexedCache<T>} All registered entities for this model.\r\n         */\r\n        getCachedEntities<T extends ListItem<any>>(): IndexedCache<T> {\r\n            var model = this;\r\n            return apCacheService.getCachedEntities<T>(model.list.getListId());\r\n        }\r\n\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name Model.getCachedEntity\r\n         * @module Model\r\n         * @description\r\n         * Attempts to locate a model listItem by id.\r\n         * @param {number} listItemId The ID of the requested listItem.\r\n         * @returns {object} Returns either the requested listItem or undefined if it's not found.\r\n         */\r\n        getCachedEntity<T extends ListItem<any>>(listItemId: number): T {\r\n            var model = this;\r\n            return apCacheService.getCachedEntity<T>(model.list.getListId(), listItemId);\r\n        }\r\n\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name Model.getFieldDefinition\r\n         * @module Model\r\n         * @description\r\n         * Returns the field definition from the definitions defined in the custom fields array within a model.\r\n         * <pre>\r\n         * var project = {\r\n         *    title: 'Project 1',\r\n         *    location: {\r\n         *        lookupId: 5,\r\n         *        lookupValue: 'Some Building'\r\n         *    }\r\n         * };\r\n         *\r\n         * //To get field metadata\r\n         * var locationDefinition = projectsModel.getFieldDefinition('location');\r\n         * </pre>\r\n         * @param {string} fieldName Internal field name.\r\n         * @returns {object} Field definition.\r\n         */\r\n        getFieldDefinition(fieldName: string): IExtendedFieldDefinition {\r\n            var model = this;\r\n            return _.find(model.list.fields, { mappedName: fieldName });\r\n        }\r\n\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name ListItem.getList\r\n         * @description\r\n         * Allows us to reference the list definition directly from the list item.  This is added to the\r\n         * model.factory prototype in apModelFactory.  See the [List](#/api/List) documentation for more info.\r\n         * @returns {object} List for the list item.\r\n         */\r\n        getList(): List {\r\n            return this.list;\r\n        }\r\n\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name ListItem.getListId\r\n         * @description\r\n         * Allows us to reference the list ID directly from the model.\r\n         * @returns {string} List ID.\r\n         */\r\n        getListId(): string {\r\n            return this.list.getListId();\r\n        }\r\n\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name Model.getListItemById\r\n         * @param {number} listItemId Id of the item being requested.\r\n         * @param {object} options Used to override apDataService defaults.\r\n         * @description\r\n         * Inherited from Model constructor\r\n         * Attempts to retrieve the requested list item from the server.\r\n         * @returns {object} Promise that resolves with the requested list item if found.  Otherwise it returns undefined.\r\n         * @example\r\n         * <pre>\r\n         * //Taken from a fictitious projectsModel.js\r\n         * projectModel.getListItemById(12).then(function(listItem) {\r\n         *     //Do something with the located listItem\r\n         *     $scope.project = listItem;\r\n         * };\r\n         * </pre>\r\n         */\r\n        getListItemById<T extends ListItem<any>>(listItemId: number, options?: Object): ng.IPromise<T> {\r\n            var deferred = $q.defer(),\r\n                model = this,\r\n                /** Unique Query Name */\r\n                queryKey = 'GetListItemById-' + listItemId;\r\n\r\n            /** Register a new Query if it doesn't already exist */\r\n            if (!model.getQuery(queryKey)) {\r\n                var defaults = {\r\n                    name: queryKey,\r\n                    operation: 'GetListItems',\r\n                    CAMLRowLimit: 1,\r\n                    CAMLQuery: '' +\r\n                    '<Query>' +\r\n                    ' <Where>' +\r\n                    '   <Eq>' +\r\n                    '     <FieldRef Name=\"ID\"/>' +\r\n                    '     <Value Type=\"Number\">' + listItemId + '</Value>' +\r\n                    '   </Eq>' +\r\n                    ' </Where>' +\r\n                    '</Query>'\r\n                };\r\n                /** Allows us to override defaults */\r\n                var opts = _.assign({}, defaults, options);\r\n                model.registerQuery(opts);\r\n            }\r\n\r\n            model.executeQuery(queryKey)\r\n                .then((indexedCache) => {\r\n                    /** Should return an indexed cache object with a single listItem so just return the requested listItem */\r\n                    deferred.resolve(indexedCache.first());\r\n                }, (err) => {\r\n                    deferred.reject(err);\r\n                });\r\n\r\n            return deferred.promise;\r\n        }\r\n\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name ListItem.getModel\r\n         * @description\r\n         * Allows us to reference the parent model directly from the list item.  This is added to the\r\n         * model.factory prototype in apModelFactory.  See the [List](#/api/List) documentation for more info.\r\n         * @returns {object} Model for the list item.\r\n         */\r\n        getModel(): Model {\r\n            return this;\r\n        }\r\n\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name Model.getQuery\r\n         * @module Model\r\n         * @description\r\n         * Helper function that attempts to locate and return a reference to the requested or catchall query.\r\n         * @param {string} [queryName=apConfig.defaultQueryName] A unique key to identify this query.\r\n         * @returns {object} See Query prototype for additional details on what a Query looks like.\r\n         *\r\n         * @example\r\n         * <pre>\r\n         * var primaryQuery = projectModel.getQuery();\r\n         * </pre>\r\n         *\r\n         * <pre>\r\n         * var primaryQuery = projectModel.getQuery('primary');\r\n         * </pre>\r\n         *\r\n         * <pre>\r\n         * var namedQuery = projectModel.getQuery('customQuery');\r\n         * </pre>\r\n         */\r\n        getQuery<T extends ListItem<any>>(queryName: string): IQuery<T> {\r\n            var model = this, query;\r\n            if (_.isObject(model.queries[queryName])) {\r\n                /** The named query exists */\r\n                query = model.queries[queryName];\r\n            } else if (_.isObject(model.queries[apConfig.defaultQueryName]) && !queryName) {\r\n                /** A named query wasn't specified and the catchall query exists */\r\n                query = model.queries[apConfig.defaultQueryName];\r\n            } else {\r\n                /** Requested query not found */\r\n                query = undefined;\r\n            }\r\n            return query;\r\n        }\r\n\r\n\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name Model.isInitialised\r\n         * @module Model\r\n         * @description\r\n         * Methods which allows us to easily determine if we've successfully made any queries this session.\r\n         * @returns {boolean} Returns evaluation.\r\n         */\r\n        isInitialised(): boolean {\r\n            var model = this;\r\n            return _.isDate(model.lastServerUpdate);\r\n        }\r\n\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name Model.registerQuery\r\n         * @module Model\r\n         * @description\r\n         * Constructor that allows us create a static query with the option to build dynamic queries as seen in the\r\n         * third example.  This construct is a passthrough to [SPServices](http: //spservices.codeplex.com/)\r\n         * @param {object} [queryOptions] Optional options to pass through to the\r\n         * [dataService](#/api/dataService.executeQuery).\r\n         * @param {string} [queryOptions.name=apConfig.defaultQueryName] Optional name of the new query (recommended but will\r\n         * default to 'Primary' if not specified)\r\n         * @param {string} [queryOptions.operation=\"GetListItemChangesSinceToken\"] Defaults to\r\n         * [GetListItemChangesSinceToken](http: //msdn.microsoft.com/en-us/library/lists.lists.getlistitemchangessincetoken%28v=office.12%29.aspx)\r\n         * but for a smaller payload and faster response you can use\r\n         * [GetListItems](http: //spservices.codeplex.com/wikipage?title=GetListItems&referringTitle=Lists).\r\n         * @param {boolean} [queryOptions.cacheXML=false] Typically don't need to store the XML response because it\r\n         * has already been parsed into JS objects.\r\n         * @param {string} [queryOptions.offlineXML] Optionally reference a specific XML file to use for this query instead\r\n         * of using the shared XML file used by all queries on this model.  Useful to mock custom query results.\r\n         * @param {string} [queryOptions.query] CAML Query - Josh McCarty has a good quick reference\r\n         * [here](http: //joshmccarty.com/2012/06/a-caml-query-quick-reference)\r\n         * @param {string} [queryOptions.queryOptions]\r\n         * <pre>\r\n         * // Default options\r\n         * '<QueryOptions>' +\r\n         * '   <IncludeMandatoryColumns>' +\r\n         *      'FALSE' +\r\n         *     '</IncludeMandatoryColumns>' +\r\n         * '   <IncludeAttachmentUrls>' +\r\n         *      'TRUE' +\r\n         *     '</IncludeAttachmentUrls>' +\r\n         * '   <IncludeAttachmentVersion>' +\r\n         *      'FALSE' +\r\n         *     '</IncludeAttachmentVersion>' +\r\n         * '   <ExpandUserField>' +\r\n         *      'FALSE' +\r\n         *     '</ExpandUserField>' +\r\n         * '</QueryOptions>',\r\n         * </pre>\r\n         *\r\n         *\r\n         * @returns {object} Query Returns a new query object.\r\n         *\r\n         * @example\r\n         * <h4>Example #1</h4>\r\n         * <pre>\r\n         * // Query to retrieve the most recent 25 modifications\r\n         * model.registerQuery({\r\n         *    name: 'recentChanges',\r\n         *    CAMLRowLimit: 25,\r\n         *    query: '' +\r\n         *        '<Query>' +\r\n         *        '   <OrderBy>' +\r\n         *        '       <FieldRef Name=\"Modified\" Ascending=\"FALSE\"/>' +\r\n         *        '   </OrderBy>' +\r\n         *            //Prevents any records from being returned if user doesn't\r\n         *            // have permissions on project\r\n         *        '   <Where>' +\r\n         *        '       <IsNotNull>' +\r\n         *        '           <FieldRef Name=\"Project\"/>' +\r\n         *        '       </IsNotNull>' +\r\n         *        '   </Where>' +\r\n         *        '</Query>'\r\n         * });\r\n         * </pre>\r\n         *\r\n         * <h4>Example #2</h4>\r\n         * <pre>\r\n         * // Could be placed on the projectModel and creates the query but doesn't\r\n         * // call it\r\n         * projectModel.registerQuery({\r\n         *     name: 'primary',\r\n         *     query: '' +\r\n         *         '<Query>' +\r\n         *         '   <OrderBy>' +\r\n         *         '       <FieldRef Name=\"Title\" Ascending=\"TRUE\"/>' +\r\n         *         '   </OrderBy>' +\r\n         *         '</Query>'\r\n         * });\r\n         *\r\n         * //To call the query or check for changes since the last call\r\n         * projectModel.executeQuery('primary').then(function(entities) {\r\n         *     // We now have a reference to array of entities stored in the local\r\n         *     // cache.  These inherit from the ListItem prototype as well as the\r\n         *     // Project prototype on the model\r\n         *     $scope.projects = entities;\r\n         * });\r\n         * </pre>\r\n         *\r\n         * <h4>Example #3</h4>\r\n         * <pre>\r\n         * // Advanced functionality that would allow us to dynamically create\r\n         * // queries for list items with a lookup field associated with a specific\r\n         * // project id.  Let's assume this is on the projectTasksModel.\r\n         * model.queryByProjectId(projectId) {\r\n         *     // Unique query name\r\n         *     var queryKey = 'pid' + projectId;\r\n         *\r\n         *     // Register project query if it doesn't exist\r\n         *     if (!_.isObject(model.queries[queryKey])) {\r\n         *         model.registerQuery({\r\n         *             name: queryKey,\r\n         *             query: '' +\r\n         *                 '<Query>' +\r\n         *                 '   <OrderBy>' +\r\n         *                 '       <FieldRef Name=\"ID\" Ascending=\"TRUE\"/>' +\r\n         *                 '   </OrderBy>' +\r\n         *                 '   <Where>' +\r\n         *                 '       <And>' +\r\n         *                              // Prevents any records from being returned\r\n         *                              //if user doesn't have permissions on project\r\n         *                 '           <IsNotNull>' +\r\n         *                 '               <FieldRef Name=\"Project\"/>' +\r\n         *                 '           </IsNotNull>' +\r\n         *                              // Return all records for the project matching\r\n         *                              // param projectId\r\n         *                 '           <Eq>' +\r\n         *                 '               <FieldRef Name=\"Project\" LookupId=\"TRUE\"/>' +\r\n         *                 '               <Value Type=\"Lookup\">' + projectId + '</Value>' +\r\n         *                 '           </Eq>' +\r\n         *                 '       </And>' +\r\n         *                 '   </Where>' +\r\n         *                 '</Query>'\r\n         *         });\r\n         *     }\r\n         *     //Still using execute query but now we have a custom query\r\n         *     return model.executeQuery(queryKey);\r\n         * };\r\n         * </pre>\r\n         */\r\n        registerQuery<T extends ListItem<any>>(queryOptions: IQueryOptions): IQuery<T> {\r\n            var model = this;\r\n\r\n            var defaults = {\r\n                /** If name isn't set, assume this is the only model and designate as primary */\r\n                name: apConfig.defaultQueryName\r\n            };\r\n\r\n            queryOptions = _.assign({}, defaults, queryOptions);\r\n\r\n            model.queries[queryOptions.name] = apQueryFactory.create(queryOptions, model);\r\n\r\n            /** Return the newly created query */\r\n            return model.queries[queryOptions.name];\r\n        }\r\n\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name Model.resolvePermissions\r\n         * @module Model\r\n         * @description\r\n         * See apModelFactory.resolvePermissions for details on what we expect to have returned.\r\n         * @returns {Object} Contains properties for each permission level evaluated for current user.\r\n         * @example\r\n         * Lets assume we're checking to see if a user has edit rights for a given list.\r\n         * <pre>\r\n         * var userPermissions = tasksModel.resolvePermissions();\r\n         * var userCanEdit = userPermissions.EditListItems;\r\n         * </pre>\r\n         * Example of what the returned object would look like\r\n         * for a site admin.\r\n         * <pre>\r\n         * perm = {\r\n            *    \"ViewListItems\": true,\r\n            *    \"AddListItems\": true,\r\n            *    \"EditListItems\": true,\r\n            *    \"DeleteListItems\": true,\r\n            *    \"ApproveItems\": true,\r\n            *    \"OpenItems\": true,\r\n            *    \"ViewVersions\": true,\r\n            *    \"DeleteVersions\": true,\r\n            *    \"CancelCheckout\": true,\r\n            *    \"PersonalViews\": true,\r\n            *    \"ManageLists\": true,\r\n            *    \"ViewFormPages\": true,\r\n            *    \"Open\": true,\r\n            *    \"ViewPages\": true,\r\n            *    \"AddAndCustomizePages\": true,\r\n            *    \"ApplyThemeAndBorder\": true,\r\n            *    \"ApplyStyleSheets\": true,\r\n            *    \"ViewUsageData\": true,\r\n            *    \"CreateSSCSite\": true,\r\n            *    \"ManageSubwebs\": true,\r\n            *    \"CreateGroups\": true,\r\n            *    \"ManagePermissions\": true,\r\n            *    \"BrowseDirectories\": true,\r\n            *    \"BrowseUserInfo\": true,\r\n            *    \"AddDelPrivateWebParts\": true,\r\n            *    \"UpdatePersonalWebParts\": true,\r\n            *    \"ManageWeb\": true,\r\n            *    \"UseRemoteAPIs\": true,\r\n            *    \"ManageAlerts\": true,\r\n            *    \"CreateAlerts\": true,\r\n            *    \"EditMyUserInfo\": true,\r\n            *    \"EnumeratePermissions\": true,\r\n            *    \"FullMask\": true\r\n            * }\r\n         * </pre>\r\n         */\r\n        resolvePermissions(): IUserPermissionsObject {\r\n            var model = this;\r\n            if (model.list && model.list.effectivePermMask) {\r\n                /** Get the permission mask from the permission mask name */\r\n                var permissionMask = apUtilityService.convertEffectivePermMask(model.list.effectivePermMask);\r\n                return apUtilityService.resolvePermissions(permissionMask);\r\n            } else {\r\n                window.console.error('Attempted to resolve permissions of a model that hasn\\'t been initialized.', model);\r\n                return apUtilityService.resolvePermissions(null);\r\n            }\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name Model.validateEntity\r\n         * @module Model\r\n         * @description\r\n         * Uses the custom fields defined in an model to ensure each field (required = true) is evaluated\r\n         * based on field type\r\n         *\r\n         * @param {object} listItem SharePoint list item.\r\n         * @param {object} [options] Object containing optional parameters.\r\n         * @param {boolean} [options.toast=true] Should toasts be generated to alert the user of issues.\r\n         * @returns {boolean} Evaluation of validity.\r\n         */\r\n        validateEntity<T extends ListItem<any>>(listItem: T, options?: Object): boolean {\r\n            var valid = true,\r\n                model = this;\r\n\r\n            var defaults = {\r\n                toast: true\r\n            };\r\n\r\n            /** Extend defaults with any provided options */\r\n            var opts = _.assign({}, defaults, options);\r\n\r\n            var checkObject = (fieldValue) => {\r\n                return _.isObject(fieldValue) && _.isNumber(fieldValue.lookupId);\r\n            };\r\n\r\n            _.each(model.list.customFields, (fieldDefinition: IExtendedFieldDefinition) => {\r\n                var fieldValue = listItem[fieldDefinition.mappedName];\r\n                var fieldDescriptor = '\"' + fieldDefinition.objectType + '\" value.';\r\n                /** Only evaluate required fields */\r\n                if ((fieldDefinition.required || fieldDefinition.Required) && valid) {\r\n                    switch (fieldDefinition.objectType) {\r\n                        case 'Boolean':\r\n                            valid = _.isBoolean(fieldValue);\r\n                            break;\r\n                        case 'DateTime':\r\n                            valid = _.isDate(fieldValue);\r\n                            break;\r\n                        case 'Lookup':\r\n                        case 'User':\r\n                            valid = checkObject(fieldValue);\r\n                            break;\r\n                        case 'LookupMulti':\r\n                        case 'UserMulti':\r\n                            /** Ensure it's a valid array containing objects */\r\n                            valid = _.isArray(fieldValue) && fieldValue.length > 0;\r\n                            if (valid) {\r\n                                /** Additionally check that each lookup/person contains a lookupId */\r\n                                _.each(fieldValue, (fieldObject) => {\r\n                                    if (valid) {\r\n                                        valid = checkObject(fieldObject);\r\n                                    } else {\r\n                                        /** Short circuit */\r\n                                        return false;\r\n                                    }\r\n                                });\r\n                            }\r\n                            break;\r\n                        default:\r\n                            /** Evaluate everything else as a string */\r\n                            valid = !_.isEmpty(fieldValue);\r\n\r\n                    }\r\n                    if (!valid && opts.toast) {\r\n                        var fieldName = fieldDefinition.label || fieldDefinition.staticName;\r\n                        toastr.error(fieldName + ' does not appear to be a valid ' + fieldDescriptor);\r\n                    }\r\n                }\r\n                if (!valid) {\r\n                    return false;\r\n                }\r\n            });\r\n            return valid;\r\n        }\r\n    }\r\n\r\n    export class ModelFactory {\r\n        Model = Model;\r\n        static $inject = ['$q', 'apCacheService', 'apConfig', 'apDataService', 'apDecodeService', 'apFieldService', 'apIndexedCacheFactory', 'apListFactory', 'apQueryFactory', 'apUtilityService', 'toastr'];\r\n        constructor(_$q_, _apCacheService_, _apConfig_, _apDataService_, _apDecodeService_, _apFieldService_, _apIndexedCacheFactory_, _apListFactory_, _apQueryFactory_, _apUtilityService_, _toastr_) {\r\n\r\n            $q = _$q_;\r\n            apCacheService = _apCacheService_;\r\n            apConfig = _apConfig_;\r\n            apDataService = _apDataService_;\r\n            apDecodeService = _apDecodeService_;\r\n            apFieldService = _apFieldService_;\r\n            apIndexedCacheFactory = _apIndexedCacheFactory_;\r\n            apListFactory = _apListFactory_;\r\n            apQueryFactory = _apQueryFactory_;\r\n            apUtilityService = _apUtilityService_;\r\n            toastr = _toastr_;\r\n        }\r\n\r\n        create(config) {\r\n            return new Model(config);\r\n        }\r\n\r\n    }\r\n\r\n    interface IMockDataOptions {\r\n        permissionLevel?: string;\r\n        quantity?: number;\r\n    }\r\n\r\n    angular\r\n        .module('angularPoint')\r\n        .service('apModelFactory', ModelFactory);\r\n\r\n\r\n}\r\n","/// <reference path=\"../app.module.ts\" />\r\n\r\nmodule ap {\r\n    'use strict';\r\n\r\n    var $q, apIndexedCacheFactory: IndexedCacheFactory, apConfig: IAPConfig, apDefaultListItemQueryOptions,\r\n        apDataService: DataService;\r\n\r\n    export interface IQuery<T extends ListItem<any>> {\r\n        cacheXML?: boolean;\r\n        changeToken?: string;\r\n        execute(options?: Object): ng.IPromise<IndexedCache<T>>;\r\n        getModel(): Model;\r\n        indexedCache: IndexedCache<T>;\r\n        initialized: ng.IDeferred<IndexedCache<T>>\r\n        lastRun: Date;\r\n        listName: string;\r\n        name: string;\r\n        negotiatingWithServer: boolean;\r\n        offlineXML?: string;\r\n        operation?: string;\r\n        promise?: ng.IPromise<IndexedCache<T>>;\r\n        query?: string;\r\n        queryOptions?: IQueryOptions;\r\n        viewFields: string;\r\n        webURL?: string;\r\n    }\r\n\r\n    export interface IQueryOptions {\r\n        name?: string;\r\n        operation?: string;\r\n    }\r\n\r\n    /**\r\n     * @ngdoc function\r\n     * @name Query\r\n     * @description\r\n     * Primary constructor that all queries inherit from.\r\n     * @param {object} config Initialization parameters.\r\n     * @param {string} [config.operation=GetListItemChangesSinceToken] Optionally use 'GetListItems' to\r\n     * receive a more efficient response, just don't have the ability to check for changes since the last time\r\n     * the query was called.\r\n     * @param {boolean} [config.cacheXML=true] Set to false if you want a fresh request.\r\n     * @param {string} [config.offlineXML] Optionally reference a specific XML file to use for this query instead\r\n     * of using the shared XML file for this list.\r\n     * @param {string} [config.query=Ordered ascending by ID] CAML query passed to SharePoint to control\r\n     * the data SharePoint returns.\r\n     * @param {string} [config.queryOptions] SharePoint options.\r\n     * <pre>\r\n     * //Default\r\n     * queryOptions: '' +\r\n     * '<QueryOptions>' +\r\n     * '   <IncludeMandatoryColumns>' +\r\n     *      'FALSE' +\r\n     *     '</IncludeMandatoryColumns>' +\r\n     * '   <IncludeAttachmentUrls>' +\r\n     *      'TRUE' +\r\n     *     '</IncludeAttachmentUrls>' +\r\n     * '   <IncludeAttachmentVersion>' +\r\n     *      'FALSE' +\r\n     *     '</IncludeAttachmentVersion>' +\r\n     * '   <ExpandUserField>' +\r\n     *      'FALSE' +\r\n     *     '</ExpandUserField>' +\r\n     * '</QueryOptions>',\r\n     * </pre>\r\n     * @param {object} model Reference to the parent model for the query.  Allows us to reference when out of\r\n     * scope.\r\n     * @constructor\r\n     *\r\n     * @example\r\n     * <pre>\r\n     * // Query to retrieve the most recent 25 modifications\r\n     * model.registerQuery({\r\n         *    name: 'recentChanges',\r\n         *    CAMLRowLimit: 25,\r\n         *    query: '' +\r\n         *        '<Query>' +\r\n         *        '   <OrderBy>' +\r\n         *        '       <FieldRef Name=\"Modified\" Ascending=\"FALSE\"/>' +\r\n         *        '   </OrderBy>' +\r\n         *            // Prevents any records from being returned if user\r\n         *            // doesn't have permissions on project\r\n         *        '   <Where>' +\r\n         *        '       <IsNotNull>' +\r\n         *        '           <FieldRef Name=\"Project\"/>' +\r\n         *        '       </IsNotNull>' +\r\n         *        '   </Where>' +\r\n         *        '</Query>'\r\n         * });\r\n     * </pre>\r\n     */\r\n    export class Query<T extends ListItem<any>> implements IQuery<T> {\r\n        /** Very memory intensive to enable cacheXML which is disabled by default*/\r\n        cacheXML: boolean = false;\r\n        /** Reference to the most recent query when performing GetListItemChangesSinceToken */\r\n        changeToken = undefined;\r\n\r\n        getModel: () => Model;\r\n\r\n        /** Key value hash map with key being the id of the entity */\r\n        indexedCache: IndexedCache<T>;\r\n        /** Promise resolved after first time query is executed */\r\n        initialized: ng.IDeferred<IndexedCache<T>>;\r\n        /** Date/Time last run */\r\n        lastRun;\r\n        listName;\r\n        name: string;\r\n        /** Flag to prevent us from makeing concurrent requests */\r\n        negotiatingWithServer: boolean = false;\r\n        /** Every time we run we want to check to update our cached data with\r\n         * any changes made on the server */\r\n        operation = 'GetListItemChangesSinceToken';\r\n        promise;\r\n        /** Default query returns list items in ascending ID order */\r\n        query: string = `\r\n        <Query>\r\n           <OrderBy>\r\n               <FieldRef Name=\"ID\" Ascending=\"TRUE\"/>\r\n           </OrderBy>\r\n        </Query>`;\r\n        queryOptions;\r\n        viewFields;\r\n        webURL;\r\n\r\n        constructor(config, model: Model) {\r\n            this.indexedCache = apIndexedCacheFactory.create<T>();\r\n            this.initialized = $q.defer();\r\n            this.listName = model.list.getListId();\r\n            this.queryOptions = apDefaultListItemQueryOptions;\r\n            this.viewFields = model.list.viewFields;\r\n\r\n            /** Set the default url if the config param is defined, otherwise let SPServices handle it */\r\n            if (apConfig.defaultUrl) {\r\n                this.webURL = apConfig.defaultUrl;\r\n            }\r\n\r\n            _.assign(this, config);\r\n\r\n            /** Allow the model to be referenced at a later time */\r\n            this.getModel = () => model;\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name Query.execute\r\n         * @methodOf Query\r\n         * @description\r\n         * Query SharePoint, pull down all initial records on first call along with list definition if using\r\n         * \"GetListItemChangesSinceToken\".  Note: this is  substantially larger than \"GetListItems\" on first call.\r\n         * Subsequent calls pulls down changes (Assuming operation: \"GetListItemChangesSinceToken\").\r\n         * @param {object} [options] Any options that should be passed to dataService.executeQuery.\r\n         * @returns {object[]} Array of list item objects.\r\n         */\r\n        execute(options): ng.IPromise<IndexedCache<T>> {\r\n            var query = this;\r\n            var model = query.getModel();\r\n            var deferred = $q.defer();\r\n\r\n            /** Return existing promise if request is already underway or has been previously executed in the past\r\n             * 1/10th of a second */\r\n            if (query.negotiatingWithServer || (_.isDate(query.lastRun) && query.lastRun.getTime() + 100 > new Date().getTime())) {\r\n                return query.promise;\r\n            } else {\r\n                /** Set flag to prevent another call while this query is active */\r\n                query.negotiatingWithServer = true;\r\n\r\n                /** Set flag if this if the first time this query has been run */\r\n                var firstRunQuery = _.isNull(query.lastRun);\r\n\r\n                var defaults = {\r\n                    /** Designate the central cache for this query if not already set */\r\n                    target: query.getCache()\r\n                };\r\n\r\n                /** Extend defaults with any options */\r\n                var queryOptions = _.assign({}, defaults, options);\r\n\r\n                apDataService.executeQuery(model, query, queryOptions).then((results) => {\r\n                    if (firstRunQuery) {\r\n                        /** Promise resolved the first time query is completed */\r\n                        query.initialized.resolve(queryOptions.target);\r\n                    }\r\n\r\n                    /** Remove lock to allow for future requests */\r\n                    query.negotiatingWithServer = false;\r\n\r\n                    /** Store query completion date/time on model to allow us to identify age of data */\r\n                    model.lastServerUpdate = new Date();\r\n\r\n                    deferred.resolve(queryOptions.target);\r\n                });\r\n\r\n                /** Save reference on the query **/\r\n                query.promise = deferred.promise;\r\n                return deferred.promise;\r\n            }\r\n        }\r\n\r\n        getCache(): IndexedCache<T> {\r\n            return this.indexedCache;\r\n        }\r\n    }\r\n\r\n\r\n    export class QueryFactory {\r\n        Query = Query;\r\n        static $inject = ['$q', 'apConfig', 'apDataService', 'apDefaultListItemQueryOptions', 'apIndexedCacheFactory'];\r\n\r\n        constructor(_$q_, _apConfig_, _apDataService_, _apDefaultListItemQueryOptions_, _apIndexedCacheFactory_) {\r\n\r\n            $q = _$q_;\r\n            apConfig = _apConfig_;\r\n            apDataService = _apDataService_;\r\n            apDefaultListItemQueryOptions = _apDefaultListItemQueryOptions_;\r\n            apIndexedCacheFactory = _apIndexedCacheFactory_;\r\n\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name angularPoint.apQueryFactory:create\r\n         * @methodOf angularPoint.apQueryFactory\r\n         * @param {object} config Options object.\r\n         * @param {object} model Reference to the model.\r\n         * @description\r\n         * Instantiates and returns a new Query.\r\n         */\r\n        create<T extends ListItem<any>>(config, model): IQuery<T> {\r\n            return new Query<T>(config, model);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @ngdoc object\r\n     * @name angularPoint.apQueryFactory\r\n     * @description\r\n     * Exposes the Query prototype and a constructor to instantiate a new Query.\r\n     *\r\n     * @requires angularPoint.apDataService\r\n     * @requires angularPoint.apConfig\r\n     */\r\n    angular.module('angularPoint')\r\n        .service('apQueryFactory', QueryFactory);\r\n\r\n\r\n}\r\n","/// <reference path=\"../app.module.ts\" />\r\n\r\nmodule ap {\r\n    'use strict';\r\n\r\n    var apUtilityService;\r\n\r\n    export interface IUser {\r\n        email?:string;\r\n        loginName?:string;\r\n        lookupId: number;\r\n        lookupValue: string;\r\n        sipAddress?:string;\r\n        title?:string;\r\n    }\r\n\r\n    /**\r\n     * @ngdoc function\r\n     * @name User\r\n     * @description\r\n     * Allows for easier distinction when debugging if object type is shown as a User.  Turns a delimited \";#\"\r\n     * string into an object shown below depeinding on field settings:\r\n     * <pre>\r\n     * {\r\n         *      lookupId: 1,\r\n         *      lookupValue: 'Joe User'\r\n         * }\r\n     * </pre>\r\n     * or\r\n     * <pre>\r\n     * {\r\n         *      lookupId: 1,\r\n         *      lookupValue: 'Joe User',\r\n         *      loginName: 'joe.user',\r\n         *      email: 'joe@company.com',\r\n         *      sipAddress: 'whatever',\r\n         *      title: 'Sr. Widget Maker'\r\n         * }\r\n     * </pre>\r\n     * @param {string} s Delimited string used to create a User object.\r\n     * @constructor\r\n     */\r\n    class User implements IUser {\r\n        lookupValue: string;\r\n        lookupId: number;\r\n        loginName: string;\r\n        email: string;\r\n        sipAddress: string;\r\n        title: string;\r\n\r\n        constructor(str: string) {\r\n            var self = this;\r\n            var thisUser = new apUtilityService.SplitIndex(str);\r\n\r\n            var thisUserExpanded = thisUser.value.split(',#');\r\n            if (thisUserExpanded.length === 1) {\r\n                //Standard user columns only return a id,#value pair\r\n                self.lookupId = thisUser.id;\r\n                self.lookupValue = thisUser.value;\r\n            } else {\r\n                //Allow for case where user adds additional properties when setting up field\r\n                self.lookupId = thisUser.id;\r\n                self.lookupValue = thisUserExpanded[0].replace(/(,,)/g, ',');\r\n                self.loginName = thisUserExpanded[1].replace(/(,,)/g, ',');\r\n                self.email = thisUserExpanded[2].replace(/(,,)/g, ',');\r\n                self.sipAddress = thisUserExpanded[3].replace(/(,,)/g, ',');\r\n                self.title = thisUserExpanded[4].replace(/(,,)/g, ',');\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    export class UserFactory {\r\n        User = User;\r\n        static $inject = ['apUtilityService'];\r\n\r\n        constructor(_apUtilityService_) {\r\n            apUtilityService = _apUtilityService_;\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name angularPoint.apUserFactory:create\r\n         * @methodOf angularPoint.apUserFactory\r\n         * @description\r\n         * Instantiates and returns a new User field.\r\n         */\r\n        create(s) {\r\n            return new User(s);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @ngdoc function\r\n     * @name angularPoint.apUserFactory\r\n     * @description\r\n     * Tools to assist with the creation of CAML queries.\r\n     *\r\n     */\r\n    angular.module('angularPoint')\r\n        .service('apUserFactory', UserFactory);\r\n\r\n\r\n}\r\n","/// <reference path=\"../app.module.ts\" />\r\n/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\ndeclare module ap {\r\n\r\n    export interface IXMLGroup {\r\n        Description: string;\r\n        ID: string;\r\n        Name: string;\r\n        OwnerID: string;\r\n        OwnerIsUser: string;\r\n    }\r\n\r\n    export interface IXMLUser {\r\n        Email: string;\r\n        Flags: string;\r\n        ID: string;\r\n        IsDomainGroup: string;\r\n        IsSiteAdmin: string;\r\n        LoginName: string;\r\n        Name: string;\r\n        Notes: string;\r\n        Sid: string;\r\n    }\r\n\r\n    export interface IXMLUserProfile {\r\n        userLoginName: string; //Added to allow us to optionally add a prefix if necessary from apConfig\r\n        UserProfile_GUID: string;\r\n        AccountName: string;\r\n        FirstName: string;\r\n        \"SPS-PhoneticFirstName\": string;\r\n        LastName: string;\r\n        \"SPS-PhoneticLastName\": string;\r\n        PreferredName: string;\r\n        \"SPS-PhoneticDisplayName\": string;\r\n        WorkPhone: string;\r\n        Department: string;\r\n        Title: string;\r\n        \"SPS-JobTitle\": string;\r\n        Manager: string;\r\n        AboutMe: string;\r\n        PersonalSpace: string;\r\n        PictureURL: string;\r\n        UserName: string;\r\n        QuickLinks: string;\r\n        WebSite: string;\r\n        PublicSiteRedirect: string;\r\n        \"SPS-Dotted-line\": string;\r\n        \"SPS-Peers\": string;\r\n        \"SPS-Responsibility\": string;\r\n        \"SPS-SipAddress\": string;\r\n        \"SPS-MySiteUpgrade\": string;\r\n        \"SPS-DontSuggestList\": string;\r\n        \"SPS-ProxyAddresses\": string;\r\n        \"SPS-HireDate\": string;\r\n        \"SPS-DisplayOrder\": string;\r\n        \"SPS-ClaimID\": string;\r\n        \"SPS-ClaimProviderID\": string;\r\n        \"SPS-ClaimProviderType\": string;\r\n        \"SPS-LastColleagueAdded\": string;\r\n        \"SPS-OWAUrl\": string;\r\n        \"SPS-SavedAccountName\": string;\r\n        \"SPS-ResourceAccountName\": string;\r\n        \"SPS-ObjectExists\": string;\r\n        \"SPS-MasterAccountName\": string;\r\n        \"SPS-DistinguishedName\": string;\r\n        \"SPS-SourceObjectDN\": string;\r\n        \"SPS-LastKeywordAdded\": string;\r\n        WorkEmail: string;\r\n        CellPhone: string;\r\n        Fax: string;\r\n        HomePhone: string;\r\n        Office: string;\r\n        \"SPS-Location\": string;\r\n        \"SPS-TimeZone\": string;\r\n        Assistant: string;\r\n        \"SPS-PastProjects\": string;\r\n        \"SPS-Skills\": string;\r\n        \"SPS-School\": string;\r\n        \"SPS-Birthday\": string;\r\n        \"SPS-StatusNotes\": string;\r\n        \"SPS-Interests\": string;\r\n        \"SPS-EmailOptin\": string;\r\n    }\r\n\r\n    export interface IListItemCrudOptions<T extends ListItem<any>> {\r\n        target: IndexedCache<T>;\r\n    }\r\n\r\n\r\n    export interface IListItemVersion<T extends ListItem<any>> extends ListItem<T> {\r\n        modified: Date;\r\n        version: number;\r\n        [key: string]: any;\r\n    }\r\n\r\n    export interface IWorkflowDefinition {\r\n        instantiationUrl: string;\r\n        name: string;\r\n        templateId: string;\r\n    }\r\n\r\n    export interface IStartWorkflowParams {\r\n        fileRef?: string;\r\n        item: string;\r\n        templateId: string;\r\n        workflowName?: string;\r\n        workflowParameters?: string;\r\n    }\r\n\r\n\r\n    //    export interface IDiscussionThread {\r\n    //        posts: IDiscussionThreadPost[];\r\n    //        nextId: number;\r\n    //        getNextId(): number;\r\n    //        createPost(parentId: number, content: string): IDiscussionThreadPost;\r\n    //        getListItem(): IListItem;\r\n    //        prune(): void;\r\n    //        saveChanges(): ng.IPromise<IListItem>;\r\n    //    }\r\n\r\n    //    export interface IDiscussionThreadPost {\r\n    //        content: string;\r\n    //        id: number;\r\n    //        parentId: number;\r\n    //        created: Date;\r\n    //        user: IUser;\r\n    //        removePost(): void;\r\n    //        deletePost(): ng.IPromise<IListItem>;\r\n    //        savePost(): ng.IPromise<IListItem>;\r\n    //        reply(): ng.IPromise<IListItem>;\r\n    //    }\r\n\r\n    //    export interface ICache<T> extends IndexedCache<T>{\r\n    //        //TODO Populate me!\r\n    //    }\r\n\r\n    export interface IUserPermissionsObject {\r\n        AddAndCustomizePages: boolean;\r\n        AddDelPrivateWebParts: boolean;\r\n        AddListItems: boolean;\r\n        ApplyStyleSheets: boolean;\r\n        ApplyThemeAndBorder: boolean;\r\n        ApproveItems: boolean;\r\n        BrowseDirectories: boolean;\r\n        BrowseUserInfo: boolean;\r\n        CancelCheckout: boolean;\r\n        CreateAlerts: boolean;\r\n        CreateGroups: boolean;\r\n        CreateSSCSite: boolean;\r\n        DeleteListItems: boolean;\r\n        DeleteVersions: boolean;\r\n        EditListItems: boolean;\r\n        EditMyUserInfo: boolean;\r\n        EnumeratePermissions: boolean;\r\n        FullMask: boolean;\r\n        ManageAlerts: boolean;\r\n        ManageLists: boolean;\r\n        ManagePermissions: boolean;\r\n        ManageSubwebs: boolean;\r\n        ManageWeb: boolean;\r\n        Open: boolean;\r\n        OpenItems: boolean;\r\n        PersonalViews: boolean;\r\n        UpdatePersonalWebParts: boolean;\r\n        UseRemoteAPIs: boolean;\r\n        ViewFormPages: boolean;\r\n        ViewListItems: boolean;\r\n        ViewPages: boolean;\r\n        ViewUsageData: boolean;\r\n        ViewVersions: boolean;\r\n    }\r\n\r\n\r\n}\r\n\r\n// declare module \"lodash\"  {\r\n//     isGuid(string): boolean;\r\n//     deepIn(Object, string): boolean;\r\n//     deepGet(Object, string): any;\r\n//     isDefined(val: any): boolean;\r\n// }\r\n\r\ninterface IToast {\r\n    toastId: number;\r\n    scope: ng.IScope;\r\n    iconClass: string;\r\n}\r\n\r\ninterface toastr {\r\n    error(message: string, title?: string, optionsOverride?: Object): IToast;\r\n    info(message: string, title?: string, optionsOverride?: Object): IToast;\r\n    success(message: string, title?: string, optionsOverride?: Object): IToast;\r\n    warning(message: string, title?: string, optionsOverride?: Object): IToast;\r\n    clear(IToast?): void;\r\n}\r\n\r\ndeclare module ngTable {\r\n    export interface INGTableParamsObject {\r\n        count?: number;\r\n        filter?: Object;\r\n        page?: number;\r\n        sorting?: Object;\r\n    }\r\n\r\n    interface INGTableParamsReference {\r\n        count(): number;\r\n        filter(): Object;\r\n        orderBy(): string[]\r\n        page(): number;\r\n        sorting(): Object;\r\n        total(): number;\r\n        total(number): void;\r\n    }\r\n\r\n    export interface INGTableSettings {\r\n        total?: number;\r\n        counts?: number[];\r\n        defaultSort?: string; //options: ['asc', 'desc']\r\n        groupBy?: string | Function;\r\n        filterDelay?: number;\r\n        getData($defer: ng.IDeferred<ap.ListItem<any>[]>, params: INGTableParamsReference): void;\r\n    }\r\n\r\n    export interface INGTableParams {\r\n        new (parameters: INGTableParamsObject, settings: INGTableSettings): INGTable;\r\n    }\r\n\r\n    export interface INGTable {\r\n        reload(): void;\r\n    }\r\n}\r\n\r\n","/// <reference path=\"../app.module.ts\" />\r\n\r\nmodule ap {\r\n    'use strict';\r\n\r\n    /** Local references to cached promises */\r\n    var _getGroupCollection, _getUserProfile;\r\n\r\n    export interface IUserModel {\r\n        checkIfMember(groupName: string, force?: boolean): angular.IPromise<IXMLGroup>;\r\n        getGroupCollection(force?: boolean): angular.IPromise<IXMLGroup[]>;\r\n        getUserProfile(force?: boolean): ng.IPromise<IXMLUserProfile>;\r\n    }\r\n\r\n    export class UserModel {\r\n        static $inject = ['$q', 'apDataService'];\r\n        constructor(private $q: ng.IQService, private apDataService: DataService) {\r\n\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name angularPoint.apUserModel:checkIfMember\r\n         * @methodOf angularPoint.apUserModel\r\n         * @description\r\n         * Checks to see if current user is a member of the specified group.\r\n         * @param {string} groupName Name of the group.\r\n         * @param {boolean} [force=false] Ignore any cached value.\r\n         * @returns {object} Returns the group definition if the user is a member. {ID:string, Name:string, Description:string, OwnerId:string, OwnerIsUser:string}\r\n         * @example\r\n         * <pre>{ID: \"190\", Name: \"Blog Contributors\", Description: \"We are bloggers...\", OwnerID: \"126\", OwnerIsUser: \"False\"}</pre>\r\n         */\r\n        checkIfMember(groupName: string, force: boolean = false): angular.IPromise<IXMLGroup> {\r\n            //Allow function to be called before group collection is ready\r\n            var deferred = this.$q.defer();\r\n\r\n            //Initially ensure groups are ready, any future calls will receive the return\r\n            this.getGroupCollection(force).then((groupCollection) => {\r\n                var groupDefinition = _.find(groupCollection, { Name: groupName });\r\n                deferred.resolve(groupDefinition);\r\n            });\r\n\r\n            return deferred.promise;\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name angularPoint.apUserModel:getGroupCollection\r\n         * @methodOf angularPoint.apUserModel\r\n         * @description\r\n         * Returns the group definitions for the current user and caches results.\r\n         * @param {boolean} [force=false] Ignore any cached value.\r\n         * @returns {IGroupDefinition[]} Promise which resolves with the array of groups the user belongs to.\r\n         */\r\n        getGroupCollection(force: boolean = false): angular.IPromise<IXMLGroup[]> {\r\n            if (!_getGroupCollection || force) {\r\n                /** Create a new deferred object if not already defined */\r\n                var deferred = this.$q.defer();\r\n                this.getUserProfile(force).then((userProfile) => {\r\n                    this.apDataService.getGroupCollectionFromUser(userProfile.userLoginName)\r\n                        .then((groupCollection) => {\r\n                        deferred.resolve(groupCollection);\r\n                    });\r\n                });\r\n                _getGroupCollection = deferred.promise;\r\n            }\r\n            return _getGroupCollection;\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name angularPoint.apUserModel:getUserProfile\r\n         * @methodOf angularPoint.apUserModel\r\n         * @description\r\n         * Returns the user profile for the current user and caches results.\r\n         * Pull user profile info and parse into a profile object\r\n         * http://spservices.codeplex.com/wikipage?title=GetUserProfileByName\r\n         * @param {boolean} [force=false] Ignore any cached value.\r\n         * @returns {object} Promise which resolves with the requested user profile.\r\n         */\r\n        getUserProfile(force: boolean = false): ng.IPromise<IXMLUserProfile> {\r\n            if (!_getUserProfile || force) {\r\n                /** Create a new deferred object if not already defined */\r\n                _getUserProfile = this.apDataService.getUserProfileByName();\r\n            }\r\n            return _getUserProfile;\r\n        }\r\n\r\n\r\n    }\r\n\r\n    /**\r\n     * @ngdoc service\r\n     * @name angularPoint.apUserModel\r\n     * @description\r\n     * Simple service that allows us to request and cache both the current user and their group memberships.\r\n     *\r\n     * @requires apDataService\r\n     *\r\n     */\r\n    angular.module('angularPoint')\r\n        .service('apUserModel', UserModel);\r\n\r\n}\r\n","/// <reference path=\"../app.module.ts\" />\r\n\r\nmodule ap {\r\n    'use strict';\r\n\r\n    interface ICacheService {\r\n        deleteEntity(listId: string, entityId: number): void;\r\n        getCachedEntities<T extends ListItem<any>>(listId: string): IndexedCache<T>;\r\n        getCachedEntity<T extends ListItem<any>>(listId: string, entityId: number): T;\r\n        getEntity<T extends ListItem<any>>(listId: string, entityId: number): ng.IPromise<T>;\r\n        getListId(keyString: string): string;\r\n        getListIdFromListName(name: string): string;\r\n        getModel(listId: string): Model;\r\n        getModelCache(listId: string): ModelCache;\r\n        registerEntity<T extends ListItem<any>>(entity: T, targetCache?: IndexedCache<T>): T;\r\n        registerModel(model: Model): void;\r\n        removeEntity(listId: string, entityId: number): void;\r\n    }\r\n\r\n    var service: CacheService, $q: ng.IQService, $log: ng.ILogService, apIndexedCacheFactory: IndexedCacheFactory;\r\n\r\n    /**\r\n     * @description Stores list names when a new model is registered along with the GUID to allow us to\r\n     *     retrieve the GUID in future\r\n     * @example\r\n     * <pre>\r\n     *     listNameToIdMap = {\r\n         *          list1Name: {\r\n         *              model: list1Model,\r\n         *              listId: list1GUID\r\n         *          },\r\n         *          list2Name: {\r\n         *              model: list2Model,\r\n         *              listId: list2GUID\r\n         *          }\r\n         *          ...\r\n         *     }\r\n     * </pre>\r\n     */\r\n    var listNameToIdMap = {},\r\n\r\n        /**\r\n         * @description Stores list GUID when a new model is registered with a reference to the model for\r\n         *     future reference.\r\n         * @example\r\n         * <pre>\r\n         *     listsMappedByListId = {\r\n         *          list1GUID: {\r\n         *              model: list1Model\r\n         *          },\r\n         *          list2GUID: {\r\n         *              model: list2Model\r\n         *          }\r\n         *          ...\r\n         *     }\r\n         * </pre>\r\n         */\r\n        listsMappedByListId = {},\r\n        /**\r\n         * @description The Main cache object which stores ModelCache objects.  Keys being the model GUID and\r\n         *     value being an a ModelCache object\r\n         * @example\r\n         * <pre>\r\n         *     entityCache = {\r\n         *          list1GUID: {\r\n         *              item1ID: { //EnityCache for entity 1\r\n         *                  associationQueue: [],\r\n         *                  updateCount: 3,\r\n         *                  listId: list1GUID,\r\n         *                  entityId: item1ID,\r\n         *                  entityLocations: [],\r\n         *                  entity: {} //This is where the actual entity is referenced\r\n         *              }\r\n         *              item2ID: { //EnityCache for entity 2\r\n         *                  ...\r\n         *              }\r\n         *          },\r\n         *          list2GUID: {\r\n         *              item1ID: ...\r\n         *          }\r\n         *          ...\r\n         *     }\r\n         * </pre>\r\n         */\r\n        entityCache = {};\r\n\r\n\r\n    /**\r\n     * @name EntityCache\r\n     * @description\r\n     * Cache constructor that maintains a queue of all requests for a list item, counter for the number of times\r\n     * the cache has been updated, timestamp of last update, and add/update/remove functionality.\r\n     * @constructor apCacheService\r\n     * @param {string} listId GUID for list the list item belongs to.\r\n     * @param {number} entityId The entity.id.\r\n     */\r\n    class EntityContainer {\r\n        associationQueue = [];\r\n        entity;\r\n        entityLocations = [];\r\n        listId;\r\n        updateCount = 0;\r\n\r\n        constructor(listId: string, private entityId: number) {\r\n            this.listId = service.getListId(listId);\r\n        }\r\n\r\n        /**\r\n         * @name EntityContainer.getEntity\r\n         * @description\r\n         * Promise which returns the requested entity once it has been registered in the cache.\r\n         */\r\n        getEntity() {\r\n            var entityContainer = this;\r\n            var deferred = $q.defer();\r\n            if (entityContainer.entity) {\r\n                /** Entity already exists so resolve immediately */\r\n                deferred.resolve(entityContainer.entity);\r\n            } else {\r\n                entityContainer.associationQueue.push(deferred);\r\n            }\r\n            return deferred.promise;\r\n        }\r\n\r\n\r\n        removeEntity() {\r\n            var entityContainer = this;\r\n            service.removeEntity(entityContainer.listId, entityContainer.entityId);\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * @name ModelCache\r\n     * @description\r\n     * Cache of Entity Containers for each registered entity retrieved by the model.\r\n     * @constructor\r\n     */\r\n    class ModelCache extends IndexedCache<any> {\r\n\r\n    }\r\n\r\n    export class CacheService implements ICacheService {\r\n        entityCache = entityCache;\r\n        static $inject = ['$q', '$log', 'apIndexedCacheFactory'];\r\n\r\n        constructor(_$q_, _$log_, _apIndexedCacheFactory_) {\r\n\r\n            $q = _$q_;\r\n            $log = _$log_;\r\n            apIndexedCacheFactory = _apIndexedCacheFactory_;\r\n\r\n            service = this;\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name angularPoint.apCacheService:deleteEntity\r\n         * @methodOf angularPoint.apCacheService\r\n         * @description\r\n         * Deletes all references to an entity.\r\n         * @param {string} listId GUID for list the list item belongs to.\r\n         * @param {number} entityId The entity.id.\r\n         */\r\n        deleteEntity(listId: string, entityId: number): void {\r\n            var entityTypeKey = this.getListId(listId);\r\n            this.removeEntity(entityTypeKey, entityId);\r\n            var model = this.getModel(entityTypeKey);\r\n            _.each(model.queries, (query: Query<any>) => {\r\n                var cache = query.getCache();\r\n                cache.removeEntity(entityId);\r\n            });\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name angularPoint.apCacheService:getCachedEntities\r\n         * @methodOf angularPoint.apCacheService\r\n         * @description\r\n         * Returns all entities for a given model as an indexed cache with keys being the entity id's.\r\n         * @param {string} listId GUID for list the list item belongs to.\r\n         * @returns {object} Indexed cache containing all entities for a model.\r\n         */\r\n        getCachedEntities<T extends ListItem<any>>(listId: string): IndexedCache<T> {\r\n            var modelCache = this.getModelCache(listId),\r\n                allEntities = apIndexedCacheFactory.create<T>();\r\n            _.each(modelCache, (entityContainer: EntityContainer) => {\r\n                if (entityContainer.entity && entityContainer.entity.id) {\r\n                    allEntities.addEntity(entityContainer.entity);\r\n                }\r\n            });\r\n            return allEntities;\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name angularPoint.apCacheService:getCachedEntity\r\n         * @methodOf angularPoint.apCacheService\r\n         * @description\r\n         * Synchronise call to return a cached entity;\r\n         * @param {string} listId GUID for list the list item belongs to.\r\n         * @param {number} entityId The entity.id.\r\n         * @returns {object} entity || undefined\r\n         */\r\n        getCachedEntity<T extends ListItem<any>>(listId: string, entityId: number): T {\r\n            return this.getEntityContainer(listId, entityId).entity;\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name angularPoint.apCacheService:getEntity\r\n         * @methodOf angularPoint.apCacheService\r\n         * @description\r\n         * Returns a deferred object that resolves with the requested entity immediately if already present or at\r\n         *     some point in the future assuming the entity is eventually registered.\r\n         * @param {string} listId GUID for list the list item belongs to.\r\n         * @param {number} entityId The entity.id.\r\n         * @returns {promise} entity\r\n         */\r\n        getEntity<T extends ListItem<any>>(listId: string, entityId: number): ng.IPromise<T> {\r\n            var entityContainer = this.getEntityContainer(listId, entityId);\r\n            return entityContainer.getEntity();\r\n        }\r\n\r\n        private getEntityContainer(listId: string, entityId: number): EntityContainer {\r\n            var entityTypeKey = this.getListId(listId);\r\n            var modelCache = this.getModelCache(entityTypeKey);\r\n            /** Create the object structure if it doesn't already exist */\r\n            modelCache[entityId] = modelCache[entityId] || new EntityContainer(entityTypeKey, entityId);\r\n            return modelCache[entityId];\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name angularPoint.apCacheService:getListId\r\n         * @methodOf angularPoint.apCacheService\r\n         * @description\r\n         * Allows us to use either the List Name or the list GUID and returns the lowercase GUID\r\n         * @param {string} keyString List GUID or name.\r\n         * @returns {string} Lowercase list GUID.\r\n         */\r\n        getListId(keyString: string): string {\r\n            if (_.isGuid(keyString)) {\r\n                /** GUID */\r\n                return keyString.toLowerCase();\r\n            } else {\r\n                /** List Title */\r\n                return this.getListIdFromListName(keyString);\r\n            }\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name angularPoint.apCacheService:getListIdFromListName\r\n         * @methodOf angularPoint.apCacheService\r\n         * @description\r\n         * Allows us to lookup an entity cache using the name of the list instead of the GUID.\r\n         * @param {string} name The name of the list.\r\n         * @returns {string} GUID for the list.\r\n         */\r\n        getListIdFromListName(name: string): string {\r\n            var guid;\r\n            if (listNameToIdMap[name] && listNameToIdMap[name].listId) {\r\n                guid = listNameToIdMap[name].listId;\r\n            }\r\n            return guid;\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name angularPoint.apCacheService:getModel\r\n         * @methodOf angularPoint.apCacheService\r\n         * @description\r\n         * Allows us to retrieve a reference to a given model by either the list title or list GUID.\r\n         * @param {string} listId List title or list GUID.\r\n         * @returns {object} A reference to the requested model.\r\n         */\r\n        getModel(listId: string): Model {\r\n            var model,\r\n                entityTypeKey = this.getListId(listId);\r\n\r\n            if (listsMappedByListId[entityTypeKey]) {\r\n                model = listsMappedByListId[entityTypeKey].model;\r\n            }\r\n            return model;\r\n        }\r\n\r\n        /** Locates the stored cache for a model */\r\n        getModelCache(listId: string): ModelCache {\r\n            var entityTypeKey = this.getListId(listId);\r\n            entityCache[entityTypeKey] = entityCache[entityTypeKey] || new ModelCache();\r\n            return entityCache[entityTypeKey];\r\n        }\r\n\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name angularPoint.apCacheService:registerEntity\r\n         * @methodOf angularPoint.apCacheService\r\n         * @description\r\n         * Registers an entity in the cache and fulfills any pending deferred requests for the entity. If the\r\n         * entity already exists in the cache, we extend the existing object with the updated entity and return a\r\n         * reference to this updated object so the there is only a single instance of this entity withing the cache.\r\n         * @param {object} entity Pass in a newly created entity to add to the cache.\r\n         * @param {object} [targetCache] Optionally pass in a secondary cache to add a reference to this entity.\r\n         */\r\n        registerEntity<T extends ListItem<any>>(entity: T, targetCache?: IndexedCache<T>): T {\r\n            var model = entity.getModel();\r\n            var entityContainer = this.getEntityContainer(model.list.getListId(), entity.id);\r\n            /** Maintain a single object in cache for this entity */\r\n            if (!_.isObject(entityContainer.entity)) {\r\n                /** Entity isn't currently in the cache */\r\n                entityContainer.entity = entity;\r\n            } else {\r\n                /** Already exists so update to maintain any other references being used for this entity. */\r\n                    //TODO Look at performance hit from extending and see if it would be acceptable just to replace\r\n                _.assign(entityContainer.entity, entity);\r\n            }\r\n\r\n            /** Counter to keep track of the number of updates for this entity */\r\n            entityContainer.updateCount++;\r\n\r\n            if (_.isObject(targetCache) && !_.isArray(targetCache) && !targetCache[entity.id]) {\r\n                /** Entity hasn't been added to the target cache yet */\r\n                targetCache[entity.id] = entityContainer.entity;\r\n            }\r\n\r\n            /** Resolve any requests for this entity */\r\n            _.each(entityContainer.associationQueue, (deferredRequest) => {\r\n                deferredRequest.resolve(entityContainer.entity);\r\n                /** Remove request from queue */\r\n                entityContainer.associationQueue.shift();\r\n            });\r\n\r\n            return entityContainer.entity;\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name angularPoint.apCacheService:registerModel\r\n         * @methodOf angularPoint.apCacheService\r\n         * @description\r\n         * Creates a new ModelCache for the provide model where all list items will be stored with the key equaling\r\n         * the entity id's and value being a EntityContainer.  The entity is stored at EntityContainer.entity.\r\n         * @param {object} model Model to create the cache for.\r\n         */\r\n        registerModel(model: Model): void {\r\n            if (model.list && model.list.getListId() && model.list.title) {\r\n                var listId = model.list.getListId().toLowerCase();\r\n                /** Store a reference to the model by list title */\r\n                listNameToIdMap[model.list.title] = {\r\n                    model: model,\r\n                    listId: listId\r\n                };\r\n\r\n                /** Store a reference to the model by list guid */\r\n                listsMappedByListId[listId] = {\r\n                    model: model\r\n                };\r\n            }\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name angularPoint.apCacheService:removeEntity\r\n         * @methodOf angularPoint.apCacheService\r\n         * @description\r\n         * Removes the entity from the local entity cache.\r\n         * @param {string} listId GUID for list the list item belongs to.\r\n         * @param {number} entityId The entity.id.\r\n         */\r\n        removeEntity(listId: string, entityId: number): void {\r\n            var modelCache = this.getModelCache(listId);\r\n            if (modelCache[entityId]) {\r\n                delete modelCache[entityId];\r\n            }\r\n        }\r\n\r\n\r\n    }\r\n\r\n    /**\r\n     * @ngdoc service\r\n     * @name angularPoint.apCacheService\r\n     * @description\r\n     * Stores a reference for all list items based on list GUID and list item id.  Allows us to then register promises\r\n     *     that resolve once a requested list item is registered in the future.\r\n     */\r\n    angular.module('angularPoint')\r\n        .service('apCacheService', CacheService);\r\n\r\n}\r\n","/// <reference path=\"../app.module.ts\" />\r\n\r\nmodule ap {\r\n    'use strict';\r\n\r\n    interface IUpdateOptions<T extends ListItem<any>>{\r\n        batchCmd: string;\r\n        buildValuePairs:boolean;\r\n        ID: number;\r\n        listName: string;\r\n        operation: string;\r\n        target: IndexedCache<T>;\r\n        valuePairs: string[][];\r\n        webURL: string;\r\n    }\r\n\r\n    export interface IChangeServiceCallback{\r\n        (entity: ListItem<any>, options: IUpdateOptions<any>, promise: ng.IPromise<any>): void\r\n    }\r\n\r\n    /**\r\n     * @ngdoc service\r\n     * @name apChangeService\r\n     * @description\r\n     * Primarily used for apMockBackend so we can know what to expect before an attempt to update a list\r\n     * item is intercepted.\r\n     */\r\n    export class ChangeService {\r\n        callbackQueue: IChangeServiceCallback[] = [];\r\n        registerListItemUpdate<T extends ListItem<any>>(entity: T, options: IUpdateOptions<T>, promise: ng.IPromise<T>) {\r\n            _.each(this.callbackQueue, (callback) => {\r\n                callback(entity, options, promise);\r\n            });\r\n        }\r\n        subscribeToUpdates(callback: IChangeServiceCallback ) {\r\n            this.callbackQueue.push(callback);\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module('angularPoint')\r\n        .service('apChangeService', ChangeService);\r\n\r\n}\r\n","/// <reference path=\"../app.module.ts\" />\r\n\r\nmodule ap {\r\n    'use strict';\r\n\r\n    var service: DataService, $q: ng.IQService, $timeout: ng.ITimeoutService, $http: ng.IHttpService, apConfig: IAPConfig,\r\n        apUtilityService: UtilityService, apCacheService: CacheService, apDecodeService: DecodeService,\r\n        apEncodeService: EncodeService, apFieldService: FieldService, apIndexedCacheFactory: IndexedCacheFactory,\r\n        toastr, SPServices, apDefaultListItemQueryOptions: DefaultListItemQueryOptions, apWebServiceOperationConstants: WebServiceOperationConstants,\r\n        apXMLToJSONService: XMLToJSONService, apChangeService: ChangeService;\r\n\r\n    export interface IDataService {\r\n        createListItem<T extends ListItem<any>>(model: Model, listItem: Object, options?: { buildValuePairs: boolean; valuePairs: [string, any][] }): ng.IPromise<T>;\r\n        createItemUrlFromFileRef(fileRefString: string): string;\r\n        deleteAttachment(options: { listItemID: number; url: string; listName: string; }): ng.IPromise<any>;\r\n        deleteListItem(model: Model, listItem: ListItem<any>, options?: { target: IndexedCache<any> }): ng.IPromise<any>;\r\n        executeQuery<T extends ListItem<any>>(model: Model, query: IQuery<T>, options?: IExecuteQueryOptions): ng.IPromise<IndexedCache<T>>\r\n        generateWebServiceUrl(service: string, webURL?: string): ng.IPromise<string>;\r\n        getAvailableWorkflows(fileRefString: string): ng.IPromise<IWorkflowDefinition[]>;\r\n        getCollection(options: { operation: string; userLoginName?: string; groupName?: string; listName?: string; filterNode: string; }): ng.IPromise<Object[]>;\r\n        getCurrentSite(): ng.IPromise<string>;\r\n        getFieldVersionHistory<T extends ListItem<any>>(options: { operation?: string; webURL?: string; strListID: string; strListItemID: number; strFieldName?: string; }, fieldDefinition: FieldDefinition): ng.IPromise<ap.IListItemVersion<T>[]>;\r\n        getGroupCollectionFromUser(login?: string): ng.IPromise<IXMLGroup[]>;\r\n        getList(options: { listName: string }): ng.IPromise<Object>;\r\n        getListFields(options: { listName: string; }): ng.IPromise<IXMLFieldDefinition[]>;\r\n        getUserProfileByName(login?: string): ng.IPromise<IXMLUserProfile>;\r\n        processChangeTokenXML<T extends ListItem<any>>(model: Model, query: IQuery<T>, responseXML: XMLDocument, opts): void;\r\n        processDeletionsSinceToken(responseXML: XMLDocument, indexedCache: IndexedCache<any>): void;\r\n        requestData(opts): ng.IPromise<XMLDocument>;\r\n        retrieveChangeToken(responseXML: XMLDocument): string;\r\n        retrievePermMask(responseXML: XMLDocument): string;\r\n        serviceWrapper(options): ng.IPromise<any>;\r\n        startWorkflow(options: { item: string; templateId: string; workflowParameters?: string; fileRef?: string; }): ng.IPromise<any>;\r\n        updateListItem<T extends ListItem<any>>(model: Model, listItem: T, options): ng.IPromise<T>;\r\n        validateCollectionPayload(opts): boolean;\r\n    }\r\n\r\n    export class DataService implements IDataService {\r\n        queryForCurrentSite: ng.IPromise<string>;\r\n        static $inject = ['$http', '$q', '$timeout', 'apCacheService', 'apChangeService', 'apConfig', 'apDecodeService',\r\n            'apDefaultListItemQueryOptions', 'apEncodeService', 'apFieldService', 'apIndexedCacheFactory',\r\n            'apUtilityService', 'apWebServiceOperationConstants', 'apXMLToJSONService', 'SPServices', 'toastr'];\r\n\r\n        constructor(_$http_, _$q_, _$timeout_, _apCacheService_, _apChangeService_, _apConfig_, _apDecodeService_,\r\n            _apDefaultListItemQueryOptions_, _apEncodeService_, _apFieldService_, _apIndexedCacheFactory_,\r\n            _apUtilityService_, _apWebServiceOperationConstants_, _apXMLToJSONService_, _SPServices_, _toastr_) {\r\n            service = this;\r\n\r\n            $http = _$http_;\r\n            $q = _$q_;\r\n            $timeout = _$timeout_;\r\n            apCacheService = _apCacheService_;\r\n            apChangeService = _apChangeService_;\r\n            apConfig = _apConfig_;\r\n            apDecodeService = _apDecodeService_;\r\n            apDefaultListItemQueryOptions = _apDefaultListItemQueryOptions_;\r\n            apEncodeService = _apEncodeService_;\r\n            apFieldService = _apFieldService_;\r\n            apIndexedCacheFactory = _apIndexedCacheFactory_;\r\n            apUtilityService = _apUtilityService_;\r\n            apWebServiceOperationConstants = _apWebServiceOperationConstants_;\r\n            apXMLToJSONService = _apXMLToJSONService_;\r\n            SPServices = _SPServices_;\r\n            toastr = _toastr_;\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name DataService.createListItem\r\n         * @description\r\n         * Creates a new list item for the provided model.\r\n         * @param {object} model Reference to the entities model.\r\n         * @param {object} listItem JavaScript object representing the SharePoint list item.\r\n         * @param {object} [options] Optional configuration params.\r\n         * @param {boolean} [options.buildValuePairs=true] Automatically generate pairs based on fields defined in model.\r\n         * @param {object} [options.indexedCache=apIndexedCacheFactory.create({})] Optionally place new item in a specified cache.\r\n         * @param {Array[]} [options.valuePairs] Precomputed value pairs to use instead of generating them for each\r\n         * field identified in the model.\r\n         * @returns {object} Promise which resolves with the newly created item.\r\n         */\r\n        createListItem<T extends ListItem<any>>(model: Model, listItem: T, options?: ICreateListItemOptions<T>): ng.IPromise<T> {\r\n            var defaults = {\r\n                batchCmd: 'New',\r\n                buildValuePairs: true,\r\n                indexedCache: apIndexedCacheFactory.create({}),\r\n                listName: model.list.getListId(),\r\n                operation: 'UpdateListItems',\r\n                target: undefined,\r\n                valuePairs: [],\r\n                webURL: model.list.identifyWebURL()\r\n            };\r\n            var deferred = $q.defer();\r\n\r\n            defaults.target = defaults.indexedCache;\r\n\r\n            var opts: ICreateListItemOptions<T> = _.assign({}, defaults, options);\r\n\r\n            //Method gets added onto new list item and allows access to parent cache\r\n            opts.getCache = () => opts.indexedCache;\r\n\r\n            if (opts.buildValuePairs === true) {\r\n                var editableFields: FieldDefinition[] = _.where(model.list.fields, { readOnly: false });\r\n                opts.valuePairs = apEncodeService.generateValuePairs(editableFields, listItem);\r\n            }\r\n\r\n\r\n            /** Overload the function then pass anything past the first parameter to the supporting methods */\r\n            this.serviceWrapper(opts)\r\n                .then((response) => {\r\n                    /** Online this should return an XML object */\r\n                    var indexedCache = apDecodeService.processListItems(model, opts, response, opts);\r\n                    /** Return reference to last listItem in cache because it will have the new highest id */\r\n                    deferred.resolve(indexedCache.last());\r\n                }, (err) => {\r\n                    deferred.reject(err);\r\n                });\r\n            return deferred.promise;\r\n        }\r\n\r\n        createItemUrlFromFileRef(fileRefString: string): string {\r\n            return window.location.protocol + '//' + window.location.hostname + '/' + fileRefString;\r\n        }\r\n\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name DataService.deleteAttachment\r\n         * @description\r\n         * Deletes and attachment on a list item.  Most commonly used by ListItem.deleteAttachment which is shown\r\n         * in the example.\r\n         *\r\n         * @param {object} options Configuration parameters.\r\n         * @param {string} options.listItemId ID of the list item with the attachment.\r\n         * @param {string} options.url Requires the URL for the attachment we want to delete.\r\n         * @param {string} options.listName Best option is the GUID of the list.\r\n         * <pre>'{37388A98-534C-4A28-BFFA-22429276897B}'</pre>\r\n         *\r\n         * @returns {object} Promise which resolves with the updated attachment collection.\r\n         *\r\n         * @example\r\n         * <pre>\r\n         * ListItem.prototype.deleteAttachment = function (url) {\r\n         *    var listItem = this;\r\n         *    return DataService.deleteAttachment({\r\n         *        listItemId: listItem.id,\r\n         *        url: url,\r\n         *        listName: listItem.getModel().list.getListId()\r\n         *    });\r\n         * };\r\n         * </pre>\r\n         */\r\n        deleteAttachment(options: { listItemID: number; url: string; listName: string; }): ng.IPromise<any> {\r\n            var defaults = {\r\n                operation: 'DeleteAttachment',\r\n                filterNode: 'Field'\r\n            };\r\n\r\n            var opts = _.assign({}, defaults, options);\r\n\r\n            return this.serviceWrapper(opts);\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name DataService.deleteListItem\r\n         * @description\r\n         * Typically called directly from a list item, removes the list item from SharePoint\r\n         * and the local cache.\r\n         * @param {object} model Reference to the entities model.\r\n         * @param {object} listItem JavaScript object representing the SharePoint list item.\r\n         * @param {object} [options] Optional configuration params.\r\n         * @param {Array} [options.target=item.getCache()] Optional location to search through and remove the\r\n         * local cached copy.\r\n         * @returns {object} Promise which resolves when the operation is complete.  Nothing of importance is returned.\r\n         */\r\n        deleteListItem(model: Model, listItem: ListItem<any>, options?: { target: IndexedCache<any> }): ng.IPromise<any> {\r\n            var defaults = {\r\n                target: _.isFunction(listItem.getCache) ? listItem.getCache() : model.getCache(),\r\n                operation: 'UpdateListItems',\r\n                listName: model.list.getListId(),\r\n                batchCmd: 'Delete',\r\n                ID: listItem.id,\r\n                webURL: model.list.identifyWebURL()\r\n            };\r\n\r\n            var opts = _.assign({}, defaults, options);\r\n\r\n            /** Check to see if list item or document because documents need the FileRef as well as id to delete */\r\n            if (listItem.fileRef && listItem.fileRef.lookupValue) {\r\n                var fileExtension = listItem.fileRef.lookupValue.split('.').pop();\r\n                if (isNaN(fileExtension)) {\r\n                    /** File extension instead of numeric extension so it's a document\r\n                     * @Example\r\n                     * Document: \"Site/library/file.csv\"\r\n                     * List Item: \"Site/List/5_.000\"\r\n                     * */\r\n                    opts.valuePairs = [['FileRef', listItem.fileRef.lookupValue]];\r\n\r\n                }\r\n            }\r\n\r\n            var deferred = $q.defer();\r\n\r\n            this.serviceWrapper(opts)\r\n                .then(() => {\r\n                    /** Success */\r\n                    apCacheService.deleteEntity(opts.listName, listItem.id);\r\n                    deferred.resolve();\r\n                }, (outcome) => {\r\n                    //In the event of an error, display toast\r\n                    toastr.error('There was an error deleting a list item from ' + model.list.title);\r\n                    deferred.reject(outcome);\r\n                });\r\n\r\n            return deferred.promise;\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name DataService.executeQuery\r\n         * @description\r\n         * Primary method of retrieving list items from SharePoint.  Look at Query and Model for specifics.\r\n         * @param {object} model Reference to the model where the Query resides.\r\n         * @param {object} query Reference to the Query making the call.\r\n         * @param {object} [options] Optional configuration parameters.\r\n         * @param {object} [options.target=model.getCache()] The target destination for returned entities\r\n         * @returns {object} - Key value hash containing all list item id's as keys with the listItem as the value.\r\n         */\r\n        executeQuery<T extends ListItem<any>>(model: Model, query: IQuery<T>, options?: IExecuteQueryOptions): ng.IPromise<IndexedCache<T>> {\r\n\r\n            var defaults = {\r\n                target: model.getCache()\r\n            };\r\n\r\n            var deferred = $q.defer();\r\n\r\n            /** Extend defaults **/\r\n            var opts: IExecuteQueryOptions = _.assign({}, defaults, options);\r\n\r\n            this.serviceWrapper(query)\r\n                .then((responseXML) => {\r\n                    if (query.operation === 'GetListItemChangesSinceToken') {\r\n                        this.processChangeTokenXML<T>(model, query, responseXML, opts);\r\n                    }\r\n\r\n                    /** Convert the XML into JS objects */\r\n                    var entities = apDecodeService.processListItems<T>(model, query, responseXML, opts);\r\n                    deferred.resolve(entities);\r\n\r\n                    /** Set date time to allow for time based updates */\r\n                    query.lastRun = new Date();\r\n                });\r\n\r\n            return deferred.promise;\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name DataService.generateWebServiceUrl\r\n         * @description\r\n         * Builds the appropriate SharePoint resource URL.  If a URL isn't provided and it hasn't already been cached\r\n         * we make a call to the server to find the root URL.  All future requests will then use this cached value.\r\n         * @param {string} service The name of the service the SOAP operation is using.\r\n         * @param {string} [webURL] Optionally provide the URL so we don't need to make a call to the server.\r\n         * @returns {promise} Resolves with the url for the service.\r\n         */\r\n        generateWebServiceUrl(service: string, webURL?: string): ng.IPromise<string> {\r\n            var ajaxURL = \"_vti_bin/\" + service + \".asmx\",\r\n                deferred = $q.defer();\r\n\r\n            if (webURL) {\r\n                ajaxURL = webURL.charAt(webURL.length - 1) === '/' ?\r\n                    webURL + ajaxURL : webURL + '/' + ajaxURL;\r\n                deferred.resolve(ajaxURL);\r\n            } else {\r\n                this.getCurrentSite().then((thisSite) => {\r\n                    ajaxURL = thisSite + ((thisSite.charAt(thisSite.length - 1) === '/') ? ajaxURL : ('/' + ajaxURL));\r\n                    deferred.resolve(ajaxURL);\r\n                });\r\n            }\r\n            return deferred.promise;\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name DataService.getAvailableWorkflows\r\n         * @description\r\n         * Given a list item or document, return an array of all available workflows.  This is used in combination with\r\n         * DataService.startWorkflow because it requires the template GUID for the target workflow.\r\n         * @example\r\n         * <pre>\r\n         * DataService.getAvailableWorkflows(listItem.fileRef.lookupValue)\r\n         *     .then(function(templateArray) {\r\n         *          ....templateArray = [{\r\n         *              \"name\": \"WidgetApproval\",\r\n         *              \"instantiationUrl\": \"https: //sharepoint.mycompany.com/_layouts/IniWrkflIP.aspx?List=fc17890e-8c0…311-cea9-40d1-a183-6edde9333815}&Web={ec744d8e-ae0a-45dd-bcd1-8a63b9b399bd}\",\r\n         *              \"templateId\": \"59062311-cea9-40d1-a183-6edde9333815\"\r\n         *          }]\r\n         *     });\r\n         * </pre>\r\n         * @param {string} fileRefString Relative or static url referencing the item.\r\n         * @returns {object} Resolves with an array of objects defining each of the available workflows for the item.\r\n         */\r\n        getAvailableWorkflows(fileRefString: string): ng.IPromise<IWorkflowDefinition[]> {\r\n            var deferred = $q.defer();\r\n            /** Build the full url for the fileRef if not already provided.  FileRef for an item defaults to a relative url */\r\n            var itemUrl = fileRefString.indexOf(': //') > -1 ? fileRefString : this.createItemUrlFromFileRef(fileRefString);\r\n\r\n            this.serviceWrapper({\r\n                operation: 'GetTemplatesForItem',\r\n                item: itemUrl\r\n            }).then(function(responseXML) {\r\n                var workflowTemplates = [];\r\n                var xmlTemplates = apXMLToJSONService.filterNodes(responseXML, 'WorkflowTemplate');\r\n                _.each(xmlTemplates, function(xmlTemplate: JQuery) {\r\n                    var template = {\r\n                        name: $(xmlTemplate).attr('Name'),\r\n                        instantiationUrl: $(xmlTemplate).attr('InstantiationUrl'),\r\n                        templateId: '{' + $(xmlTemplate).find('WorkflowTemplateIdSet').attr('TemplateId') + '}'\r\n                    };\r\n                    workflowTemplates.push(template);\r\n                });\r\n                deferred.resolve(workflowTemplates);\r\n            });\r\n\r\n\r\n            return deferred.promise;\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name DataService.getCollection\r\n         * @description\r\n         * Used to handle any of the Get[filterNode]Collection calls to SharePoint\r\n         *\r\n         * @param {Object} options - object used to extend payload and needs to include all SPServices required attributes\r\n         * @param {string} options.operation Can be any of the below or any other requests for collections:\r\n         *  - GetAttachmentCollection @requires options.listName & options.ID\r\n         *  - GetGroupCollectionFromSite\r\n         *  - GetGroupCollectionFromUser @requires options.userLoginName\r\n         *  - GetListCollection\r\n         *  - GetUserCollectionFromGroup @requires options.groupName\r\n         *  - GetUserCollectionFromSite\r\n         *  - GetViewCollection @requires options.listName\r\n         * @param {string} options.filterNode Value to iterate over in returned XML\r\n         *         if not provided it's extracted from the name of the operation\r\n         *         ex: Get[User]CollectionFromSite, \"User\" is used as the filterNode\r\n         * @param {string} [options.groupName] Valid for 'GetUserCollectionFromGroup'\r\n         * @param {string} [options.listName] Valid for 'GetViewCollection' or 'GetAttachmentCollection'\r\n         * @param {string} [options.userLoginName] Valid for 'GetGroupCollectionFromUser'\r\n         * @returns {Promise<object[]>} Promise which when resolved will contain an array of objects representing the\r\n         * requested collection.\r\n         *\r\n         * @example\r\n         * <pre>\r\n         * DataService.getCollection({\r\n         *        operation: \"GetGroupCollectionFromUser\",\r\n         *        userLoginName: $scope.state.selectedUser.LoginName\r\n         *        }).then(function (response) {\r\n         *            postProcessFunction(response);\r\n         *       });\r\n         * </pre>\r\n         */\r\n        getCollection(options: IGetCollectionOptions): ng.IPromise<Object[]> {\r\n            var defaults = {\r\n                postProcess: processXML\r\n            };\r\n            var opts: IGetCollectionOptions = _.assign({}, defaults, options);\r\n\r\n            /** Determine the XML node to iterate over if filterNode isn't provided */\r\n            var filterNode = opts.filterNode || opts.operation.split('Get')[1].split('Collection')[0];\r\n\r\n            var deferred = $q.defer();\r\n\r\n            /** Convert the xml returned from the server into an array of js objects */\r\n            function processXML(responseXML: XMLDocument) {\r\n                var convertedItems: Object[] = [];\r\n                var filteredNodes = apXMLToJSONService.filterNodes(responseXML, filterNode);\r\n                /** Get attachments only returns the links associated with a list item */\r\n                if (opts.operation === 'GetAttachmentCollection') {\r\n                    /** Unlike other call, get attachments only returns strings instead of an object with attributes */\r\n                    _.each(filteredNodes, (node: JQuery) => convertedItems.push($(node).text()));\r\n                } else {\r\n                    convertedItems = apXMLToJSONService.parse(filteredNodes, { includeAllAttrs: true, removeOws: false });\r\n                }\r\n                return convertedItems;\r\n            }\r\n\r\n            var validPayload = this.validateCollectionPayload(opts);\r\n            if (validPayload) {\r\n                this.serviceWrapper(opts)\r\n                    .then((response) => {\r\n                        deferred.resolve(response);\r\n                    });\r\n            } else {\r\n                toastr.error('Invalid payload: ', opts);\r\n                deferred.reject();\r\n            }\r\n\r\n            return deferred.promise;\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name DataService.getCurrentSite\r\n         * @description\r\n         * Requests and caches the root url for the current site.  It caches the response so any future calls receive\r\n         * the cached promise.\r\n         * @returns {promise} Resolves with the current site root url.\r\n         */\r\n        getCurrentSite(): ng.IPromise<string> {\r\n            var deferred = $q.defer();\r\n            //var self = this.getCurrentSite;\r\n            if (!this.queryForCurrentSite) {\r\n                /** We only want to run this once so cache the promise the first time and just reference it in the future */\r\n                this.queryForCurrentSite = deferred.promise;\r\n\r\n                var msg = SPServices.SOAPEnvelope.header +\r\n                    \"<WebUrlFromPageUrl xmlns='\" + SPServices.SCHEMASharePoint + \"/soap/' ><pageUrl>\" +\r\n                    ((location.href.indexOf(\"?\") > 0) ? location.href.substr(0, location.href.indexOf(\"?\")) : location.href) +\r\n                    \"</pageUrl></WebUrlFromPageUrl>\" +\r\n                    SPServices.SOAPEnvelope.footer;\r\n\r\n                $http({\r\n                    method: 'POST',\r\n                    url: '/_vti_bin/Webs.asmx',\r\n                    data: msg,\r\n                    responseType: \"document\",\r\n                    headers: {\r\n                        \"Content-Type\": \"text/xml;charset='utf-8'\"\r\n                    }\r\n                }).then((response) => {\r\n                    /** Success */\r\n                    apConfig.defaultUrl = $(response.data).find(\"WebUrlFromPageUrlResult\").text();\r\n                    deferred.resolve(apConfig.defaultUrl)\r\n                }, (response) => {\r\n                    /** Error */\r\n                    var error = apDecodeService.checkResponseForErrors(response.data);\r\n                    deferred.reject(error);\r\n                });\r\n            }\r\n            return this.queryForCurrentSite;\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name DataService.getFieldVersionHistory\r\n         * @description\r\n         * Returns the version history for a field in a list item.\r\n         * @param {object} options Configuration object passed to SPServices.\r\n         * <pre>\r\n         * var options = {\r\n         *        operation: 'GetVersionCollection',\r\n         *        webURL: apConfig.defaultUrl,\r\n         *        strlistID: model.list.getListId(),\r\n         *        strlistItemID: listItem.id,\r\n         *        strFieldName: fieldDefinition.staticName\r\n         *    };\r\n         * </pre>\r\n         * @param {object} fieldDefinition Field definition object from the model.\r\n         * @returns {object[]} Promise which resolves with an array of list item changes for the specified field.\r\n         */\r\n        getFieldVersionHistory<T extends ListItem<any>>(options: { operation?: string; webURL?: string; strListID: string; strListItemID: number; strFieldName?: string; }, fieldDefinition: FieldDefinition): ng.IPromise<ap.IListItemVersion<T>[]> {\r\n            var defaults = {\r\n                operation: 'GetVersionCollection'\r\n            };\r\n            var opts = _.assign({}, defaults, options);\r\n\r\n            var deferred = $q.defer();\r\n\r\n            this.serviceWrapper(opts)\r\n                .then((response) => {\r\n                    /** Parse XML response */\r\n                    var versions = apDecodeService.parseFieldVersions(response, fieldDefinition);\r\n                    /** Resolve with an array of all field versions */\r\n                    deferred.resolve(versions);\r\n                }, (outcome) => {\r\n                    /** Failure */\r\n                    toastr.error('Failed to fetch version history.');\r\n                    deferred.reject(outcome);\r\n                });\r\n            return deferred.promise;\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name DataService.getGroupCollectionFromUser\r\n         * @description\r\n         * Fetches an array of group names the user is a member of.  If no user is provided we use the current user.\r\n         * @param {string} [login=CurrentUser] Optional param of another user's login to return the profile for.\r\n         * @returns {string[]} Promise which resolves with the array of groups the user belongs to.\r\n         */\r\n        getGroupCollectionFromUser(login?: string): ng.IPromise<IXMLGroup[]> {\r\n            /** Create a new deferred object if not already defined */\r\n            var deferred = $q.defer();\r\n            var getGroupCollection = (userLoginName) => {\r\n                this.serviceWrapper({\r\n                    operation: 'GetGroupCollectionFromUser',\r\n                    userLoginName: userLoginName,\r\n                    filterNode: 'Group'\r\n                }).then((groupCollection: IXMLGroup[]) => deferred.resolve(groupCollection));\r\n            };\r\n\r\n            if (!login) {\r\n                /** No login name provided so lookup profile for current user */\r\n                this.getUserProfileByName()\r\n                    .then((userProfile) => getGroupCollection(userProfile.userLoginName));\r\n            } else {\r\n                getGroupCollection(login);\r\n            }\r\n            return deferred.promise;\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name DataService.getList\r\n         * @description\r\n         * Returns all list details including field and list config.\r\n         * @param {object} options Configuration parameters.\r\n         * @param {string} options.listName GUID of the list.\r\n         * @returns {object} Promise which resolves with an object defining field and list config.\r\n         */\r\n        getList(options: { listName: string }): ng.IPromise<Object> {\r\n            var defaults = {\r\n                operation: 'GetList'\r\n            };\r\n\r\n            var opts = _.assign({}, defaults, options);\r\n            return this.serviceWrapper(opts);\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name DataService.getListFields\r\n         * @description\r\n         * Returns field definitions for a specified list.\r\n         * @param {object} options Configuration parameters.\r\n         * @param {string} options.listName GUID of the list.\r\n         * @returns {Promise} Promise which resolves with an array of field definitions for the list.\r\n         */\r\n        getListFields(options: { listName: string; }): ng.IPromise<IXMLFieldDefinition[]> {\r\n            var deferred = $q.defer();\r\n            this.getList(options)\r\n                .then((responseXML) => {\r\n                    var filteredNodes = apXMLToJSONService.filterNodes(responseXML, 'Field');\r\n                    var fields = apXMLToJSONService.parse(filteredNodes, { includeAllAttrs: true, removeOws: false });\r\n                    deferred.resolve(fields);\r\n                });\r\n            return deferred.promise;\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name DataService.getUserProfile\r\n         * @description\r\n         * Returns the profile for an optional user, but defaults the the current user if one isn't provided.\r\n         * Pull user profile info and parse into a profile object\r\n         * http: //spservices.codeplex.com/wikipage?title=GetUserProfileByName\r\n         * @param {string} [login=CurrentUser] Optional param of another user's login to return the profile for.\r\n         * @returns {object} Promise which resolves with the requested user profile.\r\n         */\r\n        getUserProfileByName(login?: string): ng.IPromise<IXMLUserProfile> {\r\n            var deferred = $q.defer();\r\n            var payload = {\r\n                accountName: undefined,\r\n                operation: 'GetUserProfileByName'\r\n            };\r\n            if (login) {\r\n                payload.accountName = login;\r\n            }\r\n\r\n            this.serviceWrapper(payload)\r\n                .then((responseXML) => {\r\n                    var userProfile = {\r\n                        AccountName: undefined,\r\n                        userLoginName: undefined\r\n                    };\r\n                    //Not formatted like a normal SP response so need to manually parse\r\n                    var filteredNodes = apXMLToJSONService.filterNodes(responseXML, 'PropertyData');\r\n                    _.each(filteredNodes, (node: JQuery) => {\r\n                        var nodeName = apXMLToJSONService.filterNodes(node, 'Name');\r\n                        var nodeValue = apXMLToJSONService.filterNodes(node, 'Value');\r\n                        if (nodeName.length > 0 && nodeValue.length > 0) {\r\n                            userProfile[nodeName.text().trim()] = nodeValue.text().trim();\r\n                        }\r\n                    });\r\n\r\n                    /** Optionally specify a necessary prefix that should appear before the user login */\r\n                    userProfile.userLoginName = apConfig.userLoginNamePrefix ?\r\n                        (apConfig.userLoginNamePrefix + userProfile.AccountName) : userProfile.AccountName;\r\n                    deferred.resolve(userProfile);\r\n                });\r\n            return deferred.promise;\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name DataService.processChangeTokenXML\r\n         * @description\r\n         * The initial call to GetListItemChangesSinceToken also includes the field definitions for the\r\n         * list so extend the existing field definitions and list defined in the model.  After that, store\r\n         * the change token and make any changes to the user's permissions for the list.\r\n         * @param {Model} model List model.\r\n         * @param {IQuery} query Valid query object.\r\n         * @param {XMLDocument} responseXML XML response from the server.\r\n         * @param {object} opts Config options built up along the way.\r\n         */\r\n        processChangeTokenXML<T extends ListItem<any>>(model: Model, query: IQuery<T>, responseXML: XMLDocument, opts): void {\r\n            if (!model.deferredListDefinition) {\r\n                var deferred = $q.defer();\r\n\r\n                /** Replace the null placeholder with this promise so we don't have to process in the future and also\r\n                 * don't have to query again if we run Model.extendListMetadata. */\r\n                model.deferredListDefinition = deferred.promise;\r\n\r\n                /** Immediately resolve because there's no need to perform any async actions */\r\n                deferred.resolve(model);\r\n                apDecodeService.extendListMetadata(model, responseXML);\r\n            }\r\n\r\n            /** Store token for future web service calls to return changes */\r\n            query.changeToken = this.retrieveChangeToken(responseXML);\r\n\r\n            /** Update the user permissions for this list */\r\n            var effectivePermissionMask = this.retrievePermMask(responseXML);\r\n            if (effectivePermissionMask) {\r\n                model.list.effectivePermMask = effectivePermissionMask;\r\n            }\r\n\r\n            /** Change token query includes deleted items as well so we need to process them separately */\r\n            this.processDeletionsSinceToken(responseXML, opts.target);\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name DataService.processDeletionsSinceToken\r\n         * @description\r\n         * GetListItemChangesSinceToken returns items that have been added as well as deleted so we need\r\n         * to remove the deleted items from the local cache.\r\n         * @param {XMLDocument} responseXML XML response from the server.\r\n         * @param {Object} indexedCache Cached object of key value pairs.\r\n         */\r\n        processDeletionsSinceToken(responseXML: XMLDocument, indexedCache: IndexedCache<any>): void {\r\n            /** Remove any locally cached entities that were deleted from the server */\r\n            var filteredNodes = apXMLToJSONService.filterNodes(responseXML, 'Id');\r\n            _.each(filteredNodes, (node: JQuery) => {\r\n                /** Check for the type of change */\r\n                var changeType = $(node).attr('ChangeType');\r\n\r\n                if (changeType === 'Delete') {\r\n                    var listItemId = parseInt($(node).text(), 10);\r\n                    /** Remove from local data array */\r\n                    indexedCache.removeEntity(listItemId);\r\n                }\r\n            });\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name DataService.requestData\r\n         * @description\r\n         * The primary function that handles all communication with the server.  This is very low level and isn't\r\n         * intended to be called directly.\r\n         * @param {object} opts Payload object containing the details of the request.\r\n         * @returns {promise} Promise that resolves with the server response.\r\n         */\r\n        requestData(opts): ng.IPromise<XMLDocument> {\r\n            var deferred = $q.defer();\r\n\r\n            var soapData = SPServices.generateXMLComponents(opts);\r\n            var service = apWebServiceOperationConstants[opts.operation][0];\r\n            this.generateWebServiceUrl(service, opts.webURL)\r\n                .then((url) => {\r\n                    $http.post(url, soapData.msg, {\r\n                        responseType: \"document\",\r\n                        headers: {\r\n                            \"Content-Type\": \"text/xml;charset='utf-8'\",\r\n                            SOAPAction: () => soapData.SOAPAction ? soapData.SOAPAction : null\r\n                        },\r\n                        transformResponse: (data, headersGetter) => {\r\n                            if (_.isString(data)) {\r\n                                data = $.parseXML(data);\r\n                            }\r\n                            return data;\r\n                        }\r\n                    }).then((response) => {\r\n                        /** Success */\r\n                        /** Errors can still be resolved without throwing an error so check the XML */\r\n                        var error = apDecodeService.checkResponseForErrors(response.data);\r\n                        if (error) {\r\n                            console.error(error, opts);\r\n                            deferred.reject(error);\r\n                        } else {\r\n                            deferred.resolve(response.data);\r\n                        }\r\n                    }, (response) => {\r\n                        /** Failure */\r\n                        var error = apDecodeService.checkResponseForErrors(response.data);\r\n                        console.error(response.statusText, opts);\r\n                        deferred.reject(response.statusText + ': ' + error);\r\n                    });\r\n                });\r\n\r\n            return deferred.promise;\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name DataService.retrieveChangeToken\r\n         * @description\r\n         * Returns the change token from the xml response of a GetListItemChangesSinceToken query\r\n         * Note: this attribute is only found when using 'GetListItemChangesSinceToken'\r\n         * @param {XMLDocument} responseXML XML response from the server.\r\n         */\r\n        retrieveChangeToken(responseXML: XMLDocument): string {\r\n            return $(responseXML).find('Changes').attr('LastChangeToken');\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name DataService.retrievePermMask\r\n         * @description\r\n         * Returns the text representation of the users permission mask\r\n         * Note: this attribute is only found when using 'GetListItemChangesSinceToken'\r\n         * @param {XMLDocument} responseXML XML response from the server.\r\n         */\r\n        retrievePermMask(responseXML: XMLDocument): string {\r\n            return $(responseXML).find('listitems').attr('EffectivePermMask');\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name DataService.serviceWrapper\r\n         * @description\r\n         * Generic wrapper for any SPServices web service call.  The big benefit to this function is it allows us\r\n         * to continue to use the $q promise model throughout the application instead of using the promise\r\n         * implementation used in SPServices so we have a more consistent experience.\r\n         * Check http: //spservices.codeplex.com/documentation for details on expected parameters for each operation.\r\n         *\r\n         * @param {object} options Payload params that is directly passed to SPServices.\r\n         * @param {string} [options.filterNode] XML filter string used to find the elements to iterate over.\r\n         * This is typically 'z: row' for list items.\r\n         * @param {Function} [options.postProcess] Method to process responseXML prior to returning.\r\n         * @param {string} [options.webURL] XML filter string used to find the elements to iterate over.\r\n         * @returns {object} Returns a promise which when resolved either returns clean objects parsed by the value\r\n         * in options.filterNode or the raw XML response if a options.filterNode\r\n         *\r\n         *      If options.filterNode is provided, returns XML parsed by node name\r\n         *      Otherwise returns the server response\r\n         */\r\n        serviceWrapper(options: IServiceWrapperOptions): ng.IPromise<any> {\r\n            var defaults = {\r\n                postProcess: processXML,\r\n                webURL: apConfig.defaultUrl\r\n            };\r\n            var opts: IServiceWrapperOptions = _.assign({}, defaults, options);\r\n            var deferred = $q.defer();\r\n\r\n            /** Convert the xml returned from the server into an array of js objects */\r\n            function processXML(responseXML: Object) {\r\n                if (opts.filterNode) {\r\n                    var filteredNodes = apXMLToJSONService.filterNodes(responseXML, opts.filterNode);\r\n                    return apXMLToJSONService.parse(filteredNodes, { includeAllAttrs: true, removeOws: false });\r\n                } else {\r\n                    return responseXML;\r\n                }\r\n            }\r\n\r\n            this.requestData(opts)\r\n                .then(function(responseXML) {\r\n                    /** Failure */\r\n                    var data = opts.postProcess(responseXML);\r\n                    deferred.resolve(data);\r\n                }, function(err) {\r\n                    /** Failure */\r\n                    toastr.error('Failed to complete the requested ' + opts.operation + ' operation.');\r\n                    deferred.reject(err);\r\n                });\r\n\r\n            return deferred.promise;\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name DataService.startWorkflow\r\n         * @description\r\n         * Initiate a workflow for a given list item or document.  You can view additional info at\r\n         * [StartWorkflow](http: //spservices.codeplex.com/wikipage?title=StartWorkflow&referringTitle=Workflow).\r\n         * @param {object} options Configuration options.\r\n         * @param {string} options.item Full fileRef for the given list item/document.\r\n         * @param {string} options.templateId The workflow template GUID.  You can use dataService.getAvailableWorkflows\r\n         * to locate to appropriate one.\r\n         * @param {string} [options.workflowParameters='<root />'] Optionally provide paramaters to the workflow.\r\n         * @param {string} [options.fileRef] Optionally pass in the relative fileRef of an listItem and then we can\r\n         * convert it to options.item.\r\n         * @returns {object} Deferred object that resolves once complete.\r\n         * @example\r\n         * <pre>\r\n         * DataService.startWorkflow({\r\n         *     item: \"https: //server/site/Lists/item\" + idData + \"_.000\",\r\n         *     templateId: \"{c29c1291-a25c-47d7-9345-8fb1de2a1fa3}\",\r\n         *     workflowParameters: \"<Data><monthName>\" + txtBox.value + \"</monthName></Data>\",\r\n         *   ...}).then(function() {\r\n         *       //Success\r\n         *   }, function(err) {\r\n         *       //Error\r\n         *   })\r\n         * </pre>\r\n         */\r\n        startWorkflow(options: { item: string; templateId: string; workflowParameters?: string; fileRef?: string; }): ng.IPromise<any> {\r\n            var defaults = {\r\n                operation: 'StartWorkflow',\r\n                item: '',\r\n                fileRef: '',\r\n                templateId: '',\r\n                workflowParameters: '<root />'\r\n            },\r\n                opts: { item: string; fileRef: string; } = _.assign({}, defaults, options);\r\n\r\n            /** We have the relative file reference but we need to create the fully qualified reference */\r\n            if (!opts.item && opts.fileRef) {\r\n                opts.item = this.createItemUrlFromFileRef(opts.fileRef);\r\n            }\r\n\r\n            return this.serviceWrapper(opts);\r\n\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name DataService.updateListItem\r\n         * @description\r\n         * Updates an existing list item.\r\n         * @param {object} model Reference to the entities model.\r\n         * @param {object} listItem JavaScript object representing the SharePoint list item.\r\n         * @param {object} [options] Optional configuration params.\r\n         * @param {boolean} [options.buildValuePairs=true] Automatically generate pairs based on fields defined in model.\r\n         * @param {Array[]} [options.valuePairs] Precomputed value pairs to use instead of generating them for each\r\n         * field identified in the model.\r\n         * @returns {object} Promise which resolves with the newly created item.\r\n         */\r\n        updateListItem<T extends ListItem<any>>(model: Model, listItem: T, options?: IUpdateListitemOptions): ng.IPromise<T> {\r\n            var defaults = {\r\n                batchCmd: 'Update',\r\n                buildValuePairs: true,\r\n                ID: listItem.id,\r\n                listName: model.list.getListId(),\r\n                operation: 'UpdateListItems',\r\n                target: listItem.getCache(),\r\n                valuePairs: [],\r\n                webURL: model.list.identifyWebURL()\r\n            },\r\n                deferred = $q.defer(),\r\n                opts: { buildValuePairs: boolean; valuePairs: [string, any][]; webURL: string; } = _.assign({}, defaults, options);\r\n\r\n            if (opts.buildValuePairs === true) {\r\n                var editableFields = _.where(model.list.fields, { readOnly: false });\r\n                opts.valuePairs = apEncodeService.generateValuePairs(editableFields, listItem);\r\n            }\r\n\r\n            if (model.list.webURL && !opts.webURL) {\r\n                opts.webURL = model.list.webURL;\r\n            }\r\n\r\n            /** Notify any listeners to expect a change */\r\n            apChangeService.registerListItemUpdate(listItem, opts, deferred.promise);\r\n\r\n            ///** Overload the function then pass anything past the first parameter to the supporting methods */\r\n            //this.serviceWrapper(opts, listItem, model)\r\n            this.serviceWrapper(opts)\r\n                .then(function(response) {\r\n                    var indexedCache = apDecodeService.processListItems(model, listItem.getQuery(), response, opts);\r\n                    /** Return reference to updated listItem  */\r\n                    deferred.resolve(indexedCache[listItem.id]);\r\n                }, function(err) {\r\n                    deferred.reject(err);\r\n                });\r\n\r\n            return deferred.promise;\r\n        }\r\n\r\n        /**\r\n         * @description\r\n         * Simply verifies that all components of the payload are present.\r\n         * @param {object} opts Payload config.\r\n         * @returns {boolean} Collection is valid.\r\n         */\r\n        validateCollectionPayload(opts): boolean {\r\n            var validPayload = true;\r\n            var verifyParams = (params) => {\r\n                _.each(params, (param) => {\r\n                    if (!opts[param]) {\r\n                        toastr.error('options' + param + ' is required to complete this operation');\r\n                        validPayload = false;\r\n                    }\r\n                });\r\n            };\r\n\r\n            //Verify all required params are included\r\n            switch (opts.operation) {\r\n                case 'GetGroupCollectionFromUser':\r\n                    verifyParams(['userLoginName']);\r\n                    break;\r\n                case 'GetUserCollectionFromGroup':\r\n                    verifyParams(['groupName']);\r\n                    break;\r\n                case 'GetViewCollection':\r\n                    verifyParams(['listName']);\r\n                    break;\r\n                case 'GetAttachmentCollection':\r\n                    verifyParams(['listName', 'ID']);\r\n                    break;\r\n            }\r\n            return validPayload;\r\n        }\r\n\r\n\r\n    }\r\n\r\n    interface ICreateListItemOptions<T extends ListItem<any>> {\r\n        buildValuePairs?: boolean;\r\n        indexedCache?: IndexedCache<T>;\r\n        getCache?: () => IndexedCache<T>;\r\n        valuePairs?: [string, any][];\r\n    }\r\n\r\n    export interface IExecuteQueryOptions {\r\n        factory?: Function;\r\n        filter?: string;\r\n        mapping?: FieldDefinition[];\r\n        target?: IndexedCache<any>;\r\n        [key: string]: any;\r\n    }\r\n\r\n    interface IGetCollectionOptions {\r\n        filterNode: string;\r\n        groupName?: string;\r\n        listName?: string;\r\n        operation: string;\r\n        userLoginName?: string;\r\n    }\r\n\r\n    interface IServiceWrapperOptions {\r\n        filterNode?: string;\r\n        operation: string;\r\n        postProcess?: (responseXML: Object) => any;\r\n        webURL?: string;\r\n    }\r\n\r\n    interface IUpdateListitemOptions {\r\n        buildValuePairs?: boolean;\r\n        valuePairs?: [string, any][];\r\n    }\r\n\r\n\r\n    angular\r\n        .module('angularPoint')\r\n        .service('apDataService', DataService);\r\n\r\n}\r\n","/// <reference path=\"../app.module.ts\" />\r\n\r\nmodule ap {\r\n    'use strict';\r\n\r\n    /**\r\n     * @ngdoc service\r\n     * @name angularPoint.apDecodeService\r\n     * @description\r\n     * Processes the XML received from SharePoint and converts it into JavaScript objects based on predefined field types.\r\n     *\r\n     * @requires angularPoint.apUtilityService\r\n     * @requires angularPoint.apConfig\r\n     * @requires angularPoint.apCacheService\r\n     */\r\n    export class DecodeService {\r\n        static $inject = ['apCacheService', 'apLookupFactory', 'apUserFactory', 'apFieldService',\r\n            'apXMLListAttributeTypes', 'apXMLFieldAttributeTypes', 'apXMLToJSONService'];\r\n\r\n        constructor(private apCacheService: CacheService, private apLookupFactory: LookupFactory,\r\n            private apUserFactory: UserFactory, private apFieldService: FieldService, private apXMLListAttributeTypes: XMLListAttributeTypes,\r\n            private apXMLFieldAttributeTypes: XMLFieldAttributeTypes, private apXMLToJSONService: XMLToJSONService) {\r\n\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name angularPoint.apDecodeService:checkResponseForErrors\r\n         * @methodOf angularPoint.apDecodeService\r\n         * @description\r\n         * Errors don't always throw correctly from SPServices so this function checks to see if part\r\n         * of the XHR response contains an \"errorstring\" element.\r\n         * @param {object} responseXML XHR response from the server.\r\n         * @returns {string|null} Returns an error string if present, otherwise returns null.\r\n         */\r\n        checkResponseForErrors(responseXML: XMLDocument): string {\r\n            var error = null;\r\n            /** Look for <errorstring></errorstring> or <ErrorText></ErrorText> for details on any errors */\r\n            var errorElements = ['ErrorText', 'errorstring'];\r\n            _.each(errorElements, (element) => {\r\n                $(responseXML).find(element).each(function() {\r\n                    error = $(this).text();\r\n                    /** Break early if found */\r\n                    return false;\r\n                });\r\n            });\r\n            return error;\r\n        }\r\n\r\n        /** Converts UTC date to a localized date\r\n         * Taken from: http://stackoverflow.com/questions/6525538/convert-utc-date-time-to-local-date-time-using-javascript\r\n         * */\r\n        convertUTCDateToLocalDate(date: Date): Date {\r\n            var newDate = new Date(date.getTime() + date.getTimezoneOffset() * 60 * 1000);\r\n\r\n            var offset = date.getTimezoneOffset() / 60;\r\n            var hours = date.getHours();\r\n\r\n            newDate.setHours(hours - offset);\r\n\r\n            return newDate;\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name angularPoint.apDecodeService:createListItemProvider\r\n         * @methodOf angularPoint.apDecodeService\r\n         * @description\r\n         * The initial constructor for a list item that references the array where the entity exists and the\r\n         * query used to fetch the entity.  From there it extends the entity using the factory defined in the\r\n         * model for the list item.\r\n         * @param {object} model Reference to the model for the list item.\r\n         * @param {object} query Reference to the query object used to retrieve the entity.\r\n         * @param {object} indexedCache Location where we'll be pushing the new entity.\r\n         * @returns {Function} Returns a function that takes the new list item while keeping model, query,\r\n         * and container in scope for future reference.\r\n         */\r\n        createListItemProvider<T extends ListItem<any>>(model: Model, query: IQuery<T>, indexedCache: IndexedCache<T>): (rawObject: Object) => T {\r\n            return (rawObject: { [key: string]: any, getCache(): IndexedCache<T>, getQuery(): IQuery<T>, id: number }) => {\r\n                var listItem: T;\r\n\r\n                if (indexedCache[rawObject.id]) {\r\n                    //Object already exists in cache so we just need to update properties\r\n                    listItem = indexedCache[rawObject.id];\r\n\r\n                    //Call constructor on original list item to perform any initialization logic again\r\n                    listItem.constructor(rawObject);\r\n\r\n                } else {\r\n                    //Creating a new List Item\r\n\r\n                    /** Create Reference to the indexed cache */\r\n                    rawObject.getCache = () => indexedCache;\r\n\r\n                    /** Allow us to reference the originating query that generated this object */\r\n                    rawObject.getQuery = () => query;\r\n\r\n                    listItem = new model.factory<T>(rawObject);\r\n\r\n                    /** Register in global application listItem cache */\r\n                    this.apCacheService.registerEntity<T>(listItem, indexedCache);\r\n                }\r\n\r\n                //Store the value instead of just a reference to the original object\r\n                var pristineValue = _.cloneDeep(rawObject);\r\n\r\n                //Allow us to reference the uninstantiated version of this list item\r\n                listItem.getPristine = () => pristineValue;\r\n\r\n                return indexedCache[rawObject.id];\r\n            }\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name angularPoint.apDecodeService:extendFieldDefinitionsFromXML\r\n         * @methodOf angularPoint.apDecodeService\r\n         * @description\r\n         * Takes the XML response from a web service call and extends any field definitions in the model\r\n         * with additional field metadata.  Important to note that all properties will coming from the XML start\r\n         * with a capital letter.\r\n         * @param {object[]} fieldDefinitions Field definitions from the model.\r\n         * @param {object} responseXML XML response from the server.\r\n         */\r\n        extendFieldDefinitionsFromXML(fieldDefinitions: FieldDefinition[], responseXML: XMLDocument): IExtendedFieldDefinition[] {\r\n            var fieldMap = {};\r\n\r\n            /** Map all custom fields with keys of the staticName and values = field definition */\r\n            _.each(fieldDefinitions, (field) => {\r\n                if (field.staticName) {\r\n                    fieldMap[field.staticName] = field;\r\n                }\r\n            });\r\n\r\n            /** Iterate over each of the field nodes */\r\n            var filteredNodes = this.apXMLToJSONService.filterNodes(responseXML, 'Field');\r\n\r\n            _.each(filteredNodes, (xmlField: JQuery) => {\r\n                var staticName = $(xmlField).attr('StaticName');\r\n                var fieldDefinition = fieldMap[staticName];\r\n\r\n                /** If we've defined this field then we should extend it */\r\n                if (fieldDefinition) {\r\n\r\n                    this.extendObjectWithXMLAttributes(xmlField, fieldDefinition, this.apXMLFieldAttributeTypes);\r\n\r\n                    /** Additional processing for Choice fields to include the default value and choices */\r\n                    if (fieldDefinition.objectType === 'Choice' || fieldDefinition.objectType === 'MultiChoice') {\r\n                        fieldDefinition.Choices = [];\r\n                        /** Convert XML Choices object to an array of choices */\r\n                        var xmlChoices = $(xmlField).find('CHOICE');\r\n                        _.each(xmlChoices, (xmlChoice) => {\r\n                            fieldDefinition.Choices.push($(xmlChoice).text());\r\n                        });\r\n                        fieldDefinition.Default = $(xmlField).find('Default').text();\r\n                    }\r\n                }\r\n            });\r\n\r\n            return fieldDefinitions;\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name angularPoint.apDecodeService:extendListDefinitionFromXML\r\n         * @methodOf angularPoint.apDecodeService\r\n         * @description\r\n         * Takes the XML response from a web service call and extends the list definition in the model\r\n         * with additional field metadata.  Important to note that all properties will coming from the XML start\r\n         * with a capital letter.\r\n         * @param {object} list model.list\r\n         * @param {object} responseXML XML response from the server.\r\n         * @returns {object} Extended list object.\r\n         */\r\n        extendListDefinitionFromXML(list: List, responseXML: XMLDocument): List {\r\n            var service = this;\r\n            $(responseXML).find(\"List\").each(function() {\r\n                service.extendObjectWithXMLAttributes(this, list, service.apXMLListAttributeTypes);\r\n            });\r\n            return list;\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name angularPoint.apDecodeService:extendListMetadata\r\n         * @methodOf angularPoint.apDecodeService\r\n         * @description\r\n         * Convenience method that extends the list definition and the field definitions from an xml list response\r\n         * from the server.  Can be used specifically with GetListItemsSinceToken and GetList operations.\r\n         * @param {object} model Model for a given list.\r\n         * @param {object} responseXML XML response from the server.\r\n         */\r\n        extendListMetadata(model: Model, responseXML: XMLDocument): void {\r\n            this.extendListDefinitionFromXML(model.list, responseXML);\r\n            this.extendFieldDefinitionsFromXML(model.list.fields, responseXML);\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name angularPoint.apDecodeService:extendObjectWithXMLAttributes\r\n         * @methodOf angularPoint.apDecodeService\r\n         * @description\r\n         * Takes an XML element and copies all attributes over to a given JS object with corresponding values.  If\r\n         * no JS Object is provided, it extends an empty object and returns it.  If an attributeTypes object is provided\r\n         * we parse each of the defined field so they are typed correctly instead of being a simple string.\r\n         * Note: Properties are not necessarily CAMLCase.\r\n         * @param {object} xmlObject An XML element.\r\n         * @param {object} [jsObject={}] An optional JS Object to extend XML attributes to.\r\n         * @param {object} [attributeTypes={}] Key/Val object with keys being the name of the field and val being the\r\n         * type of field.\r\n         * @returns {object} JS Object\r\n         */\r\n        extendObjectWithXMLAttributes(xmlObject: JQuery, jsObject?: Object, attributeTypes?: Object): Object {\r\n            var objectToExtend = jsObject || {};\r\n            var attributeMap = attributeTypes || {};\r\n            var xmlAttributes = xmlObject.attributes;\r\n\r\n            _.each(xmlAttributes, (attr, attrNum) => {\r\n                var attrName = xmlAttributes[attrNum].name;\r\n                objectToExtend[attrName] = $(xmlObject).attr(attrName);\r\n                if (attributeMap[attrName]) {\r\n                    objectToExtend[attrName] = this.parseStringValue(objectToExtend[attrName], attributeMap[attrName]);\r\n                }\r\n            });\r\n            return objectToExtend;\r\n        }\r\n\r\n\r\n        jsAttachments(str): string[]|number|string {\r\n            /* Depending on CAMLQueryOptions Config an attachment can be formatted in 1 of the below 3 ways:\r\n             1. {number} The number of attachments for a given list item.\r\n             CAMLQueryOptions\r\n             <IncludeAttachmentUrls>FALSE</IncludeAttachmentUrls>\r\n             <IncludeAttachmentVersion>FALSE</IncludeAttachmentVersion>\r\n\r\n             Example\r\n             ows_Attachments=\"2\"\r\n\r\n             2. {string}\r\n             CAMLQueryOptions\r\n             <IncludeAttachmentUrls>TRUE</IncludeAttachmentUrls>\r\n             <IncludeAttachmentVersion>FALSE</IncludeAttachmentVersion>\r\n\r\n             Format\r\n             ;#[ListUrl]/Attachments/[ListItemId]/[FileName];#\r\n\r\n             Example:\r\n             ows_Attachments=\";#https://SharePointSite.com/Lists/Widgets/Attachments/4/DocumentName.xlsx;#\"\r\n\r\n             //Todo Check to see if there is any value in this option\r\n             3. {string} NOTE: We don't currently handle this format.\r\n             CAMLQueryOptions\r\n             <IncludeAttachmentUrls>TRUE</IncludeAttachmentUrls>\r\n             <IncludeAttachmentVersion>TRUE</IncludeAttachmentVersion>\r\n\r\n             Format\r\n             ;#[ListUrl]/Attachments/[ListItemId]/[FileName];#[AttachmentGUID],[Version Number];#\r\n\r\n             Example:\r\n             ows_Attachments=\";#https://SharePointSite.com/Lists/Widgets/Attachments/4/DocumentName.xlsx;#{4378D394-8601-480D-ABD0-0A0505E726FB},1;#\"\r\n             */\r\n            if (!isNaN(str)) {\r\n                /** Value is a number current stored as a string */\r\n                var int = parseInt(str);\r\n                if (int > 0) {\r\n                    return int;\r\n                } else {\r\n                    return '';\r\n                }\r\n            } else {\r\n                /** Split into an array of attachment URLs */\r\n                return this.jsChoiceMulti(str);\r\n            }\r\n        }\r\n\r\n        jsBoolean(str: string): boolean {\r\n            /** SharePoint uses different string representations for booleans in different places so account for each */\r\n            return str === '1' || str === 'True' || str === 'TRUE';\r\n        }\r\n\r\n        jsCalc(str: string): any {\r\n            if (str.length === 0) {\r\n                return null;\r\n            } else {\r\n                var thisCalc = str.split(';#');\r\n                // The first value will be the calculated column value type, the second will be the value\r\n                return this.parseStringValue(thisCalc[1], thisCalc[0]);\r\n            }\r\n        }\r\n\r\n        jsChoiceMulti(str: string): string[] {\r\n            if (str.length === 0) {\r\n                return [];\r\n            } else {\r\n                var thisChoiceMultiObject = [];\r\n                var thisChoiceMulti = str.split(';#');\r\n                for (var i = 0; i < thisChoiceMulti.length; i++) {\r\n                    if (thisChoiceMulti[i].length !== 0) {\r\n                        thisChoiceMultiObject.push(thisChoiceMulti[i]);\r\n                    }\r\n                }\r\n                return thisChoiceMultiObject;\r\n            }\r\n        }\r\n\r\n        jsDate(str: string): Date {\r\n            if (!str) {\r\n                return null;\r\n            } else {\r\n                /** Replace dashes with slashes and the \"T\" deliminator with a space if found */\r\n                var dt = str.split(\"T\")[0] !== str ? str.split(\"T\") : str.split(\" \");\r\n                var d = dt[0].split(\"-\");\r\n                var t = dt[1].split(\":\");\r\n                var t3 = t[2].split(\"Z\");\r\n                return new Date(d[0], (d[1] - 1), d[2], t[0], t[1], t3[0]);\r\n            }\r\n        }\r\n\r\n        jsFloat(str: string): number {\r\n            if (!str) {\r\n                return str;\r\n            } else {\r\n                return parseFloat(str);\r\n            }\r\n        }\r\n\r\n        jsInt(str: string): number {\r\n            if (!str) {\r\n                return str;\r\n            } else {\r\n                return parseInt(str, 10);\r\n            }\r\n        }\r\n\r\n        jsLookup(str: string, options?: Object): ILookup {\r\n            if (str.length === 0) {\r\n                return null;\r\n            } else {\r\n                //Send to constructor\r\n                return this.apLookupFactory.create(str, options);\r\n            }\r\n        }\r\n\r\n        jsLookupMulti(str: string, options?: Object): ILookup[] {\r\n            if (str.length === 0) {\r\n                return [];\r\n            } else {\r\n                var thisLookupMultiObject = [];\r\n                var thisLookupMulti = str.split(';#');\r\n                for (var i = 0; i < thisLookupMulti.length; i = i + 2) {\r\n                    /** Ensure a lookup id is present before attempting to push a new lookup */\r\n                    if (thisLookupMulti[i]) {\r\n                        var thisLookup = this.jsLookup(thisLookupMulti[i] + ';#' + thisLookupMulti[i + 1], options);\r\n                        thisLookupMultiObject.push(thisLookup);\r\n                    }\r\n                }\r\n                return thisLookupMultiObject;\r\n            }\r\n        }\r\n\r\n        jsObject(str: string): Object {\r\n            if (!str) {\r\n                return str;\r\n            } else {\r\n                /** Ensure JSON is valid and if not throw error with additional detail */\r\n                var json = null;\r\n                try {\r\n                    json = JSON.parse(str);\r\n                }\r\n                catch (err) {\r\n                    console.error('Invalid JSON: ', str);\r\n                }\r\n                return json;\r\n            }\r\n        }\r\n\r\n        jsString(str: string): string {\r\n            return str;\r\n        }\r\n\r\n        jsUser(str: string): IUser {\r\n            if (str.length === 0) {\r\n                return null;\r\n            }\r\n            //Send to constructor\r\n            return this.apUserFactory.create(str);\r\n        }\r\n\r\n        jsUserMulti(str: string): IUser[] {\r\n            if (str.length === 0) {\r\n                return [];\r\n            } else {\r\n                var thisUserMultiObject = [];\r\n                var thisUserMulti = str.split(';#');\r\n                for (var i = 0; i < thisUserMulti.length; i = i + 2) {\r\n                    var thisUser = this.jsUser(thisUserMulti[i] + ';#' + thisUserMulti[i + 1]);\r\n                    thisUserMultiObject.push(thisUser);\r\n                }\r\n                return thisUserMultiObject;\r\n            }\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name angularPoint.apDecodeService:parseFieldVersions\r\n         * @methodOf angularPoint.apDecodeService\r\n         * @description\r\n         * Takes an XML response from SharePoint webservice and returns an array of field versions.\r\n         *\r\n         * @param {xml} responseXML Returned XML from web service call.\r\n         * @param {object} fieldDefinition Field definition from the model.\r\n         *\r\n         * @returns {Array} Array objects containing the various version of a field for each change.\r\n         */\r\n        parseFieldVersions(responseXML: XMLDocument, fieldDefinition: FieldDefinition): IListItemVersion<any>[] {\r\n            var versions = [];\r\n            var xmlVersions = $(responseXML).find('Version');\r\n            var versionCount = xmlVersions.length;\r\n\r\n            _.each(xmlVersions, (xmlVersion, index) => {\r\n\r\n                /** Bug in SOAP Web Service returns time in UTC time for version history\r\n                 *  Details: https://spservices.codeplex.com/discussions/391879\r\n                 */\r\n                var utcDate = this.parseStringValue($(xmlVersion).attr('Modified'), 'DateTime');\r\n\r\n                /** Parse the xml and create a representation of the version as a js object */\r\n                var version = {\r\n                    editor: this.parseStringValue($(xmlVersion).attr('Editor'), 'User'),\r\n                    /** Turn the SharePoint formatted date into a valid date object */\r\n                    modified: this.convertUTCDateToLocalDate(utcDate),\r\n                    /** Returns records in desc order so compute the version number from index */\r\n                    version: versionCount - index\r\n                };\r\n\r\n                /** Properly format field based on definition from model */\r\n                version[fieldDefinition.mappedName] =\r\n                this.parseStringValue($(xmlVersion).attr(fieldDefinition.staticName), fieldDefinition.objectType);\r\n\r\n                /** Push to beginning of array */\r\n                versions.unshift(version);\r\n            });\r\n\r\n            return versions;\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name angularPoint.apDecodeService:parseStringValue\r\n         * @methodOf angularPoint.apDecodeService\r\n         * @description\r\n         * Converts a SharePoint string representation of a field into the correctly formatted JavaScript version\r\n         * based on object type.  A majority of this code is directly taken from Marc Anderson's incredible\r\n         * [SPServices](http://spservices.codeplex.com/) project but it needed some minor tweaking to work here.\r\n         * @param {string} str SharePoint string representing the value.\r\n         * @param {string} [objectType='Text'] The type based on field definition.  See\r\n         * See [List.customFields](#/api/List.FieldDefinition) for additional info on how to define a field type.\r\n         * @param {object} [options] Options to pass to the object constructor.\r\n         * @param {object} [options.entity] Reference to the parent list item which can be used by child constructors.\r\n         * @param {object} [options.propertyName] Name of property on the list item.\r\n         * @returns {*} The newly instantiated JavaScript value based on field type.\r\n         */\r\n        parseStringValue(str: string, objectType?: string, options?: { entity: Object; propertyName: string; }): any {\r\n\r\n            var unescapedValue = _.unescape(str);\r\n\r\n            var colValue;\r\n\r\n            switch (objectType) {\r\n                case 'Attachments':\r\n                    colValue = this.jsAttachments(unescapedValue);\r\n                    break;\r\n                case 'Boolean':\r\n                    colValue = this.jsBoolean(unescapedValue);\r\n                    break;\r\n                case 'Calculated': // Formatted like type;#value so we break it apart and then pass back in to format correctly\r\n                    colValue = this.jsCalc(unescapedValue);\r\n                    break;\r\n                case 'datetime': // For calculated columns, stored as datetime;#value\r\n                case 'DateTime':\r\n                    // Dates have dashes instead of slashes: ows_Created='2009-08-25 14:24:48'\r\n                    colValue = this.jsDate(unescapedValue);\r\n                    break;\r\n                case 'Lookup':\r\n                    colValue = this.jsLookup(unescapedValue, options);\r\n                    break;\r\n                case 'User':\r\n                    colValue = this.jsUser(unescapedValue);\r\n                    break;\r\n                case 'LookupMulti':\r\n                    colValue = this.jsLookupMulti(unescapedValue, options);\r\n                    break;\r\n                case 'UserMulti':\r\n                    colValue = this.jsUserMulti(unescapedValue);\r\n                    break;\r\n                case 'Integer':\r\n                case 'Counter': // Only really used for the ID field\r\n                    colValue = this.jsInt(unescapedValue);\r\n                    break;\r\n                case 'Number':\r\n                case 'Currency':\r\n                case 'float': // For calculated columns, stored as float;#value\r\n                case 'Float':\r\n                    colValue = this.jsFloat(unescapedValue);\r\n                    break;\r\n                case 'MultiChoice':\r\n                    colValue = this.jsChoiceMulti(unescapedValue);\r\n                    break;\r\n                case 'JSON': // Not a true SharePoint field type but acts as a decorator for Note\r\n                    colValue = this.jsObject(unescapedValue);\r\n                    break;\r\n                case 'Choice':\r\n                case 'HTML':\r\n                case 'Note':\r\n                default:\r\n                    // All other objectTypes will be simple strings\r\n                    colValue = this.jsString(unescapedValue);\r\n                    break;\r\n            }\r\n            return colValue;\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name angularPoint.apDecodeService:parseXMLEntity\r\n         * @methodOf angularPoint.apDecodeService\r\n         * @description\r\n         * Convert an XML list item into a JS object using the fields defined in the model for the given list item.\r\n         * @param {object} xmlEntity XML Object.\r\n         * @param {object} options Configuration options.\r\n         * @param {string} options.mapping Mapping of fields we'd like to extend on our JS object.\r\n         * @param {boolean} [options.includeAllAttrs=false] If true, return all attributes, regardless whether\r\n         * @param {boolean} [options.listItemProvider] List item constructor.\r\n         * @param {boolean} [options.removeOws=true] Specifically for GetListItems, if true, the leading ows_ will\r\n         * @returns {object} New entity using the factory on the model.\r\n         */\r\n        parseXMLEntity<T extends ListItem<any>>(xmlEntity: JQuery, options: { mapping: FieldDefinition[]; includeAllAttrs?: boolean; listItemProvider?: Function; removeOws?: boolean; target?: IndexedCache<T> }): Object {\r\n            var entity = {};\r\n            var rowAttrs = xmlEntity.attributes;\r\n\r\n            /** Bring back all mapped columns, even those with no value */\r\n            _.each(options.mapping, (fieldDefinition) => {\r\n                entity[fieldDefinition.mappedName] = this.apFieldService.getDefaultValueForType(fieldDefinition.objectType);\r\n            });\r\n\r\n            /** Parse through the element's attributes */\r\n            _.each(rowAttrs, (attr) => {\r\n                var thisAttrName = attr.name;\r\n                var thisMapping = options.mapping[thisAttrName];\r\n                var thisObjectName = typeof thisMapping !== 'undefined' ? thisMapping.mappedName : options.removeOws ? thisAttrName.split('ows_')[1] : thisAttrName;\r\n                var thisObjectType = typeof thisMapping !== 'undefined' ? thisMapping.objectType : undefined;\r\n                if (options.includeAllAttrs || thisMapping !== undefined) {\r\n                    entity[thisObjectName] = this.parseStringValue(attr.value, thisObjectType, {\r\n                        entity: entity,\r\n                        propertyName: thisObjectName\r\n                    });\r\n                }\r\n\r\n            });\r\n            return entity;\r\n        }\r\n\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name angularPoint.apDecodeService:processListItems\r\n         * @methodOf angularPoint.apDecodeService\r\n         * @description\r\n         * Post processing of data after returning list items from server.  Returns a promise that resolves with\r\n         * the processed entities.  Promise allows us to batch conversions of large lists to prevent ui slowdowns.\r\n         * @param {object} model Reference to allow updating of model.\r\n         * @param {object} query Reference to the query responsible for requesting entities.\r\n         * @param {xml} responseXML Resolved promise from SPServices web service call.\r\n         * @param {object} [options] Optional configuration object.\r\n         * @param {function} [options.factory=model.factory] Constructor function typically stored on the model.\r\n         * @param {string} [options.filter='z:row'] XML filter string used to find the elements to iterate over.\r\n         * @param {Array} [options.mapping=model.list.mapping] Field definitions, typically stored on the model.\r\n         * @param {Array} [options.target=model.getCache()] Optionally pass in array to update after processing.\r\n         * @returns {Object} Inedexed Cache.\r\n         */\r\n        processListItems<T extends ListItem<any>>(model: Model, query: IQuery<T>, responseXML: XMLDocument, options?: IExecuteQueryOptions): IndexedCache<T> {\r\n            var defaults = {\r\n                factory: model.factory,\r\n                filter: 'z:row',\r\n                mapping: model.list.mapping,\r\n                target: model.getCache()\r\n            };\r\n\r\n            var opts: IExecuteQueryOptions = _.assign({}, defaults, options);\r\n\r\n            /** Map returned XML to JS objects based on mapping from model */\r\n            var filteredNodes = this.apXMLToJSONService.filterNodes(responseXML, opts.filter);\r\n\r\n            /** Prepare constructor for XML entities with references to the query and cached container */\r\n            var listItemProvider = this.createListItemProvider(model, query, opts.target);\r\n\r\n            /** Convert XML entities into JS objects and register in cache with listItemProvider, this returns an\r\n             * array of entities but at this point we're not using them because the indexed cache should be more\r\n             * performant. */\r\n            this.xmlToJson(filteredNodes, listItemProvider, opts);\r\n\r\n            return opts.target;\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name angularPoint.apDecodeService:xmlToJson\r\n         * @methodOf angularPoint.apDecodeService\r\n         * @description\r\n         * Converts an XML node set to Javascript object array. This is a modified version of the SPServices\r\n         * \"SPXmlToJson\" function.\r\n         * @param {array} xmlEntities [\"z:rows\"] XML rows that need to be parsed.\r\n         * @param {function} listItemProvider Constructor function used to build the list item with references to\r\n         * the query, cached container, and registers each list item in the apCacheService.\r\n         * @param {object} options Options object.\r\n         * @param {object[]} options.mapping [columnName: \"mappedName\", objectType: \"objectType\"]\r\n         * @param {boolean} [options.includeAllAttrs=false] If true, return all attributes, regardless whether\r\n         * @param {boolean} [options.listItemProvider] List item constructor.\r\n         * @param {boolean} [options.removeOws=true] Specifically for GetListItems, if true, the leading ows_ will\r\n         * be stripped off the field name.\r\n         * @param {array} [options.target] Optional location to push parsed entities.\r\n         * @returns {object[]} An array of JavaScript objects.\r\n         */\r\n        xmlToJson<T extends ListItem<any>>(xmlEntities: JQuery, listItemProvider: (Object) => T, options: IXMLToJsonOptions<T>): T[] {\r\n\r\n            var defaults = {\r\n                mapping: {},\r\n                includeAllAttrs: false,\r\n                removeOws: true\r\n            };\r\n\r\n            var opts: IXMLToJsonOptions<T> = _.assign({}, defaults, options);\r\n            var parsedEntities = [];\r\n\r\n            _.each(xmlEntities, (xmlEntity) => {\r\n                var parsedEntity = this.parseXMLEntity(xmlEntity, opts);\r\n                var instantiatedListItem = listItemProvider(parsedEntity);\r\n                parsedEntities.push(instantiatedListItem);\r\n            });\r\n\r\n            return parsedEntities;\r\n        }\r\n\r\n\r\n    }\r\n\r\n\r\n    /**********************PRIVATE*********************/\r\n\r\n\r\n\r\n    interface IXMLToJsonOptions<T extends ListItem<any>> extends IExecuteQueryOptions {\r\n        includeAllAttrs?: boolean;\r\n        listItemProvider?: Function;\r\n        mapping: FieldDefinition[];\r\n        removeOws?: boolean;\r\n        target?: IndexedCache<T>;\r\n    }\r\n\r\n\r\n\r\n    angular.module('angularPoint')\r\n        .service('apDecodeService', DecodeService)\r\n\r\n}\r\n","/// <reference path=\"../app.module.ts\" />\r\n\r\nmodule ap {\r\n    'use strict';\r\n\r\n\r\n    export class EncodeService {\r\n        savedTimeZone;\r\n        static $inject = ['apUtilityService', 'SPServices'];\r\n\r\n        constructor(private apUtilityService, private SPServices) {\r\n\r\n        }\r\n\r\n        /**\r\n         * Converts an array of selected values into a SharePoint MultiChoice string\r\n         * @param {string[]} arr\r\n         * @returns {string}\r\n         */\r\n        choiceMultiToString(arr: string[]): string {\r\n            var str = '';\r\n            var delim = ';#';\r\n\r\n            if (arr.length > 0) {\r\n                /** String is required to begin with deliminator */\r\n                str += delim;\r\n\r\n                /** Append each item in the supplied array followed by deliminator */\r\n                _.each(arr, (choice) => str += choice + delim);\r\n            }\r\n            return str;\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name angularPoint.apEncodeService:createValuePair\r\n         * @methodOf angularPoint.apEncodeService\r\n         * @description\r\n         * Uses a field definition from a model to properly format a value for submission to SharePoint.  Typically\r\n         * used prior to saving a list item, we iterate over each of the non-readonly properties defined in the model\r\n         * for a list item and convert those value into value pairs that we can then hand off to SPServices.\r\n         * @param {object} fieldDefinition The field definition, typically defined in the model.\r\n         * <pre>\r\n         * {\r\n             *  staticName: \"Title\",\r\n             *  objectType: \"Text\",\r\n             *  mappedName: \"lastName\",\r\n             *  readOnly:false\r\n             * }\r\n         * </pre>\r\n         * @param {*} value Current field value.\r\n         * @returns {Array} [fieldName, fieldValue]\r\n         */\r\n        createValuePair(fieldDefinition: FieldDefinition, value: any): [string, string] {\r\n            var encodedValue = this.encodeValue(fieldDefinition.objectType, value);\r\n            return [fieldDefinition.staticName, encodedValue];\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name angularPoint.apEncodeService:encodeValue\r\n         * @methodOf angularPoint.apEncodeService\r\n         * @param {string} fieldType One of the valid field types.\r\n         * @param {*} value Value to be encoded.\r\n         * @returns {string} Encoded value ready to be sent to the server.\r\n         */\r\n        encodeValue(fieldType: string, value: any): string {\r\n            var str: string = '';\r\n            /** Only process if note empty, undefined, or null.  Allow false. */\r\n            if (value !== '' && !_.isUndefined(value) && !_.isNull(value)) {\r\n                switch (fieldType) {\r\n                    case 'Lookup':\r\n                    case 'User':\r\n                        if (value.lookupId) {\r\n                            /** Only include lookupValue if defined */\r\n                            str = value.lookupId + ';#' + (value.lookupValue || '');\r\n                        }\r\n                        break;\r\n                    case 'LookupMulti':\r\n                    case 'UserMulti':\r\n                        str = this.stringifySharePointMultiSelect(value, 'lookupId');\r\n                        break;\r\n                    case 'MultiChoice':\r\n                        str = this.choiceMultiToString(value);\r\n                        break;\r\n                    case 'Boolean':\r\n                        str = value ? \"1\" : \"0\";\r\n                        break;\r\n                    case 'DateTime':\r\n                        //A string date in ISO8601 format, e.g., '2013-05-08T01:20:29Z-05:00'\r\n                        str = this.stringifySharePointDate(value);\r\n                        break;\r\n                    case 'JSON':\r\n                        str = JSON.stringify(value);\r\n                        break;\r\n                    case 'HTML':\r\n                    case 'Note':\r\n                    default:\r\n                        str = value;\r\n                }\r\n            }\r\n            if (_.isString(str)) {\r\n                /** Ensure we encode before sending to server (replace \", <, >)*/\r\n                str = this.SPServices.encodeXml(str);\r\n            }\r\n            return str;\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name angularPoint.apEncodeService:generateValuePairs\r\n         * @methodOf angularPoint.apEncodeService\r\n         * @description\r\n         * Typically used to iterate over the non-readonly field definitions stored in a model and convert a\r\n         * given list item entity into value pairs that we can pass to SPServices for saving.\r\n         * @param {Array} fieldDefinitions Definitions from the model.\r\n         * @param {object} listItem list item that we'll attempt to iterate over to find the properties that we need to\r\n         * save it to SharePoint.\r\n         * @returns {[string, string][]} Value pairs of all non-readonly fields.\r\n         * @example\r\n         * [[fieldName1, fieldValue1], [fieldName2, fieldValue2], ...]\r\n         */\r\n        generateValuePairs(fieldDefinitions: FieldDefinition[], listItem: ListItem<any>): [string, string][] {\r\n            var pairs = [];\r\n            _.each(fieldDefinitions, (field) => {\r\n                /** Check to see if item contains data for this field */\r\n                if (_.has(listItem, field.mappedName)) {\r\n                    pairs.push(this.createValuePair(field, listItem[field.mappedName]));\r\n                }\r\n            });\r\n            return pairs;\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name angularPoint.apEncodeService:stringifySharePointDate\r\n         * @methodOf angularPoint.apEncodeService\r\n         * @description\r\n         * Converts a JavaScript date into a modified ISO8601 date string using the TimeZone\r\n         * offset for the current user.\r\n         * @example\r\n         * <pre>'2014-05-08T08:12:18Z-07:00'</pre>\r\n         * @param {Date} date Valid JS date.\r\n         * @returns {string} ISO8601 date string.\r\n         */\r\n        stringifySharePointDate(date: Date | string): string {\r\n            var jsDate;\r\n            if (!_.isDate(date) && _.isString(date) && date.split('-').length === 3) {\r\n                /** Date string formatted YYYY-MM-DD */\r\n                var dateComponents = date.split('-');\r\n                jsDate = new Date(dateComponents[0], dateComponents[1] - 1, dateComponents[2], 0, 0, 0);\r\n            } else if (!_.isDate(date)) {\r\n                throw new Error('Invalid Date Provided: ' + date.toString());\r\n            } else {\r\n                jsDate = date;\r\n            }\r\n\r\n            var dateString = '';\r\n            dateString += jsDate.getFullYear();\r\n            dateString += '-';\r\n            dateString += this.apUtilityService.doubleDigit(jsDate.getMonth() + 1);\r\n            dateString += '-';\r\n            dateString += this.apUtilityService.doubleDigit(jsDate.getDate());\r\n            dateString += 'T';\r\n            dateString += this.apUtilityService.doubleDigit(jsDate.getHours());\r\n            dateString += ':';\r\n            dateString += this.apUtilityService.doubleDigit(jsDate.getMinutes());\r\n            dateString += ':';\r\n            dateString += this.apUtilityService.doubleDigit(jsDate.getSeconds());\r\n            dateString += 'Z-';\r\n\r\n            if (!this.savedTimeZone) {\r\n                //Get difference between UTC time and local time in minutes and convert to hours\r\n                //Store so we only need to do this once\r\n                this.savedTimeZone = new Date().getTimezoneOffset() / 60;\r\n            }\r\n            dateString += this.apUtilityService.doubleDigit(this.savedTimeZone);\r\n            dateString += ':00';\r\n            return dateString;\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name angularPoint.apEncodeService:stringifySharePointMultiSelect\r\n         * @methodOf angularPoint.apEncodeService\r\n         * @description\r\n         * Turns an array of, typically {lookupId: someId, lookupValue: someValue}, objects into a string\r\n         * of delimited id's that can be passed to SharePoint for a multi select lookup or multi user selection\r\n         * field.  SharePoint doesn't need the lookup values so we only need to pass the ID's back.\r\n         *\r\n         * @param {object[]} multiSelectValue Array of {lookupId: #, lookupValue: 'Some Value'} objects.\r\n         * @param {string} [idProperty='lookupId'] Property name where we'll find the ID value on each of the objects.\r\n         * @param {string} [valueProperty='lookupValue'] Property name where we'll find the value for this object.\r\n         * @returns {string} Need to format string of id's in following format [ID0];#;#[ID1];#;#[ID1]\r\n         */\r\n        stringifySharePointMultiSelect(multiSelectValue: ILookup[], idProperty = 'lookupId', valueProperty = 'lookupValue'): string {\r\n            var stringifiedValues = '';\r\n            var idProp = idProperty || 'lookupId';\r\n            var valProp = valueProperty || 'lookupValue';\r\n            _.each(multiSelectValue, function (lookupObject, iteration) {\r\n                /** Need to format string of id's in following format [ID0];#[VAL0];#[ID1];#[VAL1] */\r\n                stringifiedValues += lookupObject[idProp] + ';#' + (lookupObject[valProp] || '');\r\n                /** Append delim after all but last because we don't want trailing ';#' at end of string */\r\n                if (iteration < (multiSelectValue.length - 1)) {\r\n                    stringifiedValues += ';#';\r\n                }\r\n            });\r\n            return stringifiedValues;\r\n        }\r\n\r\n\r\n    }\r\n\r\n\r\n    /**\r\n     * @ngdoc service\r\n     * @name angularPoint.apEncodeService\r\n     * @description\r\n     * Processes JavaScript objects and converts them to a format SharePoint expects.\r\n     *\r\n     * @requires angularPoint.apUtilityService\r\n     */\r\n    angular.module('angularPoint')\r\n        .service('apEncodeService', EncodeService);\r\n}\r\n","/// <reference path=\"../app.module.ts\" />\r\n\r\nmodule ap {\r\n\r\n    function exceptionLoggingService($log, $injector) {\r\n        function error(exception, cause) {\r\n\r\n            /** Need to inject otherwise get circular dependency when using dependency injection */\r\n            var apLogger: ILogger = $injector.get('apLogger');\r\n            // now try to log the error to the server side.\r\n            apLogger.exception(exception, cause);\r\n\r\n            // preserve the default behaviour which will log the error\r\n            // to the console, and allow the application to continue running.\r\n            $log.error.apply($log, arguments);\r\n\r\n        }\r\n\r\n        return error;\r\n    }\r\n\r\n    angular\r\n        .module('angularPoint')\r\n\t\t.factory('$exceptionHandler', exceptionLoggingService);\r\n\r\n}\r\n","/// <reference path=\"../app.module.ts\" />\r\n\r\nmodule ap {\r\n    'use strict';\r\n\r\n\r\n    export class ExportService {\r\n        static $inject = ['apUtilityService', 'apFormattedFieldValueService'];\r\n\r\n        constructor(private apUtilityService, private apFormattedFieldValueService) {\r\n\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name angularPoint.apExportService:generateCSV\r\n         * @methodOf angularPoint.apExportService\r\n         * @description\r\n         * Converts an array of objects into a parsed array of arrays based on a field config object.\r\n         * @param {object[]} entities Array of objects to convert.\r\n         * @param {object|string[]} fields Array of objects defining the fields to parse.  Can also pass in strings representing the name of the field which will then be parsed based on field type.\r\n         * FieldDefinition:\r\n         * {string} object.field Property name on the object that we want to parse.\r\n         * {string} [object.label=object.field capitalized] Column Label\r\n         * {function} [object.getVal] Custom function that overrides the default method of parsing based on field type.\r\n         * @param {object} [options] Optional config settings.\r\n         * @param {string} [options.delim='; '] Delimiter used to separate fields that potentially contain multiple values that will be concatenated into a string.\r\n         * @returns {array[]} Return array of arrays, with the first array being the column names and every subsequent array representing a row in the csv dataset.\r\n         * @example\r\n         * <pre>\r\n         * var customDelimiter = ' | ';\r\n         * var saveCSV = function() {\r\n             *    var parsedCSV = apExportService.generateCSV(entities, [\r\n             *     //Field definition\r\n             *     { label: 'ID', field: 'id' },\r\n             *     //Field as simple string\r\n             *     'title',\r\n             *     'project',\r\n             *     { label: 'Project:ID', field: 'project.lookupId' },\r\n             *     { label: 'Type', field: 'eventType' },\r\n             *     { label: 'Start Date', field: 'startDate' },\r\n             *     { label: 'End Date', field: 'endDate' },\r\n             *     'location',\r\n             *     'description',\r\n             *     //Field definition with custom parse logic\r\n             *     { label: 'Comments', field: 'comments', stringify: function (comments) {\r\n             *       var str = '';\r\n             *       _.each(comments, function (comment, i) {\r\n             *         if (i > 0) {\r\n             *           str += '\\n';\r\n             *         }\r\n             *         str += comment.text + '\\n';\r\n             *       });\r\n             *       return str;\r\n             *     }}\r\n             *   ]);\r\n             *\r\n             *   //Save to user's machine\r\n             *   apExportService.saveCSV(parsedCSV, 'MyFile', {delim: customDelimiter});\r\n             * }\r\n         * </pre>\r\n         *\r\n         */\r\n        generateCSV(entities: ListItem<any>[], fields: [string[]|Object[]], options?: {delim:string}): string[][] {\r\n            var defaults = {\r\n                    dateFormat: 'json', //Format as JSON date rather than a formal date string\r\n                    delim: '; ',\r\n                    includeTitleRow: true\r\n                },\r\n                opts = _.assign({}, defaults, options),\r\n                entitiesArray = [\r\n                    []\r\n                ];\r\n\r\n            /** Process each of the entities in the data source */\r\n            _.each(entities, (entity, entityIndex) => {\r\n                var entityArray = [];\r\n                /** Process each of the specified fields */\r\n                _.each(fields, (f) => {\r\n\r\n                    /** Handle both string and object definition */\r\n                    var fieldDefinition = _.isString(f) ? {field: f} : f;\r\n\r\n                    /** Split the field name from the property if provided */\r\n                    var fieldComponents = fieldDefinition.field.split('.');\r\n                    var propertyName = fieldComponents[0];\r\n\r\n                    /** First array has the field names */\r\n                    if (entityIndex === 0 && opts.includeTitleRow) {\r\n                        /** Take a best guess if a column label isn't specified by capitalizing and inserting spaces between camel humps*/\r\n                        var label = fieldDefinition.label ?\r\n                            fieldDefinition.label : this.apUtilityService.fromCamelCase(propertyName);\r\n                        entitiesArray[0].push(label);\r\n                    }\r\n\r\n                    var val = '';\r\n\r\n                    if (_.isFunction(fieldDefinition.stringify)) {\r\n                        /** Allows us to override standard field logic for special cases */\r\n                        val = fieldDefinition.stringify(entity[fieldDefinition.field]);\r\n                    } else if (fieldComponents.length > 1) {\r\n                        /** Allow user to specify dot separated property path */\r\n                        if (_.deepIn(entity, fieldDefinition.field)) {\r\n                            val = _.deepGet(entity, fieldDefinition.field).toString();\r\n                        }\r\n                    } else {\r\n                        /** Get the value based on field type defined in the model for the entity*/\r\n                        var modelDefinition = entity.getFieldDefinition(propertyName);\r\n                        val = this.apFormattedFieldValueService.getFormattedFieldValue(\r\n                            entity[fieldDefinition.field],\r\n                            modelDefinition.objectType,\r\n                            opts\r\n                        )\r\n                    }\r\n                    /** Add string to column */\r\n                    entityArray.push(val);\r\n                });\r\n                /** Add row */\r\n                entitiesArray.push(entityArray);\r\n            });\r\n            return entitiesArray;\r\n        }\r\n\r\n        /**\r\n         * @description Replaces commonly-used Windows 1252 encoded chars that do not exist in ASCII or\r\n         *  ISO-8859-1 with ISO-8859-1 cognates.\r\n         * @param {string} text Text to be validated and cleaned.\r\n         * @returns {string}\r\n         */\r\n        replaceWordChars(text: string): string {\r\n            var s = text;\r\n            // smart single quotes and apostrophe\r\n            s = s.replace(/[\\u2018|\\u2019|\\u201A]/g, \"\\'\");\r\n            // smart double quotes\r\n            s = s.replace(/[\\u201C|\\u201D|\\u201E]/g, \"\\\"\");\r\n            // ellipsis\r\n            s = s.replace(/\\u2026/g, \"...\");\r\n            // dashes\r\n            s = s.replace(/[\\u2013|\\u2014]/g, \"-\");\r\n            // circumflex\r\n            s = s.replace(/\\u02C6/g, \"^\");\r\n            // open angle bracket\r\n            s = s.replace(/\\u2039/g, \"<\");\r\n            // close angle bracket\r\n            s = s.replace(/\\u203A/g, \">\");\r\n            // spaces\r\n            s = s.replace(/[\\u02DC|\\u00A0]/g, \" \");\r\n            return s;\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name angularPoint.apExportService:saveCSV\r\n         * @methodOf angularPoint.apExportService\r\n         * @description\r\n         * Converts an array of arrays into a valid CSV file that is then downloaded to the users machine\r\n         * @requires angularPoint.apExportService:saveFile\r\n         * @param {array[]} data Array of arrays that we'd like to dump to a CSV file and save to the local machine.\r\n         * @param {string} [filename=debug.csv] Optionally name the file.\r\n         * @example\r\n         * <pre>\r\n         * //Lets assume we want to looks at an object that is too big to be easily viewed in the console.\r\n         * apExportService.saveCSV(objectToSave, 'MyFile');\r\n         * //This would download a file named MyFile.csv\r\n         * </pre>\r\n         *\r\n         */\r\n        saveCSV(data: string[][], filename = 'debug.csv'): void {\r\n            var csvString = '';\r\n            _.each(data, function (row) {\r\n                _.each(row, function (column, columnIndex) {\r\n                    var result = column === null ? '' : this.replaceWordChars(column);\r\n                    if (columnIndex > 0) {\r\n                        csvString += ',';\r\n                    }\r\n                    /** Escape single quotes with doubles in within the string */\r\n                    result = result.replace(/\"/g, '\"\"');\r\n\r\n                    /** Surround string with quotes so we can have line breaks */\r\n                    csvString += '\"' + result + '\"';\r\n                });\r\n                csvString += '\\n';\r\n            });\r\n            this.saveFile(csvString, 'csv;charset=utf-8;', filename);\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name angularPoint.apExportService:saveFile\r\n         * @methodOf angularPoint.apExportService\r\n         * @description\r\n         * Used to convert a JS object or XML document into a file that is then downloaded on the users\r\n         * local machine.  Original work located:\r\n         * [here](http://bgrins.github.io/devtools-snippets/#console-save).\r\n         * @param {object} data JS object that we'd like to dump to a JSON file and save to the local machine.\r\n         * @param {string} fileType Can be either 'xml' or 'json'.\r\n         * @param {string} [filename=debug.json] Optionally name the file.\r\n         * @example\r\n         * <pre>\r\n         * //Lets assume we want to looks at an object that is too big to be easily viewed in the console.\r\n         * apExportService.saveJSON(objectToSave, 'myobject.json');\r\n         * </pre>\r\n         *\r\n         */\r\n        saveFile(data, fileType: string, filename = 'debug.json') {\r\n            if (!data) {\r\n                console.error('apExportService.save' + fileType.toUpperCase() + ': No data');\r\n                return;\r\n            }\r\n\r\n            /** If passed in fileType=\"csv;charset=utf-8;\" we just want to use \"csv\" */\r\n            var fileExtension = fileType.split(';')[0];\r\n\r\n            if (!filename) {\r\n                filename = 'debug.' + fileExtension;\r\n            }\r\n\r\n            if (fileType === 'json' && typeof data === 'object') {\r\n                data = JSON.stringify(data, undefined, 4);\r\n            }\r\n\r\n            var blob = new Blob([data], {type: 'text/' + fileType}),\r\n                e = document.createEvent('MouseEvents'),\r\n                a = document.createElement('a');\r\n\r\n            a.download = filename;\r\n            a.href = window.URL.createObjectURL(blob);\r\n            a.dataset.downloadurl = ['text/' + fileType, a.download, a.href].join(':');\r\n            e.initMouseEvent('click', true, false, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);\r\n            a.dispatchEvent(e);\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name angularPoint.apExportService:saveJSON\r\n         * @methodOf angularPoint.apExportService\r\n         * @description\r\n         * Simple convenience function that uses angularPoint.apExportService:saveFile to download json to the local machine.\r\n         * @requires angularPoint.apExportService:saveFile\r\n         * @param {object} data JS object that we'd like to dump to a JSON file and save to the local machine.\r\n         * @param {string} [filename=debug.json] Optionally name the file.\r\n         * @example\r\n         * <pre>\r\n         * //Lets assume we want to looks at an object that is too big to be easily viewed in the console.\r\n         * apExportService.saveJSON(objectToSave, 'myobject.json');\r\n         * </pre>\r\n         *\r\n         */\r\n        saveJSON(data: Object, filename = 'debug.json') {\r\n            this.saveFile(data, 'json', filename);\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name angularPoint.apExportService:saveXML\r\n         * @methodOf angularPoint.apExportService\r\n         * @description\r\n         * Simple convenience function that uses angularPoint.apExportService:saveFile to download xml to the local machine.\r\n         * @requires angularPoint.apExportService:saveFile\r\n         * @param {object} data XML object that we'd like to dump to a XML file and save to the local machine.\r\n         * @param {string} [filename=debug.xml] Optionally name the file.\r\n         * @example\r\n         * <pre>\r\n         * //Lets assume we want to looks at an object that is too big to be easily viewed in the console.\r\n         * apExportService.saveXML(objectToSave, 'myobject.xml');\r\n         * </pre>\r\n         *\r\n         */\r\n        saveXML(data: XMLDocument, filename = 'debug.xml') {\r\n            this.saveFile(data, 'xml', filename);\r\n        }\r\n\r\n\r\n    }\r\n\r\n    /**\r\n     * @ngdoc service\r\n     * @name angularPoint.apExportService\r\n     * @description\r\n     * Tools to assist with development.\r\n     * @requires angularPoint.apUtilityService\r\n     */\r\n    angular.module('angularPoint')\r\n        .service('apExportService', ExportService);\r\n\r\n}\r\n","/// <reference path=\"../app.module.ts\" />\r\n\r\nmodule ap {\r\n    'use strict';\r\n\r\n    var service: FieldService, uniqueCount = 0;\r\n\r\n\r\n    interface IFieldType {\r\n        defaultValue: string;\r\n        dynamicMock: Function;\r\n        staticMock: any;\r\n    }\r\n\r\n    export class FieldService {\r\n        fieldTypes;\r\n        constructor() {\r\n            service = this;\r\n            this.fieldTypes = getFieldTypes()\r\n        }\r\n\r\n        \r\n        /**\r\n         * @ngdoc function\r\n         * @name angularPoint.apFieldService:getDefaultValueForType\r\n         * @methodOf angularPoint.apFieldService\r\n         * @description\r\n         * Returns the empty value expected for a field type\r\n         * @param {string} fieldType Type of field.\r\n         * @returns {*} Default value based on field type.\r\n         */\r\n        getDefaultValueForType(fieldType) {\r\n            var fieldDefinition = service.getDefinition(fieldType),\r\n                defaultValue;\r\n\r\n            if (fieldDefinition) {\r\n                defaultValue = fieldDefinition.defaultValue;\r\n            }\r\n            return defaultValue;\r\n        }\r\n\r\n        /**\r\n         * Returns an object defining a specific field type\r\n         * @param {string} fieldType\r\n         * @returns {object} fieldTypeDefinition\r\n         */\r\n        getDefinition(fieldType) {\r\n            return service.fieldTypes[fieldType] ? service.fieldTypes[fieldType] : service.fieldTypes['Text'];\r\n        }\r\n\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name angularPoint.apFieldService:getMockData\r\n         * @methodOf angularPoint.apFieldService\r\n         * @description\r\n         * Can return mock data appropriate for the field type, by default it dynamically generates data but\r\n         * the staticValue param will instead return a hard coded type specific value\r\n         *\r\n         * @requires ChanceJS to produce dynamic data.\r\n         * https://github.com/victorquinn/chancejs\r\n         * @param {string} fieldType Field type from the field definition.\r\n         * @param {object} [options] Optional params.\r\n         * @param {boolean} [options.staticValue=false] Default to dynamically build mock data.\r\n         * @returns {*} mockData\r\n         */\r\n        getMockData(fieldType, options) {\r\n            var mock;\r\n            var fieldDefinition = service.getDefinition(fieldType);\r\n            if (fieldDefinition) {\r\n                if (_.isFunction(window.Chance) && options && !options.staticValue) {\r\n                    /** Return dynamic data if ChanceJS is available and flag isn't set requiring static data */\r\n                    mock = fieldDefinition.dynamicMock(options);\r\n                } else {\r\n                    /** Return static data if the flag is set or ChanceJS isn't available */\r\n                    mock = fieldDefinition.staticMock;\r\n                }\r\n            }\r\n            return mock;\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name angularPoint.apFieldService:mockPermMask\r\n         * @methodOf angularPoint.apFieldService\r\n         * @description\r\n         * Defaults to a full mask but allows simulation of each of main permission levels\r\n         * @param {object} [options] Options container.\r\n         * @param {string} [options.permissionLevel=FullMask] Optional mask.\r\n         * @returns {string} Values for mask.\r\n         */\r\n        mockPermMask(options?: { permissionLevel: string }) {\r\n            var mask = 'FullMask';\r\n            if (options && options.permissionLevel) {\r\n                mask = options.permissionLevel;\r\n            }\r\n            return service.resolveValueForEffectivePermMask(mask);\r\n        }\r\n        \r\n        /**\r\n         * @ngdoc function\r\n         * @name angularPoint.apFieldService:resolveValueForEffectivePermMask\r\n         * @methodOf angularPoint.apFieldService\r\n         * @description\r\n         * Takes the name of a permission mask and returns a permission value which can then be used\r\n         * to generate a permission object using modelService.resolvePermissions(outputfromthis)\r\n         * @param {string} perMask Options:\r\n         *  - AddListItems\r\n         *  - EditListItems\r\n         *  - DeleteListItems\r\n         *  - ApproveItems\r\n         *  - FullMask\r\n         *  - ViewListItems\r\n         * @returns {string} value\r\n         */\r\n        resolveValueForEffectivePermMask(perMask) {\r\n            var permissionValue;\r\n            switch (perMask) {\r\n                case 'AddListItems':\r\n                    permissionValue = '0x0000000000000002';\r\n                    break;\r\n                case 'EditListItems':\r\n                    permissionValue = '0x0000000000000004';\r\n                    break;\r\n                case 'DeleteListItems':\r\n                    permissionValue = '0x0000000000000008';\r\n                    break;\r\n                case 'ApproveItems':\r\n                    permissionValue = '0x0000000000000010';\r\n                    break;\r\n                case 'FullMask':\r\n                    permissionValue = '0x7FFFFFFFFFFFFFFF';\r\n                    break;\r\n                case 'ViewListItems':\r\n                default:\r\n                    permissionValue = '0x0000000000000001';\r\n                    break;\r\n            }\r\n            return permissionValue;\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n    function getFieldTypes() {\r\n        return {\r\n            Text: {\r\n                defaultValue: '',\r\n                staticMock: 'Test String',\r\n                dynamicMock: randomString\r\n            },\r\n            Note: {\r\n                defaultValue: '',\r\n                staticMock: 'This is a sentence.',\r\n                dynamicMock: randomParagraph\r\n            },\r\n            Boolean: {\r\n                defaultValue: null,\r\n                staticMock: true,\r\n                dynamicMock: randomBoolean\r\n            },\r\n            Calculated: {\r\n                defaultValue: null,\r\n                staticMock: 'float;#123.45',\r\n                dynamicMock: randomCalc\r\n            },\r\n            Choice: {\r\n                defaultValue: '',\r\n                staticMock: 'My Choice',\r\n                dynamicMock: randomString\r\n            },\r\n            Counter: {\r\n                defaultValue: null,\r\n                staticMock: getUniqueCounter(),\r\n                dynamicMock: getUniqueCounter\r\n            },\r\n            Currency: {\r\n                defaultValue: null,\r\n                staticMock: 120.50,\r\n                dynamicMock: randomCurrency\r\n            },\r\n            DateTime: {\r\n                defaultValue: null,\r\n                staticMock: new Date(2014, 5, 4, 11, 33, 25),\r\n                dynamicMock: randomDate\r\n            },\r\n            Integer: {\r\n                defaultValue: null,\r\n                staticMock: 14,\r\n                dynamicMock: randomInteger\r\n            },\r\n            JSON: {\r\n                defaultValue: '',\r\n                staticMock: [\r\n                    { id: 1, title: 'test' },\r\n                    { id: 2 }\r\n                ],\r\n                dynamicMock: randomString\r\n            },\r\n            Lookup: {\r\n                defaultValue: '',\r\n                staticMock: { lookupId: 49, lookupValue: 'Static Lookup' },\r\n                dynamicMock: randomLookup\r\n            },\r\n            LookupMulti: {\r\n                defaultValue: [],\r\n                staticMock: [\r\n                    { lookupId: 50, lookupValue: 'Static Multi 1' },\r\n                    { lookupId: 51, lookupValue: 'Static Multi 2' }\r\n                ],\r\n                dynamicMock: randomLookupMulti\r\n            },\r\n            Mask: {\r\n                defaultValue: service.mockPermMask(),\r\n                staticMock: service.mockPermMask(),\r\n                dynamicMock: service.mockPermMask\r\n            },\r\n            MultiChoice: {\r\n                defaultValue: [],\r\n                staticMock: ['A Good Choice', 'A Bad Choice'],\r\n                dynamicMock: randomStringArray\r\n            },\r\n            User: {\r\n                defaultValue: '',\r\n                staticMock: { lookupId: 52, lookupValue: 'Static User' },\r\n                dynamicMock: randomUser\r\n            },\r\n            UserMulti: {\r\n                defaultValue: [],\r\n                staticMock: [\r\n                    { lookupId: 53, lookupValue: 'Static User 1' },\r\n                    { lookupId: 54, lookupValue: 'Static User 2' }\r\n                ],\r\n                dynamicMock: randomUserMulti\r\n            }\r\n        }\r\n    }\r\n\r\n    function getUniqueCounter() {\r\n        uniqueCount++;\r\n        return uniqueCount;\r\n    }\r\n\r\n    function randomBoolean() {\r\n        return chance.bool();\r\n    }\r\n\r\n    function randomCalc() {\r\n        return 'float;#' + chance.floating({ min: 0, max: 10000 });\r\n    }\r\n\r\n    function randomString() {\r\n        return chance.word() + ' ' + chance.word();\r\n    }\r\n\r\n    function randomStringArray() {\r\n        var randomArr = [];\r\n        /** Create a random (1-4) number of strings and add to array */\r\n        _.times(_.random(1, 4), function() {\r\n            randomArr.push(randomString());\r\n        });\r\n        return randomArr;\r\n    }\r\n\r\n    function randomParagraph() {\r\n        return chance.paragraph();\r\n    }\r\n\r\n    function randomCurrency() {\r\n        return parseInt(_.random(10000000, true) * 100) / 100;\r\n    }\r\n\r\n    function randomDate() {\r\n        return chance.date();\r\n    }\r\n\r\n    function randomInteger() {\r\n        return chance.integer();\r\n    }\r\n\r\n\r\n    function randomLookup() {\r\n        return {\r\n            lookupId: getUniqueCounter(),\r\n            lookupValue: chance.word()\r\n        };\r\n    }\r\n\r\n    function randomUser() {\r\n        return {\r\n            lookupId: getUniqueCounter(),\r\n            lookupValue: chance.name()\r\n        };\r\n    }\r\n\r\n    function randomLookupMulti() {\r\n        var mockData = [];\r\n        _.each(_.random(10), function() {\r\n            mockData.push(randomLookup());\r\n        });\r\n        return mockData;\r\n    }\r\n\r\n    function randomUserMulti() {\r\n        var mockData = [];\r\n        _.each(_.random(10), function() {\r\n            mockData.push(randomUser());\r\n        });\r\n        return mockData;\r\n    }\r\n    \r\n    \r\n\r\n    /**\r\n     * @ngdoc service\r\n     * @name angularPoint.apFieldService\r\n     * @description\r\n     * Handles the mapping of the various types of fields used within a SharePoint list\r\n     */\r\n    angular.module('angularPoint')\r\n        .service('apFieldService', FieldService);\r\n\r\n}\r\n","/// <reference path=\"../app.module.ts\" />\r\n\r\nmodule ap {\r\n    'use strict';\r\n\r\n    var service: FormattedFieldValueService, $filter: ng.IFilterService;\r\n\r\n    /**\r\n     * @ngdoc service\r\n     * @name angularPoint.apFormattedFieldValueService\r\n     * @description\r\n     * Returns the formatted string value for a field based on field type.\r\n     */\r\n    export class FormattedFieldValueService {\r\n        static $inject = ['$filter'];\r\n        constructor(_$filter_) {\r\n            service = this;\r\n            $filter = _$filter_;\r\n        }\r\n        \r\n        /**\r\n         * @ngdoc function\r\n         * @name angularPoint.apFormattedFieldValueService:getFormattedFieldValue\r\n         * @methodOf angularPoint.apFormattedFieldValueService\r\n         * @param {object|array|string|integer|boolean} prop Target that we'd like to stringify.\r\n         * @param {string} [propertyType='String'] Assumes by default that it's already a string.  Most of the normal field\r\n         * types identified in the model field definitions are supported.\r\n         *\r\n         * - Lookup\r\n         * - User\r\n         * - Boolean\r\n         * - DateTime\r\n         * - Integer\r\n         * - Number\r\n         * - Counter\r\n         * - MultiChoice\r\n         * - UserMulti\r\n         * - LookupMulti\r\n         * @param {object} options Optional config.\r\n         * @param {string} [options.delim=', '] Optional delimiter to split concatenated strings.\r\n         * @param {string} [options.dateFormat='short'] Either 'json' which converts a date into ISO8601 date string\r\n         * or a mask for the angular date filter.\r\n         * @example\r\n         * <pre>\r\n         *  var project = {\r\n         *    title: 'Super Project',\r\n         *   members: [\r\n         *     { lookupId: 12, lookupValue: 'Joe' },\r\n         *     { lookupId: 19, lookupValue: 'Beth' }\r\n         *   ]\r\n         * };\r\n         *\r\n         * var membersAsString = apFormattedFieldValueService:getFormattedFieldValue({\r\n         *    project.members,\r\n         *    'UserMulti',\r\n         *    { delim: ' | '} //Custom Delimiter\r\n         * });\r\n         *\r\n         * // membersAsString = 'Joe | Beth';\r\n         *\r\n         * </pre>\r\n         * @returns {string} Stringified property on the object based on the field type.\r\n         */\r\n        getFormattedFieldValue(prop: any, propertyType = 'String', options?: { delim?: string; dateFormat?: string }): string {\r\n            var defaults = {\r\n                delim: ', ',\r\n                dateFormat: 'short'\r\n            },\r\n                opts = _.assign({}, defaults, options);\r\n\r\n            var str: string = '';\r\n            /** Only process if prop is defined */\r\n            if (prop) {\r\n                switch (propertyType) {\r\n                    case 'Boolean':\r\n                        str = service.stringifyBoolean(prop);\r\n                        break;\r\n                    case 'Calculated': // Can be DateTime, Float, or String\r\n                        str = service.stringifyCalc(prop);\r\n                        break;\r\n                    case 'Lookup':\r\n                    case 'User':\r\n                        str = service.stringifyLookup(prop);\r\n                        break;\r\n                    case 'DateTime':\r\n                        str = service.stringifyDate(prop, opts.dateFormat);\r\n                        break;\r\n                    case 'Integer':\r\n                    case 'Number':\r\n                    case 'Float':\r\n                    case 'Counter':\r\n                        str = service.stringifyNumber(prop);\r\n                        break;\r\n                    case 'Currency':\r\n                        str = service.stringifyCurrency(prop);\r\n                        break;\r\n                    case 'MultiChoice':\r\n                        str = service.stringifyMultiChoice(prop, opts.delim);\r\n                        break;\r\n                    case 'UserMulti':\r\n                    case 'LookupMulti':\r\n                        str = service.stringifyMultiLookup(prop, opts.delim);\r\n                        break;\r\n                    default:\r\n                        str = prop;\r\n                }\r\n            }\r\n            return str;\r\n        }\r\n        \r\n        /**\r\n         * @ngdoc function\r\n         * @name angularPoint.apFormattedFieldValueService:stringifyBoolean\r\n         * @methodOf angularPoint.apFormattedFieldValueService\r\n         * @param {boolean} prop Boolean to stringify.\r\n         * @description\r\n         * Returns the stringified boolean if it is set.\r\n         * @returns {string} Stringified boolean.\r\n         */\r\n        stringifyBoolean(prop: boolean): string {\r\n            var str = '';\r\n            if (_.isBoolean(prop)) {\r\n                str = prop.toString();\r\n            }\r\n            return str;\r\n        }\r\n\r\n        stringifyCalc(prop: any): string {\r\n            if (prop.length === 0) {\r\n                return '';\r\n            } else if (_.isNumber(prop)) {\r\n                return service.getFormattedFieldValue(prop, 'Number');\r\n            } else if (_.isDate(prop)) {\r\n                return service.getFormattedFieldValue(prop, 'DateTime');\r\n            } else {\r\n                return service.getFormattedFieldValue(prop, 'Text');\r\n            }\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name angularPoint.apFormattedFieldValueService:stringifyCurrency\r\n         * @methodOf angularPoint.apFormattedFieldValueService\r\n         * @description\r\n         * Converts a numeric value into a formatted currency string.\r\n         * @param {number} prop Property on object to parse.\r\n         * @returns {string} Stringified currency.\r\n         */\r\n        stringifyCurrency(prop: number): string {\r\n            return $filter('currency')(prop, '$');\r\n        }\r\n        \r\n        /**\r\n         * @ngdoc function\r\n         * @name angularPoint.apFormattedFieldValueService:stringifyDate\r\n         * @methodOf angularPoint.apFormattedFieldValueService\r\n         * @param {date} prop Date object.\r\n         * @param {string} dateFormat Either 'json' which converts a date into ISO8601 date string or a mask for\r\n         * the angular date filter.\r\n         * @description\r\n         * Returns JSON date.\r\n         * @returns {string} JSON date.\r\n         */\r\n        stringifyDate(prop: Date, dateFormat: string): string {\r\n            var str = '';\r\n            if (_.isDate(prop)) {\r\n                str = dateFormat === 'json' ? prop.toJSON() : $filter('date')(prop, dateFormat);\r\n            }\r\n            return str;\r\n        }\r\n        \r\n        /**\r\n         * @ngdoc function\r\n         * @name angularPoint.apFormattedFieldValueService:stringifyLookup\r\n         * @methodOf angularPoint.apFormattedFieldValueService\r\n         * @param {obj} prop Property on object to parse.\r\n         * @description\r\n         * Returns the property.lookupValue if present.\r\n         * @returns {string} Property.lookupValue.\r\n         */\r\n        stringifyLookup(prop: ILookup): string {\r\n            var str = '';\r\n            if (prop && prop.lookupValue) {\r\n                str = prop.lookupValue;\r\n            }\r\n            return str;\r\n        }\r\n\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name angularPoint.apFormattedFieldValueService:stringifyMultiChoice\r\n         * @methodOf angularPoint.apFormattedFieldValueService\r\n         * @param {string[]} prop Array of selected choices.\r\n         * @param {string} [delim='; '] Custom delimiter used between the concatenated values.\r\n         * @description\r\n         * Converts an array of strings into a single concatenated string.\r\n         * @returns {string} Concatenated string representation.\r\n         */\r\n        stringifyMultiChoice(prop: string[], delim = '; '): string {\r\n            var str = '';\r\n            _.each(prop, function(choice, i) {\r\n                if (i > 0) {\r\n                    str += delim;\r\n                }\r\n                str += choice;\r\n            });\r\n            return str;\r\n        }\r\n\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name angularPoint.apFormattedFieldValueService:stringifyMultiLookup\r\n         * @methodOf angularPoint.apFormattedFieldValueService\r\n         * @param {object[]} prop Array of lookup objects.\r\n         * @param {string} [delim='; '] Custom delimiter used between the concatenated values.\r\n         * @description\r\n         * Converts an array of selected lookup values into a single concatenated string.\r\n         * @returns {string} Concatenated string representation.\r\n         */\r\n        stringifyMultiLookup(prop: ILookup[], delim = '; '): string {\r\n            var str = '';\r\n            _.each(prop, function(val, valIndex) {\r\n\r\n                /** Add artificial delim */\r\n                if (valIndex > 0) {\r\n                    str += delim;\r\n                }\r\n\r\n                str += service.stringifyLookup(val);\r\n            });\r\n            return str;\r\n        }\r\n\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name angularPoint.apFormattedFieldValueService:stringifyNumber\r\n         * @methodOf angularPoint.apFormattedFieldValueService\r\n         * @param {number} prop Property on object to parse.\r\n         * @description\r\n         * Converts a number to a string representation.\r\n         * @returns {string} Stringified number.\r\n         */\r\n        stringifyNumber(prop: number): string {\r\n            var str = '';\r\n            if (_.isNumber(prop)) {\r\n                str = prop.toString();\r\n            }\r\n            return str;\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n    angular\r\n        .module('angularPoint')\r\n        .service('apFormattedFieldValueService', FormattedFieldValueService);\r\n\r\n\r\n}\r\n","/// <reference path=\"../app.module.ts\" />\r\n\r\nmodule ap {\r\n    'use strict';\r\n\r\n    var deferred: ng.IDeferred<Function>,\r\n        registerCallback: ng.IPromise<Function>;\r\n\r\n    var logTypes = ['log', 'error', 'info', 'debug', 'warn'];\r\n\r\n    export interface ILogEvent {\r\n        cause?: string;\r\n        event?: string;\r\n        json?: Object;\r\n        message?: string;\r\n        stackTrace?: string[];\r\n        type?: string;\r\n        url?: string;\r\n    }\r\n\r\n    export interface ILogger {\r\n        debug(message: string, optionsOverride?: ILogEvent): ng.IPromise<ListItem<any>>;\r\n        error(message: string, optionsOverride?: ILogEvent): ng.IPromise<ListItem<any>>;\r\n        exception(exception, cause?, optionsOverride?: ILogEvent): void;\r\n        info(message: string, optionsOverride?: ILogEvent): ng.IPromise<ListItem<any>>;\r\n        log(message: string, optionsOverride?: ILogEvent): ng.IPromise<ListItem<any>>;\r\n        registerEvent(event: ILogEvent): ng.IPromise<ListItem<any>>;\r\n        subscribe(callback: Function): void;\r\n        warn(message: string, optionsOverride?: ILogEvent): ng.IPromise<ListItem<any>>;\r\n    }\r\n\r\n    export class Logger implements ILogger {\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name apLogger.debug\r\n         * @methodOf apLogger\r\n         * @param {string} message Message to log.\r\n         * @param {ILogger} [optionsOverride] Override any log options.\r\n         */\r\n        debug: (message: string, optionsOverride?: ILogEvent) => ng.IPromise<ListItem<any>>;\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name apLogger.error\r\n         * @methodOf apLogger\r\n         * @param {string} message Message to log.\r\n         * @param {ILogger} [optionsOverride] Override any log options.\r\n         */\r\n        error: (message: string, optionsOverride?: ILogEvent) => ng.IPromise<ListItem<any>>;\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name apLogger.info\r\n         * @methodOf apLogger\r\n         * @param {string} message Message to log.\r\n         * @param {ILogger} [optionsOverride] Override any log options.\r\n         */\r\n        info: (message: string, optionsOverride?: ILogEvent) => ng.IPromise<ListItem<any>>;\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name apLogger.log\r\n         * @methodOf apLogger\r\n         * @param {string} message Message to log.\r\n         * @param {ILogger} [optionsOverride] Override any log options.\r\n         */\r\n        log: (message: string, optionsOverride?: ILogEvent) => ng.IPromise<ListItem<any>>;\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name apLogger.warn\r\n         * @methodOf apLogger\r\n         * @param {string} message Message to log.\r\n         * @param {ILogger} [optionsOverride] Override any log options.\r\n         */\r\n        warn: (message: string, optionsOverride?: ILogEvent) => ng.IPromise<ListItem<any>>;\r\n\r\n        static $inject = ['$q', '$window', '$log', '$timeout'];\r\n\r\n        constructor($q, private $window, private $log, private $timeout) {\r\n            /** Create a deferred object we can use to delay functionality until log model is registered */\r\n            deferred = $q.defer();\r\n            registerCallback = deferred.promise;\r\n\r\n            /** Generate a method for each logger call */\r\n            _.each(logTypes, (logType) => {\r\n\r\n                /**\r\n                 * @Example\r\n                 *\r\n                 * info(message: string, optionsOverride?: ILogEvent): ng.IPromise<ListItem<any>> {\r\n                 *     var opts = _.assign({}, {\r\n                 *         message: message,\r\n                 *         type: 'info'\r\n                 *         url: $window.location.href,\r\n                 *     }, optionsOverride);\r\n                 *\r\n                 *     return this.notify(opts);\r\n                 * }\r\n                 *\r\n                 */\r\n\r\n                this[logType] = (message: string, optionsOverride?: ILogEvent): ng.IPromise<ListItem<any>> => {\r\n                    var opts = _.assign({}, {\r\n                        message: message,\r\n                        type: logType,\r\n                    }, optionsOverride);\r\n\r\n                    return this.notify(opts);\r\n                }\r\n\r\n            });\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name apLogger.exception\r\n         * @methodOf apLogger\r\n         * @param {Error} exception Error which caused event.\r\n         * @param {string} [cause] Angular sometimes provides cause.\r\n         * @param {ILogger} optionsOverride Override any log options.\r\n         */\r\n        exception(exception: Object, cause?, optionsOverride?: ILogEvent): void {\r\n\r\n            try {\r\n                var errorMessage = exception.toString();\r\n                // generate a stack trace\r\n                /* global printStackTrace:true */\r\n                var stackTrace = printStackTrace({e: exception});\r\n\r\n                this.error(errorMessage, _.assign({}, {\r\n                    event: 'exception',\r\n                    stackTrace: stackTrace,\r\n                    cause: ( cause || \"\")\r\n                }, optionsOverride));\r\n\r\n            } catch (loggingError) {\r\n                this.$log.warn(\"Error server-side logging failed\");\r\n                this.$log.log(loggingError);\r\n            }\r\n\r\n        }\r\n\r\n        private notify(options: ILogEvent) {\r\n            return this.$timeout(() => {\r\n                /** Allow navigation to settle before capturing url */\r\n                return this.registerEvent(_.assign({}, {url: this.$window.location.href}, options));\r\n            }, 0);\r\n        }\r\n\r\n        registerEvent(logEvent: ILogEvent): ng.IPromise<ListItem<any>> {\r\n            return registerCallback.then((callback: Function) => {\r\n                if (_.isFunction(callback)) {\r\n                    return callback(logEvent);\r\n                }\r\n            });\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name apLogger.subscribe\r\n         * @methodOf apLogger\r\n         * @param {Function} callback Callend when event occurs.\r\n         * @description Callback fired when log event occurs\r\n         */\r\n        subscribe(callback: Function): void {\r\n            deferred.resolve(callback);\r\n        }\r\n\r\n    }\r\n\r\n\r\n    /**\r\n     * @ngdoc service\r\n     * @name apLogger\r\n     * @description\r\n     * Common definitions used in the application.\r\n     *\r\n     * HOW TO USE\r\n     * 1. Create a logging model for logs to be stored\r\n     * 2. Ensure everyone has write access to the list\r\n     * 3. Add the model as one of the dependencies in your .run so it'll be instantiated immediately\r\n     * 4. Subscribe to change events from on the model\r\n     *\r\n     *\r\n     * @example\r\n     * <pre>\r\n     * export class Log extends ap.ListItem{\r\n     *     cause: string;\r\n     *     event: string;\r\n     *     formattedStackTrace: string;\r\n     *     json: Object;\r\n     *     message: string;\r\n     *     stackTrace: string[];\r\n     *     type: string;\r\n     *     url: string;\r\n     *     constructor(obj){\r\n     *         _.assign(this, obj);\r\n     *         // Create a formatted representation of the stacktrace to display in email notification\r\n     *         if(this.stackTrace && !this.formattedStackTrace) {\r\n     *             this.formattedStackTrace = '';\r\n     *             _.each(this.stackTrace, (traceEntry) => {\r\n     *                 this.formattedStackTrace += `${traceEntry}\r\n     *             `;\r\n     *             });\r\n     *         }\r\n     *     }\r\n     * }\r\n     * var logCounter = 0;\r\n     * var maxLogsPerSesssion = 5;\r\n     * export class LogsModel extends ap.Model{\r\n     *     constructor(apLogger: ap.Logger) {\r\n     *         model = this;\r\n     *         super({\r\n     *             factory: Log,\r\n     *             list: {\r\n     *                 title: 'Logs',\r\n     *                 guid: '{LOG LIST GUID...CHANGE ME}',\r\n     *                 customFields: [\r\n     *                     {staticName: 'Message', objectType: 'Note', mappedName: 'message', readOnly: false},\r\n     *                     {staticName: 'Title', objectType: 'Text', mappedName: 'url', readOnly: false},\r\n     *                     {staticName: 'LogType', objectType: 'Text', mappedName: 'type', readOnly: false},\r\n     *                     {staticName: 'StackTrace', objectType: 'JSON', mappedName: 'stackTrace', readOnly: false},\r\n     *                     {staticName: 'Cause', objectType: 'Text', mappedName: 'cause', readOnly: false},\r\n     *                     {staticName: 'JSON', objectType: 'JSON', mappedName: 'json', readOnly: false},\r\n     *                     {staticName: 'Event', objectType: 'Text', mappedName: 'event', readOnly: false},\r\n     *                     {\r\n     *                         staticName: 'FormattedStackTrace',\r\n     *                         objectType: 'Note',\r\n     *                         mappedName: 'formattedStackTrace',\r\n     *                         readOnly: false,\r\n     *                         description: 'Trace formatted to be readable in email notification.'\r\n     *                     }\r\n     *                 ]\r\n     *             }\r\n     *         });\r\n     *         // Register this model as the list where all logs will be stored\r\n     *         apLogger.subscribe(function (event: ap.ILogEvent) {\r\n     *             // Ensure we keep logging under control, prevents spamming server if loop occurs\r\n     *             if(logCounter < maxLogsPerSesssion) {\r\n     *                 var newLog = model.createEmptyItem(event);\r\n     *                 console.log(newLog);\r\n     *                 newLog.saveChanges();\r\n     *                 logCounter++;\r\n     *             }\r\n     *         });\r\n     *     }\r\n     * }\r\n     *\r\n     * </pre>\r\n     *\r\n     */\r\n    angular\r\n        .module('angularPoint')\r\n        .service('apLogger', Logger);\r\n\r\n}\r\n","/// <reference path=\"../app.module.ts\" />\r\n\r\nmodule ap {\r\n    'use strict';\r\n\r\n    // Set up SOAP envelope\r\n    class SOAPEnvelope {\r\n        opheader: string;\r\n        opfooter: string;\r\n        header = \"<soap:Envelope xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' \" +\r\n        \"xmlns:xsd='http://www.w3.org/2001/XMLSchema' \" +\r\n        \"xmlns:soap='http://schemas.xmlsoap.org/soap/envelope/'><soap:Body>\";\r\n        footer = \"</soap:Body></soap:Envelope>\";\r\n        payload = \"\";\r\n    }\r\n\r\n    //Definition file taken from SPServices project on GitHub, look at way to use as depency and link to it\r\n    interface SPServicesOptions {\r\n        /** If true, we'll cache the XML results with jQuery's .data() function */\r\n        cacheXML?: boolean;\r\n        /** The Web Service operation */\r\n        operation: string;\r\n        /** URL of the target Web */\r\n        webURL?: string;\r\n        /** true to make the view the default view for the list */\r\n        makeViewDefault?: boolean;\r\n\r\n        // For operations requiring CAML, these options will override any abstractions\r\n\r\n        /** View name in CAML format. */\r\n        viewName?: string;\r\n        /** Query in CAML format */\r\n        CAMLQuery?: string;\r\n        /** View fields in CAML format */\r\n        CAMLViewFields?: string;\r\n        /** Row limit as a string representation of an integer */\r\n        CAMLRowLimit?: number;\r\n        /** Query options in CAML format */\r\n        CAMLQueryOptions?: string;\r\n\r\n        // Abstractions for CAML syntax\r\n\r\n        /** Method Cmd for UpdateListItems */\r\n        batchCmd?: string;\r\n        /** Fieldname / Fieldvalue pairs for UpdateListItems */\r\n        valuepairs?: Array<any>;\r\n\r\n        // As of v0.7.1, removed all options which were assigned an empty string (\"\")\r\n\r\n        /** Array of destination URLs for copy operations */\r\n        DestinationUrls?: Array<any>;\r\n        /** An SPWebServiceBehavior indicating whether the client supports Windows SharePoint Services 2.0 or Windows SharePoint Services 3.0: {Version2 | Version3 } */\r\n        behavior?: string;\r\n        /** A Storage value indicating how the Web Part is stored: {None | Personal | Shared} */\r\n        storage?: string;\r\n        /** objectType for operations which require it */\r\n        objectType?: string;\r\n        /** true to delete a meeting;false to remove its association with a Meeting Workspace site */\r\n        cancelMeeting?: boolean;\r\n        /** true if the calendar is set to a format other than Gregorian;otherwise, false. */\r\n        nonGregorian?: boolean;\r\n        /** Specifies if the action is a claim or a release. Specifies true for a claim and false for a release. */\r\n        fClaim?: boolean;\r\n        /** The recurrence ID for the meeting that needs its association removed. This parameter can be set to 0 for single-instance meetings. */\r\n        recurrenceId?: number;\r\n        /** An integer that is used to determine the ordering of updates in case they arrive out of sequence. Updates with a lower-than-current sequence are discarded. If the sequence is equal to the current sequence, the latest update are applied. */\r\n        sequence?: number;\r\n        /** SocialDataService maximumItemsToReturn */\r\n        maximumItemsToReturn?: number;\r\n        /** SocialDataService startIndex */\r\n        startIndex?: number;\r\n        /** SocialDataService isHighPriority */\r\n        isHighPriority?: boolean;\r\n        /** SocialDataService isPrivate */\r\n        isPrivate?: boolean;\r\n        /** SocialDataService rating */\r\n        rating?: number;\r\n        /** Unless otherwise specified, the maximum number of principals that can be returned from a provider is 10. */\r\n        maxResults?: number;\r\n        /** Specifies user scope and other information? [None | User | DistributionList | SecurityGroup | SharePointGroup | All] */\r\n        principalType?: string;\r\n\r\n        /** Allow the user to force async */\r\n        async?: boolean;\r\n        /** Function to call on completion */\r\n        completefunc?: (xData: JQueryXHR, status: string) => void;\r\n    }\r\n\r\n\r\n    //TODO Cleanup and convert to TS\r\n    function Service(apWebServiceOperationConstants: IWebServiceOperationConstants, apWebServiceService: WebServiceService) {\r\n\r\n        /*\r\n         * SPServices - Work with SharePoint's Web Services using jQuery\r\n         * Version 2014.02a\r\n         * @requires jQuery v1.8 or greater - jQuery 1.10.x recommended\r\n         *\r\n         * Copyright (c) 2009-2013 Sympraxis Consulting LLC\r\n         * Examples and docs at:\r\n         * http://spservices.codeplex.com\r\n         * Licensed under the MIT license:\r\n         * http://www.opensource.org/licenses/mit-license.php\r\n         */\r\n        /*\r\n         * @description Work with SharePoint's Web Services using jQuery\r\n         * @type jQuery\r\n         * @name SPServices\r\n         * @category Plugins/SPServices\r\n         * @author Sympraxis Consulting LLC/marc.anderson@sympraxisconsulting.com\r\n         */\r\n        /* jshint undef: true */\r\n        /* global L_Menu_BaseUrl, _spUserId, _spPageContextInfo, GipAddSelectedItems, GipRemoveSelectedItems, GipGetGroupData */\r\n\r\n        // Global variables\r\n        var SCHEMASharePoint = \"http://schemas.microsoft.com/sharepoint\";\r\n        var i = 0; // Generic loop counter\r\n        var encodeOptionList = [\"listName\", \"description\"]; // Used to encode options which may contain special characters\r\n\r\n        // Defaults added as a function in our library means that the caller can override the defaults\r\n        // for their session by calling this function.  Each operation requires a different set of options;\r\n        // we allow for all in a standardized way.\r\n        var defaults = {\r\n\r\n            operation: \"\", // The Web Service operation\r\n            webURL: \"\", // URL of the target Web\r\n            makeViewDefault: false, // true to make the view the default view for the list\r\n\r\n            // For operations requiring CAML, these options will override any abstractions\r\n            CAMLViewName: \"\", // View name in CAML format.\r\n            CAMLQuery: \"\", // Query in CAML format\r\n            CAMLViewFields: \"\", // View fields in CAML format\r\n            CAMLRowLimit: 0, // Row limit as a string representation of an integer\r\n            CAMLQueryOptions: \"<QueryOptions></QueryOptions>\", // Query options in CAML format\r\n\r\n            // Abstractions for CAML syntax\r\n            batchCmd: \"Update\", // Method Cmd for UpdateListItems\r\n            valuePairs: [], // Fieldname / Fieldvalue pairs for UpdateListItems\r\n\r\n            // As of v0.7.1, removed all options which were assigned an empty string (\"\")\r\n            DestinationUrls: [], // Array of destination URLs for copy operations\r\n            behavior: \"Version3\", // An SPWebServiceBehavior indicating whether the client supports Windows SharePoint Services 2.0 or Windows SharePoint Services 3.0: {Version2 | Version3 }\r\n            storage: \"Shared\", // A Storage value indicating how the Web Part is stored: {None | Personal | Shared}\r\n            objectType: \"List\", // objectType for operations which require it\r\n            cancelMeeting: true, // true to delete a meeting;false to remove its association with a Meeting Workspace site\r\n            nonGregorian: false, // true if the calendar is set to a format other than Gregorian;otherwise, false.\r\n            fClaim: false, // Specifies if the action is a claim or a release. Specifies true for a claim and false for a release.\r\n            recurrenceId: 0, // The recurrence ID for the meeting that needs its association removed. This parameter can be set to 0 for single-instance meetings.\r\n            sequence: 0, // An integer that is used to determine the ordering of updates in case they arrive out of sequence. Updates with a lower-than-current sequence are discarded. If the sequence is equal to the current sequence, the latest update are applied.\r\n            maximumItemsToReturn: 0, // SocialDataService maximumItemsToReturn\r\n            startIndex: 0, // SocialDataService startIndex\r\n            isHighPriority: false, // SocialDataService isHighPriority\r\n            isPrivate: false, // SocialDataService isPrivate\r\n            rating: 1, // SocialDataService rating\r\n            maxResults: 10, // Unless otherwise specified, the maximum number of principals that can be returned from a provider is 10.\r\n            principalType: \"User\", // Specifies user scope and other information: [None | User | DistributionList | SecurityGroup | SharePointGroup | All]\r\n\r\n            async: true, // Allow the user to force async\r\n            completefunc: null // Function to call on completion\r\n\r\n        }; // End SPServices.defaults\r\n\r\n\r\n\r\n\r\n\r\n        // Main function, which calls SharePoint's Web Services directly.\r\n        var SPServices = {\r\n            defaults: defaults,\r\n            encodeXml: encodeXml,\r\n            generateXMLComponents: generateXMLComponents,\r\n            SCHEMASharePoint: SCHEMASharePoint,\r\n            SOAPEnvelope: new SOAPEnvelope()\r\n        };\r\n\r\n        function generateXMLComponents(options: SPServicesOptions) {\r\n\r\n            /** Key/Value mapping of SharePoint properties to SPServices properties */\r\n            var mapping = [\r\n                ['query', 'CAMLQuery'],\r\n                ['viewFields', 'CAMLViewFields'],\r\n                ['rowLimit', 'CAMLRowLimit'],\r\n                ['queryOptions', 'CAMLQueryOptions'],\r\n                ['listItemID', 'ID']\r\n            ];\r\n\r\n            /** Ensure the SharePoint properties are available prior to extending with defaults */\r\n            _.each(mapping, function(map) {\r\n                if (options[map[0]] && !options[map[1]]) {\r\n                    /** Ensure SPServices properties are added in the event the true property name is used */\r\n                    options[map[1]] = options[map[0]];\r\n                }\r\n            });\r\n\r\n            var soapEnvelope = new SOAPEnvelope();\r\n            var SOAPAction;\r\n\r\n            // If there are no options passed in, use the defaults.  Extend replaces each default with the passed option.\r\n            var opt: SPServicesOptions = _.assign({}, defaults, options);\r\n\r\n            // Encode options which may contain special character, esp. ampersand\r\n            _.each(encodeOptionList, function(optionName) {\r\n                if (_.isString(opt[optionName])) {\r\n                    opt[optionName] = encodeXml(opt[optionName]);\r\n                }\r\n            });\r\n\r\n            var service = apWebServiceOperationConstants[opt.operation][0];\r\n\r\n            // Put together operation header and SOAPAction for the SOAP call based on which Web Service we're calling\r\n            soapEnvelope.opheader = `<${opt.operation} xmlns=\"${apWebServiceService.xmlns(service) }\" >`;\r\n            SOAPAction = apWebServiceService.action(service);\r\n\r\n            // Add the operation to the SOAPAction and opfooter\r\n            SOAPAction += opt.operation;\r\n            soapEnvelope.opfooter = `</${opt.operation}>`;\r\n\r\n            // Each operation requires a different set of values.  This switch statement sets them up in the soapEnvelope.payload.\r\n            switch (opt.operation) {\r\n                // ALERT OPERATIONS\r\n                case \"GetAlerts\":\r\n                    break;\r\n                case \"DeleteAlerts\":\r\n                    soapEnvelope.payload += \"<IDs>\";\r\n                    for (i = 0; i < opt.IDs.length; i++) {\r\n                        soapEnvelope.payload += wrapNode(\"string\", opt.IDs[i]);\r\n                    }\r\n                    soapEnvelope.payload += \"</IDs>\";\r\n                    break;\r\n\r\n                // AUTHENTICATION OPERATIONS\r\n                case \"Mode\":\r\n                    break;\r\n                case \"Login\":\r\n                    addToPayload(opt, [\"username\", \"password\"]);\r\n                    break;\r\n\r\n                // COPY OPERATIONS\r\n                case \"CopyIntoItems\":\r\n                    addToPayload(opt, [\"SourceUrl\"]);\r\n                    soapEnvelope.payload += \"<DestinationUrls>\";\r\n                    for (i = 0; i < opt.DestinationUrls.length; i++) {\r\n                        soapEnvelope.payload += wrapNode(\"string\", opt.DestinationUrls[i]);\r\n                    }\r\n                    soapEnvelope.payload += \"</DestinationUrls>\";\r\n                    addToPayload(opt, [\"Fields\", \"Stream\", \"Results\"]);\r\n                    break;\r\n                case \"CopyIntoItemsLocal\":\r\n                    addToPayload(opt, [\"SourceUrl\"]);\r\n                    soapEnvelope.payload += \"<DestinationUrls>\";\r\n                    for (i = 0; i < opt.DestinationUrls.length; i++) {\r\n                        soapEnvelope.payload += wrapNode(\"string\", opt.DestinationUrls[i]);\r\n                    }\r\n                    soapEnvelope.payload += \"</DestinationUrls>\";\r\n                    break;\r\n                case \"GetItem\":\r\n                    addToPayload(opt, [\"Url\", \"Fields\", \"Stream\"]);\r\n                    break;\r\n\r\n                // FORM OPERATIONS\r\n                case \"GetForm\":\r\n                    addToPayload(opt, [\"listName\", \"formUrl\"]);\r\n                    break;\r\n                case \"GetFormCollection\":\r\n                    addToPayload(opt, [\"listName\"]);\r\n                    break;\r\n\r\n                // LIST OPERATIONS\r\n                case \"AddAttachment\":\r\n                    addToPayload(opt, [\"listName\", \"listItemID\", \"fileName\", \"attachment\"]);\r\n                    break;\r\n                case \"AddDiscussionBoardItem\":\r\n                    addToPayload(opt, [\"listName\", \"message\"]);\r\n                    break;\r\n                case \"AddList\":\r\n                    addToPayload(opt, [\"listName\", \"description\", \"templateID\"]);\r\n                    break;\r\n                case \"AddListFromFeature\":\r\n                    addToPayload(opt, [\"listName\", \"description\", \"featureID\", \"templateID\"]);\r\n                    break;\r\n                case \"ApplyContentTypeToList\":\r\n                    addToPayload(opt, [\"webUrl\", \"contentTypeId\", \"listName\"]);\r\n                    break;\r\n                case \"CheckInFile\":\r\n                    addToPayload(opt, [\"pageUrl\", \"comment\", \"CheckinType\"]);\r\n                    break;\r\n                case \"CheckOutFile\":\r\n                    addToPayload(opt, [\"pageUrl\", \"checkoutToLocal\", \"lastmodified\"]);\r\n                    break;\r\n                case \"CreateContentType\":\r\n                    addToPayload(opt, [\"listName\", \"displayName\", \"parentType\", \"fields\", \"contentTypeProperties\", \"addToView\"]);\r\n                    break;\r\n                case \"DeleteAttachment\":\r\n                    addToPayload(opt, [\"listName\", \"listItemID\", \"url\"]);\r\n                    break;\r\n                case \"DeleteContentType\":\r\n                    addToPayload(opt, [\"listName\", \"contentTypeId\"]);\r\n                    break;\r\n                case \"DeleteContentTypeXmlDocument\":\r\n                    addToPayload(opt, [\"listName\", \"contentTypeId\", \"documentUri\"]);\r\n                    break;\r\n                case \"DeleteList\":\r\n                    addToPayload(opt, [\"listName\"]);\r\n                    break;\r\n                case \"GetAttachmentCollection\":\r\n                    addToPayload(opt, [\"listName\", [\"listItemID\", \"ID\"]]);\r\n                    break;\r\n                case \"GetList\":\r\n                    addToPayload(opt, [\"listName\"]);\r\n                    break;\r\n                case \"GetListAndView\":\r\n                    addToPayload(opt, [\"listName\", \"viewName\"]);\r\n                    break;\r\n                case \"GetListCollection\":\r\n                    break;\r\n                case \"GetListContentType\":\r\n                    addToPayload(opt, [\"listName\", \"contentTypeId\"]);\r\n                    break;\r\n                case \"GetListContentTypes\":\r\n                    addToPayload(opt, [\"listName\"]);\r\n                    break;\r\n                case \"GetListItems\":\r\n                    addToPayload(opt,\r\n                        [\"listName\", \"viewName\",\r\n                            [\"query\", \"CAMLQuery\"],\r\n                            [\"viewFields\", \"CAMLViewFields\"],\r\n                            [\"rowLimit\", \"CAMLRowLimit\"],\r\n                            [\"queryOptions\", \"CAMLQueryOptions\"]\r\n                        ]);\r\n                    break;\r\n                case \"GetListItemChanges\":\r\n                    addToPayload(opt, [\"listName\", \"viewFields\", \"since\", \"contains\"]);\r\n                    break;\r\n                case \"GetListItemChangesSinceToken\":\r\n                    addToPayload(opt,\r\n                        [\"listName\", \"viewName\",\r\n                            [\"query\", \"CAMLQuery\"],\r\n                            [\"viewFields\", \"CAMLViewFields\"],\r\n                            [\"rowLimit\", \"CAMLRowLimit\"],\r\n                            [\"queryOptions\", \"CAMLQueryOptions\"],\r\n                            {\r\n                                name: \"changeToken\",\r\n                                sendNull: false\r\n                            },\r\n                            {\r\n                                name: \"contains\",\r\n                                sendNull: false\r\n                            }\r\n                        ]);\r\n                    break;\r\n                case \"GetVersionCollection\":\r\n                    addToPayload(opt, [\"strlistID\", \"strlistItemID\", \"strFieldName\"]);\r\n                    break;\r\n                case \"UndoCheckOut\":\r\n                    addToPayload(opt, [\"pageUrl\"]);\r\n                    break;\r\n                case \"UpdateContentType\":\r\n                    addToPayload(opt, [\"listName\", \"contentTypeId\", \"contentTypeProperties\", \"newFields\", \"updateFields\", \"deleteFields\", \"addToView\"]);\r\n                    break;\r\n                case \"UpdateContentTypesXmlDocument\":\r\n                    addToPayload(opt, [\"listName\", \"newDocument\"]);\r\n                    break;\r\n                case \"UpdateContentTypeXmlDocument\":\r\n                    addToPayload(opt, [\"listName\", \"contentTypeId\", \"newDocument\"]);\r\n                    break;\r\n                case \"UpdateList\":\r\n                    addToPayload(opt, [\"listName\", \"listProperties\", \"newFields\", \"updateFields\", \"deleteFields\", \"listVersion\"]);\r\n                    break;\r\n                case \"UpdateListItems\":\r\n                    addToPayload(opt, [\"listName\"]);\r\n                    if (typeof opt.updates !== \"undefined\" && opt.updates.length > 0) {\r\n                        addToPayload(opt, [\"updates\"]);\r\n                    } else {\r\n                        soapEnvelope.payload += `<updates><Batch OnError=\"Continue\"><Method ID=\"1\" Cmd=\"${opt.batchCmd}\">`;\r\n                        for (i = 0; i < opt.valuePairs.length; i++) {\r\n                            soapEnvelope.payload += `<Field Name=\"${opt.valuePairs[i][0]}\">${escapeColumnValue(opt.valuePairs[i][1]) }</Field>`;\r\n                        }\r\n                        if (opt.batchCmd !== \"New\") {\r\n                            soapEnvelope.payload += `<Field Name=\"ID\">${opt.ID}</Field>`;\r\n                        }\r\n                        soapEnvelope.payload += \"</Method></Batch></updates>\";\r\n                    }\r\n                    break;\r\n\r\n                // MEETINGS OPERATIONS\r\n                case \"AddMeeting\":\r\n                    addToPayload(opt, [\"organizerEmail\", \"uid\", \"sequence\", \"utcDateStamp\", \"title\", \"location\", \"utcDateStart\", \"utcDateEnd\", \"nonGregorian\"]);\r\n                    break;\r\n                case \"CreateWorkspace\":\r\n                    addToPayload(opt, [\"title\", \"templateName\", \"lcid\", \"timeZoneInformation\"]);\r\n                    break;\r\n                case \"RemoveMeeting\":\r\n                    addToPayload(opt, [\"recurrenceId\", \"uid\", \"sequence\", \"utcDateStamp\", \"cancelMeeting\"]);\r\n                    break;\r\n                case \"SetWorkspaceTitle\":\r\n                    addToPayload(opt, [\"title\"]);\r\n                    break;\r\n\r\n                // PEOPLE OPERATIONS\r\n                case \"ResolvePrincipals\":\r\n                    addToPayload(opt, [\"principalKeys\", \"principalType\", \"addToUserInfoList\"]);\r\n                    break;\r\n                case \"SearchPrincipals\":\r\n                    addToPayload(opt, [\"searchText\", \"maxResults\", \"principalType\"]);\r\n                    break;\r\n\r\n                // PERMISSION OPERATIONS\r\n                case \"AddPermission\":\r\n                    addToPayload(opt, [\"objectName\", \"objectType\", \"permissionIdentifier\", \"permissionType\", \"permissionMask\"]);\r\n                    break;\r\n                case \"AddPermissionCollection\":\r\n                    addToPayload(opt, [\"objectName\", \"objectType\", \"permissionsInfoXml\"]);\r\n                    break;\r\n                case \"GetPermissionCollection\":\r\n                    addToPayload(opt, [\"objectName\", \"objectType\"]);\r\n                    break;\r\n                case \"RemovePermission\":\r\n                    addToPayload(opt, [\"objectName\", \"objectType\", \"permissionIdentifier\", \"permissionType\"]);\r\n                    break;\r\n                case \"RemovePermissionCollection\":\r\n                    addToPayload(opt, [\"objectName\", \"objectType\", \"memberIdsXml\"]);\r\n                    break;\r\n                case \"UpdatePermission\":\r\n                    addToPayload(opt, [\"objectName\", \"objectType\", \"permissionIdentifier\", \"permissionType\", \"permissionMask\"]);\r\n                    break;\r\n\r\n                // PUBLISHEDLINKSSERVICE OPERATIONS\r\n                case \"GetLinks\":\r\n                    break;\r\n\r\n                // SEARCH OPERATIONS\r\n                case \"GetPortalSearchInfo\":\r\n                    soapEnvelope.opheader = \"<\" + opt.operation + \" xmlns='http://microsoft.com/webservices/OfficeServer/QueryService'>\";\r\n                    SOAPAction = \"http://microsoft.com/webservices/OfficeServer/QueryService/\" + opt.operation;\r\n                    break;\r\n                case \"GetQuerySuggestions\":\r\n                    soapEnvelope.opheader = \"<\" + opt.operation + \" xmlns='http://microsoft.com/webservices/OfficeServer/QueryService'>\";\r\n                    SOAPAction = \"http://microsoft.com/webservices/OfficeServer/QueryService/\" + opt.operation;\r\n                    soapEnvelope.payload += wrapNode(\"queryXml\", encodeXml(opt.queryXml));\r\n                    break;\r\n                case \"GetSearchMetadata\":\r\n                    soapEnvelope.opheader = \"<\" + opt.operation + \" xmlns='http://microsoft.com/webservices/OfficeServer/QueryService'>\";\r\n                    SOAPAction = \"http://microsoft.com/webservices/OfficeServer/QueryService/\" + opt.operation;\r\n                    break;\r\n                case \"Query\":\r\n                    soapEnvelope.payload += wrapNode(\"queryXml\", encodeXml(opt.queryXml));\r\n                    break;\r\n                case \"QueryEx\":\r\n                    soapEnvelope.opheader = \"<\" + opt.operation + \" xmlns='http://microsoft.com/webservices/OfficeServer/QueryService'>\";\r\n                    SOAPAction = \"http://microsoft.com/webservices/OfficeServer/QueryService/\" + opt.operation;\r\n                    soapEnvelope.payload += wrapNode(\"queryXml\", encodeXml(opt.queryXml));\r\n                    break;\r\n                case \"Registration\":\r\n                    soapEnvelope.payload += wrapNode(\"registrationXml\", encodeXml(opt.registrationXml));\r\n                    break;\r\n                case \"Status\":\r\n                    break;\r\n\r\n                // SHAREPOINTDIAGNOSTICS OPERATIONS\r\n                case \"SendClientScriptErrorReport\":\r\n                    addToPayload(opt, [\"message\", \"file\", \"line\", \"client\", \"stack\", \"team\", \"originalFile\"]);\r\n                    break;\r\n\r\n                // SITEDATA OPERATIONS\r\n                case \"EnumerateFolder\":\r\n                    addToPayload(opt, [\"strFolderUrl\"]);\r\n                    break;\r\n                case \"GetAttachments\":\r\n                    addToPayload(opt, [\"strListName\", \"strItemId\"]);\r\n                    break;\r\n                case \"SiteDataGetList\":\r\n                    addToPayload(opt, [\"strListName\"]);\r\n                    // Because this operation has a name which duplicates the Lists WS, need to handle\r\n                    soapEnvelope = siteDataFixSOAPEnvelope(soapEnvelope, opt.operation);\r\n                    break;\r\n                case \"SiteDataGetListCollection\":\r\n                    // Because this operation has a name which duplicates the Lists WS, need to handle\r\n                    soapEnvelope = siteDataFixSOAPEnvelope(soapEnvelope, opt.operation);\r\n                    break;\r\n                case \"SiteDataGetSite\":\r\n                    // Because this operation has a name which duplicates the Lists WS, need to handle\r\n                    soapEnvelope = siteDataFixSOAPEnvelope(soapEnvelope, opt.operation);\r\n                    break;\r\n                case \"SiteDataGetSiteUrl\":\r\n                    addToPayload(opt, [\"Url\"]);\r\n                    // Because this operation has a name which duplicates the Lists WS, need to handle\r\n                    soapEnvelope = siteDataFixSOAPEnvelope(soapEnvelope, opt.operation);\r\n                    break;\r\n                case \"SiteDataGetWeb\":\r\n                    // Because this operation has a name which duplicates the Lists WS, need to handle\r\n                    soapEnvelope = siteDataFixSOAPEnvelope(soapEnvelope, opt.operation);\r\n                    break;\r\n\r\n                // SITES OPERATIONS\r\n                case \"CreateWeb\":\r\n                    addToPayload(opt, [\"url\", \"title\", \"description\", \"templateName\", \"language\", \"languageSpecified\",\r\n                        \"locale\", \"localeSpecified\", \"collationLocale\", \"collationLocaleSpecified\", \"uniquePermissions\",\r\n                        \"uniquePermissionsSpecified\", \"anonymous\", \"anonymousSpecified\", \"presence\", \"presenceSpecified\"\r\n                    ]);\r\n                    break;\r\n                case \"DeleteWeb\":\r\n                    addToPayload(opt, [\"url\"]);\r\n                    break;\r\n                case \"GetSite\":\r\n                    addToPayload(opt, [\"SiteUrl\"]);\r\n                    break;\r\n                case \"GetSiteTemplates\":\r\n                    addToPayload(opt, [\"LCID\", \"TemplateList\"]);\r\n                    break;\r\n\r\n                // SOCIALDATASERVICE OPERATIONS\r\n                case \"AddComment\":\r\n                    addToPayload(opt, [\"url\", \"comment\", \"isHighPriority\", \"title\"]);\r\n                    break;\r\n                case \"AddTag\":\r\n                    addToPayload(opt, [\"url\", \"termID\", \"title\", \"isPrivate\"]);\r\n                    break;\r\n                case \"AddTagByKeyword\":\r\n                    addToPayload(opt, [\"url\", \"keyword\", \"title\", \"isPrivate\"]);\r\n                    break;\r\n                case \"CountCommentsOfUser\":\r\n                    addToPayload(opt, [\"userAccountName\"]);\r\n                    break;\r\n                case \"CountCommentsOfUserOnUrl\":\r\n                    addToPayload(opt, [\"userAccountName\", \"url\"]);\r\n                    break;\r\n                case \"CountCommentsOnUrl\":\r\n                    addToPayload(opt, [\"url\"]);\r\n                    break;\r\n                case \"CountRatingsOnUrl\":\r\n                    addToPayload(opt, [\"url\"]);\r\n                    break;\r\n                case \"CountTagsOfUser\":\r\n                    addToPayload(opt, [\"userAccountName\"]);\r\n                    break;\r\n                case \"DeleteComment\":\r\n                    addToPayload(opt, [\"url\", \"lastModifiedTime\"]);\r\n                    break;\r\n                case \"DeleteRating\":\r\n                    addToPayload(opt, [\"url\"]);\r\n                    break;\r\n                case \"DeleteTag\":\r\n                    addToPayload(opt, [\"url\", \"termID\"]);\r\n                    break;\r\n                case \"DeleteTagByKeyword\":\r\n                    addToPayload(opt, [\"url\", \"keyword\"]);\r\n                    break;\r\n                case \"DeleteTags\":\r\n                    addToPayload(opt, [\"url\"]);\r\n                    break;\r\n                case \"GetAllTagTerms\":\r\n                    addToPayload(opt, [\"maximumItemsToReturn\"]);\r\n                    break;\r\n                case \"GetAllTagTermsForUrlFolder\":\r\n                    addToPayload(opt, [\"urlFolder\", \"maximumItemsToReturn\"]);\r\n                    break;\r\n                case \"GetAllTagUrls\":\r\n                    addToPayload(opt, [\"termID\"]);\r\n                    break;\r\n                case \"GetAllTagUrlsByKeyword\":\r\n                    addToPayload(opt, [\"keyword\"]);\r\n                    break;\r\n                case \"GetCommentsOfUser\":\r\n                    addToPayload(opt, [\"userAccountName\", \"maximumItemsToReturn\", \"startIndex\"]);\r\n                    break;\r\n                case \"GetCommentsOfUserOnUrl\":\r\n                    addToPayload(opt, [\"userAccountName\", \"url\"]);\r\n                    break;\r\n                case \"GetCommentsOnUrl\":\r\n                    addToPayload(opt, [\"url\", \"maximumItemsToReturn\", \"startIndex\"]);\r\n                    if (typeof opt.excludeItemsTime !== \"undefined\" && opt.excludeItemsTime.length > 0) {\r\n                        soapEnvelope.payload += wrapNode(\"excludeItemsTime\", opt.excludeItemsTime);\r\n                    }\r\n                    break;\r\n                case \"GetRatingAverageOnUrl\":\r\n                    addToPayload(opt, [\"url\"]);\r\n                    break;\r\n                case \"GetRatingOfUserOnUrl\":\r\n                    addToPayload(opt, [\"userAccountName\", \"url\"]);\r\n                    break;\r\n                case \"GetRatingOnUrl\":\r\n                    addToPayload(opt, [\"url\"]);\r\n                    break;\r\n                case \"GetRatingsOfUser\":\r\n                    addToPayload(opt, [\"userAccountName\"]);\r\n                    break;\r\n                case \"GetRatingsOnUrl\":\r\n                    addToPayload(opt, [\"url\"]);\r\n                    break;\r\n                case \"GetSocialDataForFullReplication\":\r\n                    addToPayload(opt, [\"userAccountName\"]);\r\n                    break;\r\n                case \"GetTags\":\r\n                    addToPayload(opt, [\"url\"]);\r\n                    break;\r\n                case \"GetTagsOfUser\":\r\n                    addToPayload(opt, [\"userAccountName\", \"maximumItemsToReturn\", \"startIndex\"]);\r\n                    break;\r\n                case \"GetTagTerms\":\r\n                    addToPayload(opt, [\"maximumItemsToReturn\"]);\r\n                    break;\r\n                case \"GetTagTermsOfUser\":\r\n                    addToPayload(opt, [\"userAccountName\", \"maximumItemsToReturn\"]);\r\n                    break;\r\n                case \"GetTagTermsOnUrl\":\r\n                    addToPayload(opt, [\"url\", \"maximumItemsToReturn\"]);\r\n                    break;\r\n                case \"GetTagUrls\":\r\n                    addToPayload(opt, [\"termID\"]);\r\n                    break;\r\n                case \"GetTagUrlsByKeyword\":\r\n                    addToPayload(opt, [\"keyword\"]);\r\n                    break;\r\n                case \"GetTagUrlsOfUser\":\r\n                    addToPayload(opt, [\"termID\", \"userAccountName\"]);\r\n                    break;\r\n                case \"GetTagUrlsOfUserByKeyword\":\r\n                    addToPayload(opt, [\"keyword\", \"userAccountName\"]);\r\n                    break;\r\n                case \"SetRating\":\r\n                    addToPayload(opt, [\"url\", \"rating\", \"title\", \"analysisDataEntry\"]);\r\n                    break;\r\n                case \"UpdateComment\":\r\n                    addToPayload(opt, [\"url\", \"lastModifiedTime\", \"comment\", \"isHighPriority\"]);\r\n                    break;\r\n\r\n                // SPELLCHECK OPERATIONS\r\n                case \"SpellCheck\":\r\n                    addToPayload(opt, [\"chunksToSpell\", \"declaredLanguage\", \"useLad\"]);\r\n                    break;\r\n\r\n                // TAXONOMY OPERATIONS\r\n                case \"AddTerms\":\r\n                    addToPayload(opt, [\"sharedServiceId\", \"termSetId\", \"lcid\", \"newTerms\"]);\r\n                    break;\r\n                case \"GetChildTermsInTerm\":\r\n                    addToPayload(opt, [\"sspId\", \"lcid\", \"termId\", \"termSetId\"]);\r\n                    break;\r\n                case \"GetChildTermsInTermSet\":\r\n                    addToPayload(opt, [\"sspId\", \"lcid\", \"termSetId\"]);\r\n                    break;\r\n                case \"GetKeywordTermsByGuids\":\r\n                    addToPayload(opt, [\"termIds\", \"lcid\"]);\r\n                    break;\r\n                case \"GetTermsByLabel\":\r\n                    addToPayload(opt, [\"label\", \"lcid\", \"matchOption\", \"resultCollectionSize\", \"termIds\", \"addIfNotFound\"]);\r\n                    break;\r\n                case \"GetTermSets\":\r\n                    addToPayload(opt, [\"sharedServiceId\", \"termSetId\", \"lcid\", \"clientTimeStamps\", \"clientVersions\"]);\r\n                    break;\r\n\r\n                // USERS AND GROUPS OPERATIONS\r\n                case \"AddGroup\":\r\n                    addToPayload(opt, [\"groupName\", \"ownerIdentifier\", \"ownerType\", \"defaultUserLoginName\", \"description\"]);\r\n                    break;\r\n                case \"AddGroupToRole\":\r\n                    addToPayload(opt, [\"groupName\", \"roleName\"]);\r\n                    break;\r\n                case \"AddRole\":\r\n                    addToPayload(opt, [\"roleName\", \"description\", \"permissionMask\"]);\r\n                    break;\r\n                case \"AddRoleDef\":\r\n                    addToPayload(opt, [\"roleName\", \"description\", \"permissionMask\"]);\r\n                    break;\r\n                case \"AddUserCollectionToGroup\":\r\n                    addToPayload(opt, [\"groupName\", \"usersInfoXml\"]);\r\n                    break;\r\n                case \"AddUserCollectionToRole\":\r\n                    addToPayload(opt, [\"roleName\", \"usersInfoXml\"]);\r\n                    break;\r\n                case \"AddUserToGroup\":\r\n                    addToPayload(opt, [\"groupName\", \"userName\", \"userLoginName\", \"userEmail\", \"userNotes\"]);\r\n                    break;\r\n                case \"AddUserToRole\":\r\n                    addToPayload(opt, [\"roleName\", \"userName\", \"userLoginName\", \"userEmail\", \"userNotes\"]);\r\n                    break;\r\n                case \"GetAllUserCollectionFromWeb\":\r\n                    break;\r\n                case \"GetGroupCollection\":\r\n                    addToPayload(opt, [\"groupNamesXml\"]);\r\n                    break;\r\n                case \"GetGroupCollectionFromRole\":\r\n                    addToPayload(opt, [\"roleName\"]);\r\n                    break;\r\n                case \"GetGroupCollectionFromSite\":\r\n                    break;\r\n                case \"GetGroupCollectionFromUser\":\r\n                    addToPayload(opt, [\"userLoginName\"]);\r\n                    break;\r\n                case \"GetGroupCollectionFromWeb\":\r\n                    break;\r\n                case \"GetGroupInfo\":\r\n                    addToPayload(opt, [\"groupName\"]);\r\n                    break;\r\n                case \"GetRoleCollection\":\r\n                    addToPayload(opt, [\"roleNamesXml\"]);\r\n                    break;\r\n                case \"GetRoleCollectionFromGroup\":\r\n                    addToPayload(opt, [\"groupName\"]);\r\n                    break;\r\n                case \"GetRoleCollectionFromUser\":\r\n                    addToPayload(opt, [\"userLoginName\"]);\r\n                    break;\r\n                case \"GetRoleCollectionFromWeb\":\r\n                    break;\r\n                case \"GetRoleInfo\":\r\n                    addToPayload(opt, [\"roleName\"]);\r\n                    break;\r\n                case \"GetRolesAndPermissionsForCurrentUser\":\r\n                    break;\r\n                case \"GetRolesAndPermissionsForSite\":\r\n                    break;\r\n                case \"GetUserCollection\":\r\n                    addToPayload(opt, [\"userLoginNamesXml\"]);\r\n                    break;\r\n                case \"GetUserCollectionFromGroup\":\r\n                    addToPayload(opt, [\"groupName\"]);\r\n                    break;\r\n                case \"GetUserCollectionFromRole\":\r\n                    addToPayload(opt, [\"roleName\"]);\r\n                    break;\r\n                case \"GetUserCollectionFromSite\":\r\n                    break;\r\n                case \"GetUserCollectionFromWeb\":\r\n                    break;\r\n                case \"GetUserInfo\":\r\n                    addToPayload(opt, [\"userLoginName\"]);\r\n                    break;\r\n                case \"GetUserLoginFromEmail\":\r\n                    addToPayload(opt, [\"emailXml\"]);\r\n                    break;\r\n                case \"RemoveGroup\":\r\n                    addToPayload(opt, [\"groupName\"]);\r\n                    break;\r\n                case \"RemoveGroupFromRole\":\r\n                    addToPayload(opt, [\"roleName\", \"groupName\"]);\r\n                    break;\r\n                case \"RemoveRole\":\r\n                    addToPayload(opt, [\"roleName\"]);\r\n                    break;\r\n                case \"RemoveUserCollectionFromGroup\":\r\n                    addToPayload(opt, [\"groupName\", \"userLoginNamesXml\"]);\r\n                    break;\r\n                case \"RemoveUserCollectionFromRole\":\r\n                    addToPayload(opt, [\"roleName\", \"userLoginNamesXml\"]);\r\n                    break;\r\n                case \"RemoveUserCollectionFromSite\":\r\n                    addToPayload(opt, [\"userLoginNamesXml\"]);\r\n                    break;\r\n                case \"RemoveUserFromGroup\":\r\n                    addToPayload(opt, [\"groupName\", \"userLoginName\"]);\r\n                    break;\r\n                case \"RemoveUserFromRole\":\r\n                    addToPayload(opt, [\"roleName\", \"userLoginName\"]);\r\n                    break;\r\n                case \"RemoveUserFromSite\":\r\n                    addToPayload(opt, [\"userLoginName\"]);\r\n                    break;\r\n                case \"RemoveUserFromWeb\":\r\n                    addToPayload(opt, [\"userLoginName\"]);\r\n                    break;\r\n                case \"UpdateGroupInfo\":\r\n                    addToPayload(opt, [\"oldGroupName\", \"groupName\", \"ownerIdentifier\", \"ownerType\", \"description\"]);\r\n                    break;\r\n                case \"UpdateRoleDefInfo\":\r\n                    addToPayload(opt, [\"oldRoleName\", \"roleName\", \"description\", \"permissionMask\"]);\r\n                    break;\r\n                case \"UpdateRoleInfo\":\r\n                    addToPayload(opt, [\"oldRoleName\", \"roleName\", \"description\", \"permissionMask\"]);\r\n                    break;\r\n                case \"UpdateUserInfo\":\r\n                    addToPayload(opt, [\"userLoginName\", \"userName\", \"userEmail\", \"userNotes\"]);\r\n                    break;\r\n\r\n                // USERPROFILESERVICE OPERATIONS\r\n                case \"AddColleague\":\r\n                    addToPayload(opt, [\"accountName\", \"colleagueAccountName\", \"group\", \"privacy\", \"isInWorkGroup\"]);\r\n                    break;\r\n                case \"AddLink\":\r\n                    addToPayload(opt, [\"accountName\", \"name\", \"url\", \"group\", \"privacy\"]);\r\n                    break;\r\n                case \"AddMembership\":\r\n                    addToPayload(opt, [\"accountName\", \"membershipInfo\", \"group\", \"privacy\"]);\r\n                    break;\r\n                case \"AddPinnedLink\":\r\n                    addToPayload(opt, [\"accountName\", \"name\", \"url\"]);\r\n                    break;\r\n                case \"CreateMemberGroup\":\r\n                    addToPayload(opt, [\"membershipInfo\"]);\r\n                    break;\r\n                case \"CreateUserProfileByAccountName\":\r\n                    addToPayload(opt, [\"accountName\"]);\r\n                    break;\r\n                case \"GetCommonColleagues\":\r\n                    addToPayload(opt, [\"accountName\"]);\r\n                    break;\r\n                case \"GetCommonManager\":\r\n                    addToPayload(opt, [\"accountName\"]);\r\n                    break;\r\n                case \"GetCommonMemberships\":\r\n                    addToPayload(opt, [\"accountName\"]);\r\n                    break;\r\n                case \"GetInCommon\":\r\n                    addToPayload(opt, [\"accountName\"]);\r\n                    break;\r\n                case \"GetPropertyChoiceList\":\r\n                    addToPayload(opt, [\"propertyName\"]);\r\n                    break;\r\n                case \"GetUserColleagues\":\r\n                    addToPayload(opt, [\"accountName\"]);\r\n                    break;\r\n                case \"GetUserLinks\":\r\n                    addToPayload(opt, [\"accountName\"]);\r\n                    break;\r\n                case \"GetUserMemberships\":\r\n                    addToPayload(opt, [\"accountName\"]);\r\n                    break;\r\n                case \"GetUserPinnedLinks\":\r\n                    addToPayload(opt, [\"accountName\"]);\r\n                    break;\r\n                case \"GetUserProfileByGuid\":\r\n                    addToPayload(opt, [\"guid\"]);\r\n                    break;\r\n                case \"GetUserProfileByIndex\":\r\n                    addToPayload(opt, [\"index\"]);\r\n                    break;\r\n                case \"GetUserProfileByName\":\r\n                    // Note that this operation is inconsistent with the others, using AccountName rather than accountName\r\n                    if (typeof opt.accountName !== \"undefined\" && opt.accountName.length > 0) {\r\n                        addToPayload(opt, [\r\n                            [\"AccountName\", \"accountName\"]\r\n                        ]);\r\n                    } else {\r\n                        addToPayload(opt, [\"AccountName\"]);\r\n                    }\r\n                    break;\r\n                case \"GetUserProfileCount\":\r\n                    break;\r\n                case \"GetUserProfileSchema\":\r\n                    break;\r\n                case \"GetUserPropertyByAccountName\":\r\n                    addToPayload(opt, [\"accountName\", \"propertyName\"]);\r\n                    break;\r\n                case \"ModifyUserPropertyByAccountName\":\r\n                    addToPayload(opt, [\"accountName\", \"newData\"]);\r\n                    break;\r\n                case \"RemoveAllColleagues\":\r\n                    addToPayload(opt, [\"accountName\"]);\r\n                    break;\r\n                case \"RemoveAllLinks\":\r\n                    addToPayload(opt, [\"accountName\"]);\r\n                    break;\r\n                case \"RemoveAllMemberships\":\r\n                    addToPayload(opt, [\"accountName\"]);\r\n                    break;\r\n                case \"RemoveAllPinnedLinks\":\r\n                    addToPayload(opt, [\"accountName\"]);\r\n                    break;\r\n                case \"RemoveColleague\":\r\n                    addToPayload(opt, [\"accountName\", \"colleagueAccountName\"]);\r\n                    break;\r\n                case \"RemoveLink\":\r\n                    addToPayload(opt, [\"accountName\", \"id\"]);\r\n                    break;\r\n                case \"RemoveMembership\":\r\n                    addToPayload(opt, [\"accountName\", \"sourceInternal\", \"sourceReference\"]);\r\n                    break;\r\n                case \"RemovePinnedLink\":\r\n                    addToPayload(opt, [\"accountName\", \"id\"]);\r\n                    break;\r\n                case \"UpdateColleaguePrivacy\":\r\n                    addToPayload(opt, [\"accountName\", \"colleagueAccountName\", \"newPrivacy\"]);\r\n                    break;\r\n                case \"UpdateLink\":\r\n                    addToPayload(opt, [\"accountName\", \"data\"]);\r\n                    break;\r\n                case \"UpdateMembershipPrivacy\":\r\n                    addToPayload(opt, [\"accountName\", \"sourceInternal\", \"sourceReference\", \"newPrivacy\"]);\r\n                    break;\r\n                case \"UpdatePinnedLink \":\r\n                    addToPayload(opt, [\"accountName\", \"data\"]);\r\n                    break;\r\n\r\n                // VERSIONS OPERATIONS\r\n                case \"DeleteAllVersions\":\r\n                    addToPayload(opt, [\"fileName\"]);\r\n                    break;\r\n                case \"DeleteVersion\":\r\n                    addToPayload(opt, [\"fileName\", \"fileVersion\"]);\r\n                    break;\r\n                case \"GetVersions\":\r\n                    addToPayload(opt, [\"fileName\"]);\r\n                    break;\r\n                case \"RestoreVersion\":\r\n                    addToPayload(opt, [\"fileName\", \"fileVersion\"]);\r\n                    break;\r\n\r\n                // VIEW OPERATIONS\r\n                case \"AddView\":\r\n                    addToPayload(opt, [\"listName\", \"viewName\", \"viewFields\", \"query\", \"rowLimit\", \"rowLimit\", \"type\", \"makeViewDefault\"]);\r\n                    break;\r\n                case \"DeleteView\":\r\n                    addToPayload(opt, [\"listName\", \"viewName\"]);\r\n                    break;\r\n                case \"GetView\":\r\n                    addToPayload(opt, [\"listName\", \"viewName\"]);\r\n                    break;\r\n                case \"GetViewCollection\":\r\n                    addToPayload(opt, [\"listName\"]);\r\n                    break;\r\n                case \"GetViewHtml\":\r\n                    addToPayload(opt, [\"listName\", \"viewName\"]);\r\n                    break;\r\n                case \"UpdateView\":\r\n                    addToPayload(opt, [\"listName\", \"viewName\", \"viewProperties\", \"query\", \"viewFields\", \"aggregations\", \"formats\", \"rowLimit\"]);\r\n                    break;\r\n                case \"UpdateViewHtml\":\r\n                    addToPayload(opt, [\"listName\", \"viewName\", \"viewProperties\", \"toolbar\", \"viewHeader\", \"viewBody\", \"viewFooter\", \"viewEmpty\", \"rowLimitExceeded\",\r\n                        \"query\", \"viewFields\", \"aggregations\", \"formats\", \"rowLimit\"\r\n                    ]);\r\n                    break;\r\n\r\n                // WEBPARTPAGES OPERATIONS\r\n                case \"AddWebPart\":\r\n                    addToPayload(opt, [\"pageUrl\", \"webPartXml\", \"storage\"]);\r\n                    break;\r\n                case \"AddWebPartToZone\":\r\n                    addToPayload(opt, [\"pageUrl\", \"webPartXml\", \"storage\", \"zoneId\", \"zoneIndex\"]);\r\n                    break;\r\n                case \"GetWebPart2\":\r\n                    addToPayload(opt, [\"pageUrl\", \"storageKey\", \"storage\", \"behavior\"]);\r\n                    break;\r\n                case \"GetWebPartPage\":\r\n                    addToPayload(opt, [\"documentName\", \"behavior\"]);\r\n                    break;\r\n                case \"GetWebPartProperties\":\r\n                    addToPayload(opt, [\"pageUrl\", \"storage\"]);\r\n                    break;\r\n                case \"GetWebPartProperties2\":\r\n                    addToPayload(opt, [\"pageUrl\", \"storage\", \"behavior\"]);\r\n                    break;\r\n\r\n                // WEBS OPERATIONS\r\n                case \"Webs.CreateContentType\":\r\n                    addToPayload(opt, [\"displayName\", \"parentType\", \"newFields\", \"contentTypeProperties\"]);\r\n                    break;\r\n                case \"GetColumns\":\r\n                    addToPayload(opt, [\"webUrl\"]);\r\n                    break;\r\n                case \"GetContentType\":\r\n                    addToPayload(opt, [\"contentTypeId\"]);\r\n                    break;\r\n                case \"GetContentTypes\":\r\n                    break;\r\n                case \"GetCustomizedPageStatus\":\r\n                    addToPayload(opt, [\"fileUrl\"]);\r\n                    break;\r\n                case \"GetListTemplates\":\r\n                    break;\r\n                case \"GetObjectIdFromUrl\":\r\n                    addToPayload(opt, [\"objectUrl\"]);\r\n                    break;\r\n                case \"GetWeb\":\r\n                    addToPayload(opt, [\r\n                        [\"webUrl\", \"webURL\"]\r\n                    ]);\r\n                    break;\r\n                case \"GetWebCollection\":\r\n                    break;\r\n                case \"GetAllSubWebCollection\":\r\n                    break;\r\n                case \"UpdateColumns\":\r\n                    addToPayload(opt, [\"newFields\", \"updateFields\", \"deleteFields\"]);\r\n                    break;\r\n                case \"Webs.UpdateContentType\":\r\n                    addToPayload(opt, [\"contentTypeId\", \"contentTypeProperties\", \"newFields\", \"updateFields\", \"deleteFields\"]);\r\n                    break;\r\n                case \"WebUrlFromPageUrl\":\r\n                    addToPayload(opt, [\r\n                        [\"pageUrl\", \"pageURL\"]\r\n                    ]);\r\n                    break;\r\n\r\n                // WORKFLOW OPERATIONS\r\n                case \"AlterToDo\":\r\n                    addToPayload(opt, [\"item\", \"todoId\", \"todoListId\", \"taskData\"]);\r\n                    break;\r\n                case \"ClaimReleaseTask\":\r\n                    addToPayload(opt, [\"item\", \"taskId\", \"listId\", \"fClaim\"]);\r\n                    break;\r\n                case \"GetTemplatesForItem\":\r\n                    addToPayload(opt, [\"item\"]);\r\n                    break;\r\n                case \"GetToDosForItem\":\r\n                    addToPayload(opt, [\"item\"]);\r\n                    break;\r\n                case \"GetWorkflowDataForItem\":\r\n                    addToPayload(opt, [\"item\"]);\r\n                    break;\r\n                case \"GetWorkflowTaskData\":\r\n                    addToPayload(opt, [\"item\", \"listId\", \"taskId\"]);\r\n                    break;\r\n                case \"StartWorkflow\":\r\n                    addToPayload(opt, [\"item\", \"templateId\", \"workflowParameters\"]);\r\n                    break;\r\n\r\n                default:\r\n                    break;\r\n            }\r\n\r\n            // Glue together the pieces of the SOAP message\r\n            var msg = soapEnvelope.header + soapEnvelope.opheader + soapEnvelope.payload + soapEnvelope.opfooter + soapEnvelope.footer;\r\n            var soapAction = apWebServiceOperationConstants[opt.operation][1] ? SOAPAction : false;\r\n\r\n            return {\r\n                msg: msg,\r\n                SOAPEnvelope: soapEnvelope,\r\n                SOAPAction: soapAction\r\n            };\r\n\r\n            // Add the option values to the soapEnvelope.payload for the operation\r\n            //  opt = options for the call\r\n            //  paramArray = an array of option names to add to the payload\r\n            //      \"paramName\" if the parameter name and the option name match\r\n            //      [\"paramName\", \"optionName\"] if the parameter name and the option name are different (this handles early \"wrappings\" with inconsistent naming)\r\n            //      {name: \"paramName\", sendNull: false} indicates the element is marked as \"add to payload only if non-null\"\r\n            function addToPayload(opt, paramArray) {\r\n\r\n                var i;\r\n\r\n                for (i = 0; i < paramArray.length; i++) {\r\n                    // the parameter name and the option name match\r\n                    if (typeof paramArray[i] === \"string\") {\r\n                        soapEnvelope.payload += wrapNode(paramArray[i], opt[paramArray[i]]);\r\n                        // the parameter name and the option name are different\r\n                    } else if (_.isArray(paramArray[i]) && paramArray[i].length === 2) {\r\n                        soapEnvelope.payload += wrapNode(paramArray[i][0], opt[paramArray[i][1]]);\r\n                        // the element not a string or an array and is marked as \"add to payload only if non-null\"\r\n                    } else if ((typeof paramArray[i] === \"object\") && (paramArray[i].sendNull !== undefined)) {\r\n                        soapEnvelope.payload += ((opt[paramArray[i].name] === undefined) || (opt[paramArray[i].name].length === 0)) ? \"\" : wrapNode(paramArray[i].name, opt[paramArray[i].name]);\r\n                        // something isn't right, so report it\r\n                    } else {\r\n                        console.error(opt.operation, \"paramArray[\" + i + \"]: \" + paramArray[i], \"Invalid paramArray element passed to addToPayload()\");\r\n                    }\r\n                }\r\n            } // End of function addToPayload\r\n\r\n            // The SiteData operations have the same names as other Web Service operations. To make them easy to call and unique, I'm using\r\n            // the SiteData prefix on their names. This function replaces that name with the right name in the soapEnvelope.\r\n            function siteDataFixSOAPEnvelope(SOAPEnvelope, siteDataOperation) {\r\n                var siteDataOp = siteDataOperation.substring(8);\r\n                SOAPEnvelope.opheader = SOAPEnvelope.opheader.replace(siteDataOperation, siteDataOp);\r\n                SOAPEnvelope.opfooter = SOAPEnvelope.opfooter.replace(siteDataOperation, siteDataOp);\r\n                return SOAPEnvelope;\r\n            } // End of function siteDataFixSOAPEnvelope\r\n\r\n\r\n        }; // End SPServices.generateXMLComponents\r\n\r\n\r\n        ////// PRIVATE FUNCTIONS ////////\r\n        // Wrap an XML node (n) around a value (v)\r\n        function wrapNode(n, v) {\r\n            var thisValue = typeof v !== \"undefined\" ? v : \"\";\r\n            return \"<\" + n + \">\" + thisValue + \"</\" + n + \">\";\r\n        }\r\n\r\n        // Get the filename from the full URL\r\n        function fileName(s) {\r\n            return s.substring(s.lastIndexOf(\"/\") + 1, s.length);\r\n        }\r\n\r\n        /* Taken from http://dracoblue.net/dev/encodedecode-special-xml-characters-in-javascript/155/ */\r\n        var xml_special_to_escaped_one_map = {\r\n            '&': '&amp;',\r\n            '\"': '&quot;',\r\n            '<': '&lt;',\r\n            '>': '&gt;'\r\n        };\r\n\r\n        function encodeXml(string) {\r\n            return string.replace(/([\\&\"<>])/g, function(str, item) {\r\n                return xml_special_to_escaped_one_map[item];\r\n            });\r\n        }\r\n\r\n        /* Taken from http://dracoblue.net/dev/encodedecode-special-xml-characters-in-javascript/155/ */\r\n        // Escape column values\r\n        function escapeColumnValue(s) {\r\n            if (typeof s === \"string\") {\r\n                return s.replace(/&(?![a-zA-Z]{1,8};)/g, \"&amp;\");\r\n            } else {\r\n                return s;\r\n            }\r\n        }\r\n\r\n        // James Padolsey's Regex Selector for jQuery http://james.padolsey.com/javascript/regex-selector-for-jquery/\r\n        $.expr[':'].regex = function(elem, index, match) {\r\n            var matchParams = match[3].split(','),\r\n                validLabels = /^(data|css):/,\r\n                attr = {\r\n                    method: matchParams[0].match(validLabels) ?\r\n                        matchParams[0].split(':')[0] : 'attr',\r\n                    property: matchParams.shift().replace(validLabels, '')\r\n                },\r\n                regexFlags = 'ig',\r\n                regex = new RegExp(matchParams.join('').replace(/^\\s+|\\s+$/g, ''), regexFlags);\r\n            return regex.test(jQuery(elem)[attr.method](attr.property));\r\n        };\r\n\r\n        return SPServices;\r\n\r\n    }\r\n\r\n\r\n    /**\r\n     * @ngdoc service\r\n     * @name angularPoint.SPServices\r\n     * @description\r\n     * This is just a trimmed down version of Marc Anderson's awesome [SPServices](http://spservices.codeplex.com/) library.\r\n     * We're primarily looking for the ability to create the SOAP envelope and let AngularJS's $http service handle all\r\n     * communication with the server.\r\n     *\r\n     * */\r\n    angular.module('angularPoint')\r\n        .factory('SPServices', Service);\r\n}\r\n","/// <reference path=\"../app.module.ts\" />\r\n\r\n\r\nmodule ap {\r\n    'use strict';\r\n\r\n    interface _ {\r\n        isDefined(val): boolean;\r\n        isGuid(val): boolean;\r\n    }\r\n\r\n\r\n    // Split values like 1;#value into id and value\r\n    class SplitIndex {\r\n        id: number;\r\n        value: string;\r\n\r\n        constructor(str) {\r\n            var spl = str.split(';#');\r\n            this.id = parseInt(spl[0], 10);\r\n            this.value = spl[1];\r\n        }\r\n    }\r\n\r\n    var service: UtilityService, $q, apConfig, $timeout;\r\n\r\n    export class UtilityService {\r\n        SplitIndex = SplitIndex;\r\n        static $inject = ['$q', '$timeout', 'apConfig'];\r\n\r\n        constructor(_$q_, _$timeout_, _apConfig_) {\r\n            service = this;\r\n            $q = _$q_;\r\n            $timeout = _$timeout_;\r\n            apConfig = _apConfig_;\r\n\r\n        }\r\n                \r\n        /**\r\n         * @ngdoc function\r\n         * @name angularPoint.apUtilityService:batchProcess\r\n         * @methodOf angularPoint.apUtilityService\r\n         * @description\r\n         * We REALLY don't want to lock the user's browser (blocking the UI thread) while iterating over an array of\r\n         * entities and performing some process on them.  This function cuts the process into as many 50ms chunks as are\r\n         * necessary. Based on example found in the following article:\r\n         * [Timed array processing in JavaScript](http://www.nczonline.net/blog/2009/08/11/timed-array-processing-in-javascript/);\r\n         * @param {Object[]} entities The entities that need to be processed.\r\n         * @param {Function} process Reference to the process to be executed for each of the entities.\r\n         * @param {Object} context this\r\n         * @param {Number} [delay=25] Number of milliseconds to delay between batches.\r\n         * @param {Number} [maxItems=entities.length] Maximum number of entities to process before pausing.\r\n         * @returns {Object} Promise\r\n         * @example\r\n         * <pre>\r\n         * function buildProjectSummary = function() {\r\n             *    var deferred = $q.defer();\r\n             *\r\n             *    // Taken from a fictitious projectsModel.js\r\n             *    projectModel.getAllListItems().then(function(entities) {\r\n             *      var summaryObject = {};\r\n             *      var extendProjectSummary = function(project) {\r\n             *          // Do some process intensive stuff here\r\n             *\r\n             *      };\r\n             *\r\n             *      // Now that we have all of our projects we want to iterate\r\n             *      // over each to create our summary object. The problem is\r\n             *      // this could easily cause the page to hang with a sufficient\r\n             *      // number of entities.\r\n             *      apUtilityService.batchProcess(entities, extendProjectSummary, function() {\r\n             *          // Long running process is complete so resolve promise\r\n             *          deferred.resolve(summaryObject);\r\n             *      }, 25, 1000);\r\n             *    };\r\n             *\r\n             *    return deferred.promise;\r\n             * }\r\n         *\r\n         * </pre>\r\n         */\r\n\r\n        batchProcess(entities, process, context, delay, maxItems) {\r\n            var itemCount = entities.length,\r\n                batchCount = 0,\r\n                chunkMax = maxItems || itemCount,\r\n                delay = delay || 25,\r\n                index = 0,\r\n                deferred = $q.defer();\r\n\r\n            function chunkTimer() {\r\n                batchCount++;\r\n                var start = +new Date(),\r\n                    chunkIndex = index;\r\n\r\n                while (index < itemCount && (index - chunkIndex) < chunkMax && (new Date() - start < 100)) {\r\n                    process.call(context, entities[index], index, batchCount);\r\n                    index += 1;\r\n                }\r\n\r\n                if (index < itemCount) {\r\n                    $timeout(chunkTimer, delay);\r\n                }\r\n                else {\r\n                    deferred.resolve(entities);\r\n                }\r\n            }\r\n\r\n            chunkTimer();\r\n\r\n            return deferred.promise;\r\n        }\r\n        \r\n        \r\n        /**\r\n         * @ngdoc function\r\n         * @name angularPoint.apUtilityService:convertEffectivePermMask\r\n         * @methodOf angularPoint.apUtilityService\r\n         * @description\r\n         * GetListItemsSinceToken operation returns the list element with an EffectivePermMask attribute which is the\r\n         * name of the PermissionMask.  We then need to convert the name into an actual mask so this function contains\r\n         * the known permission names with their masks.  If a provided mask name is found, the cooresponding mask\r\n         * is returned.  Otherwise returns null.  [MSDN Source](http://msdn.microsoft.com/en-us/library/jj575178(v=office.12).aspx)\r\n         * @param {string} permMaskName Permission mask name.\r\n         * @returns {string|null} Return the mask for the name.\r\n         */\r\n        convertEffectivePermMask(permMaskName: string): string {\r\n            var permissionMask = null;\r\n\r\n            var permissions = {\r\n                //General\r\n                EmptyMask: '0x0000000000000000',\r\n                FullMask: '0x7FFFFFFFFFFFFFFF',\r\n\r\n                //List and document permissions\r\n                ViewListItems: '0x0000000000000001',\r\n                AddListItems: '',\r\n                EditListItems: '0x0000000000000004',\r\n                DeleteListItems: '0x0000000000000008',\r\n                ApproveItems: '0x0000000000000010',\r\n                OpenItems: '0x0000000000000020',\r\n                ViewVersions: '0x0000000000000040',\r\n                DeleteVersions: '0x0000000000000080',\r\n                CancelCheckout: '0x0000000000000100',\r\n                ManagePersonalViews: '0x0000000000000200',\r\n                ManageLists: '0x0000000000000800',\r\n                ViewFormPages: '0x0000000000001000',\r\n\r\n                //Web level permissions\r\n                Open: '0x0000000000010000',\r\n                ViewPages: '0x0000000000020000',\r\n                AddAndCustomizePages: '0x0000000000040000',\r\n                ApplyThemeAndBorder: '0x0000000000080000',\r\n                ApplyStyleSheets: '0x0000000000100000',\r\n                ViewUsageData: '0x0000000000200000',\r\n                CreateSSCSite: '0x0000000000400000',\r\n                ManageSubwebs: '0x0000000000800000',\r\n                CreateGroups: '0x0000000001000000',\r\n                ManagePermissions: '0x0000000002000000',\r\n                BrowseDirectories: '0x0000000004000000',\r\n                BrowseUserInfo: '0x0000000008000000',\r\n                AddDelPrivateWebParts: '0x0000000010000000',\r\n                UpdatePersonalWebParts: '0x0000000020000000',\r\n                ManageWeb: '0x0000000040000000',\r\n                UseClientIntegration: '0x0000001000000000',\r\n                UseRemoteAPIs: '0x0000002000000000',\r\n                ManageAlerts: '0x0000004000000000',\r\n                CreateAlerts: '0x0000008000000000',\r\n                EditMyUserInfo: '0x0000010000000000',\r\n\r\n                //Special Permissions\r\n                EnumeratePermissions: '0x4000000000000000'\r\n            };\r\n\r\n            if (permissions[permMaskName]) {\r\n                permissionMask = permissions[permMaskName];\r\n            }\r\n            return permissionMask;\r\n        }\r\n        \r\n        /**\r\n         * @ngdoc function\r\n         * @name angularPoint.apUtilityService:dateWithinRange\r\n         * @methodOf angularPoint.apUtilityService\r\n         * @description\r\n         * Converts dates into yyyymmdd formatted ints and evaluates to determine if the dateToCheck\r\n         * falls within the date range provided\r\n         * @param {Date} startDate Starting date.\r\n         * @param {Date} endDate Ending date.\r\n         * @param {Date} [dateToCheck=new Date()] Defaults to the current date.\r\n         * @returns {boolean} Does the date fall within the range?\r\n         */\r\n        dateWithinRange(startDate: Date, endDate: Date, dateToCheck = new Date()): boolean {\r\n            /** Ensure both a start and end date are provided **/\r\n            if (!startDate || !endDate) {\r\n                return false;\r\n            }\r\n\r\n            /** Create an int representation of each of the dates */\r\n            var startInt = service.yyyymmdd(startDate);\r\n            var endInt = service.yyyymmdd(endDate);\r\n            var dateToCheckInt = service.yyyymmdd(dateToCheck);\r\n\r\n            return startInt <= dateToCheckInt && dateToCheckInt <= endInt;\r\n        }\r\n\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name angularPoint.apUtilityService:doubleDigit\r\n         * @methodOf angularPoint.apUtilityService\r\n         * @description Add a leading zero if a number/string only contains a single character.  So in the case\r\n         * where the number 9 is passed in the string '09' is returned.\r\n         * @param {(number|string)} val A number or string to evaluate.\r\n         * @returns {string} Two digit string.\r\n         */\r\n        doubleDigit(val: number | string): string {\r\n            if (typeof val === 'number') {\r\n                return val > 9 ? val.toString() : '0' + val;\r\n            } else {\r\n                return service.doubleDigit(parseInt(val));\r\n            }\r\n        }\r\n\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name angularPoint.apUtilityService:fromCamelCase\r\n         * @methodOf angularPoint.apUtilityService\r\n         * @param {string} str String to convert.\r\n         * @description\r\n         * Converts a camel case string into a space delimited string with each word having a capitalized first letter.\r\n         * @returns {string} Humanized string.\r\n         */\r\n        fromCamelCase(str): string {\r\n            // insert a space before all caps\r\n            return str.replace(/([A-Z])/g, ' $1')\r\n            // uppercase the first character\r\n                .replace(/^./, function(str) {\r\n                    return str.toUpperCase();\r\n                });\r\n        }\r\n\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name angularPoint.apUtilityService:registerChange\r\n         * @methodOf angularPoint.apUtilityService\r\n         * @description\r\n         * If online and sync is being used, notify all online users that a change has been made.\r\n         * //Todo Break this functionality into FireBase module that can be used if desired.\r\n         * @param {object} model event\r\n         */\r\n        registerChange(model, changeType: string, listItemId: number) {\r\n            /** Disabled this functionality until I can spend the necessary time to test */\r\n            if (model.sync && _.isFunction(model.sync.registerChange)) {\r\n                /** Register change after successful update */\r\n                model.sync.registerChange(changeType, listItemId);\r\n            }\r\n        }\r\n\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name angularPoint.apUtilityService:resolvePermissions\r\n         * @methodOf angularPoint.apUtilityService\r\n         * @param {string} permissionsMask The WSS Rights Mask is an 8-byte, unsigned integer that specifies\r\n         * the rights that can be assigned to a user or site group. This bit mask can have zero or more flags set.\r\n         * @description\r\n         * Converts permMask into something usable to determine permission level for current user.  Typically used\r\n         * directly from a list item.  See ListItem.resolvePermissions.\r\n         *\r\n         * <h3>Additional Info</h3>\r\n         *\r\n         * -   [PermMask in SharePoint DVWPs](http://sympmarc.com/2009/02/03/permmask-in-sharepoint-dvwps/)\r\n         * -   [$().SPServices.SPLookupAddNew and security trimming](http://spservices.codeplex.com/discussions/208708)\r\n         *\r\n         * @returns {object} Object with properties for each permission level identifying if current user has rights (true || false)\r\n         * @example\r\n         * <pre>\r\n         * var perm = apUtilityService.resolvePermissions('0x0000000000000010');\r\n         * </pre>\r\n         * Example of what the returned object would look like\r\n         * for a site admin.\r\n         * <pre>\r\n         * perm = {\r\n             *    \"ViewListItems\":true,\r\n             *    \"AddListItems\":true,\r\n             *    \"EditListItems\":true,\r\n             *    \"DeleteListItems\":true,\r\n             *    \"ApproveItems\":true,\r\n             *    \"OpenItems\":true,\r\n             *    \"ViewVersions\":true,\r\n             *    \"DeleteVersions\":true,\r\n             *    \"CancelCheckout\":true,\r\n             *    \"PersonalViews\":true,\r\n             *    \"ManageLists\":true,\r\n             *    \"ViewFormPages\":true,\r\n             *    \"Open\":true,\r\n             *    \"ViewPages\":true,\r\n             *    \"AddAndCustomizePages\":true,\r\n             *    \"ApplyThemeAndBorder\":true,\r\n             *    \"ApplyStyleSheets\":true,\r\n             *    \"ViewUsageData\":true,\r\n             *    \"CreateSSCSite\":true,\r\n             *    \"ManageSubwebs\":true,\r\n             *    \"CreateGroups\":true,\r\n             *    \"ManagePermissions\":true,\r\n             *    \"BrowseDirectories\":true,\r\n             *    \"BrowseUserInfo\":true,\r\n             *    \"AddDelPrivateWebParts\":true,\r\n             *    \"UpdatePersonalWebParts\":true,\r\n             *    \"ManageWeb\":true,\r\n             *    \"UseRemoteAPIs\":true,\r\n             *    \"ManageAlerts\":true,\r\n             *    \"CreateAlerts\":true,\r\n             *    \"EditMyUserInfo\":true,\r\n             *    \"EnumeratePermissions\":true,\r\n             *    \"FullMask\":true\r\n             * }\r\n         * </pre>\r\n         */\r\n        resolvePermissions(permissionsMask): IUserPermissionsObject {\r\n            var permissionSet = {\r\n                ViewListItems: (1 & permissionsMask) > 0,\r\n                AddListItems: (2 & permissionsMask) > 0,\r\n                EditListItems: (4 & permissionsMask) > 0,\r\n                DeleteListItems: (8 & permissionsMask) > 0,\r\n                ApproveItems: (16 & permissionsMask) > 0,\r\n                OpenItems: (32 & permissionsMask) > 0,\r\n                ViewVersions: (64 & permissionsMask) > 0,\r\n                DeleteVersions: (128 & permissionsMask) > 0,\r\n                CancelCheckout: (256 & permissionsMask) > 0,\r\n                PersonalViews: (512 & permissionsMask) > 0,\r\n\r\n                ManageLists: (2048 & permissionsMask) > 0,\r\n                ViewFormPages: (4096 & permissionsMask) > 0,\r\n\r\n                Open: (permissionsMask & 65536) > 0,\r\n                ViewPages: (permissionsMask & 131072) > 0,\r\n                AddAndCustomizePages: (permissionsMask & 262144) > 0,\r\n                ApplyThemeAndBorder: (permissionsMask & 524288) > 0,\r\n                ApplyStyleSheets: (1048576 & permissionsMask) > 0,\r\n                ViewUsageData: (permissionsMask & 2097152) > 0,\r\n                CreateSSCSite: (permissionsMask & 4194314) > 0,\r\n                ManageSubwebs: (permissionsMask & 8388608) > 0,\r\n                CreateGroups: (permissionsMask & 16777216) > 0,\r\n                ManagePermissions: (permissionsMask & 33554432) > 0,\r\n                BrowseDirectories: (permissionsMask & 67108864) > 0,\r\n                BrowseUserInfo: (permissionsMask & 134217728) > 0,\r\n                AddDelPrivateWebParts: (permissionsMask & 268435456) > 0,\r\n                UpdatePersonalWebParts: (permissionsMask & 536870912) > 0,\r\n                ManageWeb: (permissionsMask & 1073741824) > 0,\r\n                UseRemoteAPIs: (permissionsMask & 137438953472) > 0,\r\n                ManageAlerts: (permissionsMask & 274877906944) > 0,\r\n                CreateAlerts: (permissionsMask & 549755813888) > 0,\r\n                EditMyUserInfo: (permissionsMask & 1099511627776) > 0,\r\n                EnumeratePermissions: (permissionsMask & 4611686018427387904) > 0,\r\n                FullMask: (permissionsMask == 9223372036854775807)\r\n            };\r\n\r\n            /**\r\n             * Full Mask only resolves correctly for the Full Mask level\r\n             * so in that case, set everything to true\r\n             */\r\n            if (permissionSet.FullMask) {\r\n                _.each(permissionSet, function(perm, key) {\r\n                    permissionSet[key] = true;\r\n                });\r\n            }\r\n\r\n            return permissionSet;\r\n        }\r\n\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name angularPoint.apUtilityService:stringifyXML\r\n         * @methodOf angularPoint.apUtilityService\r\n         * @description Simple utility to convert an XML object into a string and remove unnecessary whitespace.\r\n         * @param {object} xml XML object.\r\n         * @returns {string} Stringified version of the XML object.\r\n         */\r\n        stringifyXML(xml: XMLDocument): string {\r\n            var str;\r\n\r\n            if (_.isObject(xml)) {\r\n                str = service.xmlToString(xml).replace(/\\s+/g, ' ');\r\n            } else if (_.isString(xml)) {\r\n                str = xml;\r\n            }\r\n            return str;\r\n        }\r\n\r\n\r\n        toCamelCase(str): string {\r\n            return str.replace(/(?:^\\w|[A-Z]|\\b\\w)/g, function(letter, index) {\r\n                return index == 0 ? letter.toLowerCase() : letter.toUpperCase();\r\n            }).replace(/\\s+/g, '');\r\n        }\r\n\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name angularPoint.apUtilityService:yyyymmdd\r\n         * @methodOf angularPoint.apUtilityService\r\n         * @description\r\n         * Convert date into a int formatted as yyyymmdd\r\n         * We don't need the time portion of comparison so an int makes this easier to evaluate\r\n         */\r\n        yyyymmdd(date: Date): number {\r\n            var yyyy = date.getFullYear();\r\n            var mm = date.getMonth() + 1;\r\n            var dd = date.getDate();\r\n            /** Add leading 0's to month and day if necessary */\r\n            return parseInt(yyyy + service.doubleDigit(mm) + service.doubleDigit(dd));\r\n        }\r\n\r\n        xmlToString(xmlData) {\r\n            var xmlString;\r\n            if (typeof XMLSerializer !== 'undefined') {\r\n                /** Modern Browsers */\r\n                xmlString = (new XMLSerializer()).serializeToString(xmlData);\r\n            } else {\r\n                /** Old versions of IE */\r\n                xmlString = xmlData.xml;\r\n            }\r\n            return xmlString;\r\n        }\r\n\r\n\r\n    }\r\n\r\n    /** Extend underscore with a simple helper function */\r\n    _.mixin({\r\n        isDefined: function(value) {\r\n            return !_.isUndefined(value);\r\n        },\r\n        /** Based on functionality in Breeze.js */\r\n        isGuid: function(value) {\r\n            return (typeof value === \"string\") && /[a-fA-F\\d]{8}-(?:[a-fA-F\\d]{4}-){3}[a-fA-F\\d]{12}/\r\n                .test(value);\r\n        }\r\n    });\r\n\r\n\r\n    /**\r\n     * @ngdoc service\r\n     * @name angularPoint.apUtilityService\r\n     * @description\r\n     * Provides shared utility functionality across the application.\r\n     *\r\n     * @requires angularPoint.apConfig\r\n     */\r\n    angular.module('angularPoint')\r\n        .service('apUtilityService', UtilityService);\r\n\r\n}\r\n","/// <reference path=\"../app.module.ts\" />\r\n\r\nmodule ap {\r\n    'use strict';\r\n\r\n    var SCHEMASharePoint = \"http://schemas.microsoft.com/sharepoint\";\r\n    var serviceDefinitions = {\r\n        Alerts: {\r\n            action: SCHEMASharePoint + '/soap/2002/1/alerts/',\r\n            xmlns: SCHEMASharePoint + '/soap/2002/1/alerts/'\r\n        },\r\n        Meetings: {\r\n            action: SCHEMASharePoint + '/soap/meetings/',\r\n            xmlns: SCHEMASharePoint + '/soap/meetings/'\r\n        },\r\n        Permissions: {\r\n            action: SCHEMASharePoint + '/soap/directory/',\r\n            xmlns: SCHEMASharePoint + '/soap/directory/'\r\n        },\r\n        PublishedLinksService: {\r\n            action: 'http://microsoft.com/webservices/SharePointPortalServer/PublishedLinksService/',\r\n            xmlns: 'http://microsoft.com/webservices/SharePointPortalServer/PublishedLinksService/'\r\n        },\r\n        Search: {\r\n            action: 'urn:Microsoft.Search/',\r\n            xmlns: 'urn:Microsoft.Search'\r\n        },\r\n        SharePointDiagnostics: {\r\n            action: 'http://schemas.microsoft.com/sharepoint/diagnostics/',\r\n            xmlns: SCHEMASharePoint + '/diagnostics/'\r\n        },\r\n        SocialDataService: {\r\n            action: 'http://microsoft.com/webservices/SharePointPortalServer/SocialDataService/',\r\n            xmlns: 'http://microsoft.com/webservices/SharePointPortalServer/SocialDataService'\r\n        },\r\n        SpellCheck: {\r\n            action: 'http://schemas.microsoft.com/sharepoint/publishing/spelling/SpellCheck',\r\n            xmlns: 'http://schemas.microsoft.com/sharepoint/publishing/spelling/'\r\n        },\r\n        TaxonomyClientService: {\r\n            action: SCHEMASharePoint + '/taxonomy/soap/',\r\n            xmlns: SCHEMASharePoint + '/taxonomy/soap/'\r\n        },\r\n        usergroup: {\r\n            action: SCHEMASharePoint + '/soap/directory/',\r\n            xmlns: SCHEMASharePoint + '/soap/directory/'\r\n        },\r\n        UserProfileService: {\r\n            action: 'http://microsoft.com/webservices/SharePointPortalServer/UserProfileService/',\r\n            xmlns: 'http://microsoft.com/webservices/SharePointPortalServer/UserProfileService'\r\n        },\r\n        WebPartPages: {\r\n            action: 'http://microsoft.com/sharepoint/webpartpages/',\r\n            xmlns: 'http://microsoft.com/sharepoint/webpartpages'\r\n        },\r\n        Workflow: {\r\n            action: SCHEMASharePoint + '/soap/workflow/',\r\n            xmlns: SCHEMASharePoint + '/soap/workflow/'\r\n        }\r\n    };\r\n\r\n    export class WebServiceService{\r\n        action(service) {\r\n            return serviceDefinitions[service] ? serviceDefinitions[service].action : SCHEMASharePoint + '/soap/';\r\n        }\r\n        webServices = [\r\n            'Alerts',\r\n            'Authentication',\r\n            'Copy',\r\n            'Forms',\r\n            'Lists',\r\n            'Meetings',\r\n            'People',\r\n            'Permissions',\r\n            'PublishedLinksService',\r\n            'Search',\r\n            'SharePointDiagnostics',\r\n            'SiteData',\r\n            'Sites',\r\n            'SocialDataService',\r\n            'SpellCheck',\r\n            'TaxonomyClientService',\r\n            'usergroup',\r\n            'UserProfileService',\r\n            'Versions',\r\n            'Views',\r\n            'WebPartPages',\r\n            'Webs',\r\n            'Workflow'\r\n        ];\r\n        xmlns(service) {\r\n            return serviceDefinitions[service] ? serviceDefinitions[service].xmlns : SCHEMASharePoint + '/soap/';\r\n        }\r\n    }\r\n\r\n\r\n//  apWebServiceOperationConstants.OpName = [WebService, needs_SOAPAction];\r\n//      OpName              The name of the Web Service operation -> These names are unique\r\n//      WebService          The name of the WebService this operation belongs to\r\n//      needs_SOAPAction    Boolean indicating whether the operation needs to have the SOAPAction passed in the\r\n// setRequestHeaderfunction. true if the operation does a write, else false\r\n    angular.module('angularPoint')\r\n        .service('apWebServiceService', WebServiceService);\r\n\r\n}\r\n","/// <reference path=\"../app.module.ts\" />\r\n\r\nmodule ap {\r\n    'use strict';\r\n\r\n    export class XMLToJSONService {\r\n        static $inject = ['$injector'];\r\n\r\n        constructor(private $injector: ng.auto.IInjectorService) {\r\n\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name apXMLToJSONService.filterXMLNodeService\r\n         * @methodOf apXMLToJSONService\r\n         * @param {JQuery|Object} xmlObject Object to parse, can either be a jQuery object or an xml response.\r\n         * @param {string} name Name of node we're looking for.\r\n         * @description\r\n         * This method for finding specific nodes in the returned XML was developed by Steve Workman. See his blog post\r\n         * http://www.steveworkman.com/html5-2/javascript/2011/improving-javascript-xml-node-finding-performance-by-2000/\r\n         * for performance details.\r\n         * @returns {JQuery} Object with jQuery values.\r\n         */\r\n        filterNodes(xmlObject: JQuery | Object, name: string): JQuery {\r\n            //Convert to jQuery object if not already\r\n            var jQueryObject: JQuery = xmlObject instanceof jQuery ? xmlObject : $(xmlObject);\r\n\r\n            return jQueryObject.find('*').filter(function() {\r\n                return this.nodeName === name;\r\n            });\r\n        }\r\n\r\n        /**\r\n         * @ngdoc function\r\n         * @name apXMLToJSONService.parse\r\n         * @methodOf apXMLToJSONService\r\n         * @param {JQuery|XMLDocument} xmlObject Object to parse, can either be a jQuery object or an xml response.\r\n         * @param {string} name Name of node we're looking for.\r\n         * @description\r\n         * This method for finding specific nodes in the returned XML was developed by Steve Workman. See his blog post\r\n         * http://www.steveworkman.com/html5-2/javascript/2011/improving-javascript-xml-node-finding-performance-by-2000/\r\n         * for performance details.\r\n         * @returns {JQuery} Object with jQuery values.\r\n         */\r\n        parse(xmlNodeSet: JQuery, options?: IParseOptions): Object[]{\r\n            //Need to use injector because apDecode service also relies on this service so we'd otherwise have a circular dependency.\r\n            var apDecodeService: DecodeService = this.$injector.get('apDecodeService');\r\n            var defaults = {\r\n                includeAllAttrs: false, // If true, return all attributes, regardless whether they are in the mapping\r\n                mapping: {}, // columnName: mappedName: \"mappedName\", objectType: \"objectType\"\r\n                removeOws: true, // Specifically for GetListItems, if true, the leading ows_ will be stripped off the field name\r\n                sparse: false // If true, empty (\"\") values will not be returned\r\n            };\r\n\r\n            var opts: IParseOptions = _.assign({}, defaults, options);\r\n\r\n            var jsonObjectArray = [];\r\n\r\n            _.each(xmlNodeSet, (node: JQuery) => {\r\n                var row = {};\r\n                var rowAttrs = node.attributes;\r\n\r\n                if (!opts.sparse) {\r\n                    // Bring back all mapped columns, even those with no value\r\n                    _.each(opts.mapping, (column) => row[column.mappedName] = '');\r\n                }\r\n\r\n                _.each(rowAttrs, (rowAttribute) => {\r\n                    var attributeName = rowAttribute.name;\r\n                    var columnMapping = opts.mapping[attributeName];\r\n                    var objectName = typeof columnMapping !== \"undefined\" ? columnMapping.mappedName : opts.removeOws ? attributeName.split(\"ows_\")[1] : attributeName;\r\n                    var objectType = typeof columnMapping !== \"undefined\" ? columnMapping.objectType : undefined;\r\n                    if (opts.includeAllAttrs || columnMapping !== undefined) {\r\n                        row[objectName] = apDecodeService.parseStringValue(rowAttribute.value, objectType);\r\n                    }\r\n                });\r\n\r\n                // Push this item into the JSON Object\r\n                jsonObjectArray.push(row);\r\n            });\r\n\r\n            // Return the JSON object\r\n            return jsonObjectArray;\r\n\r\n        }\r\n    }\r\n\r\n    interface IParseOptions {\r\n        includeAllAttrs?: boolean;\r\n        mapping?: Object;\r\n        removeOws?: boolean;\r\n        sparse?: boolean;\r\n    }\r\n\r\n    /**\r\n     * @ngdoc service\r\n     * @name apXMLToJSONService\r\n     * @description\r\n     * This function converts an XML node set into an array of JS objects.\r\n     * This is essentially Marc Anderson's [SPServices](http://spservices.codeplex.com/) SPXmlTOJson function wrapped in\r\n     * an Angular service to make it more modular and allow for testing.\r\n     *\r\n     */\r\n    angular.module('angularPoint')\r\n        .service('apXMLToJSONService', XMLToJSONService);\r\n\r\n\r\n}\r\n"],"sourceRoot":"/source/"}