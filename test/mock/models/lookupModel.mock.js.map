{"version":3,"sources":["mock/models/lookupModel.mock.ts"],"names":["ap","ap.test","ap.test.MockLookup","ap.test.MockLookup.constructor","ap.test.MockLookupModel","ap.test.MockLookupModel.constructor","ap.test.MockLookupModel.importMocks"],"mappings":"AAAA,8CAA8C;;;;;;AAE9C,IAAO,EAAE,CA+DR;AA/DD,WAAO,EAAE;IAACA,IAAAA,IAAIA,CA+DbA;IA/DSA,WAAAA,IAAIA,EAACA,CAACA;QACZC,YAAYA,CAACA;QAEbA;YAAgCC,8BAAuBA;YACnDA,oBAAYA,GAAGA;gBACXC,iBAAOA,CAACA;gBACRA,CAACA,CAACA,MAAMA,CAACA,IAAIA,EAAEA,GAAGA,CAACA,CAACA;YACxBA,CAACA;YACLD,iBAACA;QAADA,CALAD,AAKCC,EAL+BD,EAAEA,CAACA,QAAQA,EAK1CA;QALYA,eAAUA,aAKtBA,CAAAA;QAEDA;YAAqCG,mCAAQA;YACzCA,yBAAoBA,eAAeA,EAAUA,cAAcA;gBAEvDC,gFAAgFA;gBAEhFA;oHACoGA;gBACpGA,kBAAMA;oBACFA,OAAOA,EAAEA,UAAUA;oBACnBA,IAAIA,EAAEA;wBACFA,KAAKA,EAAEA,gBAAgBA;wBACvBA,IAAIA,EAAEA,wCAAwCA;wBAC9CA,YAAYA,EAAEA;4BACVA,EAAEA,UAAUA,EAAEA,OAAOA,EAAEA,UAAUA,EAAEA,MAAMA,EAAEA,UAAUA,EAAEA,OAAOA,EAAEA,QAAQA,EAAEA,KAAKA,EAAEA;yBACpFA;qBACJA;iBACJA,CAACA,CAACA;gBAfaA,oBAAeA,GAAfA,eAAeA,CAAAA;gBAAUA,mBAAcA,GAAdA,cAAcA,CAAAA;gBAiBvDA,IAAIA,KAAKA,GAAGA,IAAIA,CAACA;gBAEjBA,qFAAqFA;gBAErFA;;;;mBAIGA;gBACHA,KAAKA,CAACA,aAAaA,CAACA;oBAChBA,IAAIA,EAAEA,SAASA;oBACfA,UAAUA,EAAEA,mBAAmBA;oBAC/BA,KAAKA,EAAEA,EAAEA;wBACTA,SAASA;wBACTA,cAAcA;wBACdA,+CAA+CA;wBAC/CA,eAAeA;wBACfA,UAAUA;iBACbA,CAACA,CAACA;YAGPA,CAACA;YACDD,qCAAWA,GAAXA;gBACIE,IAAIA,YAAYA,GAAGA,IAAIA,CAACA,QAAQA,CAACA,SAASA,CAACA,CAACA;gBAC5CA,YAAYA,CAACA,KAAKA,EAAEA,CAACA;gBACrBA,IAAIA,CAACA,eAAeA,CAACA,gBAAgBA,CAACA,IAAIA,EAAEA,IAAIA,CAACA,QAAQA,CAACA,SAASA,CAACA,EAAEA,IAAIA,CAACA,cAAcA,CAACA,2BAA2BA,EAAEA;oBACnHA,MAAMA,EAAEA,YAAYA;iBACvBA,CAACA,CAACA;gBACHA,MAAMA,CAACA,YAAYA,CAACA;YACxBA,CAACA;YACLF,sBAACA;QAADA,CAhDAH,AAgDCG,EAhDoCH,EAAEA,CAACA,KAAKA,EAgD5CA;QAhDYA,oBAAeA,kBAgD3BA,CAAAA;QAEDA,OAAOA,CAACA,MAAMA,CAACA,cAAcA,CAACA;aACzBA,OAAOA,CAACA,iBAAiBA,EAAEA,eAAeA,CAACA,CAACA;IAErDA,CAACA,EA/DSD,IAAIA,GAAJA,OAAIA,KAAJA,OAAIA,QA+DbA;AAADA,CAACA,EA/DM,EAAE,KAAF,EAAE,QA+DR","file":"mock/models/lookupModel.mock.js","sourcesContent":["/// <reference path=\"../app.module.mock.ts\" />\n\nmodule ap.test {\n    'use strict';\n\n    export class MockLookup extends ap.ListItem<MockLookup>{\n        constructor(obj) {\n            super();\n            _.assign(this, obj);\n        }\n    }\n\n    export class MockLookupModel extends ap.Model {\n        constructor(private apDecodeService, private mockXMLService) {\n\n            /********************* Model Definition ***************************************/\n\n            /** Model Constructor\n             *  Also passes list to List constructor to build viewFields (XML definition of fields to return) */\n            super({\n                factory: MockLookup,\n                list: {\n                    title: 'MockLookupList', /**Maps to the offline XML file in dev folder (no spaces) */\n                    guid: '{D2448413-D9AE-4FE4-A499-1D8FE7201FDA}', /**List GUID can be found in list properties in SharePoint designer */\n                    customFields: [\n                        { staticName: \"Title\", objectType: \"Text\", mappedName: \"title\", readOnly: false }\n                    ]\n                }\n            });\n\n            var model = this;\n\n            /*********************************** Queries ***************************************/\n\n            /** Fetch data (pulls local xml if offline named model.list.title + '.xml')\n             *  Initially pulls all requested data.  Each subsequent call just pulls records that have been changed,\n             *  updates the model, and returns a reference to the updated data array\n             * @returns {Array} Requested list items\n             */\n            model.registerQuery({\n                name: 'primary',\n                offlineXML: '../MockLookup.xml',\n                query: '' +\n                '<Query>' +\n                '   <OrderBy>' +\n                '       <FieldRef Name=\"ID\" Ascending=\"TRUE\"/>' +\n                '   </OrderBy>' +\n                '</Query>'\n            });\n\n\n        }\n        importMocks() {\n            var primaryCache = this.getCache('primary');\n            primaryCache.clear();\n            this.apDecodeService.processListItems(this, this.getQuery('primary'), this.mockXMLService.lookupItemsSinceChangeToken, {\n                target: primaryCache\n            });\n            return primaryCache;\n        }\n    }\n\n    angular.module('angularPoint')\n        .service('mockLookupModel', MockLookupModel);\n\n} "],"sourceRoot":"/source/"}