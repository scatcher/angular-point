{"version":3,"sources":["mock/models/mockModel.mock.ts"],"names":["ap","ap.MockListItem","ap.MockListItem.constructor","ap.MockModel","ap.MockModel.constructor","ap.MockModel.getField","ap.MockModel.importMocks"],"mappings":"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","file":"mock/models/mockModel.mock.js","sourcesContent":["/// <reference path=\"../app.module.mock.ts\" />\r\n\r\nmodule ap {\r\n    'use strict';\r\n\r\n    export class MockListItem extends ap.ListItem<MockListItem>{\r\n        attachments: string[];\r\n        boolean: boolean;\r\n        calculated: string;\r\n        choice: string;\r\n        currency: number;\r\n        date: Date;\r\n        dateTime: Date;\r\n        integer: number;\r\n        float: number;\r\n        html: string;\r\n        hyperlink: string;\r\n        json: Object;\r\n        lookup: ILookup;\r\n        lookupMulti: ILookup[];\r\n        multiChoice: string[];\r\n        note: string;\r\n        picture: string;\r\n        title: string;\r\n        user: IUser;\r\n        userMulti: IUser[];\r\n        constructor(obj) {\r\n            super();\r\n            _.assign(this, obj);\r\n        }\r\n    }\r\n\r\n    export class MockModel extends ap.Model {\r\n        constructor(private $httpBackend, private apCacheService) {\r\n\r\n            /********************* Model Definition ***************************************/\r\n\r\n            /** Model Constructor\r\n             *  Also passes list to List constructor to build viewFields (XML definition of fields to return) */\r\n            super({\r\n                factory: MockListItem,\r\n                list: {\r\n                    title: 'MockList',\r\n                    /**Maps to the offline XML file in dev folder (no spaces) */\r\n                    guid: '{F5345FE7-2F7C-49F7-87D0-DBFEBDD0CE61}',\r\n                    /**List GUID can be found in list properties in SharePoint designer */\r\n                    customFields: [\r\n                        { staticName: \"Title\", objectType: \"Text\", mappedName: \"title\", readOnly: false },\r\n                        // Has required = true to test field validation.\r\n                        {\r\n                            staticName: \"Boolean\",\r\n                            objectType: \"Boolean\",\r\n                            mappedName: \"boolean\",\r\n                            readOnly: false,\r\n                            required: true\r\n                        },\r\n                        { staticName: \"Calculated\", objectType: \"Calculated\", mappedName: \"calculated\", readOnly: true },\r\n                        { staticName: \"Choice\", objectType: \"Choice\", mappedName: \"choice\", readOnly: false },\r\n                        {\r\n                            staticName: 'MultiChoice',\r\n                            objectType: 'MultiChoice',\r\n                            mappedName: 'multiChoice',\r\n                            readOnly: false\r\n                        },\r\n                        { staticName: \"Currency\", objectType: \"Currency\", mappedName: \"currency\", readOnly: false },\r\n                        { staticName: \"Date\", objectType: \"DateTime\", mappedName: \"date\", readOnly: false },\r\n                        { staticName: \"DateTime\", objectType: \"DateTime\", mappedName: \"dateTime\", readOnly: false },\r\n                        { staticName: \"Integer\", objectType: \"Integer\", mappedName: \"integer\", readOnly: false },\r\n                        { staticName: 'Float', objectType: 'Float', mappedName: 'float', readOnly: false },\r\n                        { staticName: 'HTML', objectType: 'HTML', mappedName: 'html', readOnly: false },\r\n                        { staticName: \"JSON\", objectType: \"JSON\", mappedName: \"json\", readOnly: false },\r\n                        { staticName: \"Lookup\", objectType: \"Lookup\", mappedName: \"lookup\", readOnly: false },\r\n                        {\r\n                            staticName: \"LookupMulti\",\r\n                            objectType: \"LookupMulti\",\r\n                            mappedName: \"lookupMulti\",\r\n                            readOnly: false\r\n                        },\r\n                        { staticName: 'Note', objectType: 'Note', mappedName: 'note', readOnly: false },\r\n                        { staticName: \"User\", objectType: \"User\", mappedName: \"user\", readOnly: false },\r\n                        { staticName: \"UserMulti\", objectType: \"UserMulti\", mappedName: \"userMulti\", readOnly: false },\r\n                        { staticName: 'Hyperlink', objectType: 'Hyperlink', mappedName: 'hyperlink', readOnly: false },\r\n                        { staticName: 'Picture', objectType: 'Picture', mappedName: 'picture', readOnly: false },\r\n                        { staticName: 'Attachments', objectType: 'Attachments', mappedName: 'attachments', readOnly: false }\r\n                    ]\r\n                }\r\n            });\r\n\r\n            var model = this;\r\n\r\n            /*********************************** Queries ***************************************/\r\n\r\n            /** Fetch data (pulls local xml if offline named model.list.title + '.xml')\r\n             *  Initially pulls all requested data.  Each subsequent call just pulls records that have been changed,\r\n             *  updates the model, and returns a reference to the updated data array\r\n             * @returns {Array} Requested list items\r\n             */\r\n            model.registerQuery({\r\n                name: 'primary'\r\n            });\r\n\r\n            model.registerQuery({\r\n                name: 'secondary'\r\n            });\r\n\r\n        }\r\n\r\n        getField(name) {\r\n            return _.find(this.list.fields, { mappedName: name });\r\n        }\r\n\r\n        importMocks () {\r\n                var primaryCache = this.getCache('primary');\r\n                var secondaryCache = this.getCache('secondary');\r\n                primaryCache.clear();\r\n                secondaryCache.clear();\r\n\r\n                /** Clear out model cache */\r\n                _.each(this.apCacheService.entityCache, (val, key) => {\r\n                    delete this.apCacheService.entityCache[key];\r\n                });\r\n                this.executeQuery('primary');\r\n                this.executeQuery('secondary');\r\n                this.$httpBackend.flush();\r\n            }\r\n    }\r\n\r\n\r\n    angular.module('angularPoint')\r\n        .service('mockModel', MockModel);\r\n\r\n}"],"sourceRoot":"/source/"}