{"version":3,"sources":["mock/models/mockModel.mock.ts"],"names":["ap","ap.MockListItem","ap.MockListItem.constructor","ap.MockModel","ap.MockModel.constructor","ap.MockModel.getField","ap.MockModel.importMocks"],"mappings":"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","file":"mock/models/mockModel.mock.js","sourcesContent":["/// <reference path=\"../app.module.mock.ts\" />\n\nmodule ap {\n    'use strict';\n\n    export class MockListItem extends ap.ListItem<MockListItem>{\n        attachments: string[];\n        boolean: boolean;\n        calculated: string;\n        choice: string;\n        currency: number;\n        date: Date;\n        dateTime: Date;\n        integer: number;\n        float: number;\n        html: string;\n        hyperlink: string;\n        json: Object;\n        lookup: ILookup;\n        lookupMulti: ILookup[];\n        multiChoice: string[];\n        note: string;\n        picture: string;\n        title: string;\n        user: IUser;\n        userMulti: IUser[];\n        constructor(obj) {\n            super();\n            _.assign(this, obj);\n        }\n    }\n\n    export class MockModel extends ap.Model {\n        constructor(private $httpBackend, private apCacheService) {\n\n            /********************* Model Definition ***************************************/\n\n            /** Model Constructor\n             *  Also passes list to List constructor to build viewFields (XML definition of fields to return) */\n            super({\n                factory: MockListItem,\n                list: {\n                    title: 'MockList',\n                    /**Maps to the offline XML file in dev folder (no spaces) */\n                    guid: '{F5345FE7-2F7C-49F7-87D0-DBFEBDD0CE61}',\n                    /**List GUID can be found in list properties in SharePoint designer */\n                    customFields: [\n                        { staticName: \"Title\", objectType: \"Text\", mappedName: \"title\", readOnly: false },\n                        // Has required = true to test field validation.\n                        {\n                            staticName: \"Boolean\",\n                            objectType: \"Boolean\",\n                            mappedName: \"boolean\",\n                            readOnly: false,\n                            required: true\n                        },\n                        { staticName: \"Calculated\", objectType: \"Calculated\", mappedName: \"calculated\", readOnly: true },\n                        { staticName: \"Choice\", objectType: \"Choice\", mappedName: \"choice\", readOnly: false },\n                        {\n                            staticName: 'MultiChoice',\n                            objectType: 'MultiChoice',\n                            mappedName: 'multiChoice',\n                            readOnly: false\n                        },\n                        { staticName: \"Currency\", objectType: \"Currency\", mappedName: \"currency\", readOnly: false },\n                        { staticName: \"Date\", objectType: \"DateTime\", mappedName: \"date\", readOnly: false },\n                        { staticName: \"DateTime\", objectType: \"DateTime\", mappedName: \"dateTime\", readOnly: false },\n                        { staticName: \"Integer\", objectType: \"Integer\", mappedName: \"integer\", readOnly: false },\n                        { staticName: 'Float', objectType: 'Float', mappedName: 'float', readOnly: false },\n                        { staticName: 'HTML', objectType: 'HTML', mappedName: 'html', readOnly: false },\n                        { staticName: \"JSON\", objectType: \"JSON\", mappedName: \"json\", readOnly: false },\n                        { staticName: \"Lookup\", objectType: \"Lookup\", mappedName: \"lookup\", readOnly: false },\n                        {\n                            staticName: \"LookupMulti\",\n                            objectType: \"LookupMulti\",\n                            mappedName: \"lookupMulti\",\n                            readOnly: false\n                        },\n                        { staticName: 'Note', objectType: 'Note', mappedName: 'note', readOnly: false },\n                        { staticName: \"User\", objectType: \"User\", mappedName: \"user\", readOnly: false },\n                        { staticName: \"UserMulti\", objectType: \"UserMulti\", mappedName: \"userMulti\", readOnly: false },\n                        { staticName: 'Hyperlink', objectType: 'Hyperlink', mappedName: 'hyperlink', readOnly: false },\n                        { staticName: 'Picture', objectType: 'Picture', mappedName: 'picture', readOnly: false },\n                        { staticName: 'Attachments', objectType: 'Attachments', mappedName: 'attachments', readOnly: false }\n                    ]\n                }\n            });\n\n            var model = this;\n\n            /*********************************** Queries ***************************************/\n\n            /** Fetch data (pulls local xml if offline named model.list.title + '.xml')\n             *  Initially pulls all requested data.  Each subsequent call just pulls records that have been changed,\n             *  updates the model, and returns a reference to the updated data array\n             * @returns {Array} Requested list items\n             */\n            model.registerQuery({\n                name: 'primary'\n            });\n\n            model.registerQuery({\n                name: 'secondary'\n            });\n\n        }\n\n        getField(name) {\n            return _.find(this.list.fields, { mappedName: name });\n        }\n\n        importMocks () {\n                var primaryCache = this.getCache('primary');\n                var secondaryCache = this.getCache('secondary');\n                primaryCache.clear();\n                secondaryCache.clear();\n\n                /** Clear out model cache */\n                _.each(this.apCacheService.entityCache, (val, key) => {\n                    delete this.apCacheService.entityCache[key];\n                });\n                this.executeQuery('primary');\n                this.executeQuery('secondary');\n                this.$httpBackend.flush();\n            }\n    }\n\n\n    angular.module('angularPoint')\n        .service('mockModel', MockModel);\n\n}"],"sourceRoot":"/source/"}